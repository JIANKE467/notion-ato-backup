
## 1.单个数码管（静态驱动）

单个数码管指的是显示一个数字的，而不是一个数码管内有多个数字


单个数码管可以直接驱动（无需译码器）（静态驱动）


给相应段编号的led高/低电平即可（参照数码管规格书，原理图）（当led处理即可）


![%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE_2025-07-25_210810.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/aee310ed-8d60-40a9-8fe4-02f7ecb86aea/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE_2025-07-25_210810.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RQR3AXRX%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041008Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQDdICJziDEtgqnyJ5mCGZbApROKdtzwcYAHwHmpdUvk0AIhAL%2FOHVvni1SUfn96fvgmgRqX0lY9q%2Fw4fajR742z%2FWqtKv8DCDUQABoMNjM3NDIzMTgzODA1Igz88Q2F1ysi67AfNMoq3AM%2FxXBRt211ChleqMvli9dneS%2F%2Bbr8Gl2r49rwWPAUyZr%2BnZWZYK70kM%2BgTIVinh3oO7m38zOzamwFxUhREZQ8YZbZuL9vP44EPnM2M%2BTOZvkXzdyqXslZMW4A9V9Bpn7%2F4eUZp21DJCl8aPUzHE8i4I1B%2FlKfl3i25D2TiA3fV5tz8eibefvwNRAEQvsEfY5IzKb5DXUDJGkqyiMjMR2EtoS4MgCPMOBfg%2Brkj9i3Xy5i%2FxbBgPZmjOe3H7jcMHDzdMh5UX%2BZupHS08Hy09ZiKy5Tk96aEeB1b0j%2BM43XuKYa9CDoExl%2B4qUEExouXBV58%2BMDA5HlpP%2B961VQ4cGB5BaEer1JW2ZcycCmBZcIKHXRMzRujn80Sh6f9UI4PIbwoap%2FU3FbjrhfuSUlKNhOVod6bdhhg1tvDrGk2vXItdtJH46gYOJWTgelnW3uGweiKmlVzwlhLGRsNZsZWin8jG%2BCmKEMs7fncWZ1duHQmxxP9EVBjjQ3zspnn7EhKTNVMQukm90Iccc%2FMzbL6FThmoMbXwqbfwMjE7R9UhKHUl9vxujd61u1F3WDmDgnCCK82XLTMB7oC5gJAbleBPBzLDow%2BEtC%2F%2F4wDQXyYNHHR6W5ksnL2flPG%2FLOgHzC08LLKBjqkAchKr83nJehRTJ92yvC2BcJuAf2K%2BicsLK5xwITtgN34eZqEWDcSACkdbgBdaK25GcMF1dgm49P79Cr%2BhFyvsw28o4kcfjtm0rRQ3rQ4ZR%2BS%2FkBiPX049jBS1yG%2FQorBiFT%2FuX4CZVyrY3jcEEQm3Y5TeyTWjdLWnCCU5UYV3azpBwTBWyp%2B7fogNUrMu4NQoONtHYQJoPJQPAXpMl9Fj9Z59Ztf&X-Amz-Signature=ff172d54bde85fad597f29f0aae7ab03f6dc45073f86de5d6f698b89502e8659&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ab646abc-c8b3-4e80-86f2-1c35de6af226/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RQR3AXRX%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041008Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQDdICJziDEtgqnyJ5mCGZbApROKdtzwcYAHwHmpdUvk0AIhAL%2FOHVvni1SUfn96fvgmgRqX0lY9q%2Fw4fajR742z%2FWqtKv8DCDUQABoMNjM3NDIzMTgzODA1Igz88Q2F1ysi67AfNMoq3AM%2FxXBRt211ChleqMvli9dneS%2F%2Bbr8Gl2r49rwWPAUyZr%2BnZWZYK70kM%2BgTIVinh3oO7m38zOzamwFxUhREZQ8YZbZuL9vP44EPnM2M%2BTOZvkXzdyqXslZMW4A9V9Bpn7%2F4eUZp21DJCl8aPUzHE8i4I1B%2FlKfl3i25D2TiA3fV5tz8eibefvwNRAEQvsEfY5IzKb5DXUDJGkqyiMjMR2EtoS4MgCPMOBfg%2Brkj9i3Xy5i%2FxbBgPZmjOe3H7jcMHDzdMh5UX%2BZupHS08Hy09ZiKy5Tk96aEeB1b0j%2BM43XuKYa9CDoExl%2B4qUEExouXBV58%2BMDA5HlpP%2B961VQ4cGB5BaEer1JW2ZcycCmBZcIKHXRMzRujn80Sh6f9UI4PIbwoap%2FU3FbjrhfuSUlKNhOVod6bdhhg1tvDrGk2vXItdtJH46gYOJWTgelnW3uGweiKmlVzwlhLGRsNZsZWin8jG%2BCmKEMs7fncWZ1duHQmxxP9EVBjjQ3zspnn7EhKTNVMQukm90Iccc%2FMzbL6FThmoMbXwqbfwMjE7R9UhKHUl9vxujd61u1F3WDmDgnCCK82XLTMB7oC5gJAbleBPBzLDow%2BEtC%2F%2F4wDQXyYNHHR6W5ksnL2flPG%2FLOgHzC08LLKBjqkAchKr83nJehRTJ92yvC2BcJuAf2K%2BicsLK5xwITtgN34eZqEWDcSACkdbgBdaK25GcMF1dgm49P79Cr%2BhFyvsw28o4kcfjtm0rRQ3rQ4ZR%2BS%2FkBiPX049jBS1yG%2FQorBiFT%2FuX4CZVyrY3jcEEQm3Y5TeyTWjdLWnCCU5UYV3azpBwTBWyp%2B7fogNUrMu4NQoONtHYQJoPJQPAXpMl9Fj9Z59Ztf&X-Amz-Signature=0398fe75b31431ce64ab89bbd180a78a9349b8bf669958a1508dee064f2e8bcb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


为了减少引脚数量，数码管的VCC/GND是全部连接到一个引脚上的，分别有共阳型与共阴型


## 具体实现方法


以多个数码管为一组的器件为例：（需要译码器）（译码器为74LS138）“38译码器”


思路：将数码管显示数字与数码管显示位数用单独的函数表示（这样代码更加清晰）


方法1：缺点：（数组内的元素是二进制/十六进制，不能一目了然对应显示的是哪个字符）

1. 定义一个函数，参数为数码管显示第几位和该位的显示数字/字符
2. 用多分支语句实现显示第几位的设置（对译码器输入值的设置）（详见[译码器74LS138](https://www.notion.so/23b5a2dd827680a7acf9ced1b971a4f7#23b5a2dd8276806fbbb9e6075cdd3702) ）
3. 用数组存储要显示的字符对应的二进制码
4. 用赋值语句将相应二进制码放入与数码管（非公共端）相连的寄存器中（调用数组）

方法2：（建议）

1. 定义一个函数，参数为数码管显示第几位和该位的显示数字/字符
2. 用多分支语句实现显示第几位的设置（对译码器输入值的设置）（详见[译码器74LS138](https://www.notion.so/23b5a2dd827680a7acf9ced1b971a4f7#23b5a2dd8276806fbbb9e6075cdd3702) ）
3. 用多分支语句实现该位显示字符的设置

## 2.多个数码管

多个数码管直接驱动需要占用太多 IO 口


因此，需要译码器


原理：


动态驱动是将所有数码管的8个显示笔划"a,b,c,d,e,f,g,dp"的同名端连在一起，另外为每个数码管的公共极COM增加位选通控制电路，位选通由各自独立的I/O线控制，当单片机输出字形码时，单片机对位选通COM端电路的控制，所以我们只要将需要显示的数码管的选通控制打开，该位就显示出字形，没有选通的数码管就不会亮。通过分时轮流控制各个数码管的的COM端，就使各个数码管轮流受控显示，这就是动态驱动


总结：


给共阳极/共阴极加控制电路，将相同段号连接到一起，快速将各个数码管逐个点亮


## 译码器74LS138


![译码器74LS138](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c808b96-7c82-4aa3-8e9b-5ee496c21764/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE_2025-07-25_221035.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZYW4MEPC%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041009Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCfYQhi6D8jMZbb1aMVJ8FZD02rXbYsWmXUIY2LHhOGDAIhAKp0qJq3LvVh3S5u5ps5KxeSq5MFgqh8n9luRs2iifPXKv8DCDUQABoMNjM3NDIzMTgzODA1IgwZrq%2BXMQRkbu0j7WYq3AP9o7vhbcXkHaLVbzDz1I6jhzbVF2qlOl2S696OJC1tY8Pzk3vSR6b%2FfVtxdrXoGRe1o2wBf9KvWDJyJ2YnvD8SJF6YyAs%2FqHUcMsxAqquUJoPCtmOwCli5%2FEGq87c1gbQL9I7Nm7Ct7kJtpilqQG3RNmWG3GEpE7d7anUtGmjntZ9G0GZ0zlyUMNI0RwHV2053zr1VgYCFCLzKudp4tq973O1ITOKFqRYDZv8jBHI2hGLHvQFBUQrGISQvlGbNyb7R37TyxiZhVRqUxt3TcOj9PH3X5y2mL%2BBhgIR5feSTpz7NeV6tTys0030ZYW7Zu62%2Fe9569DmsV%2FbXc%2BVqtKGn0cV1qgW9Pg71fu8h27ezXQepRFSiEUGP7j8XxpYelVzMOOgnVNajXC71%2B4k4tIY9MbGqSKkdGnFjHKXXCyOcC52lMFKzSJh59qqH%2B6307%2FojDfPVmHdqfJP5ofAXEfpXDg7u%2FlBtdKmKzA%2FdiPXIUkH%2FfOtybImg47%2FfL%2BYndm9N%2F7CD4i0W1nifdKYP%2BIMibYxAR8%2BgohJWsIRpga8zby%2BpagezwRu2A7AXGhrO0F3h4DGNBtrjpIvp9rqcqifmHnKFXxAJ35YHz8kQz%2BKMp%2BZ1q5a7oI2gNDgXzzDH77LKBjqkAeKvGbaKdSBPQjnH1KZFyc0P2YUNHPDB8kWhnztvu7WvbBjInqiWzMfw3ESIr8cfl3Y8P2%2BE5HiEizT7V9vUBU0pKXM4mNnYPlrtClNmelk2Jef%2FiJiN8yKFOWx5mUrP4FCaTVE%2F6QnUyle9L75gbVVI0d5oWhP0LDpU0OjPihrN9cjvYwyE52K22x6AWszOB2P7d3pqWXq5GrUZ6tDKC1gm1GEk&X-Amz-Signature=96252687effda24e9e9b0f8787825995b079fed14bbef323364f2255c8543c64&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


用法：（输入端输入的二进制信号转为十进制的值表示了输出端几号引脚接通到GND）


A,B,C：输入端


Y0-Y7 输出端，接LED的公共端COM（共阴/共阳极）


G1,G2A,G2B：使能端，G1高电平，G2A,G2B低电平时该器件工作


## 缓冲器74HC245


![双向缓冲器74HC245](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/7f09d0ac-b5a0-46f5-b935-043ab251fd6c/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZYW4MEPC%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041009Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCfYQhi6D8jMZbb1aMVJ8FZD02rXbYsWmXUIY2LHhOGDAIhAKp0qJq3LvVh3S5u5ps5KxeSq5MFgqh8n9luRs2iifPXKv8DCDUQABoMNjM3NDIzMTgzODA1IgwZrq%2BXMQRkbu0j7WYq3AP9o7vhbcXkHaLVbzDz1I6jhzbVF2qlOl2S696OJC1tY8Pzk3vSR6b%2FfVtxdrXoGRe1o2wBf9KvWDJyJ2YnvD8SJF6YyAs%2FqHUcMsxAqquUJoPCtmOwCli5%2FEGq87c1gbQL9I7Nm7Ct7kJtpilqQG3RNmWG3GEpE7d7anUtGmjntZ9G0GZ0zlyUMNI0RwHV2053zr1VgYCFCLzKudp4tq973O1ITOKFqRYDZv8jBHI2hGLHvQFBUQrGISQvlGbNyb7R37TyxiZhVRqUxt3TcOj9PH3X5y2mL%2BBhgIR5feSTpz7NeV6tTys0030ZYW7Zu62%2Fe9569DmsV%2FbXc%2BVqtKGn0cV1qgW9Pg71fu8h27ezXQepRFSiEUGP7j8XxpYelVzMOOgnVNajXC71%2B4k4tIY9MbGqSKkdGnFjHKXXCyOcC52lMFKzSJh59qqH%2B6307%2FojDfPVmHdqfJP5ofAXEfpXDg7u%2FlBtdKmKzA%2FdiPXIUkH%2FfOtybImg47%2FfL%2BYndm9N%2F7CD4i0W1nifdKYP%2BIMibYxAR8%2BgohJWsIRpga8zby%2BpagezwRu2A7AXGhrO0F3h4DGNBtrjpIvp9rqcqifmHnKFXxAJ35YHz8kQz%2BKMp%2BZ1q5a7oI2gNDgXzzDH77LKBjqkAeKvGbaKdSBPQjnH1KZFyc0P2YUNHPDB8kWhnztvu7WvbBjInqiWzMfw3ESIr8cfl3Y8P2%2BE5HiEizT7V9vUBU0pKXM4mNnYPlrtClNmelk2Jef%2FiJiN8yKFOWx5mUrP4FCaTVE%2F6QnUyle9L75gbVVI0d5oWhP0LDpU0OjPihrN9cjvYwyE52K22x6AWszOB2P7d3pqWXq5GrUZ6tDKC1gm1GEk&X-Amz-Signature=e81bdab380ccc94583a3ee8700f4dafa2b23905d88011bf61e1493a79d36a043&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


作用：单片机IO口供电能力有限，通过该器件增强电流


DIR：改变输入输出方向，高电平从A0~7输入，B0~7输出，低电平从B0~7输入，A0~7输出


A0~7,B0~7:输入/输出

