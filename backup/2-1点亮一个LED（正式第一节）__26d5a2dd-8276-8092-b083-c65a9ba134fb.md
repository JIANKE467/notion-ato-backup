
# 实验1（点亮LED）

1. 打开keil→project→new uvision project（新建项目文件）→选择MCU型号→project中选择target1→右键source group1→add new….
2. 代码

```c
#include <REGX52.H>
void main ()
{
  p2=0xFE//11111110;
}
```


### 原理


查看原理图，看要点亮的LED与那个寄存器相连，修改寄存器内的值以改变LED亮灭状态


解释：


<REGX52.H>是定义stc89c52单片机寄存器的头文件


注意⚠️：

1. 如果LED是共阳接法，寄存器的值与实际亮灭状态是相反的
2. 给寄存器赋值要用16进制，不能直接用二进制，否则会被当成10进制处理

PS：手头的开发板不仅是共阳接法，寄存器标号也标反了😅😅😅


keil默认不生成hex文件，需要点这个


![1000019204.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/67e0563f-9ee4-46af-85e3-bbd79635cb04/1000019204.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664LW7W3R3%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040348Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIF6lgzOPy7mWapHnCIFJhV0k4ezaQIr6SsV%2B7b66UnuaAiAk4wfr9eaFWPxZpZwiahMUdJDfBTS%2BSKYZzTGLey3H8yqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMk5zqGwD2%2Fw2Z6Zv3KtwDAs6%2FUStU6BFtcnuulIAbiYkdwzysj6OvV6c48GBPjdXhfkw36V5spU5e6GJCF0g1457dkzqB4ootzKRD7M0KfYZOr1WlXxcNY3i4mRYOLqJqm4mHY51n4ZHHiXVkgIWIAOO1YnjopL6a%2BfpFwHXoKMRvqRIUEnwyq4U7L4%2BMNLy1GbULHFbNtx5mI1jkGvsPqaImpQUaw21CbhvP8U8duvqcqQ%2FgFz2ROjJ0ros0rxuyvTcIcXXVIMV1lKFoML0qGLE3Q0FlcjheA01N6kPwFbV7JNleV%2BtuJrTcdafF4Ji7iZHaXHiqSKXB97C7mFHKhgevdfplmJgNUJbUSq8j3Mv0abA%2F0GGB5%2B5r6LJtDNUOFEhR19UAxYgyrBlYLgeksyA9a%2B2R8PUuB9MLSKD2Fl2%2FratAEloYS6D%2B3PYZXYTwrJmT6sIpxGkKTXOSrgy3hQZQa3lGRcZaKvW71q7WJv7PIygqAINl5wzrgES6x9iNbP6aB3L6YLiXnGFGNFMJWVj2QZIE1ACPE2TQ%2F9HV9S%2Beq8s%2BJq6TKerJBam9LsvgnMDR4vAyDW7e0JUJa8SUfOvb1wOTDxvzKZ67Z7G%2FGyo0r6VMadGzFtpE2v%2Fy67L%2BaURe8fG%2F%2BdEhG7Yw3oLZyQY6pgGiEQC6oCqP%2BRW3qYzvwHqWZECSKRIEyKFKslr5edZEZOlpkAhaPYuaa%2BEtnBRX48I1X0CHwygS7Y7m2sk9oenAlsjiJX%2F3VfcKRTqCiPP005aAp3Aqp6xPAfd%2BLVi1J38x%2Ffs7Rm8n4nJZfGOW4Boxn6wU0n%2BjHYJPXt%2FsFx3I6MjnGEE4lm2VTrYs1tKZxHQ1Ho0ga4kfCJhs7WLOoRJRcfyxfH6z&X-Amz-Signature=224eb074440e5d2fae93a3fd9d5e1209fa4aa709dfbd91c71575ce5b217edbfb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


在output中勾选create hex file后点击OK


# 实验二（让程序持续运行）


在最外层写一个死循环阻止程序退出


```c
#include <REGX52.H>
void main ()
{ 
 while(1)
  {
    p2=0xFE//11111110;
  }
}
```

