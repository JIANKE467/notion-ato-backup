
# 实验1（点亮LED）

1. 打开keil→project→new uvision project（新建项目文件）→选择MCU型号→project中选择target1→右键source group1→add new….
2. 代码

```c
#include <REGX52.H>
void main ()
{
  p2=0xFE//11111110;
}
```


### 原理


查看原理图，看要点亮的LED与那个寄存器相连，修改寄存器内的值以改变LED亮灭状态


解释：


<REGX52.H>是定义stc89c52单片机寄存器的头文件


注意⚠️：

1. 如果LED是共阳接法，寄存器的值与实际亮灭状态是相反的
2. 给寄存器赋值要用16进制，不能直接用二进制，否则会被当成10进制处理

PS：手头的开发板不仅是共阳接法，寄存器标号也标反了😅😅😅


keil默认不生成hex文件，需要点这个


![1000019204.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/67e0563f-9ee4-46af-85e3-bbd79635cb04/1000019204.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VMDNU27H%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040844Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIECr%2B%2BEm48WiXKrDX03yzXLEy6J0jamt8jRwlCSBn7knAiEAidDt%2FmCmfFDY6GPSzk5AtapVPKUWOJ5XIIrq8t1GoSgq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDE%2F%2B9U2eZD4GTd5hUircA5vCZD733KxuzVW25p41ss7B5vPoevObeKFLAKn5u9YT4vXnkgzMR95mefmw4gNtQQ554atarY9R2CQOvLjVSFyJ2weRZ%2BM4ONX0Dd9wwb41ysOvIhXTBunKzWXBdjtnjmLka8cE5keBIMblHVu2xatBIZOrv5wWEjMWDPypxk9TwLXRhsI8gXUo5EKRU0KwIWnbfZ2btC9FCEAuFruNs7M2BqBmQW8aiZfjIWmm9%2FYsWDALWhSobw6NPQMFvqv5PQjM6RrVLR83NMBROhMa2FHVbUH4rfBhU3GkClxNOfWN1RU2%2Bq7B5uCGo6bDcma9UwyOdIeWvuTL1I4qK3jtbzFClx%2FEjAS%2FGzWurbGpqVsKTJIF1p9hDpmUMGMF6Bv0YCxXq7rVeg656D%2Fc2rA%2FcQoUJTIKKAyEtxMzZ4PYxYi2Fb7j5xD8HixGD6UVd9m4VYCSTFs%2FobyBF31pydE8AE0Wsq4niCXJK6YuEeMK3ZziXyYwEpRjn3PM2EFT562jv2dA9d9ZNLwbYyz5vcpOIV7T6dCcym88x8H2NphMtkhYJlt%2FmnU3mQrzYYqfokGH%2FGAz%2FwPCtqHrOxHkg4aXruvWzQR5nNYL7pRV3fgJ2Je%2F%2FQgquVR6Jgn7dj%2FTML%2BeqMoGOqUBvDbYdW1alQ4jbLtFFYIWT655Pg0GdrfSqhbhg%2Fmy4MbpJ2sqmd7SnhoZO3Rimef2pZOnbKJqUvyHCa2hByJg71wOSyiN8OxIr8BTfuzuPWVoW%2BftFTaa6qgdcwSQlONgwDMRIIiQi0O7eKm3quozflMBvQe773uXrYMifbn1WPHucb73mTQ6qYYlCD3QYD%2FqIxRCK6TZ5Qf1yYyFiXdDIwqVP6Rr&X-Amz-Signature=00c19337c60299747e9f8650826c185b539cca47c34c5127e73ebe0480d0ad9b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


在output中勾选create hex file后点击OK


# 实验二（让程序持续运行）


在最外层写一个死循环阻止程序退出


```c
#include <REGX52.H>
void main ()
{ 
 while(1)
  {
    p2=0xFE//11111110;
  }
}
```

