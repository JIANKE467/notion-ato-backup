
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U7KPU6S4%2F20260120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260120T041814Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC6lwgNrklIlly5Ro2yZ7iZzY9kt9m6IPtIoj1ZECMAFgIhAJLDCRfZGVe61EctD2tk%2BtQoLsx4ATo22xjwcaxaM%2BkiKogECKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwBomh%2BKcFAoKp0XHEq3AOPY53s5B996LGywnnSIqfnWRCV4zS%2BnPw3Y3yt9xzQVR6bDS%2BZOXVaZKpDBbEQ%2F4n6OV8NpSCNUMqrbh4AuLdZOhk6OfB4VqUMv7tgjZ6aIPEEmkxr3bkbeAE3evwElCtIc24fOCVhDI5s%2B%2FVU3zo%2BicwMmtinGGCKvpMBscP71Srh%2FUmXVuF7Et4xfd7TuWnq7%2BlNSQRw5EjNTfgeGj%2BwNPdVW86HmfP3jFgDg2l%2BVCSKIXGh%2F8jh9tIs1OSoBaexmIBRsj4UfzqwA68XoDMTiKI0AQTEOA7cwRkiS8z%2FGTkwWNH6jbF6HKqclmBFWmGk5CdChKM4MiJh%2BxnS7VaKSNr2Xsg7YE8DTVazvd%2BXW%2BALWSqwecNFtGC7ibmGJc2GgM3rKeLVmUKzCjknAtZ4%2FR%2FJSBeHh%2FJNVO51VbmeF7rSy5ytrMyAsWOEVWHZn3Gu4x0HF%2BkjAi6cxCwmCvkwxjUwTGR%2FqvRcu64MHDmdUSTyERJZTQ7h2TyrVEmNloucH2HYrhOmeAHOgOZmo7R%2BPonxlcPQRqDi9fvXS5mv4IuhLPGQ26PxoljM8gpEYk03OMQtLsuIWGdQLGW0pvdlEm5hogILa7qBINDYrRhiU%2FRpiQR8v%2FojTq2efTCo%2BLvLBjqkAQ%2BBg4A5yBSGdSgRieFu4mEM%2Faxs7PDqsukhwfIyzi2gq9ux7WeqpPEq8oUzAAw29XFi%2FqZCKDv5UXHdWsysTtk3uGGxYgjfRhC52iZYHVEjjQAccqLtvnlGz9U4jhDjcJ2rLAOSev3m4RKcFzkWp3GlORm7RLXjmtsuMgjwJqp28kaisPaphdZdpYvESJj7sG8jOC4ndNVaVpR4%2BaghXmEXQ5S5&X-Amz-Signature=769a23a9ffd539ca849336fd586b2676d0028db4ae16e8c5babe6f1f48a905b3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U7KPU6S4%2F20260120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260120T041814Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC6lwgNrklIlly5Ro2yZ7iZzY9kt9m6IPtIoj1ZECMAFgIhAJLDCRfZGVe61EctD2tk%2BtQoLsx4ATo22xjwcaxaM%2BkiKogECKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwBomh%2BKcFAoKp0XHEq3AOPY53s5B996LGywnnSIqfnWRCV4zS%2BnPw3Y3yt9xzQVR6bDS%2BZOXVaZKpDBbEQ%2F4n6OV8NpSCNUMqrbh4AuLdZOhk6OfB4VqUMv7tgjZ6aIPEEmkxr3bkbeAE3evwElCtIc24fOCVhDI5s%2B%2FVU3zo%2BicwMmtinGGCKvpMBscP71Srh%2FUmXVuF7Et4xfd7TuWnq7%2BlNSQRw5EjNTfgeGj%2BwNPdVW86HmfP3jFgDg2l%2BVCSKIXGh%2F8jh9tIs1OSoBaexmIBRsj4UfzqwA68XoDMTiKI0AQTEOA7cwRkiS8z%2FGTkwWNH6jbF6HKqclmBFWmGk5CdChKM4MiJh%2BxnS7VaKSNr2Xsg7YE8DTVazvd%2BXW%2BALWSqwecNFtGC7ibmGJc2GgM3rKeLVmUKzCjknAtZ4%2FR%2FJSBeHh%2FJNVO51VbmeF7rSy5ytrMyAsWOEVWHZn3Gu4x0HF%2BkjAi6cxCwmCvkwxjUwTGR%2FqvRcu64MHDmdUSTyERJZTQ7h2TyrVEmNloucH2HYrhOmeAHOgOZmo7R%2BPonxlcPQRqDi9fvXS5mv4IuhLPGQ26PxoljM8gpEYk03OMQtLsuIWGdQLGW0pvdlEm5hogILa7qBINDYrRhiU%2FRpiQR8v%2FojTq2efTCo%2BLvLBjqkAQ%2BBg4A5yBSGdSgRieFu4mEM%2Faxs7PDqsukhwfIyzi2gq9ux7WeqpPEq8oUzAAw29XFi%2FqZCKDv5UXHdWsysTtk3uGGxYgjfRhC52iZYHVEjjQAccqLtvnlGz9U4jhDjcJ2rLAOSev3m4RKcFzkWp3GlORm7RLXjmtsuMgjwJqp28kaisPaphdZdpYvESJj7sG8jOC4ndNVaVpR4%2BaghXmEXQ5S5&X-Amz-Signature=47294eba0ba251fb75cccce0fe8fb0f2990f0d20adf958dcd8812e06160f1023&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U7KPU6S4%2F20260120%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260120T041814Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC6lwgNrklIlly5Ro2yZ7iZzY9kt9m6IPtIoj1ZECMAFgIhAJLDCRfZGVe61EctD2tk%2BtQoLsx4ATo22xjwcaxaM%2BkiKogECKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwBomh%2BKcFAoKp0XHEq3AOPY53s5B996LGywnnSIqfnWRCV4zS%2BnPw3Y3yt9xzQVR6bDS%2BZOXVaZKpDBbEQ%2F4n6OV8NpSCNUMqrbh4AuLdZOhk6OfB4VqUMv7tgjZ6aIPEEmkxr3bkbeAE3evwElCtIc24fOCVhDI5s%2B%2FVU3zo%2BicwMmtinGGCKvpMBscP71Srh%2FUmXVuF7Et4xfd7TuWnq7%2BlNSQRw5EjNTfgeGj%2BwNPdVW86HmfP3jFgDg2l%2BVCSKIXGh%2F8jh9tIs1OSoBaexmIBRsj4UfzqwA68XoDMTiKI0AQTEOA7cwRkiS8z%2FGTkwWNH6jbF6HKqclmBFWmGk5CdChKM4MiJh%2BxnS7VaKSNr2Xsg7YE8DTVazvd%2BXW%2BALWSqwecNFtGC7ibmGJc2GgM3rKeLVmUKzCjknAtZ4%2FR%2FJSBeHh%2FJNVO51VbmeF7rSy5ytrMyAsWOEVWHZn3Gu4x0HF%2BkjAi6cxCwmCvkwxjUwTGR%2FqvRcu64MHDmdUSTyERJZTQ7h2TyrVEmNloucH2HYrhOmeAHOgOZmo7R%2BPonxlcPQRqDi9fvXS5mv4IuhLPGQ26PxoljM8gpEYk03OMQtLsuIWGdQLGW0pvdlEm5hogILa7qBINDYrRhiU%2FRpiQR8v%2FojTq2efTCo%2BLvLBjqkAQ%2BBg4A5yBSGdSgRieFu4mEM%2Faxs7PDqsukhwfIyzi2gq9ux7WeqpPEq8oUzAAw29XFi%2FqZCKDv5UXHdWsysTtk3uGGxYgjfRhC52iZYHVEjjQAccqLtvnlGz9U4jhDjcJ2rLAOSev3m4RKcFzkWp3GlORm7RLXjmtsuMgjwJqp28kaisPaphdZdpYvESJj7sG8jOC4ndNVaVpR4%2BaghXmEXQ5S5&X-Amz-Signature=53b4ee0f8c8f0b9189921fb85f19f01b249fcf96d5800a839b5940b5a47c42b3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

