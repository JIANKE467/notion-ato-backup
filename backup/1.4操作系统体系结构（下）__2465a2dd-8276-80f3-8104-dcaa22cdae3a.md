
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UTR3LUGR%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041642Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDqR7y34KWsSFE%2BPARatcXc7DxTVB%2BFjrI8oyMFCa70CgIhAMA%2FnQMSAwCh43CIa6Nlff2lQ6LqJbNSfFWWTzgVy%2FthKv8DCHQQABoMNjM3NDIzMTgzODA1IgxSVgy017xouJWxDQ0q3ANZkA0CA5Gtcgdsdtsqjc9HvxBXV5zVMkGVD6cYSbTDcq8ubqB2sr2xYRBsq1D1d6%2BIoiI0EhXzSETAoFb4baFQjjQEz9Xd5MLok1foNRRjfoXZyMMn4QDfysB7BDwTgstaDLGKk9MEUhyQeKHb4tJ6tBuvEC4kiOkDG735Jni15psg%2BBKsOQmdn0C5FKN4wMOtDWM2sVujNCpc%2BSjioe68akqx6W5sBQWCHJOIXFOH674leXvuVYTZmR%2FIxeKCCE85qldpokUQflVjIul4WSrS6BI7l5dNeU4xf2ejtzpiiudv9yUght%2FQYzypvi7Zkao8%2FEyBFxOOJ6WIpN5gD4Ao3ajKyiABiYooAyEx2pUIavwYUkGtunlwSvxTgWDR5Rlnxl3Pq%2Fzh8m%2F3RY7mjZiVLuwffN5dcigz5Yj8S7hwy3j01vyxdGAxE2Mkm5bu3SmXxqadI4nee60RJ17rXPOTBwPVyOMyIjOZGO7llDvy5NPFDOYdPDEfeM2%2FHam4bIaYxbqE9Csx%2BBPbgrzYQCfUgK%2FuvyZlP6ecaXvWHKD80n0ucZ24bRW7ivAF7uvY5iNattV00nmlrhaujJNBHaov2SISffDrZGs6LlcUxhOudgjSh4dDWhSkQVSJwDC2jrHLBjqkAe544A%2FxTCeJadCwuI394PP2RE07mozWgqMx8VWdb6BEGU0%2B68fAJ1lIb%2Fa9EB7J58ytqKHILOvtjBha%2BpEHmSc9ZfUJiETmgu1J6vEk6t1a3QlRn%2FHHz5%2Fh%2FyTlAUue8iJNIkbrCkkkBJHJ9BhoDCTDwWjRC3%2Bs7xXSdt2RUSNAEAhFGgj49XYsvTwVhg9Y04hqDmGxyVIBqVAeP3RcJLWHmBPL&X-Amz-Signature=83fe1a1c09a3ca6d92ec272f86585c1ead8e874235439770a90b59b25a82ca77&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UTR3LUGR%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041642Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDqR7y34KWsSFE%2BPARatcXc7DxTVB%2BFjrI8oyMFCa70CgIhAMA%2FnQMSAwCh43CIa6Nlff2lQ6LqJbNSfFWWTzgVy%2FthKv8DCHQQABoMNjM3NDIzMTgzODA1IgxSVgy017xouJWxDQ0q3ANZkA0CA5Gtcgdsdtsqjc9HvxBXV5zVMkGVD6cYSbTDcq8ubqB2sr2xYRBsq1D1d6%2BIoiI0EhXzSETAoFb4baFQjjQEz9Xd5MLok1foNRRjfoXZyMMn4QDfysB7BDwTgstaDLGKk9MEUhyQeKHb4tJ6tBuvEC4kiOkDG735Jni15psg%2BBKsOQmdn0C5FKN4wMOtDWM2sVujNCpc%2BSjioe68akqx6W5sBQWCHJOIXFOH674leXvuVYTZmR%2FIxeKCCE85qldpokUQflVjIul4WSrS6BI7l5dNeU4xf2ejtzpiiudv9yUght%2FQYzypvi7Zkao8%2FEyBFxOOJ6WIpN5gD4Ao3ajKyiABiYooAyEx2pUIavwYUkGtunlwSvxTgWDR5Rlnxl3Pq%2Fzh8m%2F3RY7mjZiVLuwffN5dcigz5Yj8S7hwy3j01vyxdGAxE2Mkm5bu3SmXxqadI4nee60RJ17rXPOTBwPVyOMyIjOZGO7llDvy5NPFDOYdPDEfeM2%2FHam4bIaYxbqE9Csx%2BBPbgrzYQCfUgK%2FuvyZlP6ecaXvWHKD80n0ucZ24bRW7ivAF7uvY5iNattV00nmlrhaujJNBHaov2SISffDrZGs6LlcUxhOudgjSh4dDWhSkQVSJwDC2jrHLBjqkAe544A%2FxTCeJadCwuI394PP2RE07mozWgqMx8VWdb6BEGU0%2B68fAJ1lIb%2Fa9EB7J58ytqKHILOvtjBha%2BpEHmSc9ZfUJiETmgu1J6vEk6t1a3QlRn%2FHHz5%2Fh%2FyTlAUue8iJNIkbrCkkkBJHJ9BhoDCTDwWjRC3%2Bs7xXSdt2RUSNAEAhFGgj49XYsvTwVhg9Y04hqDmGxyVIBqVAeP3RcJLWHmBPL&X-Amz-Signature=e5715c6317771bd3083e9e9102309c2c8d575da32db189abb7944f91878166db&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UTR3LUGR%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041642Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDqR7y34KWsSFE%2BPARatcXc7DxTVB%2BFjrI8oyMFCa70CgIhAMA%2FnQMSAwCh43CIa6Nlff2lQ6LqJbNSfFWWTzgVy%2FthKv8DCHQQABoMNjM3NDIzMTgzODA1IgxSVgy017xouJWxDQ0q3ANZkA0CA5Gtcgdsdtsqjc9HvxBXV5zVMkGVD6cYSbTDcq8ubqB2sr2xYRBsq1D1d6%2BIoiI0EhXzSETAoFb4baFQjjQEz9Xd5MLok1foNRRjfoXZyMMn4QDfysB7BDwTgstaDLGKk9MEUhyQeKHb4tJ6tBuvEC4kiOkDG735Jni15psg%2BBKsOQmdn0C5FKN4wMOtDWM2sVujNCpc%2BSjioe68akqx6W5sBQWCHJOIXFOH674leXvuVYTZmR%2FIxeKCCE85qldpokUQflVjIul4WSrS6BI7l5dNeU4xf2ejtzpiiudv9yUght%2FQYzypvi7Zkao8%2FEyBFxOOJ6WIpN5gD4Ao3ajKyiABiYooAyEx2pUIavwYUkGtunlwSvxTgWDR5Rlnxl3Pq%2Fzh8m%2F3RY7mjZiVLuwffN5dcigz5Yj8S7hwy3j01vyxdGAxE2Mkm5bu3SmXxqadI4nee60RJ17rXPOTBwPVyOMyIjOZGO7llDvy5NPFDOYdPDEfeM2%2FHam4bIaYxbqE9Csx%2BBPbgrzYQCfUgK%2FuvyZlP6ecaXvWHKD80n0ucZ24bRW7ivAF7uvY5iNattV00nmlrhaujJNBHaov2SISffDrZGs6LlcUxhOudgjSh4dDWhSkQVSJwDC2jrHLBjqkAe544A%2FxTCeJadCwuI394PP2RE07mozWgqMx8VWdb6BEGU0%2B68fAJ1lIb%2Fa9EB7J58ytqKHILOvtjBha%2BpEHmSc9ZfUJiETmgu1J6vEk6t1a3QlRn%2FHHz5%2Fh%2FyTlAUue8iJNIkbrCkkkBJHJ9BhoDCTDwWjRC3%2Bs7xXSdt2RUSNAEAhFGgj49XYsvTwVhg9Y04hqDmGxyVIBqVAeP3RcJLWHmBPL&X-Amz-Signature=d2a49e763d95b86c893765dab4e75c452def14cdbaa7655426425673f65d5a57&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

