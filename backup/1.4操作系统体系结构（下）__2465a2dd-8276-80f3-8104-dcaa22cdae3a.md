
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRBIWYZ2%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041003Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIGuHGprIh1nYi1z%2FE3zTyPZlMIJQdEvBZpA6zOMLWYnTAiBJkNunQGSiAiJlwj0Zi5x%2FVvNjhgkacjH0IjABlZXn3Sr%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIM6E8MFCk4IGHwO%2Bs5KtwDGHzboGz9EXSU3WgKm5n88%2Bn6H1VczdZBMrQoN8OaaP%2BhHO7HHqHNVOn6i0xSfriKEb9pIbkjE4wtA5Hl0SsA1tB4ADVycuLUCuhq3b966usOuPxDvIIy7cjFW0b8FbY2odElEGH5ym9hL2ccc616G0e25CUR%2Fs11Tbg29EWyKaGCZ2h7gmbaXPjTWYwgnK14AFr0l3HqGanyOfRVxGVaLhW9Ry8me0gD4RUji9zjMXkDGC9Zy1DN1Up36M4BaTUZ2U5BKEvfxiEyhf67RsBk6tUB%2FwX6YEV9yIeFXamCKBl2RgZcuRg9GjxBEkX6qDhDDpxiOaJ1yCxNGu%2FP2F%2F%2BB9QOs8PA0LiQAFpPRJ2Ei%2BgWvuc%2Bf30aj%2Fd1aHqnBAAO1dPO23bV4HT27AR0holVypnSm%2BdJPfmfSKzPCHxo0L4ut7XW7LfJ%2FkAaD%2BowPziOtNcmhGWOtojTNXPp3Q00LlpxyxLxep132UOo3cN1bLOVEJHRfE0W1mVmop75Q53sIdHDejIc0Mr88sKU2%2FKcEAA6b21LRp35VtkLNiYoJ6Mctzc9fwhWgr%2FJ8bWqxFY6kPgMkoKHZ5sJFVLuukojtfLl5oa89SbAfwMssxErcFLsUog08GxJxWrmBjkwgvCyygY6pgHinii5%2BZQGZTgr4MjgXWZTfA6t6SOb%2Fev2BShexvKnmO%2FmrrciVFZJUyzmBNDkxQI9C6iQXqnDPicspz0nu1OKd9%2BqW%2F6fIjFW8E3lpUF2wRHY3gd6itHBMok%2B%2B7ZVN37rpfvtjFr3mWvbVSc8SgYdbHBiyTbvNX1kGQdP%2FJTQ3XeszBCtQ6bEqEeuzLPG8aVuoGxr1fBEwfeCg5XwfcFuSrc45oMN&X-Amz-Signature=ef7c29b6fd2d4e9a96a983341fd62fdd6e0a1ea5b8fcf8b642366cbf7be0114c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRBIWYZ2%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041003Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIGuHGprIh1nYi1z%2FE3zTyPZlMIJQdEvBZpA6zOMLWYnTAiBJkNunQGSiAiJlwj0Zi5x%2FVvNjhgkacjH0IjABlZXn3Sr%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIM6E8MFCk4IGHwO%2Bs5KtwDGHzboGz9EXSU3WgKm5n88%2Bn6H1VczdZBMrQoN8OaaP%2BhHO7HHqHNVOn6i0xSfriKEb9pIbkjE4wtA5Hl0SsA1tB4ADVycuLUCuhq3b966usOuPxDvIIy7cjFW0b8FbY2odElEGH5ym9hL2ccc616G0e25CUR%2Fs11Tbg29EWyKaGCZ2h7gmbaXPjTWYwgnK14AFr0l3HqGanyOfRVxGVaLhW9Ry8me0gD4RUji9zjMXkDGC9Zy1DN1Up36M4BaTUZ2U5BKEvfxiEyhf67RsBk6tUB%2FwX6YEV9yIeFXamCKBl2RgZcuRg9GjxBEkX6qDhDDpxiOaJ1yCxNGu%2FP2F%2F%2BB9QOs8PA0LiQAFpPRJ2Ei%2BgWvuc%2Bf30aj%2Fd1aHqnBAAO1dPO23bV4HT27AR0holVypnSm%2BdJPfmfSKzPCHxo0L4ut7XW7LfJ%2FkAaD%2BowPziOtNcmhGWOtojTNXPp3Q00LlpxyxLxep132UOo3cN1bLOVEJHRfE0W1mVmop75Q53sIdHDejIc0Mr88sKU2%2FKcEAA6b21LRp35VtkLNiYoJ6Mctzc9fwhWgr%2FJ8bWqxFY6kPgMkoKHZ5sJFVLuukojtfLl5oa89SbAfwMssxErcFLsUog08GxJxWrmBjkwgvCyygY6pgHinii5%2BZQGZTgr4MjgXWZTfA6t6SOb%2Fev2BShexvKnmO%2FmrrciVFZJUyzmBNDkxQI9C6iQXqnDPicspz0nu1OKd9%2BqW%2F6fIjFW8E3lpUF2wRHY3gd6itHBMok%2B%2B7ZVN37rpfvtjFr3mWvbVSc8SgYdbHBiyTbvNX1kGQdP%2FJTQ3XeszBCtQ6bEqEeuzLPG8aVuoGxr1fBEwfeCg5XwfcFuSrc45oMN&X-Amz-Signature=e475c616b9386ebee16bbd3ef4a6b8312220e8f23db0481b20e53b6b590ddc58&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRBIWYZ2%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041003Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIGuHGprIh1nYi1z%2FE3zTyPZlMIJQdEvBZpA6zOMLWYnTAiBJkNunQGSiAiJlwj0Zi5x%2FVvNjhgkacjH0IjABlZXn3Sr%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIM6E8MFCk4IGHwO%2Bs5KtwDGHzboGz9EXSU3WgKm5n88%2Bn6H1VczdZBMrQoN8OaaP%2BhHO7HHqHNVOn6i0xSfriKEb9pIbkjE4wtA5Hl0SsA1tB4ADVycuLUCuhq3b966usOuPxDvIIy7cjFW0b8FbY2odElEGH5ym9hL2ccc616G0e25CUR%2Fs11Tbg29EWyKaGCZ2h7gmbaXPjTWYwgnK14AFr0l3HqGanyOfRVxGVaLhW9Ry8me0gD4RUji9zjMXkDGC9Zy1DN1Up36M4BaTUZ2U5BKEvfxiEyhf67RsBk6tUB%2FwX6YEV9yIeFXamCKBl2RgZcuRg9GjxBEkX6qDhDDpxiOaJ1yCxNGu%2FP2F%2F%2BB9QOs8PA0LiQAFpPRJ2Ei%2BgWvuc%2Bf30aj%2Fd1aHqnBAAO1dPO23bV4HT27AR0holVypnSm%2BdJPfmfSKzPCHxo0L4ut7XW7LfJ%2FkAaD%2BowPziOtNcmhGWOtojTNXPp3Q00LlpxyxLxep132UOo3cN1bLOVEJHRfE0W1mVmop75Q53sIdHDejIc0Mr88sKU2%2FKcEAA6b21LRp35VtkLNiYoJ6Mctzc9fwhWgr%2FJ8bWqxFY6kPgMkoKHZ5sJFVLuukojtfLl5oa89SbAfwMssxErcFLsUog08GxJxWrmBjkwgvCyygY6pgHinii5%2BZQGZTgr4MjgXWZTfA6t6SOb%2Fev2BShexvKnmO%2FmrrciVFZJUyzmBNDkxQI9C6iQXqnDPicspz0nu1OKd9%2BqW%2F6fIjFW8E3lpUF2wRHY3gd6itHBMok%2B%2B7ZVN37rpfvtjFr3mWvbVSc8SgYdbHBiyTbvNX1kGQdP%2FJTQ3XeszBCtQ6bEqEeuzLPG8aVuoGxr1fBEwfeCg5XwfcFuSrc45oMN&X-Amz-Signature=bd09b98bfa791123b595755cfe612d802204251dddd415433eff4f73a5dbc23a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

