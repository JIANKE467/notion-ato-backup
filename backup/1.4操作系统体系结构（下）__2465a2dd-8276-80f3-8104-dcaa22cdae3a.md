
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667ORQST7A%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041721Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIGi2OQgaq5w2YRAcxk8E15OpU1PWd9oQmVmJ6FcvF68SAiEAi6i8Pa2tAOiaD9JjFoeqihhf5deztuHrnuyjM05H5uQqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLgwDN33Ksl0dKulMSrcA5%2FgVuxOn%2Fw6VYDEuG6k%2FGazmSczkkKyTH5XHGng4%2FGI77FouTl%2FbiV6XJkYTk3dZDuSKbb7e%2BtjtLgp65udeVbAxACkaxXslEyrMKhgUeaYXImeqyRCxhwyYo682ZGzA3p0CsqwY1KBTJO4OPXARaxdbOxO6jAHGKoJonai1Dr4plqaFepV%2BhDKHLI95OeMFQ9PMK4AlyxRnJkp2LrbJekBP99r4Y02TBxgxZWABz2hC5F%2B0DktvS9SK%2F1nUPV1OUTvh3fg%2BTW5V38zJHtKSx9sPuST3bJ40tgj9caChFA2BCd8l1jxhTBftcCqghGa43NqNwyvwYKw8WJZIqlGnCYGzulFFu2mUxfodo06SHR7e3jTHmwu9gCA72VYYgHN2JDXYvRtZl6Y2JT000JSHVLmfldBKO3s9xUtWuQuvOHzk5RRNLmK%2BGB2i%2Blth06MGTmxiJOdLfxbIs6BJUlFMLPlF0he3AGDAcTP5CLDo0c4FtIkBkisg3trsIKTpj2uqrmIc9PNGhQ74GxQe%2Byby5rNewqP6lGGwqEVQ0Gw3a21HQkWcI156K%2F2nvLTrQT73NaHFUNLSYctEPMxeWsmULCTa6j7cgnKq06fSMFPnMWK5iadr4BEks6HGsdLMJfcy8sGOqUB1rQmqVv8BTewEkDh3vkk%2BkNRJUvKKjFDXgRz4bt69eOzI5VmyCq2eMZn%2FwuAIK%2F%2FOWqPWw4W7s3xnd7ergKp9IUgkLT4D0%2BUjEl2QW%2Fek2UYPHfyvAKHudTytdWJV9CMFcERMRnJjaQmDpiSsmrJcZlbYcW%2FVFfT8a5SUx%2BPnSoCEenacKi1Jd3IoH2%2FhkY9M3vyRaMc7jjklB2sNZu8LWrTWmH%2F&X-Amz-Signature=db2b79786e90ba9980b62392894258c2f07d4d4a70b9ff6477e8e558b78556d9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667ORQST7A%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041721Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIGi2OQgaq5w2YRAcxk8E15OpU1PWd9oQmVmJ6FcvF68SAiEAi6i8Pa2tAOiaD9JjFoeqihhf5deztuHrnuyjM05H5uQqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLgwDN33Ksl0dKulMSrcA5%2FgVuxOn%2Fw6VYDEuG6k%2FGazmSczkkKyTH5XHGng4%2FGI77FouTl%2FbiV6XJkYTk3dZDuSKbb7e%2BtjtLgp65udeVbAxACkaxXslEyrMKhgUeaYXImeqyRCxhwyYo682ZGzA3p0CsqwY1KBTJO4OPXARaxdbOxO6jAHGKoJonai1Dr4plqaFepV%2BhDKHLI95OeMFQ9PMK4AlyxRnJkp2LrbJekBP99r4Y02TBxgxZWABz2hC5F%2B0DktvS9SK%2F1nUPV1OUTvh3fg%2BTW5V38zJHtKSx9sPuST3bJ40tgj9caChFA2BCd8l1jxhTBftcCqghGa43NqNwyvwYKw8WJZIqlGnCYGzulFFu2mUxfodo06SHR7e3jTHmwu9gCA72VYYgHN2JDXYvRtZl6Y2JT000JSHVLmfldBKO3s9xUtWuQuvOHzk5RRNLmK%2BGB2i%2Blth06MGTmxiJOdLfxbIs6BJUlFMLPlF0he3AGDAcTP5CLDo0c4FtIkBkisg3trsIKTpj2uqrmIc9PNGhQ74GxQe%2Byby5rNewqP6lGGwqEVQ0Gw3a21HQkWcI156K%2F2nvLTrQT73NaHFUNLSYctEPMxeWsmULCTa6j7cgnKq06fSMFPnMWK5iadr4BEks6HGsdLMJfcy8sGOqUB1rQmqVv8BTewEkDh3vkk%2BkNRJUvKKjFDXgRz4bt69eOzI5VmyCq2eMZn%2FwuAIK%2F%2FOWqPWw4W7s3xnd7ergKp9IUgkLT4D0%2BUjEl2QW%2Fek2UYPHfyvAKHudTytdWJV9CMFcERMRnJjaQmDpiSsmrJcZlbYcW%2FVFfT8a5SUx%2BPnSoCEenacKi1Jd3IoH2%2FhkY9M3vyRaMc7jjklB2sNZu8LWrTWmH%2F&X-Amz-Signature=60cb400141660e436a0b3122e752b1c8e4c101975887688c0cb20a26a0e53557&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667ORQST7A%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041721Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIGi2OQgaq5w2YRAcxk8E15OpU1PWd9oQmVmJ6FcvF68SAiEAi6i8Pa2tAOiaD9JjFoeqihhf5deztuHrnuyjM05H5uQqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLgwDN33Ksl0dKulMSrcA5%2FgVuxOn%2Fw6VYDEuG6k%2FGazmSczkkKyTH5XHGng4%2FGI77FouTl%2FbiV6XJkYTk3dZDuSKbb7e%2BtjtLgp65udeVbAxACkaxXslEyrMKhgUeaYXImeqyRCxhwyYo682ZGzA3p0CsqwY1KBTJO4OPXARaxdbOxO6jAHGKoJonai1Dr4plqaFepV%2BhDKHLI95OeMFQ9PMK4AlyxRnJkp2LrbJekBP99r4Y02TBxgxZWABz2hC5F%2B0DktvS9SK%2F1nUPV1OUTvh3fg%2BTW5V38zJHtKSx9sPuST3bJ40tgj9caChFA2BCd8l1jxhTBftcCqghGa43NqNwyvwYKw8WJZIqlGnCYGzulFFu2mUxfodo06SHR7e3jTHmwu9gCA72VYYgHN2JDXYvRtZl6Y2JT000JSHVLmfldBKO3s9xUtWuQuvOHzk5RRNLmK%2BGB2i%2Blth06MGTmxiJOdLfxbIs6BJUlFMLPlF0he3AGDAcTP5CLDo0c4FtIkBkisg3trsIKTpj2uqrmIc9PNGhQ74GxQe%2Byby5rNewqP6lGGwqEVQ0Gw3a21HQkWcI156K%2F2nvLTrQT73NaHFUNLSYctEPMxeWsmULCTa6j7cgnKq06fSMFPnMWK5iadr4BEks6HGsdLMJfcy8sGOqUB1rQmqVv8BTewEkDh3vkk%2BkNRJUvKKjFDXgRz4bt69eOzI5VmyCq2eMZn%2FwuAIK%2F%2FOWqPWw4W7s3xnd7ergKp9IUgkLT4D0%2BUjEl2QW%2Fek2UYPHfyvAKHudTytdWJV9CMFcERMRnJjaQmDpiSsmrJcZlbYcW%2FVFfT8a5SUx%2BPnSoCEenacKi1Jd3IoH2%2FhkY9M3vyRaMc7jjklB2sNZu8LWrTWmH%2F&X-Amz-Signature=9586adea996f7db0dafc167ee77c90928bec10a1a7445bfc712858817c92999c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

