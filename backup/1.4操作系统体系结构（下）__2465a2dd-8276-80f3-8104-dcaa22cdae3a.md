
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664M3TQHXG%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040753Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDVlegnC80VJgqfi%2FuFlkUY3bxDp52G%2FwVutz%2Fd4Bv7kgIhAMBQW68fNEwGPsQ9pMSdEhbAKphDao%2BFYd0tKWLC3UPtKv8DCEoQABoMNjM3NDIzMTgzODA1IgyOXacyAtFgiSU0Y%2B8q3AP6wHxuAolG8zDhjxRmiyqkcmM44qeTXm8Sg44Je8tEL68PGqENLRepCHYsWgBATnsxKn13OQ4SzmafAS0rYamYPOdjEwbczuO719xge42Z2ieFII2doOynQnhAk8WmzkzsVyTI6PtgLo3QefOJICanQFnGy1OQb%2FLp5sw7pQ66HgRIIasgghbU5ZONNM%2FLriOUj2XR2epor0OFNNj1jR%2B1D%2B1zUjvLmJV7VeOVdcyATB%2F8RGUmIHfssjFdCrLr6uldC9sK3f0J89FeuTwwaLTWLuzZ6GCWgGDkjIpYxcYTwvIbACvwf4D7p3JazEhbQP0iDDKCtDl3L5gCe2PFDHnvePx8yNHs4bSAmyUgNPb%2Ffn6xKU7oc4TKqdLtHmnSRnbk0J%2F%2F%2Fz4S%2FkrhjHlflFiFklMSKrPvi6E5jUv6V1fZYpN%2B6tFIj%2BjR5hFkk9KMzyxhcN5LcQxWsH4pgGj9EVYLgKJXWq4mKrQi%2Bj%2BSFhSNM8LWKkzaaNZz1LPPcVThb1NIugTuMJJiEdBTbxzr7eL5hnVFS9UuVH6H274LAl8IoYW8EYZgZ1IiPkd01LdhI5hiCYUQPZEqcQ29gQq%2FvK0V1gfXBkqOXMNNX8jxIiyoPFFyS66ArGIszVA9mzDGxrfKBjqkASXgddSwztYgfmdWxdlYw%2FrPHb1YqAxNUbiORTO0gX287CXit9Tm8L1TrJ%2Fi9HsKT3b15VgXg%2BvzIVUjvJeHuM7JGVbQ8OkPrK7sKuDgoObZ5t0ZxCEW7QwJOSmfkfuwoksdDBjtrdhNszl9q46joUoKZR6UmpR2DPXD9mU%2FgnKnLcuj2ZXxaLHfb9rY8MjxyTlXwXOZucv51Lizs1EcL7fW2kJ9&X-Amz-Signature=28f620b299847dab19a32aeaad52de57da37919a6b78f639abfdefb6abc72d88&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664M3TQHXG%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040753Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDVlegnC80VJgqfi%2FuFlkUY3bxDp52G%2FwVutz%2Fd4Bv7kgIhAMBQW68fNEwGPsQ9pMSdEhbAKphDao%2BFYd0tKWLC3UPtKv8DCEoQABoMNjM3NDIzMTgzODA1IgyOXacyAtFgiSU0Y%2B8q3AP6wHxuAolG8zDhjxRmiyqkcmM44qeTXm8Sg44Je8tEL68PGqENLRepCHYsWgBATnsxKn13OQ4SzmafAS0rYamYPOdjEwbczuO719xge42Z2ieFII2doOynQnhAk8WmzkzsVyTI6PtgLo3QefOJICanQFnGy1OQb%2FLp5sw7pQ66HgRIIasgghbU5ZONNM%2FLriOUj2XR2epor0OFNNj1jR%2B1D%2B1zUjvLmJV7VeOVdcyATB%2F8RGUmIHfssjFdCrLr6uldC9sK3f0J89FeuTwwaLTWLuzZ6GCWgGDkjIpYxcYTwvIbACvwf4D7p3JazEhbQP0iDDKCtDl3L5gCe2PFDHnvePx8yNHs4bSAmyUgNPb%2Ffn6xKU7oc4TKqdLtHmnSRnbk0J%2F%2F%2Fz4S%2FkrhjHlflFiFklMSKrPvi6E5jUv6V1fZYpN%2B6tFIj%2BjR5hFkk9KMzyxhcN5LcQxWsH4pgGj9EVYLgKJXWq4mKrQi%2Bj%2BSFhSNM8LWKkzaaNZz1LPPcVThb1NIugTuMJJiEdBTbxzr7eL5hnVFS9UuVH6H274LAl8IoYW8EYZgZ1IiPkd01LdhI5hiCYUQPZEqcQ29gQq%2FvK0V1gfXBkqOXMNNX8jxIiyoPFFyS66ArGIszVA9mzDGxrfKBjqkASXgddSwztYgfmdWxdlYw%2FrPHb1YqAxNUbiORTO0gX287CXit9Tm8L1TrJ%2Fi9HsKT3b15VgXg%2BvzIVUjvJeHuM7JGVbQ8OkPrK7sKuDgoObZ5t0ZxCEW7QwJOSmfkfuwoksdDBjtrdhNszl9q46joUoKZR6UmpR2DPXD9mU%2FgnKnLcuj2ZXxaLHfb9rY8MjxyTlXwXOZucv51Lizs1EcL7fW2kJ9&X-Amz-Signature=20cb4a637b4bb2da28860a436bd53643e656695de04c7a4e77f20e837bfc79df&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664M3TQHXG%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040753Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDVlegnC80VJgqfi%2FuFlkUY3bxDp52G%2FwVutz%2Fd4Bv7kgIhAMBQW68fNEwGPsQ9pMSdEhbAKphDao%2BFYd0tKWLC3UPtKv8DCEoQABoMNjM3NDIzMTgzODA1IgyOXacyAtFgiSU0Y%2B8q3AP6wHxuAolG8zDhjxRmiyqkcmM44qeTXm8Sg44Je8tEL68PGqENLRepCHYsWgBATnsxKn13OQ4SzmafAS0rYamYPOdjEwbczuO719xge42Z2ieFII2doOynQnhAk8WmzkzsVyTI6PtgLo3QefOJICanQFnGy1OQb%2FLp5sw7pQ66HgRIIasgghbU5ZONNM%2FLriOUj2XR2epor0OFNNj1jR%2B1D%2B1zUjvLmJV7VeOVdcyATB%2F8RGUmIHfssjFdCrLr6uldC9sK3f0J89FeuTwwaLTWLuzZ6GCWgGDkjIpYxcYTwvIbACvwf4D7p3JazEhbQP0iDDKCtDl3L5gCe2PFDHnvePx8yNHs4bSAmyUgNPb%2Ffn6xKU7oc4TKqdLtHmnSRnbk0J%2F%2F%2Fz4S%2FkrhjHlflFiFklMSKrPvi6E5jUv6V1fZYpN%2B6tFIj%2BjR5hFkk9KMzyxhcN5LcQxWsH4pgGj9EVYLgKJXWq4mKrQi%2Bj%2BSFhSNM8LWKkzaaNZz1LPPcVThb1NIugTuMJJiEdBTbxzr7eL5hnVFS9UuVH6H274LAl8IoYW8EYZgZ1IiPkd01LdhI5hiCYUQPZEqcQ29gQq%2FvK0V1gfXBkqOXMNNX8jxIiyoPFFyS66ArGIszVA9mzDGxrfKBjqkASXgddSwztYgfmdWxdlYw%2FrPHb1YqAxNUbiORTO0gX287CXit9Tm8L1TrJ%2Fi9HsKT3b15VgXg%2BvzIVUjvJeHuM7JGVbQ8OkPrK7sKuDgoObZ5t0ZxCEW7QwJOSmfkfuwoksdDBjtrdhNszl9q46joUoKZR6UmpR2DPXD9mU%2FgnKnLcuj2ZXxaLHfb9rY8MjxyTlXwXOZucv51Lizs1EcL7fW2kJ9&X-Amz-Signature=1b9ff368f3fd16b35a63833a27c0fb84451b76956fa7028dfecf5d81ed439fd2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

