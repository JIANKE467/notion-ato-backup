
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNW7SWKF%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041155Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCAlbds2b5t4Vc0%2Fdjuwk3n0NPeYLvICrocQtnDLEmmFgIhAJP7xoa1dNA4onF5GK9U3b8i5SFZ%2FRigsJ5Q7vgvPIzqKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igzx8ef76BYOiWiwDvkq3AO1Rjsyl414oK9AwTCrLxPcBd4c4tYpugGUEGlh%2FQeLhWu38QBNCJzITKPQl38XA6yDsYnRsGNuUEtbGlhXP3CNNVX%2FSl5aFkkoD8mZY4Tnsi2%2FIJeYdPwZ2kjVrgBRqJQFjSFCVBheRbaKJv6dVtkqfAOblqteDqCl4DJXVcYwswfYDntbocccFR6opWjvgnWX2Wi%2BAWC3fbjp3Qjfp5WEEl2FrrcnC8sSvh4S0fPyhf5rm2aVfCak0C%2BfiFQ5q%2FaR9YpQ8I12m5dv%2FGeTjypqv9o%2By9WRBWfAPSVJxXG816sHkzfAnxi56ytz%2FSW6UkGTQMumX%2B1PBrIDuEjFpPtVjkwxtEwV5FMmeVQnjeZlttg9GjrBoqXdcAecwNlzM08evYt%2Frx7laOlo%2FB21JZBwGQZjvzcz9cLt62HNrLvGG9u3eSVjq8RYlV9oEoIAT9sg6ViqBvZ6qu32Y3D9T%2FTUkOE7YdRygSmRzE31oWcTgp6wrJMHWNFVJvKpuZXfMtIwNbTGFLxRT%2B66SuZqXSwIrf1htdmWK8UAuK0HBxZbeigVJwI3%2Fii%2B0SmeM5mkA%2FL4XSnfHUHD%2FvyiqYuwqQOowrpVqPlN6FJAqhkI3i3gHd6XFHKYZKC9hvGlUDCW0PzKBjqkAQslDpezWzH3zoNstyOuiNocVyROjpWZ70Z12uA2i2hH9RjkHAmVnynSWqcK%2FLnLdrd9cOKRuCu17jsVVq1VlH61PTud5k%2FFQo%2FmpSitbctnyc5ztuLbIxL8tZAO8fw89XSOVVZP%2FM1ndanZi6qCtogaW0BYP77khkXVLsZPEs6dYzFSyNhDRLstnLYlhFEJ6WNHQ5c%2BKPI4swsWJ4CCI9mCxOGK&X-Amz-Signature=a0998612458645dbe874db785a6e3db5fc1f9c10ea73acbcf27ee3c6e5bfc633&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNW7SWKF%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041155Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCAlbds2b5t4Vc0%2Fdjuwk3n0NPeYLvICrocQtnDLEmmFgIhAJP7xoa1dNA4onF5GK9U3b8i5SFZ%2FRigsJ5Q7vgvPIzqKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igzx8ef76BYOiWiwDvkq3AO1Rjsyl414oK9AwTCrLxPcBd4c4tYpugGUEGlh%2FQeLhWu38QBNCJzITKPQl38XA6yDsYnRsGNuUEtbGlhXP3CNNVX%2FSl5aFkkoD8mZY4Tnsi2%2FIJeYdPwZ2kjVrgBRqJQFjSFCVBheRbaKJv6dVtkqfAOblqteDqCl4DJXVcYwswfYDntbocccFR6opWjvgnWX2Wi%2BAWC3fbjp3Qjfp5WEEl2FrrcnC8sSvh4S0fPyhf5rm2aVfCak0C%2BfiFQ5q%2FaR9YpQ8I12m5dv%2FGeTjypqv9o%2By9WRBWfAPSVJxXG816sHkzfAnxi56ytz%2FSW6UkGTQMumX%2B1PBrIDuEjFpPtVjkwxtEwV5FMmeVQnjeZlttg9GjrBoqXdcAecwNlzM08evYt%2Frx7laOlo%2FB21JZBwGQZjvzcz9cLt62HNrLvGG9u3eSVjq8RYlV9oEoIAT9sg6ViqBvZ6qu32Y3D9T%2FTUkOE7YdRygSmRzE31oWcTgp6wrJMHWNFVJvKpuZXfMtIwNbTGFLxRT%2B66SuZqXSwIrf1htdmWK8UAuK0HBxZbeigVJwI3%2Fii%2B0SmeM5mkA%2FL4XSnfHUHD%2FvyiqYuwqQOowrpVqPlN6FJAqhkI3i3gHd6XFHKYZKC9hvGlUDCW0PzKBjqkAQslDpezWzH3zoNstyOuiNocVyROjpWZ70Z12uA2i2hH9RjkHAmVnynSWqcK%2FLnLdrd9cOKRuCu17jsVVq1VlH61PTud5k%2FFQo%2FmpSitbctnyc5ztuLbIxL8tZAO8fw89XSOVVZP%2FM1ndanZi6qCtogaW0BYP77khkXVLsZPEs6dYzFSyNhDRLstnLYlhFEJ6WNHQ5c%2BKPI4swsWJ4CCI9mCxOGK&X-Amz-Signature=e41d48afcb998b211a5a230af74d495d02203f993e060971e43aca7e37c63425&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UNW7SWKF%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041155Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCAlbds2b5t4Vc0%2Fdjuwk3n0NPeYLvICrocQtnDLEmmFgIhAJP7xoa1dNA4onF5GK9U3b8i5SFZ%2FRigsJ5Q7vgvPIzqKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igzx8ef76BYOiWiwDvkq3AO1Rjsyl414oK9AwTCrLxPcBd4c4tYpugGUEGlh%2FQeLhWu38QBNCJzITKPQl38XA6yDsYnRsGNuUEtbGlhXP3CNNVX%2FSl5aFkkoD8mZY4Tnsi2%2FIJeYdPwZ2kjVrgBRqJQFjSFCVBheRbaKJv6dVtkqfAOblqteDqCl4DJXVcYwswfYDntbocccFR6opWjvgnWX2Wi%2BAWC3fbjp3Qjfp5WEEl2FrrcnC8sSvh4S0fPyhf5rm2aVfCak0C%2BfiFQ5q%2FaR9YpQ8I12m5dv%2FGeTjypqv9o%2By9WRBWfAPSVJxXG816sHkzfAnxi56ytz%2FSW6UkGTQMumX%2B1PBrIDuEjFpPtVjkwxtEwV5FMmeVQnjeZlttg9GjrBoqXdcAecwNlzM08evYt%2Frx7laOlo%2FB21JZBwGQZjvzcz9cLt62HNrLvGG9u3eSVjq8RYlV9oEoIAT9sg6ViqBvZ6qu32Y3D9T%2FTUkOE7YdRygSmRzE31oWcTgp6wrJMHWNFVJvKpuZXfMtIwNbTGFLxRT%2B66SuZqXSwIrf1htdmWK8UAuK0HBxZbeigVJwI3%2Fii%2B0SmeM5mkA%2FL4XSnfHUHD%2FvyiqYuwqQOowrpVqPlN6FJAqhkI3i3gHd6XFHKYZKC9hvGlUDCW0PzKBjqkAQslDpezWzH3zoNstyOuiNocVyROjpWZ70Z12uA2i2hH9RjkHAmVnynSWqcK%2FLnLdrd9cOKRuCu17jsVVq1VlH61PTud5k%2FFQo%2FmpSitbctnyc5ztuLbIxL8tZAO8fw89XSOVVZP%2FM1ndanZi6qCtogaW0BYP77khkXVLsZPEs6dYzFSyNhDRLstnLYlhFEJ6WNHQ5c%2BKPI4swsWJ4CCI9mCxOGK&X-Amz-Signature=be7179615f18d05787b4ae1a96379d771471d741553438c776d7683760a97008&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

