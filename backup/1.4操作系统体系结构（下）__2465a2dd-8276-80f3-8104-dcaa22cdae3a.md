
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466252BD5G2%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042310Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIBhvBj1EeVXgL7i5ZBHaMEvcrNjLiCrpLRmDYYTYYheJAiAYQicnOp%2FF3dlc5ggGaCq27IXehsPThzuVojRJbLTNJCqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMlFh%2BSxSgOVJszrn0KtwDMD0sHhIq8HvEFSAJSuWzUJAdRQnLsF%2BK%2FmHZJ2S8obBZO%2BxE0XYwrPHGKfbyKbTp3ankV2dwl%2FmNQuuyHyGUZXAlznay7Odc5XQFAZbTsYdKL6HumsZoMiGX%2FEYC3tbisoRkQOlolQwe1okmefoCeGUksMMXjtFLB5x1z%2B9w6S%2B68CJuUwoQ74D7emD%2FTn%2FmnbjQLbjYEeMqfXOXu%2B8FRYHzJaI1xdy7tomAXJr5i1WcHGUrOSfsF%2FfaVJ229fquF3gBgzNUECo0071byHGfzm7GptOnqx%2BC%2F7xTOU9ICyv9bXbjusNd76ClMZmIajfPq64hSRPdXT%2B6gtTww3Rasqhm%2BAEU%2B%2FEWVJ6vVIOjK9pg7sVivhZeGo8Qa%2FHQA%2BNiSKsb1NPgcGvaVAfWGmQU0vfu1wi6%2BZ5fBxIMAOxgc0nDGxyTqjYR8Hp84G%2BMsSKDp3ekBNpqRQjwNVY5Kms5yJEP3%2F%2FgH38JV5TQuXCVOwXNmVR2oY5nhhvV0qEun1IZiD7I0JIqUw9jWSEVpNbbSzX0703ze0rEt%2FT6XjgDodvqFxrPQz%2FTi1kMJ8AuW0Q5ghVlvLaVuAU9%2Fz5OqpJvSfI7ikkwLXnMeZCVSXyxMCHEVzQz4Umxu9r0v9cw9umRywY6pgFUJR3NhUDS%2BV29%2BcoLZjvboJM2L0xG0yIjdCO26kO5pAuesBvApzkeS7S6fhROpwqJBlVwMhgjUdUe5KsvEJfVIFBkk74XOghPNkI5Crrx%2BTGnQWTaUUmnwHS8BehvUTRmzxdVNiV2rZUrI610C5jt9x4DxtBkRjy1sS06ANXFq0DBQ%2BapUJluJg6K5Banb4unyhpt4Jypa4GjSE8RVvXyeOLJMW%2FF&X-Amz-Signature=ae15528fe81bf38b338e3457a6e3a52b00a076558917d4a859c3e7d43881df62&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466252BD5G2%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042310Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIBhvBj1EeVXgL7i5ZBHaMEvcrNjLiCrpLRmDYYTYYheJAiAYQicnOp%2FF3dlc5ggGaCq27IXehsPThzuVojRJbLTNJCqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMlFh%2BSxSgOVJszrn0KtwDMD0sHhIq8HvEFSAJSuWzUJAdRQnLsF%2BK%2FmHZJ2S8obBZO%2BxE0XYwrPHGKfbyKbTp3ankV2dwl%2FmNQuuyHyGUZXAlznay7Odc5XQFAZbTsYdKL6HumsZoMiGX%2FEYC3tbisoRkQOlolQwe1okmefoCeGUksMMXjtFLB5x1z%2B9w6S%2B68CJuUwoQ74D7emD%2FTn%2FmnbjQLbjYEeMqfXOXu%2B8FRYHzJaI1xdy7tomAXJr5i1WcHGUrOSfsF%2FfaVJ229fquF3gBgzNUECo0071byHGfzm7GptOnqx%2BC%2F7xTOU9ICyv9bXbjusNd76ClMZmIajfPq64hSRPdXT%2B6gtTww3Rasqhm%2BAEU%2B%2FEWVJ6vVIOjK9pg7sVivhZeGo8Qa%2FHQA%2BNiSKsb1NPgcGvaVAfWGmQU0vfu1wi6%2BZ5fBxIMAOxgc0nDGxyTqjYR8Hp84G%2BMsSKDp3ekBNpqRQjwNVY5Kms5yJEP3%2F%2FgH38JV5TQuXCVOwXNmVR2oY5nhhvV0qEun1IZiD7I0JIqUw9jWSEVpNbbSzX0703ze0rEt%2FT6XjgDodvqFxrPQz%2FTi1kMJ8AuW0Q5ghVlvLaVuAU9%2Fz5OqpJvSfI7ikkwLXnMeZCVSXyxMCHEVzQz4Umxu9r0v9cw9umRywY6pgFUJR3NhUDS%2BV29%2BcoLZjvboJM2L0xG0yIjdCO26kO5pAuesBvApzkeS7S6fhROpwqJBlVwMhgjUdUe5KsvEJfVIFBkk74XOghPNkI5Crrx%2BTGnQWTaUUmnwHS8BehvUTRmzxdVNiV2rZUrI610C5jt9x4DxtBkRjy1sS06ANXFq0DBQ%2BapUJluJg6K5Banb4unyhpt4Jypa4GjSE8RVvXyeOLJMW%2FF&X-Amz-Signature=b4e91df60a8e39f4f7f4bd2ef59ac24267b5a297b79e2e69b3ec94dafce4cc66&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466252BD5G2%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042310Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIBhvBj1EeVXgL7i5ZBHaMEvcrNjLiCrpLRmDYYTYYheJAiAYQicnOp%2FF3dlc5ggGaCq27IXehsPThzuVojRJbLTNJCqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMlFh%2BSxSgOVJszrn0KtwDMD0sHhIq8HvEFSAJSuWzUJAdRQnLsF%2BK%2FmHZJ2S8obBZO%2BxE0XYwrPHGKfbyKbTp3ankV2dwl%2FmNQuuyHyGUZXAlznay7Odc5XQFAZbTsYdKL6HumsZoMiGX%2FEYC3tbisoRkQOlolQwe1okmefoCeGUksMMXjtFLB5x1z%2B9w6S%2B68CJuUwoQ74D7emD%2FTn%2FmnbjQLbjYEeMqfXOXu%2B8FRYHzJaI1xdy7tomAXJr5i1WcHGUrOSfsF%2FfaVJ229fquF3gBgzNUECo0071byHGfzm7GptOnqx%2BC%2F7xTOU9ICyv9bXbjusNd76ClMZmIajfPq64hSRPdXT%2B6gtTww3Rasqhm%2BAEU%2B%2FEWVJ6vVIOjK9pg7sVivhZeGo8Qa%2FHQA%2BNiSKsb1NPgcGvaVAfWGmQU0vfu1wi6%2BZ5fBxIMAOxgc0nDGxyTqjYR8Hp84G%2BMsSKDp3ekBNpqRQjwNVY5Kms5yJEP3%2F%2FgH38JV5TQuXCVOwXNmVR2oY5nhhvV0qEun1IZiD7I0JIqUw9jWSEVpNbbSzX0703ze0rEt%2FT6XjgDodvqFxrPQz%2FTi1kMJ8AuW0Q5ghVlvLaVuAU9%2Fz5OqpJvSfI7ikkwLXnMeZCVSXyxMCHEVzQz4Umxu9r0v9cw9umRywY6pgFUJR3NhUDS%2BV29%2BcoLZjvboJM2L0xG0yIjdCO26kO5pAuesBvApzkeS7S6fhROpwqJBlVwMhgjUdUe5KsvEJfVIFBkk74XOghPNkI5Crrx%2BTGnQWTaUUmnwHS8BehvUTRmzxdVNiV2rZUrI610C5jt9x4DxtBkRjy1sS06ANXFq0DBQ%2BapUJluJg6K5Banb4unyhpt4Jypa4GjSE8RVvXyeOLJMW%2FF&X-Amz-Signature=a5d4af31249e46cd362852768b49c33b67a5b7d8798be6d178c6d2b614f87f54&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

