
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YILWBBBN%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035950Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFduhag23iRpt8vivLC5V836gucbnD8ZI2w%2BxqRMaXauAiEAs0MFhv5OB4UXG0f39qgQcqaCJT5uk0W2Ve91N9ejIjcqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLN6OgMyXFyFZi0cFSrcA6LPPOCli4cIgg2ENmRnD1UCZJG09yKEBfOAL%2BX6FppNQyTIjBl6j6w96WWj6l%2BwhgXAtWTBtmRsJyphKDjQ9sagP%2BbPpgZO1RnU7kK31wmeudJnM8gXGleeXD2bgka9rtpMCBglFa4YMV54EqQahgpZBeix8tifnHzCtujqghLQATLmhNPr8QTnYkJNI0vgXsghDL8xinLAvloMjCFXQPf719LMg5LDLnX6tP1fN6ggBr%2BOWfbQuc9DR30Z9xkPPifrFNDNB8%2BsUiQFfrG3Z4Xm0GYlxDyADv%2BNaZmRd03jnSQ3F6ql3qj7cTRhyW2hQJlzonppPUIAm3cJlRpeXVOo1fD72wBcKEOrZrwSZjgvKx%2BcYjs31Q7xinPg9wgRr7jppobQHOwbv%2BoGKkmEq4LhAeG1uxkyl3E3YjVMWWlo1NDuBoa1iitemhYvXsK3fRnuSFhD45OaUuIvhiPMEJxvT5SFne%2ByUL9N%2FNqPR4HdGDpMH2I%2FWNarLKHCID1BnkQVwVpyosHw7p6vqVgnjix5f1HOo0dr25pI844YIUDPnwt2Kg2BZ%2Ft1ilzlic%2F3kE%2BuONM2fpvxfYNXoIhupEmMQpNpAIvL03JeXwvQt4bjIP6PEwSF11VsFtHlMKy33skGOqUB%2B0iCf2dXVzXnYG4lqnUZlDp4pk4Dy%2BMt8p0fJUYtZ8CLs3fOBbsAM2o8fIeBTxr8lefpW5GeIKcrV%2FumfsE5U5%2Bwz3U3xk1oEuGKUrtCQtOGkpcwHuosZ9oSqMV9qFjKWtTBy6z1CmPA8XZkyjg08qx7z3GSevLIvWzQl%2FzJyrndeowk7KiIAd%2Fx%2Bx%2Bz%2B2%2BJ7j%2BQ%2BILYyaa1D1qxScUPH9lDqsRp&X-Amz-Signature=c5134dc4660197835613fc167b46064106c982724521bea4d9885a48618cd379&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YILWBBBN%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035950Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFduhag23iRpt8vivLC5V836gucbnD8ZI2w%2BxqRMaXauAiEAs0MFhv5OB4UXG0f39qgQcqaCJT5uk0W2Ve91N9ejIjcqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLN6OgMyXFyFZi0cFSrcA6LPPOCli4cIgg2ENmRnD1UCZJG09yKEBfOAL%2BX6FppNQyTIjBl6j6w96WWj6l%2BwhgXAtWTBtmRsJyphKDjQ9sagP%2BbPpgZO1RnU7kK31wmeudJnM8gXGleeXD2bgka9rtpMCBglFa4YMV54EqQahgpZBeix8tifnHzCtujqghLQATLmhNPr8QTnYkJNI0vgXsghDL8xinLAvloMjCFXQPf719LMg5LDLnX6tP1fN6ggBr%2BOWfbQuc9DR30Z9xkPPifrFNDNB8%2BsUiQFfrG3Z4Xm0GYlxDyADv%2BNaZmRd03jnSQ3F6ql3qj7cTRhyW2hQJlzonppPUIAm3cJlRpeXVOo1fD72wBcKEOrZrwSZjgvKx%2BcYjs31Q7xinPg9wgRr7jppobQHOwbv%2BoGKkmEq4LhAeG1uxkyl3E3YjVMWWlo1NDuBoa1iitemhYvXsK3fRnuSFhD45OaUuIvhiPMEJxvT5SFne%2ByUL9N%2FNqPR4HdGDpMH2I%2FWNarLKHCID1BnkQVwVpyosHw7p6vqVgnjix5f1HOo0dr25pI844YIUDPnwt2Kg2BZ%2Ft1ilzlic%2F3kE%2BuONM2fpvxfYNXoIhupEmMQpNpAIvL03JeXwvQt4bjIP6PEwSF11VsFtHlMKy33skGOqUB%2B0iCf2dXVzXnYG4lqnUZlDp4pk4Dy%2BMt8p0fJUYtZ8CLs3fOBbsAM2o8fIeBTxr8lefpW5GeIKcrV%2FumfsE5U5%2Bwz3U3xk1oEuGKUrtCQtOGkpcwHuosZ9oSqMV9qFjKWtTBy6z1CmPA8XZkyjg08qx7z3GSevLIvWzQl%2FzJyrndeowk7KiIAd%2Fx%2Bx%2Bz%2B2%2BJ7j%2BQ%2BILYyaa1D1qxScUPH9lDqsRp&X-Amz-Signature=2d0939218dd921e68a251cf818d01d8afe16b237bfb1447378e58dc7d33d0f2d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YILWBBBN%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035950Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFduhag23iRpt8vivLC5V836gucbnD8ZI2w%2BxqRMaXauAiEAs0MFhv5OB4UXG0f39qgQcqaCJT5uk0W2Ve91N9ejIjcqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLN6OgMyXFyFZi0cFSrcA6LPPOCli4cIgg2ENmRnD1UCZJG09yKEBfOAL%2BX6FppNQyTIjBl6j6w96WWj6l%2BwhgXAtWTBtmRsJyphKDjQ9sagP%2BbPpgZO1RnU7kK31wmeudJnM8gXGleeXD2bgka9rtpMCBglFa4YMV54EqQahgpZBeix8tifnHzCtujqghLQATLmhNPr8QTnYkJNI0vgXsghDL8xinLAvloMjCFXQPf719LMg5LDLnX6tP1fN6ggBr%2BOWfbQuc9DR30Z9xkPPifrFNDNB8%2BsUiQFfrG3Z4Xm0GYlxDyADv%2BNaZmRd03jnSQ3F6ql3qj7cTRhyW2hQJlzonppPUIAm3cJlRpeXVOo1fD72wBcKEOrZrwSZjgvKx%2BcYjs31Q7xinPg9wgRr7jppobQHOwbv%2BoGKkmEq4LhAeG1uxkyl3E3YjVMWWlo1NDuBoa1iitemhYvXsK3fRnuSFhD45OaUuIvhiPMEJxvT5SFne%2ByUL9N%2FNqPR4HdGDpMH2I%2FWNarLKHCID1BnkQVwVpyosHw7p6vqVgnjix5f1HOo0dr25pI844YIUDPnwt2Kg2BZ%2Ft1ilzlic%2F3kE%2BuONM2fpvxfYNXoIhupEmMQpNpAIvL03JeXwvQt4bjIP6PEwSF11VsFtHlMKy33skGOqUB%2B0iCf2dXVzXnYG4lqnUZlDp4pk4Dy%2BMt8p0fJUYtZ8CLs3fOBbsAM2o8fIeBTxr8lefpW5GeIKcrV%2FumfsE5U5%2Bwz3U3xk1oEuGKUrtCQtOGkpcwHuosZ9oSqMV9qFjKWtTBy6z1CmPA8XZkyjg08qx7z3GSevLIvWzQl%2FzJyrndeowk7KiIAd%2Fx%2Bx%2Bz%2B2%2BJ7j%2BQ%2BILYyaa1D1qxScUPH9lDqsRp&X-Amz-Signature=4935aea13cc8aa634c17ec5f94b26383e4e85d7c8f3d1bc33cd77287e216a47b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

