
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QRNVGOMB%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041958Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIFnp%2B4LkWDvnZvsNApNjFT8hoHOV3qBmwK1HJjqIr%2BZkAiATxlCdpWvE8RMCh4SmkXnHl4EaRWnSN9kXsdMwA5G2tyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMLF1kDAL3qoc8SX4VKtwDGkpN4FTHr0NTYlIYErMp7kbyAdup7JAQou0KlrpGiCjNk5LMNk2yD%2Fp%2FrvtjFnKPL102MNM4a4ZAISqjJVjJIF2PH9f6afU%2BDG4MWxKUG9W4BROR2SRrpATOduj%2FW6sP3Qxbd%2F4PPqqOTyVtyy2Fd1g1%2Bo%2FsDcaHEcP0e1cGvQLLhQQc%2BcENrKsFwQdploXbha8YyM5YFXZC5bwPpzhl%2FWZk5%2F%2FclM%2BpiAeoMpQIOoAkGBI573JVWUBqEzjcNFWryFCpDzFUS1wxev3u85x3GdUkUWAxEPNbiMYC0jfEUhbYMBKSy%2BwaTRjtX%2F8WBHIPj84I8ZcTGQLRSMae6O3eZyix7AU7tNWqAtYZw88hFbtlXBDnhh70W8dCgSWqTkNuxLmzS6mOcio9C83XEsEwzJlykmI01GEOcey8K538BhG4Ydyozsv6gGsP8Elcc3QV5u3ruEelXV7pY7DlmwhemTjsUKFjl6JuuaQdcke42KzBmcl8b9PZKxPOti%2FRUGQhjb21XBashnkz7ew3LnpuNxC6HoIHFFnECSgcI4AQKhRAX4Cbu%2FqgBBFs%2BYSXmMBDwGSivXyVzGpR5Y3c06YIO7VhtGOK4KziCcBoVU5arZtOtTkLVnF7vr1N668wrorXygY6pgFvwsvgPjAKGH2P%2FlOuuAZIp7tsmAE9xX43WzQEyPq5qzT9qfTnA5dyRYXdS7UnQ8nQzNUlG9GzzNOEO0hAm83cakR1FDD69XnWSnye8bnCbIJU26xv82BdSDav7Vlcej%2BmFHCwVeiLII%2BE97HfS%2BiKdDa5B4TXzlhQsq29NPkXAe8W4kEF95dpMymTMGEH8xhMc1BFqENAbwOGExo3ffNmKVx5Ady7&X-Amz-Signature=c7f51a4e9443f257dc6d1b463201c003ce25c3d8077ddb535bfe013175d82af9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QRNVGOMB%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041958Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIFnp%2B4LkWDvnZvsNApNjFT8hoHOV3qBmwK1HJjqIr%2BZkAiATxlCdpWvE8RMCh4SmkXnHl4EaRWnSN9kXsdMwA5G2tyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMLF1kDAL3qoc8SX4VKtwDGkpN4FTHr0NTYlIYErMp7kbyAdup7JAQou0KlrpGiCjNk5LMNk2yD%2Fp%2FrvtjFnKPL102MNM4a4ZAISqjJVjJIF2PH9f6afU%2BDG4MWxKUG9W4BROR2SRrpATOduj%2FW6sP3Qxbd%2F4PPqqOTyVtyy2Fd1g1%2Bo%2FsDcaHEcP0e1cGvQLLhQQc%2BcENrKsFwQdploXbha8YyM5YFXZC5bwPpzhl%2FWZk5%2F%2FclM%2BpiAeoMpQIOoAkGBI573JVWUBqEzjcNFWryFCpDzFUS1wxev3u85x3GdUkUWAxEPNbiMYC0jfEUhbYMBKSy%2BwaTRjtX%2F8WBHIPj84I8ZcTGQLRSMae6O3eZyix7AU7tNWqAtYZw88hFbtlXBDnhh70W8dCgSWqTkNuxLmzS6mOcio9C83XEsEwzJlykmI01GEOcey8K538BhG4Ydyozsv6gGsP8Elcc3QV5u3ruEelXV7pY7DlmwhemTjsUKFjl6JuuaQdcke42KzBmcl8b9PZKxPOti%2FRUGQhjb21XBashnkz7ew3LnpuNxC6HoIHFFnECSgcI4AQKhRAX4Cbu%2FqgBBFs%2BYSXmMBDwGSivXyVzGpR5Y3c06YIO7VhtGOK4KziCcBoVU5arZtOtTkLVnF7vr1N668wrorXygY6pgFvwsvgPjAKGH2P%2FlOuuAZIp7tsmAE9xX43WzQEyPq5qzT9qfTnA5dyRYXdS7UnQ8nQzNUlG9GzzNOEO0hAm83cakR1FDD69XnWSnye8bnCbIJU26xv82BdSDav7Vlcej%2BmFHCwVeiLII%2BE97HfS%2BiKdDa5B4TXzlhQsq29NPkXAe8W4kEF95dpMymTMGEH8xhMc1BFqENAbwOGExo3ffNmKVx5Ady7&X-Amz-Signature=4edc8b0795d29e321aa29036343b1cf5b88c333e89086f4c76c16cbb46d0ad64&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QRNVGOMB%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041958Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIFnp%2B4LkWDvnZvsNApNjFT8hoHOV3qBmwK1HJjqIr%2BZkAiATxlCdpWvE8RMCh4SmkXnHl4EaRWnSN9kXsdMwA5G2tyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMLF1kDAL3qoc8SX4VKtwDGkpN4FTHr0NTYlIYErMp7kbyAdup7JAQou0KlrpGiCjNk5LMNk2yD%2Fp%2FrvtjFnKPL102MNM4a4ZAISqjJVjJIF2PH9f6afU%2BDG4MWxKUG9W4BROR2SRrpATOduj%2FW6sP3Qxbd%2F4PPqqOTyVtyy2Fd1g1%2Bo%2FsDcaHEcP0e1cGvQLLhQQc%2BcENrKsFwQdploXbha8YyM5YFXZC5bwPpzhl%2FWZk5%2F%2FclM%2BpiAeoMpQIOoAkGBI573JVWUBqEzjcNFWryFCpDzFUS1wxev3u85x3GdUkUWAxEPNbiMYC0jfEUhbYMBKSy%2BwaTRjtX%2F8WBHIPj84I8ZcTGQLRSMae6O3eZyix7AU7tNWqAtYZw88hFbtlXBDnhh70W8dCgSWqTkNuxLmzS6mOcio9C83XEsEwzJlykmI01GEOcey8K538BhG4Ydyozsv6gGsP8Elcc3QV5u3ruEelXV7pY7DlmwhemTjsUKFjl6JuuaQdcke42KzBmcl8b9PZKxPOti%2FRUGQhjb21XBashnkz7ew3LnpuNxC6HoIHFFnECSgcI4AQKhRAX4Cbu%2FqgBBFs%2BYSXmMBDwGSivXyVzGpR5Y3c06YIO7VhtGOK4KziCcBoVU5arZtOtTkLVnF7vr1N668wrorXygY6pgFvwsvgPjAKGH2P%2FlOuuAZIp7tsmAE9xX43WzQEyPq5qzT9qfTnA5dyRYXdS7UnQ8nQzNUlG9GzzNOEO0hAm83cakR1FDD69XnWSnye8bnCbIJU26xv82BdSDav7Vlcej%2BmFHCwVeiLII%2BE97HfS%2BiKdDa5B4TXzlhQsq29NPkXAe8W4kEF95dpMymTMGEH8xhMc1BFqENAbwOGExo3ffNmKVx5Ady7&X-Amz-Signature=b8b89ac3e0655b6e406d297ae880143218929f7fb3ef15edce54693df8643cb7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

