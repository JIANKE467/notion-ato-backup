
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663ZUWAK7B%2F20260131%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260131T044719Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDe5ArF2%2FmJ9pq0LVaUAwVOFXkFbxa3LMqez3DXcqHf9gIhANzvriIoMpzY%2FAF4paOLMmUHYib9WIbA3rm63qTjc9wwKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx6O9HKzENESRdQEbcq3ANYhR0P3XrAxAXwKGHU0k8rTxs1Ug8Fm5pabd%2BPMk8ejpWh8ZQYylTGjOxuZSGwdv2%2F64DrfNGtvldeDrQB0ib3M1TC%2BwgZC3eGf7DPsP20LWalGez8fOoMdcpnIUqlXtBy4pE0Ih5PE35jhW2uyT6f3X9bWQ3k00VkKI1vcoRKKKWcoA1FAqDfX41tW53NPWUB01rPs3qj9hKe9769exPFgMvEKzhsVQy1XXPktu1X0kggYB5ogi24l07PzPIiUpl5vcRRmsY3ZTqIfaKYcICNcQvwqw9A0o177sVsvrt6KNVL%2FGWgZkUVDEUEp%2Fyog1Sjp4davLgfXUxoriLZv1Fxk7YbbeCG36ohJpJxU42kZKeaqv%2BQRhrkKLiGVoIS604K3oV21a8zM%2BJLuumIzW7J3wDUyjKoxtIiOrmX994vugLiXV53GTET4r9LoxHOQ7VOm5k8SPBeZfRQ%2BLUWZ7rWJYLV63miRP6IN%2BZwRfsuprYrBqf82VU7nhQJJqfTB6bfBftY390lwPOP07T2xFNI1%2BKSLkNC0LGn8a7K5zHtbLGdF7BfVn6pkNGscwyHAqpl3iqPaXv1Q0AwwMgGwHT1QVPNhcUmsTQVqPohrwDBskr8YlNPbfLNs8cubjCug%2FbLBjqkAdAf9DUg%2BMTv%2FYR9Rbd%2BfKyFApBKx2ayiF%2BSzPQeh5yz3hkpZ79ZXc1QCgFYAC5e97h6TU%2BsQbQwA%2Bd2VhVK06EDdVEgHO87Mz4w5HzTWey0Ycg%2FSE5gwfmUiGA3Us2ll3SikHNC95ycd0eR%2FtT6pMuvg2UmwiIGCxHMWDcQZTrvSk84GbHeND8KJ9etPqCxy48RfDs6TYOpPi31MNwx6pHggxcX&X-Amz-Signature=8c9b800cea1e4c8e82a69b58244fa286e4fb2ff362be103b5d0cc61571e60aab&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663ZUWAK7B%2F20260131%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260131T044719Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDe5ArF2%2FmJ9pq0LVaUAwVOFXkFbxa3LMqez3DXcqHf9gIhANzvriIoMpzY%2FAF4paOLMmUHYib9WIbA3rm63qTjc9wwKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx6O9HKzENESRdQEbcq3ANYhR0P3XrAxAXwKGHU0k8rTxs1Ug8Fm5pabd%2BPMk8ejpWh8ZQYylTGjOxuZSGwdv2%2F64DrfNGtvldeDrQB0ib3M1TC%2BwgZC3eGf7DPsP20LWalGez8fOoMdcpnIUqlXtBy4pE0Ih5PE35jhW2uyT6f3X9bWQ3k00VkKI1vcoRKKKWcoA1FAqDfX41tW53NPWUB01rPs3qj9hKe9769exPFgMvEKzhsVQy1XXPktu1X0kggYB5ogi24l07PzPIiUpl5vcRRmsY3ZTqIfaKYcICNcQvwqw9A0o177sVsvrt6KNVL%2FGWgZkUVDEUEp%2Fyog1Sjp4davLgfXUxoriLZv1Fxk7YbbeCG36ohJpJxU42kZKeaqv%2BQRhrkKLiGVoIS604K3oV21a8zM%2BJLuumIzW7J3wDUyjKoxtIiOrmX994vugLiXV53GTET4r9LoxHOQ7VOm5k8SPBeZfRQ%2BLUWZ7rWJYLV63miRP6IN%2BZwRfsuprYrBqf82VU7nhQJJqfTB6bfBftY390lwPOP07T2xFNI1%2BKSLkNC0LGn8a7K5zHtbLGdF7BfVn6pkNGscwyHAqpl3iqPaXv1Q0AwwMgGwHT1QVPNhcUmsTQVqPohrwDBskr8YlNPbfLNs8cubjCug%2FbLBjqkAdAf9DUg%2BMTv%2FYR9Rbd%2BfKyFApBKx2ayiF%2BSzPQeh5yz3hkpZ79ZXc1QCgFYAC5e97h6TU%2BsQbQwA%2Bd2VhVK06EDdVEgHO87Mz4w5HzTWey0Ycg%2FSE5gwfmUiGA3Us2ll3SikHNC95ycd0eR%2FtT6pMuvg2UmwiIGCxHMWDcQZTrvSk84GbHeND8KJ9etPqCxy48RfDs6TYOpPi31MNwx6pHggxcX&X-Amz-Signature=f888401d50f04726a4c83d6e3a41365334ca6d27018f609615518188b46ec44f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663ZUWAK7B%2F20260131%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260131T044719Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDe5ArF2%2FmJ9pq0LVaUAwVOFXkFbxa3LMqez3DXcqHf9gIhANzvriIoMpzY%2FAF4paOLMmUHYib9WIbA3rm63qTjc9wwKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx6O9HKzENESRdQEbcq3ANYhR0P3XrAxAXwKGHU0k8rTxs1Ug8Fm5pabd%2BPMk8ejpWh8ZQYylTGjOxuZSGwdv2%2F64DrfNGtvldeDrQB0ib3M1TC%2BwgZC3eGf7DPsP20LWalGez8fOoMdcpnIUqlXtBy4pE0Ih5PE35jhW2uyT6f3X9bWQ3k00VkKI1vcoRKKKWcoA1FAqDfX41tW53NPWUB01rPs3qj9hKe9769exPFgMvEKzhsVQy1XXPktu1X0kggYB5ogi24l07PzPIiUpl5vcRRmsY3ZTqIfaKYcICNcQvwqw9A0o177sVsvrt6KNVL%2FGWgZkUVDEUEp%2Fyog1Sjp4davLgfXUxoriLZv1Fxk7YbbeCG36ohJpJxU42kZKeaqv%2BQRhrkKLiGVoIS604K3oV21a8zM%2BJLuumIzW7J3wDUyjKoxtIiOrmX994vugLiXV53GTET4r9LoxHOQ7VOm5k8SPBeZfRQ%2BLUWZ7rWJYLV63miRP6IN%2BZwRfsuprYrBqf82VU7nhQJJqfTB6bfBftY390lwPOP07T2xFNI1%2BKSLkNC0LGn8a7K5zHtbLGdF7BfVn6pkNGscwyHAqpl3iqPaXv1Q0AwwMgGwHT1QVPNhcUmsTQVqPohrwDBskr8YlNPbfLNs8cubjCug%2FbLBjqkAdAf9DUg%2BMTv%2FYR9Rbd%2BfKyFApBKx2ayiF%2BSzPQeh5yz3hkpZ79ZXc1QCgFYAC5e97h6TU%2BsQbQwA%2Bd2VhVK06EDdVEgHO87Mz4w5HzTWey0Ycg%2FSE5gwfmUiGA3Us2ll3SikHNC95ycd0eR%2FtT6pMuvg2UmwiIGCxHMWDcQZTrvSk84GbHeND8KJ9etPqCxy48RfDs6TYOpPi31MNwx6pHggxcX&X-Amz-Signature=d91af811f9ce90fdfce69be628c8fa09aeed8eed0432094340f36cca3a190854&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

