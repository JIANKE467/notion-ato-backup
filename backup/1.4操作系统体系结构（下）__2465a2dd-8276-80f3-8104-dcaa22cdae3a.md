
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RLKVRJQS%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040551Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEUWYXONGplChy%2F8cBah6pfa33aejH%2B6yRCPnL9y7%2BQjAiEAsTnnSxj97dJrMTbeIVsXB%2F1iQm7YvpECIwq39Nznls4q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDHqKl7o4IDBkUX53FyrcA1jbQWNb7q4OoTc3ZVUaHtZ17xhGJg6K65%2BaBVjQzTGS956Ly5kP8WrlfTPVKrbfIr58TtKPg6fmb1wiD2DrsxQdTtgpQD%2B309rTlXE2uhwNXav%2Fi2OKK6LUb1ZNYFsOCnPBgS%2BLfCsj%2FWLTBZwO%2Fpi7VttdEW6aK5OE74d9mUF8KRBHl1oNS%2BOGPICXGGPNpi69IFkpmGQwnCm4ugTbLAK8Rxd7tYGfhflk6aqV0IY%2BFx3kGeK1fBNbvzsIqf9i4X3YQVD0beo2lYUNZ4iD0lxs0TA5Q5D2QiRTFetYx4VAoyA50LP%2Fgif1oBd0YwtqF%2BYzRIoCz0uzUhHTsoGIxu39V%2BYwBS44n8ROHyuRd40jWjCN4pUH3by2Qnt4i626OKwTWtbbV5BRd7EmORvLXJbsmXl6cXAt%2BlkNTCtvuZMTB6bZNOj%2B1hChLo%2FxMuHA6RuL12cS9QEWNB4RxqjuNZhOqFnLUBAZTXGIT4sIJI81tpJePIm1%2F7xIyFvhdRLefVFZ0%2F6ldTufNuNHh%2BlCpGd4W1q0byx0YSrltN78TSVhYlsqA5gqzDRfM9UW7mqo8gTxyWZY4%2FR1bQjcvJqj3zTe9RZiJWZYUAU4GhUlknOuxnjk9E0eD9Pby6XgMNL8q8sGOqUBD9DrreFTc6jkeduma29C50Ik9MPiy7UrAJjHQjodJv%2F%2BrAQk6rgABjs36jWXRsPxz6jb78KOJuTvZvhG3BcJFW%2BfMLtUyZ20S9vURwWrWrQOdRKrtKIguZSbLyNuTBGRGaJHa%2FihNqPVf5RcGcIpjbaxwpuvn4%2F7BLAOBP3YjvmO%2BNJKHPw8lCLlXIRwUW0ByUNnDfYV7l5pHHVTS0LGNH8dcccZ&X-Amz-Signature=5b6b34e05086fc35c49e94ed53f8abf384c29687519a8dcc9566704f16b1280e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RLKVRJQS%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040551Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEUWYXONGplChy%2F8cBah6pfa33aejH%2B6yRCPnL9y7%2BQjAiEAsTnnSxj97dJrMTbeIVsXB%2F1iQm7YvpECIwq39Nznls4q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDHqKl7o4IDBkUX53FyrcA1jbQWNb7q4OoTc3ZVUaHtZ17xhGJg6K65%2BaBVjQzTGS956Ly5kP8WrlfTPVKrbfIr58TtKPg6fmb1wiD2DrsxQdTtgpQD%2B309rTlXE2uhwNXav%2Fi2OKK6LUb1ZNYFsOCnPBgS%2BLfCsj%2FWLTBZwO%2Fpi7VttdEW6aK5OE74d9mUF8KRBHl1oNS%2BOGPICXGGPNpi69IFkpmGQwnCm4ugTbLAK8Rxd7tYGfhflk6aqV0IY%2BFx3kGeK1fBNbvzsIqf9i4X3YQVD0beo2lYUNZ4iD0lxs0TA5Q5D2QiRTFetYx4VAoyA50LP%2Fgif1oBd0YwtqF%2BYzRIoCz0uzUhHTsoGIxu39V%2BYwBS44n8ROHyuRd40jWjCN4pUH3by2Qnt4i626OKwTWtbbV5BRd7EmORvLXJbsmXl6cXAt%2BlkNTCtvuZMTB6bZNOj%2B1hChLo%2FxMuHA6RuL12cS9QEWNB4RxqjuNZhOqFnLUBAZTXGIT4sIJI81tpJePIm1%2F7xIyFvhdRLefVFZ0%2F6ldTufNuNHh%2BlCpGd4W1q0byx0YSrltN78TSVhYlsqA5gqzDRfM9UW7mqo8gTxyWZY4%2FR1bQjcvJqj3zTe9RZiJWZYUAU4GhUlknOuxnjk9E0eD9Pby6XgMNL8q8sGOqUBD9DrreFTc6jkeduma29C50Ik9MPiy7UrAJjHQjodJv%2F%2BrAQk6rgABjs36jWXRsPxz6jb78KOJuTvZvhG3BcJFW%2BfMLtUyZ20S9vURwWrWrQOdRKrtKIguZSbLyNuTBGRGaJHa%2FihNqPVf5RcGcIpjbaxwpuvn4%2F7BLAOBP3YjvmO%2BNJKHPw8lCLlXIRwUW0ByUNnDfYV7l5pHHVTS0LGNH8dcccZ&X-Amz-Signature=c4ad291d4027bd775cd77f923dc775a8f1f761d32ec2aaf7349ca5483ebf05b9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RLKVRJQS%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040551Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEUWYXONGplChy%2F8cBah6pfa33aejH%2B6yRCPnL9y7%2BQjAiEAsTnnSxj97dJrMTbeIVsXB%2F1iQm7YvpECIwq39Nznls4q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDHqKl7o4IDBkUX53FyrcA1jbQWNb7q4OoTc3ZVUaHtZ17xhGJg6K65%2BaBVjQzTGS956Ly5kP8WrlfTPVKrbfIr58TtKPg6fmb1wiD2DrsxQdTtgpQD%2B309rTlXE2uhwNXav%2Fi2OKK6LUb1ZNYFsOCnPBgS%2BLfCsj%2FWLTBZwO%2Fpi7VttdEW6aK5OE74d9mUF8KRBHl1oNS%2BOGPICXGGPNpi69IFkpmGQwnCm4ugTbLAK8Rxd7tYGfhflk6aqV0IY%2BFx3kGeK1fBNbvzsIqf9i4X3YQVD0beo2lYUNZ4iD0lxs0TA5Q5D2QiRTFetYx4VAoyA50LP%2Fgif1oBd0YwtqF%2BYzRIoCz0uzUhHTsoGIxu39V%2BYwBS44n8ROHyuRd40jWjCN4pUH3by2Qnt4i626OKwTWtbbV5BRd7EmORvLXJbsmXl6cXAt%2BlkNTCtvuZMTB6bZNOj%2B1hChLo%2FxMuHA6RuL12cS9QEWNB4RxqjuNZhOqFnLUBAZTXGIT4sIJI81tpJePIm1%2F7xIyFvhdRLefVFZ0%2F6ldTufNuNHh%2BlCpGd4W1q0byx0YSrltN78TSVhYlsqA5gqzDRfM9UW7mqo8gTxyWZY4%2FR1bQjcvJqj3zTe9RZiJWZYUAU4GhUlknOuxnjk9E0eD9Pby6XgMNL8q8sGOqUBD9DrreFTc6jkeduma29C50Ik9MPiy7UrAJjHQjodJv%2F%2BrAQk6rgABjs36jWXRsPxz6jb78KOJuTvZvhG3BcJFW%2BfMLtUyZ20S9vURwWrWrQOdRKrtKIguZSbLyNuTBGRGaJHa%2FihNqPVf5RcGcIpjbaxwpuvn4%2F7BLAOBP3YjvmO%2BNJKHPw8lCLlXIRwUW0ByUNnDfYV7l5pHHVTS0LGNH8dcccZ&X-Amz-Signature=59024658630136ce62d0fcf8176f1aae8cac569190f3ccfd091fffaced629e0d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

