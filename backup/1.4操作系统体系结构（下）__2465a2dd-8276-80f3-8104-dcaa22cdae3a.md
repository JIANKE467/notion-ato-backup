
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46667KIEAQO%2F20260103%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260103T040357Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEQaCXVzLXdlc3QtMiJGMEQCIFMDPuIjZB58fLyktl4Y6OA%2F1W5yK6GnOMFvPcs5cigMAiAIu7PgSbkDCCDZWxAsGuOR0BZKQB8EXNRNbWvq02%2Fy5Cr%2FAwgNEAAaDDYzNzQyMzE4MzgwNSIM8jxlkDQQPN4%2Bl6SzKtwDcx1%2FwRqLkuDUsP93fXm56WPp6dX%2BVD0Hp%2BZgv3F66G3SBHrFABa0IzCYBlmWsPUffLejDm%2Bs9msuSTYAXtPMbhPg%2FXcW8zdx3RlAjuhfmDloLQdAd5zFq2ApQUhv5Kyn5hce4g7RXu%2BKztg1uMOvxbo1Mq7xNNZNd1iI6BVaKdJiF%2FTL2Y3oquz0ukIKMz9ERi18Xfy%2BuKaN1wJrJoqcHQW8z%2B6WwZaW%2FPF4UBRnGww7uzt1uciV5%2FWORC%2F7R7jKnN49W4xKSlT1x1XpGllVfBrKBTH0NB3uQYzhk0wSfJVjSzasP264cvQSCCFxKIwnbyPwM7Tn7wKi%2FmhZFaR7SFHgBYK8ch0aZSmkSvM4uf57d26dQV2xFlL0L8b1FTDbKYuzSQRWjOlCYIOvbGk6ZxB%2FqYq3Ir9m%2FS45d0q%2Bw1SIgUqfl%2Bd%2B2jZ8aRzZ9zrG%2FAM0LdkuyWZNLhZH8YULtPWJUUteyrxUmuRPLw2SGaqkLwaB%2FsJg8savgGQp8M8pv2COIILSULDVatN0zXKItOjg%2FF0IvVKF8wL5j%2BPhCJ14QZAqdoWuFpq4kJHI3Qeb9y17cYez%2BIAEC5pi9ZCp3aYImCV8zJq3yPOo1TQFhGYxKomQzPC0aJyoeyow%2BafiygY6pgEXLxVUzGqm65PGBtHU0jf%2FZBSFAM0hhyIe7FQ38zABRyPKgYBp4R6a36xC9%2F81jXjfkX73lqOoZx7WuneWquB0cYN4rDHEpnkWoQjkTlgAz9ehALV%2BdtH8uOSyBhi4B332cBT2OIDFUg3WKvZdNlGXH3HB0n7OhDrtaIYleA7zclv%2Fm8bruMkNUSut6l0dSqjnAvLRxnhAu%2BIzI19njA25HyWCS5F8&X-Amz-Signature=8bd4cf11fe39905bb186b880f4c0aa1538b0c7fdb51105f607eb84b0ac2cac2e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46667KIEAQO%2F20260103%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260103T040357Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEQaCXVzLXdlc3QtMiJGMEQCIFMDPuIjZB58fLyktl4Y6OA%2F1W5yK6GnOMFvPcs5cigMAiAIu7PgSbkDCCDZWxAsGuOR0BZKQB8EXNRNbWvq02%2Fy5Cr%2FAwgNEAAaDDYzNzQyMzE4MzgwNSIM8jxlkDQQPN4%2Bl6SzKtwDcx1%2FwRqLkuDUsP93fXm56WPp6dX%2BVD0Hp%2BZgv3F66G3SBHrFABa0IzCYBlmWsPUffLejDm%2Bs9msuSTYAXtPMbhPg%2FXcW8zdx3RlAjuhfmDloLQdAd5zFq2ApQUhv5Kyn5hce4g7RXu%2BKztg1uMOvxbo1Mq7xNNZNd1iI6BVaKdJiF%2FTL2Y3oquz0ukIKMz9ERi18Xfy%2BuKaN1wJrJoqcHQW8z%2B6WwZaW%2FPF4UBRnGww7uzt1uciV5%2FWORC%2F7R7jKnN49W4xKSlT1x1XpGllVfBrKBTH0NB3uQYzhk0wSfJVjSzasP264cvQSCCFxKIwnbyPwM7Tn7wKi%2FmhZFaR7SFHgBYK8ch0aZSmkSvM4uf57d26dQV2xFlL0L8b1FTDbKYuzSQRWjOlCYIOvbGk6ZxB%2FqYq3Ir9m%2FS45d0q%2Bw1SIgUqfl%2Bd%2B2jZ8aRzZ9zrG%2FAM0LdkuyWZNLhZH8YULtPWJUUteyrxUmuRPLw2SGaqkLwaB%2FsJg8savgGQp8M8pv2COIILSULDVatN0zXKItOjg%2FF0IvVKF8wL5j%2BPhCJ14QZAqdoWuFpq4kJHI3Qeb9y17cYez%2BIAEC5pi9ZCp3aYImCV8zJq3yPOo1TQFhGYxKomQzPC0aJyoeyow%2BafiygY6pgEXLxVUzGqm65PGBtHU0jf%2FZBSFAM0hhyIe7FQ38zABRyPKgYBp4R6a36xC9%2F81jXjfkX73lqOoZx7WuneWquB0cYN4rDHEpnkWoQjkTlgAz9ehALV%2BdtH8uOSyBhi4B332cBT2OIDFUg3WKvZdNlGXH3HB0n7OhDrtaIYleA7zclv%2Fm8bruMkNUSut6l0dSqjnAvLRxnhAu%2BIzI19njA25HyWCS5F8&X-Amz-Signature=4704fd0071133af1c04f0ac278f88eee4e65ab1be5c696e098590f57b4ae1055&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46667KIEAQO%2F20260103%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260103T040357Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEQaCXVzLXdlc3QtMiJGMEQCIFMDPuIjZB58fLyktl4Y6OA%2F1W5yK6GnOMFvPcs5cigMAiAIu7PgSbkDCCDZWxAsGuOR0BZKQB8EXNRNbWvq02%2Fy5Cr%2FAwgNEAAaDDYzNzQyMzE4MzgwNSIM8jxlkDQQPN4%2Bl6SzKtwDcx1%2FwRqLkuDUsP93fXm56WPp6dX%2BVD0Hp%2BZgv3F66G3SBHrFABa0IzCYBlmWsPUffLejDm%2Bs9msuSTYAXtPMbhPg%2FXcW8zdx3RlAjuhfmDloLQdAd5zFq2ApQUhv5Kyn5hce4g7RXu%2BKztg1uMOvxbo1Mq7xNNZNd1iI6BVaKdJiF%2FTL2Y3oquz0ukIKMz9ERi18Xfy%2BuKaN1wJrJoqcHQW8z%2B6WwZaW%2FPF4UBRnGww7uzt1uciV5%2FWORC%2F7R7jKnN49W4xKSlT1x1XpGllVfBrKBTH0NB3uQYzhk0wSfJVjSzasP264cvQSCCFxKIwnbyPwM7Tn7wKi%2FmhZFaR7SFHgBYK8ch0aZSmkSvM4uf57d26dQV2xFlL0L8b1FTDbKYuzSQRWjOlCYIOvbGk6ZxB%2FqYq3Ir9m%2FS45d0q%2Bw1SIgUqfl%2Bd%2B2jZ8aRzZ9zrG%2FAM0LdkuyWZNLhZH8YULtPWJUUteyrxUmuRPLw2SGaqkLwaB%2FsJg8savgGQp8M8pv2COIILSULDVatN0zXKItOjg%2FF0IvVKF8wL5j%2BPhCJ14QZAqdoWuFpq4kJHI3Qeb9y17cYez%2BIAEC5pi9ZCp3aYImCV8zJq3yPOo1TQFhGYxKomQzPC0aJyoeyow%2BafiygY6pgEXLxVUzGqm65PGBtHU0jf%2FZBSFAM0hhyIe7FQ38zABRyPKgYBp4R6a36xC9%2F81jXjfkX73lqOoZx7WuneWquB0cYN4rDHEpnkWoQjkTlgAz9ehALV%2BdtH8uOSyBhi4B332cBT2OIDFUg3WKvZdNlGXH3HB0n7OhDrtaIYleA7zclv%2Fm8bruMkNUSut6l0dSqjnAvLRxnhAu%2BIzI19njA25HyWCS5F8&X-Amz-Signature=8e8515b020a468726e7831cb347209a05ec1aa73b35085a00005891204d4fa91&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

