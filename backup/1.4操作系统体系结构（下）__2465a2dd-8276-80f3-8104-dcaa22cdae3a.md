
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWK6XQTW%2F20260109%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260109T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCMuMYaFVQWDzMpJctsnHHxw0KbQPqY%2Bng7m1OK8DeKxAIhAPH0khuLlLwTbstslSTP9P3NTJ6u8wg0Zc4eQh49ko9sKogECJ3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igw4MuZDybCSxOtb2GAq3ANcjJ1r2ZZwT37gEDmeanQmQB3Hu%2Bh24fU0qBBet9M2mQ8r13JKIkizD9YZliiUQrLlrp9XnRMSIlVNRE0gGMeCczt%2Fn%2BVQj8cnBMkZazLljeq2hQWeir35viLPxaUnUwf6SszIUg8CC3bTWilXd7w3TzA62zeJHM4Q1QLrG%2F4jr8qfVAoyiZ9v564GTVvVH6lHcTQsd%2B20N1gDS2g3%2FMXFiGcSflLA0iG2ImXoMEPc4NE7utYA%2BKbRg8al19%2Fr7Q3T4DUoWN7vHasg%2BdyUIAjK1i0Qr3K8gCayv9w%2F0Fyjc84sQrjvgrkojLPui6JPRJy4TtLUM9z%2Bbo%2F9rcR2tqBVg4Ozw1h54u8Gd%2FYowC0q2bAVWIudNbBqvq4F6H5wQUfCTp9EIiKwFzDpijQEHw4PfIQSIgu%2B40BCWx%2FjnTVGXnTfwM76pdNSkcN%2FXnHk8PYDVPvvskAxJIixqpmR%2F1nPZgS2ZtRx9JTCiN%2FhR1KYQLx4aaVN%2BTKQMaxKfEs2ODd6y56tB%2BZ3Co67ht1%2FZtlU%2B7Z9qg6PkcfdqEsmIxU3qbmU7vg6PrzMCSqkTTcI%2B63WGth%2BQzVJM2%2F2enqQ7P5GOP4Vl5tXPGfcUDybYA6oMyXoZP7svF3gPeYWdTDw7IHLBjqkActj1USf4R%2FAojE7A4S06SqUUhIWJ6rkx5%2BAB6fDPQrOkITixVKbjTWbWwHAab8VUEAjNu8Q%2BMoVfm5GFiX8F2H0LOjnzA%2B7Mf2GAU4JgRX0Xg4W6QlP6E%2B3mdauN%2BWAnM9YoZkZKvX60XFUhm8MoDN4kAoFmh7R2YpCsxw6eFsTCs3xZYXJTfUOj%2Bvgq2eE2%2FIS6ql4noXGJ6BGHU%2BPps2fzO1M&X-Amz-Signature=05e84ac886ae46ad8b453c1d52d661ceea95ec12aebace3076be966dfec820df&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWK6XQTW%2F20260109%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260109T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCMuMYaFVQWDzMpJctsnHHxw0KbQPqY%2Bng7m1OK8DeKxAIhAPH0khuLlLwTbstslSTP9P3NTJ6u8wg0Zc4eQh49ko9sKogECJ3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igw4MuZDybCSxOtb2GAq3ANcjJ1r2ZZwT37gEDmeanQmQB3Hu%2Bh24fU0qBBet9M2mQ8r13JKIkizD9YZliiUQrLlrp9XnRMSIlVNRE0gGMeCczt%2Fn%2BVQj8cnBMkZazLljeq2hQWeir35viLPxaUnUwf6SszIUg8CC3bTWilXd7w3TzA62zeJHM4Q1QLrG%2F4jr8qfVAoyiZ9v564GTVvVH6lHcTQsd%2B20N1gDS2g3%2FMXFiGcSflLA0iG2ImXoMEPc4NE7utYA%2BKbRg8al19%2Fr7Q3T4DUoWN7vHasg%2BdyUIAjK1i0Qr3K8gCayv9w%2F0Fyjc84sQrjvgrkojLPui6JPRJy4TtLUM9z%2Bbo%2F9rcR2tqBVg4Ozw1h54u8Gd%2FYowC0q2bAVWIudNbBqvq4F6H5wQUfCTp9EIiKwFzDpijQEHw4PfIQSIgu%2B40BCWx%2FjnTVGXnTfwM76pdNSkcN%2FXnHk8PYDVPvvskAxJIixqpmR%2F1nPZgS2ZtRx9JTCiN%2FhR1KYQLx4aaVN%2BTKQMaxKfEs2ODd6y56tB%2BZ3Co67ht1%2FZtlU%2B7Z9qg6PkcfdqEsmIxU3qbmU7vg6PrzMCSqkTTcI%2B63WGth%2BQzVJM2%2F2enqQ7P5GOP4Vl5tXPGfcUDybYA6oMyXoZP7svF3gPeYWdTDw7IHLBjqkActj1USf4R%2FAojE7A4S06SqUUhIWJ6rkx5%2BAB6fDPQrOkITixVKbjTWbWwHAab8VUEAjNu8Q%2BMoVfm5GFiX8F2H0LOjnzA%2B7Mf2GAU4JgRX0Xg4W6QlP6E%2B3mdauN%2BWAnM9YoZkZKvX60XFUhm8MoDN4kAoFmh7R2YpCsxw6eFsTCs3xZYXJTfUOj%2Bvgq2eE2%2FIS6ql4noXGJ6BGHU%2BPps2fzO1M&X-Amz-Signature=169deeaa3201e36ad6805f44a670b2c176a55c7b0f2388fa87e12a4211d5c08e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWK6XQTW%2F20260109%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260109T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCMuMYaFVQWDzMpJctsnHHxw0KbQPqY%2Bng7m1OK8DeKxAIhAPH0khuLlLwTbstslSTP9P3NTJ6u8wg0Zc4eQh49ko9sKogECJ3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igw4MuZDybCSxOtb2GAq3ANcjJ1r2ZZwT37gEDmeanQmQB3Hu%2Bh24fU0qBBet9M2mQ8r13JKIkizD9YZliiUQrLlrp9XnRMSIlVNRE0gGMeCczt%2Fn%2BVQj8cnBMkZazLljeq2hQWeir35viLPxaUnUwf6SszIUg8CC3bTWilXd7w3TzA62zeJHM4Q1QLrG%2F4jr8qfVAoyiZ9v564GTVvVH6lHcTQsd%2B20N1gDS2g3%2FMXFiGcSflLA0iG2ImXoMEPc4NE7utYA%2BKbRg8al19%2Fr7Q3T4DUoWN7vHasg%2BdyUIAjK1i0Qr3K8gCayv9w%2F0Fyjc84sQrjvgrkojLPui6JPRJy4TtLUM9z%2Bbo%2F9rcR2tqBVg4Ozw1h54u8Gd%2FYowC0q2bAVWIudNbBqvq4F6H5wQUfCTp9EIiKwFzDpijQEHw4PfIQSIgu%2B40BCWx%2FjnTVGXnTfwM76pdNSkcN%2FXnHk8PYDVPvvskAxJIixqpmR%2F1nPZgS2ZtRx9JTCiN%2FhR1KYQLx4aaVN%2BTKQMaxKfEs2ODd6y56tB%2BZ3Co67ht1%2FZtlU%2B7Z9qg6PkcfdqEsmIxU3qbmU7vg6PrzMCSqkTTcI%2B63WGth%2BQzVJM2%2F2enqQ7P5GOP4Vl5tXPGfcUDybYA6oMyXoZP7svF3gPeYWdTDw7IHLBjqkActj1USf4R%2FAojE7A4S06SqUUhIWJ6rkx5%2BAB6fDPQrOkITixVKbjTWbWwHAab8VUEAjNu8Q%2BMoVfm5GFiX8F2H0LOjnzA%2B7Mf2GAU4JgRX0Xg4W6QlP6E%2B3mdauN%2BWAnM9YoZkZKvX60XFUhm8MoDN4kAoFmh7R2YpCsxw6eFsTCs3xZYXJTfUOj%2Bvgq2eE2%2FIS6ql4noXGJ6BGHU%2BPps2fzO1M&X-Amz-Signature=e15b8783889678fdb046f928d439cc33bc088b7f1f9adbc95204add1390e2f39&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

