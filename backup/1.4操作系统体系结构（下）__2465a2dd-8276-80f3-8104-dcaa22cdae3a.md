
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YBSU6DAP%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042027Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIG1kqKJs9rOnfivJ1T%2FQkwYxpZiaAd63fjkim8sOCzSVAiEA%2BemJUGAAxlQvlzfyiadvgQEa3Cg8peM13qfc9QQOoOkq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDI2VRAab3vYjZjTWnSrcAypd4YDsU5Q7bqXSMS%2BlYOCqJjOH5Keo6jIjitnT7qAflUmnZ9kgL%2FL2%2FHS4ngAxce7HN3p6djUxB%2B0MwPm2UXQS0xJJTgjQdOI7K%2FdTezOT3L%2Besf96PXiXjLGypYO2gj%2F5Z96QhhyXs%2BCk2gME8ir9Lop%2F2KX7zZ35euwzv%2BG1kmNrdsnELC1EUCEko4JOonP1H8wBY8P3X00iWPIHbtvzpZ8m6nmTup2EOy8C0ZhqIuRQmOJc7fGh7%2FS3W1E2gVdGtaMMS3Bq8V%2BdXfv5YWhXcH0lTXTPpZPX1UyGceu%2F0pkJncr6UPuBhRA76JXY6VBmGPqHlSZ%2Feo%2FZYfjvCll4wYyU%2BghgmLfue5kgkrqxVyIVl68hR9ArhDngqcaijkG%2FaoXoFvZO8lZrYXiLf5zMFPZgLNnalR%2FSIBJPU80bPPViIYDqtX9%2FvEH8cBOq6pYDM%2Ftv6rQuQgE0wkVQAb6eTThHZWIR%2BmbYhwE2Nr%2FQfiuZ1i%2FE%2BifhMSI8XQYE%2FOig5KBg5wIgpo1%2FvTfP3lkaWiN%2Bf9rySpyNJC5bj8yZX0%2Fyj5SMhjzSVdOifXuB9pWVMDkdhcelM%2F3yONfnYSb9Ude%2B0LMenQFPc1ZrWWfDlSSu3iPGca1jBKjLMNycnMsGOqUBsp1%2FlSFC9KSCJvlJ5b34fGhs20299kHr%2FxraxTDUq6F%2FNSGvoNNv%2FSnbgP4EP6OZ%2Bu1tsqSlO6sb%2BuExIC%2Ft9wer9FrDRjl%2BBRCvBh0Qr0rPnZuE1HskR7B%2FmWsPVJRNyHOqjHg%2FfozeKxb5s9LOysyQKWuul1aVvHbQjgYOrYoq8dutTWI4C2xOy7EbQl0PFtZoyq5wIMd7Vdgk1gOOf%2B2eRoOd&X-Amz-Signature=13bf4761ed7f2ec6d4752799fdc483bd02eaf685b4d1477e697f6a192d11388e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YBSU6DAP%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042027Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIG1kqKJs9rOnfivJ1T%2FQkwYxpZiaAd63fjkim8sOCzSVAiEA%2BemJUGAAxlQvlzfyiadvgQEa3Cg8peM13qfc9QQOoOkq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDI2VRAab3vYjZjTWnSrcAypd4YDsU5Q7bqXSMS%2BlYOCqJjOH5Keo6jIjitnT7qAflUmnZ9kgL%2FL2%2FHS4ngAxce7HN3p6djUxB%2B0MwPm2UXQS0xJJTgjQdOI7K%2FdTezOT3L%2Besf96PXiXjLGypYO2gj%2F5Z96QhhyXs%2BCk2gME8ir9Lop%2F2KX7zZ35euwzv%2BG1kmNrdsnELC1EUCEko4JOonP1H8wBY8P3X00iWPIHbtvzpZ8m6nmTup2EOy8C0ZhqIuRQmOJc7fGh7%2FS3W1E2gVdGtaMMS3Bq8V%2BdXfv5YWhXcH0lTXTPpZPX1UyGceu%2F0pkJncr6UPuBhRA76JXY6VBmGPqHlSZ%2Feo%2FZYfjvCll4wYyU%2BghgmLfue5kgkrqxVyIVl68hR9ArhDngqcaijkG%2FaoXoFvZO8lZrYXiLf5zMFPZgLNnalR%2FSIBJPU80bPPViIYDqtX9%2FvEH8cBOq6pYDM%2Ftv6rQuQgE0wkVQAb6eTThHZWIR%2BmbYhwE2Nr%2FQfiuZ1i%2FE%2BifhMSI8XQYE%2FOig5KBg5wIgpo1%2FvTfP3lkaWiN%2Bf9rySpyNJC5bj8yZX0%2Fyj5SMhjzSVdOifXuB9pWVMDkdhcelM%2F3yONfnYSb9Ude%2B0LMenQFPc1ZrWWfDlSSu3iPGca1jBKjLMNycnMsGOqUBsp1%2FlSFC9KSCJvlJ5b34fGhs20299kHr%2FxraxTDUq6F%2FNSGvoNNv%2FSnbgP4EP6OZ%2Bu1tsqSlO6sb%2BuExIC%2Ft9wer9FrDRjl%2BBRCvBh0Qr0rPnZuE1HskR7B%2FmWsPVJRNyHOqjHg%2FfozeKxb5s9LOysyQKWuul1aVvHbQjgYOrYoq8dutTWI4C2xOy7EbQl0PFtZoyq5wIMd7Vdgk1gOOf%2B2eRoOd&X-Amz-Signature=6a3c8de6e9bdf2d3ec3dc95ebff0a33ec1e361c01e270c885a0ffa12988a6708&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YBSU6DAP%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042027Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIG1kqKJs9rOnfivJ1T%2FQkwYxpZiaAd63fjkim8sOCzSVAiEA%2BemJUGAAxlQvlzfyiadvgQEa3Cg8peM13qfc9QQOoOkq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDI2VRAab3vYjZjTWnSrcAypd4YDsU5Q7bqXSMS%2BlYOCqJjOH5Keo6jIjitnT7qAflUmnZ9kgL%2FL2%2FHS4ngAxce7HN3p6djUxB%2B0MwPm2UXQS0xJJTgjQdOI7K%2FdTezOT3L%2Besf96PXiXjLGypYO2gj%2F5Z96QhhyXs%2BCk2gME8ir9Lop%2F2KX7zZ35euwzv%2BG1kmNrdsnELC1EUCEko4JOonP1H8wBY8P3X00iWPIHbtvzpZ8m6nmTup2EOy8C0ZhqIuRQmOJc7fGh7%2FS3W1E2gVdGtaMMS3Bq8V%2BdXfv5YWhXcH0lTXTPpZPX1UyGceu%2F0pkJncr6UPuBhRA76JXY6VBmGPqHlSZ%2Feo%2FZYfjvCll4wYyU%2BghgmLfue5kgkrqxVyIVl68hR9ArhDngqcaijkG%2FaoXoFvZO8lZrYXiLf5zMFPZgLNnalR%2FSIBJPU80bPPViIYDqtX9%2FvEH8cBOq6pYDM%2Ftv6rQuQgE0wkVQAb6eTThHZWIR%2BmbYhwE2Nr%2FQfiuZ1i%2FE%2BifhMSI8XQYE%2FOig5KBg5wIgpo1%2FvTfP3lkaWiN%2Bf9rySpyNJC5bj8yZX0%2Fyj5SMhjzSVdOifXuB9pWVMDkdhcelM%2F3yONfnYSb9Ude%2B0LMenQFPc1ZrWWfDlSSu3iPGca1jBKjLMNycnMsGOqUBsp1%2FlSFC9KSCJvlJ5b34fGhs20299kHr%2FxraxTDUq6F%2FNSGvoNNv%2FSnbgP4EP6OZ%2Bu1tsqSlO6sb%2BuExIC%2Ft9wer9FrDRjl%2BBRCvBh0Qr0rPnZuE1HskR7B%2FmWsPVJRNyHOqjHg%2FfozeKxb5s9LOysyQKWuul1aVvHbQjgYOrYoq8dutTWI4C2xOy7EbQl0PFtZoyq5wIMd7Vdgk1gOOf%2B2eRoOd&X-Amz-Signature=f5d73f707daf4ff238eab2c347df301a36b861409ede730b76ec5ec83cbd1aab&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

