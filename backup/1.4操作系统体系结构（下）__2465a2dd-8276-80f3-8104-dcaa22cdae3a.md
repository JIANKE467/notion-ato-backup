
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SED7XYOY%2F20260201%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260201T051402Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCiqv1djdVLNhkAHwyx2mWo2tvW8SzLlsQwtA92jnBklgIgKm9UJqGk%2B%2BH8QDGzht0jp0vYzgt6kmDljN%2BlcVWvNlYqiAQIxP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHvxyBH06VzuvpiDhircA3twY07eY7gcF%2F7kUMD0M%2FAvJUBzYaFT8ayBsSli1pRjs2hnJclxQgCHfB8kXkvzrvBb8dL0hL9JrNsgkMTJPBgxVuvSlm%2F%2FtIjQwR9wT9ebQSguI6%2B1C8nO7eQnJ%2F2JtNqp0%2FjkEBgHXnZYrq2cwBqH7w60HakY%2FFQzYP%2FWxIKBgaN%2Br68sQoc0zcRyHmd7C%2BeHJJo9FbMm%2FzWGuzHH0I8HVCSdIhH9ONBUMEEqXo0ahbG6cMlCTL1m4Ta0PCYgUhmIuPlB6YDW8zH8qMbteDEnW3n%2FNWzmwYLrKa4HwSux90isX0DZwegIr1JwwrPQR%2BH5%2BU3u%2FNB9ol5%2B%2BxpcMfc4afcG6%2B3w6tcILq7OQTOKXkwXyQB%2FEFvRHBpyXDiUdfejccD91xYohuR%2BBWX4nMKrkJyxyDdngOu2LD1rqmBoX7G9y8gXe1BDGIj%2F9mYxPzCx8XDm5776ilJ4gaoC3tx3v4cZBMux7Lc8P3XQGbj9qkziddGMld7A8jgllmkYHyi4h2wVow00QzMSWadyBYERrzzDduhYxo6Bd4L1E92GmdJsPrBW%2BAx0N2lp3Y1npGmXipoIpk0naWKqMEB%2FEq0tSV%2B8tl3llXpnzkIbZpOYydpteKimliHP6dZ%2FMPL5%2BssGOqUBth%2BMVQLweVd3Lw2wTe%2FUH%2BRJZ107NHdgwYUsmVQUjP0WDuurwrxBO%2Bc3z0euLJTDylnumRtvOLielImj9LtNm3UtOgkvczLCLMRvcutGfZdWJhR0fZ5Z349Vmn1JyxJRNdYp8ne6s8BsC0v9yfWKPwJj0%2BqmcnGCcxrn8Bt6cqnENzJoJJuKnusbBFDVMEwu0WJU3ugA%2Br9H1FXHCru%2FKs1FwGCI&X-Amz-Signature=aef1d9beeccc012abe296683832afe45ea46bb85c155dfcba239729b9355e869&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SED7XYOY%2F20260201%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260201T051402Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCiqv1djdVLNhkAHwyx2mWo2tvW8SzLlsQwtA92jnBklgIgKm9UJqGk%2B%2BH8QDGzht0jp0vYzgt6kmDljN%2BlcVWvNlYqiAQIxP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHvxyBH06VzuvpiDhircA3twY07eY7gcF%2F7kUMD0M%2FAvJUBzYaFT8ayBsSli1pRjs2hnJclxQgCHfB8kXkvzrvBb8dL0hL9JrNsgkMTJPBgxVuvSlm%2F%2FtIjQwR9wT9ebQSguI6%2B1C8nO7eQnJ%2F2JtNqp0%2FjkEBgHXnZYrq2cwBqH7w60HakY%2FFQzYP%2FWxIKBgaN%2Br68sQoc0zcRyHmd7C%2BeHJJo9FbMm%2FzWGuzHH0I8HVCSdIhH9ONBUMEEqXo0ahbG6cMlCTL1m4Ta0PCYgUhmIuPlB6YDW8zH8qMbteDEnW3n%2FNWzmwYLrKa4HwSux90isX0DZwegIr1JwwrPQR%2BH5%2BU3u%2FNB9ol5%2B%2BxpcMfc4afcG6%2B3w6tcILq7OQTOKXkwXyQB%2FEFvRHBpyXDiUdfejccD91xYohuR%2BBWX4nMKrkJyxyDdngOu2LD1rqmBoX7G9y8gXe1BDGIj%2F9mYxPzCx8XDm5776ilJ4gaoC3tx3v4cZBMux7Lc8P3XQGbj9qkziddGMld7A8jgllmkYHyi4h2wVow00QzMSWadyBYERrzzDduhYxo6Bd4L1E92GmdJsPrBW%2BAx0N2lp3Y1npGmXipoIpk0naWKqMEB%2FEq0tSV%2B8tl3llXpnzkIbZpOYydpteKimliHP6dZ%2FMPL5%2BssGOqUBth%2BMVQLweVd3Lw2wTe%2FUH%2BRJZ107NHdgwYUsmVQUjP0WDuurwrxBO%2Bc3z0euLJTDylnumRtvOLielImj9LtNm3UtOgkvczLCLMRvcutGfZdWJhR0fZ5Z349Vmn1JyxJRNdYp8ne6s8BsC0v9yfWKPwJj0%2BqmcnGCcxrn8Bt6cqnENzJoJJuKnusbBFDVMEwu0WJU3ugA%2Br9H1FXHCru%2FKs1FwGCI&X-Amz-Signature=b0645a44095dd17f0ddea73155207e5924f2c854ddbe3936af244170bc9e1132&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SED7XYOY%2F20260201%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260201T051402Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCiqv1djdVLNhkAHwyx2mWo2tvW8SzLlsQwtA92jnBklgIgKm9UJqGk%2B%2BH8QDGzht0jp0vYzgt6kmDljN%2BlcVWvNlYqiAQIxP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHvxyBH06VzuvpiDhircA3twY07eY7gcF%2F7kUMD0M%2FAvJUBzYaFT8ayBsSli1pRjs2hnJclxQgCHfB8kXkvzrvBb8dL0hL9JrNsgkMTJPBgxVuvSlm%2F%2FtIjQwR9wT9ebQSguI6%2B1C8nO7eQnJ%2F2JtNqp0%2FjkEBgHXnZYrq2cwBqH7w60HakY%2FFQzYP%2FWxIKBgaN%2Br68sQoc0zcRyHmd7C%2BeHJJo9FbMm%2FzWGuzHH0I8HVCSdIhH9ONBUMEEqXo0ahbG6cMlCTL1m4Ta0PCYgUhmIuPlB6YDW8zH8qMbteDEnW3n%2FNWzmwYLrKa4HwSux90isX0DZwegIr1JwwrPQR%2BH5%2BU3u%2FNB9ol5%2B%2BxpcMfc4afcG6%2B3w6tcILq7OQTOKXkwXyQB%2FEFvRHBpyXDiUdfejccD91xYohuR%2BBWX4nMKrkJyxyDdngOu2LD1rqmBoX7G9y8gXe1BDGIj%2F9mYxPzCx8XDm5776ilJ4gaoC3tx3v4cZBMux7Lc8P3XQGbj9qkziddGMld7A8jgllmkYHyi4h2wVow00QzMSWadyBYERrzzDduhYxo6Bd4L1E92GmdJsPrBW%2BAx0N2lp3Y1npGmXipoIpk0naWKqMEB%2FEq0tSV%2B8tl3llXpnzkIbZpOYydpteKimliHP6dZ%2FMPL5%2BssGOqUBth%2BMVQLweVd3Lw2wTe%2FUH%2BRJZ107NHdgwYUsmVQUjP0WDuurwrxBO%2Bc3z0euLJTDylnumRtvOLielImj9LtNm3UtOgkvczLCLMRvcutGfZdWJhR0fZ5Z349Vmn1JyxJRNdYp8ne6s8BsC0v9yfWKPwJj0%2BqmcnGCcxrn8Bt6cqnENzJoJJuKnusbBFDVMEwu0WJU3ugA%2Br9H1FXHCru%2FKs1FwGCI&X-Amz-Signature=e20ec2c28b25d01ebde0ded85a9266a2a170f06801f47ad32322116d0dc70f3f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

