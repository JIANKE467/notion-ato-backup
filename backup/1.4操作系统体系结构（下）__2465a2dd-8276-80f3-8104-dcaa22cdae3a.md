
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666MVB5M6O%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041353Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQCAq4SWEUNlpCgRp%2FHzvPrE2v1rR0I5KESRd0o4qMGenAIhAKeiLhVCAci3tnrb4QIj7zg9EA3EaVEvSNtZLA4XHLM1Kv8DCEUQABoMNjM3NDIzMTgzODA1IgwPhLS%2Flib02jINI7kq3APXUmSQixl2ucmfhNk%2BfXn3Kx25e31rFxKlHB%2FTqXtzRxhSB9IAbV6tZaRdVOZovwcAF2wqNuyiv7ZIH%2F9byRgD2JknWWzO%2B9P%2Fc%2FE717qOS6E0Dq%2FjqBjOXsWi8h2E6tP7Ewev%2B2FVmHUoEAHPv%2FvYPa1FNAtAClF8iyHDvAGs4nnU%2FA8ZyrfLFlPP5yXpa9eyhbPvu2mo2x%2Bc3PuFi5bhLD6r3eq5xkTO6fDuY4R%2B%2FXRmV%2F0q9xiyv0Wd9Cg5LN8%2B1H%2F4ConOsQ516BHW4XhQsi1MZRHvEVFfFBhy9s6%2By9lUeF5fEHEZ7QKwmUThkegnwmFbyVX%2F9mpi65nAakrFcGMNr8glJBDhczsxVxk2pASY25GdRWeVnkjRf4n3yJKxiLnTxnfj%2BzHFp38FsAGgjPyfpBbfDYXAcK%2BQNPXbrJTx29qmZYTr1iEqZzhybDeWKr1rd%2FXpDwc99tnu%2B%2B4fqRoHyeL8tQQQP%2B95gq3cS9z1Dyi7w0ZYe48Wjy30T%2BaVzahIhbk7vY2cQUY4ies0Fn%2BT6iDhsCKuyAkVALU9Qw1KHz3EU2tcPA36ELckjt78PPL6vx8kPN47yZP30dy%2FujqBSqOe8yVUI6dbFqhlQCBy41rXkuC4HGIDXjDcjP7JBjqkAb9aFTpJjSdnYRUBMZqE5fB%2ByR6WBw4OqpNyCqnOAlrz3Zu9A4SVxwEwzzILnb77lmMwIpqOtjRkx2%2Ff8Uqk2nVpFGlFxja1pLO479Fzll6h5UXPV6LcF9JaD0z13zfUUci0DXM7XeEn8wTRW5u58RHfyIQ%2BIF%2FbM%2B80z4W6e3pkAUCe7BKgbAh7mOPSLQcfZ%2FPTPTf6WIeghXCxlsDtEIlJDn%2FN&X-Amz-Signature=dd8c7ff9b468d6ff9cec453720811997fc99a8a38dfa23eb5d260b0cebb43f96&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666MVB5M6O%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041353Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQCAq4SWEUNlpCgRp%2FHzvPrE2v1rR0I5KESRd0o4qMGenAIhAKeiLhVCAci3tnrb4QIj7zg9EA3EaVEvSNtZLA4XHLM1Kv8DCEUQABoMNjM3NDIzMTgzODA1IgwPhLS%2Flib02jINI7kq3APXUmSQixl2ucmfhNk%2BfXn3Kx25e31rFxKlHB%2FTqXtzRxhSB9IAbV6tZaRdVOZovwcAF2wqNuyiv7ZIH%2F9byRgD2JknWWzO%2B9P%2Fc%2FE717qOS6E0Dq%2FjqBjOXsWi8h2E6tP7Ewev%2B2FVmHUoEAHPv%2FvYPa1FNAtAClF8iyHDvAGs4nnU%2FA8ZyrfLFlPP5yXpa9eyhbPvu2mo2x%2Bc3PuFi5bhLD6r3eq5xkTO6fDuY4R%2B%2FXRmV%2F0q9xiyv0Wd9Cg5LN8%2B1H%2F4ConOsQ516BHW4XhQsi1MZRHvEVFfFBhy9s6%2By9lUeF5fEHEZ7QKwmUThkegnwmFbyVX%2F9mpi65nAakrFcGMNr8glJBDhczsxVxk2pASY25GdRWeVnkjRf4n3yJKxiLnTxnfj%2BzHFp38FsAGgjPyfpBbfDYXAcK%2BQNPXbrJTx29qmZYTr1iEqZzhybDeWKr1rd%2FXpDwc99tnu%2B%2B4fqRoHyeL8tQQQP%2B95gq3cS9z1Dyi7w0ZYe48Wjy30T%2BaVzahIhbk7vY2cQUY4ies0Fn%2BT6iDhsCKuyAkVALU9Qw1KHz3EU2tcPA36ELckjt78PPL6vx8kPN47yZP30dy%2FujqBSqOe8yVUI6dbFqhlQCBy41rXkuC4HGIDXjDcjP7JBjqkAb9aFTpJjSdnYRUBMZqE5fB%2ByR6WBw4OqpNyCqnOAlrz3Zu9A4SVxwEwzzILnb77lmMwIpqOtjRkx2%2Ff8Uqk2nVpFGlFxja1pLO479Fzll6h5UXPV6LcF9JaD0z13zfUUci0DXM7XeEn8wTRW5u58RHfyIQ%2BIF%2FbM%2B80z4W6e3pkAUCe7BKgbAh7mOPSLQcfZ%2FPTPTf6WIeghXCxlsDtEIlJDn%2FN&X-Amz-Signature=11b3f2f604aefd772412abc124720b1bb8108901a9f5504d1ac4c4cdc49cfba0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666MVB5M6O%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041353Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQCAq4SWEUNlpCgRp%2FHzvPrE2v1rR0I5KESRd0o4qMGenAIhAKeiLhVCAci3tnrb4QIj7zg9EA3EaVEvSNtZLA4XHLM1Kv8DCEUQABoMNjM3NDIzMTgzODA1IgwPhLS%2Flib02jINI7kq3APXUmSQixl2ucmfhNk%2BfXn3Kx25e31rFxKlHB%2FTqXtzRxhSB9IAbV6tZaRdVOZovwcAF2wqNuyiv7ZIH%2F9byRgD2JknWWzO%2B9P%2Fc%2FE717qOS6E0Dq%2FjqBjOXsWi8h2E6tP7Ewev%2B2FVmHUoEAHPv%2FvYPa1FNAtAClF8iyHDvAGs4nnU%2FA8ZyrfLFlPP5yXpa9eyhbPvu2mo2x%2Bc3PuFi5bhLD6r3eq5xkTO6fDuY4R%2B%2FXRmV%2F0q9xiyv0Wd9Cg5LN8%2B1H%2F4ConOsQ516BHW4XhQsi1MZRHvEVFfFBhy9s6%2By9lUeF5fEHEZ7QKwmUThkegnwmFbyVX%2F9mpi65nAakrFcGMNr8glJBDhczsxVxk2pASY25GdRWeVnkjRf4n3yJKxiLnTxnfj%2BzHFp38FsAGgjPyfpBbfDYXAcK%2BQNPXbrJTx29qmZYTr1iEqZzhybDeWKr1rd%2FXpDwc99tnu%2B%2B4fqRoHyeL8tQQQP%2B95gq3cS9z1Dyi7w0ZYe48Wjy30T%2BaVzahIhbk7vY2cQUY4ies0Fn%2BT6iDhsCKuyAkVALU9Qw1KHz3EU2tcPA36ELckjt78PPL6vx8kPN47yZP30dy%2FujqBSqOe8yVUI6dbFqhlQCBy41rXkuC4HGIDXjDcjP7JBjqkAb9aFTpJjSdnYRUBMZqE5fB%2ByR6WBw4OqpNyCqnOAlrz3Zu9A4SVxwEwzzILnb77lmMwIpqOtjRkx2%2Ff8Uqk2nVpFGlFxja1pLO479Fzll6h5UXPV6LcF9JaD0z13zfUUci0DXM7XeEn8wTRW5u58RHfyIQ%2BIF%2FbM%2B80z4W6e3pkAUCe7BKgbAh7mOPSLQcfZ%2FPTPTf6WIeghXCxlsDtEIlJDn%2FN&X-Amz-Signature=a28df83794c83d77e77f3bf570ec2e0e615cbf706a095421776874b1fc085408&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

