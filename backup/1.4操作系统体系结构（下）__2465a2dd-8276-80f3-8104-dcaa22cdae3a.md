
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S6KW3GKG%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042152Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDordEHnCKolGAIc%2B2G%2BVTj4nDB%2FRnro6IuoIKicQ311AIgBAD0AVOgET1EBdltRsupRXKTsweWkusb5AFKihGjisAq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDF3eQtq6x%2Bt68N%2FTtSrcA2bzTtf4V7a4DKH73TiXo6eOkNlSxEGy905p6KdalPplmcC5osczNCddp%2BCKQo16k61dG4S4E%2BIANJgQzgMLwluC9V54Ra4sn2kjtd4A5c2ErEa3a7pZ4mfPYpNevVPPRpjmEs8EzIZgW%2BydL%2BM0BuC5NQEWCO9wNO2DOBHpL8mKJcw9aa8rbjOa5V1GGra%2FAN97AjXQk6jP7%2B4ll%2F%2FJ%2F9Gnk%2B5zaMerNLtD6IGAMS8r5z%2B8GaVFRWFSWD8OClcR2u14DzNY8xa7dcrn%2BvkKCqExw04eYI8oTUurI6%2F4WDGUYoe44RDk7MAXTHcmwnD1QNGUqtgy%2B1u8XBpiNA6O6YGJK0Pz3ARMdliSEKXDYPu%2FqbO80x8hejPuohIT1iXbDbD45FWKYBxFmUUdxQkI3Jbd%2BMNY%2BlbehnfB2vsqteNo0zVIgET5Z%2BLj7vbr8TeX4vluPL7Y3f3Pm4NE%2FpXc2Wny3IGRbTxUBb9%2B%2FdoTqf5arXEHFD8KeDoltGSdhLLvWlrwVEnEtvaey6zISs0I1JxaphmOSaOPTNBiT%2BGcu5bOnFnlwz1N0pWIKZXirWui5TGBarIlWC9C7OvTgl9cwwIPZHQYedA3gBbPxjd0jL3%2BIsfkhsFDjaAZWLZeMM%2Fi4MsGOqUB8UqpAukzpVAirKMmELLCNStmH7pA8RGzxsEBiD3agZa6Kn%2FzRo5q%2BgoybJyp7lpd7lCjcTDMwH24UuadSFAaYLfCmzpMQ8seUA0dYxyclPQ8kjL82asvsjNSW8F9CeMC5EeLDL1nZGYZCM6NpuR2SOwTgYgnVnRpNCdz50AxbL5%2FdshusdZbgHFK7lWuXfW57mWKTgMI5TOnabrZBGaV0ud49gQe&X-Amz-Signature=db0e2a6101cdd7d3aefc8a6cca1fb0d2bdffffe4d4241633fe09ebe60fb30bad&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S6KW3GKG%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042152Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDordEHnCKolGAIc%2B2G%2BVTj4nDB%2FRnro6IuoIKicQ311AIgBAD0AVOgET1EBdltRsupRXKTsweWkusb5AFKihGjisAq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDF3eQtq6x%2Bt68N%2FTtSrcA2bzTtf4V7a4DKH73TiXo6eOkNlSxEGy905p6KdalPplmcC5osczNCddp%2BCKQo16k61dG4S4E%2BIANJgQzgMLwluC9V54Ra4sn2kjtd4A5c2ErEa3a7pZ4mfPYpNevVPPRpjmEs8EzIZgW%2BydL%2BM0BuC5NQEWCO9wNO2DOBHpL8mKJcw9aa8rbjOa5V1GGra%2FAN97AjXQk6jP7%2B4ll%2F%2FJ%2F9Gnk%2B5zaMerNLtD6IGAMS8r5z%2B8GaVFRWFSWD8OClcR2u14DzNY8xa7dcrn%2BvkKCqExw04eYI8oTUurI6%2F4WDGUYoe44RDk7MAXTHcmwnD1QNGUqtgy%2B1u8XBpiNA6O6YGJK0Pz3ARMdliSEKXDYPu%2FqbO80x8hejPuohIT1iXbDbD45FWKYBxFmUUdxQkI3Jbd%2BMNY%2BlbehnfB2vsqteNo0zVIgET5Z%2BLj7vbr8TeX4vluPL7Y3f3Pm4NE%2FpXc2Wny3IGRbTxUBb9%2B%2FdoTqf5arXEHFD8KeDoltGSdhLLvWlrwVEnEtvaey6zISs0I1JxaphmOSaOPTNBiT%2BGcu5bOnFnlwz1N0pWIKZXirWui5TGBarIlWC9C7OvTgl9cwwIPZHQYedA3gBbPxjd0jL3%2BIsfkhsFDjaAZWLZeMM%2Fi4MsGOqUB8UqpAukzpVAirKMmELLCNStmH7pA8RGzxsEBiD3agZa6Kn%2FzRo5q%2BgoybJyp7lpd7lCjcTDMwH24UuadSFAaYLfCmzpMQ8seUA0dYxyclPQ8kjL82asvsjNSW8F9CeMC5EeLDL1nZGYZCM6NpuR2SOwTgYgnVnRpNCdz50AxbL5%2FdshusdZbgHFK7lWuXfW57mWKTgMI5TOnabrZBGaV0ud49gQe&X-Amz-Signature=0cd2f0679b6426b52a163c0bed591877e4f3e5136cd8e73b7139145cb7161b44&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S6KW3GKG%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042152Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDordEHnCKolGAIc%2B2G%2BVTj4nDB%2FRnro6IuoIKicQ311AIgBAD0AVOgET1EBdltRsupRXKTsweWkusb5AFKihGjisAq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDF3eQtq6x%2Bt68N%2FTtSrcA2bzTtf4V7a4DKH73TiXo6eOkNlSxEGy905p6KdalPplmcC5osczNCddp%2BCKQo16k61dG4S4E%2BIANJgQzgMLwluC9V54Ra4sn2kjtd4A5c2ErEa3a7pZ4mfPYpNevVPPRpjmEs8EzIZgW%2BydL%2BM0BuC5NQEWCO9wNO2DOBHpL8mKJcw9aa8rbjOa5V1GGra%2FAN97AjXQk6jP7%2B4ll%2F%2FJ%2F9Gnk%2B5zaMerNLtD6IGAMS8r5z%2B8GaVFRWFSWD8OClcR2u14DzNY8xa7dcrn%2BvkKCqExw04eYI8oTUurI6%2F4WDGUYoe44RDk7MAXTHcmwnD1QNGUqtgy%2B1u8XBpiNA6O6YGJK0Pz3ARMdliSEKXDYPu%2FqbO80x8hejPuohIT1iXbDbD45FWKYBxFmUUdxQkI3Jbd%2BMNY%2BlbehnfB2vsqteNo0zVIgET5Z%2BLj7vbr8TeX4vluPL7Y3f3Pm4NE%2FpXc2Wny3IGRbTxUBb9%2B%2FdoTqf5arXEHFD8KeDoltGSdhLLvWlrwVEnEtvaey6zISs0I1JxaphmOSaOPTNBiT%2BGcu5bOnFnlwz1N0pWIKZXirWui5TGBarIlWC9C7OvTgl9cwwIPZHQYedA3gBbPxjd0jL3%2BIsfkhsFDjaAZWLZeMM%2Fi4MsGOqUB8UqpAukzpVAirKMmELLCNStmH7pA8RGzxsEBiD3agZa6Kn%2FzRo5q%2BgoybJyp7lpd7lCjcTDMwH24UuadSFAaYLfCmzpMQ8seUA0dYxyclPQ8kjL82asvsjNSW8F9CeMC5EeLDL1nZGYZCM6NpuR2SOwTgYgnVnRpNCdz50AxbL5%2FdshusdZbgHFK7lWuXfW57mWKTgMI5TOnabrZBGaV0ud49gQe&X-Amz-Signature=bdaee4489d12aec7b164c837e6e71e7a08f68954f1949c0042df8c047062d7f7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

