
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666DAJXXNK%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042039Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJIMEYCIQDw%2FtzPUR7uvxOqp5n3mdgY1VK0gXrAD59fcnXINmqbYwIhAKFlHXGqiKMtUWHtM13weA0RJRt8jHb%2FcP4iXip8jYunKv8DCCQQABoMNjM3NDIzMTgzODA1Igz3G3D7cAxolXTG%2FbUq3ANPChLNby%2Fx4OBbLjhV1kJ8yZ4xmnBMzM38nHrK19i4LJPvA7qU3X8djsNTzDdfW3RKdEFLI%2B7uQFlcjA58Kmxs0IahCav2U59WbHW3rAfAnA%2B7vzWZFgRMGRb5mrHi6Dkc5oLsj3ecFSA2aeZd3AVZdH0joGuegjPjrI%2B3CL3kWU%2FLy5%2BjWKzCIhRuM5i%2BtlFmJykkXB7%2BHIgcCVyDP%2FWHSipRGeASEsJGHZfEamNKlvxspOXDsgbVucaqW5zxCXiLiHaVdzBRtit7sdApNuLXalf%2BKETX%2FlbvqdiE15pYu%2Fi8kPS1Y3O%2FY8xm%2FSgXkqsz%2F8FgzSk4w7Jt86JRzuP%2F2HSqU2IYxGNfye4qTP4jarNBnCz7%2FYSCFnqDU92zBRA2wll%2FrSdAPMqTD0fukU0gOzKSzx7Gz0VTW4M1MsDPA2s0uV4IhkkoyCHuEG2MNlJH3JdFPWiD4D7RxNqt2SX31WsOEq25dP1Ep9VTVGRjvd3XqixKmsScudm0GKWMh8wdMAuTNY9WcoHuoUqRjLvVEf4YNV%2FJ7zr%2F9NQ7eTHK10ZyDEG4hh0Y3dUWK%2Bk8PaL5o52yjjb%2B2DjoO3R84HzijurnEC2vyXl5%2F3P1Wa6nfGwZDYhsq3TZOX1CTDCtpefKBjqkAYy%2FOhmvrPDY31fzjIE%2B1d8zi4Q2rnyB6Lvb3y27yy3c0KrwjShfet4zUl4ottNaTgBJLgc1s8syAkhurBe%2BCVkAr2%2Bz6PUBjDeHWRItMTkr%2F5veTvN%2Fcux49%2B0OQllNur38KDaRpQVcEqUFISp7T7NtJ%2Fzinxu6s5bz9GRXNQgd%2F6mqOGYavpbtC26%2F5kx%2FqENw4gczd1v1QNgOwEZIrOv4JVvb&X-Amz-Signature=8f99ed1deb09dbe969c2040dcfa295b122ffec8bff24da50bc988d712a61c7f0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666DAJXXNK%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042039Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJIMEYCIQDw%2FtzPUR7uvxOqp5n3mdgY1VK0gXrAD59fcnXINmqbYwIhAKFlHXGqiKMtUWHtM13weA0RJRt8jHb%2FcP4iXip8jYunKv8DCCQQABoMNjM3NDIzMTgzODA1Igz3G3D7cAxolXTG%2FbUq3ANPChLNby%2Fx4OBbLjhV1kJ8yZ4xmnBMzM38nHrK19i4LJPvA7qU3X8djsNTzDdfW3RKdEFLI%2B7uQFlcjA58Kmxs0IahCav2U59WbHW3rAfAnA%2B7vzWZFgRMGRb5mrHi6Dkc5oLsj3ecFSA2aeZd3AVZdH0joGuegjPjrI%2B3CL3kWU%2FLy5%2BjWKzCIhRuM5i%2BtlFmJykkXB7%2BHIgcCVyDP%2FWHSipRGeASEsJGHZfEamNKlvxspOXDsgbVucaqW5zxCXiLiHaVdzBRtit7sdApNuLXalf%2BKETX%2FlbvqdiE15pYu%2Fi8kPS1Y3O%2FY8xm%2FSgXkqsz%2F8FgzSk4w7Jt86JRzuP%2F2HSqU2IYxGNfye4qTP4jarNBnCz7%2FYSCFnqDU92zBRA2wll%2FrSdAPMqTD0fukU0gOzKSzx7Gz0VTW4M1MsDPA2s0uV4IhkkoyCHuEG2MNlJH3JdFPWiD4D7RxNqt2SX31WsOEq25dP1Ep9VTVGRjvd3XqixKmsScudm0GKWMh8wdMAuTNY9WcoHuoUqRjLvVEf4YNV%2FJ7zr%2F9NQ7eTHK10ZyDEG4hh0Y3dUWK%2Bk8PaL5o52yjjb%2B2DjoO3R84HzijurnEC2vyXl5%2F3P1Wa6nfGwZDYhsq3TZOX1CTDCtpefKBjqkAYy%2FOhmvrPDY31fzjIE%2B1d8zi4Q2rnyB6Lvb3y27yy3c0KrwjShfet4zUl4ottNaTgBJLgc1s8syAkhurBe%2BCVkAr2%2Bz6PUBjDeHWRItMTkr%2F5veTvN%2Fcux49%2B0OQllNur38KDaRpQVcEqUFISp7T7NtJ%2Fzinxu6s5bz9GRXNQgd%2F6mqOGYavpbtC26%2F5kx%2FqENw4gczd1v1QNgOwEZIrOv4JVvb&X-Amz-Signature=d2f0a9edcc2aad316fdbe2f7240eb02cc94ce57803f54796aa46e6d840122085&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666DAJXXNK%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042039Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJIMEYCIQDw%2FtzPUR7uvxOqp5n3mdgY1VK0gXrAD59fcnXINmqbYwIhAKFlHXGqiKMtUWHtM13weA0RJRt8jHb%2FcP4iXip8jYunKv8DCCQQABoMNjM3NDIzMTgzODA1Igz3G3D7cAxolXTG%2FbUq3ANPChLNby%2Fx4OBbLjhV1kJ8yZ4xmnBMzM38nHrK19i4LJPvA7qU3X8djsNTzDdfW3RKdEFLI%2B7uQFlcjA58Kmxs0IahCav2U59WbHW3rAfAnA%2B7vzWZFgRMGRb5mrHi6Dkc5oLsj3ecFSA2aeZd3AVZdH0joGuegjPjrI%2B3CL3kWU%2FLy5%2BjWKzCIhRuM5i%2BtlFmJykkXB7%2BHIgcCVyDP%2FWHSipRGeASEsJGHZfEamNKlvxspOXDsgbVucaqW5zxCXiLiHaVdzBRtit7sdApNuLXalf%2BKETX%2FlbvqdiE15pYu%2Fi8kPS1Y3O%2FY8xm%2FSgXkqsz%2F8FgzSk4w7Jt86JRzuP%2F2HSqU2IYxGNfye4qTP4jarNBnCz7%2FYSCFnqDU92zBRA2wll%2FrSdAPMqTD0fukU0gOzKSzx7Gz0VTW4M1MsDPA2s0uV4IhkkoyCHuEG2MNlJH3JdFPWiD4D7RxNqt2SX31WsOEq25dP1Ep9VTVGRjvd3XqixKmsScudm0GKWMh8wdMAuTNY9WcoHuoUqRjLvVEf4YNV%2FJ7zr%2F9NQ7eTHK10ZyDEG4hh0Y3dUWK%2Bk8PaL5o52yjjb%2B2DjoO3R84HzijurnEC2vyXl5%2F3P1Wa6nfGwZDYhsq3TZOX1CTDCtpefKBjqkAYy%2FOhmvrPDY31fzjIE%2B1d8zi4Q2rnyB6Lvb3y27yy3c0KrwjShfet4zUl4ottNaTgBJLgc1s8syAkhurBe%2BCVkAr2%2Bz6PUBjDeHWRItMTkr%2F5veTvN%2Fcux49%2B0OQllNur38KDaRpQVcEqUFISp7T7NtJ%2Fzinxu6s5bz9GRXNQgd%2F6mqOGYavpbtC26%2F5kx%2FqENw4gczd1v1QNgOwEZIrOv4JVvb&X-Amz-Signature=f10687c32b407789afc119a533d10937c26a142ff4d9d731bd04ef451ff4c480&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

