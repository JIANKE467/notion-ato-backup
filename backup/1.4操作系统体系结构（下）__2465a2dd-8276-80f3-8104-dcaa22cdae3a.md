
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663VXZEL2R%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040811Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQCCoLJeVDIEz11ADJGrEtSFADtOuUok8OolA%2BUQ3gArQAIgCHhm1jS2spkxg0G%2F7XoVV7eRmGeAQt%2F4LP%2FX89QvfZ0q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDEF7e5y%2FQFWhsTPxgSrcAwYPsXtDLcLoCgj96pw3H%2FY7TTVOOuW1wQI0OMV3rpOIjmImOLkj6fkb9NO7nTlnSbpi0vtrK3DQdZSAlrNY%2FP7z5z8YamsqxcrAUX3hBdTTbGuT1tLDW9r5sRLnO0CvV2qdiN%2FyeZn5jOQc%2FRiSpH%2BxcPpZUyBsbzMH21GEIkIxklvGfuAaAu%2FP12wZ7GKVT%2FMxd%2B%2BN7qNcMMdnz5XpeyYMzs8DnB%2FJonf5%2FiVi%2B4zLn4gduy2VS0jpw7le1af5AKoWBgyIu6CiGCDPjW3vWExrJ5YRWdCULkebk%2BbAk7RSDYik97BSPsmksiP1C4AiwyT8OFmF3ctmwq5GObSoyF0Xx9qoT4YCLjvKhBllw5PH0G65mqNkpMD9mrWq1XAawEHrD5xzdsOxmdTLtPqn6g%2F5pE0R34IuMvmrva4jLznznAzCTZCJzqFvVG3Xy1LvMO%2FQL8nnF0XKo7ubNA%2BH%2F91QiptW1SYPuwX3%2Bg3CNOJCfF53%2FO0Qwm%2BnhPTmCTsJ5VYMi2Jz8JfQBm7lJqswkcamFciQ4pP82eyM1kRCYZIwqUvHBEDuNmG2DdTwnvgv7dusY8KnKRPh4skGTNGlVeyKhtQ0FAnieG77ne0Ov7R7GL%2FcTXQPIuD1dMZ5MPDd%2BMkGOqUBm%2FGafVQ8Fkdmd0igkPngGJ2djENtMGoy1Kvz1tvWTE5QYAt4QwW5nrcPhAMbBS01iuyHOGQGCzGn8swyZR2st%2FWiwv7wn%2FN%2FEk5HsDXppCPNa6FY76KoZgU%2Bj9%2B5mZK2bmTOVb6nCtbvK6Jt1OlGhhy2VMQxH2AwsVc92F%2B365XMpCvqm%2FYuk3cgKoiLuM4snGp2r5FYWfR%2FZAuly2APD1Rm1fuA&X-Amz-Signature=92c5a0375b71b2a213115b9c3dc881e5eb643898c499f5d2597097e06878243d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663VXZEL2R%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040811Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQCCoLJeVDIEz11ADJGrEtSFADtOuUok8OolA%2BUQ3gArQAIgCHhm1jS2spkxg0G%2F7XoVV7eRmGeAQt%2F4LP%2FX89QvfZ0q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDEF7e5y%2FQFWhsTPxgSrcAwYPsXtDLcLoCgj96pw3H%2FY7TTVOOuW1wQI0OMV3rpOIjmImOLkj6fkb9NO7nTlnSbpi0vtrK3DQdZSAlrNY%2FP7z5z8YamsqxcrAUX3hBdTTbGuT1tLDW9r5sRLnO0CvV2qdiN%2FyeZn5jOQc%2FRiSpH%2BxcPpZUyBsbzMH21GEIkIxklvGfuAaAu%2FP12wZ7GKVT%2FMxd%2B%2BN7qNcMMdnz5XpeyYMzs8DnB%2FJonf5%2FiVi%2B4zLn4gduy2VS0jpw7le1af5AKoWBgyIu6CiGCDPjW3vWExrJ5YRWdCULkebk%2BbAk7RSDYik97BSPsmksiP1C4AiwyT8OFmF3ctmwq5GObSoyF0Xx9qoT4YCLjvKhBllw5PH0G65mqNkpMD9mrWq1XAawEHrD5xzdsOxmdTLtPqn6g%2F5pE0R34IuMvmrva4jLznznAzCTZCJzqFvVG3Xy1LvMO%2FQL8nnF0XKo7ubNA%2BH%2F91QiptW1SYPuwX3%2Bg3CNOJCfF53%2FO0Qwm%2BnhPTmCTsJ5VYMi2Jz8JfQBm7lJqswkcamFciQ4pP82eyM1kRCYZIwqUvHBEDuNmG2DdTwnvgv7dusY8KnKRPh4skGTNGlVeyKhtQ0FAnieG77ne0Ov7R7GL%2FcTXQPIuD1dMZ5MPDd%2BMkGOqUBm%2FGafVQ8Fkdmd0igkPngGJ2djENtMGoy1Kvz1tvWTE5QYAt4QwW5nrcPhAMbBS01iuyHOGQGCzGn8swyZR2st%2FWiwv7wn%2FN%2FEk5HsDXppCPNa6FY76KoZgU%2Bj9%2B5mZK2bmTOVb6nCtbvK6Jt1OlGhhy2VMQxH2AwsVc92F%2B365XMpCvqm%2FYuk3cgKoiLuM4snGp2r5FYWfR%2FZAuly2APD1Rm1fuA&X-Amz-Signature=957bab764a5566c75a043931706af53fad42420cfb9cbc5c86981cb3da61d026&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663VXZEL2R%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040816Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQCCoLJeVDIEz11ADJGrEtSFADtOuUok8OolA%2BUQ3gArQAIgCHhm1jS2spkxg0G%2F7XoVV7eRmGeAQt%2F4LP%2FX89QvfZ0q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDEF7e5y%2FQFWhsTPxgSrcAwYPsXtDLcLoCgj96pw3H%2FY7TTVOOuW1wQI0OMV3rpOIjmImOLkj6fkb9NO7nTlnSbpi0vtrK3DQdZSAlrNY%2FP7z5z8YamsqxcrAUX3hBdTTbGuT1tLDW9r5sRLnO0CvV2qdiN%2FyeZn5jOQc%2FRiSpH%2BxcPpZUyBsbzMH21GEIkIxklvGfuAaAu%2FP12wZ7GKVT%2FMxd%2B%2BN7qNcMMdnz5XpeyYMzs8DnB%2FJonf5%2FiVi%2B4zLn4gduy2VS0jpw7le1af5AKoWBgyIu6CiGCDPjW3vWExrJ5YRWdCULkebk%2BbAk7RSDYik97BSPsmksiP1C4AiwyT8OFmF3ctmwq5GObSoyF0Xx9qoT4YCLjvKhBllw5PH0G65mqNkpMD9mrWq1XAawEHrD5xzdsOxmdTLtPqn6g%2F5pE0R34IuMvmrva4jLznznAzCTZCJzqFvVG3Xy1LvMO%2FQL8nnF0XKo7ubNA%2BH%2F91QiptW1SYPuwX3%2Bg3CNOJCfF53%2FO0Qwm%2BnhPTmCTsJ5VYMi2Jz8JfQBm7lJqswkcamFciQ4pP82eyM1kRCYZIwqUvHBEDuNmG2DdTwnvgv7dusY8KnKRPh4skGTNGlVeyKhtQ0FAnieG77ne0Ov7R7GL%2FcTXQPIuD1dMZ5MPDd%2BMkGOqUBm%2FGafVQ8Fkdmd0igkPngGJ2djENtMGoy1Kvz1tvWTE5QYAt4QwW5nrcPhAMbBS01iuyHOGQGCzGn8swyZR2st%2FWiwv7wn%2FN%2FEk5HsDXppCPNa6FY76KoZgU%2Bj9%2B5mZK2bmTOVb6nCtbvK6Jt1OlGhhy2VMQxH2AwsVc92F%2B365XMpCvqm%2FYuk3cgKoiLuM4snGp2r5FYWfR%2FZAuly2APD1Rm1fuA&X-Amz-Signature=e3ea474ae61542dbb90edd0324241b94609c27f95743adb8e7a2c2ade743d23a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

