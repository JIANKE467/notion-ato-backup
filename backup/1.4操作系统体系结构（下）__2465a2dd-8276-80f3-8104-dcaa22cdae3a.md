
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VAH32YSH%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040838Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIHesrbrIWDTTj36%2FTz%2F%2FbasRUkSyUSc6F0KE0mYq4wbGAiEAnzVruSIvv3nKvLn68FVIVqh9omaKIXphXkNaIRuS9lwq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDEqLA1WYMHehT%2BPbvyrcA0%2B9sH%2BvrC02yGmDbrYsVbOptj8TS95rgVto%2BV4x0qnKwFrjRrxyIEKtsAXlkQw0v69WfBmb8hinUUPqih7TYHjPMGgssoblxd0LJniPkcEsJ8swmEacE9FVvNjeJ9uCyx%2BZ8MMyB7FqXKgZ75lBXqRCs6Vb%2Bzcu84GpVv610f1usYL1N2ABQ62jAb%2BKGA1V4zfaT2bZiuIbCx5Drxq6h8y4y%2BqAkUSU%2B92iePCy4l5tp2tph2aK6s6mIkbYaNHJ3Gfq%2B7NU6BTSJ0qvJEFZY2Ja%2Bkg6XfzbY68TyLit3IG2OJHRLe2ifebe9xOIfIXfUNzAObL%2Fi9zSbjBOAQeOu8vWyVKdlFnpGd4sVJF0HzD9oQhoul1l0YgT8J7Wm0RYUzROLtp9a0vWW3mRt4WmXdGYyF8Pw1cwU%2BjNVOSebK8lQ4I9y6LjjhNxOisYoKXnOU9EJPjel9Tb%2FL%2BMuZC%2FiIaA5uRcuVQer9C9Ltjw6z74eMJz%2FkF3tgQPEZ0vwm0NhLElG8SeJ8Pvn%2FdgBYfXy2xUTMluzGRK2X2kYoWeeCthZIkvhr5%2BOLoE%2BRH3DT3O1lRYQZP%2Fho2g6joE7U%2BBRrpGjr7uXROhRcWn1fjD08BbOs9kya5nSfWZ2WXlMJ%2FMrcoGOqUBkVOxxJaK1ictvqWKK%2BLXSJgFvDPDBaplqNwuFepFz3hy3eV3aYpFgm06C1YsJI1UI3b%2F05ndv%2BCC%2FwKh3TLiIfjNbpBRHy%2BxAOEbGVjEVSSh0Tyw2cSHfR3zL%2BGInnx7sjAei1%2Ffo2tRPAnctzqw9VPgf%2FswqDjF0EUumKuu0GhjhMwoRZgQPxZjdQhz54rbnJFRjT2H0XOzi7sQTSOxhrVD8GlH&X-Amz-Signature=e597544634b333668c61920f5139e6a403a89e58674a3f969e0ddc50ecd24dfd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VAH32YSH%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040838Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIHesrbrIWDTTj36%2FTz%2F%2FbasRUkSyUSc6F0KE0mYq4wbGAiEAnzVruSIvv3nKvLn68FVIVqh9omaKIXphXkNaIRuS9lwq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDEqLA1WYMHehT%2BPbvyrcA0%2B9sH%2BvrC02yGmDbrYsVbOptj8TS95rgVto%2BV4x0qnKwFrjRrxyIEKtsAXlkQw0v69WfBmb8hinUUPqih7TYHjPMGgssoblxd0LJniPkcEsJ8swmEacE9FVvNjeJ9uCyx%2BZ8MMyB7FqXKgZ75lBXqRCs6Vb%2Bzcu84GpVv610f1usYL1N2ABQ62jAb%2BKGA1V4zfaT2bZiuIbCx5Drxq6h8y4y%2BqAkUSU%2B92iePCy4l5tp2tph2aK6s6mIkbYaNHJ3Gfq%2B7NU6BTSJ0qvJEFZY2Ja%2Bkg6XfzbY68TyLit3IG2OJHRLe2ifebe9xOIfIXfUNzAObL%2Fi9zSbjBOAQeOu8vWyVKdlFnpGd4sVJF0HzD9oQhoul1l0YgT8J7Wm0RYUzROLtp9a0vWW3mRt4WmXdGYyF8Pw1cwU%2BjNVOSebK8lQ4I9y6LjjhNxOisYoKXnOU9EJPjel9Tb%2FL%2BMuZC%2FiIaA5uRcuVQer9C9Ltjw6z74eMJz%2FkF3tgQPEZ0vwm0NhLElG8SeJ8Pvn%2FdgBYfXy2xUTMluzGRK2X2kYoWeeCthZIkvhr5%2BOLoE%2BRH3DT3O1lRYQZP%2Fho2g6joE7U%2BBRrpGjr7uXROhRcWn1fjD08BbOs9kya5nSfWZ2WXlMJ%2FMrcoGOqUBkVOxxJaK1ictvqWKK%2BLXSJgFvDPDBaplqNwuFepFz3hy3eV3aYpFgm06C1YsJI1UI3b%2F05ndv%2BCC%2FwKh3TLiIfjNbpBRHy%2BxAOEbGVjEVSSh0Tyw2cSHfR3zL%2BGInnx7sjAei1%2Ffo2tRPAnctzqw9VPgf%2FswqDjF0EUumKuu0GhjhMwoRZgQPxZjdQhz54rbnJFRjT2H0XOzi7sQTSOxhrVD8GlH&X-Amz-Signature=2681910c0932f7ab3fe7b4b2fbef05de3ee87feaf7dcf947143af4ca0cfcf675&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VAH32YSH%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040838Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIHesrbrIWDTTj36%2FTz%2F%2FbasRUkSyUSc6F0KE0mYq4wbGAiEAnzVruSIvv3nKvLn68FVIVqh9omaKIXphXkNaIRuS9lwq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDEqLA1WYMHehT%2BPbvyrcA0%2B9sH%2BvrC02yGmDbrYsVbOptj8TS95rgVto%2BV4x0qnKwFrjRrxyIEKtsAXlkQw0v69WfBmb8hinUUPqih7TYHjPMGgssoblxd0LJniPkcEsJ8swmEacE9FVvNjeJ9uCyx%2BZ8MMyB7FqXKgZ75lBXqRCs6Vb%2Bzcu84GpVv610f1usYL1N2ABQ62jAb%2BKGA1V4zfaT2bZiuIbCx5Drxq6h8y4y%2BqAkUSU%2B92iePCy4l5tp2tph2aK6s6mIkbYaNHJ3Gfq%2B7NU6BTSJ0qvJEFZY2Ja%2Bkg6XfzbY68TyLit3IG2OJHRLe2ifebe9xOIfIXfUNzAObL%2Fi9zSbjBOAQeOu8vWyVKdlFnpGd4sVJF0HzD9oQhoul1l0YgT8J7Wm0RYUzROLtp9a0vWW3mRt4WmXdGYyF8Pw1cwU%2BjNVOSebK8lQ4I9y6LjjhNxOisYoKXnOU9EJPjel9Tb%2FL%2BMuZC%2FiIaA5uRcuVQer9C9Ltjw6z74eMJz%2FkF3tgQPEZ0vwm0NhLElG8SeJ8Pvn%2FdgBYfXy2xUTMluzGRK2X2kYoWeeCthZIkvhr5%2BOLoE%2BRH3DT3O1lRYQZP%2Fho2g6joE7U%2BBRrpGjr7uXROhRcWn1fjD08BbOs9kya5nSfWZ2WXlMJ%2FMrcoGOqUBkVOxxJaK1ictvqWKK%2BLXSJgFvDPDBaplqNwuFepFz3hy3eV3aYpFgm06C1YsJI1UI3b%2F05ndv%2BCC%2FwKh3TLiIfjNbpBRHy%2BxAOEbGVjEVSSh0Tyw2cSHfR3zL%2BGInnx7sjAei1%2Ffo2tRPAnctzqw9VPgf%2FswqDjF0EUumKuu0GhjhMwoRZgQPxZjdQhz54rbnJFRjT2H0XOzi7sQTSOxhrVD8GlH&X-Amz-Signature=8847802a5bf4c85e6554abfbc12e319de45090e45c4850d6f61625bd75401f19&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

