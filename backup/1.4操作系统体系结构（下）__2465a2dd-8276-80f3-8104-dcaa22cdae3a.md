
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KJ2EVHZ%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041610Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHkLQXnTtViVr%2FcCTUIlpKw2hRcyjhJjIpD%2FMp%2BVtfBQAiBnOVcqggpfL%2F4YkJIvz8eV3wUzr6yQDLVeZ6WY9ymWyir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIM93HanJLbpXl1V1G2KtwDSdISwt6BRS8pt87uePq5vFI3eUpUJqs4TtesW8sBiXsboYWyujsW4%2F%2BirCxHtmmsVyYur5ViHSdGAgx4t5aFE2IErsExSjdUavEyGCaer1WJFzsVClca%2B3zjbt24Bprrk%2FURDEjpgpy68B1aBb2mYVMj4tkSBFcbQDKSjDh6B8LmCVmlQyHtFdJ6%2FmJcbFFQ4nLdtGvxJkJUilvYsikt4CfEtUlGS4dOgFpplO6nLW9GicAXRdtHqLtEm0m532Asz0qxtb0fIAocisWSPsmWXv9WilqJ0azg7F5hxyL6ppfVIEPkQ2o7W9FQUXAQ1QykNUuFFtjsjsBXOx7GefFqzAraFd28IWi8V5lQNxyK9MTyiHnnlEHrzR7q5ekUOWJvvxppt%2BqyEz1FV4qtt0deSa%2BQ8NN0GYjbkjNgz4WvzqwGH0se4r5onqApem6nn9ejm%2Fi41ks%2FtysEWsW208PZHulH416F3yFrN8NXBK%2FIJulvDzuaQt3ROPI16j9hkhsSFeMUxJaTJh7jw6fEx3ZGVk0wo6lWGIIx%2FrJgVVfs9AR5D5Y%2BBLOJ4wP0nJZJGObsIZ7cOV%2BExiJwASJp6o5sVuBXOCydapcEikYWicjhx8axljYn2ldC3E1dctsw4IrCygY6pgHhdsuN33N40jyhlcHQpQBPWBhzCh75gK6o6DhjhCXZLGgewxSObuQGtzGxgWjZP2N1R5oYn7kneeuJmCzww0zpT%2FwuxQ72CvSVuvYUOYj0%2BJzhIO7EndydaIZPXu1obrdVf20xFmXYUtPsJo17K4lmw%2BWF%2FJEpKnaO40WMGu%2B%2FQn8rSt5Lw%2Bs8xxm9W8rDxTfrI0sRNVGd%2BarTa4ML1hXtrUmjQOLb&X-Amz-Signature=b432b7e1f71505b7cffc5ac422dd0b6ce3044dc6c2619a0a7567a26b2b168f52&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KJ2EVHZ%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041610Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHkLQXnTtViVr%2FcCTUIlpKw2hRcyjhJjIpD%2FMp%2BVtfBQAiBnOVcqggpfL%2F4YkJIvz8eV3wUzr6yQDLVeZ6WY9ymWyir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIM93HanJLbpXl1V1G2KtwDSdISwt6BRS8pt87uePq5vFI3eUpUJqs4TtesW8sBiXsboYWyujsW4%2F%2BirCxHtmmsVyYur5ViHSdGAgx4t5aFE2IErsExSjdUavEyGCaer1WJFzsVClca%2B3zjbt24Bprrk%2FURDEjpgpy68B1aBb2mYVMj4tkSBFcbQDKSjDh6B8LmCVmlQyHtFdJ6%2FmJcbFFQ4nLdtGvxJkJUilvYsikt4CfEtUlGS4dOgFpplO6nLW9GicAXRdtHqLtEm0m532Asz0qxtb0fIAocisWSPsmWXv9WilqJ0azg7F5hxyL6ppfVIEPkQ2o7W9FQUXAQ1QykNUuFFtjsjsBXOx7GefFqzAraFd28IWi8V5lQNxyK9MTyiHnnlEHrzR7q5ekUOWJvvxppt%2BqyEz1FV4qtt0deSa%2BQ8NN0GYjbkjNgz4WvzqwGH0se4r5onqApem6nn9ejm%2Fi41ks%2FtysEWsW208PZHulH416F3yFrN8NXBK%2FIJulvDzuaQt3ROPI16j9hkhsSFeMUxJaTJh7jw6fEx3ZGVk0wo6lWGIIx%2FrJgVVfs9AR5D5Y%2BBLOJ4wP0nJZJGObsIZ7cOV%2BExiJwASJp6o5sVuBXOCydapcEikYWicjhx8axljYn2ldC3E1dctsw4IrCygY6pgHhdsuN33N40jyhlcHQpQBPWBhzCh75gK6o6DhjhCXZLGgewxSObuQGtzGxgWjZP2N1R5oYn7kneeuJmCzww0zpT%2FwuxQ72CvSVuvYUOYj0%2BJzhIO7EndydaIZPXu1obrdVf20xFmXYUtPsJo17K4lmw%2BWF%2FJEpKnaO40WMGu%2B%2FQn8rSt5Lw%2Bs8xxm9W8rDxTfrI0sRNVGd%2BarTa4ML1hXtrUmjQOLb&X-Amz-Signature=5c32a9570c1755edcb56fb4c92f0515fd94aabd2818bf732f55c5981e5394248&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KJ2EVHZ%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041610Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHkLQXnTtViVr%2FcCTUIlpKw2hRcyjhJjIpD%2FMp%2BVtfBQAiBnOVcqggpfL%2F4YkJIvz8eV3wUzr6yQDLVeZ6WY9ymWyir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIM93HanJLbpXl1V1G2KtwDSdISwt6BRS8pt87uePq5vFI3eUpUJqs4TtesW8sBiXsboYWyujsW4%2F%2BirCxHtmmsVyYur5ViHSdGAgx4t5aFE2IErsExSjdUavEyGCaer1WJFzsVClca%2B3zjbt24Bprrk%2FURDEjpgpy68B1aBb2mYVMj4tkSBFcbQDKSjDh6B8LmCVmlQyHtFdJ6%2FmJcbFFQ4nLdtGvxJkJUilvYsikt4CfEtUlGS4dOgFpplO6nLW9GicAXRdtHqLtEm0m532Asz0qxtb0fIAocisWSPsmWXv9WilqJ0azg7F5hxyL6ppfVIEPkQ2o7W9FQUXAQ1QykNUuFFtjsjsBXOx7GefFqzAraFd28IWi8V5lQNxyK9MTyiHnnlEHrzR7q5ekUOWJvvxppt%2BqyEz1FV4qtt0deSa%2BQ8NN0GYjbkjNgz4WvzqwGH0se4r5onqApem6nn9ejm%2Fi41ks%2FtysEWsW208PZHulH416F3yFrN8NXBK%2FIJulvDzuaQt3ROPI16j9hkhsSFeMUxJaTJh7jw6fEx3ZGVk0wo6lWGIIx%2FrJgVVfs9AR5D5Y%2BBLOJ4wP0nJZJGObsIZ7cOV%2BExiJwASJp6o5sVuBXOCydapcEikYWicjhx8axljYn2ldC3E1dctsw4IrCygY6pgHhdsuN33N40jyhlcHQpQBPWBhzCh75gK6o6DhjhCXZLGgewxSObuQGtzGxgWjZP2N1R5oYn7kneeuJmCzww0zpT%2FwuxQ72CvSVuvYUOYj0%2BJzhIO7EndydaIZPXu1obrdVf20xFmXYUtPsJo17K4lmw%2BWF%2FJEpKnaO40WMGu%2B%2FQn8rSt5Lw%2Bs8xxm9W8rDxTfrI0sRNVGd%2BarTa4ML1hXtrUmjQOLb&X-Amz-Signature=da461d65578130cce145d7e0209fbfa93e1f04ab6633befea45c50079c61fa23&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

