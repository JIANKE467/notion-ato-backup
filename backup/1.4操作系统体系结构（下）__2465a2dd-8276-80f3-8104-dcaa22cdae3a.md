
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662NT43VRM%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043118Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEG0aCXVzLXdlc3QtMiJIMEYCIQCXzbAY8t6XA4jhNF9uIXMr2sMrWazOi4SvHZL%2FyBgEGAIhAJo79iIzLuw%2BmFv0b0gp8D6ycGvpUFvJIr%2FVCAF%2FaXOeKv8DCDYQABoMNjM3NDIzMTgzODA1IgxOnONn%2FNnJlVhBvHsq3ANtTi3avKVzTCBIbOFvKEXg427POJeqwZpqDu2IKX3F6ZpAL5pZ9ifZD3NyVgw1T%2F9rPVi59jizMbZbBfepkp%2BpvvscZVKrUTcrdFaYmN7QdfQYrBG9s5bv8fTpj7DObkLgkNIfDlMwcKy2Eu9Nof%2F0cOLjbqSaRKU0RAh%2FDNOmkJG5tUeBVFtrp1E4dO%2BM9H6QkEfHmEZlmEQ4yo9I%2FFNXYCUH5Z2mr19ZbOjd7qNlQSXBdj2q92wVEvoyHNDc4sZu8XWKaWQxYZ7mJxdnEy1CRRdfjMeFnExSdC1TYMjpl9j8e7270Hu2rDZQMuChrlUyVAy2NwDdCE0XTW0tHJFP%2B6%2BaQjGlaVPBiWDFywlQ7jAVW3%2BYxjMG9WZtFDPEFAzQKGwln%2BMRXFaxyAdt0sFetBm2wk29%2FRoGfu6xAm9O9Nuc0vRCRJ4pM4QV%2FcSw7vglWft0yfGfrwf7tU4l1BX%2BwmAzPTUh16ItxGlpDKUCDwPhvYBPToTk%2BaXYC88n3O0baSjc8TuVlAy%2B4wlxMgmJNpxgPT9Tij6myAgL4SeADQ%2BcsPFk3ysm7JMw9231p5nwDZLA4b8lQP1brptzvclRb9oogKdIaVhAR5Uli0ZEoaFY69d9F%2Fskz2%2FDvTD92dvLBjqkAeIoKRp20KVbtDajFbHLLJOhr2GBSxxfRjKzUjZk9lG1wwPdaKhFtC631mbWm9OKQgSk%2BLHd2caPTqqWuvZYnoKcHgmn6fmFDhF5QSId%2BDhEnldSnVp3FX7OeAMK4%2BOBXvacIJaXzOE5DB8hqRtzTFenv62siYGaAARHLYbRGwWJk%2FAAqMb6%2BN4qFUiDnYg1dfhyDAEwnSQ3sbtn2%2FJfUuWmz%2FQN&X-Amz-Signature=a2dd9e4ce19d9748509a67c31c9d5a59c2ca29b05fb51e0f2e718c2af80dd109&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662NT43VRM%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043118Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEG0aCXVzLXdlc3QtMiJIMEYCIQCXzbAY8t6XA4jhNF9uIXMr2sMrWazOi4SvHZL%2FyBgEGAIhAJo79iIzLuw%2BmFv0b0gp8D6ycGvpUFvJIr%2FVCAF%2FaXOeKv8DCDYQABoMNjM3NDIzMTgzODA1IgxOnONn%2FNnJlVhBvHsq3ANtTi3avKVzTCBIbOFvKEXg427POJeqwZpqDu2IKX3F6ZpAL5pZ9ifZD3NyVgw1T%2F9rPVi59jizMbZbBfepkp%2BpvvscZVKrUTcrdFaYmN7QdfQYrBG9s5bv8fTpj7DObkLgkNIfDlMwcKy2Eu9Nof%2F0cOLjbqSaRKU0RAh%2FDNOmkJG5tUeBVFtrp1E4dO%2BM9H6QkEfHmEZlmEQ4yo9I%2FFNXYCUH5Z2mr19ZbOjd7qNlQSXBdj2q92wVEvoyHNDc4sZu8XWKaWQxYZ7mJxdnEy1CRRdfjMeFnExSdC1TYMjpl9j8e7270Hu2rDZQMuChrlUyVAy2NwDdCE0XTW0tHJFP%2B6%2BaQjGlaVPBiWDFywlQ7jAVW3%2BYxjMG9WZtFDPEFAzQKGwln%2BMRXFaxyAdt0sFetBm2wk29%2FRoGfu6xAm9O9Nuc0vRCRJ4pM4QV%2FcSw7vglWft0yfGfrwf7tU4l1BX%2BwmAzPTUh16ItxGlpDKUCDwPhvYBPToTk%2BaXYC88n3O0baSjc8TuVlAy%2B4wlxMgmJNpxgPT9Tij6myAgL4SeADQ%2BcsPFk3ysm7JMw9231p5nwDZLA4b8lQP1brptzvclRb9oogKdIaVhAR5Uli0ZEoaFY69d9F%2Fskz2%2FDvTD92dvLBjqkAeIoKRp20KVbtDajFbHLLJOhr2GBSxxfRjKzUjZk9lG1wwPdaKhFtC631mbWm9OKQgSk%2BLHd2caPTqqWuvZYnoKcHgmn6fmFDhF5QSId%2BDhEnldSnVp3FX7OeAMK4%2BOBXvacIJaXzOE5DB8hqRtzTFenv62siYGaAARHLYbRGwWJk%2FAAqMb6%2BN4qFUiDnYg1dfhyDAEwnSQ3sbtn2%2FJfUuWmz%2FQN&X-Amz-Signature=45c205261be1e6574b4b39a5cdb8ca0a9ce790709020c1eabd353a8aaed4f154&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662NT43VRM%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043119Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEG0aCXVzLXdlc3QtMiJIMEYCIQCXzbAY8t6XA4jhNF9uIXMr2sMrWazOi4SvHZL%2FyBgEGAIhAJo79iIzLuw%2BmFv0b0gp8D6ycGvpUFvJIr%2FVCAF%2FaXOeKv8DCDYQABoMNjM3NDIzMTgzODA1IgxOnONn%2FNnJlVhBvHsq3ANtTi3avKVzTCBIbOFvKEXg427POJeqwZpqDu2IKX3F6ZpAL5pZ9ifZD3NyVgw1T%2F9rPVi59jizMbZbBfepkp%2BpvvscZVKrUTcrdFaYmN7QdfQYrBG9s5bv8fTpj7DObkLgkNIfDlMwcKy2Eu9Nof%2F0cOLjbqSaRKU0RAh%2FDNOmkJG5tUeBVFtrp1E4dO%2BM9H6QkEfHmEZlmEQ4yo9I%2FFNXYCUH5Z2mr19ZbOjd7qNlQSXBdj2q92wVEvoyHNDc4sZu8XWKaWQxYZ7mJxdnEy1CRRdfjMeFnExSdC1TYMjpl9j8e7270Hu2rDZQMuChrlUyVAy2NwDdCE0XTW0tHJFP%2B6%2BaQjGlaVPBiWDFywlQ7jAVW3%2BYxjMG9WZtFDPEFAzQKGwln%2BMRXFaxyAdt0sFetBm2wk29%2FRoGfu6xAm9O9Nuc0vRCRJ4pM4QV%2FcSw7vglWft0yfGfrwf7tU4l1BX%2BwmAzPTUh16ItxGlpDKUCDwPhvYBPToTk%2BaXYC88n3O0baSjc8TuVlAy%2B4wlxMgmJNpxgPT9Tij6myAgL4SeADQ%2BcsPFk3ysm7JMw9231p5nwDZLA4b8lQP1brptzvclRb9oogKdIaVhAR5Uli0ZEoaFY69d9F%2Fskz2%2FDvTD92dvLBjqkAeIoKRp20KVbtDajFbHLLJOhr2GBSxxfRjKzUjZk9lG1wwPdaKhFtC631mbWm9OKQgSk%2BLHd2caPTqqWuvZYnoKcHgmn6fmFDhF5QSId%2BDhEnldSnVp3FX7OeAMK4%2BOBXvacIJaXzOE5DB8hqRtzTFenv62siYGaAARHLYbRGwWJk%2FAAqMb6%2BN4qFUiDnYg1dfhyDAEwnSQ3sbtn2%2FJfUuWmz%2FQN&X-Amz-Signature=845a7d490e12be41652807305f874e27b825f9a86146ed330c2dddf560336afc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

