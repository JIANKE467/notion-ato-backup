
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RJVUXCVK%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041138Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDIySczhrG3biPdbxq36uCr%2F3wlCCuMK7uz0Qp3MhTh9AiEArDDXC9t2DeVM88ozuBIMrf1F%2FnDSTm2k7jjEyhSjLYkq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDMUjcPZ7T1WVPZ7V1yrcA8DXmraKzfU3qLgY65cXgp7sTDQsChr2Z3ApQdm078LlJCW%2FJ3h6TJc43eMvS3UEXqp3moualYS2trsSGiF%2B8gMm2%2FJ8K2uRzhcyc0bvHUAoOwdPS4D591vPUkoZMlW8wsiZ6IVzs5txUTsXIsnB0ixQj%2BmAk5JH0hVBRA1ZpNJJpdi0FA0ck5E91DPeXbT2P4IX1R%2B2szwNqbMObyJd3mzeJD03eujVfliTU3%2B7762fLYHdXNTFgkXBG9M4BG3nj4OuQnjYfxE8dRbMpWFDrs%2FBcGrPaIf85HR1Mmdk4WoCWfcTlsbWRK88zH25Lee9Zx1IjspIBFaSsLs5me8HMvWUcHm%2Fr%2BXP27Tkarr5VDc7gQbGiBnenBEFc%2F3HLbh5SzuFVn6TxG%2Fyr8YWurG%2FxNHLn2fuDxlHXDghe4rIzsfFhJNXMEyJoVkVfRVi8Ab7HcPfWWxO2PN9oum9LRXHs0AszfDQNhzq7o5LzZxTNLHDwpMeE46xN8Vdfb2MwT9N17%2BT%2BbIk0ln5azMJu3iCAqEFQWaBnPSqJNWDog7D%2FDJVtuyqP8cJkX3K4Y5rGIKOX6%2BmWE9B2vgAYbcZxQax8lLW6V4r2Yt1gRd56fccssRfrtLFGmQVmBI%2FP7zmMMSL8soGOqUBY9sF9sl6usyx5vq%2BLdLW%2FyJ7481vtGBJ30Wk6UOZKovMeobboTJ8PejquA7ZtNepdZXPI4M5NXVkd%2F2DUIrE2E6k%2BqwGtWnPqJxCMmrt9I3x%2Bgt2LGsIJF6tjXG9dB3KlnMJPRcmUTG%2FfVo%2B0Il2OUPLaCEbp%2Bo7O2k1beVrOaH5rUg%2BBY0neZKhD6Y6iDhgG4a4p5UqL1TQ75MYh6n7X3Ljqf3t&X-Amz-Signature=d5cca9681e83072d8c059bb5833b439dc1daa3f024071eacad5ce66f329d057f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RJVUXCVK%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041138Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDIySczhrG3biPdbxq36uCr%2F3wlCCuMK7uz0Qp3MhTh9AiEArDDXC9t2DeVM88ozuBIMrf1F%2FnDSTm2k7jjEyhSjLYkq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDMUjcPZ7T1WVPZ7V1yrcA8DXmraKzfU3qLgY65cXgp7sTDQsChr2Z3ApQdm078LlJCW%2FJ3h6TJc43eMvS3UEXqp3moualYS2trsSGiF%2B8gMm2%2FJ8K2uRzhcyc0bvHUAoOwdPS4D591vPUkoZMlW8wsiZ6IVzs5txUTsXIsnB0ixQj%2BmAk5JH0hVBRA1ZpNJJpdi0FA0ck5E91DPeXbT2P4IX1R%2B2szwNqbMObyJd3mzeJD03eujVfliTU3%2B7762fLYHdXNTFgkXBG9M4BG3nj4OuQnjYfxE8dRbMpWFDrs%2FBcGrPaIf85HR1Mmdk4WoCWfcTlsbWRK88zH25Lee9Zx1IjspIBFaSsLs5me8HMvWUcHm%2Fr%2BXP27Tkarr5VDc7gQbGiBnenBEFc%2F3HLbh5SzuFVn6TxG%2Fyr8YWurG%2FxNHLn2fuDxlHXDghe4rIzsfFhJNXMEyJoVkVfRVi8Ab7HcPfWWxO2PN9oum9LRXHs0AszfDQNhzq7o5LzZxTNLHDwpMeE46xN8Vdfb2MwT9N17%2BT%2BbIk0ln5azMJu3iCAqEFQWaBnPSqJNWDog7D%2FDJVtuyqP8cJkX3K4Y5rGIKOX6%2BmWE9B2vgAYbcZxQax8lLW6V4r2Yt1gRd56fccssRfrtLFGmQVmBI%2FP7zmMMSL8soGOqUBY9sF9sl6usyx5vq%2BLdLW%2FyJ7481vtGBJ30Wk6UOZKovMeobboTJ8PejquA7ZtNepdZXPI4M5NXVkd%2F2DUIrE2E6k%2BqwGtWnPqJxCMmrt9I3x%2Bgt2LGsIJF6tjXG9dB3KlnMJPRcmUTG%2FfVo%2B0Il2OUPLaCEbp%2Bo7O2k1beVrOaH5rUg%2BBY0neZKhD6Y6iDhgG4a4p5UqL1TQ75MYh6n7X3Ljqf3t&X-Amz-Signature=bf190ac51d576ac70b5f00a77df9a4f0892522c78a79f5bf22e0c2a3a3dd1b32&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RJVUXCVK%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041138Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDIySczhrG3biPdbxq36uCr%2F3wlCCuMK7uz0Qp3MhTh9AiEArDDXC9t2DeVM88ozuBIMrf1F%2FnDSTm2k7jjEyhSjLYkq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDMUjcPZ7T1WVPZ7V1yrcA8DXmraKzfU3qLgY65cXgp7sTDQsChr2Z3ApQdm078LlJCW%2FJ3h6TJc43eMvS3UEXqp3moualYS2trsSGiF%2B8gMm2%2FJ8K2uRzhcyc0bvHUAoOwdPS4D591vPUkoZMlW8wsiZ6IVzs5txUTsXIsnB0ixQj%2BmAk5JH0hVBRA1ZpNJJpdi0FA0ck5E91DPeXbT2P4IX1R%2B2szwNqbMObyJd3mzeJD03eujVfliTU3%2B7762fLYHdXNTFgkXBG9M4BG3nj4OuQnjYfxE8dRbMpWFDrs%2FBcGrPaIf85HR1Mmdk4WoCWfcTlsbWRK88zH25Lee9Zx1IjspIBFaSsLs5me8HMvWUcHm%2Fr%2BXP27Tkarr5VDc7gQbGiBnenBEFc%2F3HLbh5SzuFVn6TxG%2Fyr8YWurG%2FxNHLn2fuDxlHXDghe4rIzsfFhJNXMEyJoVkVfRVi8Ab7HcPfWWxO2PN9oum9LRXHs0AszfDQNhzq7o5LzZxTNLHDwpMeE46xN8Vdfb2MwT9N17%2BT%2BbIk0ln5azMJu3iCAqEFQWaBnPSqJNWDog7D%2FDJVtuyqP8cJkX3K4Y5rGIKOX6%2BmWE9B2vgAYbcZxQax8lLW6V4r2Yt1gRd56fccssRfrtLFGmQVmBI%2FP7zmMMSL8soGOqUBY9sF9sl6usyx5vq%2BLdLW%2FyJ7481vtGBJ30Wk6UOZKovMeobboTJ8PejquA7ZtNepdZXPI4M5NXVkd%2F2DUIrE2E6k%2BqwGtWnPqJxCMmrt9I3x%2Bgt2LGsIJF6tjXG9dB3KlnMJPRcmUTG%2FfVo%2B0Il2OUPLaCEbp%2Bo7O2k1beVrOaH5rUg%2BBY0neZKhD6Y6iDhgG4a4p5UqL1TQ75MYh6n7X3Ljqf3t&X-Amz-Signature=7262704bc098c0023b51adf4bf2e24956cbea34b0983ae066efd1262a596510c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

