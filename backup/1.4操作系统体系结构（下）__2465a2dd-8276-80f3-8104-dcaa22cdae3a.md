
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YXQUC7O5%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042556Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJIMEYCIQD5EQC6SU4opvWR3RjQlaTU%2BkNOWAtXgxC2LLUwV%2FvHywIhAK4sbeONwTyb4aF4I1FlmZWEvylS6UXwhwS2qEg09%2FwNKv8DCB0QABoMNjM3NDIzMTgzODA1IgwYbqzcvWGl1a0UZRkq3AN63o1Weie4apgGHRGz%2BMSJVA%2BgIyujGaT1uqmB%2FYZy0vhzrg%2BHjPtCScZitD5f1PPEiUyyeVWQX7rh0avSGGAhOxwmUWk9EdMvxIbNl%2FpqSHQlxo7A6F4Gv483DSPJiMUIvJhnGBbr%2FK5qrjamdzkHqqdgA41BZtdZ5P8lwusFjgYMjTDEsK8YzbcCit4MkfCRNMhOYoRFgEll9NBvp%2FkeL6mZCIjAjPa%2FacubK1ty3tdLyhBfNcGqFliBFH7op%2BiDSiuEx0pPtEHyY3E5o8YhZ7UxBgtSOC6SB9zVl6qDyG%2FyRfbUb4r%2FzL9cQiKdhUQNhimfdE7kp90iFW3UUrUNwExDkN0dBJnIOO1VeaYyE6GDHkX3ZAZsISFHlZWShOpeNlYmClYNOKEdaCtsFXTVlgR%2BqnqVUcLcLTWLY7yy8VoUPju1r%2BYFHh2KzNApicXffBHNmWskGQ6qpMv9ersL6%2F9ts27D%2BIbnrfHo0XvrOvsCGGI%2BK3%2FQh%2BZmiioYRJkqSUYy7m%2F5tk9c65iH2ivk50YDSAiDkSZZ%2F2ealg2TIDi6%2FfsENadBP2eWLVioLlcJAND7cegfhpFUFZ0y9KDIdodIXMNKeVAdRfhqzBIFyRKOs01IGWJn6shp5TDar9bLBjqkATUi7uySjOFj7Y%2BWY7NZrcjwbYqVrc6MlDQWh7WZv%2BNEl1t3Wh2Vf2e7WYiewbEyh7JPYE87uvZItzIcky3AnBN1U9Ih2Iq1GsKyGEgvgTfqAR11aqnB4333YyXmk6bGVdBVqfeKa%2FncWYAQP4%2FA%2BfZLO8R6QOMiYYo5O8AYHQFipjJeh9XnJ6RdLZXmHvSveGNjQ773g6qXfqEramBRZcX93m63&X-Amz-Signature=be07e00d159232537ce606c94b44ed7782b0f9c440cf7a5b4948bdd5d0c901b2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YXQUC7O5%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042556Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJIMEYCIQD5EQC6SU4opvWR3RjQlaTU%2BkNOWAtXgxC2LLUwV%2FvHywIhAK4sbeONwTyb4aF4I1FlmZWEvylS6UXwhwS2qEg09%2FwNKv8DCB0QABoMNjM3NDIzMTgzODA1IgwYbqzcvWGl1a0UZRkq3AN63o1Weie4apgGHRGz%2BMSJVA%2BgIyujGaT1uqmB%2FYZy0vhzrg%2BHjPtCScZitD5f1PPEiUyyeVWQX7rh0avSGGAhOxwmUWk9EdMvxIbNl%2FpqSHQlxo7A6F4Gv483DSPJiMUIvJhnGBbr%2FK5qrjamdzkHqqdgA41BZtdZ5P8lwusFjgYMjTDEsK8YzbcCit4MkfCRNMhOYoRFgEll9NBvp%2FkeL6mZCIjAjPa%2FacubK1ty3tdLyhBfNcGqFliBFH7op%2BiDSiuEx0pPtEHyY3E5o8YhZ7UxBgtSOC6SB9zVl6qDyG%2FyRfbUb4r%2FzL9cQiKdhUQNhimfdE7kp90iFW3UUrUNwExDkN0dBJnIOO1VeaYyE6GDHkX3ZAZsISFHlZWShOpeNlYmClYNOKEdaCtsFXTVlgR%2BqnqVUcLcLTWLY7yy8VoUPju1r%2BYFHh2KzNApicXffBHNmWskGQ6qpMv9ersL6%2F9ts27D%2BIbnrfHo0XvrOvsCGGI%2BK3%2FQh%2BZmiioYRJkqSUYy7m%2F5tk9c65iH2ivk50YDSAiDkSZZ%2F2ealg2TIDi6%2FfsENadBP2eWLVioLlcJAND7cegfhpFUFZ0y9KDIdodIXMNKeVAdRfhqzBIFyRKOs01IGWJn6shp5TDar9bLBjqkATUi7uySjOFj7Y%2BWY7NZrcjwbYqVrc6MlDQWh7WZv%2BNEl1t3Wh2Vf2e7WYiewbEyh7JPYE87uvZItzIcky3AnBN1U9Ih2Iq1GsKyGEgvgTfqAR11aqnB4333YyXmk6bGVdBVqfeKa%2FncWYAQP4%2FA%2BfZLO8R6QOMiYYo5O8AYHQFipjJeh9XnJ6RdLZXmHvSveGNjQ773g6qXfqEramBRZcX93m63&X-Amz-Signature=50fcc90f43dd1472f12d47730e5ed6362a00b5922b562ab3e8390b6d99665500&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YXQUC7O5%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042556Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJIMEYCIQD5EQC6SU4opvWR3RjQlaTU%2BkNOWAtXgxC2LLUwV%2FvHywIhAK4sbeONwTyb4aF4I1FlmZWEvylS6UXwhwS2qEg09%2FwNKv8DCB0QABoMNjM3NDIzMTgzODA1IgwYbqzcvWGl1a0UZRkq3AN63o1Weie4apgGHRGz%2BMSJVA%2BgIyujGaT1uqmB%2FYZy0vhzrg%2BHjPtCScZitD5f1PPEiUyyeVWQX7rh0avSGGAhOxwmUWk9EdMvxIbNl%2FpqSHQlxo7A6F4Gv483DSPJiMUIvJhnGBbr%2FK5qrjamdzkHqqdgA41BZtdZ5P8lwusFjgYMjTDEsK8YzbcCit4MkfCRNMhOYoRFgEll9NBvp%2FkeL6mZCIjAjPa%2FacubK1ty3tdLyhBfNcGqFliBFH7op%2BiDSiuEx0pPtEHyY3E5o8YhZ7UxBgtSOC6SB9zVl6qDyG%2FyRfbUb4r%2FzL9cQiKdhUQNhimfdE7kp90iFW3UUrUNwExDkN0dBJnIOO1VeaYyE6GDHkX3ZAZsISFHlZWShOpeNlYmClYNOKEdaCtsFXTVlgR%2BqnqVUcLcLTWLY7yy8VoUPju1r%2BYFHh2KzNApicXffBHNmWskGQ6qpMv9ersL6%2F9ts27D%2BIbnrfHo0XvrOvsCGGI%2BK3%2FQh%2BZmiioYRJkqSUYy7m%2F5tk9c65iH2ivk50YDSAiDkSZZ%2F2ealg2TIDi6%2FfsENadBP2eWLVioLlcJAND7cegfhpFUFZ0y9KDIdodIXMNKeVAdRfhqzBIFyRKOs01IGWJn6shp5TDar9bLBjqkATUi7uySjOFj7Y%2BWY7NZrcjwbYqVrc6MlDQWh7WZv%2BNEl1t3Wh2Vf2e7WYiewbEyh7JPYE87uvZItzIcky3AnBN1U9Ih2Iq1GsKyGEgvgTfqAR11aqnB4333YyXmk6bGVdBVqfeKa%2FncWYAQP4%2FA%2BfZLO8R6QOMiYYo5O8AYHQFipjJeh9XnJ6RdLZXmHvSveGNjQ773g6qXfqEramBRZcX93m63&X-Amz-Signature=9893ebe27a0a5c5ea159d26368acb9ffb8485178fc494a168194c2a0da8334bf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

