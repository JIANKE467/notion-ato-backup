
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466V26NVS2A%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040530Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIQC5R1SI%2FSoZB%2FVEuHvaPKJfgdqsbRhYOxpYGeLxgUg1dQIgFLBnzZHmeDX5y8MkuK%2BIJnyF8Q04m0MYoej%2BPH2R9WQqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLkI385IOirIGJU2cSrcAwBfZufM3wuDGmsr4R7zJtGARw2JIXweCL6ObNc2QBQ5lhUNQLl5hLLOd7lRZ36CCsvy29J%2BpI3KkfqdWRL0CGTX061EWZOmc%2FegiNc4sFMLcM%2FumbyK5lCx1sJl3O9pOw0AxPUf3MmJgYnwmrEUXrDUN8pSglSq4T9HTIFloMBj8yrFaKc7YI3GbP8FS9iA6mO%2B%2B6aFd7Peyp%2Fy2xJYqd17CffRoHWC25ecBaGsDs%2BksxtyM7Nv%2B9J3MqzqP%2F9YDfFWGcQBHc6U0ZnkV1BtLn7WFlLpHpYjAbU4qLBjlD2th4%2FJjC4PGgqPeK3Xmcc%2FFdWpnC4Ca3m7Kmq07T%2FNEFT8mjAYK12QreTV6n9ibkmuco0elx3JBlQvvHUUta2IqLkEw8GIAaIJej6S6xnKuwW4LZMQ9pVF%2BTUmKGOL1cWCWUCWO8QbAitKb7GIdPQNW98lMWgS%2Bt85BilFQoUKKX0DxjAknAXKYp6YRoTEjgiqVCuzEgeT7ge0JHsnwq2DriWGcomrJqs3vOKaYBkLpkioTFAguLBoe2ROzFKmRm%2FGSG85jz2fgHJVZaSQfb%2BIho9U04KsMSOWbDOvlppdoMOtPLvEOgRkizy27mv5Wg2VGpUab17f9PnTvRwwMIng7ckGOqUBiQisfwW5WUiJdUw76o57VAjZAoQJL%2FC90rzj8bXIGbP68Si46YpvMlAL1g9cuwc6Xv6y6rl7v0BB1h%2FKKLS%2BVpmKxaBe6Rz8KrVbTRhjdlCFRbzT7%2BNefGbEWP6ck7cUg55MusT7j3A%2FUMgAvwlFeKreWsIU%2FvxOWUoW%2FNtf9InlhdYhwiI5Ci1kS4iZnDg1avvGrTba%2BzPPEIYBBIUyxfU%2FWwW%2B&X-Amz-Signature=f42136907fbb090f9c3fbbf655475f022feddc4575b080d87d08695b70a5a7ee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466V26NVS2A%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040530Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIQC5R1SI%2FSoZB%2FVEuHvaPKJfgdqsbRhYOxpYGeLxgUg1dQIgFLBnzZHmeDX5y8MkuK%2BIJnyF8Q04m0MYoej%2BPH2R9WQqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLkI385IOirIGJU2cSrcAwBfZufM3wuDGmsr4R7zJtGARw2JIXweCL6ObNc2QBQ5lhUNQLl5hLLOd7lRZ36CCsvy29J%2BpI3KkfqdWRL0CGTX061EWZOmc%2FegiNc4sFMLcM%2FumbyK5lCx1sJl3O9pOw0AxPUf3MmJgYnwmrEUXrDUN8pSglSq4T9HTIFloMBj8yrFaKc7YI3GbP8FS9iA6mO%2B%2B6aFd7Peyp%2Fy2xJYqd17CffRoHWC25ecBaGsDs%2BksxtyM7Nv%2B9J3MqzqP%2F9YDfFWGcQBHc6U0ZnkV1BtLn7WFlLpHpYjAbU4qLBjlD2th4%2FJjC4PGgqPeK3Xmcc%2FFdWpnC4Ca3m7Kmq07T%2FNEFT8mjAYK12QreTV6n9ibkmuco0elx3JBlQvvHUUta2IqLkEw8GIAaIJej6S6xnKuwW4LZMQ9pVF%2BTUmKGOL1cWCWUCWO8QbAitKb7GIdPQNW98lMWgS%2Bt85BilFQoUKKX0DxjAknAXKYp6YRoTEjgiqVCuzEgeT7ge0JHsnwq2DriWGcomrJqs3vOKaYBkLpkioTFAguLBoe2ROzFKmRm%2FGSG85jz2fgHJVZaSQfb%2BIho9U04KsMSOWbDOvlppdoMOtPLvEOgRkizy27mv5Wg2VGpUab17f9PnTvRwwMIng7ckGOqUBiQisfwW5WUiJdUw76o57VAjZAoQJL%2FC90rzj8bXIGbP68Si46YpvMlAL1g9cuwc6Xv6y6rl7v0BB1h%2FKKLS%2BVpmKxaBe6Rz8KrVbTRhjdlCFRbzT7%2BNefGbEWP6ck7cUg55MusT7j3A%2FUMgAvwlFeKreWsIU%2FvxOWUoW%2FNtf9InlhdYhwiI5Ci1kS4iZnDg1avvGrTba%2BzPPEIYBBIUyxfU%2FWwW%2B&X-Amz-Signature=a6600bd421dac842124866ee54d2cb19c483cc7761dcf5dad088d0fac7813a14&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466V26NVS2A%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040530Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIQC5R1SI%2FSoZB%2FVEuHvaPKJfgdqsbRhYOxpYGeLxgUg1dQIgFLBnzZHmeDX5y8MkuK%2BIJnyF8Q04m0MYoej%2BPH2R9WQqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLkI385IOirIGJU2cSrcAwBfZufM3wuDGmsr4R7zJtGARw2JIXweCL6ObNc2QBQ5lhUNQLl5hLLOd7lRZ36CCsvy29J%2BpI3KkfqdWRL0CGTX061EWZOmc%2FegiNc4sFMLcM%2FumbyK5lCx1sJl3O9pOw0AxPUf3MmJgYnwmrEUXrDUN8pSglSq4T9HTIFloMBj8yrFaKc7YI3GbP8FS9iA6mO%2B%2B6aFd7Peyp%2Fy2xJYqd17CffRoHWC25ecBaGsDs%2BksxtyM7Nv%2B9J3MqzqP%2F9YDfFWGcQBHc6U0ZnkV1BtLn7WFlLpHpYjAbU4qLBjlD2th4%2FJjC4PGgqPeK3Xmcc%2FFdWpnC4Ca3m7Kmq07T%2FNEFT8mjAYK12QreTV6n9ibkmuco0elx3JBlQvvHUUta2IqLkEw8GIAaIJej6S6xnKuwW4LZMQ9pVF%2BTUmKGOL1cWCWUCWO8QbAitKb7GIdPQNW98lMWgS%2Bt85BilFQoUKKX0DxjAknAXKYp6YRoTEjgiqVCuzEgeT7ge0JHsnwq2DriWGcomrJqs3vOKaYBkLpkioTFAguLBoe2ROzFKmRm%2FGSG85jz2fgHJVZaSQfb%2BIho9U04KsMSOWbDOvlppdoMOtPLvEOgRkizy27mv5Wg2VGpUab17f9PnTvRwwMIng7ckGOqUBiQisfwW5WUiJdUw76o57VAjZAoQJL%2FC90rzj8bXIGbP68Si46YpvMlAL1g9cuwc6Xv6y6rl7v0BB1h%2FKKLS%2BVpmKxaBe6Rz8KrVbTRhjdlCFRbzT7%2BNefGbEWP6ck7cUg55MusT7j3A%2FUMgAvwlFeKreWsIU%2FvxOWUoW%2FNtf9InlhdYhwiI5Ci1kS4iZnDg1avvGrTba%2BzPPEIYBBIUyxfU%2FWwW%2B&X-Amz-Signature=8fe0f687a5aadf8ffbb2500800a7ba109491a08be915baae8bc73031d83cbf69&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

