
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46632N463II%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040917Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD6NLxFv4Q%2FqUNOMpt3RRAhgWmKFp26JbSLss6HvnHXigIgTnqr9ak7ttJR%2FTHWma%2B5bX0wIBEucRGnJJ0qb144AYEqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAiXJPFYqi%2BaGVcX8CrcAw6NevzavIKP%2BVrEgotVv8Hr4jIc0sBuvkXmTOuUMA%2FaW82fWvB%2BA1iU%2FKAFZsDzHmxINyCvJGxulGqrcIsw%2Fs2Kse8ssWlrN2cvIAvuOLf9AOi3vG7OFxY6FOGf0nDDPLB0eGodD%2BTzVVWdJfwiOHMsRnLQ0k1qdz9umv%2BYQMd%2FJfUPuwrLkts2GLNccVmoBVQUrhSVc6x4thxEWVP6hXd4YW7tj%2B909hNUqzRbiKvLOU3m52fOGu4ejJYZ2rB56OHffgg1SC4M%2FVa60rM7%2FrQJ5EOkZdcu6OlaAc2H010KvI%2BZ9ToNxjBhreDyNQckkm2%2FYLdrimZHgFPqURzSG4GHQCaHNj5XwTKhFsksvjWgFAbWPGcv7ZUCSwds2nw1mWUd%2BimPvygVB%2FFTbDriVBq6JSVaAltNgwspUKuVmnlB9HWhrFAA11hosEQVNokg1kEWqlVXGAhlQL2Fab641TvSUJtCyzDssjo2hxkXM6IJV2gEuDP6EuLHPQYMgR680gyLqy9KWkz1dSVE57lE%2Bcc%2BcPb%2FohBxkv5sohF5MxmPxYmwZTOxjDrogFJpKMDV%2FY3O8Kn61sIqItQMyN1zfe4PfcTfVuaO0wmEqm4PJ5mbMTL9y4QFZ6R2OR%2FQMKnp0coGOqUByJZvNjvBTDi6r6CAkbZmool6zkVmU0l7iW8eF7ChOsurGLdw0mSAR7KJBTHjA%2FFKYuueqVn0WItCwrwugtNquO5a33R9Dx%2Bu3sE6jrGhV4Rf%2BVVE3KIZqPOiA9xZXfhMNTs%2FGxzKu67v%2FZ%2FRFnx6ayLzJuCDzarQGYJhQtbnSRCtjTLRfRKPiXZfdkQufwIqzf8uUl4uQV9VO7E5TSAbMgBzb%2FQo&X-Amz-Signature=b9622668e893481c651740883dd5d9822e30ca98adba802d7904756138afa320&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46632N463II%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040917Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD6NLxFv4Q%2FqUNOMpt3RRAhgWmKFp26JbSLss6HvnHXigIgTnqr9ak7ttJR%2FTHWma%2B5bX0wIBEucRGnJJ0qb144AYEqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAiXJPFYqi%2BaGVcX8CrcAw6NevzavIKP%2BVrEgotVv8Hr4jIc0sBuvkXmTOuUMA%2FaW82fWvB%2BA1iU%2FKAFZsDzHmxINyCvJGxulGqrcIsw%2Fs2Kse8ssWlrN2cvIAvuOLf9AOi3vG7OFxY6FOGf0nDDPLB0eGodD%2BTzVVWdJfwiOHMsRnLQ0k1qdz9umv%2BYQMd%2FJfUPuwrLkts2GLNccVmoBVQUrhSVc6x4thxEWVP6hXd4YW7tj%2B909hNUqzRbiKvLOU3m52fOGu4ejJYZ2rB56OHffgg1SC4M%2FVa60rM7%2FrQJ5EOkZdcu6OlaAc2H010KvI%2BZ9ToNxjBhreDyNQckkm2%2FYLdrimZHgFPqURzSG4GHQCaHNj5XwTKhFsksvjWgFAbWPGcv7ZUCSwds2nw1mWUd%2BimPvygVB%2FFTbDriVBq6JSVaAltNgwspUKuVmnlB9HWhrFAA11hosEQVNokg1kEWqlVXGAhlQL2Fab641TvSUJtCyzDssjo2hxkXM6IJV2gEuDP6EuLHPQYMgR680gyLqy9KWkz1dSVE57lE%2Bcc%2BcPb%2FohBxkv5sohF5MxmPxYmwZTOxjDrogFJpKMDV%2FY3O8Kn61sIqItQMyN1zfe4PfcTfVuaO0wmEqm4PJ5mbMTL9y4QFZ6R2OR%2FQMKnp0coGOqUByJZvNjvBTDi6r6CAkbZmool6zkVmU0l7iW8eF7ChOsurGLdw0mSAR7KJBTHjA%2FFKYuueqVn0WItCwrwugtNquO5a33R9Dx%2Bu3sE6jrGhV4Rf%2BVVE3KIZqPOiA9xZXfhMNTs%2FGxzKu67v%2FZ%2FRFnx6ayLzJuCDzarQGYJhQtbnSRCtjTLRfRKPiXZfdkQufwIqzf8uUl4uQV9VO7E5TSAbMgBzb%2FQo&X-Amz-Signature=82ffe7c46f119ab5cf1c227b1f74d58b64ba55bcffd1ffbe1e4a349359f6fbe6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46632N463II%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040917Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD6NLxFv4Q%2FqUNOMpt3RRAhgWmKFp26JbSLss6HvnHXigIgTnqr9ak7ttJR%2FTHWma%2B5bX0wIBEucRGnJJ0qb144AYEqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAiXJPFYqi%2BaGVcX8CrcAw6NevzavIKP%2BVrEgotVv8Hr4jIc0sBuvkXmTOuUMA%2FaW82fWvB%2BA1iU%2FKAFZsDzHmxINyCvJGxulGqrcIsw%2Fs2Kse8ssWlrN2cvIAvuOLf9AOi3vG7OFxY6FOGf0nDDPLB0eGodD%2BTzVVWdJfwiOHMsRnLQ0k1qdz9umv%2BYQMd%2FJfUPuwrLkts2GLNccVmoBVQUrhSVc6x4thxEWVP6hXd4YW7tj%2B909hNUqzRbiKvLOU3m52fOGu4ejJYZ2rB56OHffgg1SC4M%2FVa60rM7%2FrQJ5EOkZdcu6OlaAc2H010KvI%2BZ9ToNxjBhreDyNQckkm2%2FYLdrimZHgFPqURzSG4GHQCaHNj5XwTKhFsksvjWgFAbWPGcv7ZUCSwds2nw1mWUd%2BimPvygVB%2FFTbDriVBq6JSVaAltNgwspUKuVmnlB9HWhrFAA11hosEQVNokg1kEWqlVXGAhlQL2Fab641TvSUJtCyzDssjo2hxkXM6IJV2gEuDP6EuLHPQYMgR680gyLqy9KWkz1dSVE57lE%2Bcc%2BcPb%2FohBxkv5sohF5MxmPxYmwZTOxjDrogFJpKMDV%2FY3O8Kn61sIqItQMyN1zfe4PfcTfVuaO0wmEqm4PJ5mbMTL9y4QFZ6R2OR%2FQMKnp0coGOqUByJZvNjvBTDi6r6CAkbZmool6zkVmU0l7iW8eF7ChOsurGLdw0mSAR7KJBTHjA%2FFKYuueqVn0WItCwrwugtNquO5a33R9Dx%2Bu3sE6jrGhV4Rf%2BVVE3KIZqPOiA9xZXfhMNTs%2FGxzKu67v%2FZ%2FRFnx6ayLzJuCDzarQGYJhQtbnSRCtjTLRfRKPiXZfdkQufwIqzf8uUl4uQV9VO7E5TSAbMgBzb%2FQo&X-Amz-Signature=eb5d74a42738528d077d52287d9ea637365e8c3efbda87711b745d50d454db5c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

