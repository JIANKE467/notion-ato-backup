
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X74OTKEA%2F20260111%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260111T042156Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAUaCXVzLXdlc3QtMiJHMEUCIBQ%2F8UJVqJmikK8D3rB%2BEmKJcd2cv4qOhtR7yBE%2Fe7KMAiEA0zCio5HQ6WSH0Pf5W%2BAxY4i0enZ4nDUbvmTOa8Hx2u0qiAQIzf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFXU%2FeX8JNvKzHKlcSrcA8p1%2FQWOVpbc1bpmnEtIDkLhmafCBp%2FJA%2B8heDwQZdaS9odGiFBG%2BKIrd3%2BG4L6gVUuZDj%2B28%2BzqB7%2BcEQln0q%2Fm3KVt%2BfdkAPS9yFxxIxOUH6VDpQYL%2FFugUpwMS3tB4w1mTTdAc8ZpJKFa5BA9e9mlrx8XX4joJNKwACd5kiDwDKVSAq3aHQnCTTUGMj7Wnj19wDnxXY4UEOT%2FDvZw5WXqWuga3Zke2PvK2JlQxcLizu%2FnV19dsGmYWVsyz5bSsqcs4GLsiXMyTY7sSE8FoPrJgrfE%2BTpcBjXZ8cini%2BVkNDSP7jGiQS7tMAs44C9g8pcZ3yy8RsIfHKx71FrNPCxpaWTkm9UA94X%2BgO9Z%2Bhcap9i849MDS%2BnkMeHYkedkGuudKI5dCvs0d%2Ff0%2FxAfHzEI6MbVcQdeO8axj6ChtpCYcUZBnw2BbG0UWN8TymfDdigTGQKDzYdL8ot%2FyhuApsDW8LPkHUfTZAkKEAqKOgQHHnxCqLRXzVYHO4Z1eBC3hVIpy7SNtgbEyQsmBCWO9K3wyfVondSTPKP6nOd4LuiLvkasyNNINPM60d2UOARzM1jjmAp6YBSQTqDxqGhH2lrHrCow3wVX3HdIFHbeRGHg9jLRcy3cLlz7rOVWMKXJjMsGOqUBKVaEifLQaA0HNghh%2BCbWobPHppIZ21EbwItfev8z4YPh83gIBbKReqIWqamIAgvXYgp42eATAEnJX%2B14%2BY5Z%2FjzCu3Ny4VwNay9DlgcJLlEijBE%2FWke7qaTCf6lgDyvlu7CEFZRGqpL410K%2Bb1jmQEQBNNWcTGByzwYhwlBueES47mSqgtTjtMufyHA1TomeY8%2Fz1eL37IJzpldGjOBsAqJh6%2FM6&X-Amz-Signature=3ff9b3edb91cb0c184456e561359a1b2eda3d2cdf522727879b94bc70ca7490a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X74OTKEA%2F20260111%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260111T042156Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAUaCXVzLXdlc3QtMiJHMEUCIBQ%2F8UJVqJmikK8D3rB%2BEmKJcd2cv4qOhtR7yBE%2Fe7KMAiEA0zCio5HQ6WSH0Pf5W%2BAxY4i0enZ4nDUbvmTOa8Hx2u0qiAQIzf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFXU%2FeX8JNvKzHKlcSrcA8p1%2FQWOVpbc1bpmnEtIDkLhmafCBp%2FJA%2B8heDwQZdaS9odGiFBG%2BKIrd3%2BG4L6gVUuZDj%2B28%2BzqB7%2BcEQln0q%2Fm3KVt%2BfdkAPS9yFxxIxOUH6VDpQYL%2FFugUpwMS3tB4w1mTTdAc8ZpJKFa5BA9e9mlrx8XX4joJNKwACd5kiDwDKVSAq3aHQnCTTUGMj7Wnj19wDnxXY4UEOT%2FDvZw5WXqWuga3Zke2PvK2JlQxcLizu%2FnV19dsGmYWVsyz5bSsqcs4GLsiXMyTY7sSE8FoPrJgrfE%2BTpcBjXZ8cini%2BVkNDSP7jGiQS7tMAs44C9g8pcZ3yy8RsIfHKx71FrNPCxpaWTkm9UA94X%2BgO9Z%2Bhcap9i849MDS%2BnkMeHYkedkGuudKI5dCvs0d%2Ff0%2FxAfHzEI6MbVcQdeO8axj6ChtpCYcUZBnw2BbG0UWN8TymfDdigTGQKDzYdL8ot%2FyhuApsDW8LPkHUfTZAkKEAqKOgQHHnxCqLRXzVYHO4Z1eBC3hVIpy7SNtgbEyQsmBCWO9K3wyfVondSTPKP6nOd4LuiLvkasyNNINPM60d2UOARzM1jjmAp6YBSQTqDxqGhH2lrHrCow3wVX3HdIFHbeRGHg9jLRcy3cLlz7rOVWMKXJjMsGOqUBKVaEifLQaA0HNghh%2BCbWobPHppIZ21EbwItfev8z4YPh83gIBbKReqIWqamIAgvXYgp42eATAEnJX%2B14%2BY5Z%2FjzCu3Ny4VwNay9DlgcJLlEijBE%2FWke7qaTCf6lgDyvlu7CEFZRGqpL410K%2Bb1jmQEQBNNWcTGByzwYhwlBueES47mSqgtTjtMufyHA1TomeY8%2Fz1eL37IJzpldGjOBsAqJh6%2FM6&X-Amz-Signature=2fda6b9e1354b67a13a418c43d536feeff4adcd886b7774f893fe44e087bf99c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X74OTKEA%2F20260111%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260111T042156Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAUaCXVzLXdlc3QtMiJHMEUCIBQ%2F8UJVqJmikK8D3rB%2BEmKJcd2cv4qOhtR7yBE%2Fe7KMAiEA0zCio5HQ6WSH0Pf5W%2BAxY4i0enZ4nDUbvmTOa8Hx2u0qiAQIzf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFXU%2FeX8JNvKzHKlcSrcA8p1%2FQWOVpbc1bpmnEtIDkLhmafCBp%2FJA%2B8heDwQZdaS9odGiFBG%2BKIrd3%2BG4L6gVUuZDj%2B28%2BzqB7%2BcEQln0q%2Fm3KVt%2BfdkAPS9yFxxIxOUH6VDpQYL%2FFugUpwMS3tB4w1mTTdAc8ZpJKFa5BA9e9mlrx8XX4joJNKwACd5kiDwDKVSAq3aHQnCTTUGMj7Wnj19wDnxXY4UEOT%2FDvZw5WXqWuga3Zke2PvK2JlQxcLizu%2FnV19dsGmYWVsyz5bSsqcs4GLsiXMyTY7sSE8FoPrJgrfE%2BTpcBjXZ8cini%2BVkNDSP7jGiQS7tMAs44C9g8pcZ3yy8RsIfHKx71FrNPCxpaWTkm9UA94X%2BgO9Z%2Bhcap9i849MDS%2BnkMeHYkedkGuudKI5dCvs0d%2Ff0%2FxAfHzEI6MbVcQdeO8axj6ChtpCYcUZBnw2BbG0UWN8TymfDdigTGQKDzYdL8ot%2FyhuApsDW8LPkHUfTZAkKEAqKOgQHHnxCqLRXzVYHO4Z1eBC3hVIpy7SNtgbEyQsmBCWO9K3wyfVondSTPKP6nOd4LuiLvkasyNNINPM60d2UOARzM1jjmAp6YBSQTqDxqGhH2lrHrCow3wVX3HdIFHbeRGHg9jLRcy3cLlz7rOVWMKXJjMsGOqUBKVaEifLQaA0HNghh%2BCbWobPHppIZ21EbwItfev8z4YPh83gIBbKReqIWqamIAgvXYgp42eATAEnJX%2B14%2BY5Z%2FjzCu3Ny4VwNay9DlgcJLlEijBE%2FWke7qaTCf6lgDyvlu7CEFZRGqpL410K%2Bb1jmQEQBNNWcTGByzwYhwlBueES47mSqgtTjtMufyHA1TomeY8%2Fz1eL37IJzpldGjOBsAqJh6%2FM6&X-Amz-Signature=bcfd1d25638efd4c6b91842cb86a33d7e94cc55c75d3e6c22ee338d08167db94&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

