
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466644WYEQO%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040437Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCICtcPuDr5XFZeIa38Wqm5GLd1iaNiLl9B9HQWmSu2f5wAiEA8yOAVE27fNsOsXbYhYxwS2vxslSu%2F4En8ZN2luubD5cq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDGNCqThmcXTUpdVTCCrcAwo2h8J0xeimwFt%2FoYrbMlJ02n8bVLkDsS9dlXArnU%2Bda236IatMwQe8g1a72H7mmBEULYXyrivj%2Fkda6jW2gjFvMn%2FjVq94q8sNFcpO2TMgp%2FY1SPGRlPNUUxIArqOsLho%2FLEDxrSKTooBZVdPaIN7vyfQoyrn9%2B%2Bej1O4lZZWaa%2F6XnMjERMyTUYozMc13Tu7nwrYYz%2F2wg2mPgoTie72dv%2FIOHiZOfeD9h3PNs8ai%2FVIU6nSWwBdNYgGMBSgrdwEDh1YT2dV9sD5CelWrKbt%2BHUPFvtLbTotQPX%2FaEDWnNYXJJBPrPCeBC8pW6qGVxrd%2BSp42S1NbPjrC9X2hnisYAnFSSSXz59T3yvBtzzvgalBN02N%2B3OeC7lgtKK%2FoR3IG70aNRpPSKFzDgXM62JJLjZgmeTRc%2BcunaZMq05Q%2BrladGbrRcePxU5DojxESaf9cfCG8rrHq%2B21i2irmSqRMKyaJLAjsGupFONT77OyClJJd57Vd4QYvTZd2TYAZBHfsZud03ahqKiyxfKA%2BvLmmNug5La%2Fna2fI6Yci8%2FHOJ%2BQYcLcx2GARN12YIB5vJ%2B7%2F%2FHSPxA8xDZHTwXN74LtgcYoSNA15JgRy0dikfabrCNirtRr9t%2FJqBT1EMOfcvMoGOqUBZf3pgZUAcmPTDNds8wco0PRom%2BJyhiWpQ%2BwQhU1STFzR%2BFI5Rx2yXIlQEY8LE%2FoooIFn%2FRgJmikCFXjrebRvx7c87GdpC9bxr1GY1Kcnp3ncrLwEFP%2Fw524XMgYWm1NqipBZBE8%2FkkON%2BVQYSm90cDF%2FGrLg2OkKCpTO1T0gO1TfytzZcd2vYlWeaNMiYiRsHzG6hs%2FLepp0yIr0Jk9GHlUnYk7a&X-Amz-Signature=0236d37a7014eb6c7b547e0560282ca262ca59c5f09a3d7f104fb7f01b07b6aa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466644WYEQO%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040437Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCICtcPuDr5XFZeIa38Wqm5GLd1iaNiLl9B9HQWmSu2f5wAiEA8yOAVE27fNsOsXbYhYxwS2vxslSu%2F4En8ZN2luubD5cq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDGNCqThmcXTUpdVTCCrcAwo2h8J0xeimwFt%2FoYrbMlJ02n8bVLkDsS9dlXArnU%2Bda236IatMwQe8g1a72H7mmBEULYXyrivj%2Fkda6jW2gjFvMn%2FjVq94q8sNFcpO2TMgp%2FY1SPGRlPNUUxIArqOsLho%2FLEDxrSKTooBZVdPaIN7vyfQoyrn9%2B%2Bej1O4lZZWaa%2F6XnMjERMyTUYozMc13Tu7nwrYYz%2F2wg2mPgoTie72dv%2FIOHiZOfeD9h3PNs8ai%2FVIU6nSWwBdNYgGMBSgrdwEDh1YT2dV9sD5CelWrKbt%2BHUPFvtLbTotQPX%2FaEDWnNYXJJBPrPCeBC8pW6qGVxrd%2BSp42S1NbPjrC9X2hnisYAnFSSSXz59T3yvBtzzvgalBN02N%2B3OeC7lgtKK%2FoR3IG70aNRpPSKFzDgXM62JJLjZgmeTRc%2BcunaZMq05Q%2BrladGbrRcePxU5DojxESaf9cfCG8rrHq%2B21i2irmSqRMKyaJLAjsGupFONT77OyClJJd57Vd4QYvTZd2TYAZBHfsZud03ahqKiyxfKA%2BvLmmNug5La%2Fna2fI6Yci8%2FHOJ%2BQYcLcx2GARN12YIB5vJ%2B7%2F%2FHSPxA8xDZHTwXN74LtgcYoSNA15JgRy0dikfabrCNirtRr9t%2FJqBT1EMOfcvMoGOqUBZf3pgZUAcmPTDNds8wco0PRom%2BJyhiWpQ%2BwQhU1STFzR%2BFI5Rx2yXIlQEY8LE%2FoooIFn%2FRgJmikCFXjrebRvx7c87GdpC9bxr1GY1Kcnp3ncrLwEFP%2Fw524XMgYWm1NqipBZBE8%2FkkON%2BVQYSm90cDF%2FGrLg2OkKCpTO1T0gO1TfytzZcd2vYlWeaNMiYiRsHzG6hs%2FLepp0yIr0Jk9GHlUnYk7a&X-Amz-Signature=4de525fa9422280b82adce1906ffcd3220a07a3ef5da8cc4fd05156abf713a76&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466644WYEQO%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040437Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCICtcPuDr5XFZeIa38Wqm5GLd1iaNiLl9B9HQWmSu2f5wAiEA8yOAVE27fNsOsXbYhYxwS2vxslSu%2F4En8ZN2luubD5cq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDGNCqThmcXTUpdVTCCrcAwo2h8J0xeimwFt%2FoYrbMlJ02n8bVLkDsS9dlXArnU%2Bda236IatMwQe8g1a72H7mmBEULYXyrivj%2Fkda6jW2gjFvMn%2FjVq94q8sNFcpO2TMgp%2FY1SPGRlPNUUxIArqOsLho%2FLEDxrSKTooBZVdPaIN7vyfQoyrn9%2B%2Bej1O4lZZWaa%2F6XnMjERMyTUYozMc13Tu7nwrYYz%2F2wg2mPgoTie72dv%2FIOHiZOfeD9h3PNs8ai%2FVIU6nSWwBdNYgGMBSgrdwEDh1YT2dV9sD5CelWrKbt%2BHUPFvtLbTotQPX%2FaEDWnNYXJJBPrPCeBC8pW6qGVxrd%2BSp42S1NbPjrC9X2hnisYAnFSSSXz59T3yvBtzzvgalBN02N%2B3OeC7lgtKK%2FoR3IG70aNRpPSKFzDgXM62JJLjZgmeTRc%2BcunaZMq05Q%2BrladGbrRcePxU5DojxESaf9cfCG8rrHq%2B21i2irmSqRMKyaJLAjsGupFONT77OyClJJd57Vd4QYvTZd2TYAZBHfsZud03ahqKiyxfKA%2BvLmmNug5La%2Fna2fI6Yci8%2FHOJ%2BQYcLcx2GARN12YIB5vJ%2B7%2F%2FHSPxA8xDZHTwXN74LtgcYoSNA15JgRy0dikfabrCNirtRr9t%2FJqBT1EMOfcvMoGOqUBZf3pgZUAcmPTDNds8wco0PRom%2BJyhiWpQ%2BwQhU1STFzR%2BFI5Rx2yXIlQEY8LE%2FoooIFn%2FRgJmikCFXjrebRvx7c87GdpC9bxr1GY1Kcnp3ncrLwEFP%2Fw524XMgYWm1NqipBZBE8%2FkkON%2BVQYSm90cDF%2FGrLg2OkKCpTO1T0gO1TfytzZcd2vYlWeaNMiYiRsHzG6hs%2FLepp0yIr0Jk9GHlUnYk7a&X-Amz-Signature=bfff3ab2d4911aa8e69c0f4b0afc98c98348c062f5d813460b5630199f81be54&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

