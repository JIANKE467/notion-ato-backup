
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SRMP3FOC%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDOZpiAWyX%2BFa7X%2BZUM2cERjeu5EqvZPxBHnWfPTtcnHwIhAKIHEiiuWBu3HAe92grWKZ%2B4k9y0I%2F9ClcFle6Qb1Ff2Kv8DCHQQABoMNjM3NDIzMTgzODA1Igzpb5q26mlmuySqD%2BYq3AOi5zEnVw%2BPMHZznFICkR2F0bDSxXzJBnXU0EHZA7sBcCXPklz3g4hM8bwYWUQRBGmh4rc7Mbz083yPt63t6WTX3cjK%2BWjHIV7V%2FOpU2JkfQ5%2BnatqsupeXHCbzfOziYPSLHrl03f%2BKROijojMKhmDAoljjUrj7F01suApQ39pm3ql%2F541lS6o%2Fr92YwXzOC%2F5pBQQOHOtsXcgYGto7TnB3hhibaj4eico2EGq90u1DMC8RSXaSbE3QQ1hSZ02Wv8M0Y9Edz3be%2BSMmZnb2I9T1wvgMptwKqnfdM9LfDSnlWsRIIMvw8wBg4G6pniiLiu2gB95MW%2BsZLcR17fNSiMjIjMNZN%2BoMXzfA%2Ff%2Ft9InON0%2B0zuTPwPWUPNBCtWQonOtVBxoThdsViEnepjqO72mPJZWe8cKBHlnHspZFcXOl8KiLVVX0G0hVJAWoQwpLBL3McWa2SrkpSZw4JDji5cul30qaqA8H%2BGALb%2BW08rdnaBX3%2Bs1N3%2BWavLqhnE1mYRkbnlXadGGj%2F5%2BPpoermceot7j6wEhjKishPjdGV2KBYAq3igoNH3mChAFb%2BeH%2FeJGgtgx%2BAqhrPN5%2FwcKS9N6E1tPD1cm9BAyTKn3FMXVVRi97M4qWmyMVxWeFijC1vIjKBjqkAW9NkHAXIfefSxpJXs73sZHfneshwvZrTHaNE7WhsG%2F%2FtDoEeKe%2BeDjUxrFOW1kQLsg9HUgko5NZrsic50xwFRBQOLdCxyDrhDYrqzBSYYpYaG176fS1kSip0AfSRJM72zq6oT6RQy694F3nquaASKIPVafXH1f1QLqzqbBBvb4XC5b7c8CG9LyzqXTeCK4cHIMY%2FIxEvFNBxyUKi0o5GutJ2ZRG&X-Amz-Signature=c9ea0bc377167c6738fe3fde75a2a9ffa3199eb9e0d4ec357df67bc53905e57d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SRMP3FOC%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDOZpiAWyX%2BFa7X%2BZUM2cERjeu5EqvZPxBHnWfPTtcnHwIhAKIHEiiuWBu3HAe92grWKZ%2B4k9y0I%2F9ClcFle6Qb1Ff2Kv8DCHQQABoMNjM3NDIzMTgzODA1Igzpb5q26mlmuySqD%2BYq3AOi5zEnVw%2BPMHZznFICkR2F0bDSxXzJBnXU0EHZA7sBcCXPklz3g4hM8bwYWUQRBGmh4rc7Mbz083yPt63t6WTX3cjK%2BWjHIV7V%2FOpU2JkfQ5%2BnatqsupeXHCbzfOziYPSLHrl03f%2BKROijojMKhmDAoljjUrj7F01suApQ39pm3ql%2F541lS6o%2Fr92YwXzOC%2F5pBQQOHOtsXcgYGto7TnB3hhibaj4eico2EGq90u1DMC8RSXaSbE3QQ1hSZ02Wv8M0Y9Edz3be%2BSMmZnb2I9T1wvgMptwKqnfdM9LfDSnlWsRIIMvw8wBg4G6pniiLiu2gB95MW%2BsZLcR17fNSiMjIjMNZN%2BoMXzfA%2Ff%2Ft9InON0%2B0zuTPwPWUPNBCtWQonOtVBxoThdsViEnepjqO72mPJZWe8cKBHlnHspZFcXOl8KiLVVX0G0hVJAWoQwpLBL3McWa2SrkpSZw4JDji5cul30qaqA8H%2BGALb%2BW08rdnaBX3%2Bs1N3%2BWavLqhnE1mYRkbnlXadGGj%2F5%2BPpoermceot7j6wEhjKishPjdGV2KBYAq3igoNH3mChAFb%2BeH%2FeJGgtgx%2BAqhrPN5%2FwcKS9N6E1tPD1cm9BAyTKn3FMXVVRi97M4qWmyMVxWeFijC1vIjKBjqkAW9NkHAXIfefSxpJXs73sZHfneshwvZrTHaNE7WhsG%2F%2FtDoEeKe%2BeDjUxrFOW1kQLsg9HUgko5NZrsic50xwFRBQOLdCxyDrhDYrqzBSYYpYaG176fS1kSip0AfSRJM72zq6oT6RQy694F3nquaASKIPVafXH1f1QLqzqbBBvb4XC5b7c8CG9LyzqXTeCK4cHIMY%2FIxEvFNBxyUKi0o5GutJ2ZRG&X-Amz-Signature=d553a5e8548b90d17e69af5f0b0119e7f38707b298168ac9efd28f7eb3660e2f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SRMP3FOC%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDOZpiAWyX%2BFa7X%2BZUM2cERjeu5EqvZPxBHnWfPTtcnHwIhAKIHEiiuWBu3HAe92grWKZ%2B4k9y0I%2F9ClcFle6Qb1Ff2Kv8DCHQQABoMNjM3NDIzMTgzODA1Igzpb5q26mlmuySqD%2BYq3AOi5zEnVw%2BPMHZznFICkR2F0bDSxXzJBnXU0EHZA7sBcCXPklz3g4hM8bwYWUQRBGmh4rc7Mbz083yPt63t6WTX3cjK%2BWjHIV7V%2FOpU2JkfQ5%2BnatqsupeXHCbzfOziYPSLHrl03f%2BKROijojMKhmDAoljjUrj7F01suApQ39pm3ql%2F541lS6o%2Fr92YwXzOC%2F5pBQQOHOtsXcgYGto7TnB3hhibaj4eico2EGq90u1DMC8RSXaSbE3QQ1hSZ02Wv8M0Y9Edz3be%2BSMmZnb2I9T1wvgMptwKqnfdM9LfDSnlWsRIIMvw8wBg4G6pniiLiu2gB95MW%2BsZLcR17fNSiMjIjMNZN%2BoMXzfA%2Ff%2Ft9InON0%2B0zuTPwPWUPNBCtWQonOtVBxoThdsViEnepjqO72mPJZWe8cKBHlnHspZFcXOl8KiLVVX0G0hVJAWoQwpLBL3McWa2SrkpSZw4JDji5cul30qaqA8H%2BGALb%2BW08rdnaBX3%2Bs1N3%2BWavLqhnE1mYRkbnlXadGGj%2F5%2BPpoermceot7j6wEhjKishPjdGV2KBYAq3igoNH3mChAFb%2BeH%2FeJGgtgx%2BAqhrPN5%2FwcKS9N6E1tPD1cm9BAyTKn3FMXVVRi97M4qWmyMVxWeFijC1vIjKBjqkAW9NkHAXIfefSxpJXs73sZHfneshwvZrTHaNE7WhsG%2F%2FtDoEeKe%2BeDjUxrFOW1kQLsg9HUgko5NZrsic50xwFRBQOLdCxyDrhDYrqzBSYYpYaG176fS1kSip0AfSRJM72zq6oT6RQy694F3nquaASKIPVafXH1f1QLqzqbBBvb4XC5b7c8CG9LyzqXTeCK4cHIMY%2FIxEvFNBxyUKi0o5GutJ2ZRG&X-Amz-Signature=56dacc2ec42cb792d0bce5f0ccdb4df914c3b633021438dd506141241506de07&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

