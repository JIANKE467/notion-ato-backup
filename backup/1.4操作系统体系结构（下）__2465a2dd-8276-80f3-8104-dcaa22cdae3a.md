
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663GC6EBHF%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041321Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIBBFdp7W5AoadrNBljx7vAz16SlK66QMjMeNUajRlgBDAiAQ14f%2BV2pYiviy1KFFP3eN5EN0L%2BTE6NXny4VMKcioFir%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIMO4jdcMFjaO0UzblJKtwDTyWV3ybyEVwZMRrTgMMrH6F0e2ML9Q9izngzZVPrIoYKIfM3%2Bg1L96NNjtQUoSG%2BYi0ULpHwHmfU1MAduOgOg1txIcCcSWAeYTtt2Se5gqN%2Bn7m3FLgXNPyjiPxkNmwH4G9sjzjQgo5K7vi2AWvC1IjroxEJfMJ5l5ORh065hA6tIMNq8HUxVCefhZVuteYvsQc9csBniGMyNa7rVj%2BTxUFAuwRZTzjf3K0%2Fndc5dMWc2sVzdlL55jX3Mi2b2PzerrTpIfADxDjysxm2nD9SSoyh9HNuaD%2BHCH1oqqc7UaqU9kh20FTzdROQla6cQDUt%2F2vPrcZWyTdnx6G8pj9jPLK96PLkuOYzW1S00tY7U7UkHUC52BcgGgdBh470d4MVpY%2F%2BVJtkNhNK11SRYGatJXYyru7eMlQpZetP2i2xQqr9xxjBVBVIBRYz5pllGm7ObbOuGyj2VEaXyzbxV6p7pJF7F7exRxEimTWqgNrIcX1O79a0mYxmvoYFRcCo7WCuE%2BGflpSCmvQwu%2BE0j%2F9sbOnGgYOjgh2PZb%2FBC3JhxmzDxsToGARlcLAebdY3sKHVBaoRQh9VS%2Bpgi2%2F90YqCQkF8uHf%2FLqta1mhiVjov0nIhDyEDeXEmXMcmfzow1%2B2mywY6pgHfa%2B3CamqH3qEeBbslQxxqTaTQnxumVR%2Fj8d%2FFGSmzE4vQ8bM9snCly7UO%2Ba80qDftC6GsOJ4dp2Wbokd6lo3hfbHBXf%2Fyrs3N4qGVxuTp7029RYqiFjSOZjzXQeoCEASukuD21qB65cQ4tW58QrpKCATSDv%2BUpq48BptwNlQh6VTkIQfYDlQ7LjbLXk6%2BR3dtztj8ZAlBXdwcTrBDkQJlWNR4eLj%2F&X-Amz-Signature=eae9c2a79328846be8f10dfb7fe1533223a071b896acd613de06529039d35898&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663GC6EBHF%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041321Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIBBFdp7W5AoadrNBljx7vAz16SlK66QMjMeNUajRlgBDAiAQ14f%2BV2pYiviy1KFFP3eN5EN0L%2BTE6NXny4VMKcioFir%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIMO4jdcMFjaO0UzblJKtwDTyWV3ybyEVwZMRrTgMMrH6F0e2ML9Q9izngzZVPrIoYKIfM3%2Bg1L96NNjtQUoSG%2BYi0ULpHwHmfU1MAduOgOg1txIcCcSWAeYTtt2Se5gqN%2Bn7m3FLgXNPyjiPxkNmwH4G9sjzjQgo5K7vi2AWvC1IjroxEJfMJ5l5ORh065hA6tIMNq8HUxVCefhZVuteYvsQc9csBniGMyNa7rVj%2BTxUFAuwRZTzjf3K0%2Fndc5dMWc2sVzdlL55jX3Mi2b2PzerrTpIfADxDjysxm2nD9SSoyh9HNuaD%2BHCH1oqqc7UaqU9kh20FTzdROQla6cQDUt%2F2vPrcZWyTdnx6G8pj9jPLK96PLkuOYzW1S00tY7U7UkHUC52BcgGgdBh470d4MVpY%2F%2BVJtkNhNK11SRYGatJXYyru7eMlQpZetP2i2xQqr9xxjBVBVIBRYz5pllGm7ObbOuGyj2VEaXyzbxV6p7pJF7F7exRxEimTWqgNrIcX1O79a0mYxmvoYFRcCo7WCuE%2BGflpSCmvQwu%2BE0j%2F9sbOnGgYOjgh2PZb%2FBC3JhxmzDxsToGARlcLAebdY3sKHVBaoRQh9VS%2Bpgi2%2F90YqCQkF8uHf%2FLqta1mhiVjov0nIhDyEDeXEmXMcmfzow1%2B2mywY6pgHfa%2B3CamqH3qEeBbslQxxqTaTQnxumVR%2Fj8d%2FFGSmzE4vQ8bM9snCly7UO%2Ba80qDftC6GsOJ4dp2Wbokd6lo3hfbHBXf%2Fyrs3N4qGVxuTp7029RYqiFjSOZjzXQeoCEASukuD21qB65cQ4tW58QrpKCATSDv%2BUpq48BptwNlQh6VTkIQfYDlQ7LjbLXk6%2BR3dtztj8ZAlBXdwcTrBDkQJlWNR4eLj%2F&X-Amz-Signature=9ce1e6bcd9780ac1634a38d1fbfe7900548fab8805da584b066be7bccef538c7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663GC6EBHF%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041322Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIBBFdp7W5AoadrNBljx7vAz16SlK66QMjMeNUajRlgBDAiAQ14f%2BV2pYiviy1KFFP3eN5EN0L%2BTE6NXny4VMKcioFir%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIMO4jdcMFjaO0UzblJKtwDTyWV3ybyEVwZMRrTgMMrH6F0e2ML9Q9izngzZVPrIoYKIfM3%2Bg1L96NNjtQUoSG%2BYi0ULpHwHmfU1MAduOgOg1txIcCcSWAeYTtt2Se5gqN%2Bn7m3FLgXNPyjiPxkNmwH4G9sjzjQgo5K7vi2AWvC1IjroxEJfMJ5l5ORh065hA6tIMNq8HUxVCefhZVuteYvsQc9csBniGMyNa7rVj%2BTxUFAuwRZTzjf3K0%2Fndc5dMWc2sVzdlL55jX3Mi2b2PzerrTpIfADxDjysxm2nD9SSoyh9HNuaD%2BHCH1oqqc7UaqU9kh20FTzdROQla6cQDUt%2F2vPrcZWyTdnx6G8pj9jPLK96PLkuOYzW1S00tY7U7UkHUC52BcgGgdBh470d4MVpY%2F%2BVJtkNhNK11SRYGatJXYyru7eMlQpZetP2i2xQqr9xxjBVBVIBRYz5pllGm7ObbOuGyj2VEaXyzbxV6p7pJF7F7exRxEimTWqgNrIcX1O79a0mYxmvoYFRcCo7WCuE%2BGflpSCmvQwu%2BE0j%2F9sbOnGgYOjgh2PZb%2FBC3JhxmzDxsToGARlcLAebdY3sKHVBaoRQh9VS%2Bpgi2%2F90YqCQkF8uHf%2FLqta1mhiVjov0nIhDyEDeXEmXMcmfzow1%2B2mywY6pgHfa%2B3CamqH3qEeBbslQxxqTaTQnxumVR%2Fj8d%2FFGSmzE4vQ8bM9snCly7UO%2Ba80qDftC6GsOJ4dp2Wbokd6lo3hfbHBXf%2Fyrs3N4qGVxuTp7029RYqiFjSOZjzXQeoCEASukuD21qB65cQ4tW58QrpKCATSDv%2BUpq48BptwNlQh6VTkIQfYDlQ7LjbLXk6%2BR3dtztj8ZAlBXdwcTrBDkQJlWNR4eLj%2F&X-Amz-Signature=910148e37cdb619742194bac04dc059e653f99f0d37d1565cb1cd7ba32a544ca&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

