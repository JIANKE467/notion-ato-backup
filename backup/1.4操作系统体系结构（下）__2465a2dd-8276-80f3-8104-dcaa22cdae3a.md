
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663FFTUW4Z%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045447Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCID6ifF7unjjeL0hPP0XiXxaW4Kbw4eKQ9TJPxOBkZpOgAiEA6q0Emb6NAxPvfKVcksEb7NK%2FrZkx6VkDZZLw8I3DYC0q%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDAOvoStRRHZiFjNr4CrcAwBXOgvjO%2FgQLdblionblToQEXFxg6LUgMvhXBUIPrJG%2BExSR4%2FSBBlZ5R27la5mX%2BKc1mxboLvrweU6h1n4jMFdQwS1k3e%2B9ZF8BVB1JtthLmW3bPMLaeRD8NK5ZOEdT0fzOjBYJrUu24BC0JsXx3f3m%2FnxgmuLGA9nErq5LPbOCBp2pjp%2Fp5P7JQkRWa4kitsFOOq8PNdGN5dGXRti8cwQTHfTN1q8x4IaJhK9DhYd1NOzMcyv%2F4vcCPh30pvt3dMFyPdlCMUYjuuczJnphsF4iEJkxLs%2FDHJHXqZbwWqv8Ul295mYUwrdQzw7rSbM5V82FgdymW19SxlXNmY%2FzVo5YTdH6B8IJP3kb%2F5xNMRG8ZnpGr5DH%2BgtCMZapMiAWC2n1JQSPmaenuEiUKOoIncFqHgUQTyUrlkuPlKeeFSv70njEyr50LLPLN3QuemmKPDgt7Kj3fWJ0kalTbiD9b7I5iOmybeyDkPkL9psNQ%2Fj0IBd2CqFb4fzzp3Av1Ju64YuHRTQPKX4HS8%2BvK3D8LQS1InnNg9XNEtr94R4nN9Ro23vB3e1FxjxpiNJJ%2FX3ztqosx%2BDCYqeRpxKmle02Nz%2F3wLG1GPVyFTMldXwjFCUv5aVujjPeP7DpHllMLLM68sGOqUBQYXo8oNPqRj4DLgw%2BMxCajOMoe%2F9CT5pbay1%2FXmUv5ZfnaCk7frM%2FFmxaAN4gQiEzPMMpIeWt3B%2BbaUryZ%2B2Ze92gaGoNfscQq6c21nA6nCida8SnUg2SKV1Fyb%2B8z%2F1SFYMSGIBMyfXmDsbCfudrtkraVnhemopXTDkhnFcLXabv1i0Ta3FSU18GIX5r9HZ880TsaeKNRDi7Rhq5LiBitQN7%2B94&X-Amz-Signature=832f539f326c3dd5e99a6b3d1f4f2d71ab50f2b07f04d4d64ee2d4e069849b3b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663FFTUW4Z%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045447Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCID6ifF7unjjeL0hPP0XiXxaW4Kbw4eKQ9TJPxOBkZpOgAiEA6q0Emb6NAxPvfKVcksEb7NK%2FrZkx6VkDZZLw8I3DYC0q%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDAOvoStRRHZiFjNr4CrcAwBXOgvjO%2FgQLdblionblToQEXFxg6LUgMvhXBUIPrJG%2BExSR4%2FSBBlZ5R27la5mX%2BKc1mxboLvrweU6h1n4jMFdQwS1k3e%2B9ZF8BVB1JtthLmW3bPMLaeRD8NK5ZOEdT0fzOjBYJrUu24BC0JsXx3f3m%2FnxgmuLGA9nErq5LPbOCBp2pjp%2Fp5P7JQkRWa4kitsFOOq8PNdGN5dGXRti8cwQTHfTN1q8x4IaJhK9DhYd1NOzMcyv%2F4vcCPh30pvt3dMFyPdlCMUYjuuczJnphsF4iEJkxLs%2FDHJHXqZbwWqv8Ul295mYUwrdQzw7rSbM5V82FgdymW19SxlXNmY%2FzVo5YTdH6B8IJP3kb%2F5xNMRG8ZnpGr5DH%2BgtCMZapMiAWC2n1JQSPmaenuEiUKOoIncFqHgUQTyUrlkuPlKeeFSv70njEyr50LLPLN3QuemmKPDgt7Kj3fWJ0kalTbiD9b7I5iOmybeyDkPkL9psNQ%2Fj0IBd2CqFb4fzzp3Av1Ju64YuHRTQPKX4HS8%2BvK3D8LQS1InnNg9XNEtr94R4nN9Ro23vB3e1FxjxpiNJJ%2FX3ztqosx%2BDCYqeRpxKmle02Nz%2F3wLG1GPVyFTMldXwjFCUv5aVujjPeP7DpHllMLLM68sGOqUBQYXo8oNPqRj4DLgw%2BMxCajOMoe%2F9CT5pbay1%2FXmUv5ZfnaCk7frM%2FFmxaAN4gQiEzPMMpIeWt3B%2BbaUryZ%2B2Ze92gaGoNfscQq6c21nA6nCida8SnUg2SKV1Fyb%2B8z%2F1SFYMSGIBMyfXmDsbCfudrtkraVnhemopXTDkhnFcLXabv1i0Ta3FSU18GIX5r9HZ880TsaeKNRDi7Rhq5LiBitQN7%2B94&X-Amz-Signature=e68ff6eed0c88ae0c6432efcb585f5fcacfa69185179ee5bbdcabc177e82f15f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663FFTUW4Z%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045447Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCID6ifF7unjjeL0hPP0XiXxaW4Kbw4eKQ9TJPxOBkZpOgAiEA6q0Emb6NAxPvfKVcksEb7NK%2FrZkx6VkDZZLw8I3DYC0q%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDAOvoStRRHZiFjNr4CrcAwBXOgvjO%2FgQLdblionblToQEXFxg6LUgMvhXBUIPrJG%2BExSR4%2FSBBlZ5R27la5mX%2BKc1mxboLvrweU6h1n4jMFdQwS1k3e%2B9ZF8BVB1JtthLmW3bPMLaeRD8NK5ZOEdT0fzOjBYJrUu24BC0JsXx3f3m%2FnxgmuLGA9nErq5LPbOCBp2pjp%2Fp5P7JQkRWa4kitsFOOq8PNdGN5dGXRti8cwQTHfTN1q8x4IaJhK9DhYd1NOzMcyv%2F4vcCPh30pvt3dMFyPdlCMUYjuuczJnphsF4iEJkxLs%2FDHJHXqZbwWqv8Ul295mYUwrdQzw7rSbM5V82FgdymW19SxlXNmY%2FzVo5YTdH6B8IJP3kb%2F5xNMRG8ZnpGr5DH%2BgtCMZapMiAWC2n1JQSPmaenuEiUKOoIncFqHgUQTyUrlkuPlKeeFSv70njEyr50LLPLN3QuemmKPDgt7Kj3fWJ0kalTbiD9b7I5iOmybeyDkPkL9psNQ%2Fj0IBd2CqFb4fzzp3Av1Ju64YuHRTQPKX4HS8%2BvK3D8LQS1InnNg9XNEtr94R4nN9Ro23vB3e1FxjxpiNJJ%2FX3ztqosx%2BDCYqeRpxKmle02Nz%2F3wLG1GPVyFTMldXwjFCUv5aVujjPeP7DpHllMLLM68sGOqUBQYXo8oNPqRj4DLgw%2BMxCajOMoe%2F9CT5pbay1%2FXmUv5ZfnaCk7frM%2FFmxaAN4gQiEzPMMpIeWt3B%2BbaUryZ%2B2Ze92gaGoNfscQq6c21nA6nCida8SnUg2SKV1Fyb%2B8z%2F1SFYMSGIBMyfXmDsbCfudrtkraVnhemopXTDkhnFcLXabv1i0Ta3FSU18GIX5r9HZ880TsaeKNRDi7Rhq5LiBitQN7%2B94&X-Amz-Signature=86c61b73de79351202bd3884a5a4ed47c778ce21f11aaccea5a0fbb22e86fd15&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

