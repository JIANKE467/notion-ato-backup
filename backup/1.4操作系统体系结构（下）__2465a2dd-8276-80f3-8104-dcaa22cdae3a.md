
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663TCFAHI7%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG9%2BNTf%2BgyNzB4C2l9JlQxx5BJt3fHzvfelXAMfAiK4HAiBcWiHUMbMWFICxXLbmyiDMHKZlNHEUmYEPhwYKkcQzgiqIBAiR%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMPun2Ds2qxKP1FCFAKtwDmxOAZsfPecXrnHsMGxgj9hl09yzCE4%2B6lkDv5Cm%2BC7RzJqpKox04kXg6WPB%2F9O13BjACSwurYoYMVX9pKBkjRP%2B8jN7jHFL1S6VkbPIHoLpjR8qeXfmNosDDcUcTY%2FbZxI66pIk5fKcanfWuQB%2Be7UhFAJ4pval8EMzoojgasVkY0HLMsQ6EbmYEodij0OBevWfmj90Alq5hJ7qZEGwV9IBK0sE0RpOmcoYk4qJb7YX1Ww5ftuut11k5%2F8yaxSMUSVNo0U8ztlt2gtvBJEymlXtAr5tQn3tl5vCD3OWSOn4OfPNmRNMOqM5dPs88bG053M68XRovw860RVJgvL4VqpA7wUO4ng1waLrnloMnDQX0CSE3CpjPJAqtlEFQik1JROBjnXPv9sIJtpbIc9dcYsTNPsBTES8heeP1gQ28Z2WtVfjRlucxlxZFmt92HgndQL41UFrIOvxcGzOunD4IpUGDa9GobXhxjkKc6Ald77x%2FhoSK7XPEF3uX%2F%2B58ux6VgWeE%2BfigrxkJJTPnkQePNtrgOO4Q62%2Fthhjq351UIvyQJjo9efB2qlu48srT7AxOAKVDmr1jkwquGvL1%2FGGYHQDqUZt8IvDtYrAvv%2FDobzhfrX0SBprgQ5JMpToww4nHygY6pgHA37SPi61xNeBl24eYLTWMTAfcwHrkvn79%2BLFLGo1z6WEDFhkOOaEUHrTfr8u1vMmBb8pN0dYTcfCukcQuvaF6RMubrTIT3ByB7P2jvqDtYauyWUnFFFqAs8sZWeXTJXgChFKWb8xwYvP%2B6EcO2YDMb3wPGhW0V8nUDiwTbKFE4KdlKUWxMFqjDC%2B31A63ALsCBTtGJgx3H%2FCZnjEOn8rwlhcVDcV0&X-Amz-Signature=cd501379a2a1236cc3c5ba16b3666dc891000e7789e90543a52eea3cf222e73e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663TCFAHI7%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG9%2BNTf%2BgyNzB4C2l9JlQxx5BJt3fHzvfelXAMfAiK4HAiBcWiHUMbMWFICxXLbmyiDMHKZlNHEUmYEPhwYKkcQzgiqIBAiR%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMPun2Ds2qxKP1FCFAKtwDmxOAZsfPecXrnHsMGxgj9hl09yzCE4%2B6lkDv5Cm%2BC7RzJqpKox04kXg6WPB%2F9O13BjACSwurYoYMVX9pKBkjRP%2B8jN7jHFL1S6VkbPIHoLpjR8qeXfmNosDDcUcTY%2FbZxI66pIk5fKcanfWuQB%2Be7UhFAJ4pval8EMzoojgasVkY0HLMsQ6EbmYEodij0OBevWfmj90Alq5hJ7qZEGwV9IBK0sE0RpOmcoYk4qJb7YX1Ww5ftuut11k5%2F8yaxSMUSVNo0U8ztlt2gtvBJEymlXtAr5tQn3tl5vCD3OWSOn4OfPNmRNMOqM5dPs88bG053M68XRovw860RVJgvL4VqpA7wUO4ng1waLrnloMnDQX0CSE3CpjPJAqtlEFQik1JROBjnXPv9sIJtpbIc9dcYsTNPsBTES8heeP1gQ28Z2WtVfjRlucxlxZFmt92HgndQL41UFrIOvxcGzOunD4IpUGDa9GobXhxjkKc6Ald77x%2FhoSK7XPEF3uX%2F%2B58ux6VgWeE%2BfigrxkJJTPnkQePNtrgOO4Q62%2Fthhjq351UIvyQJjo9efB2qlu48srT7AxOAKVDmr1jkwquGvL1%2FGGYHQDqUZt8IvDtYrAvv%2FDobzhfrX0SBprgQ5JMpToww4nHygY6pgHA37SPi61xNeBl24eYLTWMTAfcwHrkvn79%2BLFLGo1z6WEDFhkOOaEUHrTfr8u1vMmBb8pN0dYTcfCukcQuvaF6RMubrTIT3ByB7P2jvqDtYauyWUnFFFqAs8sZWeXTJXgChFKWb8xwYvP%2B6EcO2YDMb3wPGhW0V8nUDiwTbKFE4KdlKUWxMFqjDC%2B31A63ALsCBTtGJgx3H%2FCZnjEOn8rwlhcVDcV0&X-Amz-Signature=0cadd1a1a8057780ddb92ad63578145454fe2d0d5a7eaf1ea1ff0ff4c4f9ec7b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663TCFAHI7%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG9%2BNTf%2BgyNzB4C2l9JlQxx5BJt3fHzvfelXAMfAiK4HAiBcWiHUMbMWFICxXLbmyiDMHKZlNHEUmYEPhwYKkcQzgiqIBAiR%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMPun2Ds2qxKP1FCFAKtwDmxOAZsfPecXrnHsMGxgj9hl09yzCE4%2B6lkDv5Cm%2BC7RzJqpKox04kXg6WPB%2F9O13BjACSwurYoYMVX9pKBkjRP%2B8jN7jHFL1S6VkbPIHoLpjR8qeXfmNosDDcUcTY%2FbZxI66pIk5fKcanfWuQB%2Be7UhFAJ4pval8EMzoojgasVkY0HLMsQ6EbmYEodij0OBevWfmj90Alq5hJ7qZEGwV9IBK0sE0RpOmcoYk4qJb7YX1Ww5ftuut11k5%2F8yaxSMUSVNo0U8ztlt2gtvBJEymlXtAr5tQn3tl5vCD3OWSOn4OfPNmRNMOqM5dPs88bG053M68XRovw860RVJgvL4VqpA7wUO4ng1waLrnloMnDQX0CSE3CpjPJAqtlEFQik1JROBjnXPv9sIJtpbIc9dcYsTNPsBTES8heeP1gQ28Z2WtVfjRlucxlxZFmt92HgndQL41UFrIOvxcGzOunD4IpUGDa9GobXhxjkKc6Ald77x%2FhoSK7XPEF3uX%2F%2B58ux6VgWeE%2BfigrxkJJTPnkQePNtrgOO4Q62%2Fthhjq351UIvyQJjo9efB2qlu48srT7AxOAKVDmr1jkwquGvL1%2FGGYHQDqUZt8IvDtYrAvv%2FDobzhfrX0SBprgQ5JMpToww4nHygY6pgHA37SPi61xNeBl24eYLTWMTAfcwHrkvn79%2BLFLGo1z6WEDFhkOOaEUHrTfr8u1vMmBb8pN0dYTcfCukcQuvaF6RMubrTIT3ByB7P2jvqDtYauyWUnFFFqAs8sZWeXTJXgChFKWb8xwYvP%2B6EcO2YDMb3wPGhW0V8nUDiwTbKFE4KdlKUWxMFqjDC%2B31A63ALsCBTtGJgx3H%2FCZnjEOn8rwlhcVDcV0&X-Amz-Signature=eeb9b88f4e9074b0aa87276be323f13fc8a3142d116c9788b21b33610561a99d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

