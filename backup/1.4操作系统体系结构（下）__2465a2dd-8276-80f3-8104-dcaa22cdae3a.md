
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662GLOCHRH%2F20260130%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260130T045540Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEBzOWfxx%2BJ9%2F9uiHuKOZdVN6foADHaH55EERLOdz5lhAiBOQFk24ZEEmVJM6Tol1wQqINJ2Nj12r8IOE7llvjJXUSqIBAiV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMXc9%2F5lp8UssBMTVIKtwD2CkP%2BNIQ9qZeUU8c2DfdyfixO1PlvpRjtXdGRLrqbR94gHBDWDnqoZDTQh82%2BCvxanm9slBCxskCX88KVkRFGfulE6EtQhW9FH5bgRU7u4E4Edp%2BA9ag8g8UET58gBqwF6NQQEgaR1w2%2FeyDun%2FCRbKF10JmCSjyfgwJSL9XroYqmz94IlTJNUs%2F5wWV4NB2ln9lGqPS13ulsO30fegKoAHG%2FKYhdrHA5jBKjX64P1BKoL7VXZeuIA7NfhPX9hwEur3ZyqsZ%2Frwcb9Kbl9u97wgvTrjmZYzIfqgrfzQ3XUQT0C%2BCzdJCFZhT8A69eBWEHwxXJjU3WWTIsUlSg6Jk7RkKR%2BGH9PO0dybV6DeCS92FoEHUAuYPIMSb5XZ3pvVBM3%2F38j7hVGDaaUh%2Fe6pvSTUErnTVHEJezz09r4WsvEpUZ0YZ7ilBO34On1hGOU51Yll%2F9MdNVYCWuxW404JlUIxFjs2Xf7%2F929DJDV3brBey%2BsHoJfelnyhhOH7Z9oLfe%2BP7J1RGClUqMBUBQFog%2BEyP1ifX21cGy1bVwog7z7eV4zjANWRenwmmNG1DdDMd9znuwjf8kRUM7zbgwZ8Vbl5pmhY%2F4NugspRBFuBjXzhFjnF6gAz21unYC1ww4tjwywY6pgF1o%2FE3Xl6zDptfVQUK22Tlzjere2g5S6DRwjFb56vtUjPpH4V3z5w9CZy1Oj8yN57QFhUm5bZnrk8EIyiTVBmPdYqTI5%2BAmQ2ZPBDPeNsPzXTvrULmNzjKC3PkqBgOtbKduIJfQ2WvkFgY9LDPaSjtF%2FuFgxu99s9BKE9y2tvR%2Bvha1uifohLwHiXvYlY%2BXKMVKO8vdTeiqkPyjsM8L10%2BHbJpvGjt&X-Amz-Signature=0fbd48f82dd7dff768cd364d0c5cb5858a852f9f502380f565ff4ce6c21d468f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662GLOCHRH%2F20260130%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260130T045540Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEBzOWfxx%2BJ9%2F9uiHuKOZdVN6foADHaH55EERLOdz5lhAiBOQFk24ZEEmVJM6Tol1wQqINJ2Nj12r8IOE7llvjJXUSqIBAiV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMXc9%2F5lp8UssBMTVIKtwD2CkP%2BNIQ9qZeUU8c2DfdyfixO1PlvpRjtXdGRLrqbR94gHBDWDnqoZDTQh82%2BCvxanm9slBCxskCX88KVkRFGfulE6EtQhW9FH5bgRU7u4E4Edp%2BA9ag8g8UET58gBqwF6NQQEgaR1w2%2FeyDun%2FCRbKF10JmCSjyfgwJSL9XroYqmz94IlTJNUs%2F5wWV4NB2ln9lGqPS13ulsO30fegKoAHG%2FKYhdrHA5jBKjX64P1BKoL7VXZeuIA7NfhPX9hwEur3ZyqsZ%2Frwcb9Kbl9u97wgvTrjmZYzIfqgrfzQ3XUQT0C%2BCzdJCFZhT8A69eBWEHwxXJjU3WWTIsUlSg6Jk7RkKR%2BGH9PO0dybV6DeCS92FoEHUAuYPIMSb5XZ3pvVBM3%2F38j7hVGDaaUh%2Fe6pvSTUErnTVHEJezz09r4WsvEpUZ0YZ7ilBO34On1hGOU51Yll%2F9MdNVYCWuxW404JlUIxFjs2Xf7%2F929DJDV3brBey%2BsHoJfelnyhhOH7Z9oLfe%2BP7J1RGClUqMBUBQFog%2BEyP1ifX21cGy1bVwog7z7eV4zjANWRenwmmNG1DdDMd9znuwjf8kRUM7zbgwZ8Vbl5pmhY%2F4NugspRBFuBjXzhFjnF6gAz21unYC1ww4tjwywY6pgF1o%2FE3Xl6zDptfVQUK22Tlzjere2g5S6DRwjFb56vtUjPpH4V3z5w9CZy1Oj8yN57QFhUm5bZnrk8EIyiTVBmPdYqTI5%2BAmQ2ZPBDPeNsPzXTvrULmNzjKC3PkqBgOtbKduIJfQ2WvkFgY9LDPaSjtF%2FuFgxu99s9BKE9y2tvR%2Bvha1uifohLwHiXvYlY%2BXKMVKO8vdTeiqkPyjsM8L10%2BHbJpvGjt&X-Amz-Signature=ac56b57d6c773128c15627cc89adbf47e6d7ea24bb7f91ec000472ed3df3d77e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662GLOCHRH%2F20260130%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260130T045540Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEBzOWfxx%2BJ9%2F9uiHuKOZdVN6foADHaH55EERLOdz5lhAiBOQFk24ZEEmVJM6Tol1wQqINJ2Nj12r8IOE7llvjJXUSqIBAiV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMXc9%2F5lp8UssBMTVIKtwD2CkP%2BNIQ9qZeUU8c2DfdyfixO1PlvpRjtXdGRLrqbR94gHBDWDnqoZDTQh82%2BCvxanm9slBCxskCX88KVkRFGfulE6EtQhW9FH5bgRU7u4E4Edp%2BA9ag8g8UET58gBqwF6NQQEgaR1w2%2FeyDun%2FCRbKF10JmCSjyfgwJSL9XroYqmz94IlTJNUs%2F5wWV4NB2ln9lGqPS13ulsO30fegKoAHG%2FKYhdrHA5jBKjX64P1BKoL7VXZeuIA7NfhPX9hwEur3ZyqsZ%2Frwcb9Kbl9u97wgvTrjmZYzIfqgrfzQ3XUQT0C%2BCzdJCFZhT8A69eBWEHwxXJjU3WWTIsUlSg6Jk7RkKR%2BGH9PO0dybV6DeCS92FoEHUAuYPIMSb5XZ3pvVBM3%2F38j7hVGDaaUh%2Fe6pvSTUErnTVHEJezz09r4WsvEpUZ0YZ7ilBO34On1hGOU51Yll%2F9MdNVYCWuxW404JlUIxFjs2Xf7%2F929DJDV3brBey%2BsHoJfelnyhhOH7Z9oLfe%2BP7J1RGClUqMBUBQFog%2BEyP1ifX21cGy1bVwog7z7eV4zjANWRenwmmNG1DdDMd9znuwjf8kRUM7zbgwZ8Vbl5pmhY%2F4NugspRBFuBjXzhFjnF6gAz21unYC1ww4tjwywY6pgF1o%2FE3Xl6zDptfVQUK22Tlzjere2g5S6DRwjFb56vtUjPpH4V3z5w9CZy1Oj8yN57QFhUm5bZnrk8EIyiTVBmPdYqTI5%2BAmQ2ZPBDPeNsPzXTvrULmNzjKC3PkqBgOtbKduIJfQ2WvkFgY9LDPaSjtF%2FuFgxu99s9BKE9y2tvR%2Bvha1uifohLwHiXvYlY%2BXKMVKO8vdTeiqkPyjsM8L10%2BHbJpvGjt&X-Amz-Signature=643ee9b8d89c462a315c8618092bbc48031ca5d6ac1e3517b82e48b45f97ed14&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

