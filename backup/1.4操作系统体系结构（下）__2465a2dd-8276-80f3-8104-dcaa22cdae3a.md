
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UWU554MV%2F20251218%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251218T040427Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGHOxd6ZQidV83RrZZx5H4vj42ZoUUTHmDJMH4%2FcsiK1AiB46wdjwrQ1npPqhwV34kuQkAVwds4CBGyi7iCyo3o7xCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM1kzyNm3m5eDS9FBAKtwDlUrDfg8XhC0mXQA%2F%2BzV74E4ybSs8Wf6iHxGvc5J8MWUevguTRBaAfdxLm8wA7tOtOFttrOMd54v9470thRPOehVsle8V5DUY%2FAFcwF3lW5D%2FXwkHxiUDjK0sRxPNv2ctXpRQ5T%2BKay9MFWtyUqsgrSlv778effDLhKNaO5KZKdHu6BO8L6wh%2BoU0goGUidXiGY8h0bmaS5w1AiVJpw%2B2zaSO02glw0rhdvD0iZ8HEULXdZ59ZXhoq0Vy0sNVjxcoPA1f9iDX563LIAdShFK2eKHlm9PbIlQRkF7aKRWsmnC7ZC0RC2K8shCQgR6n0nhskaqfMEIwI0MzLPL2yJy9Q4LjxulZr1JqPK0nS7svfWCqCCAVHMbrDFuGShKR9xKuE51yH4%2BCD5t5cQ2y9ogqfbRr01UkD%2BayoKxWeyugAKS9xynov%2Bzpsri7pdoFZ%2FI%2BfiPfOEVFU4IG6kI190xpIicj8j9LgKs7H%2F1Bm%2FPjDOcdw3Y%2FL%2Fy2K%2F1gTaJiww3bEkd3%2FeDkXAxkmRdcomQbR5YIWuJZHgy0w6%2BZ%2BsIhFK1mAnIGDimFNJv7s8Qv3BWTpMpnNQUuZRIXfEcd2gUoAf5d9AANehRmHa7axzM4KTesOce1f7QoRdipqX8w%2FfCNygY6pgFxbiRyifo4fC7G0yBRWjzS9kqgepuvFijR6X2qnx%2FlJAWBR7sPeWWDQi37ZvI0KNzFlEylzzJ4hTVZj4ZmTr0FXcsGYjYw%2FHaqGxR17WuK%2BjLGUAXqJtw%2BQY6JDWoxdVFdDoQTbMJJqkIr%2B4Vu05KelE1J7X5%2BelpCX59cPMHezVvBqIJGPgVE5ZdpgYxnmluRbu9EfNW%2FPhduHjzxKA9T5Vd3LvOY&X-Amz-Signature=0e1d2912a9e654a55cd8f88bae831ab4f782d58f56af667d58fd32c92fcae310&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UWU554MV%2F20251218%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251218T040427Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGHOxd6ZQidV83RrZZx5H4vj42ZoUUTHmDJMH4%2FcsiK1AiB46wdjwrQ1npPqhwV34kuQkAVwds4CBGyi7iCyo3o7xCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM1kzyNm3m5eDS9FBAKtwDlUrDfg8XhC0mXQA%2F%2BzV74E4ybSs8Wf6iHxGvc5J8MWUevguTRBaAfdxLm8wA7tOtOFttrOMd54v9470thRPOehVsle8V5DUY%2FAFcwF3lW5D%2FXwkHxiUDjK0sRxPNv2ctXpRQ5T%2BKay9MFWtyUqsgrSlv778effDLhKNaO5KZKdHu6BO8L6wh%2BoU0goGUidXiGY8h0bmaS5w1AiVJpw%2B2zaSO02glw0rhdvD0iZ8HEULXdZ59ZXhoq0Vy0sNVjxcoPA1f9iDX563LIAdShFK2eKHlm9PbIlQRkF7aKRWsmnC7ZC0RC2K8shCQgR6n0nhskaqfMEIwI0MzLPL2yJy9Q4LjxulZr1JqPK0nS7svfWCqCCAVHMbrDFuGShKR9xKuE51yH4%2BCD5t5cQ2y9ogqfbRr01UkD%2BayoKxWeyugAKS9xynov%2Bzpsri7pdoFZ%2FI%2BfiPfOEVFU4IG6kI190xpIicj8j9LgKs7H%2F1Bm%2FPjDOcdw3Y%2FL%2Fy2K%2F1gTaJiww3bEkd3%2FeDkXAxkmRdcomQbR5YIWuJZHgy0w6%2BZ%2BsIhFK1mAnIGDimFNJv7s8Qv3BWTpMpnNQUuZRIXfEcd2gUoAf5d9AANehRmHa7axzM4KTesOce1f7QoRdipqX8w%2FfCNygY6pgFxbiRyifo4fC7G0yBRWjzS9kqgepuvFijR6X2qnx%2FlJAWBR7sPeWWDQi37ZvI0KNzFlEylzzJ4hTVZj4ZmTr0FXcsGYjYw%2FHaqGxR17WuK%2BjLGUAXqJtw%2BQY6JDWoxdVFdDoQTbMJJqkIr%2B4Vu05KelE1J7X5%2BelpCX59cPMHezVvBqIJGPgVE5ZdpgYxnmluRbu9EfNW%2FPhduHjzxKA9T5Vd3LvOY&X-Amz-Signature=2a194332dc61bf7f42c80a7a91e08ad398fd93758c788c168cba39af495bc592&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UWU554MV%2F20251218%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251218T040427Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGHOxd6ZQidV83RrZZx5H4vj42ZoUUTHmDJMH4%2FcsiK1AiB46wdjwrQ1npPqhwV34kuQkAVwds4CBGyi7iCyo3o7xCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM1kzyNm3m5eDS9FBAKtwDlUrDfg8XhC0mXQA%2F%2BzV74E4ybSs8Wf6iHxGvc5J8MWUevguTRBaAfdxLm8wA7tOtOFttrOMd54v9470thRPOehVsle8V5DUY%2FAFcwF3lW5D%2FXwkHxiUDjK0sRxPNv2ctXpRQ5T%2BKay9MFWtyUqsgrSlv778effDLhKNaO5KZKdHu6BO8L6wh%2BoU0goGUidXiGY8h0bmaS5w1AiVJpw%2B2zaSO02glw0rhdvD0iZ8HEULXdZ59ZXhoq0Vy0sNVjxcoPA1f9iDX563LIAdShFK2eKHlm9PbIlQRkF7aKRWsmnC7ZC0RC2K8shCQgR6n0nhskaqfMEIwI0MzLPL2yJy9Q4LjxulZr1JqPK0nS7svfWCqCCAVHMbrDFuGShKR9xKuE51yH4%2BCD5t5cQ2y9ogqfbRr01UkD%2BayoKxWeyugAKS9xynov%2Bzpsri7pdoFZ%2FI%2BfiPfOEVFU4IG6kI190xpIicj8j9LgKs7H%2F1Bm%2FPjDOcdw3Y%2FL%2Fy2K%2F1gTaJiww3bEkd3%2FeDkXAxkmRdcomQbR5YIWuJZHgy0w6%2BZ%2BsIhFK1mAnIGDimFNJv7s8Qv3BWTpMpnNQUuZRIXfEcd2gUoAf5d9AANehRmHa7axzM4KTesOce1f7QoRdipqX8w%2FfCNygY6pgFxbiRyifo4fC7G0yBRWjzS9kqgepuvFijR6X2qnx%2FlJAWBR7sPeWWDQi37ZvI0KNzFlEylzzJ4hTVZj4ZmTr0FXcsGYjYw%2FHaqGxR17WuK%2BjLGUAXqJtw%2BQY6JDWoxdVFdDoQTbMJJqkIr%2B4Vu05KelE1J7X5%2BelpCX59cPMHezVvBqIJGPgVE5ZdpgYxnmluRbu9EfNW%2FPhduHjzxKA9T5Vd3LvOY&X-Amz-Signature=aed62bb7e2eec1dd7fd06ffe009276118981b69c255c851d0d8e482e19f140f0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

