
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XSETIC2K%2F20260110%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260110T040703Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDz3WMGpH6fOB%2BFQl6I9ayj4yH0qUW2UCsodhYbfr6yFwIhAPQhOHt70UcMW7gFG7PtopNutM1Y0UzZDPxDVqtTDtq1KogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwbjLWFKEDxXWU3Deoq3AOHxRSt3gLLZLeFxm8J6%2F9SucaGosW1%2F6B4mrXaL1v1HYQBwDhbJqHTUToJUBbMppDwnur0i71kCxjPwUaAqrn9J9TpChsYcosDM340kdNW4pzyeL6DX%2FI%2FXHzh%2F9ijH6%2BUwQQ%2BJ%2BF6ttvWE6PKUn%2BGjITY9zMcAD1nMghCMFK9xQNpz0O%2BACLNUoMilSdunVClTRZ%2FDcFmIkzRkMu7HNblk%2BTvw4M1m9HuwECzCQ3aUjS9Uox7ARlB9KQG22IoDJz%2B%2BnT%2FiZj5hQ%2FZRjy7bMuUCo00Ov7ORAEnud4GmE06uBDN%2B%2BSMZD28J1%2FH2VPfPg3TaEaouksvSh0gbxCSknh%2FDNDo8k9EbbrIp1DWSZBvWeCal7Pomim%2FGKgp%2B%2BULAM1h9XyngdV3W5JouZjXmmNOZaYCLXIMKEJzvlwrPxx9BOiaNfTtV3WOnat%2BU%2FMC2BrN1QUSLR68fyNvn%2BOOeSkUJWFXbB1vKmwAIv%2Bf736At52wuMn4SLI0pNWBN0hH4ZVHCd7MOw%2FqNk5KrVfhBqRyNh9%2FPc6t63V8DXC7OgxpwV9rziypDKJBLDFl5Fv0%2Bmj0WWtPfQm9sqEcaDJzt4vhMwAAeTQnOriE4ceXADQBwh0ifpTfcMXW04GZxjDinYfLBjqkAel%2BzrPu9aT1qumXpULbXDsChlw2lYAWjs5BcHKOnjIvdPTzYPQrz9XZrUxEpIBRU9M%2B2CpnVEOEDlP7vrEFb4ev4v29nHuiKG2a6cmoepBZadd233RvZzXeTNDvQ6TGGiaXaHsD2t%2Bx559Hod%2BT7fsbkbsPmSLDvuv10kkpiOk2Rtya9kdGt9Z8phKwJI99svCsk3HkpgLtHElsml8XYprC7Ows&X-Amz-Signature=0eb02a4d672e35fb49d01ddd5844e22e4072be0fde8a754ead84402ba832888e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XSETIC2K%2F20260110%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260110T040703Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDz3WMGpH6fOB%2BFQl6I9ayj4yH0qUW2UCsodhYbfr6yFwIhAPQhOHt70UcMW7gFG7PtopNutM1Y0UzZDPxDVqtTDtq1KogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwbjLWFKEDxXWU3Deoq3AOHxRSt3gLLZLeFxm8J6%2F9SucaGosW1%2F6B4mrXaL1v1HYQBwDhbJqHTUToJUBbMppDwnur0i71kCxjPwUaAqrn9J9TpChsYcosDM340kdNW4pzyeL6DX%2FI%2FXHzh%2F9ijH6%2BUwQQ%2BJ%2BF6ttvWE6PKUn%2BGjITY9zMcAD1nMghCMFK9xQNpz0O%2BACLNUoMilSdunVClTRZ%2FDcFmIkzRkMu7HNblk%2BTvw4M1m9HuwECzCQ3aUjS9Uox7ARlB9KQG22IoDJz%2B%2BnT%2FiZj5hQ%2FZRjy7bMuUCo00Ov7ORAEnud4GmE06uBDN%2B%2BSMZD28J1%2FH2VPfPg3TaEaouksvSh0gbxCSknh%2FDNDo8k9EbbrIp1DWSZBvWeCal7Pomim%2FGKgp%2B%2BULAM1h9XyngdV3W5JouZjXmmNOZaYCLXIMKEJzvlwrPxx9BOiaNfTtV3WOnat%2BU%2FMC2BrN1QUSLR68fyNvn%2BOOeSkUJWFXbB1vKmwAIv%2Bf736At52wuMn4SLI0pNWBN0hH4ZVHCd7MOw%2FqNk5KrVfhBqRyNh9%2FPc6t63V8DXC7OgxpwV9rziypDKJBLDFl5Fv0%2Bmj0WWtPfQm9sqEcaDJzt4vhMwAAeTQnOriE4ceXADQBwh0ifpTfcMXW04GZxjDinYfLBjqkAel%2BzrPu9aT1qumXpULbXDsChlw2lYAWjs5BcHKOnjIvdPTzYPQrz9XZrUxEpIBRU9M%2B2CpnVEOEDlP7vrEFb4ev4v29nHuiKG2a6cmoepBZadd233RvZzXeTNDvQ6TGGiaXaHsD2t%2Bx559Hod%2BT7fsbkbsPmSLDvuv10kkpiOk2Rtya9kdGt9Z8phKwJI99svCsk3HkpgLtHElsml8XYprC7Ows&X-Amz-Signature=c504a52848fe35f3a9f350d0d8a5ad78d1ce2292cb71617c436b0e0d5e0007e9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XSETIC2K%2F20260110%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260110T040703Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDz3WMGpH6fOB%2BFQl6I9ayj4yH0qUW2UCsodhYbfr6yFwIhAPQhOHt70UcMW7gFG7PtopNutM1Y0UzZDPxDVqtTDtq1KogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwbjLWFKEDxXWU3Deoq3AOHxRSt3gLLZLeFxm8J6%2F9SucaGosW1%2F6B4mrXaL1v1HYQBwDhbJqHTUToJUBbMppDwnur0i71kCxjPwUaAqrn9J9TpChsYcosDM340kdNW4pzyeL6DX%2FI%2FXHzh%2F9ijH6%2BUwQQ%2BJ%2BF6ttvWE6PKUn%2BGjITY9zMcAD1nMghCMFK9xQNpz0O%2BACLNUoMilSdunVClTRZ%2FDcFmIkzRkMu7HNblk%2BTvw4M1m9HuwECzCQ3aUjS9Uox7ARlB9KQG22IoDJz%2B%2BnT%2FiZj5hQ%2FZRjy7bMuUCo00Ov7ORAEnud4GmE06uBDN%2B%2BSMZD28J1%2FH2VPfPg3TaEaouksvSh0gbxCSknh%2FDNDo8k9EbbrIp1DWSZBvWeCal7Pomim%2FGKgp%2B%2BULAM1h9XyngdV3W5JouZjXmmNOZaYCLXIMKEJzvlwrPxx9BOiaNfTtV3WOnat%2BU%2FMC2BrN1QUSLR68fyNvn%2BOOeSkUJWFXbB1vKmwAIv%2Bf736At52wuMn4SLI0pNWBN0hH4ZVHCd7MOw%2FqNk5KrVfhBqRyNh9%2FPc6t63V8DXC7OgxpwV9rziypDKJBLDFl5Fv0%2Bmj0WWtPfQm9sqEcaDJzt4vhMwAAeTQnOriE4ceXADQBwh0ifpTfcMXW04GZxjDinYfLBjqkAel%2BzrPu9aT1qumXpULbXDsChlw2lYAWjs5BcHKOnjIvdPTzYPQrz9XZrUxEpIBRU9M%2B2CpnVEOEDlP7vrEFb4ev4v29nHuiKG2a6cmoepBZadd233RvZzXeTNDvQ6TGGiaXaHsD2t%2Bx559Hod%2BT7fsbkbsPmSLDvuv10kkpiOk2Rtya9kdGt9Z8phKwJI99svCsk3HkpgLtHElsml8XYprC7Ows&X-Amz-Signature=23c200f9b680c7768c8d744c0df6cf13ab5fb57552aba47260412abb9daa7cdb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

