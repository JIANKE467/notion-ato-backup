
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662V2GMRFB%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041503Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIDF59vjlK4kTaLcnJ4MzEfMVte3laL73kz5rQsWamvYrAiEAudsEERxG4g1kMAOarx4KpUVTdpuC1ED1y3FINEnysF4q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDJDDvsdy6oxxaoLPoSrcAxFkYdZik3wNu%2F%2BLUGwCWASLZtrE9tJOGdd6GWsO5NYaY1SwTB%2BG8Q2%2B3roMRKxtc7yI8rk%2FFfhrvsSR%2Bg3f0ZEQ%2B0I56tPiFNH5LLDKfZs9Am2l2b3tlMtZ9tUTK9m74TmNIVL0%2FtDG1ncKtKhQl8NtVrk8uhqoBUPO6li3NfEJYaYzHBW7CShkiL%2FbsCVASPMtqCFMz0Jr9kcgbYnSIcPtWwOZ%2BAcfhMLy9M0qFUVtFnzTcl%2FjbxNx9oBXNkyiLANquY2FmqEP5Ln81RF1Mtp0Srq0pP4Gr2AiGLrwKDoZZWH2Z%2BuX52O5lOWxdaRtDTNf2f99E1iSH3AVT0mdEVsYGSwuoInGtur9u7RLhBKIGMTzKiF%2FwXCfxZBt4kIWg80PEKZf5WKpVeI2ol7cvVjLhArpkxQrqix27ihMH4cs25HHv09yb15IzBAIYy5jfK8wWTEbHZV1EssiZXKyGjxavriqsOJ%2FQdxaMdoRe4B5tnioUlSlGewx%2BpB%2FeqKWL%2BXJkzP9ldYI1droqiDkfQdjwmRwz4U7sAp5wT4FCMlU3vI4miSsXiadMBEF%2FIhHcxuDbFbZZLQk8nZrO2qyYlDQ%2Bg53mDiVE3K%2Fbf71D72PUvnvX2nuRb3FGUyXMOXHocsGOqUBSbSJgqAxF%2BgJyfR6W2C87oskYPYwEdQNUYYAH40wmNz%2B43tWwbIiZBM90OGmbR%2B64fabhp411Uenr2w1PWXEBzKLB2WbvpbqwiNynWCDswbxoFcmsjQS6j7IOpqpi7Z7SwcOrk%2FQXTlL23NhSAJuQtQdjRCNSA5Azt3HVtMhrdFa9GSIUpoUco7LuqfeZdeSOucfPiNpVh4XLrFMsKc1k9NVyDCr&X-Amz-Signature=2e5140e44357e964916aa7f2bbd3a5ac609bbbf12bdcf5bcaa10370f6c2888c3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662V2GMRFB%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041503Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIDF59vjlK4kTaLcnJ4MzEfMVte3laL73kz5rQsWamvYrAiEAudsEERxG4g1kMAOarx4KpUVTdpuC1ED1y3FINEnysF4q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDJDDvsdy6oxxaoLPoSrcAxFkYdZik3wNu%2F%2BLUGwCWASLZtrE9tJOGdd6GWsO5NYaY1SwTB%2BG8Q2%2B3roMRKxtc7yI8rk%2FFfhrvsSR%2Bg3f0ZEQ%2B0I56tPiFNH5LLDKfZs9Am2l2b3tlMtZ9tUTK9m74TmNIVL0%2FtDG1ncKtKhQl8NtVrk8uhqoBUPO6li3NfEJYaYzHBW7CShkiL%2FbsCVASPMtqCFMz0Jr9kcgbYnSIcPtWwOZ%2BAcfhMLy9M0qFUVtFnzTcl%2FjbxNx9oBXNkyiLANquY2FmqEP5Ln81RF1Mtp0Srq0pP4Gr2AiGLrwKDoZZWH2Z%2BuX52O5lOWxdaRtDTNf2f99E1iSH3AVT0mdEVsYGSwuoInGtur9u7RLhBKIGMTzKiF%2FwXCfxZBt4kIWg80PEKZf5WKpVeI2ol7cvVjLhArpkxQrqix27ihMH4cs25HHv09yb15IzBAIYy5jfK8wWTEbHZV1EssiZXKyGjxavriqsOJ%2FQdxaMdoRe4B5tnioUlSlGewx%2BpB%2FeqKWL%2BXJkzP9ldYI1droqiDkfQdjwmRwz4U7sAp5wT4FCMlU3vI4miSsXiadMBEF%2FIhHcxuDbFbZZLQk8nZrO2qyYlDQ%2Bg53mDiVE3K%2Fbf71D72PUvnvX2nuRb3FGUyXMOXHocsGOqUBSbSJgqAxF%2BgJyfR6W2C87oskYPYwEdQNUYYAH40wmNz%2B43tWwbIiZBM90OGmbR%2B64fabhp411Uenr2w1PWXEBzKLB2WbvpbqwiNynWCDswbxoFcmsjQS6j7IOpqpi7Z7SwcOrk%2FQXTlL23NhSAJuQtQdjRCNSA5Azt3HVtMhrdFa9GSIUpoUco7LuqfeZdeSOucfPiNpVh4XLrFMsKc1k9NVyDCr&X-Amz-Signature=6f067dc9ea59201906475758b9b1be16f87a0c6e1be0574408c63d40715f9dc4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662V2GMRFB%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041503Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIDF59vjlK4kTaLcnJ4MzEfMVte3laL73kz5rQsWamvYrAiEAudsEERxG4g1kMAOarx4KpUVTdpuC1ED1y3FINEnysF4q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDJDDvsdy6oxxaoLPoSrcAxFkYdZik3wNu%2F%2BLUGwCWASLZtrE9tJOGdd6GWsO5NYaY1SwTB%2BG8Q2%2B3roMRKxtc7yI8rk%2FFfhrvsSR%2Bg3f0ZEQ%2B0I56tPiFNH5LLDKfZs9Am2l2b3tlMtZ9tUTK9m74TmNIVL0%2FtDG1ncKtKhQl8NtVrk8uhqoBUPO6li3NfEJYaYzHBW7CShkiL%2FbsCVASPMtqCFMz0Jr9kcgbYnSIcPtWwOZ%2BAcfhMLy9M0qFUVtFnzTcl%2FjbxNx9oBXNkyiLANquY2FmqEP5Ln81RF1Mtp0Srq0pP4Gr2AiGLrwKDoZZWH2Z%2BuX52O5lOWxdaRtDTNf2f99E1iSH3AVT0mdEVsYGSwuoInGtur9u7RLhBKIGMTzKiF%2FwXCfxZBt4kIWg80PEKZf5WKpVeI2ol7cvVjLhArpkxQrqix27ihMH4cs25HHv09yb15IzBAIYy5jfK8wWTEbHZV1EssiZXKyGjxavriqsOJ%2FQdxaMdoRe4B5tnioUlSlGewx%2BpB%2FeqKWL%2BXJkzP9ldYI1droqiDkfQdjwmRwz4U7sAp5wT4FCMlU3vI4miSsXiadMBEF%2FIhHcxuDbFbZZLQk8nZrO2qyYlDQ%2Bg53mDiVE3K%2Fbf71D72PUvnvX2nuRb3FGUyXMOXHocsGOqUBSbSJgqAxF%2BgJyfR6W2C87oskYPYwEdQNUYYAH40wmNz%2B43tWwbIiZBM90OGmbR%2B64fabhp411Uenr2w1PWXEBzKLB2WbvpbqwiNynWCDswbxoFcmsjQS6j7IOpqpi7Z7SwcOrk%2FQXTlL23NhSAJuQtQdjRCNSA5Azt3HVtMhrdFa9GSIUpoUco7LuqfeZdeSOucfPiNpVh4XLrFMsKc1k9NVyDCr&X-Amz-Signature=0e598f7b7ee4774643ef962c53962550b3016e6f4dd93108f0af14f4855aa94f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

