
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665SACIKF2%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040414Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEeNK%2Br%2Fv4ETHaRpMjzIOpqusACUHNdA8OlfcnMuwOZ5AiAxML%2BBSoDFhfhihUi%2F1FkLPsi3EibCxBmBKJqxXnfQ%2ByqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMJFQ06%2FIyQgjp8UfUKtwDJk%2FE7UKWvWVJjhA8BRZN5Sz3bhs3BG7YSA%2B3lBSTj1Xs5bYfoOuUBEVQ2O6xZma1BZtt0vcJMLl7NY7KUcGsF9oZ8O611E1kLZH%2B4V7Do0y1qVu7qG0e0mI254OZsankHaL05VTXgZAA4dmzhLxfeF7Sb0CX6NnXu7ACEXZ5fdNunU%2BsAEwTnRpFX5l9vq%2FwLuK8j%2FxbxbpN8UetoILdqlgL93BOtrAW%2B5taKbJ3rezqcNsiRBNTk%2BnvVpdlhuUuJiFViXn%2BkkP6Qxk0COj6jvpzLsIEgimSNxIjRYlLQ0t7YVwuyitZRXgu2Is1HlkdQN5jML%2B5CiBm5Tuuyw3wJkk618oEiJvNPlaUboPG3PulqOildiLRbUbnVUCXmyNqIB1BNBt%2B1IomGguf1VswzF7NJDPB7y0LrMtknKtowWyJFGytXKFNQ2qAg8wt8LV21NMckAeBv%2BER0xzul9ayRByIxn5lPaZKG6FYWPQCjjL6if9IfTc%2F6kZWe7rLWDpdQ2xzz%2F%2BRy7yXo6MHkdi2p5F2ofA1%2BII4rhXYl4vZFRy1rBOKkD%2BQi2GekIWlVvdv7XWBl5j%2FUbFdnkAbv6zAR73p8bqWjgc0WmGtBrQUJ0Rh5RZ9AI6E1dA6ZaEwuIPZyQY6pgGSsRqjCUS3x2mIiE947BRWFUvsBfAZjz14OsvRGwvaj0xTlrrf7AUtpY5tLSpn8qFrVKw39nHC8vOEqMY88Okpx9BLCqoNk%2FmLGy%2FheDn%2BfLHotUD4i2LBrAkDCJnF3RFr7prJb%2BgL1HWdb7hBUcNtAclCBz6dnUYTuocjWEEOBaCvlqzEiNvqtXTC%2FGDoKdT4qJJGei1K8PeBYmdHnVJ%2BC2QMcFFu&X-Amz-Signature=17f12b7ee4a5f9524456431505526c54a978a8c635e25321e9794ac8eccbbba2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665SACIKF2%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040414Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEeNK%2Br%2Fv4ETHaRpMjzIOpqusACUHNdA8OlfcnMuwOZ5AiAxML%2BBSoDFhfhihUi%2F1FkLPsi3EibCxBmBKJqxXnfQ%2ByqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMJFQ06%2FIyQgjp8UfUKtwDJk%2FE7UKWvWVJjhA8BRZN5Sz3bhs3BG7YSA%2B3lBSTj1Xs5bYfoOuUBEVQ2O6xZma1BZtt0vcJMLl7NY7KUcGsF9oZ8O611E1kLZH%2B4V7Do0y1qVu7qG0e0mI254OZsankHaL05VTXgZAA4dmzhLxfeF7Sb0CX6NnXu7ACEXZ5fdNunU%2BsAEwTnRpFX5l9vq%2FwLuK8j%2FxbxbpN8UetoILdqlgL93BOtrAW%2B5taKbJ3rezqcNsiRBNTk%2BnvVpdlhuUuJiFViXn%2BkkP6Qxk0COj6jvpzLsIEgimSNxIjRYlLQ0t7YVwuyitZRXgu2Is1HlkdQN5jML%2B5CiBm5Tuuyw3wJkk618oEiJvNPlaUboPG3PulqOildiLRbUbnVUCXmyNqIB1BNBt%2B1IomGguf1VswzF7NJDPB7y0LrMtknKtowWyJFGytXKFNQ2qAg8wt8LV21NMckAeBv%2BER0xzul9ayRByIxn5lPaZKG6FYWPQCjjL6if9IfTc%2F6kZWe7rLWDpdQ2xzz%2F%2BRy7yXo6MHkdi2p5F2ofA1%2BII4rhXYl4vZFRy1rBOKkD%2BQi2GekIWlVvdv7XWBl5j%2FUbFdnkAbv6zAR73p8bqWjgc0WmGtBrQUJ0Rh5RZ9AI6E1dA6ZaEwuIPZyQY6pgGSsRqjCUS3x2mIiE947BRWFUvsBfAZjz14OsvRGwvaj0xTlrrf7AUtpY5tLSpn8qFrVKw39nHC8vOEqMY88Okpx9BLCqoNk%2FmLGy%2FheDn%2BfLHotUD4i2LBrAkDCJnF3RFr7prJb%2BgL1HWdb7hBUcNtAclCBz6dnUYTuocjWEEOBaCvlqzEiNvqtXTC%2FGDoKdT4qJJGei1K8PeBYmdHnVJ%2BC2QMcFFu&X-Amz-Signature=57d0bc6c285a4748c8470c2dc1cb4085a9a14648f81d36a40ac9499d2a841a8c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665SACIKF2%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040414Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEeNK%2Br%2Fv4ETHaRpMjzIOpqusACUHNdA8OlfcnMuwOZ5AiAxML%2BBSoDFhfhihUi%2F1FkLPsi3EibCxBmBKJqxXnfQ%2ByqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMJFQ06%2FIyQgjp8UfUKtwDJk%2FE7UKWvWVJjhA8BRZN5Sz3bhs3BG7YSA%2B3lBSTj1Xs5bYfoOuUBEVQ2O6xZma1BZtt0vcJMLl7NY7KUcGsF9oZ8O611E1kLZH%2B4V7Do0y1qVu7qG0e0mI254OZsankHaL05VTXgZAA4dmzhLxfeF7Sb0CX6NnXu7ACEXZ5fdNunU%2BsAEwTnRpFX5l9vq%2FwLuK8j%2FxbxbpN8UetoILdqlgL93BOtrAW%2B5taKbJ3rezqcNsiRBNTk%2BnvVpdlhuUuJiFViXn%2BkkP6Qxk0COj6jvpzLsIEgimSNxIjRYlLQ0t7YVwuyitZRXgu2Is1HlkdQN5jML%2B5CiBm5Tuuyw3wJkk618oEiJvNPlaUboPG3PulqOildiLRbUbnVUCXmyNqIB1BNBt%2B1IomGguf1VswzF7NJDPB7y0LrMtknKtowWyJFGytXKFNQ2qAg8wt8LV21NMckAeBv%2BER0xzul9ayRByIxn5lPaZKG6FYWPQCjjL6if9IfTc%2F6kZWe7rLWDpdQ2xzz%2F%2BRy7yXo6MHkdi2p5F2ofA1%2BII4rhXYl4vZFRy1rBOKkD%2BQi2GekIWlVvdv7XWBl5j%2FUbFdnkAbv6zAR73p8bqWjgc0WmGtBrQUJ0Rh5RZ9AI6E1dA6ZaEwuIPZyQY6pgGSsRqjCUS3x2mIiE947BRWFUvsBfAZjz14OsvRGwvaj0xTlrrf7AUtpY5tLSpn8qFrVKw39nHC8vOEqMY88Okpx9BLCqoNk%2FmLGy%2FheDn%2BfLHotUD4i2LBrAkDCJnF3RFr7prJb%2BgL1HWdb7hBUcNtAclCBz6dnUYTuocjWEEOBaCvlqzEiNvqtXTC%2FGDoKdT4qJJGei1K8PeBYmdHnVJ%2BC2QMcFFu&X-Amz-Signature=ed32d4893fcfdd6b5b99a7be4324850817f48d677f5b50143ecc6acef3a68844&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

