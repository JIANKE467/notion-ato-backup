
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X3FJTP7A%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDecTSCoBCglpjmXO5Ow4tbKSQ5RZEP950ZBEysCMwjkgIgIrZ9fA8tcnOV6h8ROxXHqS7aBZqFyJK3IB5x5PLP5%2BYqiAQIqv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBz6nP3zi%2BLiL8Z0WSrcA99gN2ObfTnhU48KWu7ys2d311Bd47LcPSQ5TxXHCcng5nmNTeTUqjjJqWofbgm2mKaYodbGDkZLzp0KLoPgZ7t8%2BT32wGTxZTca%2BbOovlYopBrIYtz%2F9ectOmi7SaMUEB4I5blCHymQiDXyzMhgBlMA9Vxk4Jov4J%2BqGg%2BKrMe%2Bck0%2FGuZjncZWdh0gJL1VbXwUBpWsaNincZBRxgBH3ng9Fy7KcKGRrk78ribZiVEjf0cHgGBvFIKpGt9f4eRK9%2BprfUObLrrOmOjajhM9aMN0mTCG2v%2BnxA9%2Bdi0LFIP%2FK7%2Fq%2FB9JMTAhDxpIZbhbDNOAmTzjJJyTKlGLfgmfu6yNVq76jgcmlNK8LUgTts6dvQ84GZSEwJPoxTSBtF9NtS3KQdRFDYfPP0yUfC5vo6zLvgUzrLf9hNtaQ%2BeiLJmoJNAJR8Kahwfl%2FMYYfF5x9Q9nMgA6Bh8rExAjyLQr7wp1o%2Br3ZrTIzNU5CFn8zbk32SIlMGuyGpHfLBYxUAnb9ndzu1QqGSa8PqtIfCogR0nWkQQthOqpircBTyxtzKFDcIz4t1oflGtbVzFH%2BKvBn0yAhxAanTEX38A0e8FLwZQleMQdNNsfi13JkthKy2UUTIkctT7sWtrq%2Fan8MKLBzMoGOqUBLLoMkrD%2Fl%2F%2BulzY%2BgX2MD9DdH1cYUUfFcA9%2BM%2FMWFDtRqXtw5EyJnBGj7PQwbirAWcU%2FDmWHY6hG9kd4gGpqyBeTXf%2FWsrQuxNwxDJmzV1MSFkvY8WzxfDU7DQeSEjilKTLgX0zDErxZantjy9tZYCnCPYbrGtsT%2F65iY1R8rxJY27TIz%2Fti6vpjXYeYNsRr9zmSrh2q0wUrVSV5LCOU0MjOzWW5&X-Amz-Signature=64acd0f22f922c8740aed07d25bba8c22cc98cf33c62ab722a420fcc94f60770&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X3FJTP7A%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDecTSCoBCglpjmXO5Ow4tbKSQ5RZEP950ZBEysCMwjkgIgIrZ9fA8tcnOV6h8ROxXHqS7aBZqFyJK3IB5x5PLP5%2BYqiAQIqv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBz6nP3zi%2BLiL8Z0WSrcA99gN2ObfTnhU48KWu7ys2d311Bd47LcPSQ5TxXHCcng5nmNTeTUqjjJqWofbgm2mKaYodbGDkZLzp0KLoPgZ7t8%2BT32wGTxZTca%2BbOovlYopBrIYtz%2F9ectOmi7SaMUEB4I5blCHymQiDXyzMhgBlMA9Vxk4Jov4J%2BqGg%2BKrMe%2Bck0%2FGuZjncZWdh0gJL1VbXwUBpWsaNincZBRxgBH3ng9Fy7KcKGRrk78ribZiVEjf0cHgGBvFIKpGt9f4eRK9%2BprfUObLrrOmOjajhM9aMN0mTCG2v%2BnxA9%2Bdi0LFIP%2FK7%2Fq%2FB9JMTAhDxpIZbhbDNOAmTzjJJyTKlGLfgmfu6yNVq76jgcmlNK8LUgTts6dvQ84GZSEwJPoxTSBtF9NtS3KQdRFDYfPP0yUfC5vo6zLvgUzrLf9hNtaQ%2BeiLJmoJNAJR8Kahwfl%2FMYYfF5x9Q9nMgA6Bh8rExAjyLQr7wp1o%2Br3ZrTIzNU5CFn8zbk32SIlMGuyGpHfLBYxUAnb9ndzu1QqGSa8PqtIfCogR0nWkQQthOqpircBTyxtzKFDcIz4t1oflGtbVzFH%2BKvBn0yAhxAanTEX38A0e8FLwZQleMQdNNsfi13JkthKy2UUTIkctT7sWtrq%2Fan8MKLBzMoGOqUBLLoMkrD%2Fl%2F%2BulzY%2BgX2MD9DdH1cYUUfFcA9%2BM%2FMWFDtRqXtw5EyJnBGj7PQwbirAWcU%2FDmWHY6hG9kd4gGpqyBeTXf%2FWsrQuxNwxDJmzV1MSFkvY8WzxfDU7DQeSEjilKTLgX0zDErxZantjy9tZYCnCPYbrGtsT%2F65iY1R8rxJY27TIz%2Fti6vpjXYeYNsRr9zmSrh2q0wUrVSV5LCOU0MjOzWW5&X-Amz-Signature=f1b52f5bce9b6982577146acecce5cd49f5e2f9d49363cf6e649a75077fbbb31&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X3FJTP7A%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDecTSCoBCglpjmXO5Ow4tbKSQ5RZEP950ZBEysCMwjkgIgIrZ9fA8tcnOV6h8ROxXHqS7aBZqFyJK3IB5x5PLP5%2BYqiAQIqv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBz6nP3zi%2BLiL8Z0WSrcA99gN2ObfTnhU48KWu7ys2d311Bd47LcPSQ5TxXHCcng5nmNTeTUqjjJqWofbgm2mKaYodbGDkZLzp0KLoPgZ7t8%2BT32wGTxZTca%2BbOovlYopBrIYtz%2F9ectOmi7SaMUEB4I5blCHymQiDXyzMhgBlMA9Vxk4Jov4J%2BqGg%2BKrMe%2Bck0%2FGuZjncZWdh0gJL1VbXwUBpWsaNincZBRxgBH3ng9Fy7KcKGRrk78ribZiVEjf0cHgGBvFIKpGt9f4eRK9%2BprfUObLrrOmOjajhM9aMN0mTCG2v%2BnxA9%2Bdi0LFIP%2FK7%2Fq%2FB9JMTAhDxpIZbhbDNOAmTzjJJyTKlGLfgmfu6yNVq76jgcmlNK8LUgTts6dvQ84GZSEwJPoxTSBtF9NtS3KQdRFDYfPP0yUfC5vo6zLvgUzrLf9hNtaQ%2BeiLJmoJNAJR8Kahwfl%2FMYYfF5x9Q9nMgA6Bh8rExAjyLQr7wp1o%2Br3ZrTIzNU5CFn8zbk32SIlMGuyGpHfLBYxUAnb9ndzu1QqGSa8PqtIfCogR0nWkQQthOqpircBTyxtzKFDcIz4t1oflGtbVzFH%2BKvBn0yAhxAanTEX38A0e8FLwZQleMQdNNsfi13JkthKy2UUTIkctT7sWtrq%2Fan8MKLBzMoGOqUBLLoMkrD%2Fl%2F%2BulzY%2BgX2MD9DdH1cYUUfFcA9%2BM%2FMWFDtRqXtw5EyJnBGj7PQwbirAWcU%2FDmWHY6hG9kd4gGpqyBeTXf%2FWsrQuxNwxDJmzV1MSFkvY8WzxfDU7DQeSEjilKTLgX0zDErxZantjy9tZYCnCPYbrGtsT%2F65iY1R8rxJY27TIz%2Fti6vpjXYeYNsRr9zmSrh2q0wUrVSV5LCOU0MjOzWW5&X-Amz-Signature=107b09414182cb9d9d231af686571def10faada53be1c4e1b6726f0b3f3e6fb3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

