
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZM4VOCIN%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041153Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCICiBNBrEZPK9G3XbtqBrSU395hslrTnr85BveiKDuq1ZAiAzyxioEhBUKyhBLiO7unzWi18sE1YtNV6odjvp5eWbEyqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMD%2FrGyeQLlQFrEZRlKtwDA7Db1lFJosw4sZjupJuFoE3bmuCOTAhoE1pg2QqKmMMqsUCqsgG0uJklvCEtzXWt%2BSNTDZ4tq3FPx%2FVgOVub4tJcOfbYIUFh0ltCZrgL85KPSZaAIIJnZtGbsNCrH7f6xDcXI9XdHgtac%2BrI360xWY1lByvl6LaCKCi3qUM7%2F4ZMP5WevUTZiXPz4fenfb4qP8kee43YUyzt2ILHmnyGXF65c2YD8x2W%2BnU%2FuFLP4wmKgBAFmtA8vABt%2FWge7xqRQxveAiPhMWHEZAoSq5sUdnxRueb11bFPdngms%2B%2FBQtarRysMlIhtQ1VtGg1Ck%2Fd0OwSC6wXZR57lOiBuCBje47VEi05%2F0ADLKn14Hc4oNo7vNJTyNywO7yWTvJN2fCOjyPjzJPP3qvawSd82kwO0KRgPJwyk4Rw6unGKfudKSMzVQYxflCPKPlPg1%2BR0rViyqAZXQGhcKX5I46X30iVgCm9L58G%2BZyuLpblOfFVJoT8w%2BFXLZcFi6ptgIXbl4Dk%2BjfFk0O54Bf6gYTTm5kPLk2VhZJdrS1LWBnQDLHK2%2B4G9CgE1J2vIgb8Sg2%2BrfbxTImtUnHEzf5wSLhbOhEf2hd0hqjwwSSBg7itQWfaGCVOolNkkKpJ11wVx7qwwpYWXywY6pgE%2FInkmJd0BvLQQCa4rkoyDDKVlKgTQ8lK0hIkmBxcjjpH3zHdrY7y5ls5Wb%2FN3lS9JEBthfb3qJA6Ydvn07N%2FnxcG3jnjeiClyAXkhWRtU2aarhaHBLPyngRsZaLCJOOc2s4bdcyzAEZz6pF9Ml1I5vmrWfvn7AscOeKMdasSN8DXh8tWdoGGCeXn5ngKS32RJdESPrYN%2Fm1B2P1Rx6RAlF8L3UAJq&X-Amz-Signature=36437962ae90583a59d431fbc1f83884a2be7bb6d4a48c253283ad33b6f2455f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZM4VOCIN%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041153Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCICiBNBrEZPK9G3XbtqBrSU395hslrTnr85BveiKDuq1ZAiAzyxioEhBUKyhBLiO7unzWi18sE1YtNV6odjvp5eWbEyqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMD%2FrGyeQLlQFrEZRlKtwDA7Db1lFJosw4sZjupJuFoE3bmuCOTAhoE1pg2QqKmMMqsUCqsgG0uJklvCEtzXWt%2BSNTDZ4tq3FPx%2FVgOVub4tJcOfbYIUFh0ltCZrgL85KPSZaAIIJnZtGbsNCrH7f6xDcXI9XdHgtac%2BrI360xWY1lByvl6LaCKCi3qUM7%2F4ZMP5WevUTZiXPz4fenfb4qP8kee43YUyzt2ILHmnyGXF65c2YD8x2W%2BnU%2FuFLP4wmKgBAFmtA8vABt%2FWge7xqRQxveAiPhMWHEZAoSq5sUdnxRueb11bFPdngms%2B%2FBQtarRysMlIhtQ1VtGg1Ck%2Fd0OwSC6wXZR57lOiBuCBje47VEi05%2F0ADLKn14Hc4oNo7vNJTyNywO7yWTvJN2fCOjyPjzJPP3qvawSd82kwO0KRgPJwyk4Rw6unGKfudKSMzVQYxflCPKPlPg1%2BR0rViyqAZXQGhcKX5I46X30iVgCm9L58G%2BZyuLpblOfFVJoT8w%2BFXLZcFi6ptgIXbl4Dk%2BjfFk0O54Bf6gYTTm5kPLk2VhZJdrS1LWBnQDLHK2%2B4G9CgE1J2vIgb8Sg2%2BrfbxTImtUnHEzf5wSLhbOhEf2hd0hqjwwSSBg7itQWfaGCVOolNkkKpJ11wVx7qwwpYWXywY6pgE%2FInkmJd0BvLQQCa4rkoyDDKVlKgTQ8lK0hIkmBxcjjpH3zHdrY7y5ls5Wb%2FN3lS9JEBthfb3qJA6Ydvn07N%2FnxcG3jnjeiClyAXkhWRtU2aarhaHBLPyngRsZaLCJOOc2s4bdcyzAEZz6pF9Ml1I5vmrWfvn7AscOeKMdasSN8DXh8tWdoGGCeXn5ngKS32RJdESPrYN%2Fm1B2P1Rx6RAlF8L3UAJq&X-Amz-Signature=b127a4be6a51f3ab7c5f924a4e5278c21e4f38f343d69c6f0e193eb2c9f2d52e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZM4VOCIN%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041153Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCICiBNBrEZPK9G3XbtqBrSU395hslrTnr85BveiKDuq1ZAiAzyxioEhBUKyhBLiO7unzWi18sE1YtNV6odjvp5eWbEyqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMD%2FrGyeQLlQFrEZRlKtwDA7Db1lFJosw4sZjupJuFoE3bmuCOTAhoE1pg2QqKmMMqsUCqsgG0uJklvCEtzXWt%2BSNTDZ4tq3FPx%2FVgOVub4tJcOfbYIUFh0ltCZrgL85KPSZaAIIJnZtGbsNCrH7f6xDcXI9XdHgtac%2BrI360xWY1lByvl6LaCKCi3qUM7%2F4ZMP5WevUTZiXPz4fenfb4qP8kee43YUyzt2ILHmnyGXF65c2YD8x2W%2BnU%2FuFLP4wmKgBAFmtA8vABt%2FWge7xqRQxveAiPhMWHEZAoSq5sUdnxRueb11bFPdngms%2B%2FBQtarRysMlIhtQ1VtGg1Ck%2Fd0OwSC6wXZR57lOiBuCBje47VEi05%2F0ADLKn14Hc4oNo7vNJTyNywO7yWTvJN2fCOjyPjzJPP3qvawSd82kwO0KRgPJwyk4Rw6unGKfudKSMzVQYxflCPKPlPg1%2BR0rViyqAZXQGhcKX5I46X30iVgCm9L58G%2BZyuLpblOfFVJoT8w%2BFXLZcFi6ptgIXbl4Dk%2BjfFk0O54Bf6gYTTm5kPLk2VhZJdrS1LWBnQDLHK2%2B4G9CgE1J2vIgb8Sg2%2BrfbxTImtUnHEzf5wSLhbOhEf2hd0hqjwwSSBg7itQWfaGCVOolNkkKpJ11wVx7qwwpYWXywY6pgE%2FInkmJd0BvLQQCa4rkoyDDKVlKgTQ8lK0hIkmBxcjjpH3zHdrY7y5ls5Wb%2FN3lS9JEBthfb3qJA6Ydvn07N%2FnxcG3jnjeiClyAXkhWRtU2aarhaHBLPyngRsZaLCJOOc2s4bdcyzAEZz6pF9Ml1I5vmrWfvn7AscOeKMdasSN8DXh8tWdoGGCeXn5ngKS32RJdESPrYN%2Fm1B2P1Rx6RAlF8L3UAJq&X-Amz-Signature=e40fed234055e566d5dda709b48a6f491d81268d4e34f99906e3c6ee9225413c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

