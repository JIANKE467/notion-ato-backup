
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YPO5QKF3%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053327Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBShaw4caz9uE3dFksbP9C7lbRu0%2FX4G6lIa4vVoSbz%2BAiEAipCSLgOufNK1KFoktu0hVzCUCPsZfG72xgYdjv%2FHzLEq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDJpP%2F72tTR7YpBiaaSrcA9cGLtyY8emwBgmNSonLVROVhg2j%2B%2F4aZy6Xt%2BF1uZSA89WRojfG33mHMDK8LisyA%2BYYb%2B57nlYhq5c5VWeNiM7ay0PMlrX31nS9BZwfCqsVQw%2FeNZtPnEYs%2BKRFdjyUDrqTQlw8jvVhGgFB7J7BzALeiMVjJXLMJVD%2FxSbHeysBXNyHtB08DVeE9kKlj%2B9%2BFhaudGxGsu2l8Sqxmit2vV%2BiLJsBZKz1qcASy6CE6Lk%2BV5h7z6oObEC9x%2FnCBUEi8aFEqgigiySMw2akkoZpgmdBku0PRQppGnRHFt%2FPm6tl2FKahAb4Lb%2FMBtUxg3frRUFJ8%2BSGLM0FPopVDjCkMahS%2Bu0urUgs7p9dCFr2hOgTYV%2FSatgy%2F14JucRVBfOZW5ej6PRiV%2BzGWikIHajEFmQJa8UqGZuECEZ5f5vzPHN62sBPAyJuNr1HSVSb12ggzRUk0ZmoZ5ckLyfFul77l%2F9qsRCZu%2Fkdjzox%2F4%2BMzI77m3LiyWnL6Jc8RQxd0JhlOiiXHwKc9ZHi71B9AqVAttJeycK5dMdwkv0aXjUFhTh2B6W2WHws6CeHWt%2FTSqwW7WNyrJ0L%2FlLH4ETdXSE77TEIfzu5i7EUMdRt3g1Bi2Zh56%2Bxk0yn4Ym%2FZKQvMLvrzskGOqUBIVzdXY9jiu%2F9GGeiIbFqUKQ%2BuhFc72Oo4G2bBMhFbT0UE2apNeu5Sz%2FH9BFkJT5leinZEWSRrEjhZElsn0fcZusIsrZSJdyUetO%2B2X4B1sOTkWXMkS8nYTpzdh%2FoAw9bS%2BXbr%2FXxp5vC5fqJ478u%2BkDea%2F8kKYWByCN8L1Sv3giDUoe4sYEreUiDuxpPnfaIrI2ND%2BAIGUZwOirKAk01aveij7x1&X-Amz-Signature=691b3e322432be0172ad5a0889bf07eba3b9c2e14ba69a489b081f26b26e4a65&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YPO5QKF3%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053327Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBShaw4caz9uE3dFksbP9C7lbRu0%2FX4G6lIa4vVoSbz%2BAiEAipCSLgOufNK1KFoktu0hVzCUCPsZfG72xgYdjv%2FHzLEq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDJpP%2F72tTR7YpBiaaSrcA9cGLtyY8emwBgmNSonLVROVhg2j%2B%2F4aZy6Xt%2BF1uZSA89WRojfG33mHMDK8LisyA%2BYYb%2B57nlYhq5c5VWeNiM7ay0PMlrX31nS9BZwfCqsVQw%2FeNZtPnEYs%2BKRFdjyUDrqTQlw8jvVhGgFB7J7BzALeiMVjJXLMJVD%2FxSbHeysBXNyHtB08DVeE9kKlj%2B9%2BFhaudGxGsu2l8Sqxmit2vV%2BiLJsBZKz1qcASy6CE6Lk%2BV5h7z6oObEC9x%2FnCBUEi8aFEqgigiySMw2akkoZpgmdBku0PRQppGnRHFt%2FPm6tl2FKahAb4Lb%2FMBtUxg3frRUFJ8%2BSGLM0FPopVDjCkMahS%2Bu0urUgs7p9dCFr2hOgTYV%2FSatgy%2F14JucRVBfOZW5ej6PRiV%2BzGWikIHajEFmQJa8UqGZuECEZ5f5vzPHN62sBPAyJuNr1HSVSb12ggzRUk0ZmoZ5ckLyfFul77l%2F9qsRCZu%2Fkdjzox%2F4%2BMzI77m3LiyWnL6Jc8RQxd0JhlOiiXHwKc9ZHi71B9AqVAttJeycK5dMdwkv0aXjUFhTh2B6W2WHws6CeHWt%2FTSqwW7WNyrJ0L%2FlLH4ETdXSE77TEIfzu5i7EUMdRt3g1Bi2Zh56%2Bxk0yn4Ym%2FZKQvMLvrzskGOqUBIVzdXY9jiu%2F9GGeiIbFqUKQ%2BuhFc72Oo4G2bBMhFbT0UE2apNeu5Sz%2FH9BFkJT5leinZEWSRrEjhZElsn0fcZusIsrZSJdyUetO%2B2X4B1sOTkWXMkS8nYTpzdh%2FoAw9bS%2BXbr%2FXxp5vC5fqJ478u%2BkDea%2F8kKYWByCN8L1Sv3giDUoe4sYEreUiDuxpPnfaIrI2ND%2BAIGUZwOirKAk01aveij7x1&X-Amz-Signature=5bb3b186b84dc2a7549495be76d1ef7a083443ec71b5c777c6435215162e0e48&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YPO5QKF3%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053327Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBShaw4caz9uE3dFksbP9C7lbRu0%2FX4G6lIa4vVoSbz%2BAiEAipCSLgOufNK1KFoktu0hVzCUCPsZfG72xgYdjv%2FHzLEq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDJpP%2F72tTR7YpBiaaSrcA9cGLtyY8emwBgmNSonLVROVhg2j%2B%2F4aZy6Xt%2BF1uZSA89WRojfG33mHMDK8LisyA%2BYYb%2B57nlYhq5c5VWeNiM7ay0PMlrX31nS9BZwfCqsVQw%2FeNZtPnEYs%2BKRFdjyUDrqTQlw8jvVhGgFB7J7BzALeiMVjJXLMJVD%2FxSbHeysBXNyHtB08DVeE9kKlj%2B9%2BFhaudGxGsu2l8Sqxmit2vV%2BiLJsBZKz1qcASy6CE6Lk%2BV5h7z6oObEC9x%2FnCBUEi8aFEqgigiySMw2akkoZpgmdBku0PRQppGnRHFt%2FPm6tl2FKahAb4Lb%2FMBtUxg3frRUFJ8%2BSGLM0FPopVDjCkMahS%2Bu0urUgs7p9dCFr2hOgTYV%2FSatgy%2F14JucRVBfOZW5ej6PRiV%2BzGWikIHajEFmQJa8UqGZuECEZ5f5vzPHN62sBPAyJuNr1HSVSb12ggzRUk0ZmoZ5ckLyfFul77l%2F9qsRCZu%2Fkdjzox%2F4%2BMzI77m3LiyWnL6Jc8RQxd0JhlOiiXHwKc9ZHi71B9AqVAttJeycK5dMdwkv0aXjUFhTh2B6W2WHws6CeHWt%2FTSqwW7WNyrJ0L%2FlLH4ETdXSE77TEIfzu5i7EUMdRt3g1Bi2Zh56%2Bxk0yn4Ym%2FZKQvMLvrzskGOqUBIVzdXY9jiu%2F9GGeiIbFqUKQ%2BuhFc72Oo4G2bBMhFbT0UE2apNeu5Sz%2FH9BFkJT5leinZEWSRrEjhZElsn0fcZusIsrZSJdyUetO%2B2X4B1sOTkWXMkS8nYTpzdh%2FoAw9bS%2BXbr%2FXxp5vC5fqJ478u%2BkDea%2F8kKYWByCN8L1Sv3giDUoe4sYEreUiDuxpPnfaIrI2ND%2BAIGUZwOirKAk01aveij7x1&X-Amz-Signature=3d068223efee78df8d321a4a9167b6cfc21d149ddfac8eb53ca04bc6bc7e4b54&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

