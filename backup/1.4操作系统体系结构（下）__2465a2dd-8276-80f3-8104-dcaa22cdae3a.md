
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZY5GFV3%2F20251219%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251219T040601Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCID6oBpmZS710t1vvUMeXUd5OyFuiSTGDzrFzttWuyqBaAiEAw7zCcQwh58XzwvCytYF91%2Fst4LXKVXZavEF%2FFY4kTN8qiAQIpP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAjLZ0veBole2PnLMyrcA3djxE840LrwQ%2FDqcJv4ZzPWJpq1xNKbgHYBSJ47%2BJ3mSxywS%2BVuOuyuivmnigC7UDRfeBpmcdbO7%2FWhqRwMEdkNtdOVWpTR%2BjUET1aiIDODxn%2FduzAzzHgc8zyt%2BMAVcC3pz4ZgT%2FuKomKY3be7MrIFiXTc4HzkhNsPFuk19ms%2FpYWVihtT0Lk5bw%2B%2Fdz%2B41hYa7CMDmkEwaucb0rtfBaSo1ZtBWTHdJa118bZVmWoa8g6%2FJyaV8SKp0ZClJeCprVWkN6n67XUCSRH1LnSMwK6eHuA32lQs4srpDkZfhsaRAV8%2Fe%2Fq5wbYIxYP%2B0ga8Ri8mveqPxKmDFav7S%2BjANEfdSMvVluAhjbzruRfNspX%2FOMIlAOiAZwgMRhi4BF0M9%2FYKm8y9EFoj7GRSw6x1vOfFzBzLjq8jUMe053OWpkB03O3iVSRUPC5%2FJJpJ5LSzT4fM4fN7WpK6AYiFudkaci1ldOptXBbhlLsOMgx9DCPzTIdN027qg6BLLg1KdAPYU2hK4iOtn6M1GEGOBoEMOVaTzngfhuW30JPlcivxjHdAs2RszyVGqGNYrbMh%2BkJIeC8%2BtphyRVs2OBLJbV1xK0Gva1w42mFSz8K%2F9YN%2FQOSG1n8Ls5NdbVwHJOv3MMSFk8oGOqUBxES5GKzDNC7aNh91U8roMP3py2eqVuRR8tSjVbKTpYXsosKd5AwiSRxORmJ39xWz6lW8I%2F1RRBQLsdYkBcdrm6QpzbTa2TBK6jrd5Nu5t7%2BVw23YOg16pM0Fc2uZrIsUFHlgl%2F%2FSCrWpkowos74bgC0JQlEtiZtTwOy0zMfA0%2FYsQnTa0fgqEKkn%2FXkn8P21m3eEgAd1NNmevOoGw8Tj36NHIUZZ&X-Amz-Signature=fb8c2fbdc6b166cf0b7862555373499e6dcd3f4a8e0ade733b47ad44cf01e4ef&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZY5GFV3%2F20251219%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251219T040601Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCID6oBpmZS710t1vvUMeXUd5OyFuiSTGDzrFzttWuyqBaAiEAw7zCcQwh58XzwvCytYF91%2Fst4LXKVXZavEF%2FFY4kTN8qiAQIpP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAjLZ0veBole2PnLMyrcA3djxE840LrwQ%2FDqcJv4ZzPWJpq1xNKbgHYBSJ47%2BJ3mSxywS%2BVuOuyuivmnigC7UDRfeBpmcdbO7%2FWhqRwMEdkNtdOVWpTR%2BjUET1aiIDODxn%2FduzAzzHgc8zyt%2BMAVcC3pz4ZgT%2FuKomKY3be7MrIFiXTc4HzkhNsPFuk19ms%2FpYWVihtT0Lk5bw%2B%2Fdz%2B41hYa7CMDmkEwaucb0rtfBaSo1ZtBWTHdJa118bZVmWoa8g6%2FJyaV8SKp0ZClJeCprVWkN6n67XUCSRH1LnSMwK6eHuA32lQs4srpDkZfhsaRAV8%2Fe%2Fq5wbYIxYP%2B0ga8Ri8mveqPxKmDFav7S%2BjANEfdSMvVluAhjbzruRfNspX%2FOMIlAOiAZwgMRhi4BF0M9%2FYKm8y9EFoj7GRSw6x1vOfFzBzLjq8jUMe053OWpkB03O3iVSRUPC5%2FJJpJ5LSzT4fM4fN7WpK6AYiFudkaci1ldOptXBbhlLsOMgx9DCPzTIdN027qg6BLLg1KdAPYU2hK4iOtn6M1GEGOBoEMOVaTzngfhuW30JPlcivxjHdAs2RszyVGqGNYrbMh%2BkJIeC8%2BtphyRVs2OBLJbV1xK0Gva1w42mFSz8K%2F9YN%2FQOSG1n8Ls5NdbVwHJOv3MMSFk8oGOqUBxES5GKzDNC7aNh91U8roMP3py2eqVuRR8tSjVbKTpYXsosKd5AwiSRxORmJ39xWz6lW8I%2F1RRBQLsdYkBcdrm6QpzbTa2TBK6jrd5Nu5t7%2BVw23YOg16pM0Fc2uZrIsUFHlgl%2F%2FSCrWpkowos74bgC0JQlEtiZtTwOy0zMfA0%2FYsQnTa0fgqEKkn%2FXkn8P21m3eEgAd1NNmevOoGw8Tj36NHIUZZ&X-Amz-Signature=aca469fdb024ddab5660d948103444a223df6d1a43986337e10e0050134bbac2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZY5GFV3%2F20251219%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251219T040601Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCID6oBpmZS710t1vvUMeXUd5OyFuiSTGDzrFzttWuyqBaAiEAw7zCcQwh58XzwvCytYF91%2Fst4LXKVXZavEF%2FFY4kTN8qiAQIpP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAjLZ0veBole2PnLMyrcA3djxE840LrwQ%2FDqcJv4ZzPWJpq1xNKbgHYBSJ47%2BJ3mSxywS%2BVuOuyuivmnigC7UDRfeBpmcdbO7%2FWhqRwMEdkNtdOVWpTR%2BjUET1aiIDODxn%2FduzAzzHgc8zyt%2BMAVcC3pz4ZgT%2FuKomKY3be7MrIFiXTc4HzkhNsPFuk19ms%2FpYWVihtT0Lk5bw%2B%2Fdz%2B41hYa7CMDmkEwaucb0rtfBaSo1ZtBWTHdJa118bZVmWoa8g6%2FJyaV8SKp0ZClJeCprVWkN6n67XUCSRH1LnSMwK6eHuA32lQs4srpDkZfhsaRAV8%2Fe%2Fq5wbYIxYP%2B0ga8Ri8mveqPxKmDFav7S%2BjANEfdSMvVluAhjbzruRfNspX%2FOMIlAOiAZwgMRhi4BF0M9%2FYKm8y9EFoj7GRSw6x1vOfFzBzLjq8jUMe053OWpkB03O3iVSRUPC5%2FJJpJ5LSzT4fM4fN7WpK6AYiFudkaci1ldOptXBbhlLsOMgx9DCPzTIdN027qg6BLLg1KdAPYU2hK4iOtn6M1GEGOBoEMOVaTzngfhuW30JPlcivxjHdAs2RszyVGqGNYrbMh%2BkJIeC8%2BtphyRVs2OBLJbV1xK0Gva1w42mFSz8K%2F9YN%2FQOSG1n8Ls5NdbVwHJOv3MMSFk8oGOqUBxES5GKzDNC7aNh91U8roMP3py2eqVuRR8tSjVbKTpYXsosKd5AwiSRxORmJ39xWz6lW8I%2F1RRBQLsdYkBcdrm6QpzbTa2TBK6jrd5Nu5t7%2BVw23YOg16pM0Fc2uZrIsUFHlgl%2F%2FSCrWpkowos74bgC0JQlEtiZtTwOy0zMfA0%2FYsQnTa0fgqEKkn%2FXkn8P21m3eEgAd1NNmevOoGw8Tj36NHIUZZ&X-Amz-Signature=83bbfa3df289fa9aedbe618ff6de61926f7e1538745e2e88339ba12ce77b9f3c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

