
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SZKKJZVK%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041938Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE4T9Tpyj%2FDq8pS515i62zmrc9cADLQjiT20WhQaR%2FLfAiEA84ytC2OvqkwN%2F4hknGLjRkaeMsS8F%2F4AwPQ3xPkKnJ0q%2FwMIZRAAGgw2Mzc0MjMxODM4MDUiDGJ9HlpaOmYiCPyTsCrcA2X6wcvZBSM5KFHMZxwnd3sE2oS42s6ZuqiczLhFvA5DwSRL4jZlG7bJntadxLaCfM%2Bb3lygQqUGxsaCn9%2Be8P1rfbF%2BDIxZtEJjDrZf1Pmpcs3d7jKnBiRY2zoOQaz6NSsfEFH2Ufn5SB6iH6%2FHPDqDJCwqGdZJoKDBb8k46jAjU52KnZ2nJgfkzgvfQIiU4enMAiHODo1B4HSFdqKqogjUzUGwCpYSAarp62rkxE%2BinLam4p3syh8G6nW4j%2FLpTTbCJEvn6GiW3LjAUiwD7x72WdQOjT3NDMwPdPS8MsNdvNZ68ukgkyexZnEAveHckrrluPgupyHod61AqObTZv%2FmChBLFxGasFCKaEdkM4mg8fOAfDdA7n6EUb0%2FFmDU5fxIf7xbUChXuSZfa37MhYk9r9ct6ocghuZxi%2FkcW%2BKwxkal3EmNs%2FlMl4%2FhTEQtVdsT5%2FR3EQlXexzUjbWMH3nmg9N6JVaZQU7gYLMoNMouAQw%2FYr4jNpwuLKRTHFdQzzRzB0piZD4%2Fw5FPvtc8rnhMYseZAk%2BfM8IuBaHHKoMJ1hAAy%2FjavfWk2Frh7z1b9zCPA8JqvVKl14BnXEAKq4UWrbEIpYkUQW%2BRTBAigihpfbqerzUiG7qbhZjhMPGY5ssGOqUBEUfkzNDpBio%2FEEBqeQqH69ArZ1ITayr9SClkj92RuY7qXXCi1W5sIJWAteeLkM%2BCydRjn2idGDTHafrDXfr02csF%2FJzjHS%2BHABqHA%2F5vw06Az7cBHDefwouOlqZraLvdfTaTOfmkN8SYcpUYNqGxLcfGmQbxkfLM1BMUnvCAXi%2FZhAi1EMT8lA4mCRPWsDv%2Fzex7DYCpJEOnVr1zAx7VxXm8Lh3T&X-Amz-Signature=899bd70973a4cda2a7ce8a653bd4cec51aaae862bdbb211691bafa9b60a10778&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SZKKJZVK%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041938Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE4T9Tpyj%2FDq8pS515i62zmrc9cADLQjiT20WhQaR%2FLfAiEA84ytC2OvqkwN%2F4hknGLjRkaeMsS8F%2F4AwPQ3xPkKnJ0q%2FwMIZRAAGgw2Mzc0MjMxODM4MDUiDGJ9HlpaOmYiCPyTsCrcA2X6wcvZBSM5KFHMZxwnd3sE2oS42s6ZuqiczLhFvA5DwSRL4jZlG7bJntadxLaCfM%2Bb3lygQqUGxsaCn9%2Be8P1rfbF%2BDIxZtEJjDrZf1Pmpcs3d7jKnBiRY2zoOQaz6NSsfEFH2Ufn5SB6iH6%2FHPDqDJCwqGdZJoKDBb8k46jAjU52KnZ2nJgfkzgvfQIiU4enMAiHODo1B4HSFdqKqogjUzUGwCpYSAarp62rkxE%2BinLam4p3syh8G6nW4j%2FLpTTbCJEvn6GiW3LjAUiwD7x72WdQOjT3NDMwPdPS8MsNdvNZ68ukgkyexZnEAveHckrrluPgupyHod61AqObTZv%2FmChBLFxGasFCKaEdkM4mg8fOAfDdA7n6EUb0%2FFmDU5fxIf7xbUChXuSZfa37MhYk9r9ct6ocghuZxi%2FkcW%2BKwxkal3EmNs%2FlMl4%2FhTEQtVdsT5%2FR3EQlXexzUjbWMH3nmg9N6JVaZQU7gYLMoNMouAQw%2FYr4jNpwuLKRTHFdQzzRzB0piZD4%2Fw5FPvtc8rnhMYseZAk%2BfM8IuBaHHKoMJ1hAAy%2FjavfWk2Frh7z1b9zCPA8JqvVKl14BnXEAKq4UWrbEIpYkUQW%2BRTBAigihpfbqerzUiG7qbhZjhMPGY5ssGOqUBEUfkzNDpBio%2FEEBqeQqH69ArZ1ITayr9SClkj92RuY7qXXCi1W5sIJWAteeLkM%2BCydRjn2idGDTHafrDXfr02csF%2FJzjHS%2BHABqHA%2F5vw06Az7cBHDefwouOlqZraLvdfTaTOfmkN8SYcpUYNqGxLcfGmQbxkfLM1BMUnvCAXi%2FZhAi1EMT8lA4mCRPWsDv%2Fzex7DYCpJEOnVr1zAx7VxXm8Lh3T&X-Amz-Signature=f905f1df17c3645a2c50f882c1dea3b348920cc81cb6cd008a1d9252546dadff&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SZKKJZVK%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041938Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE4T9Tpyj%2FDq8pS515i62zmrc9cADLQjiT20WhQaR%2FLfAiEA84ytC2OvqkwN%2F4hknGLjRkaeMsS8F%2F4AwPQ3xPkKnJ0q%2FwMIZRAAGgw2Mzc0MjMxODM4MDUiDGJ9HlpaOmYiCPyTsCrcA2X6wcvZBSM5KFHMZxwnd3sE2oS42s6ZuqiczLhFvA5DwSRL4jZlG7bJntadxLaCfM%2Bb3lygQqUGxsaCn9%2Be8P1rfbF%2BDIxZtEJjDrZf1Pmpcs3d7jKnBiRY2zoOQaz6NSsfEFH2Ufn5SB6iH6%2FHPDqDJCwqGdZJoKDBb8k46jAjU52KnZ2nJgfkzgvfQIiU4enMAiHODo1B4HSFdqKqogjUzUGwCpYSAarp62rkxE%2BinLam4p3syh8G6nW4j%2FLpTTbCJEvn6GiW3LjAUiwD7x72WdQOjT3NDMwPdPS8MsNdvNZ68ukgkyexZnEAveHckrrluPgupyHod61AqObTZv%2FmChBLFxGasFCKaEdkM4mg8fOAfDdA7n6EUb0%2FFmDU5fxIf7xbUChXuSZfa37MhYk9r9ct6ocghuZxi%2FkcW%2BKwxkal3EmNs%2FlMl4%2FhTEQtVdsT5%2FR3EQlXexzUjbWMH3nmg9N6JVaZQU7gYLMoNMouAQw%2FYr4jNpwuLKRTHFdQzzRzB0piZD4%2Fw5FPvtc8rnhMYseZAk%2BfM8IuBaHHKoMJ1hAAy%2FjavfWk2Frh7z1b9zCPA8JqvVKl14BnXEAKq4UWrbEIpYkUQW%2BRTBAigihpfbqerzUiG7qbhZjhMPGY5ssGOqUBEUfkzNDpBio%2FEEBqeQqH69ArZ1ITayr9SClkj92RuY7qXXCi1W5sIJWAteeLkM%2BCydRjn2idGDTHafrDXfr02csF%2FJzjHS%2BHABqHA%2F5vw06Az7cBHDefwouOlqZraLvdfTaTOfmkN8SYcpUYNqGxLcfGmQbxkfLM1BMUnvCAXi%2FZhAi1EMT8lA4mCRPWsDv%2Fzex7DYCpJEOnVr1zAx7VxXm8Lh3T&X-Amz-Signature=950506be192d571da1e6790bc380688ad38bd28e795d3c14869fad07f9965a3d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

