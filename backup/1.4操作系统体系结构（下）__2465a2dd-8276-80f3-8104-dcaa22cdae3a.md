
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DIMX7CN%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112838Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQDiwgW0JcbSnG0EsAHyFihfG3%2Bv7kGWPhmLo7%2BguG2jqAIhAPpKHJCu88%2BM8znvo2GW89ao6Q%2B6h3J18AasejwpPD0%2BKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igzn59R3rZNBUHmH4vAq3AOlKtNJ6Eq9%2FUoWVtS9jbZlWtVMTxGc%2FmEzYbvORt6HbESvw%2BqXfLIh7Ny2%2FreqLbkTd9ayTuQ%2FvUuRQa4trXIXaldveK8Pm9MV0uUFa%2FaJXxLnZrbmuLEcRWqPZMgGRldI6I0hJACcfXRhNDsd%2B7GyC9%2F72jhWkDO0u%2FxotZS2Oiz7msbdNBUdybg1OHd4M248TmupzsW6CkKwOWYFESJu%2BfclXfYpbvyFypBvMLpllurhCjDTzbDQ9vtdiqjzBdh1O444qLF7%2FTfPRmUP4OmiHUQOCCl7CVmoknT5SQAGN9tzwzGyVFI7hnFsskylFeMeytNLbYt%2BQaanb42Vdj8HzwNq0veS6OqzMWamB9q5qjxQteaA1j7zj%2FDZE%2BHoUX0YCTdtS9ekeQw2qqGLDgAhbPEudhZ5%2B6BTTDJVnO1pXnLbB4GNVWbXQpecafCcRevjRCHns9lq76ptov8aHmVN5an7HAEcmyht87dbP6XUe8AHj5UPI5i81XYNN1Ij7n4wKFUfNdM%2Fcoe5hd6PcECUCubATJcW125%2B3eqGZKa58IunocPWl%2FqzukTrqxAosGJr%2FRVr3curdfSfhIWgIzz7VcBGBIbIC6L75l3WTZsLzwlEBJgKF8h69I577jD58p7KBjqkAWuxeD%2Bgw9MjqFuxaBVnF3W8z8aV4Tgw10lah7ruSHj7z%2FO9G7WK8JTNdMagJon3vDXkOyzuJUFf5Dk9HZghrtbKTx0WyITNkOYuIRF1ZeXirjxBWbXww4dnBmknfEPNN0r%2Ba5ALJZQPhK7MaXjUPTD%2BJhA49dkEM94Dh0FZYUZBZkE6EoYjPGaWyhny4jkEUAvaeqp9t4xgbksGitpF5BfEOG36&X-Amz-Signature=3e2162fbe934e72877b1001325f05c1e774bf766e0441f5f9e050929e2ba64d5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DIMX7CN%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112838Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQDiwgW0JcbSnG0EsAHyFihfG3%2Bv7kGWPhmLo7%2BguG2jqAIhAPpKHJCu88%2BM8znvo2GW89ao6Q%2B6h3J18AasejwpPD0%2BKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igzn59R3rZNBUHmH4vAq3AOlKtNJ6Eq9%2FUoWVtS9jbZlWtVMTxGc%2FmEzYbvORt6HbESvw%2BqXfLIh7Ny2%2FreqLbkTd9ayTuQ%2FvUuRQa4trXIXaldveK8Pm9MV0uUFa%2FaJXxLnZrbmuLEcRWqPZMgGRldI6I0hJACcfXRhNDsd%2B7GyC9%2F72jhWkDO0u%2FxotZS2Oiz7msbdNBUdybg1OHd4M248TmupzsW6CkKwOWYFESJu%2BfclXfYpbvyFypBvMLpllurhCjDTzbDQ9vtdiqjzBdh1O444qLF7%2FTfPRmUP4OmiHUQOCCl7CVmoknT5SQAGN9tzwzGyVFI7hnFsskylFeMeytNLbYt%2BQaanb42Vdj8HzwNq0veS6OqzMWamB9q5qjxQteaA1j7zj%2FDZE%2BHoUX0YCTdtS9ekeQw2qqGLDgAhbPEudhZ5%2B6BTTDJVnO1pXnLbB4GNVWbXQpecafCcRevjRCHns9lq76ptov8aHmVN5an7HAEcmyht87dbP6XUe8AHj5UPI5i81XYNN1Ij7n4wKFUfNdM%2Fcoe5hd6PcECUCubATJcW125%2B3eqGZKa58IunocPWl%2FqzukTrqxAosGJr%2FRVr3curdfSfhIWgIzz7VcBGBIbIC6L75l3WTZsLzwlEBJgKF8h69I577jD58p7KBjqkAWuxeD%2Bgw9MjqFuxaBVnF3W8z8aV4Tgw10lah7ruSHj7z%2FO9G7WK8JTNdMagJon3vDXkOyzuJUFf5Dk9HZghrtbKTx0WyITNkOYuIRF1ZeXirjxBWbXww4dnBmknfEPNN0r%2Ba5ALJZQPhK7MaXjUPTD%2BJhA49dkEM94Dh0FZYUZBZkE6EoYjPGaWyhny4jkEUAvaeqp9t4xgbksGitpF5BfEOG36&X-Amz-Signature=c8c57d6007a74ec661df4f11f33c2486ab632e8f5eb425cbf76b32b41fad3287&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DIMX7CN%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112839Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQDiwgW0JcbSnG0EsAHyFihfG3%2Bv7kGWPhmLo7%2BguG2jqAIhAPpKHJCu88%2BM8znvo2GW89ao6Q%2B6h3J18AasejwpPD0%2BKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igzn59R3rZNBUHmH4vAq3AOlKtNJ6Eq9%2FUoWVtS9jbZlWtVMTxGc%2FmEzYbvORt6HbESvw%2BqXfLIh7Ny2%2FreqLbkTd9ayTuQ%2FvUuRQa4trXIXaldveK8Pm9MV0uUFa%2FaJXxLnZrbmuLEcRWqPZMgGRldI6I0hJACcfXRhNDsd%2B7GyC9%2F72jhWkDO0u%2FxotZS2Oiz7msbdNBUdybg1OHd4M248TmupzsW6CkKwOWYFESJu%2BfclXfYpbvyFypBvMLpllurhCjDTzbDQ9vtdiqjzBdh1O444qLF7%2FTfPRmUP4OmiHUQOCCl7CVmoknT5SQAGN9tzwzGyVFI7hnFsskylFeMeytNLbYt%2BQaanb42Vdj8HzwNq0veS6OqzMWamB9q5qjxQteaA1j7zj%2FDZE%2BHoUX0YCTdtS9ekeQw2qqGLDgAhbPEudhZ5%2B6BTTDJVnO1pXnLbB4GNVWbXQpecafCcRevjRCHns9lq76ptov8aHmVN5an7HAEcmyht87dbP6XUe8AHj5UPI5i81XYNN1Ij7n4wKFUfNdM%2Fcoe5hd6PcECUCubATJcW125%2B3eqGZKa58IunocPWl%2FqzukTrqxAosGJr%2FRVr3curdfSfhIWgIzz7VcBGBIbIC6L75l3WTZsLzwlEBJgKF8h69I577jD58p7KBjqkAWuxeD%2Bgw9MjqFuxaBVnF3W8z8aV4Tgw10lah7ruSHj7z%2FO9G7WK8JTNdMagJon3vDXkOyzuJUFf5Dk9HZghrtbKTx0WyITNkOYuIRF1ZeXirjxBWbXww4dnBmknfEPNN0r%2Ba5ALJZQPhK7MaXjUPTD%2BJhA49dkEM94Dh0FZYUZBZkE6EoYjPGaWyhny4jkEUAvaeqp9t4xgbksGitpF5BfEOG36&X-Amz-Signature=cff173b433070975747d0a3753cbf55e540163b0997e6f7b25aa380556d4de80&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

