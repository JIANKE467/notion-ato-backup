
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWVUCQXS%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040703Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQDm0TxLN2ZYexiYs8e%2FS71ukOVvVGQ9li9zdpviE%2BqW%2BgIhAOudc98cNQiSKh%2FnWCSnWL3bdoYXPcXsKDMNHCIu227oKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx3Z8rYfrizSy%2B%2ButIq3AOANVv%2Fn8ABzLQU1N9O9SeUla1IVtyg3VkoLpc2BaJP1GX35yl5xUH4haaB55LQFqT3oyv50leJGL9LuPE777VvlKI5qgWsiIUqslUaOcxpPBE7Yz%2F3dLxu4pWJkbreCd3vN%2FtkO0dv6WsCE%2BVvObOWJirj%2BUIpq7aqCvuJj4ZnPO0UNlq6V96b8wkVx6K4sQxnkQ0vwxgqsWIJEQttTlI%2B4YKV00CmS%2B1XZoeb%2FF6p%2BPOyTx3uoAwSY6DCGVnNC3k38chV84T7MQ98evKQM3xXJv9PomZkZO57jDL7r9Q9RwnwLY3na0nrPIaLig%2BDS9oPKejDGNRg6DRZY7a%2FdKvhVne0ygwxaOdKRtM4pZ0Jfb0E1AcBxtpT%2FkIaXVhmKWO9VaQG8YKsluaQP%2BeFhJsfHolBxMJJt%2BCyg3zsn%2FK7AywIUIkl%2Fp9Daou6LXvxNQ%2FozJ%2B5RDlw36aGOyKd6O4FPffqPYKmXF5ICzB8EBsB8QGVGASnbXp0QYHTdlbURFrlXcaosGFWH653t%2Fbqgd4c27ociTFJE0EVQSvGxLGc2HSTheGxu72EY%2FEPqD1tzm9NCVCxWM3ISics6L6FqTolBRB3vNGjrKLeKYZGojkFWZ6yyC3e3RJ3cDnjSTCk9OjJBjqkAUQSPXW3xMC2MouBlEZygvAbKgtvXT4VyYTd4beDaNoCu%2Bv1P7BS%2BQ6jNuemXhmlDQrUUVMIzMlZ4kF9XWJ0I6R3yU5nvu47mIWAGFOx2jODN5Q8ebUM8ILeLT142AM2R2eSeTlkVfa809WtrNFKXCcVcpe%2BlSy2lW5s1hxJL48%2Bpqwl9aMZnReHRS3ZkSqcOZdlsAWvCZH%2FTBEAF1NkYKw4Yz4I&X-Amz-Signature=8731a1c33b113e82fca45bd1d76d20c0a963c3b0f46ba188a4195320a7770d51&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWVUCQXS%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040703Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQDm0TxLN2ZYexiYs8e%2FS71ukOVvVGQ9li9zdpviE%2BqW%2BgIhAOudc98cNQiSKh%2FnWCSnWL3bdoYXPcXsKDMNHCIu227oKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx3Z8rYfrizSy%2B%2ButIq3AOANVv%2Fn8ABzLQU1N9O9SeUla1IVtyg3VkoLpc2BaJP1GX35yl5xUH4haaB55LQFqT3oyv50leJGL9LuPE777VvlKI5qgWsiIUqslUaOcxpPBE7Yz%2F3dLxu4pWJkbreCd3vN%2FtkO0dv6WsCE%2BVvObOWJirj%2BUIpq7aqCvuJj4ZnPO0UNlq6V96b8wkVx6K4sQxnkQ0vwxgqsWIJEQttTlI%2B4YKV00CmS%2B1XZoeb%2FF6p%2BPOyTx3uoAwSY6DCGVnNC3k38chV84T7MQ98evKQM3xXJv9PomZkZO57jDL7r9Q9RwnwLY3na0nrPIaLig%2BDS9oPKejDGNRg6DRZY7a%2FdKvhVne0ygwxaOdKRtM4pZ0Jfb0E1AcBxtpT%2FkIaXVhmKWO9VaQG8YKsluaQP%2BeFhJsfHolBxMJJt%2BCyg3zsn%2FK7AywIUIkl%2Fp9Daou6LXvxNQ%2FozJ%2B5RDlw36aGOyKd6O4FPffqPYKmXF5ICzB8EBsB8QGVGASnbXp0QYHTdlbURFrlXcaosGFWH653t%2Fbqgd4c27ociTFJE0EVQSvGxLGc2HSTheGxu72EY%2FEPqD1tzm9NCVCxWM3ISics6L6FqTolBRB3vNGjrKLeKYZGojkFWZ6yyC3e3RJ3cDnjSTCk9OjJBjqkAUQSPXW3xMC2MouBlEZygvAbKgtvXT4VyYTd4beDaNoCu%2Bv1P7BS%2BQ6jNuemXhmlDQrUUVMIzMlZ4kF9XWJ0I6R3yU5nvu47mIWAGFOx2jODN5Q8ebUM8ILeLT142AM2R2eSeTlkVfa809WtrNFKXCcVcpe%2BlSy2lW5s1hxJL48%2Bpqwl9aMZnReHRS3ZkSqcOZdlsAWvCZH%2FTBEAF1NkYKw4Yz4I&X-Amz-Signature=52b02de4a0a7a75d93c92a17c6a84c28e77363e9dc6f8c15fd90c6ba2c9a61b8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWVUCQXS%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040703Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQDm0TxLN2ZYexiYs8e%2FS71ukOVvVGQ9li9zdpviE%2BqW%2BgIhAOudc98cNQiSKh%2FnWCSnWL3bdoYXPcXsKDMNHCIu227oKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx3Z8rYfrizSy%2B%2ButIq3AOANVv%2Fn8ABzLQU1N9O9SeUla1IVtyg3VkoLpc2BaJP1GX35yl5xUH4haaB55LQFqT3oyv50leJGL9LuPE777VvlKI5qgWsiIUqslUaOcxpPBE7Yz%2F3dLxu4pWJkbreCd3vN%2FtkO0dv6WsCE%2BVvObOWJirj%2BUIpq7aqCvuJj4ZnPO0UNlq6V96b8wkVx6K4sQxnkQ0vwxgqsWIJEQttTlI%2B4YKV00CmS%2B1XZoeb%2FF6p%2BPOyTx3uoAwSY6DCGVnNC3k38chV84T7MQ98evKQM3xXJv9PomZkZO57jDL7r9Q9RwnwLY3na0nrPIaLig%2BDS9oPKejDGNRg6DRZY7a%2FdKvhVne0ygwxaOdKRtM4pZ0Jfb0E1AcBxtpT%2FkIaXVhmKWO9VaQG8YKsluaQP%2BeFhJsfHolBxMJJt%2BCyg3zsn%2FK7AywIUIkl%2Fp9Daou6LXvxNQ%2FozJ%2B5RDlw36aGOyKd6O4FPffqPYKmXF5ICzB8EBsB8QGVGASnbXp0QYHTdlbURFrlXcaosGFWH653t%2Fbqgd4c27ociTFJE0EVQSvGxLGc2HSTheGxu72EY%2FEPqD1tzm9NCVCxWM3ISics6L6FqTolBRB3vNGjrKLeKYZGojkFWZ6yyC3e3RJ3cDnjSTCk9OjJBjqkAUQSPXW3xMC2MouBlEZygvAbKgtvXT4VyYTd4beDaNoCu%2Bv1P7BS%2BQ6jNuemXhmlDQrUUVMIzMlZ4kF9XWJ0I6R3yU5nvu47mIWAGFOx2jODN5Q8ebUM8ILeLT142AM2R2eSeTlkVfa809WtrNFKXCcVcpe%2BlSy2lW5s1hxJL48%2Bpqwl9aMZnReHRS3ZkSqcOZdlsAWvCZH%2FTBEAF1NkYKw4Yz4I&X-Amz-Signature=6167cbce9e9cd86e11866a6289af7057923872b5c5a1e701df7e06121486915c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

