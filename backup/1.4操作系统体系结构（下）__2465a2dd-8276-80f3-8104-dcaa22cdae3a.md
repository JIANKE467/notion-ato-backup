
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UBS42PL4%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042829Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQDlyedwMuVhJoGrB%2BLHoyL3OT3TolUaN6%2FelfN%2FZcSingIgCEIMKXBn57skT3OKY7xIIW1RtvHgYyCGvLfVngAaZmAq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDD4%2Fh4SoOJyMKeD6CSrcA4dftAKJ5olUkt9oHXozKW5G6GpFmJfL63B2jo593c1cZxQDUTEpHKq1m9LEUG4uWduf7c6Opru4ZgXmuz%2BAFjkPFehvvxfbSblqfmp35ZO1JRorvtfmHrgMTFxJYNqelVlMOOwX5doyxff9V0xSjndnZTATzC1m5fOID2sxJoDJ5bNfcjxyoUHuM%2BshHINSZN2vdgbtntvQFa0IxI5dfpBrok09bPBRDAv2SUuGSqklz7RVAuhNr%2FZx8295z6xWyE%2F%2FjyMpWyq4AYuBTrfD5PITZpJ%2BXAdPPZ14ZLeMXcD9fU1sFiU86do%2B2zsII3KqKuF4CwBRGGMdCYA7%2FzyDw8cbymNJxxciMsEAgkmzEcEJt1z7MPtzmenpEqf3ZLdMYCBOyY8bIAik87991HT8GyOorb1ARyeQYB5vjww%2F0sr2G6riCr3DBeLwoaUo5Gbv%2FcyaL%2Fjn0CNKqq9%2BjYvx7ByRnhWOFgMNqr2kDW2FOXBBHwJCWMJmMhHZq1rVvaW9uNwUgKzWxBL2ZQN0CmAw6K5JhLwGvXJBaCZIau14KTNMWE5iM6OPYM5OiGV4Lik75Tpfu2gXquNfvSYmBHNFCho%2FTT4EQSwigfNth2z1U30RUH2YIt9O2cMR6qNgMK207MoGOqUBQoJ7d4LHOEV9%2F5EsP4jwkpc8n1M8ArOQn%2FFz6sR%2FCLn3sCqqiKP1z6vkGFb2e0E7x5q2s2PUYa0RuFBnGXE6Y%2Bw9JyT4zn%2B4iTCxgj9%2Fx%2FawQ69c6ZZ44TE8KjkPzDsZw8dTvQRKZ7v09l3Tiggh6AFL7nPG%2BRTxQ5rFXNDm3zRxWfx%2B5CfvHuIDVpdtYkxvXg%2B4me202B%2BEV2nMCYf0ch3sbiZV&X-Amz-Signature=da355c59c563347e1bc41b8d356a20a5c35bb58d0d4ec125dd11ce9fb12345f7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UBS42PL4%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042829Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQDlyedwMuVhJoGrB%2BLHoyL3OT3TolUaN6%2FelfN%2FZcSingIgCEIMKXBn57skT3OKY7xIIW1RtvHgYyCGvLfVngAaZmAq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDD4%2Fh4SoOJyMKeD6CSrcA4dftAKJ5olUkt9oHXozKW5G6GpFmJfL63B2jo593c1cZxQDUTEpHKq1m9LEUG4uWduf7c6Opru4ZgXmuz%2BAFjkPFehvvxfbSblqfmp35ZO1JRorvtfmHrgMTFxJYNqelVlMOOwX5doyxff9V0xSjndnZTATzC1m5fOID2sxJoDJ5bNfcjxyoUHuM%2BshHINSZN2vdgbtntvQFa0IxI5dfpBrok09bPBRDAv2SUuGSqklz7RVAuhNr%2FZx8295z6xWyE%2F%2FjyMpWyq4AYuBTrfD5PITZpJ%2BXAdPPZ14ZLeMXcD9fU1sFiU86do%2B2zsII3KqKuF4CwBRGGMdCYA7%2FzyDw8cbymNJxxciMsEAgkmzEcEJt1z7MPtzmenpEqf3ZLdMYCBOyY8bIAik87991HT8GyOorb1ARyeQYB5vjww%2F0sr2G6riCr3DBeLwoaUo5Gbv%2FcyaL%2Fjn0CNKqq9%2BjYvx7ByRnhWOFgMNqr2kDW2FOXBBHwJCWMJmMhHZq1rVvaW9uNwUgKzWxBL2ZQN0CmAw6K5JhLwGvXJBaCZIau14KTNMWE5iM6OPYM5OiGV4Lik75Tpfu2gXquNfvSYmBHNFCho%2FTT4EQSwigfNth2z1U30RUH2YIt9O2cMR6qNgMK207MoGOqUBQoJ7d4LHOEV9%2F5EsP4jwkpc8n1M8ArOQn%2FFz6sR%2FCLn3sCqqiKP1z6vkGFb2e0E7x5q2s2PUYa0RuFBnGXE6Y%2Bw9JyT4zn%2B4iTCxgj9%2Fx%2FawQ69c6ZZ44TE8KjkPzDsZw8dTvQRKZ7v09l3Tiggh6AFL7nPG%2BRTxQ5rFXNDm3zRxWfx%2B5CfvHuIDVpdtYkxvXg%2B4me202B%2BEV2nMCYf0ch3sbiZV&X-Amz-Signature=b18f2c3f137aec738b687778f656e30d947ec04d73ceafb1a12aa4d091b66278&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UBS42PL4%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042829Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQDlyedwMuVhJoGrB%2BLHoyL3OT3TolUaN6%2FelfN%2FZcSingIgCEIMKXBn57skT3OKY7xIIW1RtvHgYyCGvLfVngAaZmAq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDD4%2Fh4SoOJyMKeD6CSrcA4dftAKJ5olUkt9oHXozKW5G6GpFmJfL63B2jo593c1cZxQDUTEpHKq1m9LEUG4uWduf7c6Opru4ZgXmuz%2BAFjkPFehvvxfbSblqfmp35ZO1JRorvtfmHrgMTFxJYNqelVlMOOwX5doyxff9V0xSjndnZTATzC1m5fOID2sxJoDJ5bNfcjxyoUHuM%2BshHINSZN2vdgbtntvQFa0IxI5dfpBrok09bPBRDAv2SUuGSqklz7RVAuhNr%2FZx8295z6xWyE%2F%2FjyMpWyq4AYuBTrfD5PITZpJ%2BXAdPPZ14ZLeMXcD9fU1sFiU86do%2B2zsII3KqKuF4CwBRGGMdCYA7%2FzyDw8cbymNJxxciMsEAgkmzEcEJt1z7MPtzmenpEqf3ZLdMYCBOyY8bIAik87991HT8GyOorb1ARyeQYB5vjww%2F0sr2G6riCr3DBeLwoaUo5Gbv%2FcyaL%2Fjn0CNKqq9%2BjYvx7ByRnhWOFgMNqr2kDW2FOXBBHwJCWMJmMhHZq1rVvaW9uNwUgKzWxBL2ZQN0CmAw6K5JhLwGvXJBaCZIau14KTNMWE5iM6OPYM5OiGV4Lik75Tpfu2gXquNfvSYmBHNFCho%2FTT4EQSwigfNth2z1U30RUH2YIt9O2cMR6qNgMK207MoGOqUBQoJ7d4LHOEV9%2F5EsP4jwkpc8n1M8ArOQn%2FFz6sR%2FCLn3sCqqiKP1z6vkGFb2e0E7x5q2s2PUYa0RuFBnGXE6Y%2Bw9JyT4zn%2B4iTCxgj9%2Fx%2FawQ69c6ZZ44TE8KjkPzDsZw8dTvQRKZ7v09l3Tiggh6AFL7nPG%2BRTxQ5rFXNDm3zRxWfx%2B5CfvHuIDVpdtYkxvXg%2B4me202B%2BEV2nMCYf0ch3sbiZV&X-Amz-Signature=bbde330e5564ab76e7b73bab8b5330f394c099fb1cb829acdc2b92c2a3312b86&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

