
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663526FXNU%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDWyA40ZrZKghtL5YdohfWiTzzRVvozHEU9U%2BeZz%2FHCZAiADoqCW7fYVPk7GNQfjPotjAydirJCyllk7vkAUsK5pSCr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMqaWCtaHpqXL021SHKtwDb4ywcfaXoyO3z8LPi9I5oaLTu0oR6ecKCNUto1Mwti4OddI27Nc4em3z0kFT%2F%2FiCFu4cSwsb0L0Mnxt9zVqakX%2BfO%2FfzY%2FgOZn3wZW1G%2FHNqLb%2BIpoO7eQRDdkMx%2BHF1ErwwQ8p8GbmiTFYMOCEXQG3AKYkM1k4HesJlYmsD7eP91VAUOwSfr%2FRm3oMGbkF6UdtX%2FSfhdlLOSg2fm9xQhH9LbR0cAKSk1f8hsnUwjXBtQ05e9HeCSAcra%2Fbd5iJUgq9bhuVEJ9J2MBrxqHE63SLRW9jtI%2F1UKmL35ZlXPycmj5mim8JzUr3GNolUC0WvLNBwGpEVFTvYFBsGe3RoYt7sikCLrD5xLp%2FeQgWGrh4Vg9gY544b9APVlc2Y%2F2GjtK1dYOKoP0N3A4grYOEghHPjFhxNN2MmAjvj15rp7kTvjKAm%2FSnaOlCPE9KRB6pPnuBszkiL9e6ZCzpGtNHOGv7Hjfzuc8IXLYusimS6rDBdYvm%2BVkxSLxxscTiyNLsJUzfAiXBTjneDshXqKcOcoXZHBWSuSlANTtMKeFUpriKoIEpnJzVq5AcwMzKFS39M768SOB0yrtL97D9aMuGFFSE5o950n5N2OiStOjL5UCKnUvDkQ0gGG6Kwmc4wj%2FvQywY6pgHXi%2BbOugLURP8Sr6SIPSMfnO6bqyS5rRpKor8EMlvqfH6WJ9FV%2B5UTvXpcpYI1P4HE2XBotQGlea1Vns3ThxFrqaaUWXzklsAuMHx0z4T7kxOFncjhHZPPrmxthaRJR0crUOjVfjPKIZGmOSWoKvcT1WdgQ5ljBDA2jp32mh3tDz0BUbLNtDva%2BdNVHmY86uT%2FmL%2FuTxlB438mnR3szKjqcmGDG%2FYO&X-Amz-Signature=b9101d42a866e4fa25755bfa61aaedca55d1ceb7d75a3b660bbc550b014fc6de&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663526FXNU%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDWyA40ZrZKghtL5YdohfWiTzzRVvozHEU9U%2BeZz%2FHCZAiADoqCW7fYVPk7GNQfjPotjAydirJCyllk7vkAUsK5pSCr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMqaWCtaHpqXL021SHKtwDb4ywcfaXoyO3z8LPi9I5oaLTu0oR6ecKCNUto1Mwti4OddI27Nc4em3z0kFT%2F%2FiCFu4cSwsb0L0Mnxt9zVqakX%2BfO%2FfzY%2FgOZn3wZW1G%2FHNqLb%2BIpoO7eQRDdkMx%2BHF1ErwwQ8p8GbmiTFYMOCEXQG3AKYkM1k4HesJlYmsD7eP91VAUOwSfr%2FRm3oMGbkF6UdtX%2FSfhdlLOSg2fm9xQhH9LbR0cAKSk1f8hsnUwjXBtQ05e9HeCSAcra%2Fbd5iJUgq9bhuVEJ9J2MBrxqHE63SLRW9jtI%2F1UKmL35ZlXPycmj5mim8JzUr3GNolUC0WvLNBwGpEVFTvYFBsGe3RoYt7sikCLrD5xLp%2FeQgWGrh4Vg9gY544b9APVlc2Y%2F2GjtK1dYOKoP0N3A4grYOEghHPjFhxNN2MmAjvj15rp7kTvjKAm%2FSnaOlCPE9KRB6pPnuBszkiL9e6ZCzpGtNHOGv7Hjfzuc8IXLYusimS6rDBdYvm%2BVkxSLxxscTiyNLsJUzfAiXBTjneDshXqKcOcoXZHBWSuSlANTtMKeFUpriKoIEpnJzVq5AcwMzKFS39M768SOB0yrtL97D9aMuGFFSE5o950n5N2OiStOjL5UCKnUvDkQ0gGG6Kwmc4wj%2FvQywY6pgHXi%2BbOugLURP8Sr6SIPSMfnO6bqyS5rRpKor8EMlvqfH6WJ9FV%2B5UTvXpcpYI1P4HE2XBotQGlea1Vns3ThxFrqaaUWXzklsAuMHx0z4T7kxOFncjhHZPPrmxthaRJR0crUOjVfjPKIZGmOSWoKvcT1WdgQ5ljBDA2jp32mh3tDz0BUbLNtDva%2BdNVHmY86uT%2FmL%2FuTxlB438mnR3szKjqcmGDG%2FYO&X-Amz-Signature=705b1bc890ae5ca977202a0ca6fc54f35fe926338933863d3a19a6ebb0ebd14b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663526FXNU%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDWyA40ZrZKghtL5YdohfWiTzzRVvozHEU9U%2BeZz%2FHCZAiADoqCW7fYVPk7GNQfjPotjAydirJCyllk7vkAUsK5pSCr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMqaWCtaHpqXL021SHKtwDb4ywcfaXoyO3z8LPi9I5oaLTu0oR6ecKCNUto1Mwti4OddI27Nc4em3z0kFT%2F%2FiCFu4cSwsb0L0Mnxt9zVqakX%2BfO%2FfzY%2FgOZn3wZW1G%2FHNqLb%2BIpoO7eQRDdkMx%2BHF1ErwwQ8p8GbmiTFYMOCEXQG3AKYkM1k4HesJlYmsD7eP91VAUOwSfr%2FRm3oMGbkF6UdtX%2FSfhdlLOSg2fm9xQhH9LbR0cAKSk1f8hsnUwjXBtQ05e9HeCSAcra%2Fbd5iJUgq9bhuVEJ9J2MBrxqHE63SLRW9jtI%2F1UKmL35ZlXPycmj5mim8JzUr3GNolUC0WvLNBwGpEVFTvYFBsGe3RoYt7sikCLrD5xLp%2FeQgWGrh4Vg9gY544b9APVlc2Y%2F2GjtK1dYOKoP0N3A4grYOEghHPjFhxNN2MmAjvj15rp7kTvjKAm%2FSnaOlCPE9KRB6pPnuBszkiL9e6ZCzpGtNHOGv7Hjfzuc8IXLYusimS6rDBdYvm%2BVkxSLxxscTiyNLsJUzfAiXBTjneDshXqKcOcoXZHBWSuSlANTtMKeFUpriKoIEpnJzVq5AcwMzKFS39M768SOB0yrtL97D9aMuGFFSE5o950n5N2OiStOjL5UCKnUvDkQ0gGG6Kwmc4wj%2FvQywY6pgHXi%2BbOugLURP8Sr6SIPSMfnO6bqyS5rRpKor8EMlvqfH6WJ9FV%2B5UTvXpcpYI1P4HE2XBotQGlea1Vns3ThxFrqaaUWXzklsAuMHx0z4T7kxOFncjhHZPPrmxthaRJR0crUOjVfjPKIZGmOSWoKvcT1WdgQ5ljBDA2jp32mh3tDz0BUbLNtDva%2BdNVHmY86uT%2FmL%2FuTxlB438mnR3szKjqcmGDG%2FYO&X-Amz-Signature=52027c08c03c57a9a705cc0025fe968b8b7295315cff441be9c9d6e19a7efc9f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

