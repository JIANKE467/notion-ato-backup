
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666GHPYF76%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041427Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIHVIn1432fvUz2v41I5XH0i0IhUqlfjzAqHpvW9BXULQAiBkvsL9aazbZyAVtXYSeEwPvOINwCGLbV1xuFXzwhqjUSqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMbNUoicEbpZxxLk4DKtwDeLV1qINNlyBVIOoyicQkxLeWjS0%2Bs2eUlpg3KCgsxAggKociakK1nSDbFH7L5BSTOvdJzRMvtCfvKOTMw8dmf%2BFsT%2BPzJT069vUExF77Pu197UOUFo9qV63aOzxDd7ZPOiDD%2FKiZcMw34qgxnxhj2QSx6V4yojCZJmif9LW46Nk%2BX4LJHT%2FLIKJjsmnoPBJF5C7L03Pw8Sj64UudIQDYGxt86InmDU93jTGd1lrEKxvEovZ1ekPWk6ZeDoZYRmd%2BpvvhtqIltESXOv1I59SMKHqGTSfnIjoG9G0yBxCGZf6YuWCxBaWbCIefue07iVDIT2dEjDB%2BgHOnecE12alY94UTCjq4HVGaaRRoa5gbi9u79JG4iiWDRTi1xQT3ivJAVQWY6cAWmC7QTnhAjpj3I6ube%2FJeVrmcfnTbqVcckpAY7fs5N%2BZAlj5jo%2BHOQ0OjeLIp5LCBg%2B%2BqEY6UruDB%2BVleqH0UaI66Td%2B8QDJTQ%2BiDY%2B3oso7VuLnivxPU%2B1JNKz2ngYDxfbFgalHt8L4bJUKXqqNZBgqYpvnscV1mzmCWW2bwM2X30Ag39OwGMYdinp%2Fr%2FxRNpYOv5hRaGTy%2Fl7VoYA35PXRPx%2F1KrXYVyW1%2BjiFpZy1GvYnL%2BIww3oWjygY6pgH1KgrYhBDubtNjiEWg69VwhtuGQAosF1XVdwNTwpB%2BggcoMHtmFl8tlmwuqPX7W1xbZa3QivzEDdihDz9Zj6LOtkKNXBEbL18DQnpI9b3uiWopmDJnYkqZ%2BFjF8xv2T6xgRpSFKqxDOi5LgpwtBFMmeU8rUFIiUmpaxB2%2F%2Fr13GJ2lnLThtMMimtPh1HnG%2F2N6%2BWa8f3bU5C7%2FXGp85XhrDv1G9RQa&X-Amz-Signature=7dc78c551c9f9ca49954c1dfb6176c431245e66a9d0b402666db503d35f02b6d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666GHPYF76%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041427Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIHVIn1432fvUz2v41I5XH0i0IhUqlfjzAqHpvW9BXULQAiBkvsL9aazbZyAVtXYSeEwPvOINwCGLbV1xuFXzwhqjUSqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMbNUoicEbpZxxLk4DKtwDeLV1qINNlyBVIOoyicQkxLeWjS0%2Bs2eUlpg3KCgsxAggKociakK1nSDbFH7L5BSTOvdJzRMvtCfvKOTMw8dmf%2BFsT%2BPzJT069vUExF77Pu197UOUFo9qV63aOzxDd7ZPOiDD%2FKiZcMw34qgxnxhj2QSx6V4yojCZJmif9LW46Nk%2BX4LJHT%2FLIKJjsmnoPBJF5C7L03Pw8Sj64UudIQDYGxt86InmDU93jTGd1lrEKxvEovZ1ekPWk6ZeDoZYRmd%2BpvvhtqIltESXOv1I59SMKHqGTSfnIjoG9G0yBxCGZf6YuWCxBaWbCIefue07iVDIT2dEjDB%2BgHOnecE12alY94UTCjq4HVGaaRRoa5gbi9u79JG4iiWDRTi1xQT3ivJAVQWY6cAWmC7QTnhAjpj3I6ube%2FJeVrmcfnTbqVcckpAY7fs5N%2BZAlj5jo%2BHOQ0OjeLIp5LCBg%2B%2BqEY6UruDB%2BVleqH0UaI66Td%2B8QDJTQ%2BiDY%2B3oso7VuLnivxPU%2B1JNKz2ngYDxfbFgalHt8L4bJUKXqqNZBgqYpvnscV1mzmCWW2bwM2X30Ag39OwGMYdinp%2Fr%2FxRNpYOv5hRaGTy%2Fl7VoYA35PXRPx%2F1KrXYVyW1%2BjiFpZy1GvYnL%2BIww3oWjygY6pgH1KgrYhBDubtNjiEWg69VwhtuGQAosF1XVdwNTwpB%2BggcoMHtmFl8tlmwuqPX7W1xbZa3QivzEDdihDz9Zj6LOtkKNXBEbL18DQnpI9b3uiWopmDJnYkqZ%2BFjF8xv2T6xgRpSFKqxDOi5LgpwtBFMmeU8rUFIiUmpaxB2%2F%2Fr13GJ2lnLThtMMimtPh1HnG%2F2N6%2BWa8f3bU5C7%2FXGp85XhrDv1G9RQa&X-Amz-Signature=81fae7673684d9eb259c7d7828052d73f89e6e15c15ebe25621e0a4356db903f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666GHPYF76%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041427Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIHVIn1432fvUz2v41I5XH0i0IhUqlfjzAqHpvW9BXULQAiBkvsL9aazbZyAVtXYSeEwPvOINwCGLbV1xuFXzwhqjUSqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMbNUoicEbpZxxLk4DKtwDeLV1qINNlyBVIOoyicQkxLeWjS0%2Bs2eUlpg3KCgsxAggKociakK1nSDbFH7L5BSTOvdJzRMvtCfvKOTMw8dmf%2BFsT%2BPzJT069vUExF77Pu197UOUFo9qV63aOzxDd7ZPOiDD%2FKiZcMw34qgxnxhj2QSx6V4yojCZJmif9LW46Nk%2BX4LJHT%2FLIKJjsmnoPBJF5C7L03Pw8Sj64UudIQDYGxt86InmDU93jTGd1lrEKxvEovZ1ekPWk6ZeDoZYRmd%2BpvvhtqIltESXOv1I59SMKHqGTSfnIjoG9G0yBxCGZf6YuWCxBaWbCIefue07iVDIT2dEjDB%2BgHOnecE12alY94UTCjq4HVGaaRRoa5gbi9u79JG4iiWDRTi1xQT3ivJAVQWY6cAWmC7QTnhAjpj3I6ube%2FJeVrmcfnTbqVcckpAY7fs5N%2BZAlj5jo%2BHOQ0OjeLIp5LCBg%2B%2BqEY6UruDB%2BVleqH0UaI66Td%2B8QDJTQ%2BiDY%2B3oso7VuLnivxPU%2B1JNKz2ngYDxfbFgalHt8L4bJUKXqqNZBgqYpvnscV1mzmCWW2bwM2X30Ag39OwGMYdinp%2Fr%2FxRNpYOv5hRaGTy%2Fl7VoYA35PXRPx%2F1KrXYVyW1%2BjiFpZy1GvYnL%2BIww3oWjygY6pgH1KgrYhBDubtNjiEWg69VwhtuGQAosF1XVdwNTwpB%2BggcoMHtmFl8tlmwuqPX7W1xbZa3QivzEDdihDz9Zj6LOtkKNXBEbL18DQnpI9b3uiWopmDJnYkqZ%2BFjF8xv2T6xgRpSFKqxDOi5LgpwtBFMmeU8rUFIiUmpaxB2%2F%2Fr13GJ2lnLThtMMimtPh1HnG%2F2N6%2BWa8f3bU5C7%2FXGp85XhrDv1G9RQa&X-Amz-Signature=d593f75341afe46b9774a9f90539813425bbb23d395b47a586dc3d2d2f377751&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

