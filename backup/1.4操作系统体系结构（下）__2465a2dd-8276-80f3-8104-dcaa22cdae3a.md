
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665J2COELG%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040524Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGzeeE%2BJUpOuE1n%2Fj0yTsSXEPjXzJDDmTMy4Zt4Nv3uSAiASB2xLRfYplDg1xSDrPqm0ggT1ThlfjX1ZbIawF8bqASr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMtB9DaeuPHt%2Ft1zLKKtwDWbcCHTMUnBlwAkioioDltfEjKG0ZIA2XNhjQHDzX2ZTdT49it9ftY2vQk61trpcR351QKYEcBqW6FJ1%2Fp8gZcnc7Xe%2Bj5doxmJt3h6%2BCj5T2nc1vrR17pjImBs8rUI1%2Fi31qKaOTvd8DUlwtHSzXtyDUaSJ9ZurNOCLvBFJ25suAj7N54frC%2BnzTuQgNrAY2MyCifJ6BJ5Tr5%2FG5e5mCYN%2BxrJZAla7qn2loOh1TH7PJEgk6lRyDmJmNaQ5WXRQgiOyJ47dPb%2FnVhaL3YllK%2FQEnQaJg2dQfNqvqtZ3wBv%2FCoUxy6dyGw0ebOH1dEA%2FNwdBNi4xDvmoHejsSDiXPNfcjawfHqryhQ7NNnr5sI39lyYAsqXjdzEqxbq7r2FBW%2Fj0w9XZvA26j6TOVP8PD%2FQw%2FiVdsnHFR57muRawOI3QDDf8mIFHyFSzDedqVs6wcPWPhH19IMVkUJs9zcga3fls9nyYnW6SO7Rbr7a1Ei35WEDnU%2BhtHwmzhKymnVc6YWbTZmG1P%2B%2BLhtUtRJxqfe5PgiqEwHDgBouPDB5b3VFHosKEia9aow8%2FZKjhrDxunpmp%2F%2F%2FmqMidHSyAm4drVR1cuBDoxVDBrduFZYm6SXkbyL3tCRDL2%2BnGkLjIw45eDygY6pgEqKZ65i0xH%2BxnUvApcR3FxcngKuPIK5pAS3EgdJg6f7lJm7PFrlEWbzsCW9%2BDoYmidJcG7bDACnnxDNK1wOLehzO5GFtL%2Bco8j8phUSP0%2Felk%2Bsn9KPAF9pN9C2achPAhr7zBLMNLeFHRRl%2FBN%2BZbkM8ZE6yxgLVDyl5n5yaC6sOOV%2BE0TiLJmqazyBeG5WcvSps4xvG%2Bv4PWRVg1h6dIRCMaT%2FwTH&X-Amz-Signature=96312db0f21da2afd3df18b01af1fc34260c55bc83e383b846d4923f9608b2ca&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665J2COELG%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040524Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGzeeE%2BJUpOuE1n%2Fj0yTsSXEPjXzJDDmTMy4Zt4Nv3uSAiASB2xLRfYplDg1xSDrPqm0ggT1ThlfjX1ZbIawF8bqASr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMtB9DaeuPHt%2Ft1zLKKtwDWbcCHTMUnBlwAkioioDltfEjKG0ZIA2XNhjQHDzX2ZTdT49it9ftY2vQk61trpcR351QKYEcBqW6FJ1%2Fp8gZcnc7Xe%2Bj5doxmJt3h6%2BCj5T2nc1vrR17pjImBs8rUI1%2Fi31qKaOTvd8DUlwtHSzXtyDUaSJ9ZurNOCLvBFJ25suAj7N54frC%2BnzTuQgNrAY2MyCifJ6BJ5Tr5%2FG5e5mCYN%2BxrJZAla7qn2loOh1TH7PJEgk6lRyDmJmNaQ5WXRQgiOyJ47dPb%2FnVhaL3YllK%2FQEnQaJg2dQfNqvqtZ3wBv%2FCoUxy6dyGw0ebOH1dEA%2FNwdBNi4xDvmoHejsSDiXPNfcjawfHqryhQ7NNnr5sI39lyYAsqXjdzEqxbq7r2FBW%2Fj0w9XZvA26j6TOVP8PD%2FQw%2FiVdsnHFR57muRawOI3QDDf8mIFHyFSzDedqVs6wcPWPhH19IMVkUJs9zcga3fls9nyYnW6SO7Rbr7a1Ei35WEDnU%2BhtHwmzhKymnVc6YWbTZmG1P%2B%2BLhtUtRJxqfe5PgiqEwHDgBouPDB5b3VFHosKEia9aow8%2FZKjhrDxunpmp%2F%2F%2FmqMidHSyAm4drVR1cuBDoxVDBrduFZYm6SXkbyL3tCRDL2%2BnGkLjIw45eDygY6pgEqKZ65i0xH%2BxnUvApcR3FxcngKuPIK5pAS3EgdJg6f7lJm7PFrlEWbzsCW9%2BDoYmidJcG7bDACnnxDNK1wOLehzO5GFtL%2Bco8j8phUSP0%2Felk%2Bsn9KPAF9pN9C2achPAhr7zBLMNLeFHRRl%2FBN%2BZbkM8ZE6yxgLVDyl5n5yaC6sOOV%2BE0TiLJmqazyBeG5WcvSps4xvG%2Bv4PWRVg1h6dIRCMaT%2FwTH&X-Amz-Signature=3b948d7b99b6b2eaec9257e0046ee2ecadc100501565e0c0c17cfab4bc28049e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665J2COELG%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040524Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGzeeE%2BJUpOuE1n%2Fj0yTsSXEPjXzJDDmTMy4Zt4Nv3uSAiASB2xLRfYplDg1xSDrPqm0ggT1ThlfjX1ZbIawF8bqASr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMtB9DaeuPHt%2Ft1zLKKtwDWbcCHTMUnBlwAkioioDltfEjKG0ZIA2XNhjQHDzX2ZTdT49it9ftY2vQk61trpcR351QKYEcBqW6FJ1%2Fp8gZcnc7Xe%2Bj5doxmJt3h6%2BCj5T2nc1vrR17pjImBs8rUI1%2Fi31qKaOTvd8DUlwtHSzXtyDUaSJ9ZurNOCLvBFJ25suAj7N54frC%2BnzTuQgNrAY2MyCifJ6BJ5Tr5%2FG5e5mCYN%2BxrJZAla7qn2loOh1TH7PJEgk6lRyDmJmNaQ5WXRQgiOyJ47dPb%2FnVhaL3YllK%2FQEnQaJg2dQfNqvqtZ3wBv%2FCoUxy6dyGw0ebOH1dEA%2FNwdBNi4xDvmoHejsSDiXPNfcjawfHqryhQ7NNnr5sI39lyYAsqXjdzEqxbq7r2FBW%2Fj0w9XZvA26j6TOVP8PD%2FQw%2FiVdsnHFR57muRawOI3QDDf8mIFHyFSzDedqVs6wcPWPhH19IMVkUJs9zcga3fls9nyYnW6SO7Rbr7a1Ei35WEDnU%2BhtHwmzhKymnVc6YWbTZmG1P%2B%2BLhtUtRJxqfe5PgiqEwHDgBouPDB5b3VFHosKEia9aow8%2FZKjhrDxunpmp%2F%2F%2FmqMidHSyAm4drVR1cuBDoxVDBrduFZYm6SXkbyL3tCRDL2%2BnGkLjIw45eDygY6pgEqKZ65i0xH%2BxnUvApcR3FxcngKuPIK5pAS3EgdJg6f7lJm7PFrlEWbzsCW9%2BDoYmidJcG7bDACnnxDNK1wOLehzO5GFtL%2Bco8j8phUSP0%2Felk%2Bsn9KPAF9pN9C2achPAhr7zBLMNLeFHRRl%2FBN%2BZbkM8ZE6yxgLVDyl5n5yaC6sOOV%2BE0TiLJmqazyBeG5WcvSps4xvG%2Bv4PWRVg1h6dIRCMaT%2FwTH&X-Amz-Signature=14517f2d0aa8740667e4393f0dc5a74f111dc867f633b8d7349e1c7aa98eadc8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

