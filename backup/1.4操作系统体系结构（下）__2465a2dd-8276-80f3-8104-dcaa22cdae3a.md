
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z5NQWS5W%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041057Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIGLYCXmmggUXyp4uRhmwA5zLsvcYOyQc%2FnoWUWUq8FGEAiEAytR9DExPNdPjZqOsQYSfkqBp62objsI3%2FSO20MQySF0qiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCKYv6uScK2UI6shjyrcA0UqFqSia%2FDj5VamXL4E68kLnNAcNyjX4IygEUQMFdvkdbNHt6PnVNOr09CgoEhHcYlLRMbnqE1I3lg%2BwOAM7Vl7rlf0igWApmsQT%2Bb22f8wdZVGi0aiU%2BYUaNlTvt8B35pT8Lvy4owX66O7ZfMX%2FiksiVOVegpA%2FoSbJEkfJT7AuIItwipV9vP2%2FU3AuNFOudMpksufSRGC%2BSoTbraRVIcfs%2B8h2yZgEM7NYENhlAD1eLIWe9n1VWcteYjIJ4eP0JMo0ibRKU7GpWckXZdivE6jJItF2flX%2BOPz6KuZpfuO9cudNMwQLB%2F0wi7Jp%2BUU8POjAAdceaPsTuRnj%2Bc3NBhW7%2FIutEe2FKOtfbz%2FpEnmAhwCeRbFMbsbck2WHBAr3X2Qg4T%2FSCL0xv3muWU76hC9NGWUxJzLzybjsz0M3%2BDvU%2BSkeeQTwXQ2bYT7Xb66z4IqZF3tO3wlostvzBswzZtvZZ4NcaxN4SYmfJJJRkyXF9%2F2y0j4rrCI8F1ziitVi3d1PxUwomrj8ZrfK51Jl3dhOcuIB1bk4yvXaEAOIlsXFUF7uhYtB5k2KizIGr65DX5Xy2e3SA2gKv%2F2r9cje2BviytkNKMW0Ku76qELwVpAdzaNU4mzBIN2s%2BZIMPSs3MoGOqUBBRJXReGQtYE2f35gG65Y6abxwQ8vIk%2FszY%2F66u3nMtneIzKj8Nw8LTxwJfwnVJMz1hYVMsKqf4NBYDBFeekXPP13n%2FdFF%2BNd3uK5l%2F3GzQ6nKVk4zfswqXYlLlPvjn2hcfDGfrAubfXj46G0qvAwJOcIp%2FhnG5zKYKDDT6RvGTQn%2F4oYeJTyjAA49%2FXR%2BN8FTnGpnmEWjzCQLo921RLVZPtnVRhW&X-Amz-Signature=ae32acd9dafd50848f2af441b31bdf1a9ffc5d67a239dc05b92d79890cfb2784&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z5NQWS5W%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041057Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIGLYCXmmggUXyp4uRhmwA5zLsvcYOyQc%2FnoWUWUq8FGEAiEAytR9DExPNdPjZqOsQYSfkqBp62objsI3%2FSO20MQySF0qiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCKYv6uScK2UI6shjyrcA0UqFqSia%2FDj5VamXL4E68kLnNAcNyjX4IygEUQMFdvkdbNHt6PnVNOr09CgoEhHcYlLRMbnqE1I3lg%2BwOAM7Vl7rlf0igWApmsQT%2Bb22f8wdZVGi0aiU%2BYUaNlTvt8B35pT8Lvy4owX66O7ZfMX%2FiksiVOVegpA%2FoSbJEkfJT7AuIItwipV9vP2%2FU3AuNFOudMpksufSRGC%2BSoTbraRVIcfs%2B8h2yZgEM7NYENhlAD1eLIWe9n1VWcteYjIJ4eP0JMo0ibRKU7GpWckXZdivE6jJItF2flX%2BOPz6KuZpfuO9cudNMwQLB%2F0wi7Jp%2BUU8POjAAdceaPsTuRnj%2Bc3NBhW7%2FIutEe2FKOtfbz%2FpEnmAhwCeRbFMbsbck2WHBAr3X2Qg4T%2FSCL0xv3muWU76hC9NGWUxJzLzybjsz0M3%2BDvU%2BSkeeQTwXQ2bYT7Xb66z4IqZF3tO3wlostvzBswzZtvZZ4NcaxN4SYmfJJJRkyXF9%2F2y0j4rrCI8F1ziitVi3d1PxUwomrj8ZrfK51Jl3dhOcuIB1bk4yvXaEAOIlsXFUF7uhYtB5k2KizIGr65DX5Xy2e3SA2gKv%2F2r9cje2BviytkNKMW0Ku76qELwVpAdzaNU4mzBIN2s%2BZIMPSs3MoGOqUBBRJXReGQtYE2f35gG65Y6abxwQ8vIk%2FszY%2F66u3nMtneIzKj8Nw8LTxwJfwnVJMz1hYVMsKqf4NBYDBFeekXPP13n%2FdFF%2BNd3uK5l%2F3GzQ6nKVk4zfswqXYlLlPvjn2hcfDGfrAubfXj46G0qvAwJOcIp%2FhnG5zKYKDDT6RvGTQn%2F4oYeJTyjAA49%2FXR%2BN8FTnGpnmEWjzCQLo921RLVZPtnVRhW&X-Amz-Signature=b2a04fa74e6eb29b089a89da86f3004d28c8bc171f51cc87b89d48c27cd25dc8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z5NQWS5W%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041057Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIGLYCXmmggUXyp4uRhmwA5zLsvcYOyQc%2FnoWUWUq8FGEAiEAytR9DExPNdPjZqOsQYSfkqBp62objsI3%2FSO20MQySF0qiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCKYv6uScK2UI6shjyrcA0UqFqSia%2FDj5VamXL4E68kLnNAcNyjX4IygEUQMFdvkdbNHt6PnVNOr09CgoEhHcYlLRMbnqE1I3lg%2BwOAM7Vl7rlf0igWApmsQT%2Bb22f8wdZVGi0aiU%2BYUaNlTvt8B35pT8Lvy4owX66O7ZfMX%2FiksiVOVegpA%2FoSbJEkfJT7AuIItwipV9vP2%2FU3AuNFOudMpksufSRGC%2BSoTbraRVIcfs%2B8h2yZgEM7NYENhlAD1eLIWe9n1VWcteYjIJ4eP0JMo0ibRKU7GpWckXZdivE6jJItF2flX%2BOPz6KuZpfuO9cudNMwQLB%2F0wi7Jp%2BUU8POjAAdceaPsTuRnj%2Bc3NBhW7%2FIutEe2FKOtfbz%2FpEnmAhwCeRbFMbsbck2WHBAr3X2Qg4T%2FSCL0xv3muWU76hC9NGWUxJzLzybjsz0M3%2BDvU%2BSkeeQTwXQ2bYT7Xb66z4IqZF3tO3wlostvzBswzZtvZZ4NcaxN4SYmfJJJRkyXF9%2F2y0j4rrCI8F1ziitVi3d1PxUwomrj8ZrfK51Jl3dhOcuIB1bk4yvXaEAOIlsXFUF7uhYtB5k2KizIGr65DX5Xy2e3SA2gKv%2F2r9cje2BviytkNKMW0Ku76qELwVpAdzaNU4mzBIN2s%2BZIMPSs3MoGOqUBBRJXReGQtYE2f35gG65Y6abxwQ8vIk%2FszY%2F66u3nMtneIzKj8Nw8LTxwJfwnVJMz1hYVMsKqf4NBYDBFeekXPP13n%2FdFF%2BNd3uK5l%2F3GzQ6nKVk4zfswqXYlLlPvjn2hcfDGfrAubfXj46G0qvAwJOcIp%2FhnG5zKYKDDT6RvGTQn%2F4oYeJTyjAA49%2FXR%2BN8FTnGpnmEWjzCQLo921RLVZPtnVRhW&X-Amz-Signature=60d0c7860574acc16cf24a8dbf3f6d584c85f3af30b9af0ece5a58b0e95079b5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

