
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46623WEVP6Z%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041759Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCQR69ElXTfgh0G9inX0erWMPRpZlV9okCmkWj9JwmmHAIge3fEfm8l%2BKzuERIXSngPPCGN8XyAP1HQbmE8iJRMVF0qiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOxTCXTU%2BfuQCY1GWyrcAyDW9jPvLaMdsBI%2FjoClYb1bcKWTtX5i8QjBeMo%2BuGD%2BcHFx5u%2BGbCfnvgBD1PgxNDV%2FxuWUj1LNaazps4K22V13yO1mntoXAis2As2qL9%2BgP5pd6nBC4wMk933Ak2g4bt545LNWlllXR0APEJxrhIAmGoPi9YGzarGejdrRNXvM0ddy5EqwGsimUCUYbhdgurn17gNcsFWQb5rADw2vb%2F0j1jk%2BHSHvUKYNwRSnBhqKshYnMPrLDf2L%2BFZTUbkcumCDP1RDUrFaxnQqzIeeqMrhHM7zgNtmDAVWrZHzVwLe%2BWbvKvCbM%2FCKFPfBk7UEYSPkWyVc1ySjm4sjvPThrsp5V0yHInynXl1uh%2BE2bAZmmjj5I1amyHHR%2B9EL2tjgekUP%2BgrOBzF91RKNpSbulyuF9XqEaO9gJchWWYaxEk30MgxRvB%2B642SS2xmx4znHCdVzpIn8ym6ZqcYHyvP4hyAwagzO1HpOr%2F2EbN2mJeg5kx7N41iJt%2F76onxC6ZR2UaO9e7d4XFGWw7ZFSs6vUGpb1IScAHaeZURh6QRi8kCeghdgMzDZbhKfqw0EaNHi4N9G1RUi%2BIyc1JAYD9vpms9R%2FJrXhVZ7%2FrxHNOleteABrfYcWk1ZvaKWxzLzMJCQwcsGOqUBmYgK0wV%2FiQilxuViLghpcTkrVuAbE6cDAu7bmq9GiM4QwNgXwuNQ84iY5cUsyMrbtDz5o%2Fty73ZTYcLdR15jk9Q29tson23aljDgiufWB3hhxHZS6w9KeXvPFVKD0djvKfeK27MvladUIP44NQPrJhXZjKqW38eh3UPP1VuHL%2BHxne9ItWzq3vSHraEXg1Dlp%2Bk%2BQamOWroXhw6GK0h9D3MJBNhW&X-Amz-Signature=4ff3caff071cee0f55646798441f4aa251dbe8ef5665bc274c349918454289fc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46623WEVP6Z%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041759Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCQR69ElXTfgh0G9inX0erWMPRpZlV9okCmkWj9JwmmHAIge3fEfm8l%2BKzuERIXSngPPCGN8XyAP1HQbmE8iJRMVF0qiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOxTCXTU%2BfuQCY1GWyrcAyDW9jPvLaMdsBI%2FjoClYb1bcKWTtX5i8QjBeMo%2BuGD%2BcHFx5u%2BGbCfnvgBD1PgxNDV%2FxuWUj1LNaazps4K22V13yO1mntoXAis2As2qL9%2BgP5pd6nBC4wMk933Ak2g4bt545LNWlllXR0APEJxrhIAmGoPi9YGzarGejdrRNXvM0ddy5EqwGsimUCUYbhdgurn17gNcsFWQb5rADw2vb%2F0j1jk%2BHSHvUKYNwRSnBhqKshYnMPrLDf2L%2BFZTUbkcumCDP1RDUrFaxnQqzIeeqMrhHM7zgNtmDAVWrZHzVwLe%2BWbvKvCbM%2FCKFPfBk7UEYSPkWyVc1ySjm4sjvPThrsp5V0yHInynXl1uh%2BE2bAZmmjj5I1amyHHR%2B9EL2tjgekUP%2BgrOBzF91RKNpSbulyuF9XqEaO9gJchWWYaxEk30MgxRvB%2B642SS2xmx4znHCdVzpIn8ym6ZqcYHyvP4hyAwagzO1HpOr%2F2EbN2mJeg5kx7N41iJt%2F76onxC6ZR2UaO9e7d4XFGWw7ZFSs6vUGpb1IScAHaeZURh6QRi8kCeghdgMzDZbhKfqw0EaNHi4N9G1RUi%2BIyc1JAYD9vpms9R%2FJrXhVZ7%2FrxHNOleteABrfYcWk1ZvaKWxzLzMJCQwcsGOqUBmYgK0wV%2FiQilxuViLghpcTkrVuAbE6cDAu7bmq9GiM4QwNgXwuNQ84iY5cUsyMrbtDz5o%2Fty73ZTYcLdR15jk9Q29tson23aljDgiufWB3hhxHZS6w9KeXvPFVKD0djvKfeK27MvladUIP44NQPrJhXZjKqW38eh3UPP1VuHL%2BHxne9ItWzq3vSHraEXg1Dlp%2Bk%2BQamOWroXhw6GK0h9D3MJBNhW&X-Amz-Signature=8e1cc230c3f58ded54ea8a1bb182d8bc77429683b68afa5d8e9b0c7bac6904b6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46623WEVP6Z%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041759Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCQR69ElXTfgh0G9inX0erWMPRpZlV9okCmkWj9JwmmHAIge3fEfm8l%2BKzuERIXSngPPCGN8XyAP1HQbmE8iJRMVF0qiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOxTCXTU%2BfuQCY1GWyrcAyDW9jPvLaMdsBI%2FjoClYb1bcKWTtX5i8QjBeMo%2BuGD%2BcHFx5u%2BGbCfnvgBD1PgxNDV%2FxuWUj1LNaazps4K22V13yO1mntoXAis2As2qL9%2BgP5pd6nBC4wMk933Ak2g4bt545LNWlllXR0APEJxrhIAmGoPi9YGzarGejdrRNXvM0ddy5EqwGsimUCUYbhdgurn17gNcsFWQb5rADw2vb%2F0j1jk%2BHSHvUKYNwRSnBhqKshYnMPrLDf2L%2BFZTUbkcumCDP1RDUrFaxnQqzIeeqMrhHM7zgNtmDAVWrZHzVwLe%2BWbvKvCbM%2FCKFPfBk7UEYSPkWyVc1ySjm4sjvPThrsp5V0yHInynXl1uh%2BE2bAZmmjj5I1amyHHR%2B9EL2tjgekUP%2BgrOBzF91RKNpSbulyuF9XqEaO9gJchWWYaxEk30MgxRvB%2B642SS2xmx4znHCdVzpIn8ym6ZqcYHyvP4hyAwagzO1HpOr%2F2EbN2mJeg5kx7N41iJt%2F76onxC6ZR2UaO9e7d4XFGWw7ZFSs6vUGpb1IScAHaeZURh6QRi8kCeghdgMzDZbhKfqw0EaNHi4N9G1RUi%2BIyc1JAYD9vpms9R%2FJrXhVZ7%2FrxHNOleteABrfYcWk1ZvaKWxzLzMJCQwcsGOqUBmYgK0wV%2FiQilxuViLghpcTkrVuAbE6cDAu7bmq9GiM4QwNgXwuNQ84iY5cUsyMrbtDz5o%2Fty73ZTYcLdR15jk9Q29tson23aljDgiufWB3hhxHZS6w9KeXvPFVKD0djvKfeK27MvladUIP44NQPrJhXZjKqW38eh3UPP1VuHL%2BHxne9ItWzq3vSHraEXg1Dlp%2Bk%2BQamOWroXhw6GK0h9D3MJBNhW&X-Amz-Signature=7f0e9b1efc7e6a13f4a8bba06b9eb59aecfeb7795220d96f12efaba960220171&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

