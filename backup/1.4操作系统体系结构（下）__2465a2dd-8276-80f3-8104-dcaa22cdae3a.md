
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SNLGCQLU%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDESQ7ioqSmAo7EuucdqWNIdGv%2BCjiGrBzACaJQCLAPzAiB4QfpUy8u9ITLnzb8A3slgy4zfpehIhgABl3OZQzsDGSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMwFjVUWGWRyMy8GkRKtwDUs4D%2FNnGPLXeHmdKJGiScj1HoRbwj%2FfESYK2P7Lm%2BdPGfRQ%2FHzle9NcMOlTPy1CSjmZJi6l7dIOQnEoTfw3NsxM9wi%2FMD5huT6fSmMnuXOVeJzs4%2FgNeN8atrBGYKBgCKGSaUFYGN2zsVFBrg5JlGnnlhJxeEPLQqQVkAAlqnjjK7ruuTDPUe2LPoQh3787YlHhGak9vy71aEkFj4Qfo6%2BMKXCxt8Jd%2BYkh472enlIsy9zP3o5wgG%2BQSq9R%2FuuvWMmJSRcdRaJJ6jgkvgWokBHya6k8e7Ye9g8VtQbJf56Tl6CNwxSxVauDxHqromoWJK7zFzs3cRZ9iqubAX3DVYrleQphH%2F64xAUT5UwSixMfmmDnZUXoUJn0CPgm%2BRhOMvexpl4TomBEdjCq%2BfxxTbCVpVesxNQGywt7NZ%2FKKvSV0B1tTvEdI%2FtkthxL13IOSW71o2Rot9FX2w%2Baa%2Foc%2BamyxV3cYNr3gI3tHoKkKFJqWBCS%2FVNn7bHm%2B6fmE8wSb%2B6S%2FEZGf8d5fJna5MXpBtIMycDLUoSsrw3fNzdfXWbyfaXfv3iHJ3Z66wm4oQLSbtsUensPOILI6VkDlVkQE%2BCqxSdklyWwBS8NPOLaIXrMZ%2BTcYPByX%2F1oKfZEwhJ%2BoygY6pgFe206e%2BZvfbhwukh5sxxUroRW8p%2BgeNCNMA7LfFjQNY5QboPsvwAc7%2BFvVRD9lxLVTM6g6L4MNaPY6q8VwtWz6fVN%2FpT9XX%2B3fHTuBPlPRG6kyaZiIG1j%2BxgP53%2BEHpDlHgIck2t3YwQa%2FzzIcqSyWE3PACDNZYhiJfBc%2FXiJ%2F%2Ba8n0880xRAMx3VYVTKGnB7PQj5oX7F2mDgUGC%2BEoappmHXI9M7M&X-Amz-Signature=a1c52a8c7cacafc17e40beb2f1abf3ba31a7a4388460bf79c0a9046771a8b2c3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SNLGCQLU%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDESQ7ioqSmAo7EuucdqWNIdGv%2BCjiGrBzACaJQCLAPzAiB4QfpUy8u9ITLnzb8A3slgy4zfpehIhgABl3OZQzsDGSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMwFjVUWGWRyMy8GkRKtwDUs4D%2FNnGPLXeHmdKJGiScj1HoRbwj%2FfESYK2P7Lm%2BdPGfRQ%2FHzle9NcMOlTPy1CSjmZJi6l7dIOQnEoTfw3NsxM9wi%2FMD5huT6fSmMnuXOVeJzs4%2FgNeN8atrBGYKBgCKGSaUFYGN2zsVFBrg5JlGnnlhJxeEPLQqQVkAAlqnjjK7ruuTDPUe2LPoQh3787YlHhGak9vy71aEkFj4Qfo6%2BMKXCxt8Jd%2BYkh472enlIsy9zP3o5wgG%2BQSq9R%2FuuvWMmJSRcdRaJJ6jgkvgWokBHya6k8e7Ye9g8VtQbJf56Tl6CNwxSxVauDxHqromoWJK7zFzs3cRZ9iqubAX3DVYrleQphH%2F64xAUT5UwSixMfmmDnZUXoUJn0CPgm%2BRhOMvexpl4TomBEdjCq%2BfxxTbCVpVesxNQGywt7NZ%2FKKvSV0B1tTvEdI%2FtkthxL13IOSW71o2Rot9FX2w%2Baa%2Foc%2BamyxV3cYNr3gI3tHoKkKFJqWBCS%2FVNn7bHm%2B6fmE8wSb%2B6S%2FEZGf8d5fJna5MXpBtIMycDLUoSsrw3fNzdfXWbyfaXfv3iHJ3Z66wm4oQLSbtsUensPOILI6VkDlVkQE%2BCqxSdklyWwBS8NPOLaIXrMZ%2BTcYPByX%2F1oKfZEwhJ%2BoygY6pgFe206e%2BZvfbhwukh5sxxUroRW8p%2BgeNCNMA7LfFjQNY5QboPsvwAc7%2BFvVRD9lxLVTM6g6L4MNaPY6q8VwtWz6fVN%2FpT9XX%2B3fHTuBPlPRG6kyaZiIG1j%2BxgP53%2BEHpDlHgIck2t3YwQa%2FzzIcqSyWE3PACDNZYhiJfBc%2FXiJ%2F%2Ba8n0880xRAMx3VYVTKGnB7PQj5oX7F2mDgUGC%2BEoappmHXI9M7M&X-Amz-Signature=bd98c2b5b1b36bcebcc36623b44793d356be910fe950ddfb7461c63805ec3b66&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SNLGCQLU%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDESQ7ioqSmAo7EuucdqWNIdGv%2BCjiGrBzACaJQCLAPzAiB4QfpUy8u9ITLnzb8A3slgy4zfpehIhgABl3OZQzsDGSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMwFjVUWGWRyMy8GkRKtwDUs4D%2FNnGPLXeHmdKJGiScj1HoRbwj%2FfESYK2P7Lm%2BdPGfRQ%2FHzle9NcMOlTPy1CSjmZJi6l7dIOQnEoTfw3NsxM9wi%2FMD5huT6fSmMnuXOVeJzs4%2FgNeN8atrBGYKBgCKGSaUFYGN2zsVFBrg5JlGnnlhJxeEPLQqQVkAAlqnjjK7ruuTDPUe2LPoQh3787YlHhGak9vy71aEkFj4Qfo6%2BMKXCxt8Jd%2BYkh472enlIsy9zP3o5wgG%2BQSq9R%2FuuvWMmJSRcdRaJJ6jgkvgWokBHya6k8e7Ye9g8VtQbJf56Tl6CNwxSxVauDxHqromoWJK7zFzs3cRZ9iqubAX3DVYrleQphH%2F64xAUT5UwSixMfmmDnZUXoUJn0CPgm%2BRhOMvexpl4TomBEdjCq%2BfxxTbCVpVesxNQGywt7NZ%2FKKvSV0B1tTvEdI%2FtkthxL13IOSW71o2Rot9FX2w%2Baa%2Foc%2BamyxV3cYNr3gI3tHoKkKFJqWBCS%2FVNn7bHm%2B6fmE8wSb%2B6S%2FEZGf8d5fJna5MXpBtIMycDLUoSsrw3fNzdfXWbyfaXfv3iHJ3Z66wm4oQLSbtsUensPOILI6VkDlVkQE%2BCqxSdklyWwBS8NPOLaIXrMZ%2BTcYPByX%2F1oKfZEwhJ%2BoygY6pgFe206e%2BZvfbhwukh5sxxUroRW8p%2BgeNCNMA7LfFjQNY5QboPsvwAc7%2BFvVRD9lxLVTM6g6L4MNaPY6q8VwtWz6fVN%2FpT9XX%2B3fHTuBPlPRG6kyaZiIG1j%2BxgP53%2BEHpDlHgIck2t3YwQa%2FzzIcqSyWE3PACDNZYhiJfBc%2FXiJ%2F%2Ba8n0880xRAMx3VYVTKGnB7PQj5oX7F2mDgUGC%2BEoappmHXI9M7M&X-Amz-Signature=ba6b7d475930b45c0184a2f8ce5aeb18144914d10c46453e12e055f95006bb85&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

