
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RWGITV5E%2F20251220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251220T035611Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHCbTv%2BYEiIKdMY10ntzXuQkwyOk6nFB912m9YAqOi0lAiEAi3Me4pWFkUeiXs%2Fu0NLt3u1MI3DpI%2BWwuXx%2BdQXaRooqiAQIvP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBrqx7er%2BobVjUUfWyrcA5g%2BDCCZamSsLJYa%2BlFEZ4%2BGUyWDkUB6iZoCu24IZY6iiZngJYrNyynGvrBnEkphZhdcDADPmcnWdZyDoC24gzux7Epf9p0VzxexVRLHB%2FPeqqCPI3KHflYrZNdNHgWQq5DXcUSq9VwGvPEutrSopfoIvyhKf57ONny8VhBB3YGh%2FGyCmGtBz89QkjYIopZszt1Bmfh5yvsGT8LwiFdItGcge5mg5W66NapVUGFq6%2BjOVLd93UWGJbcBdUdadrL8JbreKKUpdbyBRjxrWbpXMbNrjdSgX25YtjXogdcp5Hnf4trgEzaC5ESKaMF3JmL6nvoDRKLH0ByCXg0SIt5Vf%2BfBigvB%2FUcBw0TW0VtLM9Z%2FyzvaF3PI5FyzHTuVf4EoNXMxBOWOJvLoxtOhsyrsU8x8mNbAoFmOL3sC0kLJMZqMAvjVcPIEU6kRBkct5ZgMW%2Bun6trsNsqAQwCR%2B4I2%2FRXN%2B2SKWleAfJx5oG08x3JA6uZpMrJ%2Ba2XWjnNJc5XCCRjYZTNyiuytTH5Icg11%2BgG17BrQRjM7VxRoo3HuNr49TrYH%2BEdJcJvNhcLh4qFTS3Y2iqezYbyDD3kF3S1oa2OBWN%2BNMsQSw7%2BzC4o6MaJooK5m%2FMyh9EGravNYMMKrmMoGOqUBAC5N2ii7nl2XiMqo79uHC%2BaDAQ2xiu6RgVxsAgqH1N2dDzinw2haOdPXDhd1Tft9Jewqvmrq9A6PsrrLY7LDbBuZzA2a%2B5mKfuosvs4itDI4rGKqk78T%2B5A81byOryECb4UVnh8jZzVUcxFAmraUsCrgLWto9H%2F4MQHSQ5CXgSYf3YsHuUn7AipMLH044T69y3SokcetG9EjAJkDPqqWvmpH65p%2F&X-Amz-Signature=585d6aaf7d11ec0c180dcfc515f5aa83f58345390ebd1f68013080d82a327093&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RWGITV5E%2F20251220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251220T035611Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHCbTv%2BYEiIKdMY10ntzXuQkwyOk6nFB912m9YAqOi0lAiEAi3Me4pWFkUeiXs%2Fu0NLt3u1MI3DpI%2BWwuXx%2BdQXaRooqiAQIvP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBrqx7er%2BobVjUUfWyrcA5g%2BDCCZamSsLJYa%2BlFEZ4%2BGUyWDkUB6iZoCu24IZY6iiZngJYrNyynGvrBnEkphZhdcDADPmcnWdZyDoC24gzux7Epf9p0VzxexVRLHB%2FPeqqCPI3KHflYrZNdNHgWQq5DXcUSq9VwGvPEutrSopfoIvyhKf57ONny8VhBB3YGh%2FGyCmGtBz89QkjYIopZszt1Bmfh5yvsGT8LwiFdItGcge5mg5W66NapVUGFq6%2BjOVLd93UWGJbcBdUdadrL8JbreKKUpdbyBRjxrWbpXMbNrjdSgX25YtjXogdcp5Hnf4trgEzaC5ESKaMF3JmL6nvoDRKLH0ByCXg0SIt5Vf%2BfBigvB%2FUcBw0TW0VtLM9Z%2FyzvaF3PI5FyzHTuVf4EoNXMxBOWOJvLoxtOhsyrsU8x8mNbAoFmOL3sC0kLJMZqMAvjVcPIEU6kRBkct5ZgMW%2Bun6trsNsqAQwCR%2B4I2%2FRXN%2B2SKWleAfJx5oG08x3JA6uZpMrJ%2Ba2XWjnNJc5XCCRjYZTNyiuytTH5Icg11%2BgG17BrQRjM7VxRoo3HuNr49TrYH%2BEdJcJvNhcLh4qFTS3Y2iqezYbyDD3kF3S1oa2OBWN%2BNMsQSw7%2BzC4o6MaJooK5m%2FMyh9EGravNYMMKrmMoGOqUBAC5N2ii7nl2XiMqo79uHC%2BaDAQ2xiu6RgVxsAgqH1N2dDzinw2haOdPXDhd1Tft9Jewqvmrq9A6PsrrLY7LDbBuZzA2a%2B5mKfuosvs4itDI4rGKqk78T%2B5A81byOryECb4UVnh8jZzVUcxFAmraUsCrgLWto9H%2F4MQHSQ5CXgSYf3YsHuUn7AipMLH044T69y3SokcetG9EjAJkDPqqWvmpH65p%2F&X-Amz-Signature=6618ad65ed69b4ec29dad105f1bee4d9202a19b23488eb983a58ce41e07d169c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RWGITV5E%2F20251220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251220T035611Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHCbTv%2BYEiIKdMY10ntzXuQkwyOk6nFB912m9YAqOi0lAiEAi3Me4pWFkUeiXs%2Fu0NLt3u1MI3DpI%2BWwuXx%2BdQXaRooqiAQIvP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBrqx7er%2BobVjUUfWyrcA5g%2BDCCZamSsLJYa%2BlFEZ4%2BGUyWDkUB6iZoCu24IZY6iiZngJYrNyynGvrBnEkphZhdcDADPmcnWdZyDoC24gzux7Epf9p0VzxexVRLHB%2FPeqqCPI3KHflYrZNdNHgWQq5DXcUSq9VwGvPEutrSopfoIvyhKf57ONny8VhBB3YGh%2FGyCmGtBz89QkjYIopZszt1Bmfh5yvsGT8LwiFdItGcge5mg5W66NapVUGFq6%2BjOVLd93UWGJbcBdUdadrL8JbreKKUpdbyBRjxrWbpXMbNrjdSgX25YtjXogdcp5Hnf4trgEzaC5ESKaMF3JmL6nvoDRKLH0ByCXg0SIt5Vf%2BfBigvB%2FUcBw0TW0VtLM9Z%2FyzvaF3PI5FyzHTuVf4EoNXMxBOWOJvLoxtOhsyrsU8x8mNbAoFmOL3sC0kLJMZqMAvjVcPIEU6kRBkct5ZgMW%2Bun6trsNsqAQwCR%2B4I2%2FRXN%2B2SKWleAfJx5oG08x3JA6uZpMrJ%2Ba2XWjnNJc5XCCRjYZTNyiuytTH5Icg11%2BgG17BrQRjM7VxRoo3HuNr49TrYH%2BEdJcJvNhcLh4qFTS3Y2iqezYbyDD3kF3S1oa2OBWN%2BNMsQSw7%2BzC4o6MaJooK5m%2FMyh9EGravNYMMKrmMoGOqUBAC5N2ii7nl2XiMqo79uHC%2BaDAQ2xiu6RgVxsAgqH1N2dDzinw2haOdPXDhd1Tft9Jewqvmrq9A6PsrrLY7LDbBuZzA2a%2B5mKfuosvs4itDI4rGKqk78T%2B5A81byOryECb4UVnh8jZzVUcxFAmraUsCrgLWto9H%2F4MQHSQ5CXgSYf3YsHuUn7AipMLH044T69y3SokcetG9EjAJkDPqqWvmpH65p%2F&X-Amz-Signature=62f1126829d9b505aa18d872b2f6b7c40d170d34a05a813e7be0aac7bffc10bf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

