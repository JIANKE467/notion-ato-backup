
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RRX5WUQX%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042040Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIAMGMio7rl9FH5PzalNxf9cWaEWxvHfvxR94VW0aid1EAiBbQTPgMS23MFl13UGBU7uJKwdMXFixnDtXKgK3hzAUxSqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2F0YpqW8hd0vzuSYVKtwDBSWKSTl3FAQFlp7O26a7d30odp5%2BKUItLJkq12Kt5OtI%2BHOtl5TPcOswrnRvFIdzBaJeCCsBVIgt29SgdmGih6waYsT5YyME6wsd17JDGKb0CMpnDQ9V3xJfCmzLZrAN3eZD3GdkvLoSjDPOjhpAqOWsoSpCwUtjil2uQUw1aKTfNj6XOpNdGd22MdPmocHEKjjiYN8UzYNGvHNE49bH%2B9lPqP3P9R9NKd1OplOsqSd6ass5YP7Gs3Uvg5yXPsQ6EwTlNt8ciiD3vUDY1lvRYt7xU1qGQoS9UWIFHzlhVgpqGU5fZXzS%2FVY2Ngt1vUJi%2FfP9dAuOWvSAKDXSN%2F5V3Q5geAnclZx9msqtsAlRM69Cov83FeA3ebl9BnxFIIU3x1HUoqMOAy62AnTVIUGb86Oenu%2BdXyDyXGLnODouYnxDwsYX89pJvAH0OIxlrOvNx4C3SosViVGP11DaAKQhCqR%2FjDUS4oPmeg7bOms9gW0YMH0g4w6CCDVif570BbkgpoMO32fRWpQJFB4GjSHCFbGvHDEH3QwmJn%2Fu54oD4vLNXWwOyAwWKdV3E7ZsI2%2BTdYMC%2FW2xe%2BLZAki9ezLnQEp7iEjrG85znv8kXaq31fWdi2wB3D6LFMibOjwwu8bGywY6pgHqfG9orq9hzN1PuiyJjcVEKKJuGy2sf8DRAw8SWe91IVRL28t2pb%2BRkcQNgeYFXo0athAc8YabaPEgQdrYXfEglzoG99RTR38Zom9MP2zI51I35wUA31Gwmfl8CKV9sz2K42vu3kz1AGa0cxPgPNT3ExcEkfnnV0ByBevS5s%2Byj0LSmH3RcDtNHTzihrj6ZuQPdlVlPDY3jYmM72PbxRTk7S163gpU&X-Amz-Signature=dcc4e315d2c158bd097ed2af0e3ed075b1a4dda937ce7a51aed15225b3adfa1d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RRX5WUQX%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042040Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIAMGMio7rl9FH5PzalNxf9cWaEWxvHfvxR94VW0aid1EAiBbQTPgMS23MFl13UGBU7uJKwdMXFixnDtXKgK3hzAUxSqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2F0YpqW8hd0vzuSYVKtwDBSWKSTl3FAQFlp7O26a7d30odp5%2BKUItLJkq12Kt5OtI%2BHOtl5TPcOswrnRvFIdzBaJeCCsBVIgt29SgdmGih6waYsT5YyME6wsd17JDGKb0CMpnDQ9V3xJfCmzLZrAN3eZD3GdkvLoSjDPOjhpAqOWsoSpCwUtjil2uQUw1aKTfNj6XOpNdGd22MdPmocHEKjjiYN8UzYNGvHNE49bH%2B9lPqP3P9R9NKd1OplOsqSd6ass5YP7Gs3Uvg5yXPsQ6EwTlNt8ciiD3vUDY1lvRYt7xU1qGQoS9UWIFHzlhVgpqGU5fZXzS%2FVY2Ngt1vUJi%2FfP9dAuOWvSAKDXSN%2F5V3Q5geAnclZx9msqtsAlRM69Cov83FeA3ebl9BnxFIIU3x1HUoqMOAy62AnTVIUGb86Oenu%2BdXyDyXGLnODouYnxDwsYX89pJvAH0OIxlrOvNx4C3SosViVGP11DaAKQhCqR%2FjDUS4oPmeg7bOms9gW0YMH0g4w6CCDVif570BbkgpoMO32fRWpQJFB4GjSHCFbGvHDEH3QwmJn%2Fu54oD4vLNXWwOyAwWKdV3E7ZsI2%2BTdYMC%2FW2xe%2BLZAki9ezLnQEp7iEjrG85znv8kXaq31fWdi2wB3D6LFMibOjwwu8bGywY6pgHqfG9orq9hzN1PuiyJjcVEKKJuGy2sf8DRAw8SWe91IVRL28t2pb%2BRkcQNgeYFXo0athAc8YabaPEgQdrYXfEglzoG99RTR38Zom9MP2zI51I35wUA31Gwmfl8CKV9sz2K42vu3kz1AGa0cxPgPNT3ExcEkfnnV0ByBevS5s%2Byj0LSmH3RcDtNHTzihrj6ZuQPdlVlPDY3jYmM72PbxRTk7S163gpU&X-Amz-Signature=85028dfb7c7c1e3a29776bf685d102ce77a8bd71ece0f81e77eea0b2a2de51de&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RRX5WUQX%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042040Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIAMGMio7rl9FH5PzalNxf9cWaEWxvHfvxR94VW0aid1EAiBbQTPgMS23MFl13UGBU7uJKwdMXFixnDtXKgK3hzAUxSqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2F0YpqW8hd0vzuSYVKtwDBSWKSTl3FAQFlp7O26a7d30odp5%2BKUItLJkq12Kt5OtI%2BHOtl5TPcOswrnRvFIdzBaJeCCsBVIgt29SgdmGih6waYsT5YyME6wsd17JDGKb0CMpnDQ9V3xJfCmzLZrAN3eZD3GdkvLoSjDPOjhpAqOWsoSpCwUtjil2uQUw1aKTfNj6XOpNdGd22MdPmocHEKjjiYN8UzYNGvHNE49bH%2B9lPqP3P9R9NKd1OplOsqSd6ass5YP7Gs3Uvg5yXPsQ6EwTlNt8ciiD3vUDY1lvRYt7xU1qGQoS9UWIFHzlhVgpqGU5fZXzS%2FVY2Ngt1vUJi%2FfP9dAuOWvSAKDXSN%2F5V3Q5geAnclZx9msqtsAlRM69Cov83FeA3ebl9BnxFIIU3x1HUoqMOAy62AnTVIUGb86Oenu%2BdXyDyXGLnODouYnxDwsYX89pJvAH0OIxlrOvNx4C3SosViVGP11DaAKQhCqR%2FjDUS4oPmeg7bOms9gW0YMH0g4w6CCDVif570BbkgpoMO32fRWpQJFB4GjSHCFbGvHDEH3QwmJn%2Fu54oD4vLNXWwOyAwWKdV3E7ZsI2%2BTdYMC%2FW2xe%2BLZAki9ezLnQEp7iEjrG85znv8kXaq31fWdi2wB3D6LFMibOjwwu8bGywY6pgHqfG9orq9hzN1PuiyJjcVEKKJuGy2sf8DRAw8SWe91IVRL28t2pb%2BRkcQNgeYFXo0athAc8YabaPEgQdrYXfEglzoG99RTR38Zom9MP2zI51I35wUA31Gwmfl8CKV9sz2K42vu3kz1AGa0cxPgPNT3ExcEkfnnV0ByBevS5s%2Byj0LSmH3RcDtNHTzihrj6ZuQPdlVlPDY3jYmM72PbxRTk7S163gpU&X-Amz-Signature=05fefd88c900211dbf7a1aeed49a099ab635912babfd7c9e11fc167a36255cce&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

