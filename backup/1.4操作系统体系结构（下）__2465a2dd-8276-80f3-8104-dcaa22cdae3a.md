
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663METI45I%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040358Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJGMEQCICVR89nr5%2BRkmkjS6IqNYAA1TmMJkPAkUvU%2BigmbOdYsAiBts92Hr9dOPYWLCWAaAjfJGvAWuB8mrfWOgxpVfHeL2SqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3b%2BdcugV7dgPj5HFKtwDibroPeXttsQgEd6IHzj%2BBJGxnYSKhGd0meHqO4nIDvHNVhqUQfxy4F%2BFK5ok1oNEqSlF8maKHoGRn4jGTAmXAW18nX2tdaPWP8pdO%2FrF%2FO%2BsL4gZy1%2Fyca%2FIywZPAXVvilyfERaHRdYPGIxji8NJwm186%2FRin5vlk826zYfkAzLDxQ92az1IN1%2BKo37zOmiYaVFgtjj1uYuJivlACqmAc6oOuBUIWXfmkAkkZQCVy2QIMy8NYGo439xNIx3pk7wSCPBHCF%2FHvtFHThDZk4UQYfTWJ%2FkajJPqLJzKQC2MtvC11N%2Fao%2B0sBjfXlJhRQqu7XcszVa0mrHT3qLKR6f3nFxuFi6%2F7ybID%2FYUUVYVrcebS6KwWRwbucKwy1aHvmjMLzcxw8H9VGxDPc7t%2FYvVfpIiyy%2BwB%2FVHrDXhrhSY4U0aYfCh8LBjP8Gu67UsAbzPiuNSosXarloAJP4QWnsDFOWgsb5UtXftIDM%2BONv9KzR7TbKleHeZO7RnBAAjWAM%2BQUTJBYo7uQYUScPEdNA0ZbmCZoflQslILJFa1X1qLeANvdyh%2FOdOHGXdZC85dJcF1%2BfsUdMvVgh9PEO0ADjIhHU4VRI2J6Uoz2L3i%2F5uGDogHhlmqZE%2B2xki9LpkwnsrjyQY6pgHWJjV0RqXhPVPIoOR%2Fh6Ex6EUi3I%2B4ydKVDIx6jJa4ZqyxjsvwK39xJZoCp%2FlQ%2BBFmCU%2BQwsK6LeXhTsYbLXr%2BPYevV8%2F9jA4Ffl6Zc65DRoz%2FD8WxdAmDqF9%2FE3DiluwjX31OBwkZ%2Betd1EgRu9OKOf%2Fa8PXjqc6hdS4TnGWXZgBdEIETYsH95o6KSym7KB8cGf2ZbwlEixKwVxsgOKdCy%2BVQxVdR&X-Amz-Signature=67bb2deb8fcc308ef209f11fb41e768368265e5792596fc8d2e880c5f1b10e4e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663METI45I%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040358Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJGMEQCICVR89nr5%2BRkmkjS6IqNYAA1TmMJkPAkUvU%2BigmbOdYsAiBts92Hr9dOPYWLCWAaAjfJGvAWuB8mrfWOgxpVfHeL2SqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3b%2BdcugV7dgPj5HFKtwDibroPeXttsQgEd6IHzj%2BBJGxnYSKhGd0meHqO4nIDvHNVhqUQfxy4F%2BFK5ok1oNEqSlF8maKHoGRn4jGTAmXAW18nX2tdaPWP8pdO%2FrF%2FO%2BsL4gZy1%2Fyca%2FIywZPAXVvilyfERaHRdYPGIxji8NJwm186%2FRin5vlk826zYfkAzLDxQ92az1IN1%2BKo37zOmiYaVFgtjj1uYuJivlACqmAc6oOuBUIWXfmkAkkZQCVy2QIMy8NYGo439xNIx3pk7wSCPBHCF%2FHvtFHThDZk4UQYfTWJ%2FkajJPqLJzKQC2MtvC11N%2Fao%2B0sBjfXlJhRQqu7XcszVa0mrHT3qLKR6f3nFxuFi6%2F7ybID%2FYUUVYVrcebS6KwWRwbucKwy1aHvmjMLzcxw8H9VGxDPc7t%2FYvVfpIiyy%2BwB%2FVHrDXhrhSY4U0aYfCh8LBjP8Gu67UsAbzPiuNSosXarloAJP4QWnsDFOWgsb5UtXftIDM%2BONv9KzR7TbKleHeZO7RnBAAjWAM%2BQUTJBYo7uQYUScPEdNA0ZbmCZoflQslILJFa1X1qLeANvdyh%2FOdOHGXdZC85dJcF1%2BfsUdMvVgh9PEO0ADjIhHU4VRI2J6Uoz2L3i%2F5uGDogHhlmqZE%2B2xki9LpkwnsrjyQY6pgHWJjV0RqXhPVPIoOR%2Fh6Ex6EUi3I%2B4ydKVDIx6jJa4ZqyxjsvwK39xJZoCp%2FlQ%2BBFmCU%2BQwsK6LeXhTsYbLXr%2BPYevV8%2F9jA4Ffl6Zc65DRoz%2FD8WxdAmDqF9%2FE3DiluwjX31OBwkZ%2Betd1EgRu9OKOf%2Fa8PXjqc6hdS4TnGWXZgBdEIETYsH95o6KSym7KB8cGf2ZbwlEixKwVxsgOKdCy%2BVQxVdR&X-Amz-Signature=a68455a9fecfd51a65c9c82f77c015926ed093bfa4130caf070d12bc8feb4d4d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663METI45I%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040358Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJGMEQCICVR89nr5%2BRkmkjS6IqNYAA1TmMJkPAkUvU%2BigmbOdYsAiBts92Hr9dOPYWLCWAaAjfJGvAWuB8mrfWOgxpVfHeL2SqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3b%2BdcugV7dgPj5HFKtwDibroPeXttsQgEd6IHzj%2BBJGxnYSKhGd0meHqO4nIDvHNVhqUQfxy4F%2BFK5ok1oNEqSlF8maKHoGRn4jGTAmXAW18nX2tdaPWP8pdO%2FrF%2FO%2BsL4gZy1%2Fyca%2FIywZPAXVvilyfERaHRdYPGIxji8NJwm186%2FRin5vlk826zYfkAzLDxQ92az1IN1%2BKo37zOmiYaVFgtjj1uYuJivlACqmAc6oOuBUIWXfmkAkkZQCVy2QIMy8NYGo439xNIx3pk7wSCPBHCF%2FHvtFHThDZk4UQYfTWJ%2FkajJPqLJzKQC2MtvC11N%2Fao%2B0sBjfXlJhRQqu7XcszVa0mrHT3qLKR6f3nFxuFi6%2F7ybID%2FYUUVYVrcebS6KwWRwbucKwy1aHvmjMLzcxw8H9VGxDPc7t%2FYvVfpIiyy%2BwB%2FVHrDXhrhSY4U0aYfCh8LBjP8Gu67UsAbzPiuNSosXarloAJP4QWnsDFOWgsb5UtXftIDM%2BONv9KzR7TbKleHeZO7RnBAAjWAM%2BQUTJBYo7uQYUScPEdNA0ZbmCZoflQslILJFa1X1qLeANvdyh%2FOdOHGXdZC85dJcF1%2BfsUdMvVgh9PEO0ADjIhHU4VRI2J6Uoz2L3i%2F5uGDogHhlmqZE%2B2xki9LpkwnsrjyQY6pgHWJjV0RqXhPVPIoOR%2Fh6Ex6EUi3I%2B4ydKVDIx6jJa4ZqyxjsvwK39xJZoCp%2FlQ%2BBFmCU%2BQwsK6LeXhTsYbLXr%2BPYevV8%2F9jA4Ffl6Zc65DRoz%2FD8WxdAmDqF9%2FE3DiluwjX31OBwkZ%2Betd1EgRu9OKOf%2Fa8PXjqc6hdS4TnGWXZgBdEIETYsH95o6KSym7KB8cGf2ZbwlEixKwVxsgOKdCy%2BVQxVdR&X-Amz-Signature=b4751ddd8e18a5a22487d143475952dda123da05988f523c883a122a9e9c7acd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

