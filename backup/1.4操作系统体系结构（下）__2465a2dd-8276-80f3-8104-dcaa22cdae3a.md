
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663B65LERL%2F20251213%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251213T035611Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIHgQfg%2BC1f%2BPLP5X18N4IBAvLPaKONK7dfrThgO2dD7WAiBjIFBmqEe660OSM%2B6GpDy4IsfrPx%2FBbBR4eFjw%2Bf8gaCr%2FAwgUEAAaDDYzNzQyMzE4MzgwNSIMJfEYFkUaTup892SgKtwDqvKsQhPY0NZ0gxwiP%2Bm9jjI599M9w3R0XpnRoJgjJ9G42JJIRTmpmq7Npj4%2BQpswhcPblEvQTDSK8%2FTRmuh1YbqNiCqtEsxAzaJByTp4RfWv01xtdE4OL04eL75yjiqFzUXEw2bTextWaW3Zj1MkzvbUNxPeMvZlYap69vQ5AzaoS97XFmpkJ9LA%2BKNHQ77nNK39gIqVWYQoKXtBEBwjXS4CO%2FHdH77C5k9sYPw7Do3jE7lvNVov4R1Ath7SiDNn8i3hVB1iIRQrKH78ItKmzQwBhftuzlDApLiULFecL55RdlfsRr0tm%2BnRbb8we6W4KwBLIjdkpJPEr2sdT%2BQgVnCwrHUddc0WK7bb7rxmhn1DUuPFIB%2FinMDLJeWYambqN99Sd1HIbDrx4xxvC%2BO1aLfQ9FWSXOfh3ASQz3tPieHqb273UED7GJZnADuHW2QOTHm0lEdn39ozLNJ1BufEFSN4AgQFLHE%2Fi4neWhhISOijzaEhfEJG6rRmFHAM%2BW3vnsxhw%2FixmeT%2Bd9QSVMwPvglW58BHhFUrH1soyAsAmUrDIgrv1hTvlxR%2FTfjTObiHnEd6n2hvv%2F%2FrrVyelpZoaxn4gkFSpCDVvcrtxWH0mkV9%2BWWeU0aKlMV2748w3rfzyQY6pgGLaQe5wbfoY5rR805r5HfFQe%2BeWFsAgqAr8kgelCwh4S3MwF3uDs%2FUUwYJmvB9RDva%2FxRyUizX2KlWVmHCoEstsvqqMfn1jnJCVGWJ7s3vgApg2W%2B%2BoPodyK%2BklY0id92dWrniEZdMlQ7fA8HcBqLQpYzEYj0prfEV%2FtYkzX6a3PCDgPF7tcJKWhl6Nuam0fhZ%2FwD%2BH3sXtFq4v861w4%2BnEnod715y&X-Amz-Signature=e8f5569096518af8c5fd8e9851d66e32ecfcea667333f6d985ea27b6a226542d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663B65LERL%2F20251213%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251213T035611Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIHgQfg%2BC1f%2BPLP5X18N4IBAvLPaKONK7dfrThgO2dD7WAiBjIFBmqEe660OSM%2B6GpDy4IsfrPx%2FBbBR4eFjw%2Bf8gaCr%2FAwgUEAAaDDYzNzQyMzE4MzgwNSIMJfEYFkUaTup892SgKtwDqvKsQhPY0NZ0gxwiP%2Bm9jjI599M9w3R0XpnRoJgjJ9G42JJIRTmpmq7Npj4%2BQpswhcPblEvQTDSK8%2FTRmuh1YbqNiCqtEsxAzaJByTp4RfWv01xtdE4OL04eL75yjiqFzUXEw2bTextWaW3Zj1MkzvbUNxPeMvZlYap69vQ5AzaoS97XFmpkJ9LA%2BKNHQ77nNK39gIqVWYQoKXtBEBwjXS4CO%2FHdH77C5k9sYPw7Do3jE7lvNVov4R1Ath7SiDNn8i3hVB1iIRQrKH78ItKmzQwBhftuzlDApLiULFecL55RdlfsRr0tm%2BnRbb8we6W4KwBLIjdkpJPEr2sdT%2BQgVnCwrHUddc0WK7bb7rxmhn1DUuPFIB%2FinMDLJeWYambqN99Sd1HIbDrx4xxvC%2BO1aLfQ9FWSXOfh3ASQz3tPieHqb273UED7GJZnADuHW2QOTHm0lEdn39ozLNJ1BufEFSN4AgQFLHE%2Fi4neWhhISOijzaEhfEJG6rRmFHAM%2BW3vnsxhw%2FixmeT%2Bd9QSVMwPvglW58BHhFUrH1soyAsAmUrDIgrv1hTvlxR%2FTfjTObiHnEd6n2hvv%2F%2FrrVyelpZoaxn4gkFSpCDVvcrtxWH0mkV9%2BWWeU0aKlMV2748w3rfzyQY6pgGLaQe5wbfoY5rR805r5HfFQe%2BeWFsAgqAr8kgelCwh4S3MwF3uDs%2FUUwYJmvB9RDva%2FxRyUizX2KlWVmHCoEstsvqqMfn1jnJCVGWJ7s3vgApg2W%2B%2BoPodyK%2BklY0id92dWrniEZdMlQ7fA8HcBqLQpYzEYj0prfEV%2FtYkzX6a3PCDgPF7tcJKWhl6Nuam0fhZ%2FwD%2BH3sXtFq4v861w4%2BnEnod715y&X-Amz-Signature=3592113988b1103d2cbdfcf0171cf6ad6d75d845a88fe25b0e2b242cfaa4bbc0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663B65LERL%2F20251213%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251213T035611Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIHgQfg%2BC1f%2BPLP5X18N4IBAvLPaKONK7dfrThgO2dD7WAiBjIFBmqEe660OSM%2B6GpDy4IsfrPx%2FBbBR4eFjw%2Bf8gaCr%2FAwgUEAAaDDYzNzQyMzE4MzgwNSIMJfEYFkUaTup892SgKtwDqvKsQhPY0NZ0gxwiP%2Bm9jjI599M9w3R0XpnRoJgjJ9G42JJIRTmpmq7Npj4%2BQpswhcPblEvQTDSK8%2FTRmuh1YbqNiCqtEsxAzaJByTp4RfWv01xtdE4OL04eL75yjiqFzUXEw2bTextWaW3Zj1MkzvbUNxPeMvZlYap69vQ5AzaoS97XFmpkJ9LA%2BKNHQ77nNK39gIqVWYQoKXtBEBwjXS4CO%2FHdH77C5k9sYPw7Do3jE7lvNVov4R1Ath7SiDNn8i3hVB1iIRQrKH78ItKmzQwBhftuzlDApLiULFecL55RdlfsRr0tm%2BnRbb8we6W4KwBLIjdkpJPEr2sdT%2BQgVnCwrHUddc0WK7bb7rxmhn1DUuPFIB%2FinMDLJeWYambqN99Sd1HIbDrx4xxvC%2BO1aLfQ9FWSXOfh3ASQz3tPieHqb273UED7GJZnADuHW2QOTHm0lEdn39ozLNJ1BufEFSN4AgQFLHE%2Fi4neWhhISOijzaEhfEJG6rRmFHAM%2BW3vnsxhw%2FixmeT%2Bd9QSVMwPvglW58BHhFUrH1soyAsAmUrDIgrv1hTvlxR%2FTfjTObiHnEd6n2hvv%2F%2FrrVyelpZoaxn4gkFSpCDVvcrtxWH0mkV9%2BWWeU0aKlMV2748w3rfzyQY6pgGLaQe5wbfoY5rR805r5HfFQe%2BeWFsAgqAr8kgelCwh4S3MwF3uDs%2FUUwYJmvB9RDva%2FxRyUizX2KlWVmHCoEstsvqqMfn1jnJCVGWJ7s3vgApg2W%2B%2BoPodyK%2BklY0id92dWrniEZdMlQ7fA8HcBqLQpYzEYj0prfEV%2FtYkzX6a3PCDgPF7tcJKWhl6Nuam0fhZ%2FwD%2BH3sXtFq4v861w4%2BnEnod715y&X-Amz-Signature=f32b45f0c1abe3d0006c85b4a97574d187a8eb384f8b5ffbdf5bce48c6206cb7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

