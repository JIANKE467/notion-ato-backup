
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMEPV7YR%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042327Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGCbfJNh%2B5HbBlUmog77hIKfTTyXjP91325DR%2FNa%2FrSJAiBU4QDucTDmiIZashO7IDuAaJaNnwfjTOOccpTBZgutyCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMExUsh50BIh%2BFiWbzKtwD274dqMgizrSqpj1k9661jA575n2i7DYduHclm9hQtXKB6Znb%2BzxS4Nz5akA5trrI6mdVohn5I9%2FGS7cORvmJeuWK7PPD61W6ZWxy7EmUyQCGxWh313hB5L%2FL0YxBHAZhxx9bkj%2BSa18A0cN20UN%2FZ41TgezXXi4XUPaNW76V0gqonnDKvtJn1mQ0oH%2BdaCDmJMnvGNNMyTlzXk7zIsMWNrCHd2VaIs85EBSOYGK8mSHgmLdKXefKiSlvlWbzQPELdlGlznfz6YrgnfmTCSTd2MR0LBzXapjBeSXPWMBaEz5b8bXkIVPyeLkUz9hS96eaFrN9XaWiakc%2Fj1b92jyq5c%2BskkMiq56X%2FBj%2Ba8maBSvavTEfWFwCpLE9mlYDtpRt5YadMxy4kj6bNh1don3zuGmqGSxw%2Fd1UQRN1dGafLyUILWJ4I2bPSBki87Yk%2B8a7SLm9FQb9lqxltKcgxB9efbdPW4IrYm%2BGECu%2FRuggwRio125BGde1tJ236HvnmqRg4kqKfD3Lv4wJo9GRqUYNLqBywip%2B1MVCxL97pQEN7JQreAhhkM66t%2BqgLm77Dc0Sp3DG8buMupMIH6rpp4xJNyjtAuDdjlhinSDvIX9rq8VrVkc9cqlIol%2BmCLswu%2BC2ywY6pgHn%2FQ0hUnAU0Roms5bIQ1hgoFl6KbqhqoyBfuMW6u94JYCkDFkGARBp26d6DH0sP%2BxzWtF6Tk7a4wMoqiixSs2GyLQTDjegSCX4GiXdiKxlAXg2GbHxMaMP%2Ba%2BKqQCliFPvTBEanW2GD%2FpI479gwmrq2RlTLONvpWgLYdYLEJbpUHTfsm5Tkpdivs7OjshWQkY800r2iizbg6hybhYImpOMV0LDt4hr&X-Amz-Signature=401a6faa741ea03f118a97dc40ae9313ee37f6c518ae8ab9defc20b84fe29eb2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMEPV7YR%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042327Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGCbfJNh%2B5HbBlUmog77hIKfTTyXjP91325DR%2FNa%2FrSJAiBU4QDucTDmiIZashO7IDuAaJaNnwfjTOOccpTBZgutyCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMExUsh50BIh%2BFiWbzKtwD274dqMgizrSqpj1k9661jA575n2i7DYduHclm9hQtXKB6Znb%2BzxS4Nz5akA5trrI6mdVohn5I9%2FGS7cORvmJeuWK7PPD61W6ZWxy7EmUyQCGxWh313hB5L%2FL0YxBHAZhxx9bkj%2BSa18A0cN20UN%2FZ41TgezXXi4XUPaNW76V0gqonnDKvtJn1mQ0oH%2BdaCDmJMnvGNNMyTlzXk7zIsMWNrCHd2VaIs85EBSOYGK8mSHgmLdKXefKiSlvlWbzQPELdlGlznfz6YrgnfmTCSTd2MR0LBzXapjBeSXPWMBaEz5b8bXkIVPyeLkUz9hS96eaFrN9XaWiakc%2Fj1b92jyq5c%2BskkMiq56X%2FBj%2Ba8maBSvavTEfWFwCpLE9mlYDtpRt5YadMxy4kj6bNh1don3zuGmqGSxw%2Fd1UQRN1dGafLyUILWJ4I2bPSBki87Yk%2B8a7SLm9FQb9lqxltKcgxB9efbdPW4IrYm%2BGECu%2FRuggwRio125BGde1tJ236HvnmqRg4kqKfD3Lv4wJo9GRqUYNLqBywip%2B1MVCxL97pQEN7JQreAhhkM66t%2BqgLm77Dc0Sp3DG8buMupMIH6rpp4xJNyjtAuDdjlhinSDvIX9rq8VrVkc9cqlIol%2BmCLswu%2BC2ywY6pgHn%2FQ0hUnAU0Roms5bIQ1hgoFl6KbqhqoyBfuMW6u94JYCkDFkGARBp26d6DH0sP%2BxzWtF6Tk7a4wMoqiixSs2GyLQTDjegSCX4GiXdiKxlAXg2GbHxMaMP%2Ba%2BKqQCliFPvTBEanW2GD%2FpI479gwmrq2RlTLONvpWgLYdYLEJbpUHTfsm5Tkpdivs7OjshWQkY800r2iizbg6hybhYImpOMV0LDt4hr&X-Amz-Signature=6dc67897bf8f96969a320bb879396623432ea0a40ae683e13fb3201b406afd49&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMEPV7YR%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042327Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGCbfJNh%2B5HbBlUmog77hIKfTTyXjP91325DR%2FNa%2FrSJAiBU4QDucTDmiIZashO7IDuAaJaNnwfjTOOccpTBZgutyCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMExUsh50BIh%2BFiWbzKtwD274dqMgizrSqpj1k9661jA575n2i7DYduHclm9hQtXKB6Znb%2BzxS4Nz5akA5trrI6mdVohn5I9%2FGS7cORvmJeuWK7PPD61W6ZWxy7EmUyQCGxWh313hB5L%2FL0YxBHAZhxx9bkj%2BSa18A0cN20UN%2FZ41TgezXXi4XUPaNW76V0gqonnDKvtJn1mQ0oH%2BdaCDmJMnvGNNMyTlzXk7zIsMWNrCHd2VaIs85EBSOYGK8mSHgmLdKXefKiSlvlWbzQPELdlGlznfz6YrgnfmTCSTd2MR0LBzXapjBeSXPWMBaEz5b8bXkIVPyeLkUz9hS96eaFrN9XaWiakc%2Fj1b92jyq5c%2BskkMiq56X%2FBj%2Ba8maBSvavTEfWFwCpLE9mlYDtpRt5YadMxy4kj6bNh1don3zuGmqGSxw%2Fd1UQRN1dGafLyUILWJ4I2bPSBki87Yk%2B8a7SLm9FQb9lqxltKcgxB9efbdPW4IrYm%2BGECu%2FRuggwRio125BGde1tJ236HvnmqRg4kqKfD3Lv4wJo9GRqUYNLqBywip%2B1MVCxL97pQEN7JQreAhhkM66t%2BqgLm77Dc0Sp3DG8buMupMIH6rpp4xJNyjtAuDdjlhinSDvIX9rq8VrVkc9cqlIol%2BmCLswu%2BC2ywY6pgHn%2FQ0hUnAU0Roms5bIQ1hgoFl6KbqhqoyBfuMW6u94JYCkDFkGARBp26d6DH0sP%2BxzWtF6Tk7a4wMoqiixSs2GyLQTDjegSCX4GiXdiKxlAXg2GbHxMaMP%2Ba%2BKqQCliFPvTBEanW2GD%2FpI479gwmrq2RlTLONvpWgLYdYLEJbpUHTfsm5Tkpdivs7OjshWQkY800r2iizbg6hybhYImpOMV0LDt4hr&X-Amz-Signature=593603aec6a7ae3d380f1f31f3713e3c019bcdd3e19ed68d262e1aab7d24459d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

