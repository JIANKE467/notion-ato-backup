
### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662VC4COQV%2F20251207%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251207T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD0xW%2FvOXkrTZXjGDXkGYZoV7m%2BimOqQZttVpCxSMBLewIgVhiofGGZ2%2FnrRzXDk5AE9DQRvOCAFa69U8r7ixubckcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPETT9nI97g%2FOgqx2ircAz7mbXl3sIgh60%2BsQ3fmnEGq5dzHiXhH2bEKiTmk%2BOGmqmulXKjIhEN84w9e0x8aaf1Vl0lARJra5GVoqzvukJ5%2B4ijLFpAJiBaRV23kjx%2F5%2FXhQ%2BcQylmBu3X44GMGHHRQkysH3DbEjGJVyTcW2Ss9BXPQObBkJJfisCW9FoYIpiJidaADSKUL6h46ibL4DXOUXTkrdLPjEJ8Ajb5q28zjaSd3NLZ4A2U9AzugIwcj%2FOmRFGz3f5xJ0GTj%2Bd%2FlSZwRCT9AZP2JPFHx1k8pG9gELuu7Gu%2BuhF5lTffMT5seJekbPc6AE0wygiSaI%2B7auHWfBv9itcCARsUvSVMikJP7LlcYxiuyfOiQeUPBkHiXJ9AK33r%2F6KBpEh%2FHRcLzxXPpOiABC1EILvwFDuv19I871%2FXztWF4HL31UmWGDUSBhXGAhE%2FOvs7yGBGfHJ1PfVzXi5W03%2Bkgvmi%2BOsKVBXSd4y5fyRCLlRDehE%2FzZWMhFQosbIJH%2B07AxZ3lg8n%2FMb8Hqrh4bTwICcR3MI%2F%2BXBmKy%2FDZVin4sqcmTflkxxsTv7ZOUlZSWgGNpYmAAmPsOR6ciM3rCMsXD7q7Oj0%2Fcvzt37j3k07jxVgHyVIFTjVSSART7zbpAHbgv%2B2OHMPLr0skGOqUB0ke1Pk%2FxUsvYh5Quf3Qhe7YmBewcRkUPYrzRd%2FsHwuAiep9TzlHa%2B4UkCBt3eWKpuWs%2BuJG5IIwzAnLnqXZPXuMBwB9%2FrKq7Uaym2LkebvDZNSntyx3U2BGBeXl32UJaG1ZBv6MNo2z54lshTRh2DoxHP5XPpfXaju9wJrCTVzLPKuKhLJAUTkMjc6gZrnN9916VBmJ%2Bcao75dawmTCvzbCYnKOU&X-Amz-Signature=9e231d4b6deab3bf5b5ba8d3ae947e38b1b473d26db137be894c9ef3d7e5755a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662VC4COQV%2F20251207%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251207T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD0xW%2FvOXkrTZXjGDXkGYZoV7m%2BimOqQZttVpCxSMBLewIgVhiofGGZ2%2FnrRzXDk5AE9DQRvOCAFa69U8r7ixubckcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPETT9nI97g%2FOgqx2ircAz7mbXl3sIgh60%2BsQ3fmnEGq5dzHiXhH2bEKiTmk%2BOGmqmulXKjIhEN84w9e0x8aaf1Vl0lARJra5GVoqzvukJ5%2B4ijLFpAJiBaRV23kjx%2F5%2FXhQ%2BcQylmBu3X44GMGHHRQkysH3DbEjGJVyTcW2Ss9BXPQObBkJJfisCW9FoYIpiJidaADSKUL6h46ibL4DXOUXTkrdLPjEJ8Ajb5q28zjaSd3NLZ4A2U9AzugIwcj%2FOmRFGz3f5xJ0GTj%2Bd%2FlSZwRCT9AZP2JPFHx1k8pG9gELuu7Gu%2BuhF5lTffMT5seJekbPc6AE0wygiSaI%2B7auHWfBv9itcCARsUvSVMikJP7LlcYxiuyfOiQeUPBkHiXJ9AK33r%2F6KBpEh%2FHRcLzxXPpOiABC1EILvwFDuv19I871%2FXztWF4HL31UmWGDUSBhXGAhE%2FOvs7yGBGfHJ1PfVzXi5W03%2Bkgvmi%2BOsKVBXSd4y5fyRCLlRDehE%2FzZWMhFQosbIJH%2B07AxZ3lg8n%2FMb8Hqrh4bTwICcR3MI%2F%2BXBmKy%2FDZVin4sqcmTflkxxsTv7ZOUlZSWgGNpYmAAmPsOR6ciM3rCMsXD7q7Oj0%2Fcvzt37j3k07jxVgHyVIFTjVSSART7zbpAHbgv%2B2OHMPLr0skGOqUB0ke1Pk%2FxUsvYh5Quf3Qhe7YmBewcRkUPYrzRd%2FsHwuAiep9TzlHa%2B4UkCBt3eWKpuWs%2BuJG5IIwzAnLnqXZPXuMBwB9%2FrKq7Uaym2LkebvDZNSntyx3U2BGBeXl32UJaG1ZBv6MNo2z54lshTRh2DoxHP5XPpfXaju9wJrCTVzLPKuKhLJAUTkMjc6gZrnN9916VBmJ%2Bcao75dawmTCvzbCYnKOU&X-Amz-Signature=9af9fa911f93bb4aacc4e78abffeabc3697238d69a70beef80cefb715d56c43b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662VC4COQV%2F20251207%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251207T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD0xW%2FvOXkrTZXjGDXkGYZoV7m%2BimOqQZttVpCxSMBLewIgVhiofGGZ2%2FnrRzXDk5AE9DQRvOCAFa69U8r7ixubckcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPETT9nI97g%2FOgqx2ircAz7mbXl3sIgh60%2BsQ3fmnEGq5dzHiXhH2bEKiTmk%2BOGmqmulXKjIhEN84w9e0x8aaf1Vl0lARJra5GVoqzvukJ5%2B4ijLFpAJiBaRV23kjx%2F5%2FXhQ%2BcQylmBu3X44GMGHHRQkysH3DbEjGJVyTcW2Ss9BXPQObBkJJfisCW9FoYIpiJidaADSKUL6h46ibL4DXOUXTkrdLPjEJ8Ajb5q28zjaSd3NLZ4A2U9AzugIwcj%2FOmRFGz3f5xJ0GTj%2Bd%2FlSZwRCT9AZP2JPFHx1k8pG9gELuu7Gu%2BuhF5lTffMT5seJekbPc6AE0wygiSaI%2B7auHWfBv9itcCARsUvSVMikJP7LlcYxiuyfOiQeUPBkHiXJ9AK33r%2F6KBpEh%2FHRcLzxXPpOiABC1EILvwFDuv19I871%2FXztWF4HL31UmWGDUSBhXGAhE%2FOvs7yGBGfHJ1PfVzXi5W03%2Bkgvmi%2BOsKVBXSd4y5fyRCLlRDehE%2FzZWMhFQosbIJH%2B07AxZ3lg8n%2FMb8Hqrh4bTwICcR3MI%2F%2BXBmKy%2FDZVin4sqcmTflkxxsTv7ZOUlZSWgGNpYmAAmPsOR6ciM3rCMsXD7q7Oj0%2Fcvzt37j3k07jxVgHyVIFTjVSSART7zbpAHbgv%2B2OHMPLr0skGOqUB0ke1Pk%2FxUsvYh5Quf3Qhe7YmBewcRkUPYrzRd%2FsHwuAiep9TzlHa%2B4UkCBt3eWKpuWs%2BuJG5IIwzAnLnqXZPXuMBwB9%2FrKq7Uaym2LkebvDZNSntyx3U2BGBeXl32UJaG1ZBv6MNo2z54lshTRh2DoxHP5XPpfXaju9wJrCTVzLPKuKhLJAUTkMjc6gZrnN9916VBmJ%2Bcao75dawmTCvzbCYnKOU&X-Amz-Signature=d4ffb3cfaff86b9ea25a3b84ee7322f914b45d7c448407dc78535b806c96ff5b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

