
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QSEVHPXW%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041144Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIAiiECwllA55KZww0QpMtZ8d%2FQLTmP6n3MT5tWwOpqT4AiBvicEVNPxKAg6242e7GSFDfdFevo5QSz%2F%2B%2BSBejsrj5CqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMehPEdJE%2FRUbbsyn7KtwDnu2FMSwys0CVnGDHp%2FnDOO120WVOdlZ%2FfWK5Iyh2AKCmcNbTPMDGqHoGiiB%2Fv4D7SGfStKS8h%2BWhQI1SgYP3GwJccbusOr4jCIxRxE4azYzaXlEd%2BT6pZRRwYMdEiBcChwlSvE709zoVpnu5amxIXStNRonSLj6l9YRMJ2DhD%2BVdjpzDfn5kQqjPQi8L1lnZg6RRpgCyEP%2FzeGUampIcrRpfr7e5AVaLElSmAafKxjNl52qe9AuYe9yoj1ZreqyK5fBReDkWf6ICDk133pAqV8yUtw7UdEy1FAHJt5C2q2f1pdG4Rv6Mum1MJLYMK%2FLNolp8MBY9R%2BUrwvNQQj%2BrBSrHSM2wJXcyfiHjmjPBRHs0nJRJZ4CFAjgl3tNGrCxAaorFBTNgIqo7Cdd8ZgB5rprjSxFkBhdfz7Vz6HNQrz63r%2BbnqkMCrx6lSNmCtPONjcj8hQaaMDsxhiNgF4rLg17daZwoMHNdBzWPT30G5DVBKvl2iHYsQy6fFOU%2Btt23hjyuq%2BrTgptT3XlX8quoxTJUl312JEPOqIgT%2BAhhI3cfRumCN0QniR6OgHjORG3bXZbWZPSq3T9WyvIeuAVQYWFS%2BUpoS3FpVX3iTNTVom305SvyrNKYFAI2c3ows4WXywY6pgHx6PUXvpyaaWqw%2FQWfFfIJNWwQaSdFHAhvtZE0l10PI6%2F6DIons%2Bp0xNMegluGbaQuVNqrjiyeUdPfwdhr1J18E%2BfB45ZilYOfylan40cagIIKIZ%2B13LK5AlJVWYaHCdoAN62OBSo2XsQqYwo5kG0nFsd7kxp0XVVmRPEAkGvOa6CkMbUERsvuSQezH8JUECH6G5XJZpbAHNjFBoo1LTOq%2FU2bzZyR&X-Amz-Signature=c1df84be8459ef10f23680c821ebacf57f3a6036cb62b30bb05a85b789897e78&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QSEVHPXW%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041144Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIAiiECwllA55KZww0QpMtZ8d%2FQLTmP6n3MT5tWwOpqT4AiBvicEVNPxKAg6242e7GSFDfdFevo5QSz%2F%2B%2BSBejsrj5CqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMehPEdJE%2FRUbbsyn7KtwDnu2FMSwys0CVnGDHp%2FnDOO120WVOdlZ%2FfWK5Iyh2AKCmcNbTPMDGqHoGiiB%2Fv4D7SGfStKS8h%2BWhQI1SgYP3GwJccbusOr4jCIxRxE4azYzaXlEd%2BT6pZRRwYMdEiBcChwlSvE709zoVpnu5amxIXStNRonSLj6l9YRMJ2DhD%2BVdjpzDfn5kQqjPQi8L1lnZg6RRpgCyEP%2FzeGUampIcrRpfr7e5AVaLElSmAafKxjNl52qe9AuYe9yoj1ZreqyK5fBReDkWf6ICDk133pAqV8yUtw7UdEy1FAHJt5C2q2f1pdG4Rv6Mum1MJLYMK%2FLNolp8MBY9R%2BUrwvNQQj%2BrBSrHSM2wJXcyfiHjmjPBRHs0nJRJZ4CFAjgl3tNGrCxAaorFBTNgIqo7Cdd8ZgB5rprjSxFkBhdfz7Vz6HNQrz63r%2BbnqkMCrx6lSNmCtPONjcj8hQaaMDsxhiNgF4rLg17daZwoMHNdBzWPT30G5DVBKvl2iHYsQy6fFOU%2Btt23hjyuq%2BrTgptT3XlX8quoxTJUl312JEPOqIgT%2BAhhI3cfRumCN0QniR6OgHjORG3bXZbWZPSq3T9WyvIeuAVQYWFS%2BUpoS3FpVX3iTNTVom305SvyrNKYFAI2c3ows4WXywY6pgHx6PUXvpyaaWqw%2FQWfFfIJNWwQaSdFHAhvtZE0l10PI6%2F6DIons%2Bp0xNMegluGbaQuVNqrjiyeUdPfwdhr1J18E%2BfB45ZilYOfylan40cagIIKIZ%2B13LK5AlJVWYaHCdoAN62OBSo2XsQqYwo5kG0nFsd7kxp0XVVmRPEAkGvOa6CkMbUERsvuSQezH8JUECH6G5XJZpbAHNjFBoo1LTOq%2FU2bzZyR&X-Amz-Signature=9aa0c5fd6a3a3f9d5bf6dea62516830a6083aba16dd0890b0b68b8d02f38d486&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QSEVHPXW%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041144Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIAiiECwllA55KZww0QpMtZ8d%2FQLTmP6n3MT5tWwOpqT4AiBvicEVNPxKAg6242e7GSFDfdFevo5QSz%2F%2B%2BSBejsrj5CqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMehPEdJE%2FRUbbsyn7KtwDnu2FMSwys0CVnGDHp%2FnDOO120WVOdlZ%2FfWK5Iyh2AKCmcNbTPMDGqHoGiiB%2Fv4D7SGfStKS8h%2BWhQI1SgYP3GwJccbusOr4jCIxRxE4azYzaXlEd%2BT6pZRRwYMdEiBcChwlSvE709zoVpnu5amxIXStNRonSLj6l9YRMJ2DhD%2BVdjpzDfn5kQqjPQi8L1lnZg6RRpgCyEP%2FzeGUampIcrRpfr7e5AVaLElSmAafKxjNl52qe9AuYe9yoj1ZreqyK5fBReDkWf6ICDk133pAqV8yUtw7UdEy1FAHJt5C2q2f1pdG4Rv6Mum1MJLYMK%2FLNolp8MBY9R%2BUrwvNQQj%2BrBSrHSM2wJXcyfiHjmjPBRHs0nJRJZ4CFAjgl3tNGrCxAaorFBTNgIqo7Cdd8ZgB5rprjSxFkBhdfz7Vz6HNQrz63r%2BbnqkMCrx6lSNmCtPONjcj8hQaaMDsxhiNgF4rLg17daZwoMHNdBzWPT30G5DVBKvl2iHYsQy6fFOU%2Btt23hjyuq%2BrTgptT3XlX8quoxTJUl312JEPOqIgT%2BAhhI3cfRumCN0QniR6OgHjORG3bXZbWZPSq3T9WyvIeuAVQYWFS%2BUpoS3FpVX3iTNTVom305SvyrNKYFAI2c3ows4WXywY6pgHx6PUXvpyaaWqw%2FQWfFfIJNWwQaSdFHAhvtZE0l10PI6%2F6DIons%2Bp0xNMegluGbaQuVNqrjiyeUdPfwdhr1J18E%2BfB45ZilYOfylan40cagIIKIZ%2B13LK5AlJVWYaHCdoAN62OBSo2XsQqYwo5kG0nFsd7kxp0XVVmRPEAkGvOa6CkMbUERsvuSQezH8JUECH6G5XJZpbAHNjFBoo1LTOq%2FU2bzZyR&X-Amz-Signature=d1e4b2d9555faf8f8845d4227a189e0b2c0296a646574b47c500a46d993246b6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRWODZOE%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJIMEYCIQCJQxm4O2rRTwP67t8ZTxjRw191DApCPtUk6UYbpg08bAIhALUUANFEj02NK6GViBFCwl%2B7HVoraEhnZR05cc89fzOSKogECP3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyOx%2BLGf4kwuoRxmq8q3AOQLOjlLVpZV7oeqNz3kaDoa%2BA7MWAvQ8VOR%2BUYO%2BqinlrKbCMAhTHJ%2FUI9e%2FZV%2FmO1EYe9gmMJG%2Bh3bo3PZ%2FmcP8wFVCTRhP%2FP%2B3RJMji4XCJl5xk3h5PfIsSP6UvE%2FSF6t2G3iDgnWwCDmc29bvysWDQdaQvq%2FYcu3%2F7uMYUAbhThhVXZvrqzXKSVljStrrdKhgKWTe9h%2Ff5x5cpCuUypS0K%2BnZssAgAQ%2FJQybKXjuOTgnbKgNUvQHszLFgVQr0TR7PvFyKsrlqSNH9q4esyaSeqhOOWZyvEB8J1CiqfaDSPTaN68T3C8QyeNSDEwGwWkUWHYym18V6%2For4b0vlQbjIBcCtlgod0HK1pdQeNmYm%2BFufMrYr22WvWPt6ILxPgeQpStZfztaWSxNPtJ0D9FJC%2BgbeT8Kfb4%2F55blQPTdyxIbYxwDfMoOxhWqsUfCO9pUFJcuJBxaylhNWVu5ATEuHrfOdj0GNUWem3fCo%2Byr5QgbcZNDaR1EoZx4ksuTEfAhhfKfYKmQQlZPXwcwZLweytpDikA4%2BH53vYMhMVzXGYLzipv6ajg0AdQ1sAc6AcrN8OhX4Mn3oJWidmX8zHie16H7LvAqL%2FKgfPO1mSjyG%2BlsfVnH86FZr2ePjC2h5fLBjqkAT11mO1MPEM5ZS6stHnom%2F6LPH9cQqYQawtY%2FZiptn1Yk6JCK9Apc%2Bc8750WHnRcvFsduhDJYlBpDFUEexZxrykb1QigEb%2FgSYvt%2BJbaQWql2h5k1Q6%2FnOaMz7OJl4Zd3%2BpUwWm4EOKg%2BNaD46ntUku7p5EsB8WspuqgYyGbkI4NoXsZkCXE0UEfqsCGE%2BRmWE1A3GYHir4wYmX0xb0GYq06UKh3&X-Amz-Signature=864797fc3fc76a6e0a07b458c35160e379dc7fd0dec43f787863fdfefdb899ff&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRWODZOE%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJIMEYCIQCJQxm4O2rRTwP67t8ZTxjRw191DApCPtUk6UYbpg08bAIhALUUANFEj02NK6GViBFCwl%2B7HVoraEhnZR05cc89fzOSKogECP3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyOx%2BLGf4kwuoRxmq8q3AOQLOjlLVpZV7oeqNz3kaDoa%2BA7MWAvQ8VOR%2BUYO%2BqinlrKbCMAhTHJ%2FUI9e%2FZV%2FmO1EYe9gmMJG%2Bh3bo3PZ%2FmcP8wFVCTRhP%2FP%2B3RJMji4XCJl5xk3h5PfIsSP6UvE%2FSF6t2G3iDgnWwCDmc29bvysWDQdaQvq%2FYcu3%2F7uMYUAbhThhVXZvrqzXKSVljStrrdKhgKWTe9h%2Ff5x5cpCuUypS0K%2BnZssAgAQ%2FJQybKXjuOTgnbKgNUvQHszLFgVQr0TR7PvFyKsrlqSNH9q4esyaSeqhOOWZyvEB8J1CiqfaDSPTaN68T3C8QyeNSDEwGwWkUWHYym18V6%2For4b0vlQbjIBcCtlgod0HK1pdQeNmYm%2BFufMrYr22WvWPt6ILxPgeQpStZfztaWSxNPtJ0D9FJC%2BgbeT8Kfb4%2F55blQPTdyxIbYxwDfMoOxhWqsUfCO9pUFJcuJBxaylhNWVu5ATEuHrfOdj0GNUWem3fCo%2Byr5QgbcZNDaR1EoZx4ksuTEfAhhfKfYKmQQlZPXwcwZLweytpDikA4%2BH53vYMhMVzXGYLzipv6ajg0AdQ1sAc6AcrN8OhX4Mn3oJWidmX8zHie16H7LvAqL%2FKgfPO1mSjyG%2BlsfVnH86FZr2ePjC2h5fLBjqkAT11mO1MPEM5ZS6stHnom%2F6LPH9cQqYQawtY%2FZiptn1Yk6JCK9Apc%2Bc8750WHnRcvFsduhDJYlBpDFUEexZxrykb1QigEb%2FgSYvt%2BJbaQWql2h5k1Q6%2FnOaMz7OJl4Zd3%2BpUwWm4EOKg%2BNaD46ntUku7p5EsB8WspuqgYyGbkI4NoXsZkCXE0UEfqsCGE%2BRmWE1A3GYHir4wYmX0xb0GYq06UKh3&X-Amz-Signature=e14d8ce171f7b24302e9bdb191275d0e350872dcf4814d97603b114860deb2e7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRWODZOE%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJIMEYCIQCJQxm4O2rRTwP67t8ZTxjRw191DApCPtUk6UYbpg08bAIhALUUANFEj02NK6GViBFCwl%2B7HVoraEhnZR05cc89fzOSKogECP3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyOx%2BLGf4kwuoRxmq8q3AOQLOjlLVpZV7oeqNz3kaDoa%2BA7MWAvQ8VOR%2BUYO%2BqinlrKbCMAhTHJ%2FUI9e%2FZV%2FmO1EYe9gmMJG%2Bh3bo3PZ%2FmcP8wFVCTRhP%2FP%2B3RJMji4XCJl5xk3h5PfIsSP6UvE%2FSF6t2G3iDgnWwCDmc29bvysWDQdaQvq%2FYcu3%2F7uMYUAbhThhVXZvrqzXKSVljStrrdKhgKWTe9h%2Ff5x5cpCuUypS0K%2BnZssAgAQ%2FJQybKXjuOTgnbKgNUvQHszLFgVQr0TR7PvFyKsrlqSNH9q4esyaSeqhOOWZyvEB8J1CiqfaDSPTaN68T3C8QyeNSDEwGwWkUWHYym18V6%2For4b0vlQbjIBcCtlgod0HK1pdQeNmYm%2BFufMrYr22WvWPt6ILxPgeQpStZfztaWSxNPtJ0D9FJC%2BgbeT8Kfb4%2F55blQPTdyxIbYxwDfMoOxhWqsUfCO9pUFJcuJBxaylhNWVu5ATEuHrfOdj0GNUWem3fCo%2Byr5QgbcZNDaR1EoZx4ksuTEfAhhfKfYKmQQlZPXwcwZLweytpDikA4%2BH53vYMhMVzXGYLzipv6ajg0AdQ1sAc6AcrN8OhX4Mn3oJWidmX8zHie16H7LvAqL%2FKgfPO1mSjyG%2BlsfVnH86FZr2ePjC2h5fLBjqkAT11mO1MPEM5ZS6stHnom%2F6LPH9cQqYQawtY%2FZiptn1Yk6JCK9Apc%2Bc8750WHnRcvFsduhDJYlBpDFUEexZxrykb1QigEb%2FgSYvt%2BJbaQWql2h5k1Q6%2FnOaMz7OJl4Zd3%2BpUwWm4EOKg%2BNaD46ntUku7p5EsB8WspuqgYyGbkI4NoXsZkCXE0UEfqsCGE%2BRmWE1A3GYHir4wYmX0xb0GYq06UKh3&X-Amz-Signature=9dabed61ce9c989531150bf32a5a7c0953f0b92606c9c096cd56562e4ff61261&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664LRXHC7C%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCIQCQxGJoUpoUyQvKlg3NX98SbPeFrjYwSVlItKEa5ikIHgIgEiOLzWVOGpcfsoh2N2Tj%2Fq7sxZUFGPwhVgK5Va58%2BasqiAQI%2Ff%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFoqJHUyVIVlA%2Ft3FCrcA%2B4XciIHOsDaQpqtQ9RqKwUujIpxriskyTlaY%2B2YBr92z6yui3bBQuaR3%2BdrtGlCWhAAIRKKWFnvEk6zy96EtnH68V17MQ14%2BQ3x2Alm8%2Fgie3r9H11h5gMSNFFnSGYFr4QLXoXh9HSX89FtVQh5zWxDtgjYI1Y3l5H2fT0XnaIzSMO8KQ8Ql9RWDPeaBcI7vZWsgkx7y8JBoACu5TqHy5oaM57COtIQh7KuKBr2rqNKv4VI9IIYGm4peVFp17uT0CBJcZb%2FBsUJ33%2F%2BJfjWaTqWyICRdG04qJlwi%2B8CJi9OYz%2Bnnn%2FDP5TF03fp04EZXpx0vr3XRrylb%2FSFLd%2F3aYWo0VVC5P9oN30uv39c9Gv6zCrn1D6vwzykHFUqaIOeI29qZYHLje5iD1faOzyLNnJI5FJsDZotdR5EwbmtIr7wSqKyiWBcR1yIJCdMayVyXkg7KvGGygcDNCKLR9Utg9HY2DIjEsOSwOsen1nPTUtDOz0GgBMI061zYF%2B2%2FKlwpl%2Fncwy3dbZZBgLP9t%2BXfl%2FzILirQkqo49O2zvJSKNNxSk1AZkksuoGjCe4vPa6XyCb3dMoP8ZHcA0I2kOKghTIDXgvd%2F9VrktSbRyTCH%2Bq5TTQuvqQ1OM7kmZSLMIuFl8sGOqUBgwtLazZ0fwSk%2FN%2B0vfAb%2B%2Fci3MlcPa02gjxy7m07Dz4v5dCItOsXUM71etv0O7Yd1EAil0BOwy8cPNXIA5Gpc4R3gOlfdCW166eWsD7fJY2pL6axe5ZTeqWdFMd9bT9mJAZt7XkPy3benRBacVjaICzYBBWCISOdJfp%2Ft0sjufHjZwiXh0TMtcKp459R0WKP4EEd8hYwARZm02gf9hDwvqa0YanR&X-Amz-Signature=879f9f0febb412cffd81dd4bf1c67c564f6645cb1e1b5cc77f069c46743930c8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664LRXHC7C%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCIQCQxGJoUpoUyQvKlg3NX98SbPeFrjYwSVlItKEa5ikIHgIgEiOLzWVOGpcfsoh2N2Tj%2Fq7sxZUFGPwhVgK5Va58%2BasqiAQI%2Ff%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFoqJHUyVIVlA%2Ft3FCrcA%2B4XciIHOsDaQpqtQ9RqKwUujIpxriskyTlaY%2B2YBr92z6yui3bBQuaR3%2BdrtGlCWhAAIRKKWFnvEk6zy96EtnH68V17MQ14%2BQ3x2Alm8%2Fgie3r9H11h5gMSNFFnSGYFr4QLXoXh9HSX89FtVQh5zWxDtgjYI1Y3l5H2fT0XnaIzSMO8KQ8Ql9RWDPeaBcI7vZWsgkx7y8JBoACu5TqHy5oaM57COtIQh7KuKBr2rqNKv4VI9IIYGm4peVFp17uT0CBJcZb%2FBsUJ33%2F%2BJfjWaTqWyICRdG04qJlwi%2B8CJi9OYz%2Bnnn%2FDP5TF03fp04EZXpx0vr3XRrylb%2FSFLd%2F3aYWo0VVC5P9oN30uv39c9Gv6zCrn1D6vwzykHFUqaIOeI29qZYHLje5iD1faOzyLNnJI5FJsDZotdR5EwbmtIr7wSqKyiWBcR1yIJCdMayVyXkg7KvGGygcDNCKLR9Utg9HY2DIjEsOSwOsen1nPTUtDOz0GgBMI061zYF%2B2%2FKlwpl%2Fncwy3dbZZBgLP9t%2BXfl%2FzILirQkqo49O2zvJSKNNxSk1AZkksuoGjCe4vPa6XyCb3dMoP8ZHcA0I2kOKghTIDXgvd%2F9VrktSbRyTCH%2Bq5TTQuvqQ1OM7kmZSLMIuFl8sGOqUBgwtLazZ0fwSk%2FN%2B0vfAb%2B%2Fci3MlcPa02gjxy7m07Dz4v5dCItOsXUM71etv0O7Yd1EAil0BOwy8cPNXIA5Gpc4R3gOlfdCW166eWsD7fJY2pL6axe5ZTeqWdFMd9bT9mJAZt7XkPy3benRBacVjaICzYBBWCISOdJfp%2Ft0sjufHjZwiXh0TMtcKp459R0WKP4EEd8hYwARZm02gf9hDwvqa0YanR&X-Amz-Signature=e9983a3dcec74f12803a752521353be505bf2271b492d152b37b24756beb9c7f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664LRXHC7C%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCIQCQxGJoUpoUyQvKlg3NX98SbPeFrjYwSVlItKEa5ikIHgIgEiOLzWVOGpcfsoh2N2Tj%2Fq7sxZUFGPwhVgK5Va58%2BasqiAQI%2Ff%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFoqJHUyVIVlA%2Ft3FCrcA%2B4XciIHOsDaQpqtQ9RqKwUujIpxriskyTlaY%2B2YBr92z6yui3bBQuaR3%2BdrtGlCWhAAIRKKWFnvEk6zy96EtnH68V17MQ14%2BQ3x2Alm8%2Fgie3r9H11h5gMSNFFnSGYFr4QLXoXh9HSX89FtVQh5zWxDtgjYI1Y3l5H2fT0XnaIzSMO8KQ8Ql9RWDPeaBcI7vZWsgkx7y8JBoACu5TqHy5oaM57COtIQh7KuKBr2rqNKv4VI9IIYGm4peVFp17uT0CBJcZb%2FBsUJ33%2F%2BJfjWaTqWyICRdG04qJlwi%2B8CJi9OYz%2Bnnn%2FDP5TF03fp04EZXpx0vr3XRrylb%2FSFLd%2F3aYWo0VVC5P9oN30uv39c9Gv6zCrn1D6vwzykHFUqaIOeI29qZYHLje5iD1faOzyLNnJI5FJsDZotdR5EwbmtIr7wSqKyiWBcR1yIJCdMayVyXkg7KvGGygcDNCKLR9Utg9HY2DIjEsOSwOsen1nPTUtDOz0GgBMI061zYF%2B2%2FKlwpl%2Fncwy3dbZZBgLP9t%2BXfl%2FzILirQkqo49O2zvJSKNNxSk1AZkksuoGjCe4vPa6XyCb3dMoP8ZHcA0I2kOKghTIDXgvd%2F9VrktSbRyTCH%2Bq5TTQuvqQ1OM7kmZSLMIuFl8sGOqUBgwtLazZ0fwSk%2FN%2B0vfAb%2B%2Fci3MlcPa02gjxy7m07Dz4v5dCItOsXUM71etv0O7Yd1EAil0BOwy8cPNXIA5Gpc4R3gOlfdCW166eWsD7fJY2pL6axe5ZTeqWdFMd9bT9mJAZt7XkPy3benRBacVjaICzYBBWCISOdJfp%2Ft0sjufHjZwiXh0TMtcKp459R0WKP4EEd8hYwARZm02gf9hDwvqa0YanR&X-Amz-Signature=953f9c16c7bb7a6e2432c9e4db3aad73cb9d408ce3e638a71ce7ead1f159f3d9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664LRXHC7C%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCIQCQxGJoUpoUyQvKlg3NX98SbPeFrjYwSVlItKEa5ikIHgIgEiOLzWVOGpcfsoh2N2Tj%2Fq7sxZUFGPwhVgK5Va58%2BasqiAQI%2Ff%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFoqJHUyVIVlA%2Ft3FCrcA%2B4XciIHOsDaQpqtQ9RqKwUujIpxriskyTlaY%2B2YBr92z6yui3bBQuaR3%2BdrtGlCWhAAIRKKWFnvEk6zy96EtnH68V17MQ14%2BQ3x2Alm8%2Fgie3r9H11h5gMSNFFnSGYFr4QLXoXh9HSX89FtVQh5zWxDtgjYI1Y3l5H2fT0XnaIzSMO8KQ8Ql9RWDPeaBcI7vZWsgkx7y8JBoACu5TqHy5oaM57COtIQh7KuKBr2rqNKv4VI9IIYGm4peVFp17uT0CBJcZb%2FBsUJ33%2F%2BJfjWaTqWyICRdG04qJlwi%2B8CJi9OYz%2Bnnn%2FDP5TF03fp04EZXpx0vr3XRrylb%2FSFLd%2F3aYWo0VVC5P9oN30uv39c9Gv6zCrn1D6vwzykHFUqaIOeI29qZYHLje5iD1faOzyLNnJI5FJsDZotdR5EwbmtIr7wSqKyiWBcR1yIJCdMayVyXkg7KvGGygcDNCKLR9Utg9HY2DIjEsOSwOsen1nPTUtDOz0GgBMI061zYF%2B2%2FKlwpl%2Fncwy3dbZZBgLP9t%2BXfl%2FzILirQkqo49O2zvJSKNNxSk1AZkksuoGjCe4vPa6XyCb3dMoP8ZHcA0I2kOKghTIDXgvd%2F9VrktSbRyTCH%2Bq5TTQuvqQ1OM7kmZSLMIuFl8sGOqUBgwtLazZ0fwSk%2FN%2B0vfAb%2B%2Fci3MlcPa02gjxy7m07Dz4v5dCItOsXUM71etv0O7Yd1EAil0BOwy8cPNXIA5Gpc4R3gOlfdCW166eWsD7fJY2pL6axe5ZTeqWdFMd9bT9mJAZt7XkPy3benRBacVjaICzYBBWCISOdJfp%2Ft0sjufHjZwiXh0TMtcKp459R0WKP4EEd8hYwARZm02gf9hDwvqa0YanR&X-Amz-Signature=379612a5ec87cdfc948b3cfb275ec1d692a94700d48b7cfd5fa08f8f3f0705eb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466357JQ46F%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIHLnuqpYWMzAyQxR8TYoQq186VxFXu%2BnYHqJ5x6E9E%2BuAiBU54a60FHeJMfzKsO6pBsWwWZRabJvTRS84E31XwCNqCqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMiGGWW8XYxcq6kgImKtwDmras%2FdW07YnOjgzayzb0yfUnvOyZK6K%2Buu%2Fu3lu71ounBcgtGi3ZTr0tt478MkbOPxFTQ8LR%2FxbATNMllVJNxC06VWzGriRx1tmdzOgT0G16Fk6blwKTVnVITI7ksyh8mDOXWg%2BtOuR8eC92DRRfLPNmB7ZX62q99isHcGmlfIooF5QIqN8JBXN4ZtBkXTFkluL1ifsOY20NI6F7Jdmj%2Bjygkbf9BCMUB0Q2wB6O9wPO80S94WoQzN0V216fcMVyx7nP8X7CTTtL99zV%2FpO7ufqYc3YJTYFkxnEzNS8xr%2FPq%2FpH6OWmXf8%2FfN%2Bz7Ag0zzfLEUSi1qpwx2BbzXXzme18MXDVqwhFIagI0qNtfJ5zKes3ERJkZFe1uL1hO5envLi5ZCTrviy5EB5h0Ys2nFlRYoRKaXODOtgMDVEaL4%2F6%2BFfSVT976kvRErXlFFSEB7NTsR1h%2FpvRqBg1AfEd%2BtzKNHZ%2BBozOPcKyX%2BLZ49449i17%2BW4u9a2tTND96FzmVqxKR8nyyLAgBGXP8NUZxRD%2BFQ4UF45mTiqAGxRWdMXz5NjNnhJdx5tYg3N1W7wWaThFsoczJmnggk8vU%2BEqYfMR8c%2FFhrn1AF%2BT%2B%2FAm9I9qPtL20MuRh3iBYgFcwkoWXywY6pgGIz94I%2Bv8Ya7SWKE0AsnV5Eso579IagXed%2BFLhAWmLuXRIZgHyXTB5GmJsPABV9Vez%2BddItryTY%2FR2hDdSoje4Z0m8Flooq31xjsXGAkFiGkRQQcxlE%2FGdEt%2BohbGH4AjrbaWBvj%2Bo4i1cTmUppB%2BCzfEjHjISGHDtsIHmOcLWDw94Jd%2F8OtcwehTfjO4wP1nk2qprUKH3Q9uNm73%2BRoOBGtozB4Fg&X-Amz-Signature=db8b3e9acbd31a495b657471ccde0c765e645164ff39c6bf4ea9d782ea855dea&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466357JQ46F%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIHLnuqpYWMzAyQxR8TYoQq186VxFXu%2BnYHqJ5x6E9E%2BuAiBU54a60FHeJMfzKsO6pBsWwWZRabJvTRS84E31XwCNqCqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMiGGWW8XYxcq6kgImKtwDmras%2FdW07YnOjgzayzb0yfUnvOyZK6K%2Buu%2Fu3lu71ounBcgtGi3ZTr0tt478MkbOPxFTQ8LR%2FxbATNMllVJNxC06VWzGriRx1tmdzOgT0G16Fk6blwKTVnVITI7ksyh8mDOXWg%2BtOuR8eC92DRRfLPNmB7ZX62q99isHcGmlfIooF5QIqN8JBXN4ZtBkXTFkluL1ifsOY20NI6F7Jdmj%2Bjygkbf9BCMUB0Q2wB6O9wPO80S94WoQzN0V216fcMVyx7nP8X7CTTtL99zV%2FpO7ufqYc3YJTYFkxnEzNS8xr%2FPq%2FpH6OWmXf8%2FfN%2Bz7Ag0zzfLEUSi1qpwx2BbzXXzme18MXDVqwhFIagI0qNtfJ5zKes3ERJkZFe1uL1hO5envLi5ZCTrviy5EB5h0Ys2nFlRYoRKaXODOtgMDVEaL4%2F6%2BFfSVT976kvRErXlFFSEB7NTsR1h%2FpvRqBg1AfEd%2BtzKNHZ%2BBozOPcKyX%2BLZ49449i17%2BW4u9a2tTND96FzmVqxKR8nyyLAgBGXP8NUZxRD%2BFQ4UF45mTiqAGxRWdMXz5NjNnhJdx5tYg3N1W7wWaThFsoczJmnggk8vU%2BEqYfMR8c%2FFhrn1AF%2BT%2B%2FAm9I9qPtL20MuRh3iBYgFcwkoWXywY6pgGIz94I%2Bv8Ya7SWKE0AsnV5Eso579IagXed%2BFLhAWmLuXRIZgHyXTB5GmJsPABV9Vez%2BddItryTY%2FR2hDdSoje4Z0m8Flooq31xjsXGAkFiGkRQQcxlE%2FGdEt%2BohbGH4AjrbaWBvj%2Bo4i1cTmUppB%2BCzfEjHjISGHDtsIHmOcLWDw94Jd%2F8OtcwehTfjO4wP1nk2qprUKH3Q9uNm73%2BRoOBGtozB4Fg&X-Amz-Signature=9f43492169d73b8980295b7fdc61a1a00abffc39da58e0ac06232d538f4b098d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466357JQ46F%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIHLnuqpYWMzAyQxR8TYoQq186VxFXu%2BnYHqJ5x6E9E%2BuAiBU54a60FHeJMfzKsO6pBsWwWZRabJvTRS84E31XwCNqCqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMiGGWW8XYxcq6kgImKtwDmras%2FdW07YnOjgzayzb0yfUnvOyZK6K%2Buu%2Fu3lu71ounBcgtGi3ZTr0tt478MkbOPxFTQ8LR%2FxbATNMllVJNxC06VWzGriRx1tmdzOgT0G16Fk6blwKTVnVITI7ksyh8mDOXWg%2BtOuR8eC92DRRfLPNmB7ZX62q99isHcGmlfIooF5QIqN8JBXN4ZtBkXTFkluL1ifsOY20NI6F7Jdmj%2Bjygkbf9BCMUB0Q2wB6O9wPO80S94WoQzN0V216fcMVyx7nP8X7CTTtL99zV%2FpO7ufqYc3YJTYFkxnEzNS8xr%2FPq%2FpH6OWmXf8%2FfN%2Bz7Ag0zzfLEUSi1qpwx2BbzXXzme18MXDVqwhFIagI0qNtfJ5zKes3ERJkZFe1uL1hO5envLi5ZCTrviy5EB5h0Ys2nFlRYoRKaXODOtgMDVEaL4%2F6%2BFfSVT976kvRErXlFFSEB7NTsR1h%2FpvRqBg1AfEd%2BtzKNHZ%2BBozOPcKyX%2BLZ49449i17%2BW4u9a2tTND96FzmVqxKR8nyyLAgBGXP8NUZxRD%2BFQ4UF45mTiqAGxRWdMXz5NjNnhJdx5tYg3N1W7wWaThFsoczJmnggk8vU%2BEqYfMR8c%2FFhrn1AF%2BT%2B%2FAm9I9qPtL20MuRh3iBYgFcwkoWXywY6pgGIz94I%2Bv8Ya7SWKE0AsnV5Eso579IagXed%2BFLhAWmLuXRIZgHyXTB5GmJsPABV9Vez%2BddItryTY%2FR2hDdSoje4Z0m8Flooq31xjsXGAkFiGkRQQcxlE%2FGdEt%2BohbGH4AjrbaWBvj%2Bo4i1cTmUppB%2BCzfEjHjISGHDtsIHmOcLWDw94Jd%2F8OtcwehTfjO4wP1nk2qprUKH3Q9uNm73%2BRoOBGtozB4Fg&X-Amz-Signature=1066ba4cabe791b1034f5b9928c2c5c250e2a1b44512284e1e734d1b00c860b5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466357JQ46F%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIHLnuqpYWMzAyQxR8TYoQq186VxFXu%2BnYHqJ5x6E9E%2BuAiBU54a60FHeJMfzKsO6pBsWwWZRabJvTRS84E31XwCNqCqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMiGGWW8XYxcq6kgImKtwDmras%2FdW07YnOjgzayzb0yfUnvOyZK6K%2Buu%2Fu3lu71ounBcgtGi3ZTr0tt478MkbOPxFTQ8LR%2FxbATNMllVJNxC06VWzGriRx1tmdzOgT0G16Fk6blwKTVnVITI7ksyh8mDOXWg%2BtOuR8eC92DRRfLPNmB7ZX62q99isHcGmlfIooF5QIqN8JBXN4ZtBkXTFkluL1ifsOY20NI6F7Jdmj%2Bjygkbf9BCMUB0Q2wB6O9wPO80S94WoQzN0V216fcMVyx7nP8X7CTTtL99zV%2FpO7ufqYc3YJTYFkxnEzNS8xr%2FPq%2FpH6OWmXf8%2FfN%2Bz7Ag0zzfLEUSi1qpwx2BbzXXzme18MXDVqwhFIagI0qNtfJ5zKes3ERJkZFe1uL1hO5envLi5ZCTrviy5EB5h0Ys2nFlRYoRKaXODOtgMDVEaL4%2F6%2BFfSVT976kvRErXlFFSEB7NTsR1h%2FpvRqBg1AfEd%2BtzKNHZ%2BBozOPcKyX%2BLZ49449i17%2BW4u9a2tTND96FzmVqxKR8nyyLAgBGXP8NUZxRD%2BFQ4UF45mTiqAGxRWdMXz5NjNnhJdx5tYg3N1W7wWaThFsoczJmnggk8vU%2BEqYfMR8c%2FFhrn1AF%2BT%2B%2FAm9I9qPtL20MuRh3iBYgFcwkoWXywY6pgGIz94I%2Bv8Ya7SWKE0AsnV5Eso579IagXed%2BFLhAWmLuXRIZgHyXTB5GmJsPABV9Vez%2BddItryTY%2FR2hDdSoje4Z0m8Flooq31xjsXGAkFiGkRQQcxlE%2FGdEt%2BohbGH4AjrbaWBvj%2Bo4i1cTmUppB%2BCzfEjHjISGHDtsIHmOcLWDw94Jd%2F8OtcwehTfjO4wP1nk2qprUKH3Q9uNm73%2BRoOBGtozB4Fg&X-Amz-Signature=aae3115a26b7f3d9a12687d19e73b60f5b695eee9b23cb7b0cc6e6d7ddcc8f27&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46642JG2L5D%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041147Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIDhW5lLtgunyuRUmhC%2Fl%2FOzVYLGXH2NjIxEWGEO5BFzFAiB1WJWF9eLl9CBxjKNcPAyzB3x5O05NLqOHfEc3uD0EriqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMkmjSTJr1dDlAsvvwKtwD0sxS5sZZlqDyrS45pYc2znA6gwsBSA8yib40TcUjV%2B4acRskj%2BQXZmBehJA%2FsBpyvi%2Bi5hnlvS3nLNaI%2BZezVk%2Fs2EKsj%2FRUomZbunRh0X6g0skXcZs4cnKSrPPQM3uNh8dySSeoURrqZMqiyM3PGJL%2FgVRbdRdjYHqlSjPA7GfCzil5pQ0pJj8ITSEJ%2BfuNjquEGzyC3OAqIj7uPQvK553BejeEM9vtvQVJcO%2FuQAnJazMHGIPRLtlNdaMqBMtGnp2eyufsHP02XABb1NndKrOia%2BT%2BGHyNGMqjOOeHxB4SbTT9D4YbtEu%2FFkmNeVrVIBAcZzXFSmtl0%2Ft4rRcEbVONGQWl%2BCA9G4LrK51F15aszuaPzcYcSou%2FQCBWvVNniafRU4c8oP7A92uaPEReuJduB5BUFhwVpnng3xNJsao156DV%2FE94uuaBwobSi9OaZvQ%2F5I%2B1eTYoKDcTR1y%2Ba7qHiDwiDMImFKldQRmexTR4zQDX1mIMnJle5l0R5%2FG3tb2%2FhosGn9%2BP3gdWaVw6dwcX8bnN2iRvtGzbe2UB4ufgXniDC%2F6Jn%2BO21eNJLJlBQNbR1ivKGLPNcnjCNAmEflL2cROUvij34Fnzz9ONdYjR1lf4mGUcobbwdyswq4WXywY6pgFrInhkxPdzQQbskARgN2huWpXWybkIs7cyCBkPpvQbGpAQL1Sy6MdMvj24DF9OCQGuutae9w5%2BmAlVK254DleKlubzCp3%2B6qEtRb7mc1uHcW35ONwtLMe6aEjYKiwKuLINpQSViqocNXNRWpEcmFIEEfyXkNnvBaihQW6Nvt8cGvUNYuU2Zy48WJEFiwvMevJCUrF%2Be9Hc1Tq5ctZfYJdE61aqn8Vc&X-Amz-Signature=0b445c1924ea1907177728ea91b58c019942d2b477b555c018ac1ccbdaff56c9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46642JG2L5D%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041147Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIDhW5lLtgunyuRUmhC%2Fl%2FOzVYLGXH2NjIxEWGEO5BFzFAiB1WJWF9eLl9CBxjKNcPAyzB3x5O05NLqOHfEc3uD0EriqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMkmjSTJr1dDlAsvvwKtwD0sxS5sZZlqDyrS45pYc2znA6gwsBSA8yib40TcUjV%2B4acRskj%2BQXZmBehJA%2FsBpyvi%2Bi5hnlvS3nLNaI%2BZezVk%2Fs2EKsj%2FRUomZbunRh0X6g0skXcZs4cnKSrPPQM3uNh8dySSeoURrqZMqiyM3PGJL%2FgVRbdRdjYHqlSjPA7GfCzil5pQ0pJj8ITSEJ%2BfuNjquEGzyC3OAqIj7uPQvK553BejeEM9vtvQVJcO%2FuQAnJazMHGIPRLtlNdaMqBMtGnp2eyufsHP02XABb1NndKrOia%2BT%2BGHyNGMqjOOeHxB4SbTT9D4YbtEu%2FFkmNeVrVIBAcZzXFSmtl0%2Ft4rRcEbVONGQWl%2BCA9G4LrK51F15aszuaPzcYcSou%2FQCBWvVNniafRU4c8oP7A92uaPEReuJduB5BUFhwVpnng3xNJsao156DV%2FE94uuaBwobSi9OaZvQ%2F5I%2B1eTYoKDcTR1y%2Ba7qHiDwiDMImFKldQRmexTR4zQDX1mIMnJle5l0R5%2FG3tb2%2FhosGn9%2BP3gdWaVw6dwcX8bnN2iRvtGzbe2UB4ufgXniDC%2F6Jn%2BO21eNJLJlBQNbR1ivKGLPNcnjCNAmEflL2cROUvij34Fnzz9ONdYjR1lf4mGUcobbwdyswq4WXywY6pgFrInhkxPdzQQbskARgN2huWpXWybkIs7cyCBkPpvQbGpAQL1Sy6MdMvj24DF9OCQGuutae9w5%2BmAlVK254DleKlubzCp3%2B6qEtRb7mc1uHcW35ONwtLMe6aEjYKiwKuLINpQSViqocNXNRWpEcmFIEEfyXkNnvBaihQW6Nvt8cGvUNYuU2Zy48WJEFiwvMevJCUrF%2Be9Hc1Tq5ctZfYJdE61aqn8Vc&X-Amz-Signature=c60882c2e26ce0a996deaa09e3761488f484278634fdae90635c4496b1966d52&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46642JG2L5D%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIDhW5lLtgunyuRUmhC%2Fl%2FOzVYLGXH2NjIxEWGEO5BFzFAiB1WJWF9eLl9CBxjKNcPAyzB3x5O05NLqOHfEc3uD0EriqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMkmjSTJr1dDlAsvvwKtwD0sxS5sZZlqDyrS45pYc2znA6gwsBSA8yib40TcUjV%2B4acRskj%2BQXZmBehJA%2FsBpyvi%2Bi5hnlvS3nLNaI%2BZezVk%2Fs2EKsj%2FRUomZbunRh0X6g0skXcZs4cnKSrPPQM3uNh8dySSeoURrqZMqiyM3PGJL%2FgVRbdRdjYHqlSjPA7GfCzil5pQ0pJj8ITSEJ%2BfuNjquEGzyC3OAqIj7uPQvK553BejeEM9vtvQVJcO%2FuQAnJazMHGIPRLtlNdaMqBMtGnp2eyufsHP02XABb1NndKrOia%2BT%2BGHyNGMqjOOeHxB4SbTT9D4YbtEu%2FFkmNeVrVIBAcZzXFSmtl0%2Ft4rRcEbVONGQWl%2BCA9G4LrK51F15aszuaPzcYcSou%2FQCBWvVNniafRU4c8oP7A92uaPEReuJduB5BUFhwVpnng3xNJsao156DV%2FE94uuaBwobSi9OaZvQ%2F5I%2B1eTYoKDcTR1y%2Ba7qHiDwiDMImFKldQRmexTR4zQDX1mIMnJle5l0R5%2FG3tb2%2FhosGn9%2BP3gdWaVw6dwcX8bnN2iRvtGzbe2UB4ufgXniDC%2F6Jn%2BO21eNJLJlBQNbR1ivKGLPNcnjCNAmEflL2cROUvij34Fnzz9ONdYjR1lf4mGUcobbwdyswq4WXywY6pgFrInhkxPdzQQbskARgN2huWpXWybkIs7cyCBkPpvQbGpAQL1Sy6MdMvj24DF9OCQGuutae9w5%2BmAlVK254DleKlubzCp3%2B6qEtRb7mc1uHcW35ONwtLMe6aEjYKiwKuLINpQSViqocNXNRWpEcmFIEEfyXkNnvBaihQW6Nvt8cGvUNYuU2Zy48WJEFiwvMevJCUrF%2Be9Hc1Tq5ctZfYJdE61aqn8Vc&X-Amz-Signature=22f1c9aa9e5b6ba4d33a6b25069fd13c281c4d3046156eb097fcd330c1dca3bf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664TLVGKEF%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJIMEYCIQDgOzqSLlKnhZY17pJLc0Vxwtn3DsZW5p%2FxLTMllVPgGAIhAKvAqzHZ0ExNaSdXSce8kz2AiSV695c64YbXdtWRkaBOKogECP3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwvSe1KXynSPSQPwpQq3AM3VgWWzC%2BkHJbcx6EY7FZIOWAhqR0GXruOwGKeC2ZToO4Hrusgf%2FvtAo84ZX5KAD1caetOwEPNsJ7f2W%2FiZMugLpuCiR9fdMn0U9Jj8pYkZxYjqv%2BLfD58PkkknmZFPyLNWJLT2KHgfBkZZ12oWUztNYcOWjwadn3inEd%2BvRLorTqvhnMB2fVbdUXKNugNJdzmfpyHZcRIHMWerWr86uho2Vz9MdIXkRtOZu4L1DYeMFO%2FO%2FoWLGINqrWgP9ijfyL6KZKUBfBQ5BpaevVN8gp5IyZchF%2FvfayOUD8RHJ2z%2BI891LNiFGxreNpvmh6IoZt52FmxZ240Hk2gW7f260BDjkI%2FdSZo%2FqswNco9ZSSkok6RIJnUwT%2BfDhDS3gHAXNa5e%2BpOU4Bu4Zi4V0oupaB3fHh%2BWvlKNt6V1uv7ubj1nvJXBoKAiOUSP22HDH6TFfADeUm2eib0pc%2F7V07oHyxv5jfrzMR6LNFzo57Eo3wWUbdiEYu8HdoYvstn5tMWbKSyct5Hosq406fQRbY%2Brhe0xUoE36wQVrw48sZL%2B4lDQuc3yWPwLsTGzKeUTLL2jbXWlSUosUqTrslWxqcYF4Jy7zH235Pmq90J%2FNyUgERWjoEjV%2BGJtShxhcYVqTCwhZfLBjqkAdfZfB2mDdBsd3yUJz2y3rpzr8iG9gpzFM3PNdE%2Bkv%2Bzd4S671ZYp3cr4rZ2%2ByDATwFwD%2Bj6AfME223dM8GETKUXs2VT8Yeu1yqDXBjHMuwEedJidiMscbXSIngdVAiZUa1Mhx%2BcflFY0Bn4a3DK3GGwNGyXtA30%2FMJOpOtRJcDVULIK8EkNmIMQZWOK337DQTFtHLTfZAIguEgpZOsV0MtWVQn0&X-Amz-Signature=75615e98a4b569b308ce6ce4a250fb09a9331876282e1c3ee8dd2574237c1093&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664TLVGKEF%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJIMEYCIQDgOzqSLlKnhZY17pJLc0Vxwtn3DsZW5p%2FxLTMllVPgGAIhAKvAqzHZ0ExNaSdXSce8kz2AiSV695c64YbXdtWRkaBOKogECP3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwvSe1KXynSPSQPwpQq3AM3VgWWzC%2BkHJbcx6EY7FZIOWAhqR0GXruOwGKeC2ZToO4Hrusgf%2FvtAo84ZX5KAD1caetOwEPNsJ7f2W%2FiZMugLpuCiR9fdMn0U9Jj8pYkZxYjqv%2BLfD58PkkknmZFPyLNWJLT2KHgfBkZZ12oWUztNYcOWjwadn3inEd%2BvRLorTqvhnMB2fVbdUXKNugNJdzmfpyHZcRIHMWerWr86uho2Vz9MdIXkRtOZu4L1DYeMFO%2FO%2FoWLGINqrWgP9ijfyL6KZKUBfBQ5BpaevVN8gp5IyZchF%2FvfayOUD8RHJ2z%2BI891LNiFGxreNpvmh6IoZt52FmxZ240Hk2gW7f260BDjkI%2FdSZo%2FqswNco9ZSSkok6RIJnUwT%2BfDhDS3gHAXNa5e%2BpOU4Bu4Zi4V0oupaB3fHh%2BWvlKNt6V1uv7ubj1nvJXBoKAiOUSP22HDH6TFfADeUm2eib0pc%2F7V07oHyxv5jfrzMR6LNFzo57Eo3wWUbdiEYu8HdoYvstn5tMWbKSyct5Hosq406fQRbY%2Brhe0xUoE36wQVrw48sZL%2B4lDQuc3yWPwLsTGzKeUTLL2jbXWlSUosUqTrslWxqcYF4Jy7zH235Pmq90J%2FNyUgERWjoEjV%2BGJtShxhcYVqTCwhZfLBjqkAdfZfB2mDdBsd3yUJz2y3rpzr8iG9gpzFM3PNdE%2Bkv%2Bzd4S671ZYp3cr4rZ2%2ByDATwFwD%2Bj6AfME223dM8GETKUXs2VT8Yeu1yqDXBjHMuwEedJidiMscbXSIngdVAiZUa1Mhx%2BcflFY0Bn4a3DK3GGwNGyXtA30%2FMJOpOtRJcDVULIK8EkNmIMQZWOK337DQTFtHLTfZAIguEgpZOsV0MtWVQn0&X-Amz-Signature=dce19dd276d1269c69d5cd996344ef1ef1ae28c7903713dd1548c7e44f5ab7d7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YJN3WTHH%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCIFSE3ocPklP1iy3rWBmpSAjqzZUc45qAI%2FujalD0wHWQAiEA%2B7kk%2BOHSv4lc3HTjOY8MbBWOC5COLz2pABmPXKErd3sqiAQI%2Ff%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPIDuMFHyD50Fz%2Bu5SrcA6Hk6TRqDvzk8qDqAotNqa2DktnzPBlVY1p9ojqM2YcxSQ1h83CrgnABcX%2BgyDzBoCNmDVbkK0IKJoXiZWeiIiRZod9yF9rClHsZleq3j9e4jI17GawJNapM%2B24pfxFq08Q3BMt%2BO2%2Bh%2FVEVQjWwN%2BQ8Ru8mO%2FKeKkMAlrCWUKW75kDMwapTT%2FJdUYdDpNYE1lQ%2BFEnEkIYSR%2B0uOgpC0CUmmZRNYtdjPaD6GWIx928PIr2HR7x5svkQGehxFn5qaKtnU8%2F1iyJx8yxcEMUpp9x6IVnJack7SyV4m95BWUUeWfaj2uFpbBvOZUNP0Q%2F%2BuHAzWxsSEx%2FYEwfaZAFXxxlqkW0DnDOUa0ZJQsWjxv0omeCwvlC5n8rSMGjGxxMBwVy6IVS%2FtH%2BVOXvOPKh%2F6VJhhGgu4VM2KB4ZTEkz2jt6PR3mAaQMesNzizwXslA8mNDgxVzE3rw%2BWB97BGGfzBGO6P9t6yl5njQXbqo2%2BEfGrQuUqWGAbbrnIwEmHSQqyOwjY46CBGWIuoUEi%2FSZ3Mduz2x1IfqThHqT89XSaoOCT5dav%2FSBulwLGHcRZnUhbOZE534ywBHTZZA1nZ930BhEG6j2gP757D%2F1fA9fAgYv87cfrj2i4VppUseEMMqHl8sGOqUBpnTgDNC2xZ34zrbzVL8th%2BEb4Disv%2Bhbht1YtOfFTxaN9HyyddOlRJQ47iOjW8nkPz3DdGekc%2Fzf2VLXOiPfEfI6BCUS4XPbbExRLDmQZk%2BFH7HFrhmBWag3zZFvQ65539P%2F22tx5xDOK%2FhxhN8balpm1MskBg3gqUnzK4aobBH6sHilS2KYmWHuKNo4MKnddoNy7kk7O727RJtS4v8rPcqT7bUR&X-Amz-Signature=88e4d917cff33f60fb0b556736eb1fb01dcb3134fe888938cbee08d58d9a5ada&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YJN3WTHH%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCIFSE3ocPklP1iy3rWBmpSAjqzZUc45qAI%2FujalD0wHWQAiEA%2B7kk%2BOHSv4lc3HTjOY8MbBWOC5COLz2pABmPXKErd3sqiAQI%2Ff%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPIDuMFHyD50Fz%2Bu5SrcA6Hk6TRqDvzk8qDqAotNqa2DktnzPBlVY1p9ojqM2YcxSQ1h83CrgnABcX%2BgyDzBoCNmDVbkK0IKJoXiZWeiIiRZod9yF9rClHsZleq3j9e4jI17GawJNapM%2B24pfxFq08Q3BMt%2BO2%2Bh%2FVEVQjWwN%2BQ8Ru8mO%2FKeKkMAlrCWUKW75kDMwapTT%2FJdUYdDpNYE1lQ%2BFEnEkIYSR%2B0uOgpC0CUmmZRNYtdjPaD6GWIx928PIr2HR7x5svkQGehxFn5qaKtnU8%2F1iyJx8yxcEMUpp9x6IVnJack7SyV4m95BWUUeWfaj2uFpbBvOZUNP0Q%2F%2BuHAzWxsSEx%2FYEwfaZAFXxxlqkW0DnDOUa0ZJQsWjxv0omeCwvlC5n8rSMGjGxxMBwVy6IVS%2FtH%2BVOXvOPKh%2F6VJhhGgu4VM2KB4ZTEkz2jt6PR3mAaQMesNzizwXslA8mNDgxVzE3rw%2BWB97BGGfzBGO6P9t6yl5njQXbqo2%2BEfGrQuUqWGAbbrnIwEmHSQqyOwjY46CBGWIuoUEi%2FSZ3Mduz2x1IfqThHqT89XSaoOCT5dav%2FSBulwLGHcRZnUhbOZE534ywBHTZZA1nZ930BhEG6j2gP757D%2F1fA9fAgYv87cfrj2i4VppUseEMMqHl8sGOqUBpnTgDNC2xZ34zrbzVL8th%2BEb4Disv%2Bhbht1YtOfFTxaN9HyyddOlRJQ47iOjW8nkPz3DdGekc%2Fzf2VLXOiPfEfI6BCUS4XPbbExRLDmQZk%2BFH7HFrhmBWag3zZFvQ65539P%2F22tx5xDOK%2FhxhN8balpm1MskBg3gqUnzK4aobBH6sHilS2KYmWHuKNo4MKnddoNy7kk7O727RJtS4v8rPcqT7bUR&X-Amz-Signature=9118ce68cf85cfb343d7ad1cb571b8ed918f3b4fee50c1df97e69d16ef4d9699&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666VAPMK2C%2F20260113%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260113T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCID1IjRaqniihIpiRa20sz1uf6PxA1fNDYL9BY2WuZ%2Bq2AiEA5GBMQlOgdUDaZK1eYbcnS1Iil3aQ6arlMWBrqgaE1NsqiAQI%2Ff%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBa73a%2Bd7KdR%2BqdwdyrcA%2B6wNQB4SovIET3TTfzpWYj%2FhyL7VNCXS8FobUpcesAlIOhqkUJoKzzlKshmyYwmhf%2FZd2mAq5UeJldVHcLEw8SCwmq61R1papNbac94YH2wt%2B%2FqUp7d%2Bmjd2dXZetMUGYMGqgZi5E96j27%2Fnwkftxc112QX8Kd3G2Jpvms62%2Br8tNYGyuyI0krOvjhvWl9ry0Y0G1TrpnR5jaTSrgFAwV4YGuUHE017cO3sX8PcbLANMaa1vmDDRnUO8wAtjS5HL%2BbJvdBnj6k3lfKPxRwEoTJfVhJJgz8tIDejtsv6mD0XODgl%2BehtBXFgdjfY9PWYDdX8ELdT6%2FNNVWHylnE3NzcRbvgPpFpaqnfa9zxAif3G6Xmd%2BOfTBJORH59KAxx7oabE3Rm6eQIhPmW5h142zIdo93ndHKdRlGeBreMkrLxaU0ojxnP9LCUrLWZlbCWOjx03ZxN%2B81SoezxEgLeaY7UazJ9y8cSu9zITV0eXLibe2ah%2B8iZi%2F9tWYxswKQhShUNBpJ%2BgnHc3kks1%2FWXU%2BKkCtn9PO0y5hqUtlzxac8YYsQfi9G%2BbNC%2BavdBjSVt6CNDhVenlWyeorACX%2FXDfhAsynMwaBM3%2FDJfAYQ%2FQ6rH9P0rYmquQ1UddW2AtMLaHl8sGOqUBF5rpNPoT8jqnSCaKZ5eCEGOn%2FuocZ2F3Iqq3VIbSY%2Fdk1Y0X7nCzYX%2FcXIomZt16qQaCXhkEqOl1Y8Cw7qbzoxh0GvYydgxeGTpvfdhfx2Sh1QaAlYSBRivcppYlGlMwfsBT66TW7l06q8qfnsoRlDTrfhO%2FpgV4F96mQ4mrThQwu6KMni0tgDsPSJQFRx1%2BNWMSLwxFVmaHp2ub%2FHrhg6yO5VnT&X-Amz-Signature=f4166a96c048c675394653a0de97225fbc9b1d424c2e22e7428b46a34cd62987&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
