
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TC66ILJQ%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040354Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCIGBUpA3UYz1N1oxyDicW6%2BL6fHKNqajN0xYe%2FZViNg5FAiEAohnkF%2B6KQ%2FOFqEuQ6rV%2B2ZLaNe9Pe6sbJS8xXoiDyXwqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNKtroi485gkHRhUMircA6G6KX2CURVYVhYMoQSh5za5pEObcs7nFYvTC%2F1rYIKTYdZYT%2BRM5U6kGjy3cTPQRKbnaDUFYAjJZjHHNuH4A5FlmyEn1pdhbvyAbWxcf0O8ygAVriYQ6RUM%2Fc6fRJrA932H36ND3LFGybOUZ4rEmBZI3jNUsqkHHUsnbyH4qcDB8B67XDfWWM0z6VV0BrPdfu73jMl0%2FWkRNGJA8wgC%2FYOvmGo6oVwSy3eBhK%2Fw217NsIq9hLFBMqFUPfBSiFLJwc%2FP2trnKkugh9O4K9wRtz%2BFJfyOsi96DzGsFAbA0X3sbHZjlBIEnpB65e2yRcANm4aqFdCjl9tEgeBtJlFDoqZAyWF10VMDYmcgoNswU%2B3HIHCtjtSrgHRJlgbh2C4MCWRCs5Akko6cGbhSQnHcUFtRnxQnqUb4%2Be3ARDMdcwKW%2BKb2ivsqP72IIydAbgS8GGtsh86ZgfrNzXXuW89Qw2HHsWX19UL4jLE23ImluLNTfR6o1TP1K35PJMKx6qOA%2FgBG8xAWg3ZRVnwo7Jf8NHaOzl8DCXCZFGXnggorapI8JcRtup45i6jtgXUkKrzjJ34p6tfhJn2hLk9rA5HpSsmeyxFqdjUiZZE4TovhTXgaOI0K795gSjS5fe2FMKjK48kGOqUBLEe3IJ%2FwlGQxUChnvoEKYxovL1pUWHq2s3yYsNykpAc27tfnpp7xQzVkrMdZzcF%2BizoD5ejl5nYFjeRckgpKZByEirbp7b3Y4LwEcNl7HGC%2BikP6oOe5l0x9IlW4ibBHd4GR330W0y4h6YDnC60O9AqdFWq%2FVitKqWn%2F6%2F2auHqzbepxeuGWXYCy9vMLk9hzksi3NMJBYBTyZUoL3Ga371WdKqf%2B&X-Amz-Signature=05f7a81c0a7e4160a5dd54eb5d0002c49d5bfede3652fd0041b03095aca4be8e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TC66ILJQ%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040354Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCIGBUpA3UYz1N1oxyDicW6%2BL6fHKNqajN0xYe%2FZViNg5FAiEAohnkF%2B6KQ%2FOFqEuQ6rV%2B2ZLaNe9Pe6sbJS8xXoiDyXwqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNKtroi485gkHRhUMircA6G6KX2CURVYVhYMoQSh5za5pEObcs7nFYvTC%2F1rYIKTYdZYT%2BRM5U6kGjy3cTPQRKbnaDUFYAjJZjHHNuH4A5FlmyEn1pdhbvyAbWxcf0O8ygAVriYQ6RUM%2Fc6fRJrA932H36ND3LFGybOUZ4rEmBZI3jNUsqkHHUsnbyH4qcDB8B67XDfWWM0z6VV0BrPdfu73jMl0%2FWkRNGJA8wgC%2FYOvmGo6oVwSy3eBhK%2Fw217NsIq9hLFBMqFUPfBSiFLJwc%2FP2trnKkugh9O4K9wRtz%2BFJfyOsi96DzGsFAbA0X3sbHZjlBIEnpB65e2yRcANm4aqFdCjl9tEgeBtJlFDoqZAyWF10VMDYmcgoNswU%2B3HIHCtjtSrgHRJlgbh2C4MCWRCs5Akko6cGbhSQnHcUFtRnxQnqUb4%2Be3ARDMdcwKW%2BKb2ivsqP72IIydAbgS8GGtsh86ZgfrNzXXuW89Qw2HHsWX19UL4jLE23ImluLNTfR6o1TP1K35PJMKx6qOA%2FgBG8xAWg3ZRVnwo7Jf8NHaOzl8DCXCZFGXnggorapI8JcRtup45i6jtgXUkKrzjJ34p6tfhJn2hLk9rA5HpSsmeyxFqdjUiZZE4TovhTXgaOI0K795gSjS5fe2FMKjK48kGOqUBLEe3IJ%2FwlGQxUChnvoEKYxovL1pUWHq2s3yYsNykpAc27tfnpp7xQzVkrMdZzcF%2BizoD5ejl5nYFjeRckgpKZByEirbp7b3Y4LwEcNl7HGC%2BikP6oOe5l0x9IlW4ibBHd4GR330W0y4h6YDnC60O9AqdFWq%2FVitKqWn%2F6%2F2auHqzbepxeuGWXYCy9vMLk9hzksi3NMJBYBTyZUoL3Ga371WdKqf%2B&X-Amz-Signature=aa38833bb1b6a925fe63e27f5253b775d93b5d761be3fe90886ba3ddd2baacf7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TC66ILJQ%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040354Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCIGBUpA3UYz1N1oxyDicW6%2BL6fHKNqajN0xYe%2FZViNg5FAiEAohnkF%2B6KQ%2FOFqEuQ6rV%2B2ZLaNe9Pe6sbJS8xXoiDyXwqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNKtroi485gkHRhUMircA6G6KX2CURVYVhYMoQSh5za5pEObcs7nFYvTC%2F1rYIKTYdZYT%2BRM5U6kGjy3cTPQRKbnaDUFYAjJZjHHNuH4A5FlmyEn1pdhbvyAbWxcf0O8ygAVriYQ6RUM%2Fc6fRJrA932H36ND3LFGybOUZ4rEmBZI3jNUsqkHHUsnbyH4qcDB8B67XDfWWM0z6VV0BrPdfu73jMl0%2FWkRNGJA8wgC%2FYOvmGo6oVwSy3eBhK%2Fw217NsIq9hLFBMqFUPfBSiFLJwc%2FP2trnKkugh9O4K9wRtz%2BFJfyOsi96DzGsFAbA0X3sbHZjlBIEnpB65e2yRcANm4aqFdCjl9tEgeBtJlFDoqZAyWF10VMDYmcgoNswU%2B3HIHCtjtSrgHRJlgbh2C4MCWRCs5Akko6cGbhSQnHcUFtRnxQnqUb4%2Be3ARDMdcwKW%2BKb2ivsqP72IIydAbgS8GGtsh86ZgfrNzXXuW89Qw2HHsWX19UL4jLE23ImluLNTfR6o1TP1K35PJMKx6qOA%2FgBG8xAWg3ZRVnwo7Jf8NHaOzl8DCXCZFGXnggorapI8JcRtup45i6jtgXUkKrzjJ34p6tfhJn2hLk9rA5HpSsmeyxFqdjUiZZE4TovhTXgaOI0K795gSjS5fe2FMKjK48kGOqUBLEe3IJ%2FwlGQxUChnvoEKYxovL1pUWHq2s3yYsNykpAc27tfnpp7xQzVkrMdZzcF%2BizoD5ejl5nYFjeRckgpKZByEirbp7b3Y4LwEcNl7HGC%2BikP6oOe5l0x9IlW4ibBHd4GR330W0y4h6YDnC60O9AqdFWq%2FVitKqWn%2F6%2F2auHqzbepxeuGWXYCy9vMLk9hzksi3NMJBYBTyZUoL3Ga371WdKqf%2B&X-Amz-Signature=b2f5ce83a17a001342731b428ac1b13413fe3d47cdc8de1da0f4f4fb1b7a0ec8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RH5AOFZ5%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040354Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJGMEQCIEnYvKk7V%2BRkEfhn0ylC8J2tUvafI8leJ5cn4r8kjF6eAiAHWFAPfamzbRkhEW%2BvQUQD95CTDp9tUxJsufr9ozx9GSqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMS2SN4WE9ey4X3v%2FeKtwDd8H2X5p8OsGW8VyKUHxT0GANaSopHS4EMatj6jER0V2A2%2Bm2B6P0Q%2B4nKkxWuVJphmdvV%2B7u8mQEHqaJrUf6V5DK3Xwe5nz9A76%2F8fypxTgnXlzcFpkwoJ7%2Bedd4eItYmIMftgu4JA%2Feea3D0Kj8bbv6ebU3U1jHZR3I%2Butjt9Fo5s6ygBrhPcuqqPxYzkvGmBrJskyBKh%2F%2FKdtroorHB2qBrHEGsRHrms6IcdAeaqkkrTQrADh0QLmTurwlJYcXDvnU%2B7%2FRA4Pj8idN94jxhNc7a%2FUBlXkGJBhzm6RVSYHEG0%2BZoGUTIQE3VwluB8FV0QHSSUdDHh8A6N9Whdfi%2Frmdfs1M2Tifq52%2FsgWf9mtK7tEmmRvJPbND39TOPkflInCeKzgHIoLvb35yRyqhth3guWHMgmMA%2FRnK6GP3aYEd8%2BKDY5dOYb4qtzd%2F%2FYIljdfA5PU7kPBLv78fDvSYPaBB0cDq5gmCGhSQUOAXco%2BNhkKBJhG6vXbkHu%2Bc4o5aeFAJJ6lYp%2FOA2H3AMxJeeYNLgVqtb%2FLCR5he8jzPzy7gkqKCiOMiHtntOI215e1kqRn0B9ihZv%2FDhc3%2FRlI4VvYf%2Fw8pwczp9PyjfLiQZ%2Fu%2BacE0qMKWWUxB6bUwisrjyQY6pgF8k42o5RUGEm%2FVP1Fzvb3idYWY2b%2B%2BxqoZ5dy%2Bu5qkesv%2FlCHu4xazdFJHwb8Kh5rR4WhJQfDTD3R3cTSwVud1q0KVo19CoTzA9a2msqQY4ELVbJN4%2BF8mxUuFM4jhko6H54k87E9ckD1o1kimw%2FmnXxZ6YnwKRHrEXsgjiFQPOm0s4GpK2sf8KqyXLgLENi%2FSuWDmz%2FM42KWlMlCQLvb9ltoyM5Eb&X-Amz-Signature=28f3e7228bc6505af1c9caf130c79016da1f9d3a055fae359976503e14d47be9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RH5AOFZ5%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040354Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJGMEQCIEnYvKk7V%2BRkEfhn0ylC8J2tUvafI8leJ5cn4r8kjF6eAiAHWFAPfamzbRkhEW%2BvQUQD95CTDp9tUxJsufr9ozx9GSqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMS2SN4WE9ey4X3v%2FeKtwDd8H2X5p8OsGW8VyKUHxT0GANaSopHS4EMatj6jER0V2A2%2Bm2B6P0Q%2B4nKkxWuVJphmdvV%2B7u8mQEHqaJrUf6V5DK3Xwe5nz9A76%2F8fypxTgnXlzcFpkwoJ7%2Bedd4eItYmIMftgu4JA%2Feea3D0Kj8bbv6ebU3U1jHZR3I%2Butjt9Fo5s6ygBrhPcuqqPxYzkvGmBrJskyBKh%2F%2FKdtroorHB2qBrHEGsRHrms6IcdAeaqkkrTQrADh0QLmTurwlJYcXDvnU%2B7%2FRA4Pj8idN94jxhNc7a%2FUBlXkGJBhzm6RVSYHEG0%2BZoGUTIQE3VwluB8FV0QHSSUdDHh8A6N9Whdfi%2Frmdfs1M2Tifq52%2FsgWf9mtK7tEmmRvJPbND39TOPkflInCeKzgHIoLvb35yRyqhth3guWHMgmMA%2FRnK6GP3aYEd8%2BKDY5dOYb4qtzd%2F%2FYIljdfA5PU7kPBLv78fDvSYPaBB0cDq5gmCGhSQUOAXco%2BNhkKBJhG6vXbkHu%2Bc4o5aeFAJJ6lYp%2FOA2H3AMxJeeYNLgVqtb%2FLCR5he8jzPzy7gkqKCiOMiHtntOI215e1kqRn0B9ihZv%2FDhc3%2FRlI4VvYf%2Fw8pwczp9PyjfLiQZ%2Fu%2BacE0qMKWWUxB6bUwisrjyQY6pgF8k42o5RUGEm%2FVP1Fzvb3idYWY2b%2B%2BxqoZ5dy%2Bu5qkesv%2FlCHu4xazdFJHwb8Kh5rR4WhJQfDTD3R3cTSwVud1q0KVo19CoTzA9a2msqQY4ELVbJN4%2BF8mxUuFM4jhko6H54k87E9ckD1o1kimw%2FmnXxZ6YnwKRHrEXsgjiFQPOm0s4GpK2sf8KqyXLgLENi%2FSuWDmz%2FM42KWlMlCQLvb9ltoyM5Eb&X-Amz-Signature=8bdddbfbf2b2b44fa5e441c2e35fc4543f9cb282e7ed1e5a2edefebada754ac5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RH5AOFZ5%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040354Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJGMEQCIEnYvKk7V%2BRkEfhn0ylC8J2tUvafI8leJ5cn4r8kjF6eAiAHWFAPfamzbRkhEW%2BvQUQD95CTDp9tUxJsufr9ozx9GSqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMS2SN4WE9ey4X3v%2FeKtwDd8H2X5p8OsGW8VyKUHxT0GANaSopHS4EMatj6jER0V2A2%2Bm2B6P0Q%2B4nKkxWuVJphmdvV%2B7u8mQEHqaJrUf6V5DK3Xwe5nz9A76%2F8fypxTgnXlzcFpkwoJ7%2Bedd4eItYmIMftgu4JA%2Feea3D0Kj8bbv6ebU3U1jHZR3I%2Butjt9Fo5s6ygBrhPcuqqPxYzkvGmBrJskyBKh%2F%2FKdtroorHB2qBrHEGsRHrms6IcdAeaqkkrTQrADh0QLmTurwlJYcXDvnU%2B7%2FRA4Pj8idN94jxhNc7a%2FUBlXkGJBhzm6RVSYHEG0%2BZoGUTIQE3VwluB8FV0QHSSUdDHh8A6N9Whdfi%2Frmdfs1M2Tifq52%2FsgWf9mtK7tEmmRvJPbND39TOPkflInCeKzgHIoLvb35yRyqhth3guWHMgmMA%2FRnK6GP3aYEd8%2BKDY5dOYb4qtzd%2F%2FYIljdfA5PU7kPBLv78fDvSYPaBB0cDq5gmCGhSQUOAXco%2BNhkKBJhG6vXbkHu%2Bc4o5aeFAJJ6lYp%2FOA2H3AMxJeeYNLgVqtb%2FLCR5he8jzPzy7gkqKCiOMiHtntOI215e1kqRn0B9ihZv%2FDhc3%2FRlI4VvYf%2Fw8pwczp9PyjfLiQZ%2Fu%2BacE0qMKWWUxB6bUwisrjyQY6pgF8k42o5RUGEm%2FVP1Fzvb3idYWY2b%2B%2BxqoZ5dy%2Bu5qkesv%2FlCHu4xazdFJHwb8Kh5rR4WhJQfDTD3R3cTSwVud1q0KVo19CoTzA9a2msqQY4ELVbJN4%2BF8mxUuFM4jhko6H54k87E9ckD1o1kimw%2FmnXxZ6YnwKRHrEXsgjiFQPOm0s4GpK2sf8KqyXLgLENi%2FSuWDmz%2FM42KWlMlCQLvb9ltoyM5Eb&X-Amz-Signature=478887841847d12ec46a1203877a00821008bb10c2f141ae847af4ac19668f84&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UGR3CEFI%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIArgwp9iCsV1%2Byfq8J6xi3nW0U8ww3CuxgCsIhiYqRTYAiAlSsvsRxzj%2BqAHDsJWhcpXhphxNWTkLhUDRmfHdBrD9SqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqBJcooU3hwomIOI7KtwDL07UPQDbvojDMZVm7Ofqpm8i%2Fg6rfLanEQXVPUcTWZ3cP1Z1ac7agCiiy8sNfGuIIJNJ9nv%2BT8hIBet7NR%2B%2BLAVt0DvBSvwbuHZ%2BidOSQ6YABP%2BjP%2FHe%2Bxzr95ogC1z%2FzknT6iC8sA17rmM1XutnHfoCZcRwbaK3xoPrNRYzorEepWIUuY7TAHszxQMCpuT4HwF7pGK9dsmH%2BNRzcvQ%2F92d346j6oS%2FE7J2biiN%2BXX7lNvLtqh9p4oRxdrO94gGGDffSkLiBAalHzZET9V47J9M92kx6rAcK5n3w4No0tDoNcfwm4sEnSBgnA36m2UfysgBLz%2BvtboWXgAuhgHqbR2QZpi7YuO%2BPQ8l%2B5jpFsi9k73M8o8ZcJ7E9ZbkNlyN%2F7ZXGhRpAuxLcedBQgyNOXuzvajiyxey66GlMm48uA5E7IPsKUzGG7cyyCSRx1xLKOWUxTQuFhVDyoZ2YHXRCbFMMGlpSsWKG0BDZ6BCNKxZPtMdYm5MSpcY5DUNO5KUQYvDhFtEBIG7SlcnV2tUEiJ3bBmf%2B%2FeTjwFdtzHsw%2BzdeTSrvJ7bqSscKbKduzpn5UJ9Wa7Z%2B1KpmlzpOb5AJP%2B2l32wnk6ZF2MNGrjKLxgNdSyILM3cku3xsz4YwjM3jyQY6pgGl01%2FlQIzgCkhr9kZqql%2FSngR0xm0RHLEoybWhh45CU3t%2BgMRsTWcLxsLti7kbOZSz23ZZxIAO9BxwuQhn7g7dmIxnD6760mzf04nXbH3MLKu6TsiXE%2BWEZSA%2Fs%2Br%2F886JnzqnNA5QhmHfK%2F%2BVmsLQX1he3TXVGUoaVWQ%2FgjjoELSqXq3IHvs5y4OUNqkrUWu8DfoRHGuJ468GVKN3l693kXMCwVU6&X-Amz-Signature=b4fe88eea358d7f9147c9d372ee2ccd8537f16a6f74b050aaae3d2b998dced51&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UGR3CEFI%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIArgwp9iCsV1%2Byfq8J6xi3nW0U8ww3CuxgCsIhiYqRTYAiAlSsvsRxzj%2BqAHDsJWhcpXhphxNWTkLhUDRmfHdBrD9SqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqBJcooU3hwomIOI7KtwDL07UPQDbvojDMZVm7Ofqpm8i%2Fg6rfLanEQXVPUcTWZ3cP1Z1ac7agCiiy8sNfGuIIJNJ9nv%2BT8hIBet7NR%2B%2BLAVt0DvBSvwbuHZ%2BidOSQ6YABP%2BjP%2FHe%2Bxzr95ogC1z%2FzknT6iC8sA17rmM1XutnHfoCZcRwbaK3xoPrNRYzorEepWIUuY7TAHszxQMCpuT4HwF7pGK9dsmH%2BNRzcvQ%2F92d346j6oS%2FE7J2biiN%2BXX7lNvLtqh9p4oRxdrO94gGGDffSkLiBAalHzZET9V47J9M92kx6rAcK5n3w4No0tDoNcfwm4sEnSBgnA36m2UfysgBLz%2BvtboWXgAuhgHqbR2QZpi7YuO%2BPQ8l%2B5jpFsi9k73M8o8ZcJ7E9ZbkNlyN%2F7ZXGhRpAuxLcedBQgyNOXuzvajiyxey66GlMm48uA5E7IPsKUzGG7cyyCSRx1xLKOWUxTQuFhVDyoZ2YHXRCbFMMGlpSsWKG0BDZ6BCNKxZPtMdYm5MSpcY5DUNO5KUQYvDhFtEBIG7SlcnV2tUEiJ3bBmf%2B%2FeTjwFdtzHsw%2BzdeTSrvJ7bqSscKbKduzpn5UJ9Wa7Z%2B1KpmlzpOb5AJP%2B2l32wnk6ZF2MNGrjKLxgNdSyILM3cku3xsz4YwjM3jyQY6pgGl01%2FlQIzgCkhr9kZqql%2FSngR0xm0RHLEoybWhh45CU3t%2BgMRsTWcLxsLti7kbOZSz23ZZxIAO9BxwuQhn7g7dmIxnD6760mzf04nXbH3MLKu6TsiXE%2BWEZSA%2Fs%2Br%2F886JnzqnNA5QhmHfK%2F%2BVmsLQX1he3TXVGUoaVWQ%2FgjjoELSqXq3IHvs5y4OUNqkrUWu8DfoRHGuJ468GVKN3l693kXMCwVU6&X-Amz-Signature=e465aa1ec80ae72c469aac50f01dabfbeb80387a0596bd382e1524043d6d349c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UGR3CEFI%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIArgwp9iCsV1%2Byfq8J6xi3nW0U8ww3CuxgCsIhiYqRTYAiAlSsvsRxzj%2BqAHDsJWhcpXhphxNWTkLhUDRmfHdBrD9SqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqBJcooU3hwomIOI7KtwDL07UPQDbvojDMZVm7Ofqpm8i%2Fg6rfLanEQXVPUcTWZ3cP1Z1ac7agCiiy8sNfGuIIJNJ9nv%2BT8hIBet7NR%2B%2BLAVt0DvBSvwbuHZ%2BidOSQ6YABP%2BjP%2FHe%2Bxzr95ogC1z%2FzknT6iC8sA17rmM1XutnHfoCZcRwbaK3xoPrNRYzorEepWIUuY7TAHszxQMCpuT4HwF7pGK9dsmH%2BNRzcvQ%2F92d346j6oS%2FE7J2biiN%2BXX7lNvLtqh9p4oRxdrO94gGGDffSkLiBAalHzZET9V47J9M92kx6rAcK5n3w4No0tDoNcfwm4sEnSBgnA36m2UfysgBLz%2BvtboWXgAuhgHqbR2QZpi7YuO%2BPQ8l%2B5jpFsi9k73M8o8ZcJ7E9ZbkNlyN%2F7ZXGhRpAuxLcedBQgyNOXuzvajiyxey66GlMm48uA5E7IPsKUzGG7cyyCSRx1xLKOWUxTQuFhVDyoZ2YHXRCbFMMGlpSsWKG0BDZ6BCNKxZPtMdYm5MSpcY5DUNO5KUQYvDhFtEBIG7SlcnV2tUEiJ3bBmf%2B%2FeTjwFdtzHsw%2BzdeTSrvJ7bqSscKbKduzpn5UJ9Wa7Z%2B1KpmlzpOb5AJP%2B2l32wnk6ZF2MNGrjKLxgNdSyILM3cku3xsz4YwjM3jyQY6pgGl01%2FlQIzgCkhr9kZqql%2FSngR0xm0RHLEoybWhh45CU3t%2BgMRsTWcLxsLti7kbOZSz23ZZxIAO9BxwuQhn7g7dmIxnD6760mzf04nXbH3MLKu6TsiXE%2BWEZSA%2Fs%2Br%2F886JnzqnNA5QhmHfK%2F%2BVmsLQX1he3TXVGUoaVWQ%2FgjjoELSqXq3IHvs5y4OUNqkrUWu8DfoRHGuJ468GVKN3l693kXMCwVU6&X-Amz-Signature=24f8f456188072ddde1371b4532c2a35327a7f35121670dda7edb48ee3e39676&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UGR3CEFI%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIArgwp9iCsV1%2Byfq8J6xi3nW0U8ww3CuxgCsIhiYqRTYAiAlSsvsRxzj%2BqAHDsJWhcpXhphxNWTkLhUDRmfHdBrD9SqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqBJcooU3hwomIOI7KtwDL07UPQDbvojDMZVm7Ofqpm8i%2Fg6rfLanEQXVPUcTWZ3cP1Z1ac7agCiiy8sNfGuIIJNJ9nv%2BT8hIBet7NR%2B%2BLAVt0DvBSvwbuHZ%2BidOSQ6YABP%2BjP%2FHe%2Bxzr95ogC1z%2FzknT6iC8sA17rmM1XutnHfoCZcRwbaK3xoPrNRYzorEepWIUuY7TAHszxQMCpuT4HwF7pGK9dsmH%2BNRzcvQ%2F92d346j6oS%2FE7J2biiN%2BXX7lNvLtqh9p4oRxdrO94gGGDffSkLiBAalHzZET9V47J9M92kx6rAcK5n3w4No0tDoNcfwm4sEnSBgnA36m2UfysgBLz%2BvtboWXgAuhgHqbR2QZpi7YuO%2BPQ8l%2B5jpFsi9k73M8o8ZcJ7E9ZbkNlyN%2F7ZXGhRpAuxLcedBQgyNOXuzvajiyxey66GlMm48uA5E7IPsKUzGG7cyyCSRx1xLKOWUxTQuFhVDyoZ2YHXRCbFMMGlpSsWKG0BDZ6BCNKxZPtMdYm5MSpcY5DUNO5KUQYvDhFtEBIG7SlcnV2tUEiJ3bBmf%2B%2FeTjwFdtzHsw%2BzdeTSrvJ7bqSscKbKduzpn5UJ9Wa7Z%2B1KpmlzpOb5AJP%2B2l32wnk6ZF2MNGrjKLxgNdSyILM3cku3xsz4YwjM3jyQY6pgGl01%2FlQIzgCkhr9kZqql%2FSngR0xm0RHLEoybWhh45CU3t%2BgMRsTWcLxsLti7kbOZSz23ZZxIAO9BxwuQhn7g7dmIxnD6760mzf04nXbH3MLKu6TsiXE%2BWEZSA%2Fs%2Br%2F886JnzqnNA5QhmHfK%2F%2BVmsLQX1he3TXVGUoaVWQ%2FgjjoELSqXq3IHvs5y4OUNqkrUWu8DfoRHGuJ468GVKN3l693kXMCwVU6&X-Amz-Signature=f26624e0aa0694d17074521ff7b96c2e197c4c0d458011e2f122ae2404e0e67e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UFVCUOQ7%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIEovfVwom5tmtnTgfrNIeX0HMQapvjsIfObmAo7CD1W%2FAiBlCJQY6Slpr0ZZC1eODUt7fpv%2BNSwep8fxGM7QyTWdVCqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMymsD91eko%2B7XMCHCKtwDV%2BiIrWLdA5QipKJ%2Bz5BhwCOVevynng5AMklTNUbDx7kLwrVSjrYkdSYopV0%2BO0Jv6fZ5uOGoJLiEA2JI0A9f5j%2BW4bu%2FoaavIJCxqaXESHWKvHF9DvFQtoVePqRXGL%2BsqReOsr1n0p5h7Nqc%2FTSKcJ0O7UHogJ2yuIQZbSLMq%2Bqic6MJtA098LcLSaXRPoNDc8aLxMiTCqBAFx2wJIhdv1UIyBA5kS3yXVeHNv26%2Fw24TjYZLMhkwW0Lo3kbDi59gE0Bw5jGtD7vp8VB8z%2FPDY6xdOWrcRkXHkfkv%2F%2FRFxl9sgLeka83VWlVwuWedy2qb8GoPQ6UkK0YChzk0e6It7ggMpcOeyOQpfmVlXghywb5Rjkpd0w085Rw8KyqSXNG7MekrdUD4n%2BT%2FGWgQHlmwS%2BOeWZvdb3nse2AB5YW2APUMZWc10dW3Jx%2BN1NhYSWX4ePPTHCxXBZdNNJ4wZuVCGUw6sEyx7Gf7mRWcFgA9HmmxqoE5WIg2iUBHseWJgGvY%2Bwq0QGI%2BXtlFv5aJrFgAr2VH%2FvEba0d66IPOTCu9iROqZH36cB2G6QFDqlRihQa9KK7FluoMwEkfx2DLUSq8pgftIbrCvEqMXtt%2FRb9yReWjS8bODak%2BZD74J4wjc3jyQY6pgEGE7SvJ915PO%2FQXCqjGVMbAqeIrvV4ap8uhxGHR9HyeaKC2as4kVYtqg6TInpCAnzD5EpfnRMsjsAoJTlAadzk4kwFYUvR68%2FRzAeW%2BEa%2BFzAbYKwfAlkisSg39Wl0AZAkV4qkpLWeRnm%2FQSyOFgHKAL6GN%2FAorYnzUl2QyTRcmCh2Lbu%2BjgWtniMp8uxslrYmSY%2BNmHiiXQMy4wa4VyPrB2ZAnJZt&X-Amz-Signature=5b704fe86f488825ee516b27a3c8da32d9ed7762bb8f440b9c8e95e5164b8f8d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UFVCUOQ7%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIEovfVwom5tmtnTgfrNIeX0HMQapvjsIfObmAo7CD1W%2FAiBlCJQY6Slpr0ZZC1eODUt7fpv%2BNSwep8fxGM7QyTWdVCqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMymsD91eko%2B7XMCHCKtwDV%2BiIrWLdA5QipKJ%2Bz5BhwCOVevynng5AMklTNUbDx7kLwrVSjrYkdSYopV0%2BO0Jv6fZ5uOGoJLiEA2JI0A9f5j%2BW4bu%2FoaavIJCxqaXESHWKvHF9DvFQtoVePqRXGL%2BsqReOsr1n0p5h7Nqc%2FTSKcJ0O7UHogJ2yuIQZbSLMq%2Bqic6MJtA098LcLSaXRPoNDc8aLxMiTCqBAFx2wJIhdv1UIyBA5kS3yXVeHNv26%2Fw24TjYZLMhkwW0Lo3kbDi59gE0Bw5jGtD7vp8VB8z%2FPDY6xdOWrcRkXHkfkv%2F%2FRFxl9sgLeka83VWlVwuWedy2qb8GoPQ6UkK0YChzk0e6It7ggMpcOeyOQpfmVlXghywb5Rjkpd0w085Rw8KyqSXNG7MekrdUD4n%2BT%2FGWgQHlmwS%2BOeWZvdb3nse2AB5YW2APUMZWc10dW3Jx%2BN1NhYSWX4ePPTHCxXBZdNNJ4wZuVCGUw6sEyx7Gf7mRWcFgA9HmmxqoE5WIg2iUBHseWJgGvY%2Bwq0QGI%2BXtlFv5aJrFgAr2VH%2FvEba0d66IPOTCu9iROqZH36cB2G6QFDqlRihQa9KK7FluoMwEkfx2DLUSq8pgftIbrCvEqMXtt%2FRb9yReWjS8bODak%2BZD74J4wjc3jyQY6pgEGE7SvJ915PO%2FQXCqjGVMbAqeIrvV4ap8uhxGHR9HyeaKC2as4kVYtqg6TInpCAnzD5EpfnRMsjsAoJTlAadzk4kwFYUvR68%2FRzAeW%2BEa%2BFzAbYKwfAlkisSg39Wl0AZAkV4qkpLWeRnm%2FQSyOFgHKAL6GN%2FAorYnzUl2QyTRcmCh2Lbu%2BjgWtniMp8uxslrYmSY%2BNmHiiXQMy4wa4VyPrB2ZAnJZt&X-Amz-Signature=78007e3c214468e14294ca60ca8916d43e1f24677cdf1734fcdfa8512f12a725&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UFVCUOQ7%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIEovfVwom5tmtnTgfrNIeX0HMQapvjsIfObmAo7CD1W%2FAiBlCJQY6Slpr0ZZC1eODUt7fpv%2BNSwep8fxGM7QyTWdVCqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMymsD91eko%2B7XMCHCKtwDV%2BiIrWLdA5QipKJ%2Bz5BhwCOVevynng5AMklTNUbDx7kLwrVSjrYkdSYopV0%2BO0Jv6fZ5uOGoJLiEA2JI0A9f5j%2BW4bu%2FoaavIJCxqaXESHWKvHF9DvFQtoVePqRXGL%2BsqReOsr1n0p5h7Nqc%2FTSKcJ0O7UHogJ2yuIQZbSLMq%2Bqic6MJtA098LcLSaXRPoNDc8aLxMiTCqBAFx2wJIhdv1UIyBA5kS3yXVeHNv26%2Fw24TjYZLMhkwW0Lo3kbDi59gE0Bw5jGtD7vp8VB8z%2FPDY6xdOWrcRkXHkfkv%2F%2FRFxl9sgLeka83VWlVwuWedy2qb8GoPQ6UkK0YChzk0e6It7ggMpcOeyOQpfmVlXghywb5Rjkpd0w085Rw8KyqSXNG7MekrdUD4n%2BT%2FGWgQHlmwS%2BOeWZvdb3nse2AB5YW2APUMZWc10dW3Jx%2BN1NhYSWX4ePPTHCxXBZdNNJ4wZuVCGUw6sEyx7Gf7mRWcFgA9HmmxqoE5WIg2iUBHseWJgGvY%2Bwq0QGI%2BXtlFv5aJrFgAr2VH%2FvEba0d66IPOTCu9iROqZH36cB2G6QFDqlRihQa9KK7FluoMwEkfx2DLUSq8pgftIbrCvEqMXtt%2FRb9yReWjS8bODak%2BZD74J4wjc3jyQY6pgEGE7SvJ915PO%2FQXCqjGVMbAqeIrvV4ap8uhxGHR9HyeaKC2as4kVYtqg6TInpCAnzD5EpfnRMsjsAoJTlAadzk4kwFYUvR68%2FRzAeW%2BEa%2BFzAbYKwfAlkisSg39Wl0AZAkV4qkpLWeRnm%2FQSyOFgHKAL6GN%2FAorYnzUl2QyTRcmCh2Lbu%2BjgWtniMp8uxslrYmSY%2BNmHiiXQMy4wa4VyPrB2ZAnJZt&X-Amz-Signature=afa331d30d82e7eba0f5ee5fe133764c24c73c3c44175d35a18a82c0e96e3d61&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UFVCUOQ7%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAQaCXVzLXdlc3QtMiJGMEQCIEovfVwom5tmtnTgfrNIeX0HMQapvjsIfObmAo7CD1W%2FAiBlCJQY6Slpr0ZZC1eODUt7fpv%2BNSwep8fxGM7QyTWdVCqIBAjM%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMymsD91eko%2B7XMCHCKtwDV%2BiIrWLdA5QipKJ%2Bz5BhwCOVevynng5AMklTNUbDx7kLwrVSjrYkdSYopV0%2BO0Jv6fZ5uOGoJLiEA2JI0A9f5j%2BW4bu%2FoaavIJCxqaXESHWKvHF9DvFQtoVePqRXGL%2BsqReOsr1n0p5h7Nqc%2FTSKcJ0O7UHogJ2yuIQZbSLMq%2Bqic6MJtA098LcLSaXRPoNDc8aLxMiTCqBAFx2wJIhdv1UIyBA5kS3yXVeHNv26%2Fw24TjYZLMhkwW0Lo3kbDi59gE0Bw5jGtD7vp8VB8z%2FPDY6xdOWrcRkXHkfkv%2F%2FRFxl9sgLeka83VWlVwuWedy2qb8GoPQ6UkK0YChzk0e6It7ggMpcOeyOQpfmVlXghywb5Rjkpd0w085Rw8KyqSXNG7MekrdUD4n%2BT%2FGWgQHlmwS%2BOeWZvdb3nse2AB5YW2APUMZWc10dW3Jx%2BN1NhYSWX4ePPTHCxXBZdNNJ4wZuVCGUw6sEyx7Gf7mRWcFgA9HmmxqoE5WIg2iUBHseWJgGvY%2Bwq0QGI%2BXtlFv5aJrFgAr2VH%2FvEba0d66IPOTCu9iROqZH36cB2G6QFDqlRihQa9KK7FluoMwEkfx2DLUSq8pgftIbrCvEqMXtt%2FRb9yReWjS8bODak%2BZD74J4wjc3jyQY6pgEGE7SvJ915PO%2FQXCqjGVMbAqeIrvV4ap8uhxGHR9HyeaKC2as4kVYtqg6TInpCAnzD5EpfnRMsjsAoJTlAadzk4kwFYUvR68%2FRzAeW%2BEa%2BFzAbYKwfAlkisSg39Wl0AZAkV4qkpLWeRnm%2FQSyOFgHKAL6GN%2FAorYnzUl2QyTRcmCh2Lbu%2BjgWtniMp8uxslrYmSY%2BNmHiiXQMy4wa4VyPrB2ZAnJZt&X-Amz-Signature=208ea3ec5499549d4148a90f9f1dc294ab1d20ce6a03112d90e28ad9a8d7f74f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJYUAEHL%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCIQDE2d7NojKBcp3kL%2BmOWSHBdqWUo%2FkFpBuZXAcT9kRQBAIgToIG0yFGRpEMi1Ac0oApPvNtrpH5vhMtq%2FUipgSmNKwqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNKJa1yxkmkK%2B9E4WCrcAyZSpz5nSBAXgUoupc9MLJLHlCA80efhidsK%2BLrs%2BbejUB1vEmJ1MTXyRWJj1QmkOXLQSpvTBsipsFXV4vaGXc%2FGMWjdkBKg7h7VXYuod6kKQQAPo15W2Ljpt1WULnEV%2FCFg8K88WATqtKCimfL3KPggLyG0uRRX8Aatin5s7SoFE1qD3AW4ByDmeEG4XIuz%2BCGZBs8%2FWN4UTwRdZH4Ndk7L2YFJVQCtsrFWNv6aUX5Bo1lV5wNTXk1J0jWGeTqEDvuTHgzAkj1PGiE5p9kBifd%2FH3z5eiTmE45%2BEybR7%2Fa7fMAu1PnvOV06lqJncQME95Kcn2Xt5PjgYoGpZ0KrhbUkzizmg7BtoDRfbBgHLAinrluH6yz5XVVTt02VmV4rDmQkq1x%2Fkbd0Zx%2FiNwPSptIo2i6r1sim0bj685g27SghyjxsP1pds%2Fk4c7wpLj49c7iqdGv2I9Z5aaHpEb%2BrCUB%2FVUGqy9Cpox5BDzBDLTde5OLPPlwkda5%2FXIFnQVA%2BxYfszi09kivtrbePK6%2BWPKlOT2LPVRhIqKTIgCqSwRQTSZ3plnpaf%2Bz9y7gB37JQtdYvsjnu6QSIISJvD7o5Qpd3KW3SHQ3nn%2FwBP9JtkdfCG0M3EV8aGFraiSJ0ML3K48kGOqUBcLuAQ1JWQ027DdG2mTv7rJtYZSi9Kk%2B2LrGNujCQHJoGnQuT%2Fb5UKv9Y5meWJvWZpjp%2Fj68PEZSv8uHogZIrS8RUY4SoykXlBcX2FwJNA7FVkkfHn2j8Tvq3rdFc11qK%2FzhhgQIyDosnwco4DvH01IccHxP6WKRigQUp4ijWpb8jtLQAUyd5%2ByFivxBqNR0Fcng9J4Gd4dPtW5BbTSy4jrB%2BFwXR&X-Amz-Signature=6ece849abe46ad39257db4bd64ac25fdff7affa916233bb3d450952dbcd2aa77&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJYUAEHL%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCIQDE2d7NojKBcp3kL%2BmOWSHBdqWUo%2FkFpBuZXAcT9kRQBAIgToIG0yFGRpEMi1Ac0oApPvNtrpH5vhMtq%2FUipgSmNKwqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNKJa1yxkmkK%2B9E4WCrcAyZSpz5nSBAXgUoupc9MLJLHlCA80efhidsK%2BLrs%2BbejUB1vEmJ1MTXyRWJj1QmkOXLQSpvTBsipsFXV4vaGXc%2FGMWjdkBKg7h7VXYuod6kKQQAPo15W2Ljpt1WULnEV%2FCFg8K88WATqtKCimfL3KPggLyG0uRRX8Aatin5s7SoFE1qD3AW4ByDmeEG4XIuz%2BCGZBs8%2FWN4UTwRdZH4Ndk7L2YFJVQCtsrFWNv6aUX5Bo1lV5wNTXk1J0jWGeTqEDvuTHgzAkj1PGiE5p9kBifd%2FH3z5eiTmE45%2BEybR7%2Fa7fMAu1PnvOV06lqJncQME95Kcn2Xt5PjgYoGpZ0KrhbUkzizmg7BtoDRfbBgHLAinrluH6yz5XVVTt02VmV4rDmQkq1x%2Fkbd0Zx%2FiNwPSptIo2i6r1sim0bj685g27SghyjxsP1pds%2Fk4c7wpLj49c7iqdGv2I9Z5aaHpEb%2BrCUB%2FVUGqy9Cpox5BDzBDLTde5OLPPlwkda5%2FXIFnQVA%2BxYfszi09kivtrbePK6%2BWPKlOT2LPVRhIqKTIgCqSwRQTSZ3plnpaf%2Bz9y7gB37JQtdYvsjnu6QSIISJvD7o5Qpd3KW3SHQ3nn%2FwBP9JtkdfCG0M3EV8aGFraiSJ0ML3K48kGOqUBcLuAQ1JWQ027DdG2mTv7rJtYZSi9Kk%2B2LrGNujCQHJoGnQuT%2Fb5UKv9Y5meWJvWZpjp%2Fj68PEZSv8uHogZIrS8RUY4SoykXlBcX2FwJNA7FVkkfHn2j8Tvq3rdFc11qK%2FzhhgQIyDosnwco4DvH01IccHxP6WKRigQUp4ijWpb8jtLQAUyd5%2ByFivxBqNR0Fcng9J4Gd4dPtW5BbTSy4jrB%2BFwXR&X-Amz-Signature=8a6244c06afeef84a4c62c442f25b2fc01a68dca2ec31dd0d627800eef5705ee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJYUAEHL%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCIQDE2d7NojKBcp3kL%2BmOWSHBdqWUo%2FkFpBuZXAcT9kRQBAIgToIG0yFGRpEMi1Ac0oApPvNtrpH5vhMtq%2FUipgSmNKwqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNKJa1yxkmkK%2B9E4WCrcAyZSpz5nSBAXgUoupc9MLJLHlCA80efhidsK%2BLrs%2BbejUB1vEmJ1MTXyRWJj1QmkOXLQSpvTBsipsFXV4vaGXc%2FGMWjdkBKg7h7VXYuod6kKQQAPo15W2Ljpt1WULnEV%2FCFg8K88WATqtKCimfL3KPggLyG0uRRX8Aatin5s7SoFE1qD3AW4ByDmeEG4XIuz%2BCGZBs8%2FWN4UTwRdZH4Ndk7L2YFJVQCtsrFWNv6aUX5Bo1lV5wNTXk1J0jWGeTqEDvuTHgzAkj1PGiE5p9kBifd%2FH3z5eiTmE45%2BEybR7%2Fa7fMAu1PnvOV06lqJncQME95Kcn2Xt5PjgYoGpZ0KrhbUkzizmg7BtoDRfbBgHLAinrluH6yz5XVVTt02VmV4rDmQkq1x%2Fkbd0Zx%2FiNwPSptIo2i6r1sim0bj685g27SghyjxsP1pds%2Fk4c7wpLj49c7iqdGv2I9Z5aaHpEb%2BrCUB%2FVUGqy9Cpox5BDzBDLTde5OLPPlwkda5%2FXIFnQVA%2BxYfszi09kivtrbePK6%2BWPKlOT2LPVRhIqKTIgCqSwRQTSZ3plnpaf%2Bz9y7gB37JQtdYvsjnu6QSIISJvD7o5Qpd3KW3SHQ3nn%2FwBP9JtkdfCG0M3EV8aGFraiSJ0ML3K48kGOqUBcLuAQ1JWQ027DdG2mTv7rJtYZSi9Kk%2B2LrGNujCQHJoGnQuT%2Fb5UKv9Y5meWJvWZpjp%2Fj68PEZSv8uHogZIrS8RUY4SoykXlBcX2FwJNA7FVkkfHn2j8Tvq3rdFc11qK%2FzhhgQIyDosnwco4DvH01IccHxP6WKRigQUp4ijWpb8jtLQAUyd5%2ByFivxBqNR0Fcng9J4Gd4dPtW5BbTSy4jrB%2BFwXR&X-Amz-Signature=da999ef81ac2229b028dff344f18913889b44a78736e858bbb9dabf02b872574&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663CMNABGN%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJIMEYCIQCDEgnx6gw1FYmFAAx4%2BgR4wRoqk%2BI3ujCWtr3QheYsOQIhANg8D9mtjtTpHlGff8KquWpH%2FIiadl%2Be6goo3rzgLeAMKogECMz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwhuvASd%2B%2BXm9uVDQMq3AMqIRq7IOghTgdteYrrnmz2nPifu7vrtdg7N%2BpkRpqSY6mjXVAMWsjP91T3C76RW0TvNK4MeFd3RScu7y2Ajw0sBdjQv63xsYtFQ45pbp04RBvmBLW6KAfQfXCXeu01xksohpmUwtbP2YvztIAfPFRUi43ugP8iMuWq5%2Fry8K%2Fid5wjgvLRaapkrQf9adb10ry%2F0WHidi4%2Br%2F2bBL3C6bmVbiq9xOp2RIT%2FfwiT2FOPQRkT%2B3myr3ScSx84%2BJ3iUM2OTFcrdFibGIETVJHfnz92rYaEvu2qKafD1OWKqMXAdmPoCYFbAcZQm6PUracN4k7%2FZGHPu7AAWKCoLkVCgRxW5bC%2BMMQltyuSgYtWTOwkqxGbb94dV4uZj1qqnAOefS%2Fzz%2Bj68ox%2F3fQhtkNjfvu7l90awaIUIoalvjjcJRZml5w1cgkgTLqEZbj08jJrbYxfBCaqCDl1f%2FvcuBM4lmxL%2BoL7cZuiEPFvsbgMwChLqG3NT1RB4oAq731UyZERnJarhilkMrRkgA94RHWUd23LiJRQGn2LoGAzICMHTlKWRj65cpqMzSjiDFhslJNpt7xKXtGkVIQ4H7aIMKDVHlGRxK48luyDYDpI7oY3JBaD%2Fo89X22V3gfgvDa%2B3jDxyuPJBjqkAT3yqUaIm8Cq8ZBNXavLENIGqibwxiHgjeRzxRw0oj27O8KwnTX74muUVN2TvgIepDmVz4SVVwLkIuf%2B1ntNlxOzM2ZUUfjvrpKD9HcFZrauR1jmSltmoiZlaUj7IB6u8PBNvWtKHz7e74o8rliOe3PtkWzAvc%2FgQRaHFvrdPzlLL3X2%2BjJrL%2BWgatTxzGkZqi1Hx8XIwyHCRWUjw9tJe%2FUrWgKj&X-Amz-Signature=de8c671ca60ed8fa3b8644f1b1f362924741c6eb7a148e52b0f8ce29afeae32d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663CMNABGN%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040355Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJIMEYCIQCDEgnx6gw1FYmFAAx4%2BgR4wRoqk%2BI3ujCWtr3QheYsOQIhANg8D9mtjtTpHlGff8KquWpH%2FIiadl%2Be6goo3rzgLeAMKogECMz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwhuvASd%2B%2BXm9uVDQMq3AMqIRq7IOghTgdteYrrnmz2nPifu7vrtdg7N%2BpkRpqSY6mjXVAMWsjP91T3C76RW0TvNK4MeFd3RScu7y2Ajw0sBdjQv63xsYtFQ45pbp04RBvmBLW6KAfQfXCXeu01xksohpmUwtbP2YvztIAfPFRUi43ugP8iMuWq5%2Fry8K%2Fid5wjgvLRaapkrQf9adb10ry%2F0WHidi4%2Br%2F2bBL3C6bmVbiq9xOp2RIT%2FfwiT2FOPQRkT%2B3myr3ScSx84%2BJ3iUM2OTFcrdFibGIETVJHfnz92rYaEvu2qKafD1OWKqMXAdmPoCYFbAcZQm6PUracN4k7%2FZGHPu7AAWKCoLkVCgRxW5bC%2BMMQltyuSgYtWTOwkqxGbb94dV4uZj1qqnAOefS%2Fzz%2Bj68ox%2F3fQhtkNjfvu7l90awaIUIoalvjjcJRZml5w1cgkgTLqEZbj08jJrbYxfBCaqCDl1f%2FvcuBM4lmxL%2BoL7cZuiEPFvsbgMwChLqG3NT1RB4oAq731UyZERnJarhilkMrRkgA94RHWUd23LiJRQGn2LoGAzICMHTlKWRj65cpqMzSjiDFhslJNpt7xKXtGkVIQ4H7aIMKDVHlGRxK48luyDYDpI7oY3JBaD%2Fo89X22V3gfgvDa%2B3jDxyuPJBjqkAT3yqUaIm8Cq8ZBNXavLENIGqibwxiHgjeRzxRw0oj27O8KwnTX74muUVN2TvgIepDmVz4SVVwLkIuf%2B1ntNlxOzM2ZUUfjvrpKD9HcFZrauR1jmSltmoiZlaUj7IB6u8PBNvWtKHz7e74o8rliOe3PtkWzAvc%2FgQRaHFvrdPzlLL3X2%2BjJrL%2BWgatTxzGkZqi1Hx8XIwyHCRWUjw9tJe%2FUrWgKj&X-Amz-Signature=bc0c7c06198411b5cf6153b346b5e77e8d95dc2128df0f3432249cabc2aa89fb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664RPHIRHS%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040356Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCICFz5l70LmgINN2nGn1Gklk6k%2FN82UNyN0i%2F3qXGWcmeAiEA3OzSH0fOQ9Nfn2h6WWHLAar%2Fj7d1Zu0PUr91zviV9NsqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMYGWbbPczTnr0RRzircAzJmSa3q4jUJjfbZatGtof4mOGoH8ceBd38L0uCX%2FLd5QvKQmNO4kNZIpvonqfWKBZ62bfRICIods6WuRn1ogHpTdlBK3%2F543sLs66cdxRFwRJqzerrPKJ%2FGMkfzpj6mKAtPOMrAnEOuU7mne7xG7WrIZ%2FQ4V7ZcecBmkofuWaXKMZRtX%2FoymOrTEHfDhFnFhvdfwZennpz9jgzrIcokwm5Gd6kvTWMwWqJCndmspoyQyTBf7JRC5UPiEhIwUbT9x2cpunDLs8gf%2B1xtyv3xi2ehefgwmEKxTloGjlP%2B%2BrgpJEpkNbKhWpJIxYjkHAog1Y18W%2BtSmiRQfMRc7FU4czoYOa0C%2BVDplGK8JEkFyL1UucPcOyer0bvFYkjldNXrmRlAngPmTnPJbL%2BEbNKeTrvMO4NfiR8orKzlnF37pmaexeWxlmAb1KH%2Bhn%2B7JDHAMJqUBuHl5c4BdLFEPNlPFD8yyT%2BFuiX3cGXeEvN48O97wNOugkkZlUETQD4a1wJFuliba68ln%2Bnn%2FbspMLRLG2vI4PkcjaiVN06KJm1HqqbNGsgxQSaprbVJv1m6vepxBK2J8v6VPAzUOFTq6sfSbiodbYYtwWqgQSf64bRkpT3aWIdQkZhWxJ2d6WmLMKXK48kGOqUB5OOMRry8W%2BaUuRqUkt88%2BTr09g9h8vmCeO%2BYgqCmMo3IehxCK5SkxU4OyetN4qK96X1yeZNkUzR60CYLK3ISuMIQ63sPHHDZ32TGN4plRKFSjQKoElpAFPDEDJYLIvxo8ueXyaGgZtDplJSN7frxtAAZbMYqZ8MNdCXfODdw6hx0T94GwP%2FbDj%2Ft6%2F1SK3OKMTeupbIJSETQohi90N9EPoH2hJi%2B&X-Amz-Signature=a6a2c41b6e89f21e66a9d9f3b9791726d6e829b0a630b3ccc7a6fabe7a405dee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664RPHIRHS%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040356Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCICFz5l70LmgINN2nGn1Gklk6k%2FN82UNyN0i%2F3qXGWcmeAiEA3OzSH0fOQ9Nfn2h6WWHLAar%2Fj7d1Zu0PUr91zviV9NsqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMYGWbbPczTnr0RRzircAzJmSa3q4jUJjfbZatGtof4mOGoH8ceBd38L0uCX%2FLd5QvKQmNO4kNZIpvonqfWKBZ62bfRICIods6WuRn1ogHpTdlBK3%2F543sLs66cdxRFwRJqzerrPKJ%2FGMkfzpj6mKAtPOMrAnEOuU7mne7xG7WrIZ%2FQ4V7ZcecBmkofuWaXKMZRtX%2FoymOrTEHfDhFnFhvdfwZennpz9jgzrIcokwm5Gd6kvTWMwWqJCndmspoyQyTBf7JRC5UPiEhIwUbT9x2cpunDLs8gf%2B1xtyv3xi2ehefgwmEKxTloGjlP%2B%2BrgpJEpkNbKhWpJIxYjkHAog1Y18W%2BtSmiRQfMRc7FU4czoYOa0C%2BVDplGK8JEkFyL1UucPcOyer0bvFYkjldNXrmRlAngPmTnPJbL%2BEbNKeTrvMO4NfiR8orKzlnF37pmaexeWxlmAb1KH%2Bhn%2B7JDHAMJqUBuHl5c4BdLFEPNlPFD8yyT%2BFuiX3cGXeEvN48O97wNOugkkZlUETQD4a1wJFuliba68ln%2Bnn%2FbspMLRLG2vI4PkcjaiVN06KJm1HqqbNGsgxQSaprbVJv1m6vepxBK2J8v6VPAzUOFTq6sfSbiodbYYtwWqgQSf64bRkpT3aWIdQkZhWxJ2d6WmLMKXK48kGOqUB5OOMRry8W%2BaUuRqUkt88%2BTr09g9h8vmCeO%2BYgqCmMo3IehxCK5SkxU4OyetN4qK96X1yeZNkUzR60CYLK3ISuMIQ63sPHHDZ32TGN4plRKFSjQKoElpAFPDEDJYLIvxo8ueXyaGgZtDplJSN7frxtAAZbMYqZ8MNdCXfODdw6hx0T94GwP%2FbDj%2Ft6%2F1SK3OKMTeupbIJSETQohi90N9EPoH2hJi%2B&X-Amz-Signature=485fb6c3ce91f8e346a74ddbaee9f1a4392fbb6aa8565e27e4d1f4431a3c67fd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U3UVYHME%2F20251210%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251210T040356Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAMaCXVzLXdlc3QtMiJHMEUCIGKB12XHKzvj8Xws82LS78j%2BlEgikxE8JoRDwSCZvxIOAiEA25rT5ZcL2OmrcePxBL65bFTpXudYXtWLDQM%2FtPhc0fcqiAQIzP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH4v47vrcI%2BLJU%2B8FircA1LhYk8B67j7gvVBemrOE1K%2BXP1KuvF1I77z0U2s%2BPgjvXXbGiUUTA%2BeceYTPWlYYzZL6c%2FIe%2FTACNnOCXbOVUMAqSYWS7B%2B5rnGzVsD6jrmSu5dWUEJwZqKk8uPK%2Fu3bZtJSmpwvvlYXotRJv7EzIpA3YBgW%2BC3STrwDXfIzeUN6ZS3uZDRCxUrZJdeBEfPpinj%2BGDFyOXExZxNCeRZPzbkrKf6vpB2WRgYCibtr9l3SrF1CUn3rPdOsf2%2FmKrw5FOL4da2AEPaeYTMjK7XC4qInlUXljgTQVf8%2BEaRjF2vIKQIK2E0CxyRIEGwBobcw5xWIQdgrPm7RYBGlehj7QNE9IpcRSdj%2FBFpWHfV2WlsmEZ1NVQPzPU2iGi1N2%2F3h%2BgnwkWmry9mXB%2FTX2F6nHOsynWoDHVRmdUxjslNjxsZnS%2BtTwZqc3VOmOQV7ft58yoAuPAyr3kCCF6uxjsyXaPYbc77LSlBZaumVtnLiB7b2O8Dg5wJfIrSiUATjw0zpfFZxUGvFR6zdb6ewFBRwnJeXuOaKKLyVBC4dFdwMsTQAoaWUdW%2FUsRGhehI3z2d5%2BhQsiAjXSsu0F4G4f6bNeabBEBtZJiqoyTrUC5PGZ8Csq9EbKHKiCbtn%2BnrMInK48kGOqUBgx8bW6lQzOn%2FkatHOGzT7ioq3nz0saJl3Mkjz2PGhSq3PCDO0izPFzDl70AiGpQMpWzDOfxs8h7SETzht7qGLJEbdCizeJvZpBDaIqZq%2FM1JRwJMXF2g%2Fpu7i5CtS2o%2FLPcHzfDzFdyGaVTMcc0YDFAGFEOF7WMe1zbCDZf6ZNSnS5agJknNvEAsM4nMwuvnWFZY5zWZr6paibQPdwh6HWCrTyLY&X-Amz-Signature=e7b5103cf0f0dd4e6c286c7db9479c9dd0535da774fe73140d679bd299020a03&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
