
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663RHP4YHL%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040808Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCICXDlIpY8efKetyUcs08CXDu662QTXBQfFuPtrHY00mIAiEA1wsy5YUuf%2F%2B4PqBh2N%2F8vH9KWqJi6KudcV09zp6eXk8q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDNBg306KbCw2ejfZwCrcA9mfxnHo%2FyYOAxZPC9thfIC0lyv%2ByX4VD45DdDkRw4su2gR9WrY7SiR%2FYX71e2C3Bpghj0YZlwsufFN8PUbRlsF72EqBVSgBjUIhCkHIg1YUvuV%2F6Wf2mu%2FQ0ZOwlEi7IRWMWoe44Dv4gzJYJeN%2BsZYnr3Ggdu87LZQSPNSoywUHiVaQIgWOBJxk6UptF0vIJPnfmsgc3ibAe3GmA8w%2FSjqIROYnjBG2s7INqVyIsk9JXlBWYEiJAwqsPvJTg85z1Gis8OxabN9mlut61J6oy4SS6E2EUa9F3xSN3JBBIVuEdfuzYQD82QE%2BAa7L3GzyNUMlXGON%2BmV%2FejxOfDEU4oxp1QM8szWSDjcMu%2FPseFnG5S%2FPmxx2MaKC5qa5x6HMNx8Ekqu1gSOvoMSLw2YDZkKqmYbR2q2FOrp%2F7Fuo90EIjcvf0rmVwTTwVPWDaqntTaW8cJOMeaVH3lMrJpEN2otgoPoUPNOgGq3BN1j4ipdOSy5hnPeetJRppfZDwJG7Jp4BUGfwTfH1X22SefOb7JiSw2D4YyKpevhLYUwpxQkq9smwmU6mqKPGv7%2FZFd%2Bt6Sx0SZxEXMEfQLEALbI3c1tSJDVnf7QvTGYE93EZfxjvCzeDaBQ9NU3y4lEBMKHd%2BMkGOqUB%2FjM2tszYI1z0WShbTOowKoHAJxQKiKePPtS8WwxMnr7frXKoPloTp1ty68h7KSeeZvFKnxIiAjyG9%2FYCROMrEE7XmLsvZqV%2FXicr5Q6GAHQrMRF2gvhj6FDr%2BB19mKGrLZqpXKp0oD8WELQufoHtdZiNbwRODaWVQpsde6Jh%2FXjBP1QMz7wEsjOtWUYos3hoF3o%2FmFakLTsTZ3mPeMwHyNQAEQUQ&X-Amz-Signature=3e817b771aea68d2a6b869355d4c7f31a0063029d41de2989317469af5078615&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663RHP4YHL%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040808Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCICXDlIpY8efKetyUcs08CXDu662QTXBQfFuPtrHY00mIAiEA1wsy5YUuf%2F%2B4PqBh2N%2F8vH9KWqJi6KudcV09zp6eXk8q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDNBg306KbCw2ejfZwCrcA9mfxnHo%2FyYOAxZPC9thfIC0lyv%2ByX4VD45DdDkRw4su2gR9WrY7SiR%2FYX71e2C3Bpghj0YZlwsufFN8PUbRlsF72EqBVSgBjUIhCkHIg1YUvuV%2F6Wf2mu%2FQ0ZOwlEi7IRWMWoe44Dv4gzJYJeN%2BsZYnr3Ggdu87LZQSPNSoywUHiVaQIgWOBJxk6UptF0vIJPnfmsgc3ibAe3GmA8w%2FSjqIROYnjBG2s7INqVyIsk9JXlBWYEiJAwqsPvJTg85z1Gis8OxabN9mlut61J6oy4SS6E2EUa9F3xSN3JBBIVuEdfuzYQD82QE%2BAa7L3GzyNUMlXGON%2BmV%2FejxOfDEU4oxp1QM8szWSDjcMu%2FPseFnG5S%2FPmxx2MaKC5qa5x6HMNx8Ekqu1gSOvoMSLw2YDZkKqmYbR2q2FOrp%2F7Fuo90EIjcvf0rmVwTTwVPWDaqntTaW8cJOMeaVH3lMrJpEN2otgoPoUPNOgGq3BN1j4ipdOSy5hnPeetJRppfZDwJG7Jp4BUGfwTfH1X22SefOb7JiSw2D4YyKpevhLYUwpxQkq9smwmU6mqKPGv7%2FZFd%2Bt6Sx0SZxEXMEfQLEALbI3c1tSJDVnf7QvTGYE93EZfxjvCzeDaBQ9NU3y4lEBMKHd%2BMkGOqUB%2FjM2tszYI1z0WShbTOowKoHAJxQKiKePPtS8WwxMnr7frXKoPloTp1ty68h7KSeeZvFKnxIiAjyG9%2FYCROMrEE7XmLsvZqV%2FXicr5Q6GAHQrMRF2gvhj6FDr%2BB19mKGrLZqpXKp0oD8WELQufoHtdZiNbwRODaWVQpsde6Jh%2FXjBP1QMz7wEsjOtWUYos3hoF3o%2FmFakLTsTZ3mPeMwHyNQAEQUQ&X-Amz-Signature=73068c941f534894dd685e9d181bca31dfb8a1c05707bd5febfc449c16f0ed28&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663RHP4YHL%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040808Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCICXDlIpY8efKetyUcs08CXDu662QTXBQfFuPtrHY00mIAiEA1wsy5YUuf%2F%2B4PqBh2N%2F8vH9KWqJi6KudcV09zp6eXk8q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDNBg306KbCw2ejfZwCrcA9mfxnHo%2FyYOAxZPC9thfIC0lyv%2ByX4VD45DdDkRw4su2gR9WrY7SiR%2FYX71e2C3Bpghj0YZlwsufFN8PUbRlsF72EqBVSgBjUIhCkHIg1YUvuV%2F6Wf2mu%2FQ0ZOwlEi7IRWMWoe44Dv4gzJYJeN%2BsZYnr3Ggdu87LZQSPNSoywUHiVaQIgWOBJxk6UptF0vIJPnfmsgc3ibAe3GmA8w%2FSjqIROYnjBG2s7INqVyIsk9JXlBWYEiJAwqsPvJTg85z1Gis8OxabN9mlut61J6oy4SS6E2EUa9F3xSN3JBBIVuEdfuzYQD82QE%2BAa7L3GzyNUMlXGON%2BmV%2FejxOfDEU4oxp1QM8szWSDjcMu%2FPseFnG5S%2FPmxx2MaKC5qa5x6HMNx8Ekqu1gSOvoMSLw2YDZkKqmYbR2q2FOrp%2F7Fuo90EIjcvf0rmVwTTwVPWDaqntTaW8cJOMeaVH3lMrJpEN2otgoPoUPNOgGq3BN1j4ipdOSy5hnPeetJRppfZDwJG7Jp4BUGfwTfH1X22SefOb7JiSw2D4YyKpevhLYUwpxQkq9smwmU6mqKPGv7%2FZFd%2Bt6Sx0SZxEXMEfQLEALbI3c1tSJDVnf7QvTGYE93EZfxjvCzeDaBQ9NU3y4lEBMKHd%2BMkGOqUB%2FjM2tszYI1z0WShbTOowKoHAJxQKiKePPtS8WwxMnr7frXKoPloTp1ty68h7KSeeZvFKnxIiAjyG9%2FYCROMrEE7XmLsvZqV%2FXicr5Q6GAHQrMRF2gvhj6FDr%2BB19mKGrLZqpXKp0oD8WELQufoHtdZiNbwRODaWVQpsde6Jh%2FXjBP1QMz7wEsjOtWUYos3hoF3o%2FmFakLTsTZ3mPeMwHyNQAEQUQ&X-Amz-Signature=2eee45044fad5598650f45e21aeb978bf60cad07caac2f178f0b59df3446e56f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46672KF2WTQ%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIEMAAZ2MCJnFWS%2BY4Ed9scJDeMNLk3u%2BESorfp1k2iRsAiEAivaAJGx3N0a7Bu%2Bv%2FkISN74ABCZTSBe4llh3NkMQQNkq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDG2kD4dc9%2B%2BYhYqVhCrcAzS%2Bc8oi4507oz%2B767TDHrRb6Lbo8w7VEmqizeT5N2y3UD3leUtdqCqAzJsOw3Pdkx8VuLuHezak6ZxWJ5GPa2eWLm%2FTQ0POVZQWjYo3PDPiF4S0k13oDrmNsV2t90NrYrpyU0SxtwuuJOezExDXqSX%2Fd8uwPZTDNs79m2EtjFG6p6P592vp%2FS866IQm9zK%2FilyaonFROe%2Bmmp0wedE69iEHWw2KyK2cBHt3xCOjilNFfPnP0P2rTDtQY9ofU00QCc%2FRpLXp3cR1E3hT8%2BGd2sQFUFZyE4FxfrTVIptnuNInDLB93AZGnuUikpCDAzBZfWOWgrxfH4cQug118eKdQyvsNF2U6IWSe5SEfM2bu10Q2D7U1dFW0HX7rivJsC6TI6bp7EW%2Fgu6C6EWAaJDNWwPuZamXJuKt%2B0S1x4uv%2BITtiacHTThYeA2ojeEUZuCcMKLiQqO8OEO7eQ9q%2FcIJyxoYdFjTQDoSp%2FHuJugTxZ2U5xOExn9uruJCtOyTFMu5m7YvD8eFvJm6VWKjbrxTzipjnyEc%2Bqp1Q8BjuwRZmbriAZDf2Gy%2Bg%2Bi2y3oUSPCnb14y1O%2Fmxk2j33Evd8JMPWHNdnjxRqvHpNu9sPFbOWLpscZ5QuTpMoGsfQJBMPjd%2BMkGOqUBJbUxWdSIT2hr9smUGL3QqALUf7%2F6L668gTm3NSVrez0Zz994A8LJiDgqyRNy%2FU2BpuKeFjfZsDqGx9USGOJROpQCVraJxANVgQZzSzgnvHuwwhvnu6CEqTHBB0zh%2BTl7A%2FR6mAlW7AsCjWIoNbQ6Y7UtEUhxBRjXHvkktvJkpSnZk%2F6K70oQGYtvQiBkdclJXvSM1p6OeB64uEg0uwR86WaLtLYp&X-Amz-Signature=123c2446cde7e38765380b16b774c76e35775ca53d7fe48285d9b895b375adbf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46672KF2WTQ%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIEMAAZ2MCJnFWS%2BY4Ed9scJDeMNLk3u%2BESorfp1k2iRsAiEAivaAJGx3N0a7Bu%2Bv%2FkISN74ABCZTSBe4llh3NkMQQNkq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDG2kD4dc9%2B%2BYhYqVhCrcAzS%2Bc8oi4507oz%2B767TDHrRb6Lbo8w7VEmqizeT5N2y3UD3leUtdqCqAzJsOw3Pdkx8VuLuHezak6ZxWJ5GPa2eWLm%2FTQ0POVZQWjYo3PDPiF4S0k13oDrmNsV2t90NrYrpyU0SxtwuuJOezExDXqSX%2Fd8uwPZTDNs79m2EtjFG6p6P592vp%2FS866IQm9zK%2FilyaonFROe%2Bmmp0wedE69iEHWw2KyK2cBHt3xCOjilNFfPnP0P2rTDtQY9ofU00QCc%2FRpLXp3cR1E3hT8%2BGd2sQFUFZyE4FxfrTVIptnuNInDLB93AZGnuUikpCDAzBZfWOWgrxfH4cQug118eKdQyvsNF2U6IWSe5SEfM2bu10Q2D7U1dFW0HX7rivJsC6TI6bp7EW%2Fgu6C6EWAaJDNWwPuZamXJuKt%2B0S1x4uv%2BITtiacHTThYeA2ojeEUZuCcMKLiQqO8OEO7eQ9q%2FcIJyxoYdFjTQDoSp%2FHuJugTxZ2U5xOExn9uruJCtOyTFMu5m7YvD8eFvJm6VWKjbrxTzipjnyEc%2Bqp1Q8BjuwRZmbriAZDf2Gy%2Bg%2Bi2y3oUSPCnb14y1O%2Fmxk2j33Evd8JMPWHNdnjxRqvHpNu9sPFbOWLpscZ5QuTpMoGsfQJBMPjd%2BMkGOqUBJbUxWdSIT2hr9smUGL3QqALUf7%2F6L668gTm3NSVrez0Zz994A8LJiDgqyRNy%2FU2BpuKeFjfZsDqGx9USGOJROpQCVraJxANVgQZzSzgnvHuwwhvnu6CEqTHBB0zh%2BTl7A%2FR6mAlW7AsCjWIoNbQ6Y7UtEUhxBRjXHvkktvJkpSnZk%2F6K70oQGYtvQiBkdclJXvSM1p6OeB64uEg0uwR86WaLtLYp&X-Amz-Signature=f7b91823d182a7495a756726e27af2cdef685d1016475e49a623da9c5d7c13b3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46672KF2WTQ%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIEMAAZ2MCJnFWS%2BY4Ed9scJDeMNLk3u%2BESorfp1k2iRsAiEAivaAJGx3N0a7Bu%2Bv%2FkISN74ABCZTSBe4llh3NkMQQNkq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDG2kD4dc9%2B%2BYhYqVhCrcAzS%2Bc8oi4507oz%2B767TDHrRb6Lbo8w7VEmqizeT5N2y3UD3leUtdqCqAzJsOw3Pdkx8VuLuHezak6ZxWJ5GPa2eWLm%2FTQ0POVZQWjYo3PDPiF4S0k13oDrmNsV2t90NrYrpyU0SxtwuuJOezExDXqSX%2Fd8uwPZTDNs79m2EtjFG6p6P592vp%2FS866IQm9zK%2FilyaonFROe%2Bmmp0wedE69iEHWw2KyK2cBHt3xCOjilNFfPnP0P2rTDtQY9ofU00QCc%2FRpLXp3cR1E3hT8%2BGd2sQFUFZyE4FxfrTVIptnuNInDLB93AZGnuUikpCDAzBZfWOWgrxfH4cQug118eKdQyvsNF2U6IWSe5SEfM2bu10Q2D7U1dFW0HX7rivJsC6TI6bp7EW%2Fgu6C6EWAaJDNWwPuZamXJuKt%2B0S1x4uv%2BITtiacHTThYeA2ojeEUZuCcMKLiQqO8OEO7eQ9q%2FcIJyxoYdFjTQDoSp%2FHuJugTxZ2U5xOExn9uruJCtOyTFMu5m7YvD8eFvJm6VWKjbrxTzipjnyEc%2Bqp1Q8BjuwRZmbriAZDf2Gy%2Bg%2Bi2y3oUSPCnb14y1O%2Fmxk2j33Evd8JMPWHNdnjxRqvHpNu9sPFbOWLpscZ5QuTpMoGsfQJBMPjd%2BMkGOqUBJbUxWdSIT2hr9smUGL3QqALUf7%2F6L668gTm3NSVrez0Zz994A8LJiDgqyRNy%2FU2BpuKeFjfZsDqGx9USGOJROpQCVraJxANVgQZzSzgnvHuwwhvnu6CEqTHBB0zh%2BTl7A%2FR6mAlW7AsCjWIoNbQ6Y7UtEUhxBRjXHvkktvJkpSnZk%2F6K70oQGYtvQiBkdclJXvSM1p6OeB64uEg0uwR86WaLtLYp&X-Amz-Signature=23a58243de4dcbe1e4773bf8a2541265c56a1cf861e27b4bb2ca70af4102232b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VVZFVXEK%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIBCk5WjHB4H7Fb2fzV1D0wrOg7iYnGnnvTmrUrq0rmQkAiEAvls6tdZa4APguydpYeKmBOQkeMa1VBKvGQ7Y9%2Bt6fwsq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDOS%2FgDj%2B4uTBo2ZJJyrcA1%2F3fot4%2Bj2ZWBbuo68FBkJtjZ1VET4ZvzeOqwbiz1U8zHRljx2MzmJhaiDT3xwI5vG1wCOjzB2xXZH0%2FcJzbNOPwqELGMKYyTTjYF1t0tbXuw5sMmX6dKEjY3XvZYuXGmz2IZZ0Kg4YxsLRDH4LbkboJRWCuWHeYHJ6b%2B3WRHGzyT7yBN%2BuXEHsW8LCaMnYY7rFPVYKxgBFR%2BzXM6pxLv6hNdtHXFtq15oqRXVKzqr6tenWhat42IOFmpAu9T4h%2FChQmFUGucYPkrofl6rJM1xjgHzVrUSNMuwXXL0FKfP%2FToluesw9OE7pFlqGsGmb4Ff9Zgs%2BbnBPT96nDvt2eomDgx%2FC3riXpnYbFp%2F3cUjxYvP4fbyBl80lMtpQdzVaUsD8NsgP1L8hm62D0QJRrPkMOYzT8QTIqawd4c1RIL9fk4eBh9ZeSdFXrGkhIlYJTN5kMaywu765T7pNNl%2BN9p7sBMWRPgeCVfulNhtv96%2Bnp2Gf8sXU5X8UkDw3r1ADyRC2VBp9x2e4v%2BRpSEroraHNZTcdrPNlRYyZHOZi%2F6J9jH%2BnQDo57IDAFjsmTP%2F8mpQjigEVXwNH8Ep0TYEVdiFyic6Xep%2BtVu9fadVf%2F0B8iYxuF4YUoMvD%2F93rMLzc%2BMkGOqUBCTPBnReUL44KdLikTcaFiHGb3ZTnT%2FmkSdp53PYdrW5SXGqL7BPGBAQWxRgQud2uMVy49ifO52P8KYOgclDLELZUxTfSSV4kWS9FHBqqBVuHlBBaJxyJWMlTEvbmynXqnx4owk5rnVKuB6QFpkCUbzm8JsTlkhKlTIMU08Z9Nx3205xY1wqFHEQqSU2DSnJvpzOt3CpnmDkf%2BjQnbPMKchS1%2FjEz&X-Amz-Signature=bb4eb4182813012af6abccb4c845455453c8bfa566b1805d74de671a18c096d2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VVZFVXEK%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIBCk5WjHB4H7Fb2fzV1D0wrOg7iYnGnnvTmrUrq0rmQkAiEAvls6tdZa4APguydpYeKmBOQkeMa1VBKvGQ7Y9%2Bt6fwsq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDOS%2FgDj%2B4uTBo2ZJJyrcA1%2F3fot4%2Bj2ZWBbuo68FBkJtjZ1VET4ZvzeOqwbiz1U8zHRljx2MzmJhaiDT3xwI5vG1wCOjzB2xXZH0%2FcJzbNOPwqELGMKYyTTjYF1t0tbXuw5sMmX6dKEjY3XvZYuXGmz2IZZ0Kg4YxsLRDH4LbkboJRWCuWHeYHJ6b%2B3WRHGzyT7yBN%2BuXEHsW8LCaMnYY7rFPVYKxgBFR%2BzXM6pxLv6hNdtHXFtq15oqRXVKzqr6tenWhat42IOFmpAu9T4h%2FChQmFUGucYPkrofl6rJM1xjgHzVrUSNMuwXXL0FKfP%2FToluesw9OE7pFlqGsGmb4Ff9Zgs%2BbnBPT96nDvt2eomDgx%2FC3riXpnYbFp%2F3cUjxYvP4fbyBl80lMtpQdzVaUsD8NsgP1L8hm62D0QJRrPkMOYzT8QTIqawd4c1RIL9fk4eBh9ZeSdFXrGkhIlYJTN5kMaywu765T7pNNl%2BN9p7sBMWRPgeCVfulNhtv96%2Bnp2Gf8sXU5X8UkDw3r1ADyRC2VBp9x2e4v%2BRpSEroraHNZTcdrPNlRYyZHOZi%2F6J9jH%2BnQDo57IDAFjsmTP%2F8mpQjigEVXwNH8Ep0TYEVdiFyic6Xep%2BtVu9fadVf%2F0B8iYxuF4YUoMvD%2F93rMLzc%2BMkGOqUBCTPBnReUL44KdLikTcaFiHGb3ZTnT%2FmkSdp53PYdrW5SXGqL7BPGBAQWxRgQud2uMVy49ifO52P8KYOgclDLELZUxTfSSV4kWS9FHBqqBVuHlBBaJxyJWMlTEvbmynXqnx4owk5rnVKuB6QFpkCUbzm8JsTlkhKlTIMU08Z9Nx3205xY1wqFHEQqSU2DSnJvpzOt3CpnmDkf%2BjQnbPMKchS1%2FjEz&X-Amz-Signature=6e264f70ecc27dc68272a2a293197a306581105fb4bbdd6471a6cafc11a1bed2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VVZFVXEK%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIBCk5WjHB4H7Fb2fzV1D0wrOg7iYnGnnvTmrUrq0rmQkAiEAvls6tdZa4APguydpYeKmBOQkeMa1VBKvGQ7Y9%2Bt6fwsq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDOS%2FgDj%2B4uTBo2ZJJyrcA1%2F3fot4%2Bj2ZWBbuo68FBkJtjZ1VET4ZvzeOqwbiz1U8zHRljx2MzmJhaiDT3xwI5vG1wCOjzB2xXZH0%2FcJzbNOPwqELGMKYyTTjYF1t0tbXuw5sMmX6dKEjY3XvZYuXGmz2IZZ0Kg4YxsLRDH4LbkboJRWCuWHeYHJ6b%2B3WRHGzyT7yBN%2BuXEHsW8LCaMnYY7rFPVYKxgBFR%2BzXM6pxLv6hNdtHXFtq15oqRXVKzqr6tenWhat42IOFmpAu9T4h%2FChQmFUGucYPkrofl6rJM1xjgHzVrUSNMuwXXL0FKfP%2FToluesw9OE7pFlqGsGmb4Ff9Zgs%2BbnBPT96nDvt2eomDgx%2FC3riXpnYbFp%2F3cUjxYvP4fbyBl80lMtpQdzVaUsD8NsgP1L8hm62D0QJRrPkMOYzT8QTIqawd4c1RIL9fk4eBh9ZeSdFXrGkhIlYJTN5kMaywu765T7pNNl%2BN9p7sBMWRPgeCVfulNhtv96%2Bnp2Gf8sXU5X8UkDw3r1ADyRC2VBp9x2e4v%2BRpSEroraHNZTcdrPNlRYyZHOZi%2F6J9jH%2BnQDo57IDAFjsmTP%2F8mpQjigEVXwNH8Ep0TYEVdiFyic6Xep%2BtVu9fadVf%2F0B8iYxuF4YUoMvD%2F93rMLzc%2BMkGOqUBCTPBnReUL44KdLikTcaFiHGb3ZTnT%2FmkSdp53PYdrW5SXGqL7BPGBAQWxRgQud2uMVy49ifO52P8KYOgclDLELZUxTfSSV4kWS9FHBqqBVuHlBBaJxyJWMlTEvbmynXqnx4owk5rnVKuB6QFpkCUbzm8JsTlkhKlTIMU08Z9Nx3205xY1wqFHEQqSU2DSnJvpzOt3CpnmDkf%2BjQnbPMKchS1%2FjEz&X-Amz-Signature=75c5b92f1c852fe14e7e5df37bac4251957e1412f1a15ee4e1ef36a1509642fe&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VVZFVXEK%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIBCk5WjHB4H7Fb2fzV1D0wrOg7iYnGnnvTmrUrq0rmQkAiEAvls6tdZa4APguydpYeKmBOQkeMa1VBKvGQ7Y9%2Bt6fwsq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDOS%2FgDj%2B4uTBo2ZJJyrcA1%2F3fot4%2Bj2ZWBbuo68FBkJtjZ1VET4ZvzeOqwbiz1U8zHRljx2MzmJhaiDT3xwI5vG1wCOjzB2xXZH0%2FcJzbNOPwqELGMKYyTTjYF1t0tbXuw5sMmX6dKEjY3XvZYuXGmz2IZZ0Kg4YxsLRDH4LbkboJRWCuWHeYHJ6b%2B3WRHGzyT7yBN%2BuXEHsW8LCaMnYY7rFPVYKxgBFR%2BzXM6pxLv6hNdtHXFtq15oqRXVKzqr6tenWhat42IOFmpAu9T4h%2FChQmFUGucYPkrofl6rJM1xjgHzVrUSNMuwXXL0FKfP%2FToluesw9OE7pFlqGsGmb4Ff9Zgs%2BbnBPT96nDvt2eomDgx%2FC3riXpnYbFp%2F3cUjxYvP4fbyBl80lMtpQdzVaUsD8NsgP1L8hm62D0QJRrPkMOYzT8QTIqawd4c1RIL9fk4eBh9ZeSdFXrGkhIlYJTN5kMaywu765T7pNNl%2BN9p7sBMWRPgeCVfulNhtv96%2Bnp2Gf8sXU5X8UkDw3r1ADyRC2VBp9x2e4v%2BRpSEroraHNZTcdrPNlRYyZHOZi%2F6J9jH%2BnQDo57IDAFjsmTP%2F8mpQjigEVXwNH8Ep0TYEVdiFyic6Xep%2BtVu9fadVf%2F0B8iYxuF4YUoMvD%2F93rMLzc%2BMkGOqUBCTPBnReUL44KdLikTcaFiHGb3ZTnT%2FmkSdp53PYdrW5SXGqL7BPGBAQWxRgQud2uMVy49ifO52P8KYOgclDLELZUxTfSSV4kWS9FHBqqBVuHlBBaJxyJWMlTEvbmynXqnx4owk5rnVKuB6QFpkCUbzm8JsTlkhKlTIMU08Z9Nx3205xY1wqFHEQqSU2DSnJvpzOt3CpnmDkf%2BjQnbPMKchS1%2FjEz&X-Amz-Signature=8cfa495612625b75be28b95840940f8a4540d45a52c6b202e8a9846de88c6eed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQNHZAZG%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIB2XfCTeSTWswUKDBczEKLOHp%2BFJ4gmuLokBAB4PDnW7AiEAmTM98yuW%2Fzqab45dHS%2FX19%2FjqQN2gYCGmx%2BgUv%2Bj5IYq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDAC4mzWp2J45vNG3iSrcA8IfwAiHGoSwqykiUOkkiR8h8Rj0TS0O6%2FzvhNUgtQVzhgTjk7z8wvZ%2FC90nWsPCA6HX17iZSRRXpwwI9lWjbnIPRSGYiVzBArA0IpOls8I06ZpGhBYwD5CVXsmK9WEV6PVpniEXuKoeMl7iN8VBNvFyqw5huRAdkd6e1Ae%2BZm3PLQcD%2BtYVqtYHhfsXB2J2zE8Ow%2FSIZ6v5y4qMqhZIvh%2FAN2BeRqIvAvm2JWRQErAM%2FuvicMbQNPNvp45qfpHwq%2FGcaNtTbJcFnL%2FZM0O1tb%2B0BLJE6ZDvgjinTrCe5tUJGXA9GF4m7j6QsFGENYgAz4spMSEC%2BKjimt4w%2FfgdL5N%2FEq1sHQ1id86rrP8DjbWJ0mBrJi1Quu4VZB41dsCaKvzwasCQCr8T9R0dXMg2RhN1HyBToyoYAhqqsARePGjsw7SGP2t1YSJQEgVGV1i0FWUeW1HTAgnpM5LP%2FvD63mUGVwXZ3GqtabeeCeX8HzDltLSTsxLpQzrs%2FA%2B%2Bc46ahALTls0%2FvSOeBoVJHc1P5yNEmW0loL6EPySyNzD7NCmb5HyyiC7E04i7KBc1YYSVcfrsvSl%2BSwr4BdKG2%2BeZzF9PfSwEqK2qddbCcN06%2FTUrGmGS9F2pc1hjhKhNML7d%2BMkGOqUBFZKuIdW8iWz0HQiadkFqusk4sxZcDJ6314ACineQoG8w%2FyH9U5sgWvays%2Ba5Yx41BLDuI8tbOnAwzC5eqprltzEnVmSUYOncKLCAXESiaWEPIjMXKi3QQN9O0in9OGJzfEFPg5A3Me%2BxKfPZUEMNz3C2YqMO7BuecS1mCqUxpek593zR1%2F81jF3wRtYCTYWCSoipkApYZqBzZt9bXuxbz7QObWSG&X-Amz-Signature=bbd22d2a5f7cb083deb5ce2eeade824bb11399e831edb9a09632c4eb12dd3bdf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQNHZAZG%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIB2XfCTeSTWswUKDBczEKLOHp%2BFJ4gmuLokBAB4PDnW7AiEAmTM98yuW%2Fzqab45dHS%2FX19%2FjqQN2gYCGmx%2BgUv%2Bj5IYq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDAC4mzWp2J45vNG3iSrcA8IfwAiHGoSwqykiUOkkiR8h8Rj0TS0O6%2FzvhNUgtQVzhgTjk7z8wvZ%2FC90nWsPCA6HX17iZSRRXpwwI9lWjbnIPRSGYiVzBArA0IpOls8I06ZpGhBYwD5CVXsmK9WEV6PVpniEXuKoeMl7iN8VBNvFyqw5huRAdkd6e1Ae%2BZm3PLQcD%2BtYVqtYHhfsXB2J2zE8Ow%2FSIZ6v5y4qMqhZIvh%2FAN2BeRqIvAvm2JWRQErAM%2FuvicMbQNPNvp45qfpHwq%2FGcaNtTbJcFnL%2FZM0O1tb%2B0BLJE6ZDvgjinTrCe5tUJGXA9GF4m7j6QsFGENYgAz4spMSEC%2BKjimt4w%2FfgdL5N%2FEq1sHQ1id86rrP8DjbWJ0mBrJi1Quu4VZB41dsCaKvzwasCQCr8T9R0dXMg2RhN1HyBToyoYAhqqsARePGjsw7SGP2t1YSJQEgVGV1i0FWUeW1HTAgnpM5LP%2FvD63mUGVwXZ3GqtabeeCeX8HzDltLSTsxLpQzrs%2FA%2B%2Bc46ahALTls0%2FvSOeBoVJHc1P5yNEmW0loL6EPySyNzD7NCmb5HyyiC7E04i7KBc1YYSVcfrsvSl%2BSwr4BdKG2%2BeZzF9PfSwEqK2qddbCcN06%2FTUrGmGS9F2pc1hjhKhNML7d%2BMkGOqUBFZKuIdW8iWz0HQiadkFqusk4sxZcDJ6314ACineQoG8w%2FyH9U5sgWvays%2Ba5Yx41BLDuI8tbOnAwzC5eqprltzEnVmSUYOncKLCAXESiaWEPIjMXKi3QQN9O0in9OGJzfEFPg5A3Me%2BxKfPZUEMNz3C2YqMO7BuecS1mCqUxpek593zR1%2F81jF3wRtYCTYWCSoipkApYZqBzZt9bXuxbz7QObWSG&X-Amz-Signature=3faa2ae5e3a0df75ff96601c3478954cbc0d4457cd27669c402faee9ae3bae16&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQNHZAZG%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIB2XfCTeSTWswUKDBczEKLOHp%2BFJ4gmuLokBAB4PDnW7AiEAmTM98yuW%2Fzqab45dHS%2FX19%2FjqQN2gYCGmx%2BgUv%2Bj5IYq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDAC4mzWp2J45vNG3iSrcA8IfwAiHGoSwqykiUOkkiR8h8Rj0TS0O6%2FzvhNUgtQVzhgTjk7z8wvZ%2FC90nWsPCA6HX17iZSRRXpwwI9lWjbnIPRSGYiVzBArA0IpOls8I06ZpGhBYwD5CVXsmK9WEV6PVpniEXuKoeMl7iN8VBNvFyqw5huRAdkd6e1Ae%2BZm3PLQcD%2BtYVqtYHhfsXB2J2zE8Ow%2FSIZ6v5y4qMqhZIvh%2FAN2BeRqIvAvm2JWRQErAM%2FuvicMbQNPNvp45qfpHwq%2FGcaNtTbJcFnL%2FZM0O1tb%2B0BLJE6ZDvgjinTrCe5tUJGXA9GF4m7j6QsFGENYgAz4spMSEC%2BKjimt4w%2FfgdL5N%2FEq1sHQ1id86rrP8DjbWJ0mBrJi1Quu4VZB41dsCaKvzwasCQCr8T9R0dXMg2RhN1HyBToyoYAhqqsARePGjsw7SGP2t1YSJQEgVGV1i0FWUeW1HTAgnpM5LP%2FvD63mUGVwXZ3GqtabeeCeX8HzDltLSTsxLpQzrs%2FA%2B%2Bc46ahALTls0%2FvSOeBoVJHc1P5yNEmW0loL6EPySyNzD7NCmb5HyyiC7E04i7KBc1YYSVcfrsvSl%2BSwr4BdKG2%2BeZzF9PfSwEqK2qddbCcN06%2FTUrGmGS9F2pc1hjhKhNML7d%2BMkGOqUBFZKuIdW8iWz0HQiadkFqusk4sxZcDJ6314ACineQoG8w%2FyH9U5sgWvays%2Ba5Yx41BLDuI8tbOnAwzC5eqprltzEnVmSUYOncKLCAXESiaWEPIjMXKi3QQN9O0in9OGJzfEFPg5A3Me%2BxKfPZUEMNz3C2YqMO7BuecS1mCqUxpek593zR1%2F81jF3wRtYCTYWCSoipkApYZqBzZt9bXuxbz7QObWSG&X-Amz-Signature=8c023f72e611f9fcbe75a2aebc37006b5097fc6b0f39378ccbd2f10527bd9321&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQNHZAZG%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIB2XfCTeSTWswUKDBczEKLOHp%2BFJ4gmuLokBAB4PDnW7AiEAmTM98yuW%2Fzqab45dHS%2FX19%2FjqQN2gYCGmx%2BgUv%2Bj5IYq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDAC4mzWp2J45vNG3iSrcA8IfwAiHGoSwqykiUOkkiR8h8Rj0TS0O6%2FzvhNUgtQVzhgTjk7z8wvZ%2FC90nWsPCA6HX17iZSRRXpwwI9lWjbnIPRSGYiVzBArA0IpOls8I06ZpGhBYwD5CVXsmK9WEV6PVpniEXuKoeMl7iN8VBNvFyqw5huRAdkd6e1Ae%2BZm3PLQcD%2BtYVqtYHhfsXB2J2zE8Ow%2FSIZ6v5y4qMqhZIvh%2FAN2BeRqIvAvm2JWRQErAM%2FuvicMbQNPNvp45qfpHwq%2FGcaNtTbJcFnL%2FZM0O1tb%2B0BLJE6ZDvgjinTrCe5tUJGXA9GF4m7j6QsFGENYgAz4spMSEC%2BKjimt4w%2FfgdL5N%2FEq1sHQ1id86rrP8DjbWJ0mBrJi1Quu4VZB41dsCaKvzwasCQCr8T9R0dXMg2RhN1HyBToyoYAhqqsARePGjsw7SGP2t1YSJQEgVGV1i0FWUeW1HTAgnpM5LP%2FvD63mUGVwXZ3GqtabeeCeX8HzDltLSTsxLpQzrs%2FA%2B%2Bc46ahALTls0%2FvSOeBoVJHc1P5yNEmW0loL6EPySyNzD7NCmb5HyyiC7E04i7KBc1YYSVcfrsvSl%2BSwr4BdKG2%2BeZzF9PfSwEqK2qddbCcN06%2FTUrGmGS9F2pc1hjhKhNML7d%2BMkGOqUBFZKuIdW8iWz0HQiadkFqusk4sxZcDJ6314ACineQoG8w%2FyH9U5sgWvays%2Ba5Yx41BLDuI8tbOnAwzC5eqprltzEnVmSUYOncKLCAXESiaWEPIjMXKi3QQN9O0in9OGJzfEFPg5A3Me%2BxKfPZUEMNz3C2YqMO7BuecS1mCqUxpek593zR1%2F81jF3wRtYCTYWCSoipkApYZqBzZt9bXuxbz7QObWSG&X-Amz-Signature=7bc025e9bbc303e384d3efbb15aa631f22180342c21fb9e31787e78ceca21223&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGE5QRGO%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBKXVMAt52PR%2Fc%2Bq18aIDchhfXZokjaUuvxvtKK3CKqkAiA2SjKoVhf8RQ7MK3Acjzpp%2FQSENEEZgGxLfhdtokqe5Cr%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMgbOBe29J99FhIndxKtwDeEefMvnfEsbcaHMWuPin%2FoWwe7sfQ%2B2spcVP6cwjs6CTmJcBCeN%2B9ikcRzO7YYy0eGGZySv7RO8xu%2B2iTdl7o5EHb82EWTdXpOVYyas9gHL11oSiRYLAqgaNK%2FWiXf8bIy4dtymmFYbmi5u3uvfwFdhaZ%2F%2Fw%2FytkQfMJCrfmlvwvHmiYe59zVXyJHTG40v1MFUA9E0tlygX79g%2FUYVMW4Q31e%2FYsKWW5Ux0zx%2FiEnSM46nOLvqsdYwD3VQZECseyh3NKk95v1PZ6opA5%2F%2B3cL3x0LK1HqziCXyRIcK4M9f0nRd4j7C5Ptgb%2Fr3et4jspaGakCa3o1Wfcmqnw0TW%2FMo5DWfv4UueT9axlUbBCtP7SujF9EZi8zKxSVuqTGdAi6Gue05oZytSzzuYcgucVyHsJt9f2IwLRZHAG9Z7hhVy6hSIQxrh0w2LEtMroEw0PJS3EWpnkik3hCP6OqEfVHfPtHFlh8J0mQ80%2FHUvi%2B%2Fc1jzPU9qSEyfqCDLSGhasSDt3DzOMbaK30lZigrjClWSsAv521cJnfOuLP67eFT4vLZ43ZwDm03F8MnImOeY9IPlY96SpKbh0RjWTXyo7vuPbjQTuc8DwOoA9ar0%2Bu3DGf8bbk4%2BV9zFCxCgYw0dz4yQY6pgFYvvKEhEZKhI%2FmsJvwU83Z7IaI8dDCGzGDhXnK2TIwevTFv%2FeAMFJjvi6EgpaOjwCN69ViYzbRVMUJyecB5KPPbGABGzMIT2AqAp4s7wVhvSGckHE6ql1y7f6DPjFxWrTJ0Icelci6xuL1QFEUDkFxhJR1mgsC4TJe7F2Clm1NM8tPQUmExBcIS3LGByhGrrzGqkmzPRQyDbyd3ihZYQEhWrxbBObL&X-Amz-Signature=bc024904fa131a0d3c3d27c5bc3c7914820232d48d6f1608a101831a0fe1b618&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGE5QRGO%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBKXVMAt52PR%2Fc%2Bq18aIDchhfXZokjaUuvxvtKK3CKqkAiA2SjKoVhf8RQ7MK3Acjzpp%2FQSENEEZgGxLfhdtokqe5Cr%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMgbOBe29J99FhIndxKtwDeEefMvnfEsbcaHMWuPin%2FoWwe7sfQ%2B2spcVP6cwjs6CTmJcBCeN%2B9ikcRzO7YYy0eGGZySv7RO8xu%2B2iTdl7o5EHb82EWTdXpOVYyas9gHL11oSiRYLAqgaNK%2FWiXf8bIy4dtymmFYbmi5u3uvfwFdhaZ%2F%2Fw%2FytkQfMJCrfmlvwvHmiYe59zVXyJHTG40v1MFUA9E0tlygX79g%2FUYVMW4Q31e%2FYsKWW5Ux0zx%2FiEnSM46nOLvqsdYwD3VQZECseyh3NKk95v1PZ6opA5%2F%2B3cL3x0LK1HqziCXyRIcK4M9f0nRd4j7C5Ptgb%2Fr3et4jspaGakCa3o1Wfcmqnw0TW%2FMo5DWfv4UueT9axlUbBCtP7SujF9EZi8zKxSVuqTGdAi6Gue05oZytSzzuYcgucVyHsJt9f2IwLRZHAG9Z7hhVy6hSIQxrh0w2LEtMroEw0PJS3EWpnkik3hCP6OqEfVHfPtHFlh8J0mQ80%2FHUvi%2B%2Fc1jzPU9qSEyfqCDLSGhasSDt3DzOMbaK30lZigrjClWSsAv521cJnfOuLP67eFT4vLZ43ZwDm03F8MnImOeY9IPlY96SpKbh0RjWTXyo7vuPbjQTuc8DwOoA9ar0%2Bu3DGf8bbk4%2BV9zFCxCgYw0dz4yQY6pgFYvvKEhEZKhI%2FmsJvwU83Z7IaI8dDCGzGDhXnK2TIwevTFv%2FeAMFJjvi6EgpaOjwCN69ViYzbRVMUJyecB5KPPbGABGzMIT2AqAp4s7wVhvSGckHE6ql1y7f6DPjFxWrTJ0Icelci6xuL1QFEUDkFxhJR1mgsC4TJe7F2Clm1NM8tPQUmExBcIS3LGByhGrrzGqkmzPRQyDbyd3ihZYQEhWrxbBObL&X-Amz-Signature=6478745b1c66f08bb83fa883ace17b67731d7bde2dc31b5ae6073f43fa1fa86b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGE5QRGO%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040809Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBKXVMAt52PR%2Fc%2Bq18aIDchhfXZokjaUuvxvtKK3CKqkAiA2SjKoVhf8RQ7MK3Acjzpp%2FQSENEEZgGxLfhdtokqe5Cr%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMgbOBe29J99FhIndxKtwDeEefMvnfEsbcaHMWuPin%2FoWwe7sfQ%2B2spcVP6cwjs6CTmJcBCeN%2B9ikcRzO7YYy0eGGZySv7RO8xu%2B2iTdl7o5EHb82EWTdXpOVYyas9gHL11oSiRYLAqgaNK%2FWiXf8bIy4dtymmFYbmi5u3uvfwFdhaZ%2F%2Fw%2FytkQfMJCrfmlvwvHmiYe59zVXyJHTG40v1MFUA9E0tlygX79g%2FUYVMW4Q31e%2FYsKWW5Ux0zx%2FiEnSM46nOLvqsdYwD3VQZECseyh3NKk95v1PZ6opA5%2F%2B3cL3x0LK1HqziCXyRIcK4M9f0nRd4j7C5Ptgb%2Fr3et4jspaGakCa3o1Wfcmqnw0TW%2FMo5DWfv4UueT9axlUbBCtP7SujF9EZi8zKxSVuqTGdAi6Gue05oZytSzzuYcgucVyHsJt9f2IwLRZHAG9Z7hhVy6hSIQxrh0w2LEtMroEw0PJS3EWpnkik3hCP6OqEfVHfPtHFlh8J0mQ80%2FHUvi%2B%2Fc1jzPU9qSEyfqCDLSGhasSDt3DzOMbaK30lZigrjClWSsAv521cJnfOuLP67eFT4vLZ43ZwDm03F8MnImOeY9IPlY96SpKbh0RjWTXyo7vuPbjQTuc8DwOoA9ar0%2Bu3DGf8bbk4%2BV9zFCxCgYw0dz4yQY6pgFYvvKEhEZKhI%2FmsJvwU83Z7IaI8dDCGzGDhXnK2TIwevTFv%2FeAMFJjvi6EgpaOjwCN69ViYzbRVMUJyecB5KPPbGABGzMIT2AqAp4s7wVhvSGckHE6ql1y7f6DPjFxWrTJ0Icelci6xuL1QFEUDkFxhJR1mgsC4TJe7F2Clm1NM8tPQUmExBcIS3LGByhGrrzGqkmzPRQyDbyd3ihZYQEhWrxbBObL&X-Amz-Signature=a65e8f44043ee4d6758829bd63c7565dfbdfc4005d1aa5328d02bdeab0e2945a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664QCE74U7%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040810Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQCncEiYIS7znsst5dkfr3qi4zQ60sav6NOKBvuLMn%2BvKQIgPgefYqlJKReTy68hCYDKZVEqpZe7pebYNonSKzd%2BDwUq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDG8Xm12evP8zMr1nYSrcAyl2LSfH8gXueu63Z5jrMDS1%2F%2B1tkRo%2BoUwQkYIXDGqxj6L6%2FFt5VEJlAOUuE8Ik7Vkgu7I1i%2Bh0hex4XfQXIDPDksB6V7e2l%2FwcvHr1wPQP%2B0xY%2BNOuzyclC7U%2FZ6hwf%2FZpdJtwSEQxeTBdDdLHC70iPNTJhQ5g791BVRdV%2FWWmoQZa%2BiiN4auuWMQ3RTZ8VndFbOtqKiVmQYAfdC7pkljMIqjbS3FENzfNyFn9MHtpkMAGqpknzvep2B6BrqXW%2FqZI%2F4gr4SOzTEuEgkyTis9UKA1wGAOlcfVIjH0Y6BedGP73ryZGAC7PEWGENW3%2F7%2F%2F1Qr9%2FBzVWmS7kVfCpUH7TXNH67MKbWvZmSxsXStyDusIueOHCW0QG5%2FfHSdzZMw%2FkI47ieRP4t%2BXRnoxi2867tdfMojlbjwUfVOO5xvLfRetWWmcnIuuW9PuE627inYCFr5B6NdbmN5O8YFMVYrt8B6nMofoesmdLa4HRUb%2BaQWA8RD%2BLq6hIrmbA65M5Z6JpCoJq8argIVa3pXzXc%2FM3wtsht2SoGlqqGIQX6zeCLMerYiw1IP6zNLpT5JA1QLKisBW2jtSLwoUjqyTQLrvuza%2BK62UZkvisxMC70SsVoxmSbczUIavhHzGqMLTd%2BMkGOqUB7qW2uFLvGZuYtz8YL5e17WUdoYoqp1SSLL%2FioTcJv9YbBnBMo24EHtXAKecMUh0ysgdVfg70JTUKXpKtwdvIAiKwhEEFKnZpQVpnYtrmj4q3FvCmadGUOluRKSOnMRthIO05HZI1aP8hW8QShiSgW18CQ3NsToreiI43VBjnDktmvwNgcttAwuO%2BOIfrpcuLOIO9YLl655G%2B%2FjeuRq%2B7QFy6mDYG&X-Amz-Signature=36974a359bd223801e2dd088c877d31d915207a6d4bf599e33a949b671fcc254&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664QCE74U7%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040810Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQCncEiYIS7znsst5dkfr3qi4zQ60sav6NOKBvuLMn%2BvKQIgPgefYqlJKReTy68hCYDKZVEqpZe7pebYNonSKzd%2BDwUq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDG8Xm12evP8zMr1nYSrcAyl2LSfH8gXueu63Z5jrMDS1%2F%2B1tkRo%2BoUwQkYIXDGqxj6L6%2FFt5VEJlAOUuE8Ik7Vkgu7I1i%2Bh0hex4XfQXIDPDksB6V7e2l%2FwcvHr1wPQP%2B0xY%2BNOuzyclC7U%2FZ6hwf%2FZpdJtwSEQxeTBdDdLHC70iPNTJhQ5g791BVRdV%2FWWmoQZa%2BiiN4auuWMQ3RTZ8VndFbOtqKiVmQYAfdC7pkljMIqjbS3FENzfNyFn9MHtpkMAGqpknzvep2B6BrqXW%2FqZI%2F4gr4SOzTEuEgkyTis9UKA1wGAOlcfVIjH0Y6BedGP73ryZGAC7PEWGENW3%2F7%2F%2F1Qr9%2FBzVWmS7kVfCpUH7TXNH67MKbWvZmSxsXStyDusIueOHCW0QG5%2FfHSdzZMw%2FkI47ieRP4t%2BXRnoxi2867tdfMojlbjwUfVOO5xvLfRetWWmcnIuuW9PuE627inYCFr5B6NdbmN5O8YFMVYrt8B6nMofoesmdLa4HRUb%2BaQWA8RD%2BLq6hIrmbA65M5Z6JpCoJq8argIVa3pXzXc%2FM3wtsht2SoGlqqGIQX6zeCLMerYiw1IP6zNLpT5JA1QLKisBW2jtSLwoUjqyTQLrvuza%2BK62UZkvisxMC70SsVoxmSbczUIavhHzGqMLTd%2BMkGOqUB7qW2uFLvGZuYtz8YL5e17WUdoYoqp1SSLL%2FioTcJv9YbBnBMo24EHtXAKecMUh0ysgdVfg70JTUKXpKtwdvIAiKwhEEFKnZpQVpnYtrmj4q3FvCmadGUOluRKSOnMRthIO05HZI1aP8hW8QShiSgW18CQ3NsToreiI43VBjnDktmvwNgcttAwuO%2BOIfrpcuLOIO9YLl655G%2B%2FjeuRq%2B7QFy6mDYG&X-Amz-Signature=8996280dffaf6148cf8d81420b3d0e123c86c62af34a206f67aa58b9703eeae9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WXMNOKMF%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040810Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBztSxIUABeVlJ0gcQr%2BkJo1ewWzEdQmRJ6H05lUSxzuAiBXbmgV4HUHU9e74479mSn8dGq1fUk7i5R54H%2BiUFBLpir%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIM2yL2zj9kqqY1LzsYKtwDYVkfLfDgtQC0e%2Fx4TYCyOaQU8sn0syO0MX%2BIEFj8hKzc3MoT%2F97VzysRJuqmPbe%2BGMhgIV0GYlHk40rPlWjTH5Kq1UkuyzJ9vO%2FU7sS%2FinArm24EdyeMJtryNlt6jTAkSRl8Sb%2BiYoxjwItT9JJ4050L9WZilfkmNzYEftUh441ZJZE2POLsyzBZyLQHZ0ieoPx7BY%2BpEJdCNLWb5EQ71wPFomTLTcYSCvaEr3%2FS4013N504A4tdH5arrJwKEmR5jou3S2P6foWMkBQyzdWVt1TE9Bbz4WCARty8tP9JnEkRabmg93Euvfl0JJBFwbWuFWkPzl3GSIfjrcAtlQtRKYcqxroKdcpM3sOzN8UsC4gNsCrQQ1idJwrM25XlqqVcbPLvT83YchaEv9YzdsAAOPNBntQKNh4xo1NNuZ%2F7I1UdKGmMlBrp6O8Dy9VmmO9fHjhsyZp3T9UPIIcqAPeZonEX%2BXEDM%2FODnKhY%2FKlLaHzB7H1ViO1qYhjdmKqFO5W7IU6Zi9ACpYKLft%2F86LxF8C%2F32n2adoHW%2F6HKZVsKU2u0qoYlVDerqDms44WKrHoMNpYaZo1ALXZUhHBuRikscotUlzBnEgStm04ka9DQhVCQ5rApaCdvG38DPzMwzdz4yQY6pgGpiSQxeNVQ6UWuSzbjVqjmfFwXubGgNfxz%2Fn3bL4wnEv%2B39Rxu2WOF1ayhJH1gbu%2Fq%2FMMAq4%2BBv2%2F2X%2B3xFJk6NEAeSbuDUEXah07XRub0wQvWfXp4g5TX%2FANcPLfYIguLUBqyOKhwqrWn9U3U5N%2F2740K%2FEDnMKbjz1QClL8YXzCquGrzGcAJ1521r9aXtjAe%2FSJQFXzt0lqQqxIuNzdhZNk6UJ8L&X-Amz-Signature=17594168ec0c3a7df7473a6073823fe0195e3b4296e47a4bfde0ad1b6683f51a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WXMNOKMF%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040810Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBztSxIUABeVlJ0gcQr%2BkJo1ewWzEdQmRJ6H05lUSxzuAiBXbmgV4HUHU9e74479mSn8dGq1fUk7i5R54H%2BiUFBLpir%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIM2yL2zj9kqqY1LzsYKtwDYVkfLfDgtQC0e%2Fx4TYCyOaQU8sn0syO0MX%2BIEFj8hKzc3MoT%2F97VzysRJuqmPbe%2BGMhgIV0GYlHk40rPlWjTH5Kq1UkuyzJ9vO%2FU7sS%2FinArm24EdyeMJtryNlt6jTAkSRl8Sb%2BiYoxjwItT9JJ4050L9WZilfkmNzYEftUh441ZJZE2POLsyzBZyLQHZ0ieoPx7BY%2BpEJdCNLWb5EQ71wPFomTLTcYSCvaEr3%2FS4013N504A4tdH5arrJwKEmR5jou3S2P6foWMkBQyzdWVt1TE9Bbz4WCARty8tP9JnEkRabmg93Euvfl0JJBFwbWuFWkPzl3GSIfjrcAtlQtRKYcqxroKdcpM3sOzN8UsC4gNsCrQQ1idJwrM25XlqqVcbPLvT83YchaEv9YzdsAAOPNBntQKNh4xo1NNuZ%2F7I1UdKGmMlBrp6O8Dy9VmmO9fHjhsyZp3T9UPIIcqAPeZonEX%2BXEDM%2FODnKhY%2FKlLaHzB7H1ViO1qYhjdmKqFO5W7IU6Zi9ACpYKLft%2F86LxF8C%2F32n2adoHW%2F6HKZVsKU2u0qoYlVDerqDms44WKrHoMNpYaZo1ALXZUhHBuRikscotUlzBnEgStm04ka9DQhVCQ5rApaCdvG38DPzMwzdz4yQY6pgGpiSQxeNVQ6UWuSzbjVqjmfFwXubGgNfxz%2Fn3bL4wnEv%2B39Rxu2WOF1ayhJH1gbu%2Fq%2FMMAq4%2BBv2%2F2X%2B3xFJk6NEAeSbuDUEXah07XRub0wQvWfXp4g5TX%2FANcPLfYIguLUBqyOKhwqrWn9U3U5N%2F2740K%2FEDnMKbjz1QClL8YXzCquGrzGcAJ1521r9aXtjAe%2FSJQFXzt0lqQqxIuNzdhZNk6UJ8L&X-Amz-Signature=2a800cf01fc39b233270b70696e3c55f161480d2c7614590b8e505ea8e7c33e0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TC7S3BEU%2F20251214%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251214T040810Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIApco9jFuLDCedchntuWNTS%2FsZLjTu7K%2Bn8JZ07qmS9lAiAseUQHHIGrQzUoZx%2FFJ4VTMYS3bt8iIzzq93QpeCVscCr%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMPyLaFnX1bSwl5m3aKtwDqUpjCSV1QO44VH1MhWOpD%2FKqBVyRYA8rE6U1pHzmzqkVXbm887%2BX9PcHrmPp3NFqpOiQKK5KqoLrYMMPkBKE0rmfOVQfXrKB4sMk1B96bOPQ4PhLfC87PDj%2BkO4G9URRLDnOvhP72cW1WDeus23y0EudnPSWPiTzr%2FjtiGft1or2wRvkldd4V4WLGaUEKjrVVxaVq%2BO95VNb4NgQ15kZ0JKW0ZfDH49yYgZ1BQ5%2FY85zOg2xfsfjOu6FcYTgpDQLfaWNHOxPO%2BLybcMvxRgrQ6ihwobTu6b7upQCEgODxecf1BQbCZw%2BiLDER%2BT91hk5%2FBAugAPSDWWq%2BZjYB5kqLornLdG%2F%2BcriDS1ZaIB%2FJci%2FqAMycLuUBf8LCvwGsUjcpHQCNMDLSKDHo19uWNgKa5%2BKXA8t%2B%2B5PGA9mAEHk6KTTC2CqWjrzPpUyAr%2FQrHtI6m%2FmaWOlb1vRDkQZBCp%2B70mBfo5qaqHRFB36R5bj1BImdiwlnJln36ZRZTKmaTMVgIo4ejrmXqfp5wS%2BGAuuh9cuNzDWEvumgi11WT2d9RUitlwHIHVpopAHz0xx2G%2FOGzRG3xqJQQV0A%2BqJhkKZ1X2LLaRnrSBDOfEy0tsHjK0Oj0%2FCU54BIt06Y1EwsNz4yQY6pgFLyHWZolNXVo2NSHt4Ms7q0sIuehPyEauKP5EAPRflB%2Fownb91B%2BOgIfiiK1pXqudEnL3Gb4swiJry%2Fm%2BjYbvReDbbgfewYszFDHpFcxex9RAw1Z%2FS0UyKEpIjnepbSszSfbleieV8i%2F30PJEbCLYTnKNu6s5fRxo%2B5sxNKNuZA5lxw0eSTJ%2FgV4Ftc3JnVoAs6bPUv1dNYL2mL0hqb7BhBWlnG640&X-Amz-Signature=9ab7656e2f97d6b797f7bc33c40012e3c19c584c0261e06cb3b651dfc67a3f2a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
