
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XDBDHGDI%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041423Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQC3HkIarK1aDmAU1rvGocGGz0ADzNKfk8nJxghhNUxeLwIgSHO1rejTlmDQgD54yDks%2FdvqrobX0q0HnZRXXV40KCgqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ9tmuJrfg5%2BBExosyrcA2DV6IzKJnyQoAc4NRPZ4qI7JhS3TvzP%2BQxNdb%2BKQwpzFmEksF7lvBFCpMyrVEyazAiSpr5xjHpV735L2ClSeZVjZ7I6mawfE65v0nJ6eryk%2F%2FU%2BXB1AueqPNu080Nddd8g2%2Fh3TeHwLlGWOZv0KpmtH0sqQiqC64Nc%2B6vNsua8Da0RWS78BuYtL5ihO4wcM6siLCHfsf19Dfqp3r%2BgOamt%2FIxQleNK%2BRCBN2gEYqAuNtqgv1AT9kz5osqPumid2afgx0KMzU9OG2tkzI8%2BoEeYYccgbQq5sr2INan6jlZn%2FMPIQIJu48XAkRY8qY3MF%2Fxj7AoARP%2F8jtjt2ELv5qZIE3M%2BqYXqCTjKPeXh4VqaE4EjWSnKx%2FwhK0NF5hSlcqorWaguwdos%2BMtnUxYu%2FBJzHwUmKRPxzsgVz3Zoh0bqdnpWZ0fFiisJMBBjOwjdIXAvX9FrSZO4GfSrYXmenBhFIoAcy8FpBAX6IkWZNZO1oqm3A5MUR94v4jpOSbIhCUaRrGgStgzlLm0KTcupu2gTrjCCiTqBoef%2BNuizWQXPhrlp8X5uFYQqnPgaafeO7K%2FcNYxBGmRG76Pw1nk1ZYoR%2FxLDEMo%2BmuIc%2FdzIBVddf3cyef2Pem2pnQ515MMGFo8oGOqUBg948gaZsVH2JG3M5%2BvdDMC8qVC5dp8%2B0ZI3ElQcBfjfO1jITKR3lQ018tXbLRInVvReb25DZ4%2Bc2tVWy6SBjMYjXJelDI4RpuU4xuhKt3HhiX7%2FbD9ZC1tlWZi7vAOK5JB9x%2FVq1Gk4N2DKrxCNE%2BPOi%2BdXKe3E5RB%2BKbaxAfCAtKhXaMgPmkX3why62yGW2lW3f51lRC0QZxEyTvDS930m2qrTX&X-Amz-Signature=b75cd1a2bc99b67f54f1189cb6e57717352d030d8b857cff93ac2629b55fd251&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XDBDHGDI%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041423Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQC3HkIarK1aDmAU1rvGocGGz0ADzNKfk8nJxghhNUxeLwIgSHO1rejTlmDQgD54yDks%2FdvqrobX0q0HnZRXXV40KCgqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ9tmuJrfg5%2BBExosyrcA2DV6IzKJnyQoAc4NRPZ4qI7JhS3TvzP%2BQxNdb%2BKQwpzFmEksF7lvBFCpMyrVEyazAiSpr5xjHpV735L2ClSeZVjZ7I6mawfE65v0nJ6eryk%2F%2FU%2BXB1AueqPNu080Nddd8g2%2Fh3TeHwLlGWOZv0KpmtH0sqQiqC64Nc%2B6vNsua8Da0RWS78BuYtL5ihO4wcM6siLCHfsf19Dfqp3r%2BgOamt%2FIxQleNK%2BRCBN2gEYqAuNtqgv1AT9kz5osqPumid2afgx0KMzU9OG2tkzI8%2BoEeYYccgbQq5sr2INan6jlZn%2FMPIQIJu48XAkRY8qY3MF%2Fxj7AoARP%2F8jtjt2ELv5qZIE3M%2BqYXqCTjKPeXh4VqaE4EjWSnKx%2FwhK0NF5hSlcqorWaguwdos%2BMtnUxYu%2FBJzHwUmKRPxzsgVz3Zoh0bqdnpWZ0fFiisJMBBjOwjdIXAvX9FrSZO4GfSrYXmenBhFIoAcy8FpBAX6IkWZNZO1oqm3A5MUR94v4jpOSbIhCUaRrGgStgzlLm0KTcupu2gTrjCCiTqBoef%2BNuizWQXPhrlp8X5uFYQqnPgaafeO7K%2FcNYxBGmRG76Pw1nk1ZYoR%2FxLDEMo%2BmuIc%2FdzIBVddf3cyef2Pem2pnQ515MMGFo8oGOqUBg948gaZsVH2JG3M5%2BvdDMC8qVC5dp8%2B0ZI3ElQcBfjfO1jITKR3lQ018tXbLRInVvReb25DZ4%2Bc2tVWy6SBjMYjXJelDI4RpuU4xuhKt3HhiX7%2FbD9ZC1tlWZi7vAOK5JB9x%2FVq1Gk4N2DKrxCNE%2BPOi%2BdXKe3E5RB%2BKbaxAfCAtKhXaMgPmkX3why62yGW2lW3f51lRC0QZxEyTvDS930m2qrTX&X-Amz-Signature=219e9cc19a3374f3d9d71c470366964469eedca2d021d9e0378aabf05b158184&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XDBDHGDI%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041423Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQC3HkIarK1aDmAU1rvGocGGz0ADzNKfk8nJxghhNUxeLwIgSHO1rejTlmDQgD54yDks%2FdvqrobX0q0HnZRXXV40KCgqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ9tmuJrfg5%2BBExosyrcA2DV6IzKJnyQoAc4NRPZ4qI7JhS3TvzP%2BQxNdb%2BKQwpzFmEksF7lvBFCpMyrVEyazAiSpr5xjHpV735L2ClSeZVjZ7I6mawfE65v0nJ6eryk%2F%2FU%2BXB1AueqPNu080Nddd8g2%2Fh3TeHwLlGWOZv0KpmtH0sqQiqC64Nc%2B6vNsua8Da0RWS78BuYtL5ihO4wcM6siLCHfsf19Dfqp3r%2BgOamt%2FIxQleNK%2BRCBN2gEYqAuNtqgv1AT9kz5osqPumid2afgx0KMzU9OG2tkzI8%2BoEeYYccgbQq5sr2INan6jlZn%2FMPIQIJu48XAkRY8qY3MF%2Fxj7AoARP%2F8jtjt2ELv5qZIE3M%2BqYXqCTjKPeXh4VqaE4EjWSnKx%2FwhK0NF5hSlcqorWaguwdos%2BMtnUxYu%2FBJzHwUmKRPxzsgVz3Zoh0bqdnpWZ0fFiisJMBBjOwjdIXAvX9FrSZO4GfSrYXmenBhFIoAcy8FpBAX6IkWZNZO1oqm3A5MUR94v4jpOSbIhCUaRrGgStgzlLm0KTcupu2gTrjCCiTqBoef%2BNuizWQXPhrlp8X5uFYQqnPgaafeO7K%2FcNYxBGmRG76Pw1nk1ZYoR%2FxLDEMo%2BmuIc%2FdzIBVddf3cyef2Pem2pnQ515MMGFo8oGOqUBg948gaZsVH2JG3M5%2BvdDMC8qVC5dp8%2B0ZI3ElQcBfjfO1jITKR3lQ018tXbLRInVvReb25DZ4%2Bc2tVWy6SBjMYjXJelDI4RpuU4xuhKt3HhiX7%2FbD9ZC1tlWZi7vAOK5JB9x%2FVq1Gk4N2DKrxCNE%2BPOi%2BdXKe3E5RB%2BKbaxAfCAtKhXaMgPmkX3why62yGW2lW3f51lRC0QZxEyTvDS930m2qrTX&X-Amz-Signature=10e6d364c78a9a0c697ba3b24daed8ccf88393e09a99913f7f5a957049c2c9a6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VSC6YD4W%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIFamb282BGFLtd3E%2BcNOm1UVSBy0IHXZHOVTs33wlNaFAiAvX5%2Fro7bhDzfNlGLPC9vXidjs0jX4nRxUKg7hZvxieiqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMiGAwczACDokvT8cnKtwD9eqWokirAqZjLYVKiyQ2hx42TtCd83L%2F8OlOSo3ggz7zY45IUN94jUrh7E2uAR9%2F9BqkPPydFNWAFGhAfsorDf3LKFbCmnU0N482%2FDA9%2Bc6ahTVY7EcHng56arRepuVK9vvnOhIzMdG5OUASYgGwfmY0vdgOMAh6kDLot25875OWXQFGt%2B3yddWXvIGlv9cEfu%2BBog3V%2FqWx5RI%2B47rlERy4trbWjBziXj%2B95ltqxncfSf3WvGDJC%2Fe0k24914Fv%2BYqJXov75qmQhLEnhQfswUeqjk0IpJ1LZHbLvWOUDkc7Yq4mbKSYXBRbwvw73NNKipEU3CR5%2Bkax3UV1tiGfdf6OU5jROCrwi1FCgajYl9WlCA7vQT0g%2B3xDJEOw8sT1xscycJDbIp855%2B%2F%2Bgw4234XxkHKqKGzERCp4wv%2BHRWMN5SkT2RS5iF1PQKgx43c6hEYTfYzJLqAiQWD5SvU3cy2QH%2F7oq0vGXPrGcG7gEg4Sp%2BW1pgMppKsaAIJShLIwAe7GcGUTzampcEYOMJAeFtr%2BBE7%2BLJgHN6OmjW9XkHU7ZfkmJTWUYMb5JOC2p%2Bcd%2Fx%2FGZTxnVnzqXOeG%2BFovxnY0jU86CfS3SEFnSNL1GfFF5WMu7UREJZ1fj0EwwIWjygY6pgFWt0Hlq6u0yfrffalBujANtlKGw3MwZTrXE86me85OMl8vCBaJtC6HWhsz5QtA%2FBMKLEcm8ubN4N8EYE1Id8jbZUcAiwt3fPMp3KB3Z609Cpc7h2wqgVrRSEffwMkI23qoc4vrlfq3%2F1G%2FrCfI7BahPZKsN6Cy572s%2FwqgTN7ZRfVAuwypVw9c9t5ZzifhhUGBxmux%2BIn64s2xTVeIW1Z%2Bs%2By2qP7w&X-Amz-Signature=4a8ad1232875b3bfe4b0887b745ff385559d9ccfa6fc334cdf2cfcb27c57d4ca&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VSC6YD4W%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIFamb282BGFLtd3E%2BcNOm1UVSBy0IHXZHOVTs33wlNaFAiAvX5%2Fro7bhDzfNlGLPC9vXidjs0jX4nRxUKg7hZvxieiqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMiGAwczACDokvT8cnKtwD9eqWokirAqZjLYVKiyQ2hx42TtCd83L%2F8OlOSo3ggz7zY45IUN94jUrh7E2uAR9%2F9BqkPPydFNWAFGhAfsorDf3LKFbCmnU0N482%2FDA9%2Bc6ahTVY7EcHng56arRepuVK9vvnOhIzMdG5OUASYgGwfmY0vdgOMAh6kDLot25875OWXQFGt%2B3yddWXvIGlv9cEfu%2BBog3V%2FqWx5RI%2B47rlERy4trbWjBziXj%2B95ltqxncfSf3WvGDJC%2Fe0k24914Fv%2BYqJXov75qmQhLEnhQfswUeqjk0IpJ1LZHbLvWOUDkc7Yq4mbKSYXBRbwvw73NNKipEU3CR5%2Bkax3UV1tiGfdf6OU5jROCrwi1FCgajYl9WlCA7vQT0g%2B3xDJEOw8sT1xscycJDbIp855%2B%2F%2Bgw4234XxkHKqKGzERCp4wv%2BHRWMN5SkT2RS5iF1PQKgx43c6hEYTfYzJLqAiQWD5SvU3cy2QH%2F7oq0vGXPrGcG7gEg4Sp%2BW1pgMppKsaAIJShLIwAe7GcGUTzampcEYOMJAeFtr%2BBE7%2BLJgHN6OmjW9XkHU7ZfkmJTWUYMb5JOC2p%2Bcd%2Fx%2FGZTxnVnzqXOeG%2BFovxnY0jU86CfS3SEFnSNL1GfFF5WMu7UREJZ1fj0EwwIWjygY6pgFWt0Hlq6u0yfrffalBujANtlKGw3MwZTrXE86me85OMl8vCBaJtC6HWhsz5QtA%2FBMKLEcm8ubN4N8EYE1Id8jbZUcAiwt3fPMp3KB3Z609Cpc7h2wqgVrRSEffwMkI23qoc4vrlfq3%2F1G%2FrCfI7BahPZKsN6Cy572s%2FwqgTN7ZRfVAuwypVw9c9t5ZzifhhUGBxmux%2BIn64s2xTVeIW1Z%2Bs%2By2qP7w&X-Amz-Signature=82533a3c9a10753fc5c29484cba959deb8b5c9ffb8d74d8bd77d210476cef789&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VSC6YD4W%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIFamb282BGFLtd3E%2BcNOm1UVSBy0IHXZHOVTs33wlNaFAiAvX5%2Fro7bhDzfNlGLPC9vXidjs0jX4nRxUKg7hZvxieiqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMiGAwczACDokvT8cnKtwD9eqWokirAqZjLYVKiyQ2hx42TtCd83L%2F8OlOSo3ggz7zY45IUN94jUrh7E2uAR9%2F9BqkPPydFNWAFGhAfsorDf3LKFbCmnU0N482%2FDA9%2Bc6ahTVY7EcHng56arRepuVK9vvnOhIzMdG5OUASYgGwfmY0vdgOMAh6kDLot25875OWXQFGt%2B3yddWXvIGlv9cEfu%2BBog3V%2FqWx5RI%2B47rlERy4trbWjBziXj%2B95ltqxncfSf3WvGDJC%2Fe0k24914Fv%2BYqJXov75qmQhLEnhQfswUeqjk0IpJ1LZHbLvWOUDkc7Yq4mbKSYXBRbwvw73NNKipEU3CR5%2Bkax3UV1tiGfdf6OU5jROCrwi1FCgajYl9WlCA7vQT0g%2B3xDJEOw8sT1xscycJDbIp855%2B%2F%2Bgw4234XxkHKqKGzERCp4wv%2BHRWMN5SkT2RS5iF1PQKgx43c6hEYTfYzJLqAiQWD5SvU3cy2QH%2F7oq0vGXPrGcG7gEg4Sp%2BW1pgMppKsaAIJShLIwAe7GcGUTzampcEYOMJAeFtr%2BBE7%2BLJgHN6OmjW9XkHU7ZfkmJTWUYMb5JOC2p%2Bcd%2Fx%2FGZTxnVnzqXOeG%2BFovxnY0jU86CfS3SEFnSNL1GfFF5WMu7UREJZ1fj0EwwIWjygY6pgFWt0Hlq6u0yfrffalBujANtlKGw3MwZTrXE86me85OMl8vCBaJtC6HWhsz5QtA%2FBMKLEcm8ubN4N8EYE1Id8jbZUcAiwt3fPMp3KB3Z609Cpc7h2wqgVrRSEffwMkI23qoc4vrlfq3%2F1G%2FrCfI7BahPZKsN6Cy572s%2FwqgTN7ZRfVAuwypVw9c9t5ZzifhhUGBxmux%2BIn64s2xTVeIW1Z%2Bs%2By2qP7w&X-Amz-Signature=72d7a36f5415133cbb0375b5bb6e7f13cddd9588388705420d7baf43f6b46ade&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662UWU7KHW%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIEu%2BthCyVG%2FHLeqKajmrJXbfrYQoGwhRPlhVQarXyY6fAiEAkTKpRzKWQxraZRlgr4Yw3RqRoKHM8csE86%2F3BzXm4LEqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCop3rLHKGwtWERNPircA6yS3YtQeNu7Dat7Gn0%2F%2BbrWkiGJZsQ0YCIvDSNyW6t6oW2Hy2796RFuYy6lrLvtIpLqFdhNDqedPCkCsdALV9rpOryl4S0vZXtE0RCeTE73OikvREog1Vo%2BZV%2BrMGMOqGm9IF5q9fGnZ9LijMZqUuexDtfekTlJTHUKw%2FPG30drUukjMBLBODlQaCqWFPDp0bBgP7dUz2DIpxqBHhyA5axYL6BBtRWiZ07aF6lwE5wSEoZdTAOR6Rhuu7wJmMCScWXduL%2Bc1hxhpvF3vS2a%2FCTgULKp83w2N1M5FLOfzoIyDvQSfwR1cDtVJkIq0wv%2FHYfxfOqg7SjCL9ncd%2BnLt8%2BZ7IH7PFIe3uF7x57JqQLoHTyiFOymuE5Bq87LhnZHCEcYUwQEWDea5ZNCWfN3UN%2BWNbVoS9K8Aigw4V6f4Dwghldb%2FPhF3QqL8PZ5zQwJTGidRe7lBb7AKWxaITbtqHT1eAGlczSw2RWF97crXVkXnAs3ugfk2o%2BJhbYSKSYhtBy7m8tTgO0Xi0x4jCCQHMUOBiZGWw0ZB1o%2BE4KZLFqY4KYTs%2BNUQPd%2Bsf7BFdGaiQsw4ZYD7zPMb4I8qIgtJFilB%2FF5N%2FfeWZgx2OWPMx5CWjL28hl2rtzwGogJMLmFo8oGOqUB9tu5%2BMZzK%2BI2rnwZhRfw2uq5OrB%2BwpNzRxl6PwheACmhRSAvqdW5K2lby7K50B26Vbea9fPnNNLTjGQGXmthIJ7bhQ4CVMMfirpayg5bWrubsqrBqCBwW4jwiakgtANWlLmi8ueQjnDG3%2BUDUGFNjNAvF%2BSXSR%2FfuO%2BJ4nhJtw2ZrCUFmRERm%2BMBxqSdE0O78yo9gOajGaz%2FCpNBbVKNPsheNepp&X-Amz-Signature=9c94cf1f40c5712bfe55573af52fb283b396db79032f048ded48ddc0da5e0ef6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662UWU7KHW%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIEu%2BthCyVG%2FHLeqKajmrJXbfrYQoGwhRPlhVQarXyY6fAiEAkTKpRzKWQxraZRlgr4Yw3RqRoKHM8csE86%2F3BzXm4LEqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCop3rLHKGwtWERNPircA6yS3YtQeNu7Dat7Gn0%2F%2BbrWkiGJZsQ0YCIvDSNyW6t6oW2Hy2796RFuYy6lrLvtIpLqFdhNDqedPCkCsdALV9rpOryl4S0vZXtE0RCeTE73OikvREog1Vo%2BZV%2BrMGMOqGm9IF5q9fGnZ9LijMZqUuexDtfekTlJTHUKw%2FPG30drUukjMBLBODlQaCqWFPDp0bBgP7dUz2DIpxqBHhyA5axYL6BBtRWiZ07aF6lwE5wSEoZdTAOR6Rhuu7wJmMCScWXduL%2Bc1hxhpvF3vS2a%2FCTgULKp83w2N1M5FLOfzoIyDvQSfwR1cDtVJkIq0wv%2FHYfxfOqg7SjCL9ncd%2BnLt8%2BZ7IH7PFIe3uF7x57JqQLoHTyiFOymuE5Bq87LhnZHCEcYUwQEWDea5ZNCWfN3UN%2BWNbVoS9K8Aigw4V6f4Dwghldb%2FPhF3QqL8PZ5zQwJTGidRe7lBb7AKWxaITbtqHT1eAGlczSw2RWF97crXVkXnAs3ugfk2o%2BJhbYSKSYhtBy7m8tTgO0Xi0x4jCCQHMUOBiZGWw0ZB1o%2BE4KZLFqY4KYTs%2BNUQPd%2Bsf7BFdGaiQsw4ZYD7zPMb4I8qIgtJFilB%2FF5N%2FfeWZgx2OWPMx5CWjL28hl2rtzwGogJMLmFo8oGOqUB9tu5%2BMZzK%2BI2rnwZhRfw2uq5OrB%2BwpNzRxl6PwheACmhRSAvqdW5K2lby7K50B26Vbea9fPnNNLTjGQGXmthIJ7bhQ4CVMMfirpayg5bWrubsqrBqCBwW4jwiakgtANWlLmi8ueQjnDG3%2BUDUGFNjNAvF%2BSXSR%2FfuO%2BJ4nhJtw2ZrCUFmRERm%2BMBxqSdE0O78yo9gOajGaz%2FCpNBbVKNPsheNepp&X-Amz-Signature=01048fc21e1c91b4b9db896cc735770f67bf65a0d4edfb4e217b17636cae24be&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662UWU7KHW%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIEu%2BthCyVG%2FHLeqKajmrJXbfrYQoGwhRPlhVQarXyY6fAiEAkTKpRzKWQxraZRlgr4Yw3RqRoKHM8csE86%2F3BzXm4LEqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCop3rLHKGwtWERNPircA6yS3YtQeNu7Dat7Gn0%2F%2BbrWkiGJZsQ0YCIvDSNyW6t6oW2Hy2796RFuYy6lrLvtIpLqFdhNDqedPCkCsdALV9rpOryl4S0vZXtE0RCeTE73OikvREog1Vo%2BZV%2BrMGMOqGm9IF5q9fGnZ9LijMZqUuexDtfekTlJTHUKw%2FPG30drUukjMBLBODlQaCqWFPDp0bBgP7dUz2DIpxqBHhyA5axYL6BBtRWiZ07aF6lwE5wSEoZdTAOR6Rhuu7wJmMCScWXduL%2Bc1hxhpvF3vS2a%2FCTgULKp83w2N1M5FLOfzoIyDvQSfwR1cDtVJkIq0wv%2FHYfxfOqg7SjCL9ncd%2BnLt8%2BZ7IH7PFIe3uF7x57JqQLoHTyiFOymuE5Bq87LhnZHCEcYUwQEWDea5ZNCWfN3UN%2BWNbVoS9K8Aigw4V6f4Dwghldb%2FPhF3QqL8PZ5zQwJTGidRe7lBb7AKWxaITbtqHT1eAGlczSw2RWF97crXVkXnAs3ugfk2o%2BJhbYSKSYhtBy7m8tTgO0Xi0x4jCCQHMUOBiZGWw0ZB1o%2BE4KZLFqY4KYTs%2BNUQPd%2Bsf7BFdGaiQsw4ZYD7zPMb4I8qIgtJFilB%2FF5N%2FfeWZgx2OWPMx5CWjL28hl2rtzwGogJMLmFo8oGOqUB9tu5%2BMZzK%2BI2rnwZhRfw2uq5OrB%2BwpNzRxl6PwheACmhRSAvqdW5K2lby7K50B26Vbea9fPnNNLTjGQGXmthIJ7bhQ4CVMMfirpayg5bWrubsqrBqCBwW4jwiakgtANWlLmi8ueQjnDG3%2BUDUGFNjNAvF%2BSXSR%2FfuO%2BJ4nhJtw2ZrCUFmRERm%2BMBxqSdE0O78yo9gOajGaz%2FCpNBbVKNPsheNepp&X-Amz-Signature=2a27d4562215a02c31db13a5197c16fd5de0c0e7ce5f769012254d9f6935be07&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662UWU7KHW%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIEu%2BthCyVG%2FHLeqKajmrJXbfrYQoGwhRPlhVQarXyY6fAiEAkTKpRzKWQxraZRlgr4Yw3RqRoKHM8csE86%2F3BzXm4LEqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCop3rLHKGwtWERNPircA6yS3YtQeNu7Dat7Gn0%2F%2BbrWkiGJZsQ0YCIvDSNyW6t6oW2Hy2796RFuYy6lrLvtIpLqFdhNDqedPCkCsdALV9rpOryl4S0vZXtE0RCeTE73OikvREog1Vo%2BZV%2BrMGMOqGm9IF5q9fGnZ9LijMZqUuexDtfekTlJTHUKw%2FPG30drUukjMBLBODlQaCqWFPDp0bBgP7dUz2DIpxqBHhyA5axYL6BBtRWiZ07aF6lwE5wSEoZdTAOR6Rhuu7wJmMCScWXduL%2Bc1hxhpvF3vS2a%2FCTgULKp83w2N1M5FLOfzoIyDvQSfwR1cDtVJkIq0wv%2FHYfxfOqg7SjCL9ncd%2BnLt8%2BZ7IH7PFIe3uF7x57JqQLoHTyiFOymuE5Bq87LhnZHCEcYUwQEWDea5ZNCWfN3UN%2BWNbVoS9K8Aigw4V6f4Dwghldb%2FPhF3QqL8PZ5zQwJTGidRe7lBb7AKWxaITbtqHT1eAGlczSw2RWF97crXVkXnAs3ugfk2o%2BJhbYSKSYhtBy7m8tTgO0Xi0x4jCCQHMUOBiZGWw0ZB1o%2BE4KZLFqY4KYTs%2BNUQPd%2Bsf7BFdGaiQsw4ZYD7zPMb4I8qIgtJFilB%2FF5N%2FfeWZgx2OWPMx5CWjL28hl2rtzwGogJMLmFo8oGOqUB9tu5%2BMZzK%2BI2rnwZhRfw2uq5OrB%2BwpNzRxl6PwheACmhRSAvqdW5K2lby7K50B26Vbea9fPnNNLTjGQGXmthIJ7bhQ4CVMMfirpayg5bWrubsqrBqCBwW4jwiakgtANWlLmi8ueQjnDG3%2BUDUGFNjNAvF%2BSXSR%2FfuO%2BJ4nhJtw2ZrCUFmRERm%2BMBxqSdE0O78yo9gOajGaz%2FCpNBbVKNPsheNepp&X-Amz-Signature=7e22517ec54e8ecb076516d3a27b34dc398bbfbc775f8a61ebdf39229fd45961&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WND2SVCL%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDxBVabEOVl8l6oykQvda1X1sNLC4KiLwtk1GZiSoXAXAiAWZPA%2B2Mb0QwWGtu45nzBCtxDmbFzjG7EWEM49eY2v6CqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMak7BJbiPRR0%2BwtYPKtwDkG1iWqmUEueojxnScJJIEhkjQshPuv2rvg4G9GroFKGe2sNV%2BIrRFG757a8hgH%2FW8t%2BhBrPqDTVvNk79J1rxJPuhx1xoGqBA8Hbs4%2BeZaFXQl2%2Bn0LnQ9c0sd7l%2FVko0e%2FuZEjv4JiuwQkELyHF9pKoAvwPgeRr40v%2B3G%2BoNjyrnO%2B%2BqcfCo%2BqnIlfZ8OuWVgKp7zdf%2FwHx1cCqXYyrmIAsRBXnLPbJeEnyoGy4%2FSHRUBdsEZJ6h2ZuUxB%2F%2FuA1izOHviAfPoaT9ByqgLjjeZmRbXTSCsWxtA2MdUyY9Bqr9vfONiPJFAai%2Ba3MhX78EVMmXsS%2FCOVoTTHqYlSdgLh0QmOFsYmObDsC7mEaQzXznRzMh7FQ0KLkLDjXNVlbPngoT7pPgFPUAhNtAwLhwliopECEwlOG%2FHx6ELUrgmh5ORgP1%2BQSF2Mz9lDFg2SnkfEVV0DgXZ5z9jb%2B5jQvrrHdCeZ3VOLLNRlvTYK1ISt0qS6Ab0PO2APmUoHZaMDsov5iw9LxSpLrWl%2F7JcUCNLzMTTEfRFfjo1oepVEPP%2BDy6rnwa6qloQGTed6zWzjfGDUDR3QcCPL9tg9EwQgNNRwpDNN%2FA9d5oIDlkF76YZFDr7zvXNpOgfE5y%2FRUwkIajygY6pgEgltcYA6exx4ZfMSqAIHe3ZhT6rjUfYU13T%2BG2w7J63ojUrnEw5dplAhOcF%2BQaM0%2FoCymBKGZIT%2F0mU1DkjYHqmOWnzHge0YhaxGBdCLLiN4sLeeIS8oLbnB8AMoyuw%2FajiA28E%2FzOuOCSCuOt%2FTEkaljytDNa7Hrnb2Io7tHQIqGTa2c5S3dncDq4bpMHGrqNgh0y5j%2B26%2B5SHfkMr0WD88Vasp6T&X-Amz-Signature=56d313d5ff1ee37cf56ff66cc426cc74220ffe84e5a48c064cbf6a7488b87c1d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WND2SVCL%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDxBVabEOVl8l6oykQvda1X1sNLC4KiLwtk1GZiSoXAXAiAWZPA%2B2Mb0QwWGtu45nzBCtxDmbFzjG7EWEM49eY2v6CqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMak7BJbiPRR0%2BwtYPKtwDkG1iWqmUEueojxnScJJIEhkjQshPuv2rvg4G9GroFKGe2sNV%2BIrRFG757a8hgH%2FW8t%2BhBrPqDTVvNk79J1rxJPuhx1xoGqBA8Hbs4%2BeZaFXQl2%2Bn0LnQ9c0sd7l%2FVko0e%2FuZEjv4JiuwQkELyHF9pKoAvwPgeRr40v%2B3G%2BoNjyrnO%2B%2BqcfCo%2BqnIlfZ8OuWVgKp7zdf%2FwHx1cCqXYyrmIAsRBXnLPbJeEnyoGy4%2FSHRUBdsEZJ6h2ZuUxB%2F%2FuA1izOHviAfPoaT9ByqgLjjeZmRbXTSCsWxtA2MdUyY9Bqr9vfONiPJFAai%2Ba3MhX78EVMmXsS%2FCOVoTTHqYlSdgLh0QmOFsYmObDsC7mEaQzXznRzMh7FQ0KLkLDjXNVlbPngoT7pPgFPUAhNtAwLhwliopECEwlOG%2FHx6ELUrgmh5ORgP1%2BQSF2Mz9lDFg2SnkfEVV0DgXZ5z9jb%2B5jQvrrHdCeZ3VOLLNRlvTYK1ISt0qS6Ab0PO2APmUoHZaMDsov5iw9LxSpLrWl%2F7JcUCNLzMTTEfRFfjo1oepVEPP%2BDy6rnwa6qloQGTed6zWzjfGDUDR3QcCPL9tg9EwQgNNRwpDNN%2FA9d5oIDlkF76YZFDr7zvXNpOgfE5y%2FRUwkIajygY6pgEgltcYA6exx4ZfMSqAIHe3ZhT6rjUfYU13T%2BG2w7J63ojUrnEw5dplAhOcF%2BQaM0%2FoCymBKGZIT%2F0mU1DkjYHqmOWnzHge0YhaxGBdCLLiN4sLeeIS8oLbnB8AMoyuw%2FajiA28E%2FzOuOCSCuOt%2FTEkaljytDNa7Hrnb2Io7tHQIqGTa2c5S3dncDq4bpMHGrqNgh0y5j%2B26%2B5SHfkMr0WD88Vasp6T&X-Amz-Signature=01aaafa9abc7efe37fea93f6834e0bd6246f19a9cfdae9d7bd0c228a92055ae1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WND2SVCL%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDxBVabEOVl8l6oykQvda1X1sNLC4KiLwtk1GZiSoXAXAiAWZPA%2B2Mb0QwWGtu45nzBCtxDmbFzjG7EWEM49eY2v6CqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMak7BJbiPRR0%2BwtYPKtwDkG1iWqmUEueojxnScJJIEhkjQshPuv2rvg4G9GroFKGe2sNV%2BIrRFG757a8hgH%2FW8t%2BhBrPqDTVvNk79J1rxJPuhx1xoGqBA8Hbs4%2BeZaFXQl2%2Bn0LnQ9c0sd7l%2FVko0e%2FuZEjv4JiuwQkELyHF9pKoAvwPgeRr40v%2B3G%2BoNjyrnO%2B%2BqcfCo%2BqnIlfZ8OuWVgKp7zdf%2FwHx1cCqXYyrmIAsRBXnLPbJeEnyoGy4%2FSHRUBdsEZJ6h2ZuUxB%2F%2FuA1izOHviAfPoaT9ByqgLjjeZmRbXTSCsWxtA2MdUyY9Bqr9vfONiPJFAai%2Ba3MhX78EVMmXsS%2FCOVoTTHqYlSdgLh0QmOFsYmObDsC7mEaQzXznRzMh7FQ0KLkLDjXNVlbPngoT7pPgFPUAhNtAwLhwliopECEwlOG%2FHx6ELUrgmh5ORgP1%2BQSF2Mz9lDFg2SnkfEVV0DgXZ5z9jb%2B5jQvrrHdCeZ3VOLLNRlvTYK1ISt0qS6Ab0PO2APmUoHZaMDsov5iw9LxSpLrWl%2F7JcUCNLzMTTEfRFfjo1oepVEPP%2BDy6rnwa6qloQGTed6zWzjfGDUDR3QcCPL9tg9EwQgNNRwpDNN%2FA9d5oIDlkF76YZFDr7zvXNpOgfE5y%2FRUwkIajygY6pgEgltcYA6exx4ZfMSqAIHe3ZhT6rjUfYU13T%2BG2w7J63ojUrnEw5dplAhOcF%2BQaM0%2FoCymBKGZIT%2F0mU1DkjYHqmOWnzHge0YhaxGBdCLLiN4sLeeIS8oLbnB8AMoyuw%2FajiA28E%2FzOuOCSCuOt%2FTEkaljytDNa7Hrnb2Io7tHQIqGTa2c5S3dncDq4bpMHGrqNgh0y5j%2B26%2B5SHfkMr0WD88Vasp6T&X-Amz-Signature=0cdc63f0af9b2f3fe2a96d6ed0f0c8f97b0334ea8061fa86c4478ed9d0e5d27f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WND2SVCL%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041424Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDxBVabEOVl8l6oykQvda1X1sNLC4KiLwtk1GZiSoXAXAiAWZPA%2B2Mb0QwWGtu45nzBCtxDmbFzjG7EWEM49eY2v6CqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMak7BJbiPRR0%2BwtYPKtwDkG1iWqmUEueojxnScJJIEhkjQshPuv2rvg4G9GroFKGe2sNV%2BIrRFG757a8hgH%2FW8t%2BhBrPqDTVvNk79J1rxJPuhx1xoGqBA8Hbs4%2BeZaFXQl2%2Bn0LnQ9c0sd7l%2FVko0e%2FuZEjv4JiuwQkELyHF9pKoAvwPgeRr40v%2B3G%2BoNjyrnO%2B%2BqcfCo%2BqnIlfZ8OuWVgKp7zdf%2FwHx1cCqXYyrmIAsRBXnLPbJeEnyoGy4%2FSHRUBdsEZJ6h2ZuUxB%2F%2FuA1izOHviAfPoaT9ByqgLjjeZmRbXTSCsWxtA2MdUyY9Bqr9vfONiPJFAai%2Ba3MhX78EVMmXsS%2FCOVoTTHqYlSdgLh0QmOFsYmObDsC7mEaQzXznRzMh7FQ0KLkLDjXNVlbPngoT7pPgFPUAhNtAwLhwliopECEwlOG%2FHx6ELUrgmh5ORgP1%2BQSF2Mz9lDFg2SnkfEVV0DgXZ5z9jb%2B5jQvrrHdCeZ3VOLLNRlvTYK1ISt0qS6Ab0PO2APmUoHZaMDsov5iw9LxSpLrWl%2F7JcUCNLzMTTEfRFfjo1oepVEPP%2BDy6rnwa6qloQGTed6zWzjfGDUDR3QcCPL9tg9EwQgNNRwpDNN%2FA9d5oIDlkF76YZFDr7zvXNpOgfE5y%2FRUwkIajygY6pgEgltcYA6exx4ZfMSqAIHe3ZhT6rjUfYU13T%2BG2w7J63ojUrnEw5dplAhOcF%2BQaM0%2FoCymBKGZIT%2F0mU1DkjYHqmOWnzHge0YhaxGBdCLLiN4sLeeIS8oLbnB8AMoyuw%2FajiA28E%2FzOuOCSCuOt%2FTEkaljytDNa7Hrnb2Io7tHQIqGTa2c5S3dncDq4bpMHGrqNgh0y5j%2B26%2B5SHfkMr0WD88Vasp6T&X-Amz-Signature=33f958ec6af8ff73a3a79dc96e02f6966e4b9e32567910442bbd67d7b5637ad7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WJHZ537J%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041425Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCICpRCulbynkxJCvlYnIUyoBGp4slmTR%2BDS0bNJxiUVa1AiEAvF1XCn7Pv8ZEWphBOubxm8pGp%2BrYIvuaZjaQa8rsEX8qiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLnMdZjnxmGIdo9JuCrcA54fNWhpUOZ2O2quzXwrAiAYx2VUOiR16bUlZjgTg4DwOY3IHwii2bhdnEgNuzeDCH%2FHmZZ2mH7nN9nvkA6YEVFI7dkBdLd%2BLAwN211Ir%2B7upDtSIrKv3SiL7WCFwaQ1drDL9OKuMn1ESYvw2FHpA%2FiDH%2Bjty8nIw9VEJH3snT81fTz1VGsbBey442eMyBWOCYfgE9l3TUtQZMufcAXUkBHiqfREMCQgo%2F9iaoW1ORTbHItieZdidumgOqziUgiNnqBo9JE9fvOtwZbtleeCtJzjYy5uHvlb8%2BXHVT%2Fi6kT2RSwnpzrrU5tsYyV82p4MNNgvM8Fo%2B43MAUB1%2FUbLon4XwgGfWjUAPSmkuNbkSzR2VI6E3Arnd%2BAxzfQGVDhTQm9EnllaBtLDVEHMQ4tn0IP30gFu0YcZIqv%2BP7LKKVjr7XcDdIw0xXoUHw8KzkAxMfM5%2FWK1xzbT7WamkaBwPcO22D3Jnp6BOpgLP3uNIXG5rtHKXRAISCnWBWLiM3E94dh5whC2t02Y4cShwVSqOL%2BvbgWYddGMOdtvKmObxsJMJUSZPViHijkUkz9yJqYnprOWFXRY%2FKRwxemn2bwE3wdmuaaILdHq23LWVosrzZSW5Zyca1kqWiQBV3QcMNOFo8oGOqUB1KtpuBirHlIlJiTiM%2FSvL9h5MNQr%2FNjWohtRupv0oumHa%2Fr5SF17YjYi5sorInUgf79htlihzxLzi%2BVLAUyzRjYahdKdSCb75yI5g%2B5Z99V8mPfzcVu%2F7xEu3g%2Bryvcte6kBDY%2Bq9oA73wHEM6ncp9JZwfhQGC06UsCNK5nhbEAX3WuSbotd2eDEdfFS7tiNnNwrvCxnnZKw6N36EaZwD4ZbXA9Y&X-Amz-Signature=1f1c2794c97a86a10f932fbe1c513ea74927a7dce3f26a1dc41eadafdd3022df&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WJHZ537J%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041425Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCICpRCulbynkxJCvlYnIUyoBGp4slmTR%2BDS0bNJxiUVa1AiEAvF1XCn7Pv8ZEWphBOubxm8pGp%2BrYIvuaZjaQa8rsEX8qiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLnMdZjnxmGIdo9JuCrcA54fNWhpUOZ2O2quzXwrAiAYx2VUOiR16bUlZjgTg4DwOY3IHwii2bhdnEgNuzeDCH%2FHmZZ2mH7nN9nvkA6YEVFI7dkBdLd%2BLAwN211Ir%2B7upDtSIrKv3SiL7WCFwaQ1drDL9OKuMn1ESYvw2FHpA%2FiDH%2Bjty8nIw9VEJH3snT81fTz1VGsbBey442eMyBWOCYfgE9l3TUtQZMufcAXUkBHiqfREMCQgo%2F9iaoW1ORTbHItieZdidumgOqziUgiNnqBo9JE9fvOtwZbtleeCtJzjYy5uHvlb8%2BXHVT%2Fi6kT2RSwnpzrrU5tsYyV82p4MNNgvM8Fo%2B43MAUB1%2FUbLon4XwgGfWjUAPSmkuNbkSzR2VI6E3Arnd%2BAxzfQGVDhTQm9EnllaBtLDVEHMQ4tn0IP30gFu0YcZIqv%2BP7LKKVjr7XcDdIw0xXoUHw8KzkAxMfM5%2FWK1xzbT7WamkaBwPcO22D3Jnp6BOpgLP3uNIXG5rtHKXRAISCnWBWLiM3E94dh5whC2t02Y4cShwVSqOL%2BvbgWYddGMOdtvKmObxsJMJUSZPViHijkUkz9yJqYnprOWFXRY%2FKRwxemn2bwE3wdmuaaILdHq23LWVosrzZSW5Zyca1kqWiQBV3QcMNOFo8oGOqUB1KtpuBirHlIlJiTiM%2FSvL9h5MNQr%2FNjWohtRupv0oumHa%2Fr5SF17YjYi5sorInUgf79htlihzxLzi%2BVLAUyzRjYahdKdSCb75yI5g%2B5Z99V8mPfzcVu%2F7xEu3g%2Bryvcte6kBDY%2Bq9oA73wHEM6ncp9JZwfhQGC06UsCNK5nhbEAX3WuSbotd2eDEdfFS7tiNnNwrvCxnnZKw6N36EaZwD4ZbXA9Y&X-Amz-Signature=e633eca962fae8a4c006b04192b6122a66380b024eda36b268a61180f954f704&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WJHZ537J%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041425Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCICpRCulbynkxJCvlYnIUyoBGp4slmTR%2BDS0bNJxiUVa1AiEAvF1XCn7Pv8ZEWphBOubxm8pGp%2BrYIvuaZjaQa8rsEX8qiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLnMdZjnxmGIdo9JuCrcA54fNWhpUOZ2O2quzXwrAiAYx2VUOiR16bUlZjgTg4DwOY3IHwii2bhdnEgNuzeDCH%2FHmZZ2mH7nN9nvkA6YEVFI7dkBdLd%2BLAwN211Ir%2B7upDtSIrKv3SiL7WCFwaQ1drDL9OKuMn1ESYvw2FHpA%2FiDH%2Bjty8nIw9VEJH3snT81fTz1VGsbBey442eMyBWOCYfgE9l3TUtQZMufcAXUkBHiqfREMCQgo%2F9iaoW1ORTbHItieZdidumgOqziUgiNnqBo9JE9fvOtwZbtleeCtJzjYy5uHvlb8%2BXHVT%2Fi6kT2RSwnpzrrU5tsYyV82p4MNNgvM8Fo%2B43MAUB1%2FUbLon4XwgGfWjUAPSmkuNbkSzR2VI6E3Arnd%2BAxzfQGVDhTQm9EnllaBtLDVEHMQ4tn0IP30gFu0YcZIqv%2BP7LKKVjr7XcDdIw0xXoUHw8KzkAxMfM5%2FWK1xzbT7WamkaBwPcO22D3Jnp6BOpgLP3uNIXG5rtHKXRAISCnWBWLiM3E94dh5whC2t02Y4cShwVSqOL%2BvbgWYddGMOdtvKmObxsJMJUSZPViHijkUkz9yJqYnprOWFXRY%2FKRwxemn2bwE3wdmuaaILdHq23LWVosrzZSW5Zyca1kqWiQBV3QcMNOFo8oGOqUB1KtpuBirHlIlJiTiM%2FSvL9h5MNQr%2FNjWohtRupv0oumHa%2Fr5SF17YjYi5sorInUgf79htlihzxLzi%2BVLAUyzRjYahdKdSCb75yI5g%2B5Z99V8mPfzcVu%2F7xEu3g%2Bryvcte6kBDY%2Bq9oA73wHEM6ncp9JZwfhQGC06UsCNK5nhbEAX3WuSbotd2eDEdfFS7tiNnNwrvCxnnZKw6N36EaZwD4ZbXA9Y&X-Amz-Signature=4127c6f50c61a9d02ad5fd420ff78bd59f8609f1fc6a6a57049b124bae049bab&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJ3JRHFN%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041426Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJIMEYCIQCM2P0AMWvL6wIo8kMk0UIdfLox9VrP%2FoFAOXwB6XAHGAIhAP0RSy2cQmvsM0OauUf7JBmBmTIgprdwIJZYwzkWj6PzKogECO3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyD6o52xl85y6Ohh%2Fkq3AOa3jTIsCA0s5PTZTbmPfYVqJwWqGskd6yhW%2FUV75%2By0a5N2VptBKZiv2BaAhEM4u2%2F5U4o%2FN5ZDEMytPW2gJDJfIzGAvtcA7ICCg2ikkGjW%2FQAC2WRiy5Y0sB4CUPk0Fygahx9H7UdnGdwwXnxu4M3ZAsqrQpCUSjGYV7mpQhD2CaSfTfwCRuIwlmemt7Wjt4EQQJMXVgPKIMPMN03kAFF%2Fv%2BGBjTjHiUjQ8rP44YffDuklo7D8Q97fMvydOC6hX%2B2FTRLt2GvEKNW8h5NF6Dwux4zG0ylzJIJFn1fk%2BZfVKwAoXUwbJL7Ix6ne1gypYKf5keOZy%2FqHQapP0xf%2BtOiFrh1dGtqKhI7LPx46Tf1nTDphhhkGlY5Jx3yPu3XZeyU1L%2FuMTbKpK5a0Z886T4Pg95Fd%2BIFFx4VcmYxhxEdD%2FJXmnvBaVQcrVgdmEIxkTCCMo0aOTuhEKeneM3XCDWvIflFJj0bJG3ftwGmjze9cMdrODbqaNuT5Tw2RTlApW7NHVtTKdpZyTJTkyYJ%2F%2FpUKW0f7iY%2BToJor3LFmfAQsRcNJ2DPfYjrXXxZBN8zD7It709RGE0bnJDdIG5f1aCoqfeAzXL0Z8F6pdIqRFSjDfiV09vv7lsL3gpibzCUhqPKBjqkAWgyEOgBUeh2yUo5r9kEECq2M9npMgOExEEOMmgDfZq6Ap63n6ii35h4o8u3WiiVKTq9zrZ668hpJTSXLZ0v3RiZn4EV9KGzJOsyr0%2FNNc24aVfonPdU0UWoSp2gbm1jsrP61Zgwid0RsYOhgQm7urYzhiGh2%2Fchv4jbxlqTNePWWDqQWJFNinCa%2BHkd9xFsFCW6hlOg1CMGqkE7TjGLKp18YQHe&X-Amz-Signature=503dc32cb7c638241de31e0c193480e66fdd7b31772312bb53d10ebc64a43287&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJ3JRHFN%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041426Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJIMEYCIQCM2P0AMWvL6wIo8kMk0UIdfLox9VrP%2FoFAOXwB6XAHGAIhAP0RSy2cQmvsM0OauUf7JBmBmTIgprdwIJZYwzkWj6PzKogECO3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyD6o52xl85y6Ohh%2Fkq3AOa3jTIsCA0s5PTZTbmPfYVqJwWqGskd6yhW%2FUV75%2By0a5N2VptBKZiv2BaAhEM4u2%2F5U4o%2FN5ZDEMytPW2gJDJfIzGAvtcA7ICCg2ikkGjW%2FQAC2WRiy5Y0sB4CUPk0Fygahx9H7UdnGdwwXnxu4M3ZAsqrQpCUSjGYV7mpQhD2CaSfTfwCRuIwlmemt7Wjt4EQQJMXVgPKIMPMN03kAFF%2Fv%2BGBjTjHiUjQ8rP44YffDuklo7D8Q97fMvydOC6hX%2B2FTRLt2GvEKNW8h5NF6Dwux4zG0ylzJIJFn1fk%2BZfVKwAoXUwbJL7Ix6ne1gypYKf5keOZy%2FqHQapP0xf%2BtOiFrh1dGtqKhI7LPx46Tf1nTDphhhkGlY5Jx3yPu3XZeyU1L%2FuMTbKpK5a0Z886T4Pg95Fd%2BIFFx4VcmYxhxEdD%2FJXmnvBaVQcrVgdmEIxkTCCMo0aOTuhEKeneM3XCDWvIflFJj0bJG3ftwGmjze9cMdrODbqaNuT5Tw2RTlApW7NHVtTKdpZyTJTkyYJ%2F%2FpUKW0f7iY%2BToJor3LFmfAQsRcNJ2DPfYjrXXxZBN8zD7It709RGE0bnJDdIG5f1aCoqfeAzXL0Z8F6pdIqRFSjDfiV09vv7lsL3gpibzCUhqPKBjqkAWgyEOgBUeh2yUo5r9kEECq2M9npMgOExEEOMmgDfZq6Ap63n6ii35h4o8u3WiiVKTq9zrZ668hpJTSXLZ0v3RiZn4EV9KGzJOsyr0%2FNNc24aVfonPdU0UWoSp2gbm1jsrP61Zgwid0RsYOhgQm7urYzhiGh2%2Fchv4jbxlqTNePWWDqQWJFNinCa%2BHkd9xFsFCW6hlOg1CMGqkE7TjGLKp18YQHe&X-Amz-Signature=a985931cc4acdef0d12b178fce2d9d0f910730f6953d422435e6f3c0c183e597&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZQEDEQED%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041426Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQCcAPoHeAMwywHPTrLUgYVUZB3p5nnN6hltgREKcLoKCQIgTZROjkKpHEp0DclPi5Pwo%2B6P%2BqVk5HlBHTHaQ9vrc6oqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBG%2FKIMYVehgRcCazyrcA8rBWKir5AO15xjcqSZXtES48tLXPNqni2CPxjfguORUK4LGVU7ml%2BGq4UWjw2ZNZkUUBL5l0hP7w9bzeybytbmTVpcPbsFUWIdriWFvb0BBYNJNYX%2BjM4NSLuxMnJmSZ5G3SC1kYr3IrxIcDqhXj28jqv8Aj%2F7xBtuCqNbdlU3jd1vdQ3yqyLkcugOip3SqswsPCHDLv9JfbubYKck73n9N7dl4AhuO8RgJktyl%2F2ULVtZV4Dx6L1wKXlx3alndU31io2gEKdFiHjY%2Fmuh9E%2FaJy%2F1ilJj1Wi9HbhJrnNy0e2gS0Wu1SANfA8fiUma7mN%2FdX9My3%2F3tc8FVyqbunV415g0CfWkVFPLPmrKcqQhHGlAgpLXcnzzzxzjJmvHcrmT5lWL0YaqurqZIvp7%2BYerQdddQiQs0zof7FRbKctSvB5qQPZgcjnbs1YXSkP2dwLkG%2B1y3qRJua0AJOPG9%2BAyjwweixx7sUN%2Fk9paqnTPfkGlV%2FEYr8mtPvj0wMEtg9XpCA%2FB6GwaJYq7C9B1loRDhJMh7FO8Xtw1rGUNOkLRgrQOkWTM4FNDs4UQ0t1nudtVG8vP%2BpanEVbzmtzyMtHeTOCBh%2BRfomrzh6FZpFCFtppHwP9RuJCS2AGz7MIaGo8oGOqUBL1CrPYe7mhW44ezkAVgjWnJnX2K10A6GApnYqPNkrzW26nJfgadcR6vj%2BUnh%2BULQ6oyX78wXXG1ImbIQMx4z52dqb%2BSZrn1I%2B9AcUnnn6rfhrH4f%2Bb%2B9r3o941ENT10%2FQTxD6xobOFL0rK27KkVJagCBk1R7IE4AR6XyIxAvhdQEoI3h8djGdRZKIDNh%2BBlHWUZs9gCMP77pOOPvAIi4uHtWDv6L&X-Amz-Signature=8a7e8b9c93f0dd986ad3f6fa0984981abe8d643b0640ba5e15b0d00e5ab8e820&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZQEDEQED%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041426Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQCcAPoHeAMwywHPTrLUgYVUZB3p5nnN6hltgREKcLoKCQIgTZROjkKpHEp0DclPi5Pwo%2B6P%2BqVk5HlBHTHaQ9vrc6oqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBG%2FKIMYVehgRcCazyrcA8rBWKir5AO15xjcqSZXtES48tLXPNqni2CPxjfguORUK4LGVU7ml%2BGq4UWjw2ZNZkUUBL5l0hP7w9bzeybytbmTVpcPbsFUWIdriWFvb0BBYNJNYX%2BjM4NSLuxMnJmSZ5G3SC1kYr3IrxIcDqhXj28jqv8Aj%2F7xBtuCqNbdlU3jd1vdQ3yqyLkcugOip3SqswsPCHDLv9JfbubYKck73n9N7dl4AhuO8RgJktyl%2F2ULVtZV4Dx6L1wKXlx3alndU31io2gEKdFiHjY%2Fmuh9E%2FaJy%2F1ilJj1Wi9HbhJrnNy0e2gS0Wu1SANfA8fiUma7mN%2FdX9My3%2F3tc8FVyqbunV415g0CfWkVFPLPmrKcqQhHGlAgpLXcnzzzxzjJmvHcrmT5lWL0YaqurqZIvp7%2BYerQdddQiQs0zof7FRbKctSvB5qQPZgcjnbs1YXSkP2dwLkG%2B1y3qRJua0AJOPG9%2BAyjwweixx7sUN%2Fk9paqnTPfkGlV%2FEYr8mtPvj0wMEtg9XpCA%2FB6GwaJYq7C9B1loRDhJMh7FO8Xtw1rGUNOkLRgrQOkWTM4FNDs4UQ0t1nudtVG8vP%2BpanEVbzmtzyMtHeTOCBh%2BRfomrzh6FZpFCFtppHwP9RuJCS2AGz7MIaGo8oGOqUBL1CrPYe7mhW44ezkAVgjWnJnX2K10A6GApnYqPNkrzW26nJfgadcR6vj%2BUnh%2BULQ6oyX78wXXG1ImbIQMx4z52dqb%2BSZrn1I%2B9AcUnnn6rfhrH4f%2Bb%2B9r3o941ENT10%2FQTxD6xobOFL0rK27KkVJagCBk1R7IE4AR6XyIxAvhdQEoI3h8djGdRZKIDNh%2BBlHWUZs9gCMP77pOOPvAIi4uHtWDv6L&X-Amz-Signature=0a998ac852fb061623496f514b8f4fe124fe7db29804e8e8ea53d2ea2f63f000&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46655AM3DXI%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041426Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQCjpOpMFqPMNyCK4%2FVbvxfsqNnpUVl8NXp%2FvrRaJ%2BQndwIgJ%2ByDjKjV0gVNgNFDFNTAbkzh08kwY8q38LO1OwStFAcqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPGaWpkkz6Vsu1%2B%2FyircA4Nd3Sfq35z%2BByHyh16m%2FOAxFYlWXWdz72q8xNdvhcaquuvqZBFZBBMn2UwFiwuAcqeVfoTXFH1iWir%2BG7wThOBW%2FG5Ubc9cmVkvZ6gFDBQH2fAYII2T1YmZVzpppyRvJCiRO2hFLj2pkinphDEmLRffYr365o0gZtY4LjSCsfvDudSHpGr52t8qFGQaEDgtkLT21kkn6OebgXV4k5nLSJDMyCPK3%2FuXoOnfpLNAnGf9R2vUQcC6VUHdm6Xp%2BearmpRIK9oyIeo1vPuxETEEgUAK7iCnII93ozB3j2DNjjX5dC8srezmooYMzF%2B3wKiWc09Xf%2BdisEvK6%2B3%2Fx6KaVG%2FlMFHyssskRhFqnc%2F%2F6A7%2FVHRqQbAiC6oSv%2FxP89bwfQqncWXRH2bqI96%2FpGda4kiHs8Fp4q3fpuNHhNniEfIX3PURfQo4g7KEi6U92ES8uEb0ptG84sCi2gggLDZAZHAMuvgZCjBsMDG6C5%2F9kP9%2B1Vl9Gg6qN0ooz4mw0fxSx7KurzodX9VCnBGAAlu4Kle%2BJhCN1E5anEQeUhHBdIlJavpPaTY4EAW%2F%2B2Y9JaREApyoTgM9tQE2jm2tsHpHFdaeMBRjw7iBnN%2BGDLYbBuWW1lMEdpgcAetF5SPDMJiGo8oGOqUB3OAFRijoWwvVJUbM2f5hpB8FkXQcSgNb06qSqY08zyHenTnW2KAQ%2Bu6%2F4HvDNNniETenGU7GlsQ5xYBrvuFF%2B%2F39PwDg9L30TAWMwvAK6DBx7OfdQ6ZBoWgP%2BFRzKXfWy7x%2BP%2BPokYvYYUJmqLqd0qQD1NS1z5sXqMqAaHHniEC%2F9J3g1uYcDrL2LxYWKrQhOJo5BmtUXPeJamHTGr0S1HiWbQ%2B6&X-Amz-Signature=8e1d9169e3f95d5e734b2ec3085e24660a3cd5e1fb0dae60c45ce276a0d2a0f0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
