
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466752DVBLB%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043109Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCupE9D%2FWI%2FmPXKw3bDCAFgsqoo%2FFEof9rsoliaibhBnQIge9V3h87YGa9j0DB%2BWfiB1UICw7AdZRRZFNFFHylWmHkq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDPJGWe3mBdHLr%2BdTiyrcA0ihgwNPZj4RBbgVamq%2FDpFfvsDbxrv2Ue92oCcX8tuzHOxDjzG7Djcgfy8Yhqcd9abK8u4CJW8EX%2Bfrw9oPUqF%2BiBykq%2BovakVdlS04c961E7VUXd8NH088JTioaZbm6B8oYAD7VWe8Ax79L1nPUpKwcyW57Pfz7s6jTrNlt50mgLQINgDRbpEmztcaTy5CS2s6SHEZyNqmXdA61YqtGbuS5338aoxxIobA%2FGPMIugyE4a1VLWKXVumUe%2Bd49%2FX%2F1R%2BUQJUGE3YnR69knG%2BHSQFKwwF8CYX5bc0%2FaQ5xrbusRA7E8tq9njiF8m6d2uQknCNcv%2FonzLvUFh%2Fr1dwarUNHWvxJPBIlCUqen1bcSgh1W4KY13IBJDhRFqc5cyYLFoc3eRtpJ1GIUZJpz%2B5a2PJsgZBZ8GOAayhhAOCRVvGjjl9mQK6gPpjigDv8uYrTHzumdiRDBIAiTKh%2FrOC%2F4JjzS0ZSjC6Gfkb0bQTYKZvoGSuNTJZJy0i1vFXDDTNHPfsaba5zGJ7MLsFt318sDbytmo7OwAgi7I1fnMH5fZmxGbUHHUCkxDG%2FVsqzZwUzp5HIpFV5ZB4B6Bh2D3ZYe2wGng8lq7tbK7RHX7d91fUmRDbv4fRchnRkjm0MJLA28sGOqUBrc4%2FYmvCz4VdsE2FC9sVkMIxNe%2FPDWxpFJjmBQsyDZh%2BxkA76t5N2SJRlDZvETh%2FAlStILAryZF3TtpdVu2j5yY1tBH2EL1T5%2BbRzYfsOQg7xaQA5kRjDKUPaKDszxL8wpW3Zr1Fd096dcGxyl%2BEFEFkfSjVXvrLKFnbnnpV1PH98T7AMqzas2s0s9kE8uhq7QkIE83cW%2Fn%2Bww%2Bb7RxhmA2%2BJSK2&X-Amz-Signature=ae575c247ab902220a4fd696a8a63ae38e4d845d40309b3f267009c94e9b5df4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466752DVBLB%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043109Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCupE9D%2FWI%2FmPXKw3bDCAFgsqoo%2FFEof9rsoliaibhBnQIge9V3h87YGa9j0DB%2BWfiB1UICw7AdZRRZFNFFHylWmHkq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDPJGWe3mBdHLr%2BdTiyrcA0ihgwNPZj4RBbgVamq%2FDpFfvsDbxrv2Ue92oCcX8tuzHOxDjzG7Djcgfy8Yhqcd9abK8u4CJW8EX%2Bfrw9oPUqF%2BiBykq%2BovakVdlS04c961E7VUXd8NH088JTioaZbm6B8oYAD7VWe8Ax79L1nPUpKwcyW57Pfz7s6jTrNlt50mgLQINgDRbpEmztcaTy5CS2s6SHEZyNqmXdA61YqtGbuS5338aoxxIobA%2FGPMIugyE4a1VLWKXVumUe%2Bd49%2FX%2F1R%2BUQJUGE3YnR69knG%2BHSQFKwwF8CYX5bc0%2FaQ5xrbusRA7E8tq9njiF8m6d2uQknCNcv%2FonzLvUFh%2Fr1dwarUNHWvxJPBIlCUqen1bcSgh1W4KY13IBJDhRFqc5cyYLFoc3eRtpJ1GIUZJpz%2B5a2PJsgZBZ8GOAayhhAOCRVvGjjl9mQK6gPpjigDv8uYrTHzumdiRDBIAiTKh%2FrOC%2F4JjzS0ZSjC6Gfkb0bQTYKZvoGSuNTJZJy0i1vFXDDTNHPfsaba5zGJ7MLsFt318sDbytmo7OwAgi7I1fnMH5fZmxGbUHHUCkxDG%2FVsqzZwUzp5HIpFV5ZB4B6Bh2D3ZYe2wGng8lq7tbK7RHX7d91fUmRDbv4fRchnRkjm0MJLA28sGOqUBrc4%2FYmvCz4VdsE2FC9sVkMIxNe%2FPDWxpFJjmBQsyDZh%2BxkA76t5N2SJRlDZvETh%2FAlStILAryZF3TtpdVu2j5yY1tBH2EL1T5%2BbRzYfsOQg7xaQA5kRjDKUPaKDszxL8wpW3Zr1Fd096dcGxyl%2BEFEFkfSjVXvrLKFnbnnpV1PH98T7AMqzas2s0s9kE8uhq7QkIE83cW%2Fn%2Bww%2Bb7RxhmA2%2BJSK2&X-Amz-Signature=f971f61631361bb6a935d133a9786454919be2f27870faeb6fb9329d6332cecd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466752DVBLB%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043109Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCupE9D%2FWI%2FmPXKw3bDCAFgsqoo%2FFEof9rsoliaibhBnQIge9V3h87YGa9j0DB%2BWfiB1UICw7AdZRRZFNFFHylWmHkq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDPJGWe3mBdHLr%2BdTiyrcA0ihgwNPZj4RBbgVamq%2FDpFfvsDbxrv2Ue92oCcX8tuzHOxDjzG7Djcgfy8Yhqcd9abK8u4CJW8EX%2Bfrw9oPUqF%2BiBykq%2BovakVdlS04c961E7VUXd8NH088JTioaZbm6B8oYAD7VWe8Ax79L1nPUpKwcyW57Pfz7s6jTrNlt50mgLQINgDRbpEmztcaTy5CS2s6SHEZyNqmXdA61YqtGbuS5338aoxxIobA%2FGPMIugyE4a1VLWKXVumUe%2Bd49%2FX%2F1R%2BUQJUGE3YnR69knG%2BHSQFKwwF8CYX5bc0%2FaQ5xrbusRA7E8tq9njiF8m6d2uQknCNcv%2FonzLvUFh%2Fr1dwarUNHWvxJPBIlCUqen1bcSgh1W4KY13IBJDhRFqc5cyYLFoc3eRtpJ1GIUZJpz%2B5a2PJsgZBZ8GOAayhhAOCRVvGjjl9mQK6gPpjigDv8uYrTHzumdiRDBIAiTKh%2FrOC%2F4JjzS0ZSjC6Gfkb0bQTYKZvoGSuNTJZJy0i1vFXDDTNHPfsaba5zGJ7MLsFt318sDbytmo7OwAgi7I1fnMH5fZmxGbUHHUCkxDG%2FVsqzZwUzp5HIpFV5ZB4B6Bh2D3ZYe2wGng8lq7tbK7RHX7d91fUmRDbv4fRchnRkjm0MJLA28sGOqUBrc4%2FYmvCz4VdsE2FC9sVkMIxNe%2FPDWxpFJjmBQsyDZh%2BxkA76t5N2SJRlDZvETh%2FAlStILAryZF3TtpdVu2j5yY1tBH2EL1T5%2BbRzYfsOQg7xaQA5kRjDKUPaKDszxL8wpW3Zr1Fd096dcGxyl%2BEFEFkfSjVXvrLKFnbnnpV1PH98T7AMqzas2s0s9kE8uhq7QkIE83cW%2Fn%2Bww%2Bb7RxhmA2%2BJSK2&X-Amz-Signature=3b6cb9121f1830038ff54439022c0a3048ddf46894cb80c8adaecb678a916fde&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XJRJVKEK%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043110Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIA%2Bpp5RNT%2Fo%2FPh%2F6ZNITy5b00HPhqUZstNy3iGt8BmMNAiEA7vwAfURIHDcMbIHU5XhLzF%2BCvMyrL4dMTfTIK4py7dQq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDA%2Byv3ZE6lUNiY7xwyrcAy5Ko5LrVgsjBkEzb8KBirWP2wz5BHaRtWof6J%2FWqiWo9ms3cMbo5jU3TdM0HitvMSCzqmTZr5Ocsl057DCExJk8tmLnJk50nxDnrZHN8Oinb27otCELbdCx5MD6IaPK6xy5Xh%2F5sTyn6aaYPTKHYLoSt6CEbDEfLlqiGwoeqzhdrjXc6ONXYloAJwb%2Frkhcm%2Bg4ZjU%2FXBnIOqkzOOLnGs5v7MTRhs94KzifszhKhY0sbiEKs8UyWtNx4A7DuwpQAG7PzjPIj1KNl%2BR9j6zT35Ul2nJarFuwlUQEstVE9qCeaRgfJNjhAZiLqaU4qry%2BJjksrR480gWnjnfbMQd4Wi5Kae0I9eGYz7rrpRaejjV2P%2BOZ0xV1VMfcsaMU0ZDpSsUie8sZffCdlbJhWR28Ev49T%2FpFhF9GiGjW%2FDop7wiQcuWlVYYkpIkLb%2BUFllBL5bB5UDda7Z2DHiS%2B03uj3VOkmnV0yIlOtEUPm0NlkF7DKuxqk8nMa%2FoHQ%2F22qIpvLc0%2BwpSKQ3HT%2FSMYVrMYvRqedKyRYuriLjsbcdvZXJSf1vY1KZb5x5kFP2P8U1SPa%2BN66xfILm8Z7v5P2aJ2gmJTcE6v0FGepOuBQCHGmDnfiHSmyDswfCzAmOWDMNK%2B28sGOqUBNnPkeU4UiufNM1%2B69f34tecDYusTUVg3wFUwuWHTc1g29myBw8miPjYtONUNfd%2BgMDQdd7Uwjrpd5%2BtzdBlgOX9Nbq5p9yaz%2BHvvdeZbpRqv%2F7%2BKwUpEW1abVPPMq6k6WsoBXGY%2BmgIwB1FX32GBi8lN%2F2t2bnrZZa0Z5lbKJi65sUkESisi%2F9SuXEh9Ch%2ByzitZCw2Q48z%2B3s4vFpTRpxDw4pLL&X-Amz-Signature=2d6f1bc3234a19446fb137c2bb18f31a03dd5c0e83c30b4b11916012df3d501b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XJRJVKEK%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043110Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIA%2Bpp5RNT%2Fo%2FPh%2F6ZNITy5b00HPhqUZstNy3iGt8BmMNAiEA7vwAfURIHDcMbIHU5XhLzF%2BCvMyrL4dMTfTIK4py7dQq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDA%2Byv3ZE6lUNiY7xwyrcAy5Ko5LrVgsjBkEzb8KBirWP2wz5BHaRtWof6J%2FWqiWo9ms3cMbo5jU3TdM0HitvMSCzqmTZr5Ocsl057DCExJk8tmLnJk50nxDnrZHN8Oinb27otCELbdCx5MD6IaPK6xy5Xh%2F5sTyn6aaYPTKHYLoSt6CEbDEfLlqiGwoeqzhdrjXc6ONXYloAJwb%2Frkhcm%2Bg4ZjU%2FXBnIOqkzOOLnGs5v7MTRhs94KzifszhKhY0sbiEKs8UyWtNx4A7DuwpQAG7PzjPIj1KNl%2BR9j6zT35Ul2nJarFuwlUQEstVE9qCeaRgfJNjhAZiLqaU4qry%2BJjksrR480gWnjnfbMQd4Wi5Kae0I9eGYz7rrpRaejjV2P%2BOZ0xV1VMfcsaMU0ZDpSsUie8sZffCdlbJhWR28Ev49T%2FpFhF9GiGjW%2FDop7wiQcuWlVYYkpIkLb%2BUFllBL5bB5UDda7Z2DHiS%2B03uj3VOkmnV0yIlOtEUPm0NlkF7DKuxqk8nMa%2FoHQ%2F22qIpvLc0%2BwpSKQ3HT%2FSMYVrMYvRqedKyRYuriLjsbcdvZXJSf1vY1KZb5x5kFP2P8U1SPa%2BN66xfILm8Z7v5P2aJ2gmJTcE6v0FGepOuBQCHGmDnfiHSmyDswfCzAmOWDMNK%2B28sGOqUBNnPkeU4UiufNM1%2B69f34tecDYusTUVg3wFUwuWHTc1g29myBw8miPjYtONUNfd%2BgMDQdd7Uwjrpd5%2BtzdBlgOX9Nbq5p9yaz%2BHvvdeZbpRqv%2F7%2BKwUpEW1abVPPMq6k6WsoBXGY%2BmgIwB1FX32GBi8lN%2F2t2bnrZZa0Z5lbKJi65sUkESisi%2F9SuXEh9Ch%2ByzitZCw2Q48z%2B3s4vFpTRpxDw4pLL&X-Amz-Signature=36c84da7c26238ed4d02687340a04aa043143ceb8494f79a288d0aec5c05b0d6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XJRJVKEK%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043110Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIA%2Bpp5RNT%2Fo%2FPh%2F6ZNITy5b00HPhqUZstNy3iGt8BmMNAiEA7vwAfURIHDcMbIHU5XhLzF%2BCvMyrL4dMTfTIK4py7dQq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDA%2Byv3ZE6lUNiY7xwyrcAy5Ko5LrVgsjBkEzb8KBirWP2wz5BHaRtWof6J%2FWqiWo9ms3cMbo5jU3TdM0HitvMSCzqmTZr5Ocsl057DCExJk8tmLnJk50nxDnrZHN8Oinb27otCELbdCx5MD6IaPK6xy5Xh%2F5sTyn6aaYPTKHYLoSt6CEbDEfLlqiGwoeqzhdrjXc6ONXYloAJwb%2Frkhcm%2Bg4ZjU%2FXBnIOqkzOOLnGs5v7MTRhs94KzifszhKhY0sbiEKs8UyWtNx4A7DuwpQAG7PzjPIj1KNl%2BR9j6zT35Ul2nJarFuwlUQEstVE9qCeaRgfJNjhAZiLqaU4qry%2BJjksrR480gWnjnfbMQd4Wi5Kae0I9eGYz7rrpRaejjV2P%2BOZ0xV1VMfcsaMU0ZDpSsUie8sZffCdlbJhWR28Ev49T%2FpFhF9GiGjW%2FDop7wiQcuWlVYYkpIkLb%2BUFllBL5bB5UDda7Z2DHiS%2B03uj3VOkmnV0yIlOtEUPm0NlkF7DKuxqk8nMa%2FoHQ%2F22qIpvLc0%2BwpSKQ3HT%2FSMYVrMYvRqedKyRYuriLjsbcdvZXJSf1vY1KZb5x5kFP2P8U1SPa%2BN66xfILm8Z7v5P2aJ2gmJTcE6v0FGepOuBQCHGmDnfiHSmyDswfCzAmOWDMNK%2B28sGOqUBNnPkeU4UiufNM1%2B69f34tecDYusTUVg3wFUwuWHTc1g29myBw8miPjYtONUNfd%2BgMDQdd7Uwjrpd5%2BtzdBlgOX9Nbq5p9yaz%2BHvvdeZbpRqv%2F7%2BKwUpEW1abVPPMq6k6WsoBXGY%2BmgIwB1FX32GBi8lN%2F2t2bnrZZa0Z5lbKJi65sUkESisi%2F9SuXEh9Ch%2ByzitZCw2Q48z%2B3s4vFpTRpxDw4pLL&X-Amz-Signature=88ff43f861b0d7ec3cadb635723b14c7886a611ebc2da429ea3f3b8cc760a7fe&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QGAB4ZBE%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043110Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCQeQsq22HZOqBFcMtTGq7FC8ZS14s0iCS3OLCCKOXlxQIgG2mWZqNLi3gtqQGslUXCDGMGWWTKGq%2BVzarifNlHZDoq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDGN7J6Vgt1X7nMXP9SrcA4lBYdPg4SfoXFJUgWGn%2F2d3VTNWpzi2iDk4t9NSCAcflSPuqcB59qUSP7irevYN1dDTvajPHMD9OAnZmwrhrHeaeK4hXn1rkNA%2B2aEFlgf3MJvAUMNJRdTVDWRd0u1wDofH%2F2OmUf4bpHPjCKFXzJEC2mhNjmPmCce3pEOsCVg%2BFDKKCMG4eU3WcRAaaxNSX9srfrlt0x8%2BiWXEipkMSq78%2BZzMFkFDTjLlH7sZNY5iPvzh7DlHNbRh96YW%2BGQ9ZGgiMq2O5umjpe12pxpBEKiphLTzgSuxC0W50S%2FI4%2FfK9fa5Yi74wWoura%2BNOUfNxON%2FMe81HuXZ%2BnCEgTzMWzhwrru%2FB3GKbGmHWcaGhcDNmSwkHyEkwc5tqmTKG2FExMfjqJBclXO0D2S%2FjikrQNW%2BrRVFj4Auk0e1bjBfajVgZ2lLPgu86sVW7MrtHJ8ocAokHMtPmE%2FEmQ8Gwm7iwxvR3QSBOJX1mADvTY4OvC8fo70D8P%2BdYmRHkfOtTqrpAV%2B77no0HvY0d8MmH4OUmAloHWOiBCeyQsIraWN%2BqtxGD787xWWcPpQDn4XROQccF8pS87J34c2KWH%2FpTNtyEm7djsqMkXeJE2KoMrE0ujFCBPxB%2FN2rcRkiJPJjMI2828sGOqUBjUSb2VmXt7NgGmjV7l1M1yYkWXmq0q9WCJJNZWqvnikzsLEW4t3Bm1yqhAE3BAi3BAK8JeEyciY4bcfn75FOiK1FoM7dRp%2FBtuGhcg6I9J%2BM1%2BrFDCzD6wFCwfi2Rcl1lAPveJwvOApNyrM78IpLJpatxeLRVDQJbiJIebbPxksYfkA7mLVkAlDYs7FMg3DSzQCHT35Q5nAwnIGFAnhz5akBQH%2BA&X-Amz-Signature=1ac6807f1aee6bd8042b8461a9a221a0ab1b60931031800706a1f928e7582458&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QGAB4ZBE%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043110Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCQeQsq22HZOqBFcMtTGq7FC8ZS14s0iCS3OLCCKOXlxQIgG2mWZqNLi3gtqQGslUXCDGMGWWTKGq%2BVzarifNlHZDoq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDGN7J6Vgt1X7nMXP9SrcA4lBYdPg4SfoXFJUgWGn%2F2d3VTNWpzi2iDk4t9NSCAcflSPuqcB59qUSP7irevYN1dDTvajPHMD9OAnZmwrhrHeaeK4hXn1rkNA%2B2aEFlgf3MJvAUMNJRdTVDWRd0u1wDofH%2F2OmUf4bpHPjCKFXzJEC2mhNjmPmCce3pEOsCVg%2BFDKKCMG4eU3WcRAaaxNSX9srfrlt0x8%2BiWXEipkMSq78%2BZzMFkFDTjLlH7sZNY5iPvzh7DlHNbRh96YW%2BGQ9ZGgiMq2O5umjpe12pxpBEKiphLTzgSuxC0W50S%2FI4%2FfK9fa5Yi74wWoura%2BNOUfNxON%2FMe81HuXZ%2BnCEgTzMWzhwrru%2FB3GKbGmHWcaGhcDNmSwkHyEkwc5tqmTKG2FExMfjqJBclXO0D2S%2FjikrQNW%2BrRVFj4Auk0e1bjBfajVgZ2lLPgu86sVW7MrtHJ8ocAokHMtPmE%2FEmQ8Gwm7iwxvR3QSBOJX1mADvTY4OvC8fo70D8P%2BdYmRHkfOtTqrpAV%2B77no0HvY0d8MmH4OUmAloHWOiBCeyQsIraWN%2BqtxGD787xWWcPpQDn4XROQccF8pS87J34c2KWH%2FpTNtyEm7djsqMkXeJE2KoMrE0ujFCBPxB%2FN2rcRkiJPJjMI2828sGOqUBjUSb2VmXt7NgGmjV7l1M1yYkWXmq0q9WCJJNZWqvnikzsLEW4t3Bm1yqhAE3BAi3BAK8JeEyciY4bcfn75FOiK1FoM7dRp%2FBtuGhcg6I9J%2BM1%2BrFDCzD6wFCwfi2Rcl1lAPveJwvOApNyrM78IpLJpatxeLRVDQJbiJIebbPxksYfkA7mLVkAlDYs7FMg3DSzQCHT35Q5nAwnIGFAnhz5akBQH%2BA&X-Amz-Signature=21e917a5e53a3e49eae8fe7efe888d1db2cdbfd2589007940c5aa63b10de10d3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QGAB4ZBE%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043110Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCQeQsq22HZOqBFcMtTGq7FC8ZS14s0iCS3OLCCKOXlxQIgG2mWZqNLi3gtqQGslUXCDGMGWWTKGq%2BVzarifNlHZDoq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDGN7J6Vgt1X7nMXP9SrcA4lBYdPg4SfoXFJUgWGn%2F2d3VTNWpzi2iDk4t9NSCAcflSPuqcB59qUSP7irevYN1dDTvajPHMD9OAnZmwrhrHeaeK4hXn1rkNA%2B2aEFlgf3MJvAUMNJRdTVDWRd0u1wDofH%2F2OmUf4bpHPjCKFXzJEC2mhNjmPmCce3pEOsCVg%2BFDKKCMG4eU3WcRAaaxNSX9srfrlt0x8%2BiWXEipkMSq78%2BZzMFkFDTjLlH7sZNY5iPvzh7DlHNbRh96YW%2BGQ9ZGgiMq2O5umjpe12pxpBEKiphLTzgSuxC0W50S%2FI4%2FfK9fa5Yi74wWoura%2BNOUfNxON%2FMe81HuXZ%2BnCEgTzMWzhwrru%2FB3GKbGmHWcaGhcDNmSwkHyEkwc5tqmTKG2FExMfjqJBclXO0D2S%2FjikrQNW%2BrRVFj4Auk0e1bjBfajVgZ2lLPgu86sVW7MrtHJ8ocAokHMtPmE%2FEmQ8Gwm7iwxvR3QSBOJX1mADvTY4OvC8fo70D8P%2BdYmRHkfOtTqrpAV%2B77no0HvY0d8MmH4OUmAloHWOiBCeyQsIraWN%2BqtxGD787xWWcPpQDn4XROQccF8pS87J34c2KWH%2FpTNtyEm7djsqMkXeJE2KoMrE0ujFCBPxB%2FN2rcRkiJPJjMI2828sGOqUBjUSb2VmXt7NgGmjV7l1M1yYkWXmq0q9WCJJNZWqvnikzsLEW4t3Bm1yqhAE3BAi3BAK8JeEyciY4bcfn75FOiK1FoM7dRp%2FBtuGhcg6I9J%2BM1%2BrFDCzD6wFCwfi2Rcl1lAPveJwvOApNyrM78IpLJpatxeLRVDQJbiJIebbPxksYfkA7mLVkAlDYs7FMg3DSzQCHT35Q5nAwnIGFAnhz5akBQH%2BA&X-Amz-Signature=a7fadb89b725671dbd424d65f4e7292e286ce3472d4b422ce188b41442e2b13c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QGAB4ZBE%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043110Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCQeQsq22HZOqBFcMtTGq7FC8ZS14s0iCS3OLCCKOXlxQIgG2mWZqNLi3gtqQGslUXCDGMGWWTKGq%2BVzarifNlHZDoq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDGN7J6Vgt1X7nMXP9SrcA4lBYdPg4SfoXFJUgWGn%2F2d3VTNWpzi2iDk4t9NSCAcflSPuqcB59qUSP7irevYN1dDTvajPHMD9OAnZmwrhrHeaeK4hXn1rkNA%2B2aEFlgf3MJvAUMNJRdTVDWRd0u1wDofH%2F2OmUf4bpHPjCKFXzJEC2mhNjmPmCce3pEOsCVg%2BFDKKCMG4eU3WcRAaaxNSX9srfrlt0x8%2BiWXEipkMSq78%2BZzMFkFDTjLlH7sZNY5iPvzh7DlHNbRh96YW%2BGQ9ZGgiMq2O5umjpe12pxpBEKiphLTzgSuxC0W50S%2FI4%2FfK9fa5Yi74wWoura%2BNOUfNxON%2FMe81HuXZ%2BnCEgTzMWzhwrru%2FB3GKbGmHWcaGhcDNmSwkHyEkwc5tqmTKG2FExMfjqJBclXO0D2S%2FjikrQNW%2BrRVFj4Auk0e1bjBfajVgZ2lLPgu86sVW7MrtHJ8ocAokHMtPmE%2FEmQ8Gwm7iwxvR3QSBOJX1mADvTY4OvC8fo70D8P%2BdYmRHkfOtTqrpAV%2B77no0HvY0d8MmH4OUmAloHWOiBCeyQsIraWN%2BqtxGD787xWWcPpQDn4XROQccF8pS87J34c2KWH%2FpTNtyEm7djsqMkXeJE2KoMrE0ujFCBPxB%2FN2rcRkiJPJjMI2828sGOqUBjUSb2VmXt7NgGmjV7l1M1yYkWXmq0q9WCJJNZWqvnikzsLEW4t3Bm1yqhAE3BAi3BAK8JeEyciY4bcfn75FOiK1FoM7dRp%2FBtuGhcg6I9J%2BM1%2BrFDCzD6wFCwfi2Rcl1lAPveJwvOApNyrM78IpLJpatxeLRVDQJbiJIebbPxksYfkA7mLVkAlDYs7FMg3DSzQCHT35Q5nAwnIGFAnhz5akBQH%2BA&X-Amz-Signature=88b5d3c6dca6b0146f25cd28ac5500586a2edf8e21104d28ae3f5befb77ba2b1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QJBJBRX%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043111Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEG0aCXVzLXdlc3QtMiJIMEYCIQC7bD1JK%2BeN%2B2Ue80auAyA%2B591ZClHCpauM4vd42BcVKQIhAIOI6oQWW2ETQFSw5AyNFUSnHdoYxOdIu%2FyTist6BJ%2BfKv8DCDYQABoMNjM3NDIzMTgzODA1IgxSKncFnFObUkAQNR0q3AM%2Fx36TvsbzpcNvH54iDMF6leGITsXXLQzRdAK8u6oiuWBdIJqkS2QkLpoNIDVVpio15Jv%2F4mDQwBhglDu6rjczTpQ0H9Z8yhsynNDDjs70o8U9lTNQNW0tTVatZbo9IVjpOO%2FR1JQmcxgAsanEUB1%2FuEkyMOjvTRC%2B3sS4mqIjRS4vqyoYV7m%2FclbXx%2FSU%2FVlMbYudEWFAMay1%2BLZyZiZc6yehF1bvZZp3M7CpcmH5Emt3UV8EMUaXaqfWVzmQ8dZVJ1PjJzlh4pPRGNZKdOKHJE9T0IATHtf23EGEn0OFIfW8agiQHa8%2BtWWiGjTCLjEilPmnIYoSFLXiniqlQbttYPFV7CD%2Fx%2Fvus3NVsRTHLpGQT%2BN%2Fbnrx3CguD%2FRxQc4AThRjTc6efru5TjW%2FFv4rezqBbRQzmpLs2G4qj7KyjAIpZwNW8IcTlWpC5LOr84gmfu0WDZ7PeHhdVvjroCTb1CByeNGyCu5DVRueP6a7X5nOsJZ83jcmQ4%2BOSO9iJKbrRPplnAdzMX6ydXwrRDcTVdqYf2Ya%2B5ge7mdN2pMgfqHuHuVYk%2FLCkX6eXBjoyKsxjY4c6sVIWw6VK6fFXvlu3N96lKZ29m5d9N%2BIPB51OET8u4yfUIDsodh6fDCE2tvLBjqkATzS91lab%2BayQPNP6eQSrLZ4l5pmzMrPGp36m9QL2l9U3CwgXmON2luifCCqzUKcx3eP%2BOk7dz%2Fz%2FssSxfXIt7iH51sOlk49QgfeorPTpu%2FJgCaWotbL%2FqvQLSJ08cOU6%2FL8lLl%2BSDYC6TlhqhfBC5a6Vd1s%2BGa11te%2BHGAPQqKy1x9%2FXQmU1zTS2qBvSbKc9e9OelALl7Ad4GMEBq6KlamETS1B&X-Amz-Signature=5bca96d91f22e2548c0c69a12587a3de112162082ca45b35eeb8b2df447a27f7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QJBJBRX%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043111Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEG0aCXVzLXdlc3QtMiJIMEYCIQC7bD1JK%2BeN%2B2Ue80auAyA%2B591ZClHCpauM4vd42BcVKQIhAIOI6oQWW2ETQFSw5AyNFUSnHdoYxOdIu%2FyTist6BJ%2BfKv8DCDYQABoMNjM3NDIzMTgzODA1IgxSKncFnFObUkAQNR0q3AM%2Fx36TvsbzpcNvH54iDMF6leGITsXXLQzRdAK8u6oiuWBdIJqkS2QkLpoNIDVVpio15Jv%2F4mDQwBhglDu6rjczTpQ0H9Z8yhsynNDDjs70o8U9lTNQNW0tTVatZbo9IVjpOO%2FR1JQmcxgAsanEUB1%2FuEkyMOjvTRC%2B3sS4mqIjRS4vqyoYV7m%2FclbXx%2FSU%2FVlMbYudEWFAMay1%2BLZyZiZc6yehF1bvZZp3M7CpcmH5Emt3UV8EMUaXaqfWVzmQ8dZVJ1PjJzlh4pPRGNZKdOKHJE9T0IATHtf23EGEn0OFIfW8agiQHa8%2BtWWiGjTCLjEilPmnIYoSFLXiniqlQbttYPFV7CD%2Fx%2Fvus3NVsRTHLpGQT%2BN%2Fbnrx3CguD%2FRxQc4AThRjTc6efru5TjW%2FFv4rezqBbRQzmpLs2G4qj7KyjAIpZwNW8IcTlWpC5LOr84gmfu0WDZ7PeHhdVvjroCTb1CByeNGyCu5DVRueP6a7X5nOsJZ83jcmQ4%2BOSO9iJKbrRPplnAdzMX6ydXwrRDcTVdqYf2Ya%2B5ge7mdN2pMgfqHuHuVYk%2FLCkX6eXBjoyKsxjY4c6sVIWw6VK6fFXvlu3N96lKZ29m5d9N%2BIPB51OET8u4yfUIDsodh6fDCE2tvLBjqkATzS91lab%2BayQPNP6eQSrLZ4l5pmzMrPGp36m9QL2l9U3CwgXmON2luifCCqzUKcx3eP%2BOk7dz%2Fz%2FssSxfXIt7iH51sOlk49QgfeorPTpu%2FJgCaWotbL%2FqvQLSJ08cOU6%2FL8lLl%2BSDYC6TlhqhfBC5a6Vd1s%2BGa11te%2BHGAPQqKy1x9%2FXQmU1zTS2qBvSbKc9e9OelALl7Ad4GMEBq6KlamETS1B&X-Amz-Signature=fe2afc5aec70df05c7c4f37e920ac1527e12124fe28325464dd87fa60cab3a82&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QJBJBRX%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043111Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEG0aCXVzLXdlc3QtMiJIMEYCIQC7bD1JK%2BeN%2B2Ue80auAyA%2B591ZClHCpauM4vd42BcVKQIhAIOI6oQWW2ETQFSw5AyNFUSnHdoYxOdIu%2FyTist6BJ%2BfKv8DCDYQABoMNjM3NDIzMTgzODA1IgxSKncFnFObUkAQNR0q3AM%2Fx36TvsbzpcNvH54iDMF6leGITsXXLQzRdAK8u6oiuWBdIJqkS2QkLpoNIDVVpio15Jv%2F4mDQwBhglDu6rjczTpQ0H9Z8yhsynNDDjs70o8U9lTNQNW0tTVatZbo9IVjpOO%2FR1JQmcxgAsanEUB1%2FuEkyMOjvTRC%2B3sS4mqIjRS4vqyoYV7m%2FclbXx%2FSU%2FVlMbYudEWFAMay1%2BLZyZiZc6yehF1bvZZp3M7CpcmH5Emt3UV8EMUaXaqfWVzmQ8dZVJ1PjJzlh4pPRGNZKdOKHJE9T0IATHtf23EGEn0OFIfW8agiQHa8%2BtWWiGjTCLjEilPmnIYoSFLXiniqlQbttYPFV7CD%2Fx%2Fvus3NVsRTHLpGQT%2BN%2Fbnrx3CguD%2FRxQc4AThRjTc6efru5TjW%2FFv4rezqBbRQzmpLs2G4qj7KyjAIpZwNW8IcTlWpC5LOr84gmfu0WDZ7PeHhdVvjroCTb1CByeNGyCu5DVRueP6a7X5nOsJZ83jcmQ4%2BOSO9iJKbrRPplnAdzMX6ydXwrRDcTVdqYf2Ya%2B5ge7mdN2pMgfqHuHuVYk%2FLCkX6eXBjoyKsxjY4c6sVIWw6VK6fFXvlu3N96lKZ29m5d9N%2BIPB51OET8u4yfUIDsodh6fDCE2tvLBjqkATzS91lab%2BayQPNP6eQSrLZ4l5pmzMrPGp36m9QL2l9U3CwgXmON2luifCCqzUKcx3eP%2BOk7dz%2Fz%2FssSxfXIt7iH51sOlk49QgfeorPTpu%2FJgCaWotbL%2FqvQLSJ08cOU6%2FL8lLl%2BSDYC6TlhqhfBC5a6Vd1s%2BGa11te%2BHGAPQqKy1x9%2FXQmU1zTS2qBvSbKc9e9OelALl7Ad4GMEBq6KlamETS1B&X-Amz-Signature=a1138c4f7a5a5c3df3e6af08931139d6381a12a8a094c9ce100c18f4aa835724&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QJBJBRX%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043111Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEG0aCXVzLXdlc3QtMiJIMEYCIQC7bD1JK%2BeN%2B2Ue80auAyA%2B591ZClHCpauM4vd42BcVKQIhAIOI6oQWW2ETQFSw5AyNFUSnHdoYxOdIu%2FyTist6BJ%2BfKv8DCDYQABoMNjM3NDIzMTgzODA1IgxSKncFnFObUkAQNR0q3AM%2Fx36TvsbzpcNvH54iDMF6leGITsXXLQzRdAK8u6oiuWBdIJqkS2QkLpoNIDVVpio15Jv%2F4mDQwBhglDu6rjczTpQ0H9Z8yhsynNDDjs70o8U9lTNQNW0tTVatZbo9IVjpOO%2FR1JQmcxgAsanEUB1%2FuEkyMOjvTRC%2B3sS4mqIjRS4vqyoYV7m%2FclbXx%2FSU%2FVlMbYudEWFAMay1%2BLZyZiZc6yehF1bvZZp3M7CpcmH5Emt3UV8EMUaXaqfWVzmQ8dZVJ1PjJzlh4pPRGNZKdOKHJE9T0IATHtf23EGEn0OFIfW8agiQHa8%2BtWWiGjTCLjEilPmnIYoSFLXiniqlQbttYPFV7CD%2Fx%2Fvus3NVsRTHLpGQT%2BN%2Fbnrx3CguD%2FRxQc4AThRjTc6efru5TjW%2FFv4rezqBbRQzmpLs2G4qj7KyjAIpZwNW8IcTlWpC5LOr84gmfu0WDZ7PeHhdVvjroCTb1CByeNGyCu5DVRueP6a7X5nOsJZ83jcmQ4%2BOSO9iJKbrRPplnAdzMX6ydXwrRDcTVdqYf2Ya%2B5ge7mdN2pMgfqHuHuVYk%2FLCkX6eXBjoyKsxjY4c6sVIWw6VK6fFXvlu3N96lKZ29m5d9N%2BIPB51OET8u4yfUIDsodh6fDCE2tvLBjqkATzS91lab%2BayQPNP6eQSrLZ4l5pmzMrPGp36m9QL2l9U3CwgXmON2luifCCqzUKcx3eP%2BOk7dz%2Fz%2FssSxfXIt7iH51sOlk49QgfeorPTpu%2FJgCaWotbL%2FqvQLSJ08cOU6%2FL8lLl%2BSDYC6TlhqhfBC5a6Vd1s%2BGa11te%2BHGAPQqKy1x9%2FXQmU1zTS2qBvSbKc9e9OelALl7Ad4GMEBq6KlamETS1B&X-Amz-Signature=913017a325146c5bd4c69638e8387ca88cf73be65659e51f6d101a5285462f46&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z4ZBAPAM%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043113Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIGYEe2R7vlaH6OCpCGMiHtU6ogfWeRbjYI%2Fg%2B3FzdVzSAiAGZDbuYrK87eBcJ9KFQ5hQGMhg%2Fm6JXKJO0ZmjUQQFgCr%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIMSzYHQ2cHdRPFfV8CKtwDNSr3VZxiOVeIRURlXSxEpi0%2BFcTJVHvNzPGDWZfzAkzCAMETUMN0Sm57U71JJQ1kYbGG6onBac9wmM6vFeWs1z2y2YwCr%2Bh9zoTU0N0gzjInO%2FOIFyR%2FFUGgQVfkXGjn%2BZJGJCXlwn3hb6GAP2g%2F7iKBox1pUhLn%2B%2Fc6w1yuvv%2Fky2r9Y1Q41pDJJ2eq71mGylzGYO8RXjVovKq8gVYY0tdGu6RCPJV280uHRDBukoTv0yxhfYjFHXCHl0sbasQK4dtrxoO2e2UtCcziHNuwaXdf%2Fxfw6SwVL%2BGBLXtY18THjVrEjscjHsEU9A4yxh4HjtKgE3pRmkDYB4mSzn%2F5KcpSgqUd54tBAxcgz6QbQrm%2F6IobX8GIIEkw97tBmBoXU3M%2FFx8xHb564FVZtPsNmq0plcOUNXmCN%2BIaZE5YZtGBlj0iy4MnbJNyYe4X9yxMIadwzXjGNJW6%2FxYe9eixnPnyWEbie5JEHg19Y3mJQoU5mIqE7W3EA%2BELG%2FFf1Goa%2FjreE7RK%2FB57X%2Fjk5%2FhaGG8z4aVSr8Z2rhMiSy450cVgvfeu5%2F%2B0DZ3610hpwWWQE8aL7h2Q9wSepqcxEiLQ4KsT%2FUbnn860n8RgQhzvBR0famuUu%2FqqwDXeMb0wrcLbywY6pgFfhIXNwMHGmYCIEs71F46xYmshbp1rXTtR4hQMAmqIHb5pXQoj6pRJpf7FgIXY20GKlLteCA1dhLkN29Rcr%2FEUMdPwr2Ma69YjUfGkmJLwLHHIkcPb3wbwXsf6h8mzge0ORRUbhbiir0dcUzr228gpJqgP9GWvEsYKUGF8iXLO9Pe9sjEgv3WfjkR5L%2FqWLW3pSjj4Oc3jq4PERcH%2FkehWguLpZDWO&X-Amz-Signature=a4537885da75d68f0d1b32cdd39b1f7103f976b903c48fcd7ed79cf085fe7d6f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z4ZBAPAM%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043113Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIGYEe2R7vlaH6OCpCGMiHtU6ogfWeRbjYI%2Fg%2B3FzdVzSAiAGZDbuYrK87eBcJ9KFQ5hQGMhg%2Fm6JXKJO0ZmjUQQFgCr%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIMSzYHQ2cHdRPFfV8CKtwDNSr3VZxiOVeIRURlXSxEpi0%2BFcTJVHvNzPGDWZfzAkzCAMETUMN0Sm57U71JJQ1kYbGG6onBac9wmM6vFeWs1z2y2YwCr%2Bh9zoTU0N0gzjInO%2FOIFyR%2FFUGgQVfkXGjn%2BZJGJCXlwn3hb6GAP2g%2F7iKBox1pUhLn%2B%2Fc6w1yuvv%2Fky2r9Y1Q41pDJJ2eq71mGylzGYO8RXjVovKq8gVYY0tdGu6RCPJV280uHRDBukoTv0yxhfYjFHXCHl0sbasQK4dtrxoO2e2UtCcziHNuwaXdf%2Fxfw6SwVL%2BGBLXtY18THjVrEjscjHsEU9A4yxh4HjtKgE3pRmkDYB4mSzn%2F5KcpSgqUd54tBAxcgz6QbQrm%2F6IobX8GIIEkw97tBmBoXU3M%2FFx8xHb564FVZtPsNmq0plcOUNXmCN%2BIaZE5YZtGBlj0iy4MnbJNyYe4X9yxMIadwzXjGNJW6%2FxYe9eixnPnyWEbie5JEHg19Y3mJQoU5mIqE7W3EA%2BELG%2FFf1Goa%2FjreE7RK%2FB57X%2Fjk5%2FhaGG8z4aVSr8Z2rhMiSy450cVgvfeu5%2F%2B0DZ3610hpwWWQE8aL7h2Q9wSepqcxEiLQ4KsT%2FUbnn860n8RgQhzvBR0famuUu%2FqqwDXeMb0wrcLbywY6pgFfhIXNwMHGmYCIEs71F46xYmshbp1rXTtR4hQMAmqIHb5pXQoj6pRJpf7FgIXY20GKlLteCA1dhLkN29Rcr%2FEUMdPwr2Ma69YjUfGkmJLwLHHIkcPb3wbwXsf6h8mzge0ORRUbhbiir0dcUzr228gpJqgP9GWvEsYKUGF8iXLO9Pe9sjEgv3WfjkR5L%2FqWLW3pSjj4Oc3jq4PERcH%2FkehWguLpZDWO&X-Amz-Signature=0c530d07427b276f4d4c28efb783222510aa6c83b1f244f0a904b611b7a17c2c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z4ZBAPAM%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043115Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIGYEe2R7vlaH6OCpCGMiHtU6ogfWeRbjYI%2Fg%2B3FzdVzSAiAGZDbuYrK87eBcJ9KFQ5hQGMhg%2Fm6JXKJO0ZmjUQQFgCr%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIMSzYHQ2cHdRPFfV8CKtwDNSr3VZxiOVeIRURlXSxEpi0%2BFcTJVHvNzPGDWZfzAkzCAMETUMN0Sm57U71JJQ1kYbGG6onBac9wmM6vFeWs1z2y2YwCr%2Bh9zoTU0N0gzjInO%2FOIFyR%2FFUGgQVfkXGjn%2BZJGJCXlwn3hb6GAP2g%2F7iKBox1pUhLn%2B%2Fc6w1yuvv%2Fky2r9Y1Q41pDJJ2eq71mGylzGYO8RXjVovKq8gVYY0tdGu6RCPJV280uHRDBukoTv0yxhfYjFHXCHl0sbasQK4dtrxoO2e2UtCcziHNuwaXdf%2Fxfw6SwVL%2BGBLXtY18THjVrEjscjHsEU9A4yxh4HjtKgE3pRmkDYB4mSzn%2F5KcpSgqUd54tBAxcgz6QbQrm%2F6IobX8GIIEkw97tBmBoXU3M%2FFx8xHb564FVZtPsNmq0plcOUNXmCN%2BIaZE5YZtGBlj0iy4MnbJNyYe4X9yxMIadwzXjGNJW6%2FxYe9eixnPnyWEbie5JEHg19Y3mJQoU5mIqE7W3EA%2BELG%2FFf1Goa%2FjreE7RK%2FB57X%2Fjk5%2FhaGG8z4aVSr8Z2rhMiSy450cVgvfeu5%2F%2B0DZ3610hpwWWQE8aL7h2Q9wSepqcxEiLQ4KsT%2FUbnn860n8RgQhzvBR0famuUu%2FqqwDXeMb0wrcLbywY6pgFfhIXNwMHGmYCIEs71F46xYmshbp1rXTtR4hQMAmqIHb5pXQoj6pRJpf7FgIXY20GKlLteCA1dhLkN29Rcr%2FEUMdPwr2Ma69YjUfGkmJLwLHHIkcPb3wbwXsf6h8mzge0ORRUbhbiir0dcUzr228gpJqgP9GWvEsYKUGF8iXLO9Pe9sjEgv3WfjkR5L%2FqWLW3pSjj4Oc3jq4PERcH%2FkehWguLpZDWO&X-Amz-Signature=9f76ab995a67ef71e87d4864272134d397327037d92ba72cf4d5817a7ea04a91&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UOSYGCI4%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043116Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGsaCXVzLXdlc3QtMiJGMEQCIG3xgDXrP%2F5Eh6uh2VF8X58qYp7JRhqLct3GIQOahGWRAiATpVkC2qF1vGSNR6HAHnRLQfv3XCwxeLYXcRX%2FXMuiRyr%2FAwg0EAAaDDYzNzQyMzE4MzgwNSIMmnuUskMQMPMF%2FnD9KtwDMgNYUCTzFeQsQnLTcXKPj%2B1hM%2F3MQfsrhO2kd2DGBQIhtmlPl8lTUkzfnYCtoBv196Kl7%2FPkqt9UqwqRhna9%2BBr3npzSazYJ38kY6uPSdYmtzHKifJQU4D81BvcKf1XBQHt8x3iCul1Gt%2BbZCr9Vdd86DkK%2BOSfwuyj7q50f%2FpdDsgULZ82Pud1hXWP46dj6Duj7jzG2hUpHNVZQi5adcmX34BjkTUBs1jOaOjVRFxDKCTMr6eCOUoGB13pgtmkLZJBuz8zaeMUXfsf9hySK2s7VXgiV%2FvFMUeIUKj2VkFL5%2BQrrKumNIuI%2BhaWR4fbj%2FE1C6wqUDIeKJHzGLF2qfsjjBb4D%2F3jDWBERN1gtHaKtF%2FHtTpphyER3j5U3%2FrdhsI%2F7K2Vvy%2BQpxTlCr%2BJxXpiQru3QUXOX3DPmjoG45PeGwpoCUQ9ZEUW%2FPl5Y04ZJttHXrDWYvNnsyNdw3QXA9bObQe9C1TLaoqvjc48AO3aLJnZjnUMV3JB%2BWNTWq8vxhg%2BTfwdSJAGg%2BmVfTQEwhJOyH%2Bs6UNwUO5s0VA77wobqDPcM6OJPNzd55B8YPA9Nlyp%2BsVQXVeWBRmccHXsWXweoGw2Uovh6sGBAK8uAz8SmRtE85eodC1HIWKkwhrnbywY6pgHp42Pty0AeqgqH0Hhk7X44YA7maI1KvzIJETZxLMpWYyizN%2BF0wTfF042tuRooC2rMOm9p7Mh%2Fd0JoKBLoJ3UH0%2BFcMCEwZMCWu6UU2%2BIs3YcTjMXcKpe0ZjQdi%2B%2BN5whyej%2F1s%2F0EXVsirzoPzVqPNKYV%2BZN6MJOspx4%2Fakipkt9pUkSzt1kTB%2BQ43zv6tTby88LBZLccp4%2Bpp%2B0ADJonAki87izF&X-Amz-Signature=3fcb850a4415a8aeb8c20a90f21c463c23ced3d7200569662ac5451555d5697f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UOSYGCI4%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043116Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGsaCXVzLXdlc3QtMiJGMEQCIG3xgDXrP%2F5Eh6uh2VF8X58qYp7JRhqLct3GIQOahGWRAiATpVkC2qF1vGSNR6HAHnRLQfv3XCwxeLYXcRX%2FXMuiRyr%2FAwg0EAAaDDYzNzQyMzE4MzgwNSIMmnuUskMQMPMF%2FnD9KtwDMgNYUCTzFeQsQnLTcXKPj%2B1hM%2F3MQfsrhO2kd2DGBQIhtmlPl8lTUkzfnYCtoBv196Kl7%2FPkqt9UqwqRhna9%2BBr3npzSazYJ38kY6uPSdYmtzHKifJQU4D81BvcKf1XBQHt8x3iCul1Gt%2BbZCr9Vdd86DkK%2BOSfwuyj7q50f%2FpdDsgULZ82Pud1hXWP46dj6Duj7jzG2hUpHNVZQi5adcmX34BjkTUBs1jOaOjVRFxDKCTMr6eCOUoGB13pgtmkLZJBuz8zaeMUXfsf9hySK2s7VXgiV%2FvFMUeIUKj2VkFL5%2BQrrKumNIuI%2BhaWR4fbj%2FE1C6wqUDIeKJHzGLF2qfsjjBb4D%2F3jDWBERN1gtHaKtF%2FHtTpphyER3j5U3%2FrdhsI%2F7K2Vvy%2BQpxTlCr%2BJxXpiQru3QUXOX3DPmjoG45PeGwpoCUQ9ZEUW%2FPl5Y04ZJttHXrDWYvNnsyNdw3QXA9bObQe9C1TLaoqvjc48AO3aLJnZjnUMV3JB%2BWNTWq8vxhg%2BTfwdSJAGg%2BmVfTQEwhJOyH%2Bs6UNwUO5s0VA77wobqDPcM6OJPNzd55B8YPA9Nlyp%2BsVQXVeWBRmccHXsWXweoGw2Uovh6sGBAK8uAz8SmRtE85eodC1HIWKkwhrnbywY6pgHp42Pty0AeqgqH0Hhk7X44YA7maI1KvzIJETZxLMpWYyizN%2BF0wTfF042tuRooC2rMOm9p7Mh%2Fd0JoKBLoJ3UH0%2BFcMCEwZMCWu6UU2%2BIs3YcTjMXcKpe0ZjQdi%2B%2BN5whyej%2F1s%2F0EXVsirzoPzVqPNKYV%2BZN6MJOspx4%2Fakipkt9pUkSzt1kTB%2BQ43zv6tTby88LBZLccp4%2Bpp%2B0ADJonAki87izF&X-Amz-Signature=dc4ae9b0720ad25304400997be46ba56311e33fb4ea836cb58b1ec1e4dd3ce1e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46677YBSHFE%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043116Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGsaCXVzLXdlc3QtMiJHMEUCIGfAEvY0KD1eAIwi43efTrGRrpBFf4gxpuiGTd5cztuzAiEAvPKt1VOvhegOl9YSnNiCwqNQgaLCRWfOVQXxbrbac2gq%2FwMINBAAGgw2Mzc0MjMxODM4MDUiDIewb3sPmipxcbZOuyrcAwl8ehBNVH2P24%2FkBEBhU5y4%2FUxZes7DMqoexSwXtRqD%2B%2BKwbuXO2Dh5Cwpvt2tA%2BhyJ8I5gPAiPSDaK3owk9sOegmbE0E3UX%2BwNu2X24mC0AuzMKrH8xhMU9x3ut96IFDhh6Ea9T1hzRTsKnHGfQ8dEi%2FrCWd6tA3iVsVUW9%2F2lyQUmcDL9ELDnkf1pkUncQCgoj2qMCXDIgbvQo%2BbmzBaYF7dvXN5L%2F%2F%2B9rJuKxrLEE7%2F7%2FJEOcVsOHBNZvpQWww2g4gEYnwld4QHepgtik1UqbJjJmBa6xGdz1IkFOJjzgFEsnLCUbIH594R%2BGT2FTThntOLW4QX74WC%2B%2FameOjMg%2Fft7nAElih9tD6ZrSwWhJ1Ux5Szw90KDh87oAa9zeqrrKToOk6VR95P8KM2E77fkV5iRb7XtOuX3WUIOr3BYAgr%2BoKJzQD38plH5prQQ2CIs06%2FD6JIxkfs88GcvsnfG2sU%2Bnnpu25PcpiFeVhoJIxUB4GrqNcoeQgVjCTFdxTUQY2gEwclcP6kNblFk7vETL%2FnGNidGHKaMq98l9GsLq0sXjZiDx3iaXjhPuYbOZPe8EepjqN85tRcs0JtjeQq9iJGxXG0NeDSKPqQDyanssfFKCPmWWIzzQoETMIa528sGOqUB1Mu8HzWaAFk0W94ojjWJGLEttcc1gEfXu8WHeZWlIkoHyyxWtriulGWUMz7e6uwE2i4vU1D0Qf5weuqMVdFQ%2FSzk9FcboahmiWiFD55w%2BPCmv6ih13WakjoHp8m0P98NFXl005m0qswOH%2F7SyTfkrjh2uC8Z1ityXPicPgIuvxfTtvvmdWXZ%2B%2F0VYk9kaZR821bmO3%2BZ2EceiGLNHzQJ7ZZbWDMF&X-Amz-Signature=23157aa3be5af4658315b8cd459ddcb90654e3b8a078fbde0b279255db8e82d1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46677YBSHFE%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043116Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGsaCXVzLXdlc3QtMiJHMEUCIGfAEvY0KD1eAIwi43efTrGRrpBFf4gxpuiGTd5cztuzAiEAvPKt1VOvhegOl9YSnNiCwqNQgaLCRWfOVQXxbrbac2gq%2FwMINBAAGgw2Mzc0MjMxODM4MDUiDIewb3sPmipxcbZOuyrcAwl8ehBNVH2P24%2FkBEBhU5y4%2FUxZes7DMqoexSwXtRqD%2B%2BKwbuXO2Dh5Cwpvt2tA%2BhyJ8I5gPAiPSDaK3owk9sOegmbE0E3UX%2BwNu2X24mC0AuzMKrH8xhMU9x3ut96IFDhh6Ea9T1hzRTsKnHGfQ8dEi%2FrCWd6tA3iVsVUW9%2F2lyQUmcDL9ELDnkf1pkUncQCgoj2qMCXDIgbvQo%2BbmzBaYF7dvXN5L%2F%2F%2B9rJuKxrLEE7%2F7%2FJEOcVsOHBNZvpQWww2g4gEYnwld4QHepgtik1UqbJjJmBa6xGdz1IkFOJjzgFEsnLCUbIH594R%2BGT2FTThntOLW4QX74WC%2B%2FameOjMg%2Fft7nAElih9tD6ZrSwWhJ1Ux5Szw90KDh87oAa9zeqrrKToOk6VR95P8KM2E77fkV5iRb7XtOuX3WUIOr3BYAgr%2BoKJzQD38plH5prQQ2CIs06%2FD6JIxkfs88GcvsnfG2sU%2Bnnpu25PcpiFeVhoJIxUB4GrqNcoeQgVjCTFdxTUQY2gEwclcP6kNblFk7vETL%2FnGNidGHKaMq98l9GsLq0sXjZiDx3iaXjhPuYbOZPe8EepjqN85tRcs0JtjeQq9iJGxXG0NeDSKPqQDyanssfFKCPmWWIzzQoETMIa528sGOqUB1Mu8HzWaAFk0W94ojjWJGLEttcc1gEfXu8WHeZWlIkoHyyxWtriulGWUMz7e6uwE2i4vU1D0Qf5weuqMVdFQ%2FSzk9FcboahmiWiFD55w%2BPCmv6ih13WakjoHp8m0P98NFXl005m0qswOH%2F7SyTfkrjh2uC8Z1ityXPicPgIuvxfTtvvmdWXZ%2B%2F0VYk9kaZR821bmO3%2BZ2EceiGLNHzQJ7ZZbWDMF&X-Amz-Signature=bfe27584e78e16621581d634e3c11cd2eba73d48ae8fb6715b0690b96ae1d0b1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U4MX7G64%2F20260126%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260126T043116Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCID4PjVjk48wYcH3r03HDKp4dMYoSYyM2WDlnyJuXNZ3ZAiEAivhtnACQPT%2FX8o1d3a3rRhpJJdm06tWUEo6mzSEULNsq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDF0ktBNkNqjYNUufZSrcA0eRBF7LoY3r8zU96q%2BYpc05FlyOzt4A6UUrZ7eVERiXoZBb7zY2GKCjKNjb0W8D2wJuvgrt2CPzTXUbMb3HY4i%2BheTtywOz1OdrHw6zH19%2Fl1ZUH7YlO3HKrXIGGvYMgfYTzHte5B5zapuyKBF1w9fDfSEc826ZX%2FxkFiUGlgfJ9mD6MBibATIzGw7XzVjeedRktBxEHMHVZX5E0kabmEulyakPtGcWelKiIyUe2xaNBIaVm9d0i9M8B73R34eAZ90NVckWkVoxcspu25z%2BnqYpRWcFoR9Ah7Tp4RKjxfXXn6BHQM3%2B4BHGTbOzEBhfqalRBDopw7VtQ0zapw9huJ7%2BKAv8gDdYei2S2DzzCaQUIE1ju%2FxZaF%2FNXD%2B4KYRa7oezgcl7FpwRv%2BtV3Q1PIK%2FEEJwNDW8wWgKJ%2BSMVOIsVnOKdGckFYxTT66cMZ%2FrHA4FheOuebwDcDfOMz3WTqWmupCRjdpv%2Fr%2FGflHmRQhILwIvWByzJolqKJ36%2FiShwdqh9ZfLjrS7tqPLW8D%2Br%2FIZC2xE9jZgUfmfUkzBnyvuaWnN2S2ho3rnGKNQ%2FoFVAtejYqPz3A9SNANOwmdDoJ0NVFJ2ftgkwZLdV48coQlq1eOt591v3aOUpjNU4MJ%2FC28sGOqUBwweDOcIbKXRGu1WI1zG6rBFINrdqMhuBKsK%2FrO%2BHT8JUkoiXCoHWwYCnFvK704c0UWFouqagZQoqcDzT5WQYH8%2BEgBWGLSIOutcBwkRoSurIkqsC5di%2BYOMpXUyuUc877peKiJUZa5jXfOk1OCWK2TG9nhkvX3uxgBiAUDZMf1bIa7d5Xftiw%2BX49KlO%2BG0iS3kcDb%2B968eYlFdmKN6YC6kEjDDH&X-Amz-Signature=a4f0fd237946a7798dcda2c8b30b395a98d9f8df6d3d192ef766f10a8547af15&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
