
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666Q4V4BHV%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040652Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIH230c8r7fkFdw5EC0q50SykpucXUaLxjRuOGex3jMeDAiBnr3jJpAOgjrxJEXx8P%2BhFJBoaMfUVkwtl%2Ff%2BMHrGp6iqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM2Pqd%2BxgxNLsrGpXlKtwDPV6VaU%2BRHjX4ch51Fma4yOmJKmueI4O%2BmjQAmwnHKz2aaWFNA3KZ6xrvxhwW0my%2B5nKDG8vGAexQ8ywaNx5U4QgWOmfyHYgsxAUiS6tQ15qr4nGNRK5Jw%2FOaLYr1wh3ul0duwNIUXyi6DfGowZYwdVjzooIuPszw%2BkxsbXNELxJ642nxdlXijtMyqH720gsOiX2ixbbSQTWWoz%2BeChfOGMMgiFw9AvNlUIzkckntA9dKY6hI%2BU5dGl%2FiiFj6PCkDrxG60UwqMdRto%2BHUh0DYHFsWJl9ZNxkAIG0a0pr8O9XAiAoxrbpIzR6p4JCYoD%2BkvBicUDw7gzVEOGnNWt5ZFXbvG54QYOGKE7TTCPHOGqD5yYjAAbIN80%2Fpsgts8515Oj7QT7oQNWfGryYmJmAUw8lPSNUFo4WgKmccavDj4LE1HCMTL%2FPl3B1BjqWNtO2YdeRr%2B3Yss1qTgy2%2FydnLG22AljOLIpxCP2ySmgx7%2BeB13mpSNWJpamjQt1VoCoxkOr5MpdVbH%2FX9DTnirADONR4EZKHhItTITMVsRxPrxHgYuqre24ts7%2Bu1nOMpwnT6OOtkwmnd13hEd%2B5tfkXkJPG%2FB8WTbc4oKVuDnf8d5gLF3vyxCR4Yt5smK%2FYw%2B%2FPoyQY6pgHGl5%2Fr0417XV3lQSwdbi67WTXTk3NZ8znGGd8E3RHt%2BYxg8CECuHhgt9NLebV%2FQ88O0ZljjMybRwXtme%2F0TJqWwBcCO%2BJqUdRV%2F2e3TFE9Zn%2BWyJ%2BwVImBN7ZamMbljKf4xahvFHXg%2F2M6ytRs%2Fo7R7LRRNlHOKweXmaZSZJsyniAYe84XxpmTmKO7hL5sR7kxTR7I0tvv%2Bemc2UVVjxbejUVhNfk8&X-Amz-Signature=b3f6208f839ea20a96dc7ca056335ea861eb076e8dcb5529a51fae9d8759b7b7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666Q4V4BHV%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040652Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIH230c8r7fkFdw5EC0q50SykpucXUaLxjRuOGex3jMeDAiBnr3jJpAOgjrxJEXx8P%2BhFJBoaMfUVkwtl%2Ff%2BMHrGp6iqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM2Pqd%2BxgxNLsrGpXlKtwDPV6VaU%2BRHjX4ch51Fma4yOmJKmueI4O%2BmjQAmwnHKz2aaWFNA3KZ6xrvxhwW0my%2B5nKDG8vGAexQ8ywaNx5U4QgWOmfyHYgsxAUiS6tQ15qr4nGNRK5Jw%2FOaLYr1wh3ul0duwNIUXyi6DfGowZYwdVjzooIuPszw%2BkxsbXNELxJ642nxdlXijtMyqH720gsOiX2ixbbSQTWWoz%2BeChfOGMMgiFw9AvNlUIzkckntA9dKY6hI%2BU5dGl%2FiiFj6PCkDrxG60UwqMdRto%2BHUh0DYHFsWJl9ZNxkAIG0a0pr8O9XAiAoxrbpIzR6p4JCYoD%2BkvBicUDw7gzVEOGnNWt5ZFXbvG54QYOGKE7TTCPHOGqD5yYjAAbIN80%2Fpsgts8515Oj7QT7oQNWfGryYmJmAUw8lPSNUFo4WgKmccavDj4LE1HCMTL%2FPl3B1BjqWNtO2YdeRr%2B3Yss1qTgy2%2FydnLG22AljOLIpxCP2ySmgx7%2BeB13mpSNWJpamjQt1VoCoxkOr5MpdVbH%2FX9DTnirADONR4EZKHhItTITMVsRxPrxHgYuqre24ts7%2Bu1nOMpwnT6OOtkwmnd13hEd%2B5tfkXkJPG%2FB8WTbc4oKVuDnf8d5gLF3vyxCR4Yt5smK%2FYw%2B%2FPoyQY6pgHGl5%2Fr0417XV3lQSwdbi67WTXTk3NZ8znGGd8E3RHt%2BYxg8CECuHhgt9NLebV%2FQ88O0ZljjMybRwXtme%2F0TJqWwBcCO%2BJqUdRV%2F2e3TFE9Zn%2BWyJ%2BwVImBN7ZamMbljKf4xahvFHXg%2F2M6ytRs%2Fo7R7LRRNlHOKweXmaZSZJsyniAYe84XxpmTmKO7hL5sR7kxTR7I0tvv%2Bemc2UVVjxbejUVhNfk8&X-Amz-Signature=c25ab72d92a75a1410089811a1e38575c354b7d06262859ed795c60d034141c8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666Q4V4BHV%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040652Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIH230c8r7fkFdw5EC0q50SykpucXUaLxjRuOGex3jMeDAiBnr3jJpAOgjrxJEXx8P%2BhFJBoaMfUVkwtl%2Ff%2BMHrGp6iqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM2Pqd%2BxgxNLsrGpXlKtwDPV6VaU%2BRHjX4ch51Fma4yOmJKmueI4O%2BmjQAmwnHKz2aaWFNA3KZ6xrvxhwW0my%2B5nKDG8vGAexQ8ywaNx5U4QgWOmfyHYgsxAUiS6tQ15qr4nGNRK5Jw%2FOaLYr1wh3ul0duwNIUXyi6DfGowZYwdVjzooIuPszw%2BkxsbXNELxJ642nxdlXijtMyqH720gsOiX2ixbbSQTWWoz%2BeChfOGMMgiFw9AvNlUIzkckntA9dKY6hI%2BU5dGl%2FiiFj6PCkDrxG60UwqMdRto%2BHUh0DYHFsWJl9ZNxkAIG0a0pr8O9XAiAoxrbpIzR6p4JCYoD%2BkvBicUDw7gzVEOGnNWt5ZFXbvG54QYOGKE7TTCPHOGqD5yYjAAbIN80%2Fpsgts8515Oj7QT7oQNWfGryYmJmAUw8lPSNUFo4WgKmccavDj4LE1HCMTL%2FPl3B1BjqWNtO2YdeRr%2B3Yss1qTgy2%2FydnLG22AljOLIpxCP2ySmgx7%2BeB13mpSNWJpamjQt1VoCoxkOr5MpdVbH%2FX9DTnirADONR4EZKHhItTITMVsRxPrxHgYuqre24ts7%2Bu1nOMpwnT6OOtkwmnd13hEd%2B5tfkXkJPG%2FB8WTbc4oKVuDnf8d5gLF3vyxCR4Yt5smK%2FYw%2B%2FPoyQY6pgHGl5%2Fr0417XV3lQSwdbi67WTXTk3NZ8znGGd8E3RHt%2BYxg8CECuHhgt9NLebV%2FQ88O0ZljjMybRwXtme%2F0TJqWwBcCO%2BJqUdRV%2F2e3TFE9Zn%2BWyJ%2BwVImBN7ZamMbljKf4xahvFHXg%2F2M6ytRs%2Fo7R7LRRNlHOKweXmaZSZJsyniAYe84XxpmTmKO7hL5sR7kxTR7I0tvv%2Bemc2UVVjxbejUVhNfk8&X-Amz-Signature=719249e132e2f6baffc2c0dd30cee2ec22295e0c34fdc439836765580942c874&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UKMDJSUO%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040654Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIB%2FjdESLbgCbvSNWaX9cOZwFBEut2uQTJxa3nTyDXg42AiB7pTQqvHfeep52N%2Bq7AUmjG079DajI3KzLpDVvJkHCsSqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM12vape3xWWIsBLNcKtwDFUQe%2B0GhSYovVld3ri4BQj0EnRtY6KDfRQiz4PpBqseGPNmu7gMzZ66%2Bv59kk9FbeZYIXdgKLU86D%2BT29lc0Ye5RKZjCP%2BbjpnpXqAWDpuPhnKABL%2FiFcyp%2F4zFPQ63mnerSMYA%2BJfyn2WPl%2BHs1m6%2BqSRt9KxI7dPv2rOcw6Bu%2FKvpAw%2FOq20rcznouSSLfR3HvvV%2FmBsWP2S9uE6ws3XPv9LUM0Mibr0cQTJunjeTLjvaWfcR28WGnV5VHdHIeQK8%2ByDBamYeJntNqCcX4luG70C7uZzXC72CzKp6bYYNdM2EI7UbA90XxVK6x8h5HRJyCVVrl6jqC0FCuSWisL8YSz6UYU%2FmEOMfEHi%2FRnts%2Bi6X3wHCVHcBR%2BB%2FPN6ex81PtX4QYWvP%2Fv2FOfzjaFr3TZVD%2BIaOoEbfJMP6r%2FunZWlpcBdPoEvOVlsfreFRZzJ6Wbxz%2Bx2qQ8Ak9Z2hLMohdvFCNuiWQSymu1lb4yi0iqto8roSQq6f8QWsFHkJA%2BDrkklJoIDHYSDkg7hpx8c21EamqtbPc6K1RHc3tUEunPL%2F5EzpvtZynN9ZlICd0P5GJuPcRNVR0YP%2FqEnE56Zln8yg9dqt4MyZ3GPI9WCMM2am542ZS1e%2FpPA8ww%2FToyQY6pgHg1yAjflpzA7dqQVf%2FUBComZFS5XrwLs2XpCyMmA125BZxvX71STpCv2KPSbhGaS6GUVGB3934WNYXjb%2BxemelAtDqBf6EGCc5%2FbOAyB8fA%2FBtn4Z5kQeIhyqvs3my9qblDjs2wHPdRGMQlTswm2FcjoIDj39CLPtxY5qH5jXdkN9Ym4X1q6YBOeOwt43AUYmNGlSK4K%2BoXXVOh9UxaSSEPRaHOhRu&X-Amz-Signature=a8aa4bc46a67209360219d5454619b2db6ee0671e90df7f27a72f6f27114b1b8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UKMDJSUO%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040654Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIB%2FjdESLbgCbvSNWaX9cOZwFBEut2uQTJxa3nTyDXg42AiB7pTQqvHfeep52N%2Bq7AUmjG079DajI3KzLpDVvJkHCsSqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM12vape3xWWIsBLNcKtwDFUQe%2B0GhSYovVld3ri4BQj0EnRtY6KDfRQiz4PpBqseGPNmu7gMzZ66%2Bv59kk9FbeZYIXdgKLU86D%2BT29lc0Ye5RKZjCP%2BbjpnpXqAWDpuPhnKABL%2FiFcyp%2F4zFPQ63mnerSMYA%2BJfyn2WPl%2BHs1m6%2BqSRt9KxI7dPv2rOcw6Bu%2FKvpAw%2FOq20rcznouSSLfR3HvvV%2FmBsWP2S9uE6ws3XPv9LUM0Mibr0cQTJunjeTLjvaWfcR28WGnV5VHdHIeQK8%2ByDBamYeJntNqCcX4luG70C7uZzXC72CzKp6bYYNdM2EI7UbA90XxVK6x8h5HRJyCVVrl6jqC0FCuSWisL8YSz6UYU%2FmEOMfEHi%2FRnts%2Bi6X3wHCVHcBR%2BB%2FPN6ex81PtX4QYWvP%2Fv2FOfzjaFr3TZVD%2BIaOoEbfJMP6r%2FunZWlpcBdPoEvOVlsfreFRZzJ6Wbxz%2Bx2qQ8Ak9Z2hLMohdvFCNuiWQSymu1lb4yi0iqto8roSQq6f8QWsFHkJA%2BDrkklJoIDHYSDkg7hpx8c21EamqtbPc6K1RHc3tUEunPL%2F5EzpvtZynN9ZlICd0P5GJuPcRNVR0YP%2FqEnE56Zln8yg9dqt4MyZ3GPI9WCMM2am542ZS1e%2FpPA8ww%2FToyQY6pgHg1yAjflpzA7dqQVf%2FUBComZFS5XrwLs2XpCyMmA125BZxvX71STpCv2KPSbhGaS6GUVGB3934WNYXjb%2BxemelAtDqBf6EGCc5%2FbOAyB8fA%2FBtn4Z5kQeIhyqvs3my9qblDjs2wHPdRGMQlTswm2FcjoIDj39CLPtxY5qH5jXdkN9Ym4X1q6YBOeOwt43AUYmNGlSK4K%2BoXXVOh9UxaSSEPRaHOhRu&X-Amz-Signature=a6d0cd8135619957409efa4da8a37524437acee3ebc3ca0c106d5f42bda399cb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UKMDJSUO%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040654Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIB%2FjdESLbgCbvSNWaX9cOZwFBEut2uQTJxa3nTyDXg42AiB7pTQqvHfeep52N%2Bq7AUmjG079DajI3KzLpDVvJkHCsSqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM12vape3xWWIsBLNcKtwDFUQe%2B0GhSYovVld3ri4BQj0EnRtY6KDfRQiz4PpBqseGPNmu7gMzZ66%2Bv59kk9FbeZYIXdgKLU86D%2BT29lc0Ye5RKZjCP%2BbjpnpXqAWDpuPhnKABL%2FiFcyp%2F4zFPQ63mnerSMYA%2BJfyn2WPl%2BHs1m6%2BqSRt9KxI7dPv2rOcw6Bu%2FKvpAw%2FOq20rcznouSSLfR3HvvV%2FmBsWP2S9uE6ws3XPv9LUM0Mibr0cQTJunjeTLjvaWfcR28WGnV5VHdHIeQK8%2ByDBamYeJntNqCcX4luG70C7uZzXC72CzKp6bYYNdM2EI7UbA90XxVK6x8h5HRJyCVVrl6jqC0FCuSWisL8YSz6UYU%2FmEOMfEHi%2FRnts%2Bi6X3wHCVHcBR%2BB%2FPN6ex81PtX4QYWvP%2Fv2FOfzjaFr3TZVD%2BIaOoEbfJMP6r%2FunZWlpcBdPoEvOVlsfreFRZzJ6Wbxz%2Bx2qQ8Ak9Z2hLMohdvFCNuiWQSymu1lb4yi0iqto8roSQq6f8QWsFHkJA%2BDrkklJoIDHYSDkg7hpx8c21EamqtbPc6K1RHc3tUEunPL%2F5EzpvtZynN9ZlICd0P5GJuPcRNVR0YP%2FqEnE56Zln8yg9dqt4MyZ3GPI9WCMM2am542ZS1e%2FpPA8ww%2FToyQY6pgHg1yAjflpzA7dqQVf%2FUBComZFS5XrwLs2XpCyMmA125BZxvX71STpCv2KPSbhGaS6GUVGB3934WNYXjb%2BxemelAtDqBf6EGCc5%2FbOAyB8fA%2FBtn4Z5kQeIhyqvs3my9qblDjs2wHPdRGMQlTswm2FcjoIDj39CLPtxY5qH5jXdkN9Ym4X1q6YBOeOwt43AUYmNGlSK4K%2BoXXVOh9UxaSSEPRaHOhRu&X-Amz-Signature=34a95164cf6d32e4fbb4c7461c56dfbb4d7b6bffe0c8f2fa99dfa0f8a2439d4a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665NEECKBC%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040654Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIAgen8uKJ6%2F0WXdOaPW6G5n59Kl%2BMkVB%2BiFALXFJZHFbAiAdmB1UEk74VOKmZvFa1zXYGTxQ8bcFQHFwt0GytuVz1SqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMIVB8daAjoCINTtRNKtwDjfUJfHDnZzs0zB8wcT%2B5VObf4PqI3A7q4z07mFMPnxUqJX5ebe%2FEHbP%2Ft5Hy1Ldm9dU646SKKAVIURbbnTf0zMpzQZ0YS00HL0uUnm5oRHorFdEdlLekgGveWnb8hKfMP%2FQWFN%2BaSLW0JB52eMEUHkrYIImJyGKHzw%2FMEWEPWggpCVa3LXmzDAoHRemG%2ByTfgSb45Gx5S46jK4JIZSZAw9PoKDEH1PQK7QADKz66GFmPluk4%2BU9i6MovC1i6dNH14Qxrh9Ab0%2Fn8Zq1hMnwrFIuTbUMRWE41t%2F6AiX%2BuVAOk%2F46yk6MIlXCrOnM1CC%2BPFPFirltAKIiyU62XkPjShSPrOAYgHCaw5dvnBKYBuvkHDDeCxhkeWLDJnL4Ne5Y7ablXcohrDkr%2BgGg9%2BXpp7V4RN9VpGX7SCo0iDT3kLHpgoTtdLTy49HhFitzXNfE099rY2za5NvrlY0doDlseBF4SlLd8Psf4Uv3eRdh9EthGvPQ4qFtsmrYG6NQvHRNqPRht6fF4oAXpUDpjFCdkgO4aJYMBDsni5Qi43PM5Wono4vZMYEHvNdN4rywo4Sd9uNh2OERKYAQj8GYwmt4kHvNp95sZG4hzIn%2BVR5jGXBux%2BVZpzNPY7kIKiDEwwvPoyQY6pgHsGkrkoZWcDE3USFy7n0WWd487CoYWCIvUzHY4mOk998S59760m2%2FVk%2B0rn%2B0OWHTJ48D8Xu0b%2FXnWa%2Bx%2BueCGwBzLjYcDQgWxTwkQdsFSKvFgqjJ31k05gf%2FzpSc6bQ%2FOHemjsrcXwqymqpqJbW392pZTAaWfMRgRDV7Gpa4dYJaXLlFX3v%2BhDVQ2IUXHMmNFl0tFb41V3zQlswJwXYgeQBRiZv7Q&X-Amz-Signature=bd7d99529b993a20257d9e5303fe461c9bba971b71d208cacd5dc678decb7200&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665NEECKBC%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040654Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIAgen8uKJ6%2F0WXdOaPW6G5n59Kl%2BMkVB%2BiFALXFJZHFbAiAdmB1UEk74VOKmZvFa1zXYGTxQ8bcFQHFwt0GytuVz1SqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMIVB8daAjoCINTtRNKtwDjfUJfHDnZzs0zB8wcT%2B5VObf4PqI3A7q4z07mFMPnxUqJX5ebe%2FEHbP%2Ft5Hy1Ldm9dU646SKKAVIURbbnTf0zMpzQZ0YS00HL0uUnm5oRHorFdEdlLekgGveWnb8hKfMP%2FQWFN%2BaSLW0JB52eMEUHkrYIImJyGKHzw%2FMEWEPWggpCVa3LXmzDAoHRemG%2ByTfgSb45Gx5S46jK4JIZSZAw9PoKDEH1PQK7QADKz66GFmPluk4%2BU9i6MovC1i6dNH14Qxrh9Ab0%2Fn8Zq1hMnwrFIuTbUMRWE41t%2F6AiX%2BuVAOk%2F46yk6MIlXCrOnM1CC%2BPFPFirltAKIiyU62XkPjShSPrOAYgHCaw5dvnBKYBuvkHDDeCxhkeWLDJnL4Ne5Y7ablXcohrDkr%2BgGg9%2BXpp7V4RN9VpGX7SCo0iDT3kLHpgoTtdLTy49HhFitzXNfE099rY2za5NvrlY0doDlseBF4SlLd8Psf4Uv3eRdh9EthGvPQ4qFtsmrYG6NQvHRNqPRht6fF4oAXpUDpjFCdkgO4aJYMBDsni5Qi43PM5Wono4vZMYEHvNdN4rywo4Sd9uNh2OERKYAQj8GYwmt4kHvNp95sZG4hzIn%2BVR5jGXBux%2BVZpzNPY7kIKiDEwwvPoyQY6pgHsGkrkoZWcDE3USFy7n0WWd487CoYWCIvUzHY4mOk998S59760m2%2FVk%2B0rn%2B0OWHTJ48D8Xu0b%2FXnWa%2Bx%2BueCGwBzLjYcDQgWxTwkQdsFSKvFgqjJ31k05gf%2FzpSc6bQ%2FOHemjsrcXwqymqpqJbW392pZTAaWfMRgRDV7Gpa4dYJaXLlFX3v%2BhDVQ2IUXHMmNFl0tFb41V3zQlswJwXYgeQBRiZv7Q&X-Amz-Signature=18b7bbc96ea4a66cc2a2870b808425d79b0f371f128e1668645cc13b7c8f4603&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665NEECKBC%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040654Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIAgen8uKJ6%2F0WXdOaPW6G5n59Kl%2BMkVB%2BiFALXFJZHFbAiAdmB1UEk74VOKmZvFa1zXYGTxQ8bcFQHFwt0GytuVz1SqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMIVB8daAjoCINTtRNKtwDjfUJfHDnZzs0zB8wcT%2B5VObf4PqI3A7q4z07mFMPnxUqJX5ebe%2FEHbP%2Ft5Hy1Ldm9dU646SKKAVIURbbnTf0zMpzQZ0YS00HL0uUnm5oRHorFdEdlLekgGveWnb8hKfMP%2FQWFN%2BaSLW0JB52eMEUHkrYIImJyGKHzw%2FMEWEPWggpCVa3LXmzDAoHRemG%2ByTfgSb45Gx5S46jK4JIZSZAw9PoKDEH1PQK7QADKz66GFmPluk4%2BU9i6MovC1i6dNH14Qxrh9Ab0%2Fn8Zq1hMnwrFIuTbUMRWE41t%2F6AiX%2BuVAOk%2F46yk6MIlXCrOnM1CC%2BPFPFirltAKIiyU62XkPjShSPrOAYgHCaw5dvnBKYBuvkHDDeCxhkeWLDJnL4Ne5Y7ablXcohrDkr%2BgGg9%2BXpp7V4RN9VpGX7SCo0iDT3kLHpgoTtdLTy49HhFitzXNfE099rY2za5NvrlY0doDlseBF4SlLd8Psf4Uv3eRdh9EthGvPQ4qFtsmrYG6NQvHRNqPRht6fF4oAXpUDpjFCdkgO4aJYMBDsni5Qi43PM5Wono4vZMYEHvNdN4rywo4Sd9uNh2OERKYAQj8GYwmt4kHvNp95sZG4hzIn%2BVR5jGXBux%2BVZpzNPY7kIKiDEwwvPoyQY6pgHsGkrkoZWcDE3USFy7n0WWd487CoYWCIvUzHY4mOk998S59760m2%2FVk%2B0rn%2B0OWHTJ48D8Xu0b%2FXnWa%2Bx%2BueCGwBzLjYcDQgWxTwkQdsFSKvFgqjJ31k05gf%2FzpSc6bQ%2FOHemjsrcXwqymqpqJbW392pZTAaWfMRgRDV7Gpa4dYJaXLlFX3v%2BhDVQ2IUXHMmNFl0tFb41V3zQlswJwXYgeQBRiZv7Q&X-Amz-Signature=d5b8e4877e438f44ef94fad16764fa745f2359cbc879cf8b037a4fc3bc9f0133&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665NEECKBC%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040654Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIAgen8uKJ6%2F0WXdOaPW6G5n59Kl%2BMkVB%2BiFALXFJZHFbAiAdmB1UEk74VOKmZvFa1zXYGTxQ8bcFQHFwt0GytuVz1SqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMIVB8daAjoCINTtRNKtwDjfUJfHDnZzs0zB8wcT%2B5VObf4PqI3A7q4z07mFMPnxUqJX5ebe%2FEHbP%2Ft5Hy1Ldm9dU646SKKAVIURbbnTf0zMpzQZ0YS00HL0uUnm5oRHorFdEdlLekgGveWnb8hKfMP%2FQWFN%2BaSLW0JB52eMEUHkrYIImJyGKHzw%2FMEWEPWggpCVa3LXmzDAoHRemG%2ByTfgSb45Gx5S46jK4JIZSZAw9PoKDEH1PQK7QADKz66GFmPluk4%2BU9i6MovC1i6dNH14Qxrh9Ab0%2Fn8Zq1hMnwrFIuTbUMRWE41t%2F6AiX%2BuVAOk%2F46yk6MIlXCrOnM1CC%2BPFPFirltAKIiyU62XkPjShSPrOAYgHCaw5dvnBKYBuvkHDDeCxhkeWLDJnL4Ne5Y7ablXcohrDkr%2BgGg9%2BXpp7V4RN9VpGX7SCo0iDT3kLHpgoTtdLTy49HhFitzXNfE099rY2za5NvrlY0doDlseBF4SlLd8Psf4Uv3eRdh9EthGvPQ4qFtsmrYG6NQvHRNqPRht6fF4oAXpUDpjFCdkgO4aJYMBDsni5Qi43PM5Wono4vZMYEHvNdN4rywo4Sd9uNh2OERKYAQj8GYwmt4kHvNp95sZG4hzIn%2BVR5jGXBux%2BVZpzNPY7kIKiDEwwvPoyQY6pgHsGkrkoZWcDE3USFy7n0WWd487CoYWCIvUzHY4mOk998S59760m2%2FVk%2B0rn%2B0OWHTJ48D8Xu0b%2FXnWa%2Bx%2BueCGwBzLjYcDQgWxTwkQdsFSKvFgqjJ31k05gf%2FzpSc6bQ%2FOHemjsrcXwqymqpqJbW392pZTAaWfMRgRDV7Gpa4dYJaXLlFX3v%2BhDVQ2IUXHMmNFl0tFb41V3zQlswJwXYgeQBRiZv7Q&X-Amz-Signature=0dec85876d40e0d6cd5d3adde58b319f05786a8b0a747f5281b19761bd06156a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QFAVRPU6%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040655Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQD%2BsOVU2h09sT993ExyKnatIDbr10dVtRCedVJw%2Fv0ASgIhANrjfdofGE6Wab%2F42GFnw8lXiil9HCc3BlHnt%2F6hMrWWKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzrYUIgjmjdqXoYoD8q3ANLQ%2B9Y0%2FTeqSwC8%2BfWbcybA8Ygo7NDqfvV6ajWqkEhBkZnj7VLaWmhtbVMNHkGQCJTP2OqXezmI7zyRQacV30OEXhGfvQfKlaAV2I1K8NNsnRO42Bt8UuCQDMKfK%2FVe10wBlYaNz6xI81Qd0wECW2g%2FwP4aR%2FjA6xtgEWEOSBdwHsMNqJxYy1bcuGtn7P8ZVs6OoyuTr40rlOvSiHYMGND4qN3GdjCH8WNE%2FjNylAqWZFkKGuSV97Qy2CreKAF8PQthdhg66xXHi84%2FtLR56ShLbqabB6lE85qD97OIwyNKAeJbED8juqAWh719hvCSnTlM3IkoHm13JhhtgZ%2BOMB7oZkr%2FrH2sr5x5IeFG3iRrGMuwzg1cK5jaduPqv79YEfvVHf%2Fd33HiPuyLJU1LZjgaLo63ZsZYUsuX5WywFJnNxfNMModc7PjRCM9PPnYJ11XYPIJ9XnBHx8T7hpQK5yvsaofQwQHzlPt1OKFW2L72G4%2BCpCzhDgIewAO91YHB%2B4hTpeERH%2B%2F0q7QRRgpn8g7EtFXz5McRFtQiCxmnUgjLNgOfFeXGnH1EAjfkXsA40R7CDu%2BPr0VkFY7e%2BPfFw%2BRLiin5QVlFBnsKxnb%2F%2FBGeMmkUtZICdXY0dLfvDDT8%2BjJBjqkASzT1ANc78cIrD%2BoCvfH%2F5Z%2BRHOH70N781rhKCswK6aUgrI7ZG1FPdTcIr4wjoaEGWW9s58CU2gvpM9pv5yhlZ6u2J4wqDkALW2z%2Bt5U8PO%2FL2w0zOhtFvU29joxz8Qj0U9L%2FxBHeM432xLtZ4y2IZcNOZgq7uaAeVOfZ2eGfW9Vn%2B3eQTB%2FvL6Wn1xLi3GB8W32wT8ljhDWh6il%2BaoRBa9zWRiI&X-Amz-Signature=9aa26fc935bc68539ec92fcc379668278d33713185ec9ff2f26edbe778fbfdff&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QFAVRPU6%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040655Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQD%2BsOVU2h09sT993ExyKnatIDbr10dVtRCedVJw%2Fv0ASgIhANrjfdofGE6Wab%2F42GFnw8lXiil9HCc3BlHnt%2F6hMrWWKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzrYUIgjmjdqXoYoD8q3ANLQ%2B9Y0%2FTeqSwC8%2BfWbcybA8Ygo7NDqfvV6ajWqkEhBkZnj7VLaWmhtbVMNHkGQCJTP2OqXezmI7zyRQacV30OEXhGfvQfKlaAV2I1K8NNsnRO42Bt8UuCQDMKfK%2FVe10wBlYaNz6xI81Qd0wECW2g%2FwP4aR%2FjA6xtgEWEOSBdwHsMNqJxYy1bcuGtn7P8ZVs6OoyuTr40rlOvSiHYMGND4qN3GdjCH8WNE%2FjNylAqWZFkKGuSV97Qy2CreKAF8PQthdhg66xXHi84%2FtLR56ShLbqabB6lE85qD97OIwyNKAeJbED8juqAWh719hvCSnTlM3IkoHm13JhhtgZ%2BOMB7oZkr%2FrH2sr5x5IeFG3iRrGMuwzg1cK5jaduPqv79YEfvVHf%2Fd33HiPuyLJU1LZjgaLo63ZsZYUsuX5WywFJnNxfNMModc7PjRCM9PPnYJ11XYPIJ9XnBHx8T7hpQK5yvsaofQwQHzlPt1OKFW2L72G4%2BCpCzhDgIewAO91YHB%2B4hTpeERH%2B%2F0q7QRRgpn8g7EtFXz5McRFtQiCxmnUgjLNgOfFeXGnH1EAjfkXsA40R7CDu%2BPr0VkFY7e%2BPfFw%2BRLiin5QVlFBnsKxnb%2F%2FBGeMmkUtZICdXY0dLfvDDT8%2BjJBjqkASzT1ANc78cIrD%2BoCvfH%2F5Z%2BRHOH70N781rhKCswK6aUgrI7ZG1FPdTcIr4wjoaEGWW9s58CU2gvpM9pv5yhlZ6u2J4wqDkALW2z%2Bt5U8PO%2FL2w0zOhtFvU29joxz8Qj0U9L%2FxBHeM432xLtZ4y2IZcNOZgq7uaAeVOfZ2eGfW9Vn%2B3eQTB%2FvL6Wn1xLi3GB8W32wT8ljhDWh6il%2BaoRBa9zWRiI&X-Amz-Signature=db73b2014ff37bc2ed0eaebc70e2f50779ffc9e5d1196c1d0139ac5c23114770&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QFAVRPU6%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040655Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQD%2BsOVU2h09sT993ExyKnatIDbr10dVtRCedVJw%2Fv0ASgIhANrjfdofGE6Wab%2F42GFnw8lXiil9HCc3BlHnt%2F6hMrWWKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzrYUIgjmjdqXoYoD8q3ANLQ%2B9Y0%2FTeqSwC8%2BfWbcybA8Ygo7NDqfvV6ajWqkEhBkZnj7VLaWmhtbVMNHkGQCJTP2OqXezmI7zyRQacV30OEXhGfvQfKlaAV2I1K8NNsnRO42Bt8UuCQDMKfK%2FVe10wBlYaNz6xI81Qd0wECW2g%2FwP4aR%2FjA6xtgEWEOSBdwHsMNqJxYy1bcuGtn7P8ZVs6OoyuTr40rlOvSiHYMGND4qN3GdjCH8WNE%2FjNylAqWZFkKGuSV97Qy2CreKAF8PQthdhg66xXHi84%2FtLR56ShLbqabB6lE85qD97OIwyNKAeJbED8juqAWh719hvCSnTlM3IkoHm13JhhtgZ%2BOMB7oZkr%2FrH2sr5x5IeFG3iRrGMuwzg1cK5jaduPqv79YEfvVHf%2Fd33HiPuyLJU1LZjgaLo63ZsZYUsuX5WywFJnNxfNMModc7PjRCM9PPnYJ11XYPIJ9XnBHx8T7hpQK5yvsaofQwQHzlPt1OKFW2L72G4%2BCpCzhDgIewAO91YHB%2B4hTpeERH%2B%2F0q7QRRgpn8g7EtFXz5McRFtQiCxmnUgjLNgOfFeXGnH1EAjfkXsA40R7CDu%2BPr0VkFY7e%2BPfFw%2BRLiin5QVlFBnsKxnb%2F%2FBGeMmkUtZICdXY0dLfvDDT8%2BjJBjqkASzT1ANc78cIrD%2BoCvfH%2F5Z%2BRHOH70N781rhKCswK6aUgrI7ZG1FPdTcIr4wjoaEGWW9s58CU2gvpM9pv5yhlZ6u2J4wqDkALW2z%2Bt5U8PO%2FL2w0zOhtFvU29joxz8Qj0U9L%2FxBHeM432xLtZ4y2IZcNOZgq7uaAeVOfZ2eGfW9Vn%2B3eQTB%2FvL6Wn1xLi3GB8W32wT8ljhDWh6il%2BaoRBa9zWRiI&X-Amz-Signature=5da0f442cc6c55108d83e6409e191f93e510a122ee24bfd3a8c088f61665a009&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QFAVRPU6%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040655Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQD%2BsOVU2h09sT993ExyKnatIDbr10dVtRCedVJw%2Fv0ASgIhANrjfdofGE6Wab%2F42GFnw8lXiil9HCc3BlHnt%2F6hMrWWKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzrYUIgjmjdqXoYoD8q3ANLQ%2B9Y0%2FTeqSwC8%2BfWbcybA8Ygo7NDqfvV6ajWqkEhBkZnj7VLaWmhtbVMNHkGQCJTP2OqXezmI7zyRQacV30OEXhGfvQfKlaAV2I1K8NNsnRO42Bt8UuCQDMKfK%2FVe10wBlYaNz6xI81Qd0wECW2g%2FwP4aR%2FjA6xtgEWEOSBdwHsMNqJxYy1bcuGtn7P8ZVs6OoyuTr40rlOvSiHYMGND4qN3GdjCH8WNE%2FjNylAqWZFkKGuSV97Qy2CreKAF8PQthdhg66xXHi84%2FtLR56ShLbqabB6lE85qD97OIwyNKAeJbED8juqAWh719hvCSnTlM3IkoHm13JhhtgZ%2BOMB7oZkr%2FrH2sr5x5IeFG3iRrGMuwzg1cK5jaduPqv79YEfvVHf%2Fd33HiPuyLJU1LZjgaLo63ZsZYUsuX5WywFJnNxfNMModc7PjRCM9PPnYJ11XYPIJ9XnBHx8T7hpQK5yvsaofQwQHzlPt1OKFW2L72G4%2BCpCzhDgIewAO91YHB%2B4hTpeERH%2B%2F0q7QRRgpn8g7EtFXz5McRFtQiCxmnUgjLNgOfFeXGnH1EAjfkXsA40R7CDu%2BPr0VkFY7e%2BPfFw%2BRLiin5QVlFBnsKxnb%2F%2FBGeMmkUtZICdXY0dLfvDDT8%2BjJBjqkASzT1ANc78cIrD%2BoCvfH%2F5Z%2BRHOH70N781rhKCswK6aUgrI7ZG1FPdTcIr4wjoaEGWW9s58CU2gvpM9pv5yhlZ6u2J4wqDkALW2z%2Bt5U8PO%2FL2w0zOhtFvU29joxz8Qj0U9L%2FxBHeM432xLtZ4y2IZcNOZgq7uaAeVOfZ2eGfW9Vn%2B3eQTB%2FvL6Wn1xLi3GB8W32wT8ljhDWh6il%2BaoRBa9zWRiI&X-Amz-Signature=f144e31cddc20a4cd2300a6d20ab4e42d42c428397ea3fe2bc73c794c742e71e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKIBRPRW%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040656Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQCKc5cd8joweZWzYpRfny%2FJ7uY%2BNvlsxd%2BmKm6kd64r%2FgIgckGPk%2FGtuOXiDhjFg7rq9ji8FN1aHLbyQ%2F2%2BYkFZ368qiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDQif7hqBOW9ThSwfyrcAybFiC%2BTZpwPiI9rbFRx0GRWp6dopYTxQsUb65sDQpJjpMU6uOX5cgbgCFqy9ctRrMhsNPkqVMdBM1CAu3L1QREs9Wph1Je8gFwjpqRvAAWXKW2NuYBHYenmMmGj6SoWOSvmWat8SXQMwTTeqxE4Ca02g6WReSPRm0%2BxfZW77WDztrC4dhXXWdyUjsQ%2FSNIDPZoni7gNng3c0WZh6GNAev9B0SHCoJwu4sdY1EvhB191u7jpZhG5x4pEXAIGBqY%2FaS2EUodIGcHVdppg%2BNTPJ4Pi6zbpnTQ0maYTQ3egYQkPe86OMbYllQXWvGaI4eiRFwiXN2Wkmb2FSfNXJGbOJ59GO2%2BHiQ9SDZ%2FVooqwPxfWfq7DdjnSx4BJsCAKfQyQKYJhPx1VWAIWRf9sZVR6zYQ14jC4MhKqqjh9alEohlPpY4H1qOTY0CED0zI1%2FjDPcvapMoJDI3Gg1BMAe2IOol%2BZ1QS87ZzN7OK19t2824E3x1lJXJyuRX3fHYyNy4XKBt9n8rYvM55agbjEXYlIKUNxlzvtlpiKxxXUv%2FWO14nbfjHaYHPA0hNgJbioTogHcK2hZUHlK7ZhZpGjMt1rQ01SEJhNy8Ujnlh%2BpU7hxF7W2UmFPbR5glb1%2FwhHMM3z6MkGOqUBhDuDKMu6XDLgg3InQfL0HZqPuo%2Bn0wvi%2Fiw71YrzX2L9j0UC%2BbGhaC7znFXiE8xjwrZGvy9x03VcjiM5H0P8w43%2BdWJMMgSznsIew60SOqcX9VJn28rYYDgWcRYVztDUMLXgjQ00Wm6HnfvUSBFa2w6hnZNttVKHCPF7UwQoRA56%2F7FnfZmz2dcEqfeSrFGswFHD%2Fc7aTvyCdYN6emNnSRekDI%2Fw&X-Amz-Signature=aff53705e9ed8f235dcace9b451f5ca0539cbeb5e89c5fe50e3cd3e1c21482d3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKIBRPRW%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040656Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQCKc5cd8joweZWzYpRfny%2FJ7uY%2BNvlsxd%2BmKm6kd64r%2FgIgckGPk%2FGtuOXiDhjFg7rq9ji8FN1aHLbyQ%2F2%2BYkFZ368qiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDQif7hqBOW9ThSwfyrcAybFiC%2BTZpwPiI9rbFRx0GRWp6dopYTxQsUb65sDQpJjpMU6uOX5cgbgCFqy9ctRrMhsNPkqVMdBM1CAu3L1QREs9Wph1Je8gFwjpqRvAAWXKW2NuYBHYenmMmGj6SoWOSvmWat8SXQMwTTeqxE4Ca02g6WReSPRm0%2BxfZW77WDztrC4dhXXWdyUjsQ%2FSNIDPZoni7gNng3c0WZh6GNAev9B0SHCoJwu4sdY1EvhB191u7jpZhG5x4pEXAIGBqY%2FaS2EUodIGcHVdppg%2BNTPJ4Pi6zbpnTQ0maYTQ3egYQkPe86OMbYllQXWvGaI4eiRFwiXN2Wkmb2FSfNXJGbOJ59GO2%2BHiQ9SDZ%2FVooqwPxfWfq7DdjnSx4BJsCAKfQyQKYJhPx1VWAIWRf9sZVR6zYQ14jC4MhKqqjh9alEohlPpY4H1qOTY0CED0zI1%2FjDPcvapMoJDI3Gg1BMAe2IOol%2BZ1QS87ZzN7OK19t2824E3x1lJXJyuRX3fHYyNy4XKBt9n8rYvM55agbjEXYlIKUNxlzvtlpiKxxXUv%2FWO14nbfjHaYHPA0hNgJbioTogHcK2hZUHlK7ZhZpGjMt1rQ01SEJhNy8Ujnlh%2BpU7hxF7W2UmFPbR5glb1%2FwhHMM3z6MkGOqUBhDuDKMu6XDLgg3InQfL0HZqPuo%2Bn0wvi%2Fiw71YrzX2L9j0UC%2BbGhaC7znFXiE8xjwrZGvy9x03VcjiM5H0P8w43%2BdWJMMgSznsIew60SOqcX9VJn28rYYDgWcRYVztDUMLXgjQ00Wm6HnfvUSBFa2w6hnZNttVKHCPF7UwQoRA56%2F7FnfZmz2dcEqfeSrFGswFHD%2Fc7aTvyCdYN6emNnSRekDI%2Fw&X-Amz-Signature=9e0d7212e786dd9780631a81fc35aee2e9b4118957373b66eebda2342ec8478f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKIBRPRW%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040657Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQCKc5cd8joweZWzYpRfny%2FJ7uY%2BNvlsxd%2BmKm6kd64r%2FgIgckGPk%2FGtuOXiDhjFg7rq9ji8FN1aHLbyQ%2F2%2BYkFZ368qiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDQif7hqBOW9ThSwfyrcAybFiC%2BTZpwPiI9rbFRx0GRWp6dopYTxQsUb65sDQpJjpMU6uOX5cgbgCFqy9ctRrMhsNPkqVMdBM1CAu3L1QREs9Wph1Je8gFwjpqRvAAWXKW2NuYBHYenmMmGj6SoWOSvmWat8SXQMwTTeqxE4Ca02g6WReSPRm0%2BxfZW77WDztrC4dhXXWdyUjsQ%2FSNIDPZoni7gNng3c0WZh6GNAev9B0SHCoJwu4sdY1EvhB191u7jpZhG5x4pEXAIGBqY%2FaS2EUodIGcHVdppg%2BNTPJ4Pi6zbpnTQ0maYTQ3egYQkPe86OMbYllQXWvGaI4eiRFwiXN2Wkmb2FSfNXJGbOJ59GO2%2BHiQ9SDZ%2FVooqwPxfWfq7DdjnSx4BJsCAKfQyQKYJhPx1VWAIWRf9sZVR6zYQ14jC4MhKqqjh9alEohlPpY4H1qOTY0CED0zI1%2FjDPcvapMoJDI3Gg1BMAe2IOol%2BZ1QS87ZzN7OK19t2824E3x1lJXJyuRX3fHYyNy4XKBt9n8rYvM55agbjEXYlIKUNxlzvtlpiKxxXUv%2FWO14nbfjHaYHPA0hNgJbioTogHcK2hZUHlK7ZhZpGjMt1rQ01SEJhNy8Ujnlh%2BpU7hxF7W2UmFPbR5glb1%2FwhHMM3z6MkGOqUBhDuDKMu6XDLgg3InQfL0HZqPuo%2Bn0wvi%2Fiw71YrzX2L9j0UC%2BbGhaC7znFXiE8xjwrZGvy9x03VcjiM5H0P8w43%2BdWJMMgSznsIew60SOqcX9VJn28rYYDgWcRYVztDUMLXgjQ00Wm6HnfvUSBFa2w6hnZNttVKHCPF7UwQoRA56%2F7FnfZmz2dcEqfeSrFGswFHD%2Fc7aTvyCdYN6emNnSRekDI%2Fw&X-Amz-Signature=8217c47641d2db78ffbd7894071615d06b0e143746bcbc4a3c59b2bc9c2ef3d4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665XH2J4OT%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040657Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQChlx3V55aUv18X6ZbiTZnpEeOwds6XPYT1iYXgQJN1dQIgBgzOxzG2BRwitH8ZH%2Bm1CYcw9NcDlCVoGw8ncWfloj4qiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDLMLoy87YHIgfDQ%2FyrcA2NNgDU6U7dyARIfONe07E5u2YXmb8hSsv05IEARY25iwLW5a2W4durSoKYCSzOExu5las9faNMbWLwfJbZnKvDcm2LKE0cD2u6EdtQmz9R2ekSHs4mZijAZaNfbWrIgcRhKECwAA%2FfenXVNkedOFAl6Q5zhLwwlWJOC7tjsLoZxQ8MR5WKqPqmTY%2F1DKYPcIaz8VvRkupR%2BEFxa57XgKj8Mj3%2FplRlpbEpi%2FvHd0rZRbYfDoD1dJgri%2BWLl0KYYCJgD5Ubh9LakzqSDVb5uXsYL2AjyBzEJtaFRIzRgt1w0RyekGBDUB86HzCEbxjTM08b22TNK7tQuE9ngMX7wy66vK7sCQg21c9oKDLsOkX1tYZ5oJZK%2Bf888jw8kntG5rCtukoac0f8dAJPtG4p6GLfIOwfo7Arwh1cI2387ZfHfKs30PPY2sWyLUmF95PJU8eTOc38ehkjb7ue%2FFO40loawzlT47i0gsw%2FkKzy6AByoF6D6VgLZbHyRo1a99Paz5QUBB4%2Bia%2Bpb2p1FLK%2Fgo%2Bf2%2FzqmHYh%2F0u9L7gXx6OOXGKjXQnUCAkmZlYPBqRAG1w2AsbAx1P7htn6Qr80Qbp4cXQME0lx3QGTDz5eHM1L40%2FaKjP%2BZDn2TScgaML%2F06MkGOqUBXS3J33UESFK2%2FFPIn2DjIPRJNWuqCntQUSc298wfAGXiSHH3TvgJThgwa4%2FVE7i509qY9%2Ftz8fXykEm3YzRnPtlLhjWhjXfV04clIQe3QdL25HqLK7KWUQXoC8ts%2BNrI19iDTnEcv0h%2F4ff3Pt4rK%2BWir1%2Fz6llQf4B94Aw%2FKnnOwrmjCYGp0hLG1o1dHrQ33Z1LaKOkWA7qf9u%2Fi6pcyiDe3d%2B7&X-Amz-Signature=5e421984d73b6cad6fd9fb72e37cd1d9fc9b160e4ccf189e6fdf1d2a00e93734&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665XH2J4OT%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040657Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQChlx3V55aUv18X6ZbiTZnpEeOwds6XPYT1iYXgQJN1dQIgBgzOxzG2BRwitH8ZH%2Bm1CYcw9NcDlCVoGw8ncWfloj4qiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDLMLoy87YHIgfDQ%2FyrcA2NNgDU6U7dyARIfONe07E5u2YXmb8hSsv05IEARY25iwLW5a2W4durSoKYCSzOExu5las9faNMbWLwfJbZnKvDcm2LKE0cD2u6EdtQmz9R2ekSHs4mZijAZaNfbWrIgcRhKECwAA%2FfenXVNkedOFAl6Q5zhLwwlWJOC7tjsLoZxQ8MR5WKqPqmTY%2F1DKYPcIaz8VvRkupR%2BEFxa57XgKj8Mj3%2FplRlpbEpi%2FvHd0rZRbYfDoD1dJgri%2BWLl0KYYCJgD5Ubh9LakzqSDVb5uXsYL2AjyBzEJtaFRIzRgt1w0RyekGBDUB86HzCEbxjTM08b22TNK7tQuE9ngMX7wy66vK7sCQg21c9oKDLsOkX1tYZ5oJZK%2Bf888jw8kntG5rCtukoac0f8dAJPtG4p6GLfIOwfo7Arwh1cI2387ZfHfKs30PPY2sWyLUmF95PJU8eTOc38ehkjb7ue%2FFO40loawzlT47i0gsw%2FkKzy6AByoF6D6VgLZbHyRo1a99Paz5QUBB4%2Bia%2Bpb2p1FLK%2Fgo%2Bf2%2FzqmHYh%2F0u9L7gXx6OOXGKjXQnUCAkmZlYPBqRAG1w2AsbAx1P7htn6Qr80Qbp4cXQME0lx3QGTDz5eHM1L40%2FaKjP%2BZDn2TScgaML%2F06MkGOqUBXS3J33UESFK2%2FFPIn2DjIPRJNWuqCntQUSc298wfAGXiSHH3TvgJThgwa4%2FVE7i509qY9%2Ftz8fXykEm3YzRnPtlLhjWhjXfV04clIQe3QdL25HqLK7KWUQXoC8ts%2BNrI19iDTnEcv0h%2F4ff3Pt4rK%2BWir1%2Fz6llQf4B94Aw%2FKnnOwrmjCYGp0hLG1o1dHrQ33Z1LaKOkWA7qf9u%2Fi6pcyiDe3d%2B7&X-Amz-Signature=6c0bba03b00c16cc75c466b35feaea615c470105368b84645fce168d70cf30c2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663YVGJVBH%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040658Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIFpmD5ZWD52A9NnMSJ4mW6RU6rVGTCLQxZSzsSvcEw5aAiBtc%2FsABLZANTmRi5xmcMhkT03ejRPVGfnMvl8hwdKrwCqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM1%2B%2BsjQihDMaxznERKtwDA%2BgMDznNc8VuFmao8HZGNIirdAAeRGiptKcWY43Ikd%2B2DEz5NkiOQRzfYFYLsxm0j061xO0kY7ggltCPcEAbtELdUn3KVNMegUQGb%2Bin9xzWN1CpSwe%2BtfuhixyoqcQoD3%2FDYjgtI3p08lZ5xMLv5Q6EuFNmg2Rjk%2F3VIv%2BxDxU6vdatBvs%2FvRD2wgVsrsRXKzV5Sn31ON6ADfMopzvkzvUDKkNSS4SuxFfoqdrROP%2B%2BLw7SaGsv4NtljCqj3r3qZhjNQgV0hk%2B3BqkjGmiFPoaP%2BfLojfCH3yV%2F7leP9UJXmUQ0cBEbMwLnd%2FC1T293RlOWK9xV7QNZJQ6mjpZkPqjXkgWkt9LpPsvcFrjZL8MDh77J9Y5P05ohj4b6AQZu3A7%2BBeNZJDkKdA8vagrKznVSKbcnAlA4D6DgQd%2FF0wrW9Ps6nLlHWA73Xu7GZhXja4aTVlCE8y4dwzvasOHxClG3C3sVH8HRngmB0Jav5hl0%2BjKNQBw7dcjfwYqNkXTETB%2BFjwm6IFQo1sTmIYivaEfesOPbw7GR1%2FnFJgVPwa1EBV0EaqCUxOWxzE3Bo%2B9QJSJrpXUnq7C%2FiKyKmZZ%2Fw41fV6vSJn1lnz0OFI0p8eiM2AP0l%2FxOK7BN8IEws%2FPoyQY6pgHjHN5zRqaBWKQMRLLaxqcOcTG64pbCM6yg0T4Yh3ZZ4jawQQeS87mNmoj0QdJ5QgzquuhP%2BLDLSE%2F%2B4GpI9A4vBhviZHjxPfp%2B9%2BlyTElvmjaHUGl5K%2BfN8eJcQKf%2BDfhj9%2FBD3Fh5Wx8jEN8BlbIRpL5BSR86LyUNs%2BoFdqoFKGA%2FccHkGk9dKJAbbNb94ShCL6hwAbZjcWMCsUJxpOVJRbFy2XLE&X-Amz-Signature=47447eee13a206dac90bab5f6655ffecc55f696f69b9e06a8cc20cb46a6c6117&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663YVGJVBH%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040658Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIFpmD5ZWD52A9NnMSJ4mW6RU6rVGTCLQxZSzsSvcEw5aAiBtc%2FsABLZANTmRi5xmcMhkT03ejRPVGfnMvl8hwdKrwCqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM1%2B%2BsjQihDMaxznERKtwDA%2BgMDznNc8VuFmao8HZGNIirdAAeRGiptKcWY43Ikd%2B2DEz5NkiOQRzfYFYLsxm0j061xO0kY7ggltCPcEAbtELdUn3KVNMegUQGb%2Bin9xzWN1CpSwe%2BtfuhixyoqcQoD3%2FDYjgtI3p08lZ5xMLv5Q6EuFNmg2Rjk%2F3VIv%2BxDxU6vdatBvs%2FvRD2wgVsrsRXKzV5Sn31ON6ADfMopzvkzvUDKkNSS4SuxFfoqdrROP%2B%2BLw7SaGsv4NtljCqj3r3qZhjNQgV0hk%2B3BqkjGmiFPoaP%2BfLojfCH3yV%2F7leP9UJXmUQ0cBEbMwLnd%2FC1T293RlOWK9xV7QNZJQ6mjpZkPqjXkgWkt9LpPsvcFrjZL8MDh77J9Y5P05ohj4b6AQZu3A7%2BBeNZJDkKdA8vagrKznVSKbcnAlA4D6DgQd%2FF0wrW9Ps6nLlHWA73Xu7GZhXja4aTVlCE8y4dwzvasOHxClG3C3sVH8HRngmB0Jav5hl0%2BjKNQBw7dcjfwYqNkXTETB%2BFjwm6IFQo1sTmIYivaEfesOPbw7GR1%2FnFJgVPwa1EBV0EaqCUxOWxzE3Bo%2B9QJSJrpXUnq7C%2FiKyKmZZ%2Fw41fV6vSJn1lnz0OFI0p8eiM2AP0l%2FxOK7BN8IEws%2FPoyQY6pgHjHN5zRqaBWKQMRLLaxqcOcTG64pbCM6yg0T4Yh3ZZ4jawQQeS87mNmoj0QdJ5QgzquuhP%2BLDLSE%2F%2B4GpI9A4vBhviZHjxPfp%2B9%2BlyTElvmjaHUGl5K%2BfN8eJcQKf%2BDfhj9%2FBD3Fh5Wx8jEN8BlbIRpL5BSR86LyUNs%2BoFdqoFKGA%2FccHkGk9dKJAbbNb94ShCL6hwAbZjcWMCsUJxpOVJRbFy2XLE&X-Amz-Signature=e2db04ae799f20d5572d91bcc109b0345409afecabe7023552ec0a674223ffd0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WZGIT2BA%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T040700Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQCSEMvU1c4tTj2QoqsOKW52AYvyA%2FsRUzCe8fi06lXSjwIhAO%2BR6VGBLaSxljOFa%2BlLXLD0TY%2BFJRpPVBvvMIOAuqkNKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzHNKMSxuM8xszdayoq3AMWETT2fmCwvtKLvZs2hhzgvpcu5t362TjbCzviYHPM7O16za7VaFJAyk35%2Bu73YUUJv4OAnyCfglsy86WlXPoxXnvR7MJHFY9oMw2Ez5waSPy0%2FQm5dy%2FSC6E7dq9dxQf2uBnZ5enBiYtT6YC0A%2FauKNfH3z7VU%2BA9Fq3ioVJBcsOIGD6ZkCJhvtTA5IjN0Z72J1dYBTAhcGaLpHm1WkM8jC7FRgmm1AuBIeLsOEsexPr6Dmg4Ld%2FJZtIt8aifCof0ZyKbZrGfGmXDZEtZHr5Fc8IIVSqLKEyib0bFgjavTETT7gJ6m0VGJeQBdfYtJV1ge7klSHxaPStzYwbNUPwoSUoqcnpdif6H7vxmbO7CZYYLZ%2F%2BZfyOTb2QsDR00HKlEzOYTMDxaAQnA1T6%2F%2BRLk48cBuuZYSywVIxSWjbNmvWGHEbr3xVsoMGk%2BKoZE9IfQ0nqc73UxmMqvFc9%2BTMUYQoklHXnjZNB2YciMBwGhqyYa6lB5PGG4JEDS7JPPgykIdJ%2FAXgCGfYluC%2BbsHlfY5oB6LsvFFmaKEJDkKFkfOwxoxIzpL778JfpBh%2BruZmYs6SgPQPBbkHgbfZFp12b58HKyrCCw56kIMyAUnPmdKooVkD4CoKC2yPV1rDDE9OjJBjqkAX1QyZrE%2Fh9C%2BWxqnsw6DlS3vwxAhCy9Rax2qjzBwrd%2FQc5EI%2Bb8oRSPpzQVb%2ByMMP6mfNZIPCxyY3K84Hvx%2FNx0Fju3ICC9F8bdSA4B4oup421oSKFJGm0AjwHi8tF0FnvHLhbwpPN%2FGc4ZcpOLkHDOYGFhnjieCEKxRKLI2M%2Fc5vmyfH9gwL%2BbODR7ba9Rik69F4a1or9Ps3XyIRojlKVNO0De&X-Amz-Signature=516f978dd624e49f2042ecb403e542682f960286983558cc1fa213bfa1b39ab0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
