
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667YB7ZCLX%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041346Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIFsvxXAgZIoD9B4X2NlK5EvhmwoqFBEQewt%2B59B%2FPDsVAiAZHy%2BgZrLU84jEjA1h%2BsVtgLX%2F4ruAuiC7%2BD7DG6%2FqnSr%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIM88Qu5luDFHh1YhQ9KtwDo2Pbl0ks5Ad%2FS38z8CxPIIc0NvMIUnm%2Bj7TQpqBxAOvffSWdvt74%2BpOch5XT9F11evwgvfGC6sq%2FSaSLIjeDTozNXfkjc1p%2F0DHYA98bRglOqX0%2BMSTdcj1igJ%2BzVRzHu67lNqsrIPwL4eISswvfrq%2FmRKG6hK%2FguCxed%2BGhIheiBqnKel7v84A%2BZCXmyT7juICUHesTtoAKUXQM5PPEpynJhaRi2%2BcW7jUlipaasgeHZGyXcA%2BwoKxicgUe8Zjv%2BeOWtJQ6Azcpvkg%2BdLa28H4zWKMtinKFjMVzulPNVCbVb%2B7LZIys6o3GwZ%2Fxh3AOBsU2RMQd5RtThAx68kpGziJ6Zzu%2FDOz4Ju%2B41hiEm%2FVB5EGUtXMhQ3Z2D%2B2iedGf%2FLbUUl9j0hkoABblgqA%2BgRE%2F8HE7XbFXRYrD%2FOVnjgWFx1ct36hZ8NbkDKUPPh4rTdoNj8CYwmiZUWzKMLGNoK8hesJn8bm5DdaPSasn7jtq4mQ%2FfdF84M5%2FRk0BysY1sjWJpeup3qfs851jRlzgo97l%2BDdDUkXUdBZzEZyIlpBDBtYEjZYutkWi6euB61ZU%2BhJVe8XXMS0FZnOkaC%2BhjF2Tp9iPvKtpCLKj2E942c%2BWyBqUiKvlRMcFx88wt4z%2ByQY6pgHSwZ%2Bt4rB9xAe2rVWNkARFrWeMfcNCxCT2OVLq9VWdG79KhN8ZI5DLJaLPvBQgEpohkMbhVg4Vqj8yifn%2B2ZXPjA4ylKFMZEBAGynYjflWNGMM6ET%2Fe5l0%2BhSnrAL6G1Wn2ZVFR6D5cLcapx8kULvXjXq8E%2FiAXLmrI8tqYGSKJBxL4NytDNxX6lV9%2Bf4nEfy1N7eAd%2B270TqIvtROlfn08wwgoeJD&X-Amz-Signature=f4c2a48c3ce82443a2348821432176fbacf2845e6df4c279d18f31f7a19bf355&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667YB7ZCLX%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041346Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIFsvxXAgZIoD9B4X2NlK5EvhmwoqFBEQewt%2B59B%2FPDsVAiAZHy%2BgZrLU84jEjA1h%2BsVtgLX%2F4ruAuiC7%2BD7DG6%2FqnSr%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIM88Qu5luDFHh1YhQ9KtwDo2Pbl0ks5Ad%2FS38z8CxPIIc0NvMIUnm%2Bj7TQpqBxAOvffSWdvt74%2BpOch5XT9F11evwgvfGC6sq%2FSaSLIjeDTozNXfkjc1p%2F0DHYA98bRglOqX0%2BMSTdcj1igJ%2BzVRzHu67lNqsrIPwL4eISswvfrq%2FmRKG6hK%2FguCxed%2BGhIheiBqnKel7v84A%2BZCXmyT7juICUHesTtoAKUXQM5PPEpynJhaRi2%2BcW7jUlipaasgeHZGyXcA%2BwoKxicgUe8Zjv%2BeOWtJQ6Azcpvkg%2BdLa28H4zWKMtinKFjMVzulPNVCbVb%2B7LZIys6o3GwZ%2Fxh3AOBsU2RMQd5RtThAx68kpGziJ6Zzu%2FDOz4Ju%2B41hiEm%2FVB5EGUtXMhQ3Z2D%2B2iedGf%2FLbUUl9j0hkoABblgqA%2BgRE%2F8HE7XbFXRYrD%2FOVnjgWFx1ct36hZ8NbkDKUPPh4rTdoNj8CYwmiZUWzKMLGNoK8hesJn8bm5DdaPSasn7jtq4mQ%2FfdF84M5%2FRk0BysY1sjWJpeup3qfs851jRlzgo97l%2BDdDUkXUdBZzEZyIlpBDBtYEjZYutkWi6euB61ZU%2BhJVe8XXMS0FZnOkaC%2BhjF2Tp9iPvKtpCLKj2E942c%2BWyBqUiKvlRMcFx88wt4z%2ByQY6pgHSwZ%2Bt4rB9xAe2rVWNkARFrWeMfcNCxCT2OVLq9VWdG79KhN8ZI5DLJaLPvBQgEpohkMbhVg4Vqj8yifn%2B2ZXPjA4ylKFMZEBAGynYjflWNGMM6ET%2Fe5l0%2BhSnrAL6G1Wn2ZVFR6D5cLcapx8kULvXjXq8E%2FiAXLmrI8tqYGSKJBxL4NytDNxX6lV9%2Bf4nEfy1N7eAd%2B270TqIvtROlfn08wwgoeJD&X-Amz-Signature=d54438c2067105e5aed4eefa2c2b409817b079723c19e4ef8914d95a0e90823a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667YB7ZCLX%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041346Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIFsvxXAgZIoD9B4X2NlK5EvhmwoqFBEQewt%2B59B%2FPDsVAiAZHy%2BgZrLU84jEjA1h%2BsVtgLX%2F4ruAuiC7%2BD7DG6%2FqnSr%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIM88Qu5luDFHh1YhQ9KtwDo2Pbl0ks5Ad%2FS38z8CxPIIc0NvMIUnm%2Bj7TQpqBxAOvffSWdvt74%2BpOch5XT9F11evwgvfGC6sq%2FSaSLIjeDTozNXfkjc1p%2F0DHYA98bRglOqX0%2BMSTdcj1igJ%2BzVRzHu67lNqsrIPwL4eISswvfrq%2FmRKG6hK%2FguCxed%2BGhIheiBqnKel7v84A%2BZCXmyT7juICUHesTtoAKUXQM5PPEpynJhaRi2%2BcW7jUlipaasgeHZGyXcA%2BwoKxicgUe8Zjv%2BeOWtJQ6Azcpvkg%2BdLa28H4zWKMtinKFjMVzulPNVCbVb%2B7LZIys6o3GwZ%2Fxh3AOBsU2RMQd5RtThAx68kpGziJ6Zzu%2FDOz4Ju%2B41hiEm%2FVB5EGUtXMhQ3Z2D%2B2iedGf%2FLbUUl9j0hkoABblgqA%2BgRE%2F8HE7XbFXRYrD%2FOVnjgWFx1ct36hZ8NbkDKUPPh4rTdoNj8CYwmiZUWzKMLGNoK8hesJn8bm5DdaPSasn7jtq4mQ%2FfdF84M5%2FRk0BysY1sjWJpeup3qfs851jRlzgo97l%2BDdDUkXUdBZzEZyIlpBDBtYEjZYutkWi6euB61ZU%2BhJVe8XXMS0FZnOkaC%2BhjF2Tp9iPvKtpCLKj2E942c%2BWyBqUiKvlRMcFx88wt4z%2ByQY6pgHSwZ%2Bt4rB9xAe2rVWNkARFrWeMfcNCxCT2OVLq9VWdG79KhN8ZI5DLJaLPvBQgEpohkMbhVg4Vqj8yifn%2B2ZXPjA4ylKFMZEBAGynYjflWNGMM6ET%2Fe5l0%2BhSnrAL6G1Wn2ZVFR6D5cLcapx8kULvXjXq8E%2FiAXLmrI8tqYGSKJBxL4NytDNxX6lV9%2Bf4nEfy1N7eAd%2B270TqIvtROlfn08wwgoeJD&X-Amz-Signature=b9c28ce6377562d125ed45a2498c44838ceb537c2013c07ac3675fc882c6a329&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VARC4NKW%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041346Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDaxdKKcxaQ2IUqiSxStQYcEYz9WH7%2F4DzJNa%2FqOEuYBQIgDqw5zszrLm7BmcQKEGIUYlKdQ%2FcsSxSWLSU2m2rd5aEq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDDnpNoXClmyNnM858SrcA35qAngr9ayEki9%2BOYp0FH5CjUbghRaFTq%2Fl7pyRIR22tVYDl9YKMvB1TbtD7hbkd%2BjCXpCrtxzFKk4qlMEFDxs0n6FK0ylsosQtZ4VM3ZTJ0JqfQf5WT%2BlSm%2Bt0byJcUwOY1XTP7agAu%2FXZFyVG6tBxGFXhUIPffNJoaVoyWUk%2FrBh9p4%2BoNMD4S5ClQM6AisIAszKtc%2BzR31Ld%2BpVsPmn7j8GdeblFDU1s7UwhnZeFCAze7gscz7sz72CZSTInYPAf2%2FZ7izFPJhf0axu7Xm64l5k1jPIr0H8A2WMjBdslmpzjKTBKcJRG1CHY3hke7%2Bsz%2FIV24M3YPvR2k%2BW3ysRh78l2MihT6zuIdBqwOKTqHFT9ciRxKN2xoqYQaPMZMrQAP99qH7DvOTvtTwEMb2rL79bvNBUyPGghSxlGU56muOWqVE8KZmPvmcGBFSJzKUY9x%2FisFHdJz5GS3smbmG1Pg9ZuHKrbBvgXaIwJVWmaHGF54pTPM0Tq2vW7bTolJtLe0AMQt1nzOCkPBFL3HYHvoA2meZ%2Bg6eC1ozZWgD0eNALhRf2gH91LoXGmmu7CiwkhU5HKBTAkcX%2FtzPFk1Mtt174Juhx5NZYgG30vJl2VNzhYl%2FfQDdY%2Bsd95MJeM%2FskGOqUBOJ18fTdwUaxATxyrOyWPz8Ve9zHivaXZgOFj3kfotrwGpdtkEO0OEIJm1pGV4kcOVkWGh2s9apwFWQxECPHWCLLmxgq13CUvzC6GCBO7wOrCYS3nOCeJGVGdNm9bFshFVNZMLhq3lAPiUhx1KeCp006ltF5dXNrVu%2BLS1%2FVCnyHEX%2F%2Bc8fYnOEHLckz8t%2BNkva5fBHKQ6zB5OXQvEt5Lvki%2FoTrs&X-Amz-Signature=4e2c2855d57be471bc4a4fde32609edba1024831be904df3b85be01e09021a2e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VARC4NKW%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041346Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDaxdKKcxaQ2IUqiSxStQYcEYz9WH7%2F4DzJNa%2FqOEuYBQIgDqw5zszrLm7BmcQKEGIUYlKdQ%2FcsSxSWLSU2m2rd5aEq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDDnpNoXClmyNnM858SrcA35qAngr9ayEki9%2BOYp0FH5CjUbghRaFTq%2Fl7pyRIR22tVYDl9YKMvB1TbtD7hbkd%2BjCXpCrtxzFKk4qlMEFDxs0n6FK0ylsosQtZ4VM3ZTJ0JqfQf5WT%2BlSm%2Bt0byJcUwOY1XTP7agAu%2FXZFyVG6tBxGFXhUIPffNJoaVoyWUk%2FrBh9p4%2BoNMD4S5ClQM6AisIAszKtc%2BzR31Ld%2BpVsPmn7j8GdeblFDU1s7UwhnZeFCAze7gscz7sz72CZSTInYPAf2%2FZ7izFPJhf0axu7Xm64l5k1jPIr0H8A2WMjBdslmpzjKTBKcJRG1CHY3hke7%2Bsz%2FIV24M3YPvR2k%2BW3ysRh78l2MihT6zuIdBqwOKTqHFT9ciRxKN2xoqYQaPMZMrQAP99qH7DvOTvtTwEMb2rL79bvNBUyPGghSxlGU56muOWqVE8KZmPvmcGBFSJzKUY9x%2FisFHdJz5GS3smbmG1Pg9ZuHKrbBvgXaIwJVWmaHGF54pTPM0Tq2vW7bTolJtLe0AMQt1nzOCkPBFL3HYHvoA2meZ%2Bg6eC1ozZWgD0eNALhRf2gH91LoXGmmu7CiwkhU5HKBTAkcX%2FtzPFk1Mtt174Juhx5NZYgG30vJl2VNzhYl%2FfQDdY%2Bsd95MJeM%2FskGOqUBOJ18fTdwUaxATxyrOyWPz8Ve9zHivaXZgOFj3kfotrwGpdtkEO0OEIJm1pGV4kcOVkWGh2s9apwFWQxECPHWCLLmxgq13CUvzC6GCBO7wOrCYS3nOCeJGVGdNm9bFshFVNZMLhq3lAPiUhx1KeCp006ltF5dXNrVu%2BLS1%2FVCnyHEX%2F%2Bc8fYnOEHLckz8t%2BNkva5fBHKQ6zB5OXQvEt5Lvki%2FoTrs&X-Amz-Signature=816b6ed6b997b0d9373a97462dd92135756c0c9cfa9d4c49eda1d4bf36bc1d2e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VARC4NKW%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041346Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDaxdKKcxaQ2IUqiSxStQYcEYz9WH7%2F4DzJNa%2FqOEuYBQIgDqw5zszrLm7BmcQKEGIUYlKdQ%2FcsSxSWLSU2m2rd5aEq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDDnpNoXClmyNnM858SrcA35qAngr9ayEki9%2BOYp0FH5CjUbghRaFTq%2Fl7pyRIR22tVYDl9YKMvB1TbtD7hbkd%2BjCXpCrtxzFKk4qlMEFDxs0n6FK0ylsosQtZ4VM3ZTJ0JqfQf5WT%2BlSm%2Bt0byJcUwOY1XTP7agAu%2FXZFyVG6tBxGFXhUIPffNJoaVoyWUk%2FrBh9p4%2BoNMD4S5ClQM6AisIAszKtc%2BzR31Ld%2BpVsPmn7j8GdeblFDU1s7UwhnZeFCAze7gscz7sz72CZSTInYPAf2%2FZ7izFPJhf0axu7Xm64l5k1jPIr0H8A2WMjBdslmpzjKTBKcJRG1CHY3hke7%2Bsz%2FIV24M3YPvR2k%2BW3ysRh78l2MihT6zuIdBqwOKTqHFT9ciRxKN2xoqYQaPMZMrQAP99qH7DvOTvtTwEMb2rL79bvNBUyPGghSxlGU56muOWqVE8KZmPvmcGBFSJzKUY9x%2FisFHdJz5GS3smbmG1Pg9ZuHKrbBvgXaIwJVWmaHGF54pTPM0Tq2vW7bTolJtLe0AMQt1nzOCkPBFL3HYHvoA2meZ%2Bg6eC1ozZWgD0eNALhRf2gH91LoXGmmu7CiwkhU5HKBTAkcX%2FtzPFk1Mtt174Juhx5NZYgG30vJl2VNzhYl%2FfQDdY%2Bsd95MJeM%2FskGOqUBOJ18fTdwUaxATxyrOyWPz8Ve9zHivaXZgOFj3kfotrwGpdtkEO0OEIJm1pGV4kcOVkWGh2s9apwFWQxECPHWCLLmxgq13CUvzC6GCBO7wOrCYS3nOCeJGVGdNm9bFshFVNZMLhq3lAPiUhx1KeCp006ltF5dXNrVu%2BLS1%2FVCnyHEX%2F%2Bc8fYnOEHLckz8t%2BNkva5fBHKQ6zB5OXQvEt5Lvki%2FoTrs&X-Amz-Signature=7697c6cdc832ee7d08c113999c6c29c73f0898b3629d56c72f240905e8f3ef14&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TGMAOF4E%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDHeH7sYLr6OEGjngkMQ%2F8hrDCO8rxJvtzpCI4JPLaM%2FgIge5h2Hu78z3Csu%2FU248vxWjJE%2B%2FhOtA7XO91RLmrANFUq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDKNgGy33i0qgDuPt1CrcAx8%2FEEpeXanpxkvSzI4tficy5B3JB%2FHHqA4ecD4%2BJS8wb3spgQTQQrQhWo2%2BaBV3uBSTE0O7BQDnv4MN%2BldlcAwNqGtOkQSvu8%2FTj%2BIDGzMxs%2Ff8bEAvlDsPqUvi5PjlgpkR%2Fvesy1eiaZaxFBkGTY1wo36c9NHSf1U8heyLRPyVIHDT%2FnXHZRFp4%2FiCnf8%2B21LNiZ4Ztf3OWjEA0WKAUR4aKS%2B2gXmZr7XYwY4%2Fwo3Bw74m8a3kE2VLEGWohCXrW3sJFGePwzd5BkOd3mPUfFum%2BV4b5sfoV6m6JLpwowz1c%2FvQbqvdBOO60DC4BrK8RYzsDF2vp9YSzAr%2BGJbAds6D4EOks%2BXQ0nZLJ%2BJA8sADjbune5e3SKwsK5aohruAm2ERB0gYTMPnKNBsP0j4B9Sl4sShuM%2BkW%2B%2F7v7nCxCVSI4TFIFlckOY9O27hhIV8%2FdJuLBqc1xNZtr2W8qBEbQa3ZJOjionJRu3Qy6%2FrWwQOyhftxzispBw2O8d8CPBnzec63CMP1JfdQSM1ogmkrH2b6RsnM5Rjeyf3qFGNZWonarUy2YAAIJ9G5UdQGpFx%2BrB2OVIHzYy2kuWQ8XolKQfn%2FSl9zQQVMtuAHTIyEEiDG7UiDeDms%2FZXKpcGMIqM%2FskGOqUBWb44rIG5utHCJrHjuAlbj7i46oQa%2Be8IOYhDoCdIDf7zeGQYQa22hP6%2Bo214CKpmkgvfZVo%2FjADj0W7WQ6UO67%2B42VM23p7neXTovGUaq9YYU2TclBWjwMBzQjSKQXPk5V7XvZzvAPcUn6TR5iKN3IWncSSkGp7x8zO7gBlgbWkDGa0eJaSgy5UoK%2FJjLGupjImiiLeBaHq1GrqNx1z7%2BRGPn54l&X-Amz-Signature=2e79c23a797608d72b8eb52c5dd2bf652cf40ea2accea3606387fc624945e7ba&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TGMAOF4E%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDHeH7sYLr6OEGjngkMQ%2F8hrDCO8rxJvtzpCI4JPLaM%2FgIge5h2Hu78z3Csu%2FU248vxWjJE%2B%2FhOtA7XO91RLmrANFUq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDKNgGy33i0qgDuPt1CrcAx8%2FEEpeXanpxkvSzI4tficy5B3JB%2FHHqA4ecD4%2BJS8wb3spgQTQQrQhWo2%2BaBV3uBSTE0O7BQDnv4MN%2BldlcAwNqGtOkQSvu8%2FTj%2BIDGzMxs%2Ff8bEAvlDsPqUvi5PjlgpkR%2Fvesy1eiaZaxFBkGTY1wo36c9NHSf1U8heyLRPyVIHDT%2FnXHZRFp4%2FiCnf8%2B21LNiZ4Ztf3OWjEA0WKAUR4aKS%2B2gXmZr7XYwY4%2Fwo3Bw74m8a3kE2VLEGWohCXrW3sJFGePwzd5BkOd3mPUfFum%2BV4b5sfoV6m6JLpwowz1c%2FvQbqvdBOO60DC4BrK8RYzsDF2vp9YSzAr%2BGJbAds6D4EOks%2BXQ0nZLJ%2BJA8sADjbune5e3SKwsK5aohruAm2ERB0gYTMPnKNBsP0j4B9Sl4sShuM%2BkW%2B%2F7v7nCxCVSI4TFIFlckOY9O27hhIV8%2FdJuLBqc1xNZtr2W8qBEbQa3ZJOjionJRu3Qy6%2FrWwQOyhftxzispBw2O8d8CPBnzec63CMP1JfdQSM1ogmkrH2b6RsnM5Rjeyf3qFGNZWonarUy2YAAIJ9G5UdQGpFx%2BrB2OVIHzYy2kuWQ8XolKQfn%2FSl9zQQVMtuAHTIyEEiDG7UiDeDms%2FZXKpcGMIqM%2FskGOqUBWb44rIG5utHCJrHjuAlbj7i46oQa%2Be8IOYhDoCdIDf7zeGQYQa22hP6%2Bo214CKpmkgvfZVo%2FjADj0W7WQ6UO67%2B42VM23p7neXTovGUaq9YYU2TclBWjwMBzQjSKQXPk5V7XvZzvAPcUn6TR5iKN3IWncSSkGp7x8zO7gBlgbWkDGa0eJaSgy5UoK%2FJjLGupjImiiLeBaHq1GrqNx1z7%2BRGPn54l&X-Amz-Signature=48e87a42b1490630ae499b7f83eccb9f33479689c50ed9558f8aa1bce96f9822&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TGMAOF4E%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDHeH7sYLr6OEGjngkMQ%2F8hrDCO8rxJvtzpCI4JPLaM%2FgIge5h2Hu78z3Csu%2FU248vxWjJE%2B%2FhOtA7XO91RLmrANFUq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDKNgGy33i0qgDuPt1CrcAx8%2FEEpeXanpxkvSzI4tficy5B3JB%2FHHqA4ecD4%2BJS8wb3spgQTQQrQhWo2%2BaBV3uBSTE0O7BQDnv4MN%2BldlcAwNqGtOkQSvu8%2FTj%2BIDGzMxs%2Ff8bEAvlDsPqUvi5PjlgpkR%2Fvesy1eiaZaxFBkGTY1wo36c9NHSf1U8heyLRPyVIHDT%2FnXHZRFp4%2FiCnf8%2B21LNiZ4Ztf3OWjEA0WKAUR4aKS%2B2gXmZr7XYwY4%2Fwo3Bw74m8a3kE2VLEGWohCXrW3sJFGePwzd5BkOd3mPUfFum%2BV4b5sfoV6m6JLpwowz1c%2FvQbqvdBOO60DC4BrK8RYzsDF2vp9YSzAr%2BGJbAds6D4EOks%2BXQ0nZLJ%2BJA8sADjbune5e3SKwsK5aohruAm2ERB0gYTMPnKNBsP0j4B9Sl4sShuM%2BkW%2B%2F7v7nCxCVSI4TFIFlckOY9O27hhIV8%2FdJuLBqc1xNZtr2W8qBEbQa3ZJOjionJRu3Qy6%2FrWwQOyhftxzispBw2O8d8CPBnzec63CMP1JfdQSM1ogmkrH2b6RsnM5Rjeyf3qFGNZWonarUy2YAAIJ9G5UdQGpFx%2BrB2OVIHzYy2kuWQ8XolKQfn%2FSl9zQQVMtuAHTIyEEiDG7UiDeDms%2FZXKpcGMIqM%2FskGOqUBWb44rIG5utHCJrHjuAlbj7i46oQa%2Be8IOYhDoCdIDf7zeGQYQa22hP6%2Bo214CKpmkgvfZVo%2FjADj0W7WQ6UO67%2B42VM23p7neXTovGUaq9YYU2TclBWjwMBzQjSKQXPk5V7XvZzvAPcUn6TR5iKN3IWncSSkGp7x8zO7gBlgbWkDGa0eJaSgy5UoK%2FJjLGupjImiiLeBaHq1GrqNx1z7%2BRGPn54l&X-Amz-Signature=b933ae208f5c864e093f469930b2bb2077bb8ade99ea0d7fd8bdebc45b4e0abc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TGMAOF4E%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDHeH7sYLr6OEGjngkMQ%2F8hrDCO8rxJvtzpCI4JPLaM%2FgIge5h2Hu78z3Csu%2FU248vxWjJE%2B%2FhOtA7XO91RLmrANFUq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDKNgGy33i0qgDuPt1CrcAx8%2FEEpeXanpxkvSzI4tficy5B3JB%2FHHqA4ecD4%2BJS8wb3spgQTQQrQhWo2%2BaBV3uBSTE0O7BQDnv4MN%2BldlcAwNqGtOkQSvu8%2FTj%2BIDGzMxs%2Ff8bEAvlDsPqUvi5PjlgpkR%2Fvesy1eiaZaxFBkGTY1wo36c9NHSf1U8heyLRPyVIHDT%2FnXHZRFp4%2FiCnf8%2B21LNiZ4Ztf3OWjEA0WKAUR4aKS%2B2gXmZr7XYwY4%2Fwo3Bw74m8a3kE2VLEGWohCXrW3sJFGePwzd5BkOd3mPUfFum%2BV4b5sfoV6m6JLpwowz1c%2FvQbqvdBOO60DC4BrK8RYzsDF2vp9YSzAr%2BGJbAds6D4EOks%2BXQ0nZLJ%2BJA8sADjbune5e3SKwsK5aohruAm2ERB0gYTMPnKNBsP0j4B9Sl4sShuM%2BkW%2B%2F7v7nCxCVSI4TFIFlckOY9O27hhIV8%2FdJuLBqc1xNZtr2W8qBEbQa3ZJOjionJRu3Qy6%2FrWwQOyhftxzispBw2O8d8CPBnzec63CMP1JfdQSM1ogmkrH2b6RsnM5Rjeyf3qFGNZWonarUy2YAAIJ9G5UdQGpFx%2BrB2OVIHzYy2kuWQ8XolKQfn%2FSl9zQQVMtuAHTIyEEiDG7UiDeDms%2FZXKpcGMIqM%2FskGOqUBWb44rIG5utHCJrHjuAlbj7i46oQa%2Be8IOYhDoCdIDf7zeGQYQa22hP6%2Bo214CKpmkgvfZVo%2FjADj0W7WQ6UO67%2B42VM23p7neXTovGUaq9YYU2TclBWjwMBzQjSKQXPk5V7XvZzvAPcUn6TR5iKN3IWncSSkGp7x8zO7gBlgbWkDGa0eJaSgy5UoK%2FJjLGupjImiiLeBaHq1GrqNx1z7%2BRGPn54l&X-Amz-Signature=96bb96f38f300eb47293934f0bf80b172287d091d907c355ca2a72510bb50f70&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667H7REFCH%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDYDOa1%2Fyg5fZbUcQ886tVznKR%2BYaLezbeVfUuq1bmR%2FwIgDYcy2tIuVg1bf71uUX%2FJgtL4DWK3y1pXKDwe9DWgdjQq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDHNGBz5a%2F8ynhkasdCrcA8aJPhYqazhOjPDiWmn7ij%2F8aFDIfaCgWqhNLT95Inen6z6mjYIn2m90%2Bnhkvt7IjkFyMJEvokg65TGCQ4JThP549r%2BphK6Go1mnoQi%2FTP5wRX%2FrB5bge3xIRCzFGpg8Rinm10fVdBxirA6UIgMl7xI4n00PAOzUmYyEXZ8MjSsbrSts50ECzYv%2FbngbCl97RFBmeJSiWbPXPLXlXDy1vOk6KH7E00wr2Ztawi69cVS%2BzArFdrxp7fzXW6nIupFuqoYZsJFXbQQWDskVqQrZUl7VEGSa0us28UhUgSR8mgcbPMzhg%2FMUDdY1mSVpOglTOXAGxlypubiztNbzh0ib6koUWS7uOf5ggOk7v%2F2Ez2FbZOkcRm3oD7H13oHTfHkciVyIWz7q9Xbk9dNZsbc%2FnMia41zS9mQhBUi7hyJl7qJq5CuOk26vJ2Ki8kKdkOxcg0sgpn9qeDmfPHnUCXb4elq%2FZtipRv4z%2B5aFdpWn4jxl%2FkovMPMlT3ECV%2FjTxO3C%2Bc29PTVHwuxO1uz4mehrbybfKECh3eMqXOy%2FYr6cQWxZ7WyVhzxUSt39s5ZDGjeho%2BOcsEsonRti%2BMijvGzyMejTmImz0jn6rk4YFBBgTqC1u%2BUl2FhSeZDDgk79MPuL%2FskGOqUB5%2F%2Fuc5MMQd3wl6p%2FxTEzaTELOLHQxlUzwxPuo9euSdSgKTYdUzx29pHb8XTNFPDfzGcGmcpseBBi3%2BWEa8rj0QwDt4lGidKnXNCk28ZfAAHBP1L41dsH3u5e2cwvwpoYe4Lvi1WcjGHSLN2tJLkAaGWMkW6gwpD1T2O3M22Qbsi7kY62WFJYBElk6tk161nkyROBgZALN66KblDfFaea93GZHiy0&X-Amz-Signature=a2846d5697ae1c0977339bd524a0bf5f5c84fa701b341b1a9d9e1870eb30380b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667H7REFCH%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDYDOa1%2Fyg5fZbUcQ886tVznKR%2BYaLezbeVfUuq1bmR%2FwIgDYcy2tIuVg1bf71uUX%2FJgtL4DWK3y1pXKDwe9DWgdjQq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDHNGBz5a%2F8ynhkasdCrcA8aJPhYqazhOjPDiWmn7ij%2F8aFDIfaCgWqhNLT95Inen6z6mjYIn2m90%2Bnhkvt7IjkFyMJEvokg65TGCQ4JThP549r%2BphK6Go1mnoQi%2FTP5wRX%2FrB5bge3xIRCzFGpg8Rinm10fVdBxirA6UIgMl7xI4n00PAOzUmYyEXZ8MjSsbrSts50ECzYv%2FbngbCl97RFBmeJSiWbPXPLXlXDy1vOk6KH7E00wr2Ztawi69cVS%2BzArFdrxp7fzXW6nIupFuqoYZsJFXbQQWDskVqQrZUl7VEGSa0us28UhUgSR8mgcbPMzhg%2FMUDdY1mSVpOglTOXAGxlypubiztNbzh0ib6koUWS7uOf5ggOk7v%2F2Ez2FbZOkcRm3oD7H13oHTfHkciVyIWz7q9Xbk9dNZsbc%2FnMia41zS9mQhBUi7hyJl7qJq5CuOk26vJ2Ki8kKdkOxcg0sgpn9qeDmfPHnUCXb4elq%2FZtipRv4z%2B5aFdpWn4jxl%2FkovMPMlT3ECV%2FjTxO3C%2Bc29PTVHwuxO1uz4mehrbybfKECh3eMqXOy%2FYr6cQWxZ7WyVhzxUSt39s5ZDGjeho%2BOcsEsonRti%2BMijvGzyMejTmImz0jn6rk4YFBBgTqC1u%2BUl2FhSeZDDgk79MPuL%2FskGOqUB5%2F%2Fuc5MMQd3wl6p%2FxTEzaTELOLHQxlUzwxPuo9euSdSgKTYdUzx29pHb8XTNFPDfzGcGmcpseBBi3%2BWEa8rj0QwDt4lGidKnXNCk28ZfAAHBP1L41dsH3u5e2cwvwpoYe4Lvi1WcjGHSLN2tJLkAaGWMkW6gwpD1T2O3M22Qbsi7kY62WFJYBElk6tk161nkyROBgZALN66KblDfFaea93GZHiy0&X-Amz-Signature=fe698bb307d57d90ece5af8fa32ebb2bd3bfb6bd63c0845bc7eed79155afd152&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667H7REFCH%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDYDOa1%2Fyg5fZbUcQ886tVznKR%2BYaLezbeVfUuq1bmR%2FwIgDYcy2tIuVg1bf71uUX%2FJgtL4DWK3y1pXKDwe9DWgdjQq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDHNGBz5a%2F8ynhkasdCrcA8aJPhYqazhOjPDiWmn7ij%2F8aFDIfaCgWqhNLT95Inen6z6mjYIn2m90%2Bnhkvt7IjkFyMJEvokg65TGCQ4JThP549r%2BphK6Go1mnoQi%2FTP5wRX%2FrB5bge3xIRCzFGpg8Rinm10fVdBxirA6UIgMl7xI4n00PAOzUmYyEXZ8MjSsbrSts50ECzYv%2FbngbCl97RFBmeJSiWbPXPLXlXDy1vOk6KH7E00wr2Ztawi69cVS%2BzArFdrxp7fzXW6nIupFuqoYZsJFXbQQWDskVqQrZUl7VEGSa0us28UhUgSR8mgcbPMzhg%2FMUDdY1mSVpOglTOXAGxlypubiztNbzh0ib6koUWS7uOf5ggOk7v%2F2Ez2FbZOkcRm3oD7H13oHTfHkciVyIWz7q9Xbk9dNZsbc%2FnMia41zS9mQhBUi7hyJl7qJq5CuOk26vJ2Ki8kKdkOxcg0sgpn9qeDmfPHnUCXb4elq%2FZtipRv4z%2B5aFdpWn4jxl%2FkovMPMlT3ECV%2FjTxO3C%2Bc29PTVHwuxO1uz4mehrbybfKECh3eMqXOy%2FYr6cQWxZ7WyVhzxUSt39s5ZDGjeho%2BOcsEsonRti%2BMijvGzyMejTmImz0jn6rk4YFBBgTqC1u%2BUl2FhSeZDDgk79MPuL%2FskGOqUB5%2F%2Fuc5MMQd3wl6p%2FxTEzaTELOLHQxlUzwxPuo9euSdSgKTYdUzx29pHb8XTNFPDfzGcGmcpseBBi3%2BWEa8rj0QwDt4lGidKnXNCk28ZfAAHBP1L41dsH3u5e2cwvwpoYe4Lvi1WcjGHSLN2tJLkAaGWMkW6gwpD1T2O3M22Qbsi7kY62WFJYBElk6tk161nkyROBgZALN66KblDfFaea93GZHiy0&X-Amz-Signature=4e979912ea9b9ecf6ec18cf8cb8b2c1b92df61bfddec00ae93023839fade6d05&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667H7REFCH%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDYDOa1%2Fyg5fZbUcQ886tVznKR%2BYaLezbeVfUuq1bmR%2FwIgDYcy2tIuVg1bf71uUX%2FJgtL4DWK3y1pXKDwe9DWgdjQq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDHNGBz5a%2F8ynhkasdCrcA8aJPhYqazhOjPDiWmn7ij%2F8aFDIfaCgWqhNLT95Inen6z6mjYIn2m90%2Bnhkvt7IjkFyMJEvokg65TGCQ4JThP549r%2BphK6Go1mnoQi%2FTP5wRX%2FrB5bge3xIRCzFGpg8Rinm10fVdBxirA6UIgMl7xI4n00PAOzUmYyEXZ8MjSsbrSts50ECzYv%2FbngbCl97RFBmeJSiWbPXPLXlXDy1vOk6KH7E00wr2Ztawi69cVS%2BzArFdrxp7fzXW6nIupFuqoYZsJFXbQQWDskVqQrZUl7VEGSa0us28UhUgSR8mgcbPMzhg%2FMUDdY1mSVpOglTOXAGxlypubiztNbzh0ib6koUWS7uOf5ggOk7v%2F2Ez2FbZOkcRm3oD7H13oHTfHkciVyIWz7q9Xbk9dNZsbc%2FnMia41zS9mQhBUi7hyJl7qJq5CuOk26vJ2Ki8kKdkOxcg0sgpn9qeDmfPHnUCXb4elq%2FZtipRv4z%2B5aFdpWn4jxl%2FkovMPMlT3ECV%2FjTxO3C%2Bc29PTVHwuxO1uz4mehrbybfKECh3eMqXOy%2FYr6cQWxZ7WyVhzxUSt39s5ZDGjeho%2BOcsEsonRti%2BMijvGzyMejTmImz0jn6rk4YFBBgTqC1u%2BUl2FhSeZDDgk79MPuL%2FskGOqUB5%2F%2Fuc5MMQd3wl6p%2FxTEzaTELOLHQxlUzwxPuo9euSdSgKTYdUzx29pHb8XTNFPDfzGcGmcpseBBi3%2BWEa8rj0QwDt4lGidKnXNCk28ZfAAHBP1L41dsH3u5e2cwvwpoYe4Lvi1WcjGHSLN2tJLkAaGWMkW6gwpD1T2O3M22Qbsi7kY62WFJYBElk6tk161nkyROBgZALN66KblDfFaea93GZHiy0&X-Amz-Signature=e951547b930fcfe77dedd19e8eadacc59d9b02528323dcd219b42fb027ea7ac1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z3APTAGR%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDtFoQRDHEpJcVUHwHHD5HcLZG6YWBqbx33%2FAJcnWTeYgIgLSek8NZ7TROITpjdBR4qdYi1dNVViy%2BHl1pAlUCxjGAq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDI6NBYgX4emVI2XNbSrcA8v7KFfJNhVroTVJdCu39MD1s3%2FY6bgOn2f3XZQfkKHMzx80y8L4WWS7g773L8AR5dCEu0rAV1GcpMe5VCYOQAfqhvYNBGg3NMXNkzLmPaTYreRiPgHu7iKYOqbGmhg%2BBMgaEF%2Bm9iKe8EsCG5iE9vZzrfcpInj6CnxNQbsjaL9mX9L1CSfYijbbN%2B2Dk7z1QeZOZyqG10LzTbvKH%2Fz3lJ9TEII%2F2YaHfT31G9%2BYB0BPTr6zv4jYhgRec45bL5Z3gfiQCL5ozm%2BBPqD1VWHIpWOztw96gmMqR%2BTkR00BUIq40j%2BnsMgZErvonYd%2FY9yQOM2rzPMZKIPBF07SAY0v%2F9eWCCLh4NTAChLFaet%2B4%2BbKnaJidRbo2m5hsx0FaiOg8CfLcdy0tbtfgzx0LSpE1OIIFyvVXDhUxO1HGvjqskkt%2Fx%2BlOCgVndyXuLpB5RoInn3mjDoazOOi57d38T7Gvy4iY7nyapU81hzDIc9iHoCI%2BWcXe3liZ86tB8jDAH4YOEPiqOCjtLBsxklPW3yZKKJ%2Fmn2qUQwTiG7letvfAZGOCANSNrc5bhe5Zf8Z6tolAh2IwIVauM2hW69Hsqh4KA93bN3R2aAVOVlazBK7of%2BdRDbVh08EkQKx4zv9MKuM%2FskGOqUBIgs70qW6Vq02dh2OSJ0O8VIgPhlov2sh1c4JJnAbm5Tnvk6L2WCYm1yrJQwjbUY2FnkRU4RiJEiKl%2FtPgreCcl%2BKM0U6ODlURKRikn7tVFvxbReYsGx9LCl3AIXw2pBCuMAi3XsODiQfyKLuDEchCMK%2FWOO09Gb7qgIqGK5jfBAd%2F21s1D5kxMzQrADt54Uhluwjdwxav%2BhovDKNaOA8dG%2FcvsLX&X-Amz-Signature=f6257694c30c6e835e612f0c16cdd3584311a3c87c936c9b1483dae570932809&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z3APTAGR%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDtFoQRDHEpJcVUHwHHD5HcLZG6YWBqbx33%2FAJcnWTeYgIgLSek8NZ7TROITpjdBR4qdYi1dNVViy%2BHl1pAlUCxjGAq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDI6NBYgX4emVI2XNbSrcA8v7KFfJNhVroTVJdCu39MD1s3%2FY6bgOn2f3XZQfkKHMzx80y8L4WWS7g773L8AR5dCEu0rAV1GcpMe5VCYOQAfqhvYNBGg3NMXNkzLmPaTYreRiPgHu7iKYOqbGmhg%2BBMgaEF%2Bm9iKe8EsCG5iE9vZzrfcpInj6CnxNQbsjaL9mX9L1CSfYijbbN%2B2Dk7z1QeZOZyqG10LzTbvKH%2Fz3lJ9TEII%2F2YaHfT31G9%2BYB0BPTr6zv4jYhgRec45bL5Z3gfiQCL5ozm%2BBPqD1VWHIpWOztw96gmMqR%2BTkR00BUIq40j%2BnsMgZErvonYd%2FY9yQOM2rzPMZKIPBF07SAY0v%2F9eWCCLh4NTAChLFaet%2B4%2BbKnaJidRbo2m5hsx0FaiOg8CfLcdy0tbtfgzx0LSpE1OIIFyvVXDhUxO1HGvjqskkt%2Fx%2BlOCgVndyXuLpB5RoInn3mjDoazOOi57d38T7Gvy4iY7nyapU81hzDIc9iHoCI%2BWcXe3liZ86tB8jDAH4YOEPiqOCjtLBsxklPW3yZKKJ%2Fmn2qUQwTiG7letvfAZGOCANSNrc5bhe5Zf8Z6tolAh2IwIVauM2hW69Hsqh4KA93bN3R2aAVOVlazBK7of%2BdRDbVh08EkQKx4zv9MKuM%2FskGOqUBIgs70qW6Vq02dh2OSJ0O8VIgPhlov2sh1c4JJnAbm5Tnvk6L2WCYm1yrJQwjbUY2FnkRU4RiJEiKl%2FtPgreCcl%2BKM0U6ODlURKRikn7tVFvxbReYsGx9LCl3AIXw2pBCuMAi3XsODiQfyKLuDEchCMK%2FWOO09Gb7qgIqGK5jfBAd%2F21s1D5kxMzQrADt54Uhluwjdwxav%2BhovDKNaOA8dG%2FcvsLX&X-Amz-Signature=1fc7ebc09dfd8a6a4e2175bc9442e4e42dfc23ba475a3987e00c4d476272d56a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z3APTAGR%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041347Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDtFoQRDHEpJcVUHwHHD5HcLZG6YWBqbx33%2FAJcnWTeYgIgLSek8NZ7TROITpjdBR4qdYi1dNVViy%2BHl1pAlUCxjGAq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDI6NBYgX4emVI2XNbSrcA8v7KFfJNhVroTVJdCu39MD1s3%2FY6bgOn2f3XZQfkKHMzx80y8L4WWS7g773L8AR5dCEu0rAV1GcpMe5VCYOQAfqhvYNBGg3NMXNkzLmPaTYreRiPgHu7iKYOqbGmhg%2BBMgaEF%2Bm9iKe8EsCG5iE9vZzrfcpInj6CnxNQbsjaL9mX9L1CSfYijbbN%2B2Dk7z1QeZOZyqG10LzTbvKH%2Fz3lJ9TEII%2F2YaHfT31G9%2BYB0BPTr6zv4jYhgRec45bL5Z3gfiQCL5ozm%2BBPqD1VWHIpWOztw96gmMqR%2BTkR00BUIq40j%2BnsMgZErvonYd%2FY9yQOM2rzPMZKIPBF07SAY0v%2F9eWCCLh4NTAChLFaet%2B4%2BbKnaJidRbo2m5hsx0FaiOg8CfLcdy0tbtfgzx0LSpE1OIIFyvVXDhUxO1HGvjqskkt%2Fx%2BlOCgVndyXuLpB5RoInn3mjDoazOOi57d38T7Gvy4iY7nyapU81hzDIc9iHoCI%2BWcXe3liZ86tB8jDAH4YOEPiqOCjtLBsxklPW3yZKKJ%2Fmn2qUQwTiG7letvfAZGOCANSNrc5bhe5Zf8Z6tolAh2IwIVauM2hW69Hsqh4KA93bN3R2aAVOVlazBK7of%2BdRDbVh08EkQKx4zv9MKuM%2FskGOqUBIgs70qW6Vq02dh2OSJ0O8VIgPhlov2sh1c4JJnAbm5Tnvk6L2WCYm1yrJQwjbUY2FnkRU4RiJEiKl%2FtPgreCcl%2BKM0U6ODlURKRikn7tVFvxbReYsGx9LCl3AIXw2pBCuMAi3XsODiQfyKLuDEchCMK%2FWOO09Gb7qgIqGK5jfBAd%2F21s1D5kxMzQrADt54Uhluwjdwxav%2BhovDKNaOA8dG%2FcvsLX&X-Amz-Signature=a879670e904404a806b35f81755bf89cb5e84179528d72c75fe752f65c5af110&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666H5EEELT%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041348Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDlcd%2BvH%2FuQuVams4X%2BBmuXpOgZHJ3muB6JeOxOACmdvwIgcvE9RD6HiqG7ckUlKy73B3wfOEYs8ivcRCSbvwQvafAq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDBWizZPQNJXfjNZZUSrcA6QXeMWj9kPzrQHnrR3zi8qS3ZmLtPyUDNLQVgMOK1ZmCzAGczQ5qFlHHXDscIlQJ0MA%2BOaSdWnq%2F0J%2B6HKwcfgeENaeHpqFOugeJkOVRp8wjJcLRqnxsrhqDs28XvDjwyOZVVtZyc%2BG06P%2FLvLh%2Bwjw9afdrulT%2F4RjcgpCq26kL%2BuJ%2BY9N%2BzQYI4XtEIPiIczXklTxuQ4dZJd8RBxXlD43O%2BhamS9KXLu0S9QG1mvbEoiN6B2gOsH3IqH3UEIRvXs5w5MN7vH9GtpEID%2BhEp3WCFS%2BtRlQIYGAuN6r%2Frc5Gq6Drso6u66zvkpq4XZzrUVr2znH4bbPGSmj5bxJgJ2%2FQ1NUn426SAwzNmpc3Ktro9Gvs%2BwRMs1duw8BG0p1JWOIIrFwtAk5u25A5igc0LTXcSyujuSkWYknnDrtEtlOUGoxwWLe6SNWch9dZd87NvOi8FHrXYgRRuuidYUFTzR9pRGtcnfyMoSgkoyke6WF2%2FYuDQ2NFAuw6w%2FgTBf1X5uJDInK2Js7gyumc%2BYtEVQeyVo%2B8wQWk1MLH529Q4dCSAD%2BPTaZ4wIgDIagAhYmff2eu%2BmUBkdz8zrZTBickvZCP4SFpMO%2BquFA0Fqzq8pS0JSiQkMsw%2FP724RJMMOM%2FskGOqUB3Kt73VhVo9d3X0r1OY%2BM%2FGD3Y7aQGw4AhP%2FAA8VK3qZT6WCaZTjwG1WeD7Ju8kNcG74iKeSsjLVz%2FASpn0Qv5AFPIagFN3jQROPdeG2jb4Y48GfZxwprgP3hU7KuGL0kQQxBTwEgNsdkMNYn9L1SsUJeOyfw4pGGEI9cc3AKPiBPMwE5DzmDMmlzYwQQ57d1pAhhSfWS6ZP6WsDEJYLwhje4GEAs&X-Amz-Signature=b14b46766ec6bcbb0b2b687c34b76fade73076934987bfbea097a52b103a5eae&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666H5EEELT%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041348Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDlcd%2BvH%2FuQuVams4X%2BBmuXpOgZHJ3muB6JeOxOACmdvwIgcvE9RD6HiqG7ckUlKy73B3wfOEYs8ivcRCSbvwQvafAq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDBWizZPQNJXfjNZZUSrcA6QXeMWj9kPzrQHnrR3zi8qS3ZmLtPyUDNLQVgMOK1ZmCzAGczQ5qFlHHXDscIlQJ0MA%2BOaSdWnq%2F0J%2B6HKwcfgeENaeHpqFOugeJkOVRp8wjJcLRqnxsrhqDs28XvDjwyOZVVtZyc%2BG06P%2FLvLh%2Bwjw9afdrulT%2F4RjcgpCq26kL%2BuJ%2BY9N%2BzQYI4XtEIPiIczXklTxuQ4dZJd8RBxXlD43O%2BhamS9KXLu0S9QG1mvbEoiN6B2gOsH3IqH3UEIRvXs5w5MN7vH9GtpEID%2BhEp3WCFS%2BtRlQIYGAuN6r%2Frc5Gq6Drso6u66zvkpq4XZzrUVr2znH4bbPGSmj5bxJgJ2%2FQ1NUn426SAwzNmpc3Ktro9Gvs%2BwRMs1duw8BG0p1JWOIIrFwtAk5u25A5igc0LTXcSyujuSkWYknnDrtEtlOUGoxwWLe6SNWch9dZd87NvOi8FHrXYgRRuuidYUFTzR9pRGtcnfyMoSgkoyke6WF2%2FYuDQ2NFAuw6w%2FgTBf1X5uJDInK2Js7gyumc%2BYtEVQeyVo%2B8wQWk1MLH529Q4dCSAD%2BPTaZ4wIgDIagAhYmff2eu%2BmUBkdz8zrZTBickvZCP4SFpMO%2BquFA0Fqzq8pS0JSiQkMsw%2FP724RJMMOM%2FskGOqUB3Kt73VhVo9d3X0r1OY%2BM%2FGD3Y7aQGw4AhP%2FAA8VK3qZT6WCaZTjwG1WeD7Ju8kNcG74iKeSsjLVz%2FASpn0Qv5AFPIagFN3jQROPdeG2jb4Y48GfZxwprgP3hU7KuGL0kQQxBTwEgNsdkMNYn9L1SsUJeOyfw4pGGEI9cc3AKPiBPMwE5DzmDMmlzYwQQ57d1pAhhSfWS6ZP6WsDEJYLwhje4GEAs&X-Amz-Signature=8c74d5c8c3b8e1cc836575c11043b5b801c9d4d4ee5293ec832f42b898a24e45&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664T4VE66B%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041349Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIF4VtkPZqegmrzd9mBkV311Z48vNhg8rTB%2BR60tSGJudAiBrqVxQd4t6Xq0rWbHDQIuXqFej2E9jJ3HIup58rbtKWCr%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIMVaEbQNkYvgAzlnoQKtwDXTnrfZOcCqbZWmQSEWm9Kb6Zxc2Ft8tuxg%2Bjy48NY0nUZaSZnyF6fSzE%2FOB7E8s9YNVcP7HF2ayL0UvFOTm6YGkDOi6CRGdjFnIPnq1aE%2B%2BhPD3308ikoK40WS%2Fl%2BMaVnhw%2BhyHXQ%2BKxb6Jho7yC%2F2mQ2TNEGw6YWAM%2FyAhYKrMd%2BY5%2Bw52OsucRs6BIMCXSPkDbE3GJ0gR4Y0FVvXFbecQx5Hb6nKQEscLUpkF1yfCE5i1f6GVTkVpZfYnmXR90Y6R9aHMj5HhSq2SnpGBYTJZ8lyzfseoxKJAvx9Mb5g99C0JS6X%2BAmu65P81YUj%2Bb5PmRHAkzcaH%2FI9LOndysoDWz8E%2FpDEj0eZeTNv0ZjBg3QUTBlMg0AV3fvQi07%2BhGzE6EEwC3%2FHX0oBFAVvaLzbLkwemZLlgbd05VxiMWYmr7%2F8vODEFvTu%2BMZOut6XsZFXANmhaSqMgumZQxN%2BDHg5iINE8qcZYSF5X25Ev%2BaiPhpOWSKUzivKQE9Wj76lwWOhmT5O9lR7vvXzQze3SxUgX3NmtgBEf6UYkYE1aMvOeBSXc4IrA6SmjUSeevSgIAKYqldcX8RqwGrQgCrD%2BbP0d2V%2FJ3hY5aIYj2DzB3C3A4w8EZkXlZkhy2hcgwqIz%2ByQY6pgGvOFdJMeYEtkn50CQ3bMiWAoTwcIBHEdvQ6nMXfn%2BG%2Bc9kTvMHV%2BpInU%2BBNjCQMIY7NCtDGcXM6jW90CzBv3HhTkhleQ%2BzOVClTegUeeVoKlJ0cxZyWRuVB9LdrIAhkpt7XTojmgoiGssmg3sPzt0hOJrp9hx3uS%2BTu1mDOHIJb%2FWs%2BxD0WCQIvk09xsQiXsVlluJR%2FBLqZ5nvdqBU%2F5OWnxl5gj%2BH&X-Amz-Signature=1a6332c0ff9d2bb8aa991cbd44ec5ec1c04d7bb992b0d98843ea847f77298082&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664T4VE66B%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041349Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIF4VtkPZqegmrzd9mBkV311Z48vNhg8rTB%2BR60tSGJudAiBrqVxQd4t6Xq0rWbHDQIuXqFej2E9jJ3HIup58rbtKWCr%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIMVaEbQNkYvgAzlnoQKtwDXTnrfZOcCqbZWmQSEWm9Kb6Zxc2Ft8tuxg%2Bjy48NY0nUZaSZnyF6fSzE%2FOB7E8s9YNVcP7HF2ayL0UvFOTm6YGkDOi6CRGdjFnIPnq1aE%2B%2BhPD3308ikoK40WS%2Fl%2BMaVnhw%2BhyHXQ%2BKxb6Jho7yC%2F2mQ2TNEGw6YWAM%2FyAhYKrMd%2BY5%2Bw52OsucRs6BIMCXSPkDbE3GJ0gR4Y0FVvXFbecQx5Hb6nKQEscLUpkF1yfCE5i1f6GVTkVpZfYnmXR90Y6R9aHMj5HhSq2SnpGBYTJZ8lyzfseoxKJAvx9Mb5g99C0JS6X%2BAmu65P81YUj%2Bb5PmRHAkzcaH%2FI9LOndysoDWz8E%2FpDEj0eZeTNv0ZjBg3QUTBlMg0AV3fvQi07%2BhGzE6EEwC3%2FHX0oBFAVvaLzbLkwemZLlgbd05VxiMWYmr7%2F8vODEFvTu%2BMZOut6XsZFXANmhaSqMgumZQxN%2BDHg5iINE8qcZYSF5X25Ev%2BaiPhpOWSKUzivKQE9Wj76lwWOhmT5O9lR7vvXzQze3SxUgX3NmtgBEf6UYkYE1aMvOeBSXc4IrA6SmjUSeevSgIAKYqldcX8RqwGrQgCrD%2BbP0d2V%2FJ3hY5aIYj2DzB3C3A4w8EZkXlZkhy2hcgwqIz%2ByQY6pgGvOFdJMeYEtkn50CQ3bMiWAoTwcIBHEdvQ6nMXfn%2BG%2Bc9kTvMHV%2BpInU%2BBNjCQMIY7NCtDGcXM6jW90CzBv3HhTkhleQ%2BzOVClTegUeeVoKlJ0cxZyWRuVB9LdrIAhkpt7XTojmgoiGssmg3sPzt0hOJrp9hx3uS%2BTu1mDOHIJb%2FWs%2BxD0WCQIvk09xsQiXsVlluJR%2FBLqZ5nvdqBU%2F5OWnxl5gj%2BH&X-Amz-Signature=ef72e949cabadeed43dc8f663dcb5db12d5ca4d17af8eda742ad8edb9184845d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QEFBCQSJ%2F20251215%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251215T041350Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIQDTE8C0pZL5iP9v4FnkA9jTUcbM%2BZlyPymhVKUgsn9YtAIgO%2FJmvTFgy2OY2yWHlErSFV9AJviyrnM7glcOdcIYBfgq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDDp3FRqJBMKkOl2y7SrcAzUV5i9chlBz0kTU15SfHEzYgLVDBqsatYEJ8IUPHkQA6hTgwTZfbmof0jM0DsuMXmf23Jk9E0CmodTDtsfporkarwLCHmP8QZXW83zd2EMKYUsvoAOckoGp%2FK%2FwLz9HtHgVaodtlNJa%2B79xx5DhR8O1QW9zUZz%2FyxlBAsQbmLm4giqyv%2FgnDP7AtGjAxEv29uSjHCL5%2B7vhCiF1%2FFg7Xd4iC4pbA6d31GtFZRRqWtJsZed4eNSqX3j3AwqREzNONwYeyFqMXecK74fl7FdAA%2FL4HhGsDLRccJRTCzR8CIi6QqsefT76p0Zi7SG%2BwBeTQca15VAnqJxffz4p%2BVGiPjIU86%2FKML2CUHgyGszRsSZ6nGp0FvayJF8SfFq6o9dLJrkoqS5VgpNwmnRap18h1851c9n63Y0GNRRFBITz0mYf93O3VdtJKcp0P1QePworjIhA4r7kK90kX1T%2BP7vGF8yIa0y%2B6p5jlGyoJVz2GA1Vj8mTdeSYr5P71%2Br1LZ5g9rxby%2B%2B9eZ%2FOSkpHqlFy7rxBFkPMMIy3ukuzgq0isKYlBsoabDsKz%2B506MdgpGYwe88J1V5y%2FJW1WB%2BO%2Bh912aXd0J%2BlkRM8SyqwJXgK8e8rTGn89abyMlmW9evTMJWM%2FskGOqUBMKfBCYn3GYxS%2BxU17dSHa9NAEelKC5pmJV5CVzjpU0RIjaHouMQz%2FCCfx3iCSwuV3J2XUqKSBySxUI99gIRtf0jDr4PNPcpIfMCf1U5Is25UR34MxHjVrWzUGGt4DNL%2BhhEkOeufyXMGwGhWTU14ZoLnKQ2E0O1Gd7vCUDB6v2uAM0DT8cwdsY0%2F8iJs4%2F4FY4uGkyPmqeBZgtjOhIqpYau3fY1g&X-Amz-Signature=9b078fd638343167667d44758e84ff4b079afd41197c85c90fd9190628137a30&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
