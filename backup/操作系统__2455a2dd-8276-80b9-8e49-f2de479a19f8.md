
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YRGC6HRH%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041639Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDiDKmEmIPIPEkg8AVTB0UzK98Z4%2BQVdbUjBKhqypAEtwIhAL4suvpidFmKy0cNa5CPfdD%2FLqLdH8oicjDdgdnhusZDKv8DCHQQABoMNjM3NDIzMTgzODA1IgwdRE%2FTLD4hj1DQ4Ogq3AM7w2Wp5l1%2FSpN2YPIOxTKs9E41q9oCxwEUV5pK9QXm5ouYwUVlYTJUxBrecPnMsmtr4DiXDCwbivR5ChTjZDD4QHOb4nAsXCL%2FXfAU%2FKlQ9hPyX4mf612GchFw76600aWFhpmVzaDmQZl1oL0ctrzRG9r3QBdmArkZ2RH2zIU0ybKz5P31KcydQYTgfHOtSsLRAZzAk8bRQ732uZ0c6YMgkOj7dcY4Y67PRumvhW2gYyBRotOKS2FFd1ZML5lirZt%2BRybdJmICLaRaxwuUsFzIaMp5pggvMBAZR4mBhiAs80933E9CgLUY0UlholLNhesCu%2BdzHO6fJRRUS4LvymmGZIgm0KHCh1W6J3Hno0csqYycmGJKPkpRdO%2FaCfTkzw0XBddvspt9OOWrWzKKt%2By2Pq5c7fsG6VoK0j6GN9%2Fy3NvMSaMvKSEGUU6GSvtxwYDzw2SUz%2B9TVFTJgLS2Ul5St1T11yGvj0zE17ass5BskVDozrexOu7CFiIw8zviX%2F%2FuiLMoY6V%2BGZXdZTbm9wfOb4wQAkd1bJZujC0GJiXlrlzv6uNCsUew1h8hNQTXJ1KZkE7CJ%2FLXnIRqTcExVWjpZBPBZV%2B5RU7gHJipB8ROKFoJTciywxdpbpzdnTDkjrHLBjqkAQjtatztfnpAJiyhI8KGaA4uxEx8jrVWxaDZQbYt5w1qA2%2Fi1MeOq80cnwiPI92ccLYRzoJ3PBee9APynn7MSBkZilBGcv3eHBOYqiB6zWjy%2FLjFL73aBuWWUCZixyMMIvD4eY4oUP1hLNzvflS0l5Se4M62ioK30i7UKKJzemqA9hYh%2B0Sz2Iq%2Bx8d9Y9sAaHlMM%2BL2Hw7MADzYHfz%2F7lMGJl8v&X-Amz-Signature=39d7a4411a151432e528ad3254dd4f6a588c1772432bb50733360e5086c026b1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YRGC6HRH%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041639Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDiDKmEmIPIPEkg8AVTB0UzK98Z4%2BQVdbUjBKhqypAEtwIhAL4suvpidFmKy0cNa5CPfdD%2FLqLdH8oicjDdgdnhusZDKv8DCHQQABoMNjM3NDIzMTgzODA1IgwdRE%2FTLD4hj1DQ4Ogq3AM7w2Wp5l1%2FSpN2YPIOxTKs9E41q9oCxwEUV5pK9QXm5ouYwUVlYTJUxBrecPnMsmtr4DiXDCwbivR5ChTjZDD4QHOb4nAsXCL%2FXfAU%2FKlQ9hPyX4mf612GchFw76600aWFhpmVzaDmQZl1oL0ctrzRG9r3QBdmArkZ2RH2zIU0ybKz5P31KcydQYTgfHOtSsLRAZzAk8bRQ732uZ0c6YMgkOj7dcY4Y67PRumvhW2gYyBRotOKS2FFd1ZML5lirZt%2BRybdJmICLaRaxwuUsFzIaMp5pggvMBAZR4mBhiAs80933E9CgLUY0UlholLNhesCu%2BdzHO6fJRRUS4LvymmGZIgm0KHCh1W6J3Hno0csqYycmGJKPkpRdO%2FaCfTkzw0XBddvspt9OOWrWzKKt%2By2Pq5c7fsG6VoK0j6GN9%2Fy3NvMSaMvKSEGUU6GSvtxwYDzw2SUz%2B9TVFTJgLS2Ul5St1T11yGvj0zE17ass5BskVDozrexOu7CFiIw8zviX%2F%2FuiLMoY6V%2BGZXdZTbm9wfOb4wQAkd1bJZujC0GJiXlrlzv6uNCsUew1h8hNQTXJ1KZkE7CJ%2FLXnIRqTcExVWjpZBPBZV%2B5RU7gHJipB8ROKFoJTciywxdpbpzdnTDkjrHLBjqkAQjtatztfnpAJiyhI8KGaA4uxEx8jrVWxaDZQbYt5w1qA2%2Fi1MeOq80cnwiPI92ccLYRzoJ3PBee9APynn7MSBkZilBGcv3eHBOYqiB6zWjy%2FLjFL73aBuWWUCZixyMMIvD4eY4oUP1hLNzvflS0l5Se4M62ioK30i7UKKJzemqA9hYh%2B0Sz2Iq%2Bx8d9Y9sAaHlMM%2BL2Hw7MADzYHfz%2F7lMGJl8v&X-Amz-Signature=ca78e570bcbf3729810ea3ac4bc25e6ef50d6d226ad9f5b5228c33eac1b4c456&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YRGC6HRH%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041639Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDiDKmEmIPIPEkg8AVTB0UzK98Z4%2BQVdbUjBKhqypAEtwIhAL4suvpidFmKy0cNa5CPfdD%2FLqLdH8oicjDdgdnhusZDKv8DCHQQABoMNjM3NDIzMTgzODA1IgwdRE%2FTLD4hj1DQ4Ogq3AM7w2Wp5l1%2FSpN2YPIOxTKs9E41q9oCxwEUV5pK9QXm5ouYwUVlYTJUxBrecPnMsmtr4DiXDCwbivR5ChTjZDD4QHOb4nAsXCL%2FXfAU%2FKlQ9hPyX4mf612GchFw76600aWFhpmVzaDmQZl1oL0ctrzRG9r3QBdmArkZ2RH2zIU0ybKz5P31KcydQYTgfHOtSsLRAZzAk8bRQ732uZ0c6YMgkOj7dcY4Y67PRumvhW2gYyBRotOKS2FFd1ZML5lirZt%2BRybdJmICLaRaxwuUsFzIaMp5pggvMBAZR4mBhiAs80933E9CgLUY0UlholLNhesCu%2BdzHO6fJRRUS4LvymmGZIgm0KHCh1W6J3Hno0csqYycmGJKPkpRdO%2FaCfTkzw0XBddvspt9OOWrWzKKt%2By2Pq5c7fsG6VoK0j6GN9%2Fy3NvMSaMvKSEGUU6GSvtxwYDzw2SUz%2B9TVFTJgLS2Ul5St1T11yGvj0zE17ass5BskVDozrexOu7CFiIw8zviX%2F%2FuiLMoY6V%2BGZXdZTbm9wfOb4wQAkd1bJZujC0GJiXlrlzv6uNCsUew1h8hNQTXJ1KZkE7CJ%2FLXnIRqTcExVWjpZBPBZV%2B5RU7gHJipB8ROKFoJTciywxdpbpzdnTDkjrHLBjqkAQjtatztfnpAJiyhI8KGaA4uxEx8jrVWxaDZQbYt5w1qA2%2Fi1MeOq80cnwiPI92ccLYRzoJ3PBee9APynn7MSBkZilBGcv3eHBOYqiB6zWjy%2FLjFL73aBuWWUCZixyMMIvD4eY4oUP1hLNzvflS0l5Se4M62ioK30i7UKKJzemqA9hYh%2B0Sz2Iq%2Bx8d9Y9sAaHlMM%2BL2Hw7MADzYHfz%2F7lMGJl8v&X-Amz-Signature=c4462adfa958cf1ffaa1d7789988742471f9f2d453a72f144bf32886ad271c64&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QDJZSWSS%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIC9fYBYd9c0AmjA4MnKeLjNYqh%2FhZVwNX3Lxv7t4EGAIAiA3kVY6UR8eLejlS8U%2F0VHG9TAjK%2FCwEdmNfMEpUi79nSr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMrgHWWn29%2BsQrF0RVKtwDkp8rDwS8pVlYB4ppMXVaDfeL%2FpjzKHuFJ2cCBtJMgnHUEcyEJaier4uNZm4Zmww0BPnMKDSj%2FiIi8wuTtmKpigdfC1ZLxaar3O7tKA5KQTQEALjxaMEVOId2XXyk2Aj4qVPwd9pe127VQnNKabB4m8rAU3ckDz%2FowZltJ3cyrmSPrRSAI5JCa6N7uMhAgkD3nlfLEhJofZ9Y7zKIrQoKAEQLiJBia0b4UBUjAI79rSFjQ04MXxTlzfhX5F%2Ff6hdcX3iwwlDwgjqE%2B04A7mlyN8ZL3p0eqQHvVj2w9%2BE%2FbHXgnyVow71T2SbQcqHhA%2BvPzZyuFrdYMyANeUN3JkqdwoGiZhlNdJk%2F1EMA%2FUTqsjAF9ZawTDmWgvsnmmAoBPTf9aj0tNs88lGguwkaOXBL8BeECJ1zPn1fVK%2BZ1SHcsYLlwFrVlMHnBmsgdEGxt%2B3LQNX5o1yiqEXz8VC%2FY%2Bwry8CAHKCQAQ38AyT7GGRKhJ6KVikIPtqC6jQXXHMhOwETpVUpdXvn5JGY7W5oHjHcB6TuiLrgPYxddGmmCzRozZJ70fxJOY1UQqlphAMNFUEbDrsjrPZ4tnhLlr5%2Fhs%2B%2FL%2BspPLR5ZoHfF4nE3pAZOJ%2BZNOxRR8%2FFrSdJOh4w446xywY6pgEmPyVm04jDl1zap%2Fjlr89oBr0xP8R8MRZBb2hteawqltSfXswlGDoC8GvPWzHxdx3s6hG4szYju0RAz3em3Y4XKf4ULhWmwov0kmKXWBBBdU9XMUlhlTBSYKc%2FyaJxOniXTdNnR0nN3Hpu%2F3E6OGgoYd5WmbNg9kHH%2BFVI2lMDvMIqDIhlHSVZhX7O0VRCjQdnCQIS3XP5x7QhQLkKOdJ4Rx7bfPF0&X-Amz-Signature=e6162cc896a55e41895fd78944ed71388a1864c87cf37cf4fee6ce53c5d72324&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QDJZSWSS%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIC9fYBYd9c0AmjA4MnKeLjNYqh%2FhZVwNX3Lxv7t4EGAIAiA3kVY6UR8eLejlS8U%2F0VHG9TAjK%2FCwEdmNfMEpUi79nSr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMrgHWWn29%2BsQrF0RVKtwDkp8rDwS8pVlYB4ppMXVaDfeL%2FpjzKHuFJ2cCBtJMgnHUEcyEJaier4uNZm4Zmww0BPnMKDSj%2FiIi8wuTtmKpigdfC1ZLxaar3O7tKA5KQTQEALjxaMEVOId2XXyk2Aj4qVPwd9pe127VQnNKabB4m8rAU3ckDz%2FowZltJ3cyrmSPrRSAI5JCa6N7uMhAgkD3nlfLEhJofZ9Y7zKIrQoKAEQLiJBia0b4UBUjAI79rSFjQ04MXxTlzfhX5F%2Ff6hdcX3iwwlDwgjqE%2B04A7mlyN8ZL3p0eqQHvVj2w9%2BE%2FbHXgnyVow71T2SbQcqHhA%2BvPzZyuFrdYMyANeUN3JkqdwoGiZhlNdJk%2F1EMA%2FUTqsjAF9ZawTDmWgvsnmmAoBPTf9aj0tNs88lGguwkaOXBL8BeECJ1zPn1fVK%2BZ1SHcsYLlwFrVlMHnBmsgdEGxt%2B3LQNX5o1yiqEXz8VC%2FY%2Bwry8CAHKCQAQ38AyT7GGRKhJ6KVikIPtqC6jQXXHMhOwETpVUpdXvn5JGY7W5oHjHcB6TuiLrgPYxddGmmCzRozZJ70fxJOY1UQqlphAMNFUEbDrsjrPZ4tnhLlr5%2Fhs%2B%2FL%2BspPLR5ZoHfF4nE3pAZOJ%2BZNOxRR8%2FFrSdJOh4w446xywY6pgEmPyVm04jDl1zap%2Fjlr89oBr0xP8R8MRZBb2hteawqltSfXswlGDoC8GvPWzHxdx3s6hG4szYju0RAz3em3Y4XKf4ULhWmwov0kmKXWBBBdU9XMUlhlTBSYKc%2FyaJxOniXTdNnR0nN3Hpu%2F3E6OGgoYd5WmbNg9kHH%2BFVI2lMDvMIqDIhlHSVZhX7O0VRCjQdnCQIS3XP5x7QhQLkKOdJ4Rx7bfPF0&X-Amz-Signature=6aab28563b470cb6ce8b926627b51e9251450663d4f8bda41cc6d75dbb56006a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QDJZSWSS%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIC9fYBYd9c0AmjA4MnKeLjNYqh%2FhZVwNX3Lxv7t4EGAIAiA3kVY6UR8eLejlS8U%2F0VHG9TAjK%2FCwEdmNfMEpUi79nSr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMrgHWWn29%2BsQrF0RVKtwDkp8rDwS8pVlYB4ppMXVaDfeL%2FpjzKHuFJ2cCBtJMgnHUEcyEJaier4uNZm4Zmww0BPnMKDSj%2FiIi8wuTtmKpigdfC1ZLxaar3O7tKA5KQTQEALjxaMEVOId2XXyk2Aj4qVPwd9pe127VQnNKabB4m8rAU3ckDz%2FowZltJ3cyrmSPrRSAI5JCa6N7uMhAgkD3nlfLEhJofZ9Y7zKIrQoKAEQLiJBia0b4UBUjAI79rSFjQ04MXxTlzfhX5F%2Ff6hdcX3iwwlDwgjqE%2B04A7mlyN8ZL3p0eqQHvVj2w9%2BE%2FbHXgnyVow71T2SbQcqHhA%2BvPzZyuFrdYMyANeUN3JkqdwoGiZhlNdJk%2F1EMA%2FUTqsjAF9ZawTDmWgvsnmmAoBPTf9aj0tNs88lGguwkaOXBL8BeECJ1zPn1fVK%2BZ1SHcsYLlwFrVlMHnBmsgdEGxt%2B3LQNX5o1yiqEXz8VC%2FY%2Bwry8CAHKCQAQ38AyT7GGRKhJ6KVikIPtqC6jQXXHMhOwETpVUpdXvn5JGY7W5oHjHcB6TuiLrgPYxddGmmCzRozZJ70fxJOY1UQqlphAMNFUEbDrsjrPZ4tnhLlr5%2Fhs%2B%2FL%2BspPLR5ZoHfF4nE3pAZOJ%2BZNOxRR8%2FFrSdJOh4w446xywY6pgEmPyVm04jDl1zap%2Fjlr89oBr0xP8R8MRZBb2hteawqltSfXswlGDoC8GvPWzHxdx3s6hG4szYju0RAz3em3Y4XKf4ULhWmwov0kmKXWBBBdU9XMUlhlTBSYKc%2FyaJxOniXTdNnR0nN3Hpu%2F3E6OGgoYd5WmbNg9kHH%2BFVI2lMDvMIqDIhlHSVZhX7O0VRCjQdnCQIS3XP5x7QhQLkKOdJ4Rx7bfPF0&X-Amz-Signature=130ddd85dbe650e4d9b7b4565d5b010932a13e9b4169f8142bb71543ae97ae1f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T6WMKIZO%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDSxrEIrmxZLuBWPFm2ol3%2BF1NDSjQYcnSAgGtEakl2jAiAwbVV%2BSug6%2BYmbw90XAqcQuZkK8KbGDJTanZfUShyRnCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMBQJ4IPYMh7Pw01ftKtwDDrZEbQDsjzTfLVP8BQ%2Bvmql1WA%2FJtK97kfo8t4oQdtKj4nUp34AmL%2B5rUpWJtPI2PX7CGkBhbUSZhkyt0NLHWMaUGn0KOhFc4d9HzdkE%2BniDEKLhBskABcmL182d6llQG1oxzcYxJ1YAqj%2FImz4s%2BNlnED%2BAUEQRsrXbvbjVv7btZGbCwSKtkJMRTWHHv5weRHNfn%2BEDRDXIzPRO6coIKsdYfCVzCHo4drLixrrespdRVAUF2upnh%2B1Yi7pyhmS1Z%2BKF1X6AVkfgmVQxyML1SmXln%2Bb4UFwusjE2hdP3nsDM7IbMzMSST70dglaA0Dlw%2FRj3fqYxcLOauNXWDGt%2FfThJAk6iA1yLC3sAUy%2Brl0iA%2BT1ksAIdH1dnqjcz40SbvdHM414%2FZeq3P61pH1dqseRxdrUvifYPeSGkFea5zebNUFBEvPZm9UoSCrUCJ%2BKdS0FNgfPO5tnz3vll59gBxJknS4NAzZKXmAqCKuZObraNCTOHzHoG7h62tfHe9bSj4kXp2K%2FZweVX3rkHKCYfv7q73zSbpXffY2BAAzXegf%2BM4RUxtzhWwKWk%2FuLlgfvr6X2slbwx6cFz5kF4hrY8nsI2PaMCjzzgIsW8NCJFREb5WHoLVce6IaGSJz4w9Y2xywY6pgHsY9yVtVOqIzGYHyg2WfmnsDMX6y%2BccJlgsRkdSk%2FtgyKFvmSANWzSHj4z7VuwLAS0eCHJUnma%2BVyWbB8sdrb4qdynxsjHZLRz%2B3BcLLn5ua%2FAzh5FxiLqZY7DPyve0QcLh8aSVhhYQgC86rAsBBxPFDnmkHAeWGj7c0jzXkaNxgSQdkbM%2F5VR7jZm8mLU%2BkwtUdN97m3hGRGn6AZlBxVsYzLJmUwS&X-Amz-Signature=f882029f86cceaeb0229fdf5e1a7bd6a8e98e00ae020c8dc2db9b0c821441cb4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T6WMKIZO%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDSxrEIrmxZLuBWPFm2ol3%2BF1NDSjQYcnSAgGtEakl2jAiAwbVV%2BSug6%2BYmbw90XAqcQuZkK8KbGDJTanZfUShyRnCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMBQJ4IPYMh7Pw01ftKtwDDrZEbQDsjzTfLVP8BQ%2Bvmql1WA%2FJtK97kfo8t4oQdtKj4nUp34AmL%2B5rUpWJtPI2PX7CGkBhbUSZhkyt0NLHWMaUGn0KOhFc4d9HzdkE%2BniDEKLhBskABcmL182d6llQG1oxzcYxJ1YAqj%2FImz4s%2BNlnED%2BAUEQRsrXbvbjVv7btZGbCwSKtkJMRTWHHv5weRHNfn%2BEDRDXIzPRO6coIKsdYfCVzCHo4drLixrrespdRVAUF2upnh%2B1Yi7pyhmS1Z%2BKF1X6AVkfgmVQxyML1SmXln%2Bb4UFwusjE2hdP3nsDM7IbMzMSST70dglaA0Dlw%2FRj3fqYxcLOauNXWDGt%2FfThJAk6iA1yLC3sAUy%2Brl0iA%2BT1ksAIdH1dnqjcz40SbvdHM414%2FZeq3P61pH1dqseRxdrUvifYPeSGkFea5zebNUFBEvPZm9UoSCrUCJ%2BKdS0FNgfPO5tnz3vll59gBxJknS4NAzZKXmAqCKuZObraNCTOHzHoG7h62tfHe9bSj4kXp2K%2FZweVX3rkHKCYfv7q73zSbpXffY2BAAzXegf%2BM4RUxtzhWwKWk%2FuLlgfvr6X2slbwx6cFz5kF4hrY8nsI2PaMCjzzgIsW8NCJFREb5WHoLVce6IaGSJz4w9Y2xywY6pgHsY9yVtVOqIzGYHyg2WfmnsDMX6y%2BccJlgsRkdSk%2FtgyKFvmSANWzSHj4z7VuwLAS0eCHJUnma%2BVyWbB8sdrb4qdynxsjHZLRz%2B3BcLLn5ua%2FAzh5FxiLqZY7DPyve0QcLh8aSVhhYQgC86rAsBBxPFDnmkHAeWGj7c0jzXkaNxgSQdkbM%2F5VR7jZm8mLU%2BkwtUdN97m3hGRGn6AZlBxVsYzLJmUwS&X-Amz-Signature=f39666fa2c0755815825df24ef5bd234b4a735d9b585195972c23eeac40f1c52&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T6WMKIZO%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDSxrEIrmxZLuBWPFm2ol3%2BF1NDSjQYcnSAgGtEakl2jAiAwbVV%2BSug6%2BYmbw90XAqcQuZkK8KbGDJTanZfUShyRnCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMBQJ4IPYMh7Pw01ftKtwDDrZEbQDsjzTfLVP8BQ%2Bvmql1WA%2FJtK97kfo8t4oQdtKj4nUp34AmL%2B5rUpWJtPI2PX7CGkBhbUSZhkyt0NLHWMaUGn0KOhFc4d9HzdkE%2BniDEKLhBskABcmL182d6llQG1oxzcYxJ1YAqj%2FImz4s%2BNlnED%2BAUEQRsrXbvbjVv7btZGbCwSKtkJMRTWHHv5weRHNfn%2BEDRDXIzPRO6coIKsdYfCVzCHo4drLixrrespdRVAUF2upnh%2B1Yi7pyhmS1Z%2BKF1X6AVkfgmVQxyML1SmXln%2Bb4UFwusjE2hdP3nsDM7IbMzMSST70dglaA0Dlw%2FRj3fqYxcLOauNXWDGt%2FfThJAk6iA1yLC3sAUy%2Brl0iA%2BT1ksAIdH1dnqjcz40SbvdHM414%2FZeq3P61pH1dqseRxdrUvifYPeSGkFea5zebNUFBEvPZm9UoSCrUCJ%2BKdS0FNgfPO5tnz3vll59gBxJknS4NAzZKXmAqCKuZObraNCTOHzHoG7h62tfHe9bSj4kXp2K%2FZweVX3rkHKCYfv7q73zSbpXffY2BAAzXegf%2BM4RUxtzhWwKWk%2FuLlgfvr6X2slbwx6cFz5kF4hrY8nsI2PaMCjzzgIsW8NCJFREb5WHoLVce6IaGSJz4w9Y2xywY6pgHsY9yVtVOqIzGYHyg2WfmnsDMX6y%2BccJlgsRkdSk%2FtgyKFvmSANWzSHj4z7VuwLAS0eCHJUnma%2BVyWbB8sdrb4qdynxsjHZLRz%2B3BcLLn5ua%2FAzh5FxiLqZY7DPyve0QcLh8aSVhhYQgC86rAsBBxPFDnmkHAeWGj7c0jzXkaNxgSQdkbM%2F5VR7jZm8mLU%2BkwtUdN97m3hGRGn6AZlBxVsYzLJmUwS&X-Amz-Signature=c703713052a4ecc48384527d9e5138cc88eb6fc4c88f79ab69d03c73a2eff4e6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T6WMKIZO%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDSxrEIrmxZLuBWPFm2ol3%2BF1NDSjQYcnSAgGtEakl2jAiAwbVV%2BSug6%2BYmbw90XAqcQuZkK8KbGDJTanZfUShyRnCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMBQJ4IPYMh7Pw01ftKtwDDrZEbQDsjzTfLVP8BQ%2Bvmql1WA%2FJtK97kfo8t4oQdtKj4nUp34AmL%2B5rUpWJtPI2PX7CGkBhbUSZhkyt0NLHWMaUGn0KOhFc4d9HzdkE%2BniDEKLhBskABcmL182d6llQG1oxzcYxJ1YAqj%2FImz4s%2BNlnED%2BAUEQRsrXbvbjVv7btZGbCwSKtkJMRTWHHv5weRHNfn%2BEDRDXIzPRO6coIKsdYfCVzCHo4drLixrrespdRVAUF2upnh%2B1Yi7pyhmS1Z%2BKF1X6AVkfgmVQxyML1SmXln%2Bb4UFwusjE2hdP3nsDM7IbMzMSST70dglaA0Dlw%2FRj3fqYxcLOauNXWDGt%2FfThJAk6iA1yLC3sAUy%2Brl0iA%2BT1ksAIdH1dnqjcz40SbvdHM414%2FZeq3P61pH1dqseRxdrUvifYPeSGkFea5zebNUFBEvPZm9UoSCrUCJ%2BKdS0FNgfPO5tnz3vll59gBxJknS4NAzZKXmAqCKuZObraNCTOHzHoG7h62tfHe9bSj4kXp2K%2FZweVX3rkHKCYfv7q73zSbpXffY2BAAzXegf%2BM4RUxtzhWwKWk%2FuLlgfvr6X2slbwx6cFz5kF4hrY8nsI2PaMCjzzgIsW8NCJFREb5WHoLVce6IaGSJz4w9Y2xywY6pgHsY9yVtVOqIzGYHyg2WfmnsDMX6y%2BccJlgsRkdSk%2FtgyKFvmSANWzSHj4z7VuwLAS0eCHJUnma%2BVyWbB8sdrb4qdynxsjHZLRz%2B3BcLLn5ua%2FAzh5FxiLqZY7DPyve0QcLh8aSVhhYQgC86rAsBBxPFDnmkHAeWGj7c0jzXkaNxgSQdkbM%2F5VR7jZm8mLU%2BkwtUdN97m3hGRGn6AZlBxVsYzLJmUwS&X-Amz-Signature=101d88dd37c5a8a9729f99b6e29e7926c71b4a2f9f465d9f891cce989023a16f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TQ5KKMHZ%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBd%2BY8KAHWmZolIASaswaJ8CovV4e%2B25frbkQcIkyInCAiBrEtWToFkZUFRMgT7l6puiGaars8PgsOZSBHkZpbxMfCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMwJeRq%2BCGFtIXNQvbKtwDLmX74h0ttfpbm%2FkokWctnAxI8%2BFeViW7qatIxUbfc0uIryWZlz%2FGfuYLEwZ1AcRG%2FDrQDCYfYmyOigzIm1Ocy3ZbMj9dWaRYr15YWXlo4eqO%2Btqpz3J2SWEdqWekmZiV6CTiucBcP5ztLoD5SgNhPxqMwsMsm0IxfKJXrOxnZ8XVvdPOESGRps2bmKWetAYeMeTn5DDC%2BAi026kcXqe3vRIH9XrwYPh%2BGaY1z0ex63roNCXtM9E9IGVShHjYyhJjNjUG%2BW6IrMvyTPsA3f6FkttxeugVo6gKB%2Bnxa3jMCKfK95Yl3j2MESAP0WRiaSK6lsXpYxkJbImDbF1fwxBZk8S3FimO79XMaTPpOBUdIvm0GNgrXCfkgfnl63vnwnyNzHWMZMYVQSjp4oT3eMr2c61%2FqqnhB1YQ1aelKj4tJpkC1zzEUu1skOPY2vlByRow4nAzUq4onfj6UpxJkUSC%2B7sskAGz8qQHrY6rm0UyYw4JwKIXBhVI5PzP1umTDnNjdQ5caTct233mXa%2F4dirVJWjPwBNro5U48Xke6dlBtyQqg6QaqlEIxXk6IuGm%2FIFqpX7OXUDA3hpZqe%2FX8XQBDltonlgIRuZnx7XIyETK95%2BS6fnmhQAOEj1EixUwoY6xywY6pgFLQeK5eCEoVDWMATzTiJ59JvXPngUZXTBhSoTxOv6AygBhVk5ToEeip5LkAqsDBIK9SB80nIiMZp6l7ZID1QCQR0OQQ8LSvn1sxjufe5lUykveFG69hUXApwcWDyAP9NGuJdHrSfZz4z52Jkjki0PK7Of8r6zZX4uKZ93e8GeTzhk47rtcjA90rgaXsO1HKFwxhKsL7HPsBwD8lfjEXT0i4V6uSdfc&X-Amz-Signature=04cab9a8bb9e3466b63213b2eb7ebc03a26104c005c3b2fdbef2b3b1dd113afc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TQ5KKMHZ%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBd%2BY8KAHWmZolIASaswaJ8CovV4e%2B25frbkQcIkyInCAiBrEtWToFkZUFRMgT7l6puiGaars8PgsOZSBHkZpbxMfCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMwJeRq%2BCGFtIXNQvbKtwDLmX74h0ttfpbm%2FkokWctnAxI8%2BFeViW7qatIxUbfc0uIryWZlz%2FGfuYLEwZ1AcRG%2FDrQDCYfYmyOigzIm1Ocy3ZbMj9dWaRYr15YWXlo4eqO%2Btqpz3J2SWEdqWekmZiV6CTiucBcP5ztLoD5SgNhPxqMwsMsm0IxfKJXrOxnZ8XVvdPOESGRps2bmKWetAYeMeTn5DDC%2BAi026kcXqe3vRIH9XrwYPh%2BGaY1z0ex63roNCXtM9E9IGVShHjYyhJjNjUG%2BW6IrMvyTPsA3f6FkttxeugVo6gKB%2Bnxa3jMCKfK95Yl3j2MESAP0WRiaSK6lsXpYxkJbImDbF1fwxBZk8S3FimO79XMaTPpOBUdIvm0GNgrXCfkgfnl63vnwnyNzHWMZMYVQSjp4oT3eMr2c61%2FqqnhB1YQ1aelKj4tJpkC1zzEUu1skOPY2vlByRow4nAzUq4onfj6UpxJkUSC%2B7sskAGz8qQHrY6rm0UyYw4JwKIXBhVI5PzP1umTDnNjdQ5caTct233mXa%2F4dirVJWjPwBNro5U48Xke6dlBtyQqg6QaqlEIxXk6IuGm%2FIFqpX7OXUDA3hpZqe%2FX8XQBDltonlgIRuZnx7XIyETK95%2BS6fnmhQAOEj1EixUwoY6xywY6pgFLQeK5eCEoVDWMATzTiJ59JvXPngUZXTBhSoTxOv6AygBhVk5ToEeip5LkAqsDBIK9SB80nIiMZp6l7ZID1QCQR0OQQ8LSvn1sxjufe5lUykveFG69hUXApwcWDyAP9NGuJdHrSfZz4z52Jkjki0PK7Of8r6zZX4uKZ93e8GeTzhk47rtcjA90rgaXsO1HKFwxhKsL7HPsBwD8lfjEXT0i4V6uSdfc&X-Amz-Signature=2f59af81530ee267c26b00f50d9bf3bc82c0135f2703da9aadc158fe47deac1a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TQ5KKMHZ%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBd%2BY8KAHWmZolIASaswaJ8CovV4e%2B25frbkQcIkyInCAiBrEtWToFkZUFRMgT7l6puiGaars8PgsOZSBHkZpbxMfCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMwJeRq%2BCGFtIXNQvbKtwDLmX74h0ttfpbm%2FkokWctnAxI8%2BFeViW7qatIxUbfc0uIryWZlz%2FGfuYLEwZ1AcRG%2FDrQDCYfYmyOigzIm1Ocy3ZbMj9dWaRYr15YWXlo4eqO%2Btqpz3J2SWEdqWekmZiV6CTiucBcP5ztLoD5SgNhPxqMwsMsm0IxfKJXrOxnZ8XVvdPOESGRps2bmKWetAYeMeTn5DDC%2BAi026kcXqe3vRIH9XrwYPh%2BGaY1z0ex63roNCXtM9E9IGVShHjYyhJjNjUG%2BW6IrMvyTPsA3f6FkttxeugVo6gKB%2Bnxa3jMCKfK95Yl3j2MESAP0WRiaSK6lsXpYxkJbImDbF1fwxBZk8S3FimO79XMaTPpOBUdIvm0GNgrXCfkgfnl63vnwnyNzHWMZMYVQSjp4oT3eMr2c61%2FqqnhB1YQ1aelKj4tJpkC1zzEUu1skOPY2vlByRow4nAzUq4onfj6UpxJkUSC%2B7sskAGz8qQHrY6rm0UyYw4JwKIXBhVI5PzP1umTDnNjdQ5caTct233mXa%2F4dirVJWjPwBNro5U48Xke6dlBtyQqg6QaqlEIxXk6IuGm%2FIFqpX7OXUDA3hpZqe%2FX8XQBDltonlgIRuZnx7XIyETK95%2BS6fnmhQAOEj1EixUwoY6xywY6pgFLQeK5eCEoVDWMATzTiJ59JvXPngUZXTBhSoTxOv6AygBhVk5ToEeip5LkAqsDBIK9SB80nIiMZp6l7ZID1QCQR0OQQ8LSvn1sxjufe5lUykveFG69hUXApwcWDyAP9NGuJdHrSfZz4z52Jkjki0PK7Of8r6zZX4uKZ93e8GeTzhk47rtcjA90rgaXsO1HKFwxhKsL7HPsBwD8lfjEXT0i4V6uSdfc&X-Amz-Signature=dd520a8760ad44a7e0e477e52baf081ec0dc6bd9a0e4e03466c80d00845148c5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TQ5KKMHZ%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBd%2BY8KAHWmZolIASaswaJ8CovV4e%2B25frbkQcIkyInCAiBrEtWToFkZUFRMgT7l6puiGaars8PgsOZSBHkZpbxMfCr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMwJeRq%2BCGFtIXNQvbKtwDLmX74h0ttfpbm%2FkokWctnAxI8%2BFeViW7qatIxUbfc0uIryWZlz%2FGfuYLEwZ1AcRG%2FDrQDCYfYmyOigzIm1Ocy3ZbMj9dWaRYr15YWXlo4eqO%2Btqpz3J2SWEdqWekmZiV6CTiucBcP5ztLoD5SgNhPxqMwsMsm0IxfKJXrOxnZ8XVvdPOESGRps2bmKWetAYeMeTn5DDC%2BAi026kcXqe3vRIH9XrwYPh%2BGaY1z0ex63roNCXtM9E9IGVShHjYyhJjNjUG%2BW6IrMvyTPsA3f6FkttxeugVo6gKB%2Bnxa3jMCKfK95Yl3j2MESAP0WRiaSK6lsXpYxkJbImDbF1fwxBZk8S3FimO79XMaTPpOBUdIvm0GNgrXCfkgfnl63vnwnyNzHWMZMYVQSjp4oT3eMr2c61%2FqqnhB1YQ1aelKj4tJpkC1zzEUu1skOPY2vlByRow4nAzUq4onfj6UpxJkUSC%2B7sskAGz8qQHrY6rm0UyYw4JwKIXBhVI5PzP1umTDnNjdQ5caTct233mXa%2F4dirVJWjPwBNro5U48Xke6dlBtyQqg6QaqlEIxXk6IuGm%2FIFqpX7OXUDA3hpZqe%2FX8XQBDltonlgIRuZnx7XIyETK95%2BS6fnmhQAOEj1EixUwoY6xywY6pgFLQeK5eCEoVDWMATzTiJ59JvXPngUZXTBhSoTxOv6AygBhVk5ToEeip5LkAqsDBIK9SB80nIiMZp6l7ZID1QCQR0OQQ8LSvn1sxjufe5lUykveFG69hUXApwcWDyAP9NGuJdHrSfZz4z52Jkjki0PK7Of8r6zZX4uKZ93e8GeTzhk47rtcjA90rgaXsO1HKFwxhKsL7HPsBwD8lfjEXT0i4V6uSdfc&X-Amz-Signature=70ddc89bcb5f9eb1718d699499538d7d1430008be03b999928fdd457935ff990&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZWTVRE5X%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDutpjNC3omMVk1eMqu8wvC2qi%2BV%2FKPwTdxYuAiZVZk7AIhAMKsMROIAtjR3ycczi9AQV0bD%2BDoThXcjQj7jRaCalSnKv8DCHQQABoMNjM3NDIzMTgzODA1IgxjWYPSeQ9zq8APyWUq3APQgtYd4ma9eSK%2FE5jUWJqAFS03pcPF%2BCYeSKIWrsgd625cHMqn76XxLogEx7NrQ11Rv6bga6CJ7zJ6BxT26Qm6CkXNctalxJcb7ptj7%2F%2FW13Je0Go0M%2BnKmsTsoiBncUYHM5kUHIY1udiA0XMKv6K55vS5W9cUtbDYToq1m7KDYhWzm%2F%2BTFvj%2BkNbughe%2FTsCc2AhVZ3pzmL%2BBKElVpLUDONV3KbUWXtdni3eJrjJaZD40WRPM7phY5mrGC0DxVDY7YRTNKcm5kyelntQgiz6ZSWneY1r2KLRupp1u9HQBfCoRv5dZQQwG78e9P6fJAaYBKCxTIHBvIAvy9puSM%2Fh2NRS1bm2i4EyVcWua9dk7wjAFSModuwnBDbnMyeQ%2BSrudMzDItGzbyv9vvO6x7swdf24%2BYiOCq5an5rX8%2FWzQT0AfUPmv%2F7PSNqLd1VVxck77bqhYhM5Nktf%2FM%2FFc1Ae%2BR%2FHjH2URzLlAAe%2FdI2Dsf7jJo%2FrufGkb3f%2FiIpkIgWUijDmPioUfrKOBPhI3LMnV0M2kAAdbTFqM3gwBYlAlzi0URc2r%2FCcUk7PoRJXv1hWfgKw6SH5B2Ceh2g8GtJKsdcYK%2FmHUr4ujeyPFlaLLNJokve7UtFBoZxx5QjD2jbHLBjqkAdrHZvZKMksyE%2BofzvifQdpq1l5YMEEK9BnMBbqiuxLZv7HOdryRVz4TtHbT3AUTxmMDw1UwXewCE6yT7PAmgXtvYKOhrjVNZE6OSdxpnzLTDKagfIrjHiX4SsjuWnCeDVldZTm1ix7z5D%2Bp%2FkKqVnk5fa5A9tnkxfDa6zpar26IDj2%2FDLF9fBG99CYBkFlYfGHjCGA7t1yobBfzfNBjwg9sOwNN&X-Amz-Signature=4b6da5b08a2367a232feaa2031793aac61a89462bab508da5d04e1ad790b9edc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZWTVRE5X%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDutpjNC3omMVk1eMqu8wvC2qi%2BV%2FKPwTdxYuAiZVZk7AIhAMKsMROIAtjR3ycczi9AQV0bD%2BDoThXcjQj7jRaCalSnKv8DCHQQABoMNjM3NDIzMTgzODA1IgxjWYPSeQ9zq8APyWUq3APQgtYd4ma9eSK%2FE5jUWJqAFS03pcPF%2BCYeSKIWrsgd625cHMqn76XxLogEx7NrQ11Rv6bga6CJ7zJ6BxT26Qm6CkXNctalxJcb7ptj7%2F%2FW13Je0Go0M%2BnKmsTsoiBncUYHM5kUHIY1udiA0XMKv6K55vS5W9cUtbDYToq1m7KDYhWzm%2F%2BTFvj%2BkNbughe%2FTsCc2AhVZ3pzmL%2BBKElVpLUDONV3KbUWXtdni3eJrjJaZD40WRPM7phY5mrGC0DxVDY7YRTNKcm5kyelntQgiz6ZSWneY1r2KLRupp1u9HQBfCoRv5dZQQwG78e9P6fJAaYBKCxTIHBvIAvy9puSM%2Fh2NRS1bm2i4EyVcWua9dk7wjAFSModuwnBDbnMyeQ%2BSrudMzDItGzbyv9vvO6x7swdf24%2BYiOCq5an5rX8%2FWzQT0AfUPmv%2F7PSNqLd1VVxck77bqhYhM5Nktf%2FM%2FFc1Ae%2BR%2FHjH2URzLlAAe%2FdI2Dsf7jJo%2FrufGkb3f%2FiIpkIgWUijDmPioUfrKOBPhI3LMnV0M2kAAdbTFqM3gwBYlAlzi0URc2r%2FCcUk7PoRJXv1hWfgKw6SH5B2Ceh2g8GtJKsdcYK%2FmHUr4ujeyPFlaLLNJokve7UtFBoZxx5QjD2jbHLBjqkAdrHZvZKMksyE%2BofzvifQdpq1l5YMEEK9BnMBbqiuxLZv7HOdryRVz4TtHbT3AUTxmMDw1UwXewCE6yT7PAmgXtvYKOhrjVNZE6OSdxpnzLTDKagfIrjHiX4SsjuWnCeDVldZTm1ix7z5D%2Bp%2FkKqVnk5fa5A9tnkxfDa6zpar26IDj2%2FDLF9fBG99CYBkFlYfGHjCGA7t1yobBfzfNBjwg9sOwNN&X-Amz-Signature=8415cdefdd096b63f70962961e50e970b297276ed24db2dbaf9ab9ed6885ecbb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZWTVRE5X%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041640Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDutpjNC3omMVk1eMqu8wvC2qi%2BV%2FKPwTdxYuAiZVZk7AIhAMKsMROIAtjR3ycczi9AQV0bD%2BDoThXcjQj7jRaCalSnKv8DCHQQABoMNjM3NDIzMTgzODA1IgxjWYPSeQ9zq8APyWUq3APQgtYd4ma9eSK%2FE5jUWJqAFS03pcPF%2BCYeSKIWrsgd625cHMqn76XxLogEx7NrQ11Rv6bga6CJ7zJ6BxT26Qm6CkXNctalxJcb7ptj7%2F%2FW13Je0Go0M%2BnKmsTsoiBncUYHM5kUHIY1udiA0XMKv6K55vS5W9cUtbDYToq1m7KDYhWzm%2F%2BTFvj%2BkNbughe%2FTsCc2AhVZ3pzmL%2BBKElVpLUDONV3KbUWXtdni3eJrjJaZD40WRPM7phY5mrGC0DxVDY7YRTNKcm5kyelntQgiz6ZSWneY1r2KLRupp1u9HQBfCoRv5dZQQwG78e9P6fJAaYBKCxTIHBvIAvy9puSM%2Fh2NRS1bm2i4EyVcWua9dk7wjAFSModuwnBDbnMyeQ%2BSrudMzDItGzbyv9vvO6x7swdf24%2BYiOCq5an5rX8%2FWzQT0AfUPmv%2F7PSNqLd1VVxck77bqhYhM5Nktf%2FM%2FFc1Ae%2BR%2FHjH2URzLlAAe%2FdI2Dsf7jJo%2FrufGkb3f%2FiIpkIgWUijDmPioUfrKOBPhI3LMnV0M2kAAdbTFqM3gwBYlAlzi0URc2r%2FCcUk7PoRJXv1hWfgKw6SH5B2Ceh2g8GtJKsdcYK%2FmHUr4ujeyPFlaLLNJokve7UtFBoZxx5QjD2jbHLBjqkAdrHZvZKMksyE%2BofzvifQdpq1l5YMEEK9BnMBbqiuxLZv7HOdryRVz4TtHbT3AUTxmMDw1UwXewCE6yT7PAmgXtvYKOhrjVNZE6OSdxpnzLTDKagfIrjHiX4SsjuWnCeDVldZTm1ix7z5D%2Bp%2FkKqVnk5fa5A9tnkxfDa6zpar26IDj2%2FDLF9fBG99CYBkFlYfGHjCGA7t1yobBfzfNBjwg9sOwNN&X-Amz-Signature=7ead5c20644354d1ee0479cd11af32ee60821844d7f81602088a461380315d31&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466522P44DY%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041641Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC3Q2QMBy7eovYR3S7IJkheSlbIFCZZcRkW6QQlCUWw7wIgAJwbzgJCA1kvxVjwOvlY7BHIvG2Bt76nVpqZ8BSztukq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDASo7ineKo9Ev0MEPCrcAypSBJxcx9lA64dIVawz9UdD1PxW6aYBgph1xVuEcT%2Fh%2BkWwCrurrTvxKW8%2FemHti9sg0szVaLz88LxClL2A%2BadKucRB41Dg1oO7AZFnDR%2BLzu2mFA5rQBObP9D6u9hmVmCDx8NZnL4oJkOAVKChLMA8zr4VsHG3sYVSMTLn3jemc5unVItJYY3V5A1hFUx60OgqMXsui3oVjD9ZhE%2BxapvE7eW5c3ZwcbdiLjGbLHbGWmO3dev92OiDgBtRFpYwkLuTU2Q4oNPjOXQYSogdMlMeKEXcyzIDaBPmd%2Fq0u4P1R3cbebB8fpDns520UADlBujOirys8%2F7BanrYEBwX91P35wCjjfOAuHogaKRseqsBDdFtDoKnUMW%2B9qeemxc%2BN0mKSX2AVGDYbH22MSC5bmW6I%2B%2BwaSL%2BTKz6pGrKjUPHpruRwMokGZAOJTjxeNoziNxsvHxZy7kVO8QED9BNkJveK0exhfk1yF%2BM2SK2qx4ppVg4ZjsEQJuuAk6lCdZ8Td4YZknvXvJ6dortsq9sbgH4ZAw6RxB11ja6hsslS6jFwKCLtTk28e%2B%2FxCRpRF8WD5i69TTVrJfztyFZY6zMw4ss3GT4TchnO7Zh4%2B7OD1BHehWTP6jXBPX8oB2sMKyOscsGOqUBtDIBchvLNMmdi4NDQg8SkTIZgf7fGxY80PbidMU8Le8GK8FhCkILKEeFQmvJHEu3BYuKxs0mDv2IQnOeyhkiD%2BxObfODi21H904muJ4nKB9VsaFVHLBMKOtX1vJ7CXzPwOf8A7ObsAXG%2BKyX0ksV%2F9IyRfBxh53Oj59jVsj3PPda0LhV5Xz0zuvRp2nKNjNM%2Fqn57I7srCYaY2iUWNueT0tjSOKx&X-Amz-Signature=48c6520a41021d4fd09cc9eaf48f71d114e031fe8471d7c27fc29f0732d1b8c1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466522P44DY%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041641Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC3Q2QMBy7eovYR3S7IJkheSlbIFCZZcRkW6QQlCUWw7wIgAJwbzgJCA1kvxVjwOvlY7BHIvG2Bt76nVpqZ8BSztukq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDASo7ineKo9Ev0MEPCrcAypSBJxcx9lA64dIVawz9UdD1PxW6aYBgph1xVuEcT%2Fh%2BkWwCrurrTvxKW8%2FemHti9sg0szVaLz88LxClL2A%2BadKucRB41Dg1oO7AZFnDR%2BLzu2mFA5rQBObP9D6u9hmVmCDx8NZnL4oJkOAVKChLMA8zr4VsHG3sYVSMTLn3jemc5unVItJYY3V5A1hFUx60OgqMXsui3oVjD9ZhE%2BxapvE7eW5c3ZwcbdiLjGbLHbGWmO3dev92OiDgBtRFpYwkLuTU2Q4oNPjOXQYSogdMlMeKEXcyzIDaBPmd%2Fq0u4P1R3cbebB8fpDns520UADlBujOirys8%2F7BanrYEBwX91P35wCjjfOAuHogaKRseqsBDdFtDoKnUMW%2B9qeemxc%2BN0mKSX2AVGDYbH22MSC5bmW6I%2B%2BwaSL%2BTKz6pGrKjUPHpruRwMokGZAOJTjxeNoziNxsvHxZy7kVO8QED9BNkJveK0exhfk1yF%2BM2SK2qx4ppVg4ZjsEQJuuAk6lCdZ8Td4YZknvXvJ6dortsq9sbgH4ZAw6RxB11ja6hsslS6jFwKCLtTk28e%2B%2FxCRpRF8WD5i69TTVrJfztyFZY6zMw4ss3GT4TchnO7Zh4%2B7OD1BHehWTP6jXBPX8oB2sMKyOscsGOqUBtDIBchvLNMmdi4NDQg8SkTIZgf7fGxY80PbidMU8Le8GK8FhCkILKEeFQmvJHEu3BYuKxs0mDv2IQnOeyhkiD%2BxObfODi21H904muJ4nKB9VsaFVHLBMKOtX1vJ7CXzPwOf8A7ObsAXG%2BKyX0ksV%2F9IyRfBxh53Oj59jVsj3PPda0LhV5Xz0zuvRp2nKNjNM%2Fqn57I7srCYaY2iUWNueT0tjSOKx&X-Amz-Signature=371fabeee964de0ae37c2080f89c61253ef6ba01748daf03f8a928360645f328&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663UKRHB23%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041641Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFnzwR7%2Fb9vk0k%2B3xMclWb%2BxPSBjSLnarX0T23MFmnCyAiA2bSlnVLM364qSXn1Ul%2BiCNSknXRHqT6Oe4%2FYSTYQApSr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMIv3gkop%2FacHOZ9EAKtwDcG4LJWMTNhU8qf5zGSFQDbCiQMBprv3WHcgepim%2BvUoQ9ghq%2FQkMdoQSNYExIg4F4f%2Bqg1atkC54pXWm4F%2BqqGuDtA623JC4QbwEGtqKHzJthdYerkyXWRw0yVjekYSoAqNd0iap9pw7dQM88CyT3NlP18z8kXP7utdjmOPxEn58KNIo5eFiJjXtImGNYFt51901Pa33vlgMqFOIV%2FFTBBSVvZXTrixXLGOTzv3aGRBup7Oob88OnqvwzuPgvmC4igcXhN9UlRaZiDJqy8JHY2%2F3SZKvKp3SUto9Ce9c%2B5O4rq2EOV%2FdA8fgZwF0qyjqnWJ8fcENIDDyAi6zkCmWzYuoEyhq4MbgNgvoop181rEIJF6t1V%2BKl3jdyBuhCY9gMXHezw42WVQgJC9u2%2Bn%2BCW819QCOc9G1%2BdUAwGdY20Ad7yRtmtDhshP87%2FX%2B4mmvXem3DqxHi19NRhr%2BpF0E4JDyOYyl%2BQv0CPsFc8d9b7clXF8z5jZ3gTkIefnOFU9KsFHESWLewalor%2BSNrVWQ2F7yIykT4zOXs3dE6Yg%2F8tmhwV8v415VqvRP04qwG1nhUwQaAxww7JMbORoVeR%2Bg5RO0HKivO1jAmjmAKV10cCVdP6uI%2Baw21rULmJwwjY6xywY6pgFENrE%2FCo%2BXWeUHB06SCtsvbIK6CtNSKzsrmNFUNCf8tIuZagWQdYMhm6vaoCTjYAgyzn1919wUuowGZRVEPVFwzrysX5ozV6q69FF1PwINVKOoin1aLi9F4THtS8Q2WaQOny%2F0W7dhMf2GN%2F45BRs4CiLYtR3yV47qyQqh%2BCRZ8jHzF5HeWDTjtfhQUY2GpEQFqm0v4MXsCbnYqjRtBl3MD8a2X6N7&X-Amz-Signature=2ac2ee4120c6e159e94ae8798d0b099aebaa81859df1f78aa6000159063055de&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663UKRHB23%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041641Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFnzwR7%2Fb9vk0k%2B3xMclWb%2BxPSBjSLnarX0T23MFmnCyAiA2bSlnVLM364qSXn1Ul%2BiCNSknXRHqT6Oe4%2FYSTYQApSr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMIv3gkop%2FacHOZ9EAKtwDcG4LJWMTNhU8qf5zGSFQDbCiQMBprv3WHcgepim%2BvUoQ9ghq%2FQkMdoQSNYExIg4F4f%2Bqg1atkC54pXWm4F%2BqqGuDtA623JC4QbwEGtqKHzJthdYerkyXWRw0yVjekYSoAqNd0iap9pw7dQM88CyT3NlP18z8kXP7utdjmOPxEn58KNIo5eFiJjXtImGNYFt51901Pa33vlgMqFOIV%2FFTBBSVvZXTrixXLGOTzv3aGRBup7Oob88OnqvwzuPgvmC4igcXhN9UlRaZiDJqy8JHY2%2F3SZKvKp3SUto9Ce9c%2B5O4rq2EOV%2FdA8fgZwF0qyjqnWJ8fcENIDDyAi6zkCmWzYuoEyhq4MbgNgvoop181rEIJF6t1V%2BKl3jdyBuhCY9gMXHezw42WVQgJC9u2%2Bn%2BCW819QCOc9G1%2BdUAwGdY20Ad7yRtmtDhshP87%2FX%2B4mmvXem3DqxHi19NRhr%2BpF0E4JDyOYyl%2BQv0CPsFc8d9b7clXF8z5jZ3gTkIefnOFU9KsFHESWLewalor%2BSNrVWQ2F7yIykT4zOXs3dE6Yg%2F8tmhwV8v415VqvRP04qwG1nhUwQaAxww7JMbORoVeR%2Bg5RO0HKivO1jAmjmAKV10cCVdP6uI%2Baw21rULmJwwjY6xywY6pgFENrE%2FCo%2BXWeUHB06SCtsvbIK6CtNSKzsrmNFUNCf8tIuZagWQdYMhm6vaoCTjYAgyzn1919wUuowGZRVEPVFwzrysX5ozV6q69FF1PwINVKOoin1aLi9F4THtS8Q2WaQOny%2F0W7dhMf2GN%2F45BRs4CiLYtR3yV47qyQqh%2BCRZ8jHzF5HeWDTjtfhQUY2GpEQFqm0v4MXsCbnYqjRtBl3MD8a2X6N7&X-Amz-Signature=cdf703ab8ce25ab136464f6b5781f720259078b47fd0f3c5125669879473976d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3DGAJTC%2F20260118%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260118T041641Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJFMEMCHx087WUWguFclyag%2BRokVQAdAkb6%2Fqo98ITaRHFt5SECIBWpxlAdjbt3lGjDuBg2KzvRAEHrLCAxP1LnT9K6A%2Bx3Kv8DCHQQABoMNjM3NDIzMTgzODA1Igz6XZCaJpZP%2F7ppXagq3AP2X%2F7oHiv3ZHZV3k95BJ8TOv6qrIotSE6qHw85crxukgv30CAt1F0%2Fhv3ECSccQegBeh3B0WiiBJxr8FULxBuil5WDufmhp5TdC5lHsMJJd42AXvpqLWQuS1rpZIB15l8gfG4k64DVFCZVjTqqZZ6ilT7wsUw5FkAwg1DW00WRCPY%2F2LZGmyk%2FWmuJxU0axh0Q4SD6soD9RKklGQIaY3lMi8mbUs%2B9%2BhZK6BkhXi4tX8LH5GDZnnpRhJuksa4kiDb6zqaMgijH3MvgY1BY7sPm6uX9Yx5odf4rumYEYuXiOvpNrYKSzww7BYE77L9NEB1aZQ6LXr5Uk46EDkTWxXiZzl2VaOk79W0uv6odzS9aqawCJ8JtP8HsENm9x7Bmn65EW0qHtjt00wVkd6ZWDluWDX1lSdTtynYFQYBb5R9W4pt9EdzWt6kMGZ0L%2BijEMJ7zh9dlv%2FrOWjn6D5vMsTNtX65%2FPxuE%2FPYn%2Fx%2Fa5bXHJ5wk5y1h0RPs4Yzqit9AwA5c9HZC3I9CUTpEKKsMXmw4zts2zHwk%2B%2Bkj%2F1XRINe4LIXrbjMwoEEQ0f48esd8P3jtIFQ5loqcCCKOhRL4Hnj3OlaWAFxTNcDZ8K73GYirq35NY6NBmzyeQBQhtTDBjrHLBjqnASTHDAdBIfuQW4UEa60T2MM7v4uzPW5DTNWIvJ3B6SHf%2Fi0%2F2geT%2BBxhSMkU1InlyjTb1gaDsMC9MfAkZdTWCoxdYS7cOBUIYLPfoZ9iPH0hOVTMZ%2BgVlrxhW%2BkILMmKtQV13JlXFHwZSXpjYpumupbCbceoaorNW3oWFvnRtemeACIFJsOVGtmLe6dD0qQ3yXMLWuDXLgGMpc09uqk2jkpCmn%2FV%2BWUY&X-Amz-Signature=e1ce7cdeecaca9e0db4896476a6ca85b75e8ddb07a9cf97286fbe2faa57259f9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
