
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662Y2K4DKA%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQDzPrezLNMr5w1xy30mW9vC24vQTt0N3auoSUYBQyt7QAIhAOlKmmO60WYNITKt%2BdWvCLgpNsrYXJN9ojyff%2BG0y5StKv8DCEUQABoMNjM3NDIzMTgzODA1IgyywYoVAdybt22DNNcq3AOfz%2B71eGuNTJlxivQv9n732rFD3YpKas3WnzIDLeJye4SHz7gGhdaDHgpeCrpW9Jkm2ahSIKgNKNE2C8mVIiKmoarpuT2oX9VxL0bICQVrEwf9fmRGEeTdd%2Fp3A%2Fv0QBBNSldiOOIaB6%2BYdEB7Wd0cSpD9A3%2BfgjBaAlfifGuniSMiCUzqCldRUP93wBkV2%2Bv05l8wmSVtM%2FBPOHx4SOypTAAbKpP4rpdtw74BmZU9bbwk3twBPN1qJB4hjLhIfdvb8jXeQKCbCfA6Csf15BtphBu7unmc38x9NvUkyyhchHZlM2trqeLGRNvSjJ8fPcz4iAAoLRMKH8u9P2Krccgd13bdIpjla0mPkCm0%2FIZCljGlU44MusUCjVoCTIBmo5npyB5Qp6ErB2O7wYUx8yXxyVNVmBx4uSZO%2FPUBuAnwf%2BGlu5yOcaB7vorxc%2FRmd15sHCf5lSATUvmKI%2FBNfEaJloL9GeBWZt4Fyx5rbe2yOZCpifxevteprRmg1hTyFw%2B8Wu1AMGkg4jaiPmt24F4pv%2Bn5zp4DLQmppTiXwOJOVmjoPW1q8ZB377z7eoClv4sV1rjwyjUv%2FLTZ%2F%2FvADlR%2FTkYVKR468GoYH41aUOQFw08%2FK79QoLOTl3DSgjCP7qbLBjqkAbWLliIDSUjYFHQw03DBAjw%2FiOaAwMW2KWFWg6adH0r4LluOMRAyJ1%2BJNnOSwUviF0046PyLAcTgzhnCeKR6KOSOIq4jeylBcwx6OWmCS%2BNwNHGJ%2FtI1m1sku2aIkSk5gcYp5rHhxQ0ymQnCXrH%2BKLP8LpCwFmMWhsSNPKUwc5lVTozlMkmAicKpxzrVzPaqtebCS%2BdCXsdP41a8KQZOetqESE0L&X-Amz-Signature=74ba21267b376f664ee9f06a2c3f1e4aeba0c997cf5b1b3b211a0360a5f9d2a5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662Y2K4DKA%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQDzPrezLNMr5w1xy30mW9vC24vQTt0N3auoSUYBQyt7QAIhAOlKmmO60WYNITKt%2BdWvCLgpNsrYXJN9ojyff%2BG0y5StKv8DCEUQABoMNjM3NDIzMTgzODA1IgyywYoVAdybt22DNNcq3AOfz%2B71eGuNTJlxivQv9n732rFD3YpKas3WnzIDLeJye4SHz7gGhdaDHgpeCrpW9Jkm2ahSIKgNKNE2C8mVIiKmoarpuT2oX9VxL0bICQVrEwf9fmRGEeTdd%2Fp3A%2Fv0QBBNSldiOOIaB6%2BYdEB7Wd0cSpD9A3%2BfgjBaAlfifGuniSMiCUzqCldRUP93wBkV2%2Bv05l8wmSVtM%2FBPOHx4SOypTAAbKpP4rpdtw74BmZU9bbwk3twBPN1qJB4hjLhIfdvb8jXeQKCbCfA6Csf15BtphBu7unmc38x9NvUkyyhchHZlM2trqeLGRNvSjJ8fPcz4iAAoLRMKH8u9P2Krccgd13bdIpjla0mPkCm0%2FIZCljGlU44MusUCjVoCTIBmo5npyB5Qp6ErB2O7wYUx8yXxyVNVmBx4uSZO%2FPUBuAnwf%2BGlu5yOcaB7vorxc%2FRmd15sHCf5lSATUvmKI%2FBNfEaJloL9GeBWZt4Fyx5rbe2yOZCpifxevteprRmg1hTyFw%2B8Wu1AMGkg4jaiPmt24F4pv%2Bn5zp4DLQmppTiXwOJOVmjoPW1q8ZB377z7eoClv4sV1rjwyjUv%2FLTZ%2F%2FvADlR%2FTkYVKR468GoYH41aUOQFw08%2FK79QoLOTl3DSgjCP7qbLBjqkAbWLliIDSUjYFHQw03DBAjw%2FiOaAwMW2KWFWg6adH0r4LluOMRAyJ1%2BJNnOSwUviF0046PyLAcTgzhnCeKR6KOSOIq4jeylBcwx6OWmCS%2BNwNHGJ%2FtI1m1sku2aIkSk5gcYp5rHhxQ0ymQnCXrH%2BKLP8LpCwFmMWhsSNPKUwc5lVTozlMkmAicKpxzrVzPaqtebCS%2BdCXsdP41a8KQZOetqESE0L&X-Amz-Signature=aa8d1fe97ba0590615d969c4eac08c4ddebfe117ba508bc80735de9ba8b3c181&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662Y2K4DKA%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQDzPrezLNMr5w1xy30mW9vC24vQTt0N3auoSUYBQyt7QAIhAOlKmmO60WYNITKt%2BdWvCLgpNsrYXJN9ojyff%2BG0y5StKv8DCEUQABoMNjM3NDIzMTgzODA1IgyywYoVAdybt22DNNcq3AOfz%2B71eGuNTJlxivQv9n732rFD3YpKas3WnzIDLeJye4SHz7gGhdaDHgpeCrpW9Jkm2ahSIKgNKNE2C8mVIiKmoarpuT2oX9VxL0bICQVrEwf9fmRGEeTdd%2Fp3A%2Fv0QBBNSldiOOIaB6%2BYdEB7Wd0cSpD9A3%2BfgjBaAlfifGuniSMiCUzqCldRUP93wBkV2%2Bv05l8wmSVtM%2FBPOHx4SOypTAAbKpP4rpdtw74BmZU9bbwk3twBPN1qJB4hjLhIfdvb8jXeQKCbCfA6Csf15BtphBu7unmc38x9NvUkyyhchHZlM2trqeLGRNvSjJ8fPcz4iAAoLRMKH8u9P2Krccgd13bdIpjla0mPkCm0%2FIZCljGlU44MusUCjVoCTIBmo5npyB5Qp6ErB2O7wYUx8yXxyVNVmBx4uSZO%2FPUBuAnwf%2BGlu5yOcaB7vorxc%2FRmd15sHCf5lSATUvmKI%2FBNfEaJloL9GeBWZt4Fyx5rbe2yOZCpifxevteprRmg1hTyFw%2B8Wu1AMGkg4jaiPmt24F4pv%2Bn5zp4DLQmppTiXwOJOVmjoPW1q8ZB377z7eoClv4sV1rjwyjUv%2FLTZ%2F%2FvADlR%2FTkYVKR468GoYH41aUOQFw08%2FK79QoLOTl3DSgjCP7qbLBjqkAbWLliIDSUjYFHQw03DBAjw%2FiOaAwMW2KWFWg6adH0r4LluOMRAyJ1%2BJNnOSwUviF0046PyLAcTgzhnCeKR6KOSOIq4jeylBcwx6OWmCS%2BNwNHGJ%2FtI1m1sku2aIkSk5gcYp5rHhxQ0ymQnCXrH%2BKLP8LpCwFmMWhsSNPKUwc5lVTozlMkmAicKpxzrVzPaqtebCS%2BdCXsdP41a8KQZOetqESE0L&X-Amz-Signature=5fe036ee98beb6b8bf6a5a3bc2afcf1cec6266f07e020d43bc26968e445dbe97&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46634IIILRE%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIBlJJBGyvBOM4pbDnSULXrR2JNb4vFNMxnOvV8hpDZhVAiEAtJtWX2i3k7EOdVIJAL5Wjo8n%2BPQdLCYGh9WPEfqoXYgq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDOdgIEJQ0nplgRQ3xSrcA9A%2Bu2L4mkg0UbUdeXmbmFPcP%2FHB2dVazGuXq%2Br3Qhkt9tfsLYbWcdBfYwUI7ICGV%2BnxJltzYQ8hxFon3fBCZPrznB5EbRUoaGU1WK1IMt6hf0UNnk1gCbVGNU1B5HvMjP7ktlC6AgkDApSYjJVHJbl9%2B93KWebL%2FY83R0lW6%2Fmq1azRRagl8w2YrzF3zxsYSFGgJL2gWFXF6Ez0ejxB5LaIKAGOoL4zSg9OpQIHOAh5zhzsMmzHU7M2Si11r3nJFh7JkCxs4vKmJGPdEYHYKK2Evn1TyXNe8wDWqrqknNJmViWmGkA1F5VNJIh2MQw07xD9zXKEVAVxCssZfjC%2BihSZS8f2GB7NUu1EAPJQ2awtv195jfSwTRb5LpHA6lEO5psqIcZjPBPVEqYuaC0P6TBRs43UIjQ%2BtTu6EDY%2BSHVhqKqZlGvDxRxjnBW1mRXowqk15EZ553lxXL8vLVhuhCNutxMzaGIHMl5p5cWvLUOEtqQOWaR%2BSYMhvuqQi1j%2Fmit9YIA2yiAmeen12rariAwSsOO%2FfhtuFw%2FK4nqu2TLNyH9FvfyhxkUEPI3MpX%2BMEKe2ZFPv6DRVxT3trfDie0CxLt1tRkPurAh8LY5HS%2FSNT4e8Ar%2Bd9vWwkuESMODtpssGOqUBli1m5r4nfvvWZs7T0Q7SXMDmh1RSlYy%2BFn4ll7vc7%2BprdQVaXzaQPyhDdaiusfIfCWFUaGCQ%2BrWMekNA4umOt1Mdc%2FLZhrb%2FaDf1hyRPHQvib3nhtyLBtdUFHfXUm4%2BZibXSgPF084pgfBzllZO4EX%2FmKFo2Xn7fTSeGwkFzQ7xZjBdzbxV77U%2FfKWQcSDub1Jvdka2Ujrnq7bLseqrnEpwjIert&X-Amz-Signature=052209a2a97786eb4ce28f67008656a34b78078bcab81ec2e8a3c292fd283d61&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46634IIILRE%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIBlJJBGyvBOM4pbDnSULXrR2JNb4vFNMxnOvV8hpDZhVAiEAtJtWX2i3k7EOdVIJAL5Wjo8n%2BPQdLCYGh9WPEfqoXYgq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDOdgIEJQ0nplgRQ3xSrcA9A%2Bu2L4mkg0UbUdeXmbmFPcP%2FHB2dVazGuXq%2Br3Qhkt9tfsLYbWcdBfYwUI7ICGV%2BnxJltzYQ8hxFon3fBCZPrznB5EbRUoaGU1WK1IMt6hf0UNnk1gCbVGNU1B5HvMjP7ktlC6AgkDApSYjJVHJbl9%2B93KWebL%2FY83R0lW6%2Fmq1azRRagl8w2YrzF3zxsYSFGgJL2gWFXF6Ez0ejxB5LaIKAGOoL4zSg9OpQIHOAh5zhzsMmzHU7M2Si11r3nJFh7JkCxs4vKmJGPdEYHYKK2Evn1TyXNe8wDWqrqknNJmViWmGkA1F5VNJIh2MQw07xD9zXKEVAVxCssZfjC%2BihSZS8f2GB7NUu1EAPJQ2awtv195jfSwTRb5LpHA6lEO5psqIcZjPBPVEqYuaC0P6TBRs43UIjQ%2BtTu6EDY%2BSHVhqKqZlGvDxRxjnBW1mRXowqk15EZ553lxXL8vLVhuhCNutxMzaGIHMl5p5cWvLUOEtqQOWaR%2BSYMhvuqQi1j%2Fmit9YIA2yiAmeen12rariAwSsOO%2FfhtuFw%2FK4nqu2TLNyH9FvfyhxkUEPI3MpX%2BMEKe2ZFPv6DRVxT3trfDie0CxLt1tRkPurAh8LY5HS%2FSNT4e8Ar%2Bd9vWwkuESMODtpssGOqUBli1m5r4nfvvWZs7T0Q7SXMDmh1RSlYy%2BFn4ll7vc7%2BprdQVaXzaQPyhDdaiusfIfCWFUaGCQ%2BrWMekNA4umOt1Mdc%2FLZhrb%2FaDf1hyRPHQvib3nhtyLBtdUFHfXUm4%2BZibXSgPF084pgfBzllZO4EX%2FmKFo2Xn7fTSeGwkFzQ7xZjBdzbxV77U%2FfKWQcSDub1Jvdka2Ujrnq7bLseqrnEpwjIert&X-Amz-Signature=25bbee47213b80fc5db986e25c982f5a23b8b0a49bd88165dd771a732d3cd9ee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46634IIILRE%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIBlJJBGyvBOM4pbDnSULXrR2JNb4vFNMxnOvV8hpDZhVAiEAtJtWX2i3k7EOdVIJAL5Wjo8n%2BPQdLCYGh9WPEfqoXYgq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDOdgIEJQ0nplgRQ3xSrcA9A%2Bu2L4mkg0UbUdeXmbmFPcP%2FHB2dVazGuXq%2Br3Qhkt9tfsLYbWcdBfYwUI7ICGV%2BnxJltzYQ8hxFon3fBCZPrznB5EbRUoaGU1WK1IMt6hf0UNnk1gCbVGNU1B5HvMjP7ktlC6AgkDApSYjJVHJbl9%2B93KWebL%2FY83R0lW6%2Fmq1azRRagl8w2YrzF3zxsYSFGgJL2gWFXF6Ez0ejxB5LaIKAGOoL4zSg9OpQIHOAh5zhzsMmzHU7M2Si11r3nJFh7JkCxs4vKmJGPdEYHYKK2Evn1TyXNe8wDWqrqknNJmViWmGkA1F5VNJIh2MQw07xD9zXKEVAVxCssZfjC%2BihSZS8f2GB7NUu1EAPJQ2awtv195jfSwTRb5LpHA6lEO5psqIcZjPBPVEqYuaC0P6TBRs43UIjQ%2BtTu6EDY%2BSHVhqKqZlGvDxRxjnBW1mRXowqk15EZ553lxXL8vLVhuhCNutxMzaGIHMl5p5cWvLUOEtqQOWaR%2BSYMhvuqQi1j%2Fmit9YIA2yiAmeen12rariAwSsOO%2FfhtuFw%2FK4nqu2TLNyH9FvfyhxkUEPI3MpX%2BMEKe2ZFPv6DRVxT3trfDie0CxLt1tRkPurAh8LY5HS%2FSNT4e8Ar%2Bd9vWwkuESMODtpssGOqUBli1m5r4nfvvWZs7T0Q7SXMDmh1RSlYy%2BFn4ll7vc7%2BprdQVaXzaQPyhDdaiusfIfCWFUaGCQ%2BrWMekNA4umOt1Mdc%2FLZhrb%2FaDf1hyRPHQvib3nhtyLBtdUFHfXUm4%2BZibXSgPF084pgfBzllZO4EX%2FmKFo2Xn7fTSeGwkFzQ7xZjBdzbxV77U%2FfKWQcSDub1Jvdka2Ujrnq7bLseqrnEpwjIert&X-Amz-Signature=3790219ffc73d810ca4297ada2e929b899aa12810eb7132c874851b774dc5dc4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662E4UOAWJ%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041315Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQCPcERmBxLnkliXOrBBynPVSY6kHdg4ElPJzoa7ESLgKgIhAMjccpUlTzsuEuR4%2FUuV0ui0MRKKX3bdmIEBdaapKcy9Kv8DCEUQABoMNjM3NDIzMTgzODA1IgwElIPOU0Ywbu1JwsMq3AMjFTQCgO4DHTLXBPuF0hwjt1FhaasapGtxv70R%2FZwah5JIEhudUHhWAtlxTYJZkD%2BbLQ2tvFmO%2Bs02Lk3P%2F4%2BLCPieJyE4vZcCKMFOzso%2F0LmglsqrR5vEOoR3NWhGlUvYpvHz0ELjUyAbZTEnNqqF%2BrOlFlWj9xlOLzMR5QlkoLNFkQ99NzMFKIJefDxDfoCxJDnEh1VYfHWPf%2Btaqt%2FcWr5iKWsBz78GSdU0NYFVZKeNZ17pRaJE4E0cZ07EOAAIFf%2B8Mhx7PV5b8vj1JisfKEG98N%2Bp3Z335vsC7A7mLgRuQ5dbXbKfQVO9oOqWTxOKv66uqOEMzGdyYwxwi5PPtNpFYhq1fY0QSdDY6Q%2F%2BnjMd3APQYmR9iTkZ2CqfPd%2FutAPOE7H7ln4696cPucF7619kQhyn9FM4tfFVjZBFkCkZegd6MOznFNk6oHmg9L5Fg7XqQn%2FFbYBuaqmXQaIuZeIL%2F4R2mwsg5cZRv%2Bg1iQa95hcJuWyyFOPIEABK240Ua3PtHfscWbErs6DSK649xSoI8q1aiIYxnquuMwuxe9O%2BnTJclu9O0fPrHjojAkU35EHCBhiu0xPfnMBhCp0Hv9YkgExiF06wSbZ3Eeo6xXAuuyYmU%2BoNAn3VvDDM7abLBjqkAcIl0e4T0uFa%2FVlX84CKmlHOqWPQrUoTIqbh2uBYXvImgWvYiXymccOkyTL2a56HCt0tbFUAZWfNh0uehAjjERxmZioPMOTPJTylD1bMmxCX%2FxgJb0UI1NeCIK6ohhSp23dzu%2BhI%2BRcXpxm%2BcEA102Myuswq2vPMO7LaLZAmMlTphrZmU5gsqVhlYo9dB4QPh47FR%2F%2FZsBqfPXJhQYpe758MhRmi&X-Amz-Signature=67ea2017b4c775b0bb73ce6d780813f1b39b838fd0961be6455cee3ff722a001&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662E4UOAWJ%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041315Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQCPcERmBxLnkliXOrBBynPVSY6kHdg4ElPJzoa7ESLgKgIhAMjccpUlTzsuEuR4%2FUuV0ui0MRKKX3bdmIEBdaapKcy9Kv8DCEUQABoMNjM3NDIzMTgzODA1IgwElIPOU0Ywbu1JwsMq3AMjFTQCgO4DHTLXBPuF0hwjt1FhaasapGtxv70R%2FZwah5JIEhudUHhWAtlxTYJZkD%2BbLQ2tvFmO%2Bs02Lk3P%2F4%2BLCPieJyE4vZcCKMFOzso%2F0LmglsqrR5vEOoR3NWhGlUvYpvHz0ELjUyAbZTEnNqqF%2BrOlFlWj9xlOLzMR5QlkoLNFkQ99NzMFKIJefDxDfoCxJDnEh1VYfHWPf%2Btaqt%2FcWr5iKWsBz78GSdU0NYFVZKeNZ17pRaJE4E0cZ07EOAAIFf%2B8Mhx7PV5b8vj1JisfKEG98N%2Bp3Z335vsC7A7mLgRuQ5dbXbKfQVO9oOqWTxOKv66uqOEMzGdyYwxwi5PPtNpFYhq1fY0QSdDY6Q%2F%2BnjMd3APQYmR9iTkZ2CqfPd%2FutAPOE7H7ln4696cPucF7619kQhyn9FM4tfFVjZBFkCkZegd6MOznFNk6oHmg9L5Fg7XqQn%2FFbYBuaqmXQaIuZeIL%2F4R2mwsg5cZRv%2Bg1iQa95hcJuWyyFOPIEABK240Ua3PtHfscWbErs6DSK649xSoI8q1aiIYxnquuMwuxe9O%2BnTJclu9O0fPrHjojAkU35EHCBhiu0xPfnMBhCp0Hv9YkgExiF06wSbZ3Eeo6xXAuuyYmU%2BoNAn3VvDDM7abLBjqkAcIl0e4T0uFa%2FVlX84CKmlHOqWPQrUoTIqbh2uBYXvImgWvYiXymccOkyTL2a56HCt0tbFUAZWfNh0uehAjjERxmZioPMOTPJTylD1bMmxCX%2FxgJb0UI1NeCIK6ohhSp23dzu%2BhI%2BRcXpxm%2BcEA102Myuswq2vPMO7LaLZAmMlTphrZmU5gsqVhlYo9dB4QPh47FR%2F%2FZsBqfPXJhQYpe758MhRmi&X-Amz-Signature=2829661de930a41134c4aad3c01afbe656d5ab6908d9196f67cfad56ce402b0f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662E4UOAWJ%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041315Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQCPcERmBxLnkliXOrBBynPVSY6kHdg4ElPJzoa7ESLgKgIhAMjccpUlTzsuEuR4%2FUuV0ui0MRKKX3bdmIEBdaapKcy9Kv8DCEUQABoMNjM3NDIzMTgzODA1IgwElIPOU0Ywbu1JwsMq3AMjFTQCgO4DHTLXBPuF0hwjt1FhaasapGtxv70R%2FZwah5JIEhudUHhWAtlxTYJZkD%2BbLQ2tvFmO%2Bs02Lk3P%2F4%2BLCPieJyE4vZcCKMFOzso%2F0LmglsqrR5vEOoR3NWhGlUvYpvHz0ELjUyAbZTEnNqqF%2BrOlFlWj9xlOLzMR5QlkoLNFkQ99NzMFKIJefDxDfoCxJDnEh1VYfHWPf%2Btaqt%2FcWr5iKWsBz78GSdU0NYFVZKeNZ17pRaJE4E0cZ07EOAAIFf%2B8Mhx7PV5b8vj1JisfKEG98N%2Bp3Z335vsC7A7mLgRuQ5dbXbKfQVO9oOqWTxOKv66uqOEMzGdyYwxwi5PPtNpFYhq1fY0QSdDY6Q%2F%2BnjMd3APQYmR9iTkZ2CqfPd%2FutAPOE7H7ln4696cPucF7619kQhyn9FM4tfFVjZBFkCkZegd6MOznFNk6oHmg9L5Fg7XqQn%2FFbYBuaqmXQaIuZeIL%2F4R2mwsg5cZRv%2Bg1iQa95hcJuWyyFOPIEABK240Ua3PtHfscWbErs6DSK649xSoI8q1aiIYxnquuMwuxe9O%2BnTJclu9O0fPrHjojAkU35EHCBhiu0xPfnMBhCp0Hv9YkgExiF06wSbZ3Eeo6xXAuuyYmU%2BoNAn3VvDDM7abLBjqkAcIl0e4T0uFa%2FVlX84CKmlHOqWPQrUoTIqbh2uBYXvImgWvYiXymccOkyTL2a56HCt0tbFUAZWfNh0uehAjjERxmZioPMOTPJTylD1bMmxCX%2FxgJb0UI1NeCIK6ohhSp23dzu%2BhI%2BRcXpxm%2BcEA102Myuswq2vPMO7LaLZAmMlTphrZmU5gsqVhlYo9dB4QPh47FR%2F%2FZsBqfPXJhQYpe758MhRmi&X-Amz-Signature=fdb9842e0c2843069843e8a742af3c53e458fd7e94d2ec3e57feb44055f69730&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662E4UOAWJ%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041315Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQCPcERmBxLnkliXOrBBynPVSY6kHdg4ElPJzoa7ESLgKgIhAMjccpUlTzsuEuR4%2FUuV0ui0MRKKX3bdmIEBdaapKcy9Kv8DCEUQABoMNjM3NDIzMTgzODA1IgwElIPOU0Ywbu1JwsMq3AMjFTQCgO4DHTLXBPuF0hwjt1FhaasapGtxv70R%2FZwah5JIEhudUHhWAtlxTYJZkD%2BbLQ2tvFmO%2Bs02Lk3P%2F4%2BLCPieJyE4vZcCKMFOzso%2F0LmglsqrR5vEOoR3NWhGlUvYpvHz0ELjUyAbZTEnNqqF%2BrOlFlWj9xlOLzMR5QlkoLNFkQ99NzMFKIJefDxDfoCxJDnEh1VYfHWPf%2Btaqt%2FcWr5iKWsBz78GSdU0NYFVZKeNZ17pRaJE4E0cZ07EOAAIFf%2B8Mhx7PV5b8vj1JisfKEG98N%2Bp3Z335vsC7A7mLgRuQ5dbXbKfQVO9oOqWTxOKv66uqOEMzGdyYwxwi5PPtNpFYhq1fY0QSdDY6Q%2F%2BnjMd3APQYmR9iTkZ2CqfPd%2FutAPOE7H7ln4696cPucF7619kQhyn9FM4tfFVjZBFkCkZegd6MOznFNk6oHmg9L5Fg7XqQn%2FFbYBuaqmXQaIuZeIL%2F4R2mwsg5cZRv%2Bg1iQa95hcJuWyyFOPIEABK240Ua3PtHfscWbErs6DSK649xSoI8q1aiIYxnquuMwuxe9O%2BnTJclu9O0fPrHjojAkU35EHCBhiu0xPfnMBhCp0Hv9YkgExiF06wSbZ3Eeo6xXAuuyYmU%2BoNAn3VvDDM7abLBjqkAcIl0e4T0uFa%2FVlX84CKmlHOqWPQrUoTIqbh2uBYXvImgWvYiXymccOkyTL2a56HCt0tbFUAZWfNh0uehAjjERxmZioPMOTPJTylD1bMmxCX%2FxgJb0UI1NeCIK6ohhSp23dzu%2BhI%2BRcXpxm%2BcEA102Myuswq2vPMO7LaLZAmMlTphrZmU5gsqVhlYo9dB4QPh47FR%2F%2FZsBqfPXJhQYpe758MhRmi&X-Amz-Signature=e3478aeeb5f140b26ea41eca47206dfb73f1f37d9867b44a6701008190a76789&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YWGDIEYU%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQD7lqOU1C3g3KxHtDQKHoESFSrYmo3ANgoVrZArAmygjwIhAMIhaWXcG3d8g4CGe3tTof9gcbbv3Ky58fI1IyWTqeLhKv8DCEUQABoMNjM3NDIzMTgzODA1IgxSOsl7TeIR5bsKQ5Eq3AO2rD4om%2FkUHOyujFw6yF0SN%2Basahxdqq1XnaY3Hi4UhJo%2BJn9Yfl%2BrGKEqxi2WjJnGnveslBs63jFnVAGLWiqg6ES%2BDCkdCyiQB1pCZt4lNEcJYaNUgb%2FX2ZPBMKAyvyVBKy%2FSze9KqYf346pVVzerxFxiuiVUiFLlTTyRQxh6XUvhteHFt0m2PLkxosTsYYKn7P%2BZ%2Bu8c2XGggkbneigv9FrhEG3aQzct%2F73TBAAlzHuNCkXkxH%2FKTmgrdZ9KZG%2FvMfHF6AssdO%2BfEValye%2Bn%2BA64eXrRD3WsFcEZhR3IG9q9B8NJPPRAdZTSFQQxhiQfWUvLDc%2FCu7Sav1QGET9bSBkUCm3QltTE%2FV2i%2Faore2PEL0bbjD%2F2btTOjoZSEp3i7uA1JpQ44wJY5eQOObxAYIonvcy2qhWO1E2H5u%2Ft6XhIXgeMheye6hgIAsJCYliXScX3OCtKdniZmf4FXi9yGkARCjfAzZCZpD8NXSvmVRFcrvp0nAtd1kKkhIy81EHZKkQX%2BK1SWXdOEuXXO4GQav3KEgytwD0wJeXISD8blcLdsXWhfU9Z6kOU9D6mkAsA%2FIzzuQEwN9yhlJtvlCR8hX5cFb9rVxJ1p5oOPpLVTKvSgufBJxakz5iKozDM7abLBjqkAZNtRlBuwhn3jKN9agQO31r2dYJYV46hoWT1y32Sk2%2BctlzFmEKImdIQzjnBrkdI6Cw6bYiwQFOL%2BpKjIfbupyIix9XQr7MrFvjlHYlB3Vv%2BeR604V17gL7YQ1zIk8xNygYEg729jCm0dp4HcIOLnOlf5WHMILlGOMHtaWTp51gtnWwDnYPbU46P8ng69aWi9cJizAj2Ax7Yz8UtS90tceOMYE0U&X-Amz-Signature=d877c03f1a9c6d79081e0248f26fd2c60b5ba76b30843fc53186ab39e847d630&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YWGDIEYU%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQD7lqOU1C3g3KxHtDQKHoESFSrYmo3ANgoVrZArAmygjwIhAMIhaWXcG3d8g4CGe3tTof9gcbbv3Ky58fI1IyWTqeLhKv8DCEUQABoMNjM3NDIzMTgzODA1IgxSOsl7TeIR5bsKQ5Eq3AO2rD4om%2FkUHOyujFw6yF0SN%2Basahxdqq1XnaY3Hi4UhJo%2BJn9Yfl%2BrGKEqxi2WjJnGnveslBs63jFnVAGLWiqg6ES%2BDCkdCyiQB1pCZt4lNEcJYaNUgb%2FX2ZPBMKAyvyVBKy%2FSze9KqYf346pVVzerxFxiuiVUiFLlTTyRQxh6XUvhteHFt0m2PLkxosTsYYKn7P%2BZ%2Bu8c2XGggkbneigv9FrhEG3aQzct%2F73TBAAlzHuNCkXkxH%2FKTmgrdZ9KZG%2FvMfHF6AssdO%2BfEValye%2Bn%2BA64eXrRD3WsFcEZhR3IG9q9B8NJPPRAdZTSFQQxhiQfWUvLDc%2FCu7Sav1QGET9bSBkUCm3QltTE%2FV2i%2Faore2PEL0bbjD%2F2btTOjoZSEp3i7uA1JpQ44wJY5eQOObxAYIonvcy2qhWO1E2H5u%2Ft6XhIXgeMheye6hgIAsJCYliXScX3OCtKdniZmf4FXi9yGkARCjfAzZCZpD8NXSvmVRFcrvp0nAtd1kKkhIy81EHZKkQX%2BK1SWXdOEuXXO4GQav3KEgytwD0wJeXISD8blcLdsXWhfU9Z6kOU9D6mkAsA%2FIzzuQEwN9yhlJtvlCR8hX5cFb9rVxJ1p5oOPpLVTKvSgufBJxakz5iKozDM7abLBjqkAZNtRlBuwhn3jKN9agQO31r2dYJYV46hoWT1y32Sk2%2BctlzFmEKImdIQzjnBrkdI6Cw6bYiwQFOL%2BpKjIfbupyIix9XQr7MrFvjlHYlB3Vv%2BeR604V17gL7YQ1zIk8xNygYEg729jCm0dp4HcIOLnOlf5WHMILlGOMHtaWTp51gtnWwDnYPbU46P8ng69aWi9cJizAj2Ax7Yz8UtS90tceOMYE0U&X-Amz-Signature=7c808d8019e642604bd7f3770d032a3b2860afbc5d8ac716fb8231d2e2fb422a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YWGDIEYU%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQD7lqOU1C3g3KxHtDQKHoESFSrYmo3ANgoVrZArAmygjwIhAMIhaWXcG3d8g4CGe3tTof9gcbbv3Ky58fI1IyWTqeLhKv8DCEUQABoMNjM3NDIzMTgzODA1IgxSOsl7TeIR5bsKQ5Eq3AO2rD4om%2FkUHOyujFw6yF0SN%2Basahxdqq1XnaY3Hi4UhJo%2BJn9Yfl%2BrGKEqxi2WjJnGnveslBs63jFnVAGLWiqg6ES%2BDCkdCyiQB1pCZt4lNEcJYaNUgb%2FX2ZPBMKAyvyVBKy%2FSze9KqYf346pVVzerxFxiuiVUiFLlTTyRQxh6XUvhteHFt0m2PLkxosTsYYKn7P%2BZ%2Bu8c2XGggkbneigv9FrhEG3aQzct%2F73TBAAlzHuNCkXkxH%2FKTmgrdZ9KZG%2FvMfHF6AssdO%2BfEValye%2Bn%2BA64eXrRD3WsFcEZhR3IG9q9B8NJPPRAdZTSFQQxhiQfWUvLDc%2FCu7Sav1QGET9bSBkUCm3QltTE%2FV2i%2Faore2PEL0bbjD%2F2btTOjoZSEp3i7uA1JpQ44wJY5eQOObxAYIonvcy2qhWO1E2H5u%2Ft6XhIXgeMheye6hgIAsJCYliXScX3OCtKdniZmf4FXi9yGkARCjfAzZCZpD8NXSvmVRFcrvp0nAtd1kKkhIy81EHZKkQX%2BK1SWXdOEuXXO4GQav3KEgytwD0wJeXISD8blcLdsXWhfU9Z6kOU9D6mkAsA%2FIzzuQEwN9yhlJtvlCR8hX5cFb9rVxJ1p5oOPpLVTKvSgufBJxakz5iKozDM7abLBjqkAZNtRlBuwhn3jKN9agQO31r2dYJYV46hoWT1y32Sk2%2BctlzFmEKImdIQzjnBrkdI6Cw6bYiwQFOL%2BpKjIfbupyIix9XQr7MrFvjlHYlB3Vv%2BeR604V17gL7YQ1zIk8xNygYEg729jCm0dp4HcIOLnOlf5WHMILlGOMHtaWTp51gtnWwDnYPbU46P8ng69aWi9cJizAj2Ax7Yz8UtS90tceOMYE0U&X-Amz-Signature=0f4c89edfbba3ed3e084546f076c085c9ca122d8da9be0ea394a39104731be40&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YWGDIEYU%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQD7lqOU1C3g3KxHtDQKHoESFSrYmo3ANgoVrZArAmygjwIhAMIhaWXcG3d8g4CGe3tTof9gcbbv3Ky58fI1IyWTqeLhKv8DCEUQABoMNjM3NDIzMTgzODA1IgxSOsl7TeIR5bsKQ5Eq3AO2rD4om%2FkUHOyujFw6yF0SN%2Basahxdqq1XnaY3Hi4UhJo%2BJn9Yfl%2BrGKEqxi2WjJnGnveslBs63jFnVAGLWiqg6ES%2BDCkdCyiQB1pCZt4lNEcJYaNUgb%2FX2ZPBMKAyvyVBKy%2FSze9KqYf346pVVzerxFxiuiVUiFLlTTyRQxh6XUvhteHFt0m2PLkxosTsYYKn7P%2BZ%2Bu8c2XGggkbneigv9FrhEG3aQzct%2F73TBAAlzHuNCkXkxH%2FKTmgrdZ9KZG%2FvMfHF6AssdO%2BfEValye%2Bn%2BA64eXrRD3WsFcEZhR3IG9q9B8NJPPRAdZTSFQQxhiQfWUvLDc%2FCu7Sav1QGET9bSBkUCm3QltTE%2FV2i%2Faore2PEL0bbjD%2F2btTOjoZSEp3i7uA1JpQ44wJY5eQOObxAYIonvcy2qhWO1E2H5u%2Ft6XhIXgeMheye6hgIAsJCYliXScX3OCtKdniZmf4FXi9yGkARCjfAzZCZpD8NXSvmVRFcrvp0nAtd1kKkhIy81EHZKkQX%2BK1SWXdOEuXXO4GQav3KEgytwD0wJeXISD8blcLdsXWhfU9Z6kOU9D6mkAsA%2FIzzuQEwN9yhlJtvlCR8hX5cFb9rVxJ1p5oOPpLVTKvSgufBJxakz5iKozDM7abLBjqkAZNtRlBuwhn3jKN9agQO31r2dYJYV46hoWT1y32Sk2%2BctlzFmEKImdIQzjnBrkdI6Cw6bYiwQFOL%2BpKjIfbupyIix9XQr7MrFvjlHYlB3Vv%2BeR604V17gL7YQ1zIk8xNygYEg729jCm0dp4HcIOLnOlf5WHMILlGOMHtaWTp51gtnWwDnYPbU46P8ng69aWi9cJizAj2Ax7Yz8UtS90tceOMYE0U&X-Amz-Signature=a8fc5620a6fb7b321b6ec3b75921e10f1edfb392a1cd8829856d1125075dce38&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YGBYP2SX%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIBkjtE8DaeYljYIZ5ZL1pvWpBdtdoMnrR8bnOZeaOiV1AiEAiA7rO%2BvGnqV8xpCSxpH1Y%2F4hB50Gw700hnL7icPuv%2BQq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDIQBBpomhrUvUwY9OCrcA2N0iKqwoI56p22%2BEHy8UJfZMBDmE0J3eUiqSUMPJqoXzpczWVJTMRbjv0r%2F5m4ubjQR7MgOm9B9JqInwihsg79Mpn%2B5uJjYCScyhG68uVQZ2GmvRsLqEMkGSfRU2K4%2B%2BDcxoqHVm%2FPLnCZ7ROfBTpPFKBhxvCcRXx5uTpBMzgfBIbusTzIvfZDXEuKMaKPoCOgEtygB%2FJH3ul1%2F1a1RVumuZkynDpON7D8n0nCfP9AydWZLQAwI4fEmvFGk%2FQTCeDFQq5mWj13T7vERnceRlvW5mJvJRcwJOIS%2Fuz0dnQUMS0rZW%2F1JZBfcOtMtC5CCmWFZRas0GxaQPT%2FvVSosYV3Teq1bus3gAzCZG8oJLEedO8%2BpYc2Ktfe%2FdbbugKhW2M%2BAJ57upSjrF1im5QP%2BiN0FyRYwJTOfcVSNgTaoHJWQWiogYg1BLTmXZLHP9Oq4BYY10U2ti%2B4r0C%2BXjoXc3Mdqk95l8JEt4uGCka%2FraACEnIYK%2FuXHUuIx3GHrHCNRyhbC%2FkzCs3KtouTvWXhQHtEzNiAsJFd9JvggeRXytZBDo%2BCzF9IoopKVE%2FXkHz12CMBGGLRs0tJOA0P6oxsWspHylWqrV2pd3lvq1OqDW6AsJ0DXb2YD9Q90gQpKML%2FtpssGOqUBXdSXc2yvP5gTsU3%2B%2FBrTW12Znl393Uct5sL4MLjjDqU4%2Faa9o9ElYXMQ6vdMQEqdKOY%2FgzfkYJA6bA3J1P9yMb9cnNvj9ZKznzJLAGgKS2wKDlOplgSVZ9w15x2cY2V4LOTSHNj1gti6Uj7GkkBYhvgV7zbX0eE5YNvNy39TVF33CMTGFWo%2BxS7mE%2FolKVHRxG74lhqwVbAfUV1D9NfyGjIUfYB4&X-Amz-Signature=e596c2b3e0969c47bb97fde1d4318b29e16665b65637ccdb8f6456a45a813377&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YGBYP2SX%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041316Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIBkjtE8DaeYljYIZ5ZL1pvWpBdtdoMnrR8bnOZeaOiV1AiEAiA7rO%2BvGnqV8xpCSxpH1Y%2F4hB50Gw700hnL7icPuv%2BQq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDIQBBpomhrUvUwY9OCrcA2N0iKqwoI56p22%2BEHy8UJfZMBDmE0J3eUiqSUMPJqoXzpczWVJTMRbjv0r%2F5m4ubjQR7MgOm9B9JqInwihsg79Mpn%2B5uJjYCScyhG68uVQZ2GmvRsLqEMkGSfRU2K4%2B%2BDcxoqHVm%2FPLnCZ7ROfBTpPFKBhxvCcRXx5uTpBMzgfBIbusTzIvfZDXEuKMaKPoCOgEtygB%2FJH3ul1%2F1a1RVumuZkynDpON7D8n0nCfP9AydWZLQAwI4fEmvFGk%2FQTCeDFQq5mWj13T7vERnceRlvW5mJvJRcwJOIS%2Fuz0dnQUMS0rZW%2F1JZBfcOtMtC5CCmWFZRas0GxaQPT%2FvVSosYV3Teq1bus3gAzCZG8oJLEedO8%2BpYc2Ktfe%2FdbbugKhW2M%2BAJ57upSjrF1im5QP%2BiN0FyRYwJTOfcVSNgTaoHJWQWiogYg1BLTmXZLHP9Oq4BYY10U2ti%2B4r0C%2BXjoXc3Mdqk95l8JEt4uGCka%2FraACEnIYK%2FuXHUuIx3GHrHCNRyhbC%2FkzCs3KtouTvWXhQHtEzNiAsJFd9JvggeRXytZBDo%2BCzF9IoopKVE%2FXkHz12CMBGGLRs0tJOA0P6oxsWspHylWqrV2pd3lvq1OqDW6AsJ0DXb2YD9Q90gQpKML%2FtpssGOqUBXdSXc2yvP5gTsU3%2B%2FBrTW12Znl393Uct5sL4MLjjDqU4%2Faa9o9ElYXMQ6vdMQEqdKOY%2FgzfkYJA6bA3J1P9yMb9cnNvj9ZKznzJLAGgKS2wKDlOplgSVZ9w15x2cY2V4LOTSHNj1gti6Uj7GkkBYhvgV7zbX0eE5YNvNy39TVF33CMTGFWo%2BxS7mE%2FolKVHRxG74lhqwVbAfUV1D9NfyGjIUfYB4&X-Amz-Signature=a8cffbe68e5435f4920de3a42a8f5a444c31fb75d813bcac646c18b60f29bbed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YGBYP2SX%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041317Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCIBkjtE8DaeYljYIZ5ZL1pvWpBdtdoMnrR8bnOZeaOiV1AiEAiA7rO%2BvGnqV8xpCSxpH1Y%2F4hB50Gw700hnL7icPuv%2BQq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDIQBBpomhrUvUwY9OCrcA2N0iKqwoI56p22%2BEHy8UJfZMBDmE0J3eUiqSUMPJqoXzpczWVJTMRbjv0r%2F5m4ubjQR7MgOm9B9JqInwihsg79Mpn%2B5uJjYCScyhG68uVQZ2GmvRsLqEMkGSfRU2K4%2B%2BDcxoqHVm%2FPLnCZ7ROfBTpPFKBhxvCcRXx5uTpBMzgfBIbusTzIvfZDXEuKMaKPoCOgEtygB%2FJH3ul1%2F1a1RVumuZkynDpON7D8n0nCfP9AydWZLQAwI4fEmvFGk%2FQTCeDFQq5mWj13T7vERnceRlvW5mJvJRcwJOIS%2Fuz0dnQUMS0rZW%2F1JZBfcOtMtC5CCmWFZRas0GxaQPT%2FvVSosYV3Teq1bus3gAzCZG8oJLEedO8%2BpYc2Ktfe%2FdbbugKhW2M%2BAJ57upSjrF1im5QP%2BiN0FyRYwJTOfcVSNgTaoHJWQWiogYg1BLTmXZLHP9Oq4BYY10U2ti%2B4r0C%2BXjoXc3Mdqk95l8JEt4uGCka%2FraACEnIYK%2FuXHUuIx3GHrHCNRyhbC%2FkzCs3KtouTvWXhQHtEzNiAsJFd9JvggeRXytZBDo%2BCzF9IoopKVE%2FXkHz12CMBGGLRs0tJOA0P6oxsWspHylWqrV2pd3lvq1OqDW6AsJ0DXb2YD9Q90gQpKML%2FtpssGOqUBXdSXc2yvP5gTsU3%2B%2FBrTW12Znl393Uct5sL4MLjjDqU4%2Faa9o9ElYXMQ6vdMQEqdKOY%2FgzfkYJA6bA3J1P9yMb9cnNvj9ZKznzJLAGgKS2wKDlOplgSVZ9w15x2cY2V4LOTSHNj1gti6Uj7GkkBYhvgV7zbX0eE5YNvNy39TVF33CMTGFWo%2BxS7mE%2FolKVHRxG74lhqwVbAfUV1D9NfyGjIUfYB4&X-Amz-Signature=2ca17df2640a56308c52955299b4e81e3b57a56eacb4f3afbc2d111329a7bf03&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YT76SETL%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041317Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCICVqWj2y74K2Edy9H5Gx4JJXGOpIjJbJ3rCXwuTotEdHAiEA19NoZbBlXzcKzRFosC04PVG6mh2GH86AebcnNwBFmhIq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDHMKnv6XvX%2BPEOtMiCrcA7%2FfKVf2GWPQBIspfCHkjTIt7pH%2B4lz5ahE2FACidh2NPZu9xcX3dQjfwTSc4MxUhAD5FOEj2ImbnowqZCmmY8hv0uFIkC00kiEEfvIxIHwLTfsdJo3tyLP6sWLRMx98sj11EkBMt7mJyy49diSvRKKvQ5LZZFgO3qiBFr1m9EFTtN5qy51wI%2Fxqz6cpIYWFhiaVVw%2FkXE4TJoVwspm%2BNcaXGWsiKsldR27jMuSF3AWhcrmeHBse%2FY%2FHfRTZMOLT5%2Fw3Eb0snRqrZ%2BBWAK423OQkysRf7lduL96LauOmMV%2F0wypqa3Z%2BAYIkc6iDcwBtRLjkKuGlXbx5eBW9vLhkGgQx6ug6XGQmhZw25PTgRbgUHgMrn1JqGecVCXyWOPPxPENjFW3gwLxHrSQLu8NX%2BHcf%2BE01ehz1Q1%2FTy8KA%2F5jpSMJMqnQXFV9VmOVpC3VrfA%2F%2Ff%2Bi1ztjnMHD2D4p8eykINS57ydPCICe7z5gpT2btxmEGaBJMoUgZL3WMUxDHLodYwLgaHMs6nPfDw5I9EFUW7Njx1I5YXPUrz6iMm21kWgoR7ZEDUiKBrHudO3cpilZlEnF3nU2LCsfU3b8Ft4qMudseqpSDub7B4XvjyB4BZLHWQa3ICg%2BQG0C5MKHtpssGOqUBtKtI0fmuS8ldlw7EcZLMdWATvjRH1Ucw7dbG5IlJDNSdOLEEBBL0SfOCSaxE1RVsV4VhhBrATwSpDfeDQMZLT5%2BlZoZtmWV%2FDs19FMrf9Uba%2BOEpSGMve3C%2FLwQHHwEIX9YA6ymqh3rDe4YyC7c9BgRHPOD0g1daCP83MhcYXIRkxCU%2BdsL%2BMPjkI%2BHfDqHUxFoRkNO0oQRPnk9dsgQyFopxzZkY&X-Amz-Signature=aaf51374a86abeeb76e2dc54a17ed79046040876b94dad0134dea63381134ec1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YT76SETL%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041317Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJHMEUCICVqWj2y74K2Edy9H5Gx4JJXGOpIjJbJ3rCXwuTotEdHAiEA19NoZbBlXzcKzRFosC04PVG6mh2GH86AebcnNwBFmhIq%2FwMIRRAAGgw2Mzc0MjMxODM4MDUiDHMKnv6XvX%2BPEOtMiCrcA7%2FfKVf2GWPQBIspfCHkjTIt7pH%2B4lz5ahE2FACidh2NPZu9xcX3dQjfwTSc4MxUhAD5FOEj2ImbnowqZCmmY8hv0uFIkC00kiEEfvIxIHwLTfsdJo3tyLP6sWLRMx98sj11EkBMt7mJyy49diSvRKKvQ5LZZFgO3qiBFr1m9EFTtN5qy51wI%2Fxqz6cpIYWFhiaVVw%2FkXE4TJoVwspm%2BNcaXGWsiKsldR27jMuSF3AWhcrmeHBse%2FY%2FHfRTZMOLT5%2Fw3Eb0snRqrZ%2BBWAK423OQkysRf7lduL96LauOmMV%2F0wypqa3Z%2BAYIkc6iDcwBtRLjkKuGlXbx5eBW9vLhkGgQx6ug6XGQmhZw25PTgRbgUHgMrn1JqGecVCXyWOPPxPENjFW3gwLxHrSQLu8NX%2BHcf%2BE01ehz1Q1%2FTy8KA%2F5jpSMJMqnQXFV9VmOVpC3VrfA%2F%2Ff%2Bi1ztjnMHD2D4p8eykINS57ydPCICe7z5gpT2btxmEGaBJMoUgZL3WMUxDHLodYwLgaHMs6nPfDw5I9EFUW7Njx1I5YXPUrz6iMm21kWgoR7ZEDUiKBrHudO3cpilZlEnF3nU2LCsfU3b8Ft4qMudseqpSDub7B4XvjyB4BZLHWQa3ICg%2BQG0C5MKHtpssGOqUBtKtI0fmuS8ldlw7EcZLMdWATvjRH1Ucw7dbG5IlJDNSdOLEEBBL0SfOCSaxE1RVsV4VhhBrATwSpDfeDQMZLT5%2BlZoZtmWV%2FDs19FMrf9Uba%2BOEpSGMve3C%2FLwQHHwEIX9YA6ymqh3rDe4YyC7c9BgRHPOD0g1daCP83MhcYXIRkxCU%2BdsL%2BMPjkI%2BHfDqHUxFoRkNO0oQRPnk9dsgQyFopxzZkY&X-Amz-Signature=7b41cd4349eaec50f63ec41644e4cf4eef8703658738977abffc01c5e4db3cf2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667JC5COH2%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041317Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIG4soaNzsZv5lpS9P%2FEfSrEShVRjljZJ3REOgFAgaUFGAiBOeh%2BVfKFvSxm2zg4sPNjvUzHNmAlSs91mXG5Br5aj%2FSr%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIMGmat94unvxJwIXs4KtwD8xI8Cfg%2BKk4Rd57jS6m5Ow2ZW5fhSaFhUkLA77xX%2Bap39lhROfRAr%2FzejJYH7JhRLefgNl7EkJ7pW%2BIboCGyP%2B3%2BJQPgz7nKKXQXVBQ186pAw5W9Nj9J7EuJimawlXjvMWPvnWr7L7yeuPjbWFWmKYpy2E62n9Ekplqcp7scRTEUlO8Bzcaori2JmfmQfE2WGoXZ3X1i3%2BcHVMItqML7v4TfdT2YqNma6Q9N9FQ992bblcCoFnPWFo3Dn6a%2FvISEPSCHpoaXnVSntBb2B35J3C7NTAJq6QFYw71F0ZJQhhza8P7MhqUQBYOwfAji2eqPDhTIvL%2Bx5cFX082u%2BEtfi8L8NFz44rzy4jXgGlbVoqk1xPtvNwyxtelFJdHSKwGgmDTFiLu2Jxjyr0Ess8NpSe3Hpg6c8WqUIIOv81AhSzhoxJRNuyMH2%2BUF2XBLjNHNKc6Sg6pbSrv6pggs2gR2ZYYXEvkuRcQMFMwtZAXXGwg9USLbM9LQfXc9Sj3NWWXpfrFFSppkCw1aM2QdR2Pf2eVNskBMD1DrJdRNgD6f0FuRmiaoqU3kjT3t6zMtsZRQcQPiWnuxHkCkLMbB3boMtIUmlbVm7boGp8U84Dg8pJZHz%2Bnx3TeUKoqpv6cwsu2mywY6pgGJQH71Tc2zT3uXjAuCFyhZrlwAD5dGuAr1olaoeGOSLCB4%2FPH6DP8cV3jW9TyGgqzzvfU8%2B4zV0pXYZgFlYrsLHFxglYvOPoZldW%2FazClM8KwdxGpgBSDM2ZVjnhnH6eshdQFH2gHf7zaOcd%2FgWx3bluojXnQQnEcskemZ3h6b15K01brwxKraO0HxSFo%2BY%2BNH2BAmbl0tDLs%2BbdBhkUPbge3kOXbd&X-Amz-Signature=054c8b712b1394e03398a5c6f94ef064ee5681944d2a0c73de97fbd770627c8a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667JC5COH2%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041317Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJGMEQCIG4soaNzsZv5lpS9P%2FEfSrEShVRjljZJ3REOgFAgaUFGAiBOeh%2BVfKFvSxm2zg4sPNjvUzHNmAlSs91mXG5Br5aj%2FSr%2FAwhFEAAaDDYzNzQyMzE4MzgwNSIMGmat94unvxJwIXs4KtwD8xI8Cfg%2BKk4Rd57jS6m5Ow2ZW5fhSaFhUkLA77xX%2Bap39lhROfRAr%2FzejJYH7JhRLefgNl7EkJ7pW%2BIboCGyP%2B3%2BJQPgz7nKKXQXVBQ186pAw5W9Nj9J7EuJimawlXjvMWPvnWr7L7yeuPjbWFWmKYpy2E62n9Ekplqcp7scRTEUlO8Bzcaori2JmfmQfE2WGoXZ3X1i3%2BcHVMItqML7v4TfdT2YqNma6Q9N9FQ992bblcCoFnPWFo3Dn6a%2FvISEPSCHpoaXnVSntBb2B35J3C7NTAJq6QFYw71F0ZJQhhza8P7MhqUQBYOwfAji2eqPDhTIvL%2Bx5cFX082u%2BEtfi8L8NFz44rzy4jXgGlbVoqk1xPtvNwyxtelFJdHSKwGgmDTFiLu2Jxjyr0Ess8NpSe3Hpg6c8WqUIIOv81AhSzhoxJRNuyMH2%2BUF2XBLjNHNKc6Sg6pbSrv6pggs2gR2ZYYXEvkuRcQMFMwtZAXXGwg9USLbM9LQfXc9Sj3NWWXpfrFFSppkCw1aM2QdR2Pf2eVNskBMD1DrJdRNgD6f0FuRmiaoqU3kjT3t6zMtsZRQcQPiWnuxHkCkLMbB3boMtIUmlbVm7boGp8U84Dg8pJZHz%2Bnx3TeUKoqpv6cwsu2mywY6pgGJQH71Tc2zT3uXjAuCFyhZrlwAD5dGuAr1olaoeGOSLCB4%2FPH6DP8cV3jW9TyGgqzzvfU8%2B4zV0pXYZgFlYrsLHFxglYvOPoZldW%2FazClM8KwdxGpgBSDM2ZVjnhnH6eshdQFH2gHf7zaOcd%2FgWx3bluojXnQQnEcskemZ3h6b15K01brwxKraO0HxSFo%2BY%2BNH2BAmbl0tDLs%2BbdBhkUPbge3kOXbd&X-Amz-Signature=8205f0a38d200fa4214f8b0df9ae6112407e63aebedc1508217c0b0fb68233f8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UE7LWD4O%2F20260116%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260116T041317Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHwaCXVzLXdlc3QtMiJIMEYCIQC2jtP%2BJqORZo3oc0Z91Jmbm5biMsnb2LGJPelBGjV5RwIhAOX017R9GKUKPdbjz80eGuTN%2FyW6BYk9knpCGfpjuBuRKv8DCEUQABoMNjM3NDIzMTgzODA1IgzvUjF%2FYxHdrwUKcpIq3AMsgHdBB%2Fyi1vDEvQvpyqHXrk6fXOo9xzKTWjhNXphyWbGQw1IRDfsZ%2BJftdJ3TIkeJAOfhkUVy4wtEtZshEWLl0VrAFI2kWbeorRamJtKSn1JAWRTu9DUQi92z8gvMiNUda9%2Bfl2uuzV9iQztnhA6DHyIlB3eQitD2yFbieuX0BX%2FuYS2ZI437Zy5QzNTOvdkAWYKb%2FVY4sc2nVBAgi2uLSa5Bzs8lQqi5TepnsbjRz0qYeVHe%2Buien8Et1UjF3w9VZSgQiwq%2BxFwpatMxS9GiR%2F6tZ8tWFiXoVPHvD8N0oJz9w2wo3GkwMyJMJM39lgRmlwemDJgZqMzGoxhP6baWZO7IY2y23ziBmHn475WX1mD9GYhsI5mGfUUq3HtkBImpw%2FIzjMNElttYF6mDo3F0yObvCaqbcibeHk2LLr8M4jWS15CKCdrxSjVXbax08tmnNH7SVq3L7VJB24vlw6bUHAvu2Rz0Bqbu83gfWBti6WMrZquyY3yvafCQMXHa7Tblw93wWOJebHIyegRCm%2FXGC9MltVZ5aAe%2BmUyA%2Bz1%2F2f%2FoDaHN0Pm4NDYl%2BIfKU3pdHYOG2JGkFHK0rxoWMXZwaBUJBHyjL9c%2BWC78uYkS4O4goob3M%2FTOUeMuGDD87abLBjqkAbf25NXXndQWDY2VtSd1P48RktkRH7s7tjXIb%2B0HLbw9N9LEsrZd9afUpz8UMMmfB6%2Bse2ngAEa6xl9HXVwBNOkjOZb36R7z6UWFDqUq3qFzkcXX2NYVf07%2F4ziFzbBpAI3GyT%2FjI%2BMrDH2zVfvZ03SqymW1MgPuL5tpUkA2M3iU5n3Eb7eRywDWkrh6jZvjCyJgc6qtFNZAcr7NGZmaIDsK9cNh&X-Amz-Signature=f8581deaa43aa52ddda2def327ef736b8b15afcb8e9cf402e93451d52d904e16&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
