
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKGXTDHQ%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041711Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIA9gfTEX3DQ7DMt3OS5TY7H1%2Bi2mjwgz8vJZ6IVURKyyAiAf0%2BBn2Vs23wdgFSorsv6bBUv1OU6zMtATI%2F3%2FZQjiAiqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6zd036nohqwOvqc0KtwDaUUpbIuGQDIIUPUN5j03QuK%2FfzPRlbjBtc6SeqL1AQcXacHSRnp9oFr044LmTRSxPaFauCqlCfk5Ohfaxy36c%2FIY1zaA71iZl%2BIZJHxBD8%2FS0xGaFgELLxweZn7M%2FhbjKo97CIAD68md2F2DiJ1e8bqMMHmW9THej6DP4lSYJfeOlxk97qETC3a3afxCR%2ByVy32R52QeCjv5d6sQH46Ic8N%2Fb4onO2eOAY%2BBC%2BTvFd%2BcVGqRqqyw0RjEPiG1HbZz8E2xVBQ7lOz94VeHWBu49pGbvVGDqBejQmU2cMHUar2BVu%2BbfJg4muQav%2BrpTmErZF2racrIZDu2icacxQGJlgzPcEwKHvo%2FMkIkQvjhkAPFDc8FetZ6X5c9R7wmOx%2FJ%2Fc%2B0dfi62XE1crX4OmGmmmeS1KhRKrEpWo9A6%2BGdn53OsD%2BOqOQvjFRJLBACxnYxSvxOpa2EJmLJJNyctPsW8T11w5DFrhb3GOFUMQwwfxEL76J%2BV6WY8pEscKwFvq8nDTADVzofw7lMLNONAJyT0fjqRh0Yn0XrZ4IDaFZj5dJv107fZ7C5UlUvTTP4sxOB2jAHO9rNpe8PzX20fbB6gbFRsIiXYUpgq5oLUdEYRBXZUTA8ihSacxaa1eYwgdvLywY6pgGK2TAGi0u0JBzXfrKtOJjwWLppyKV364xjjwg4tHbwhOHHnZMaEGZYy1D%2Bekzdk8yPQ8YRwQtLsCMo8nw%2F02ta8A%2BqBsovF7uZu0WDwIL7UmzGjJmieyg2l%2Fp4STWszQ%2FHEoJ8510XlP6xNw%2BUdpun5g0tJQhGUx1YKpLl54WgYEqJNmy1fUKRtyRsGij0H8p0eZ5XT%2BjGOuDXPl%2Fe6UsNdgFnNrmk&X-Amz-Signature=055541bcdeacad21d3f8ef57101c8b6a8572f8c522d2f50c67e6185457355570&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKGXTDHQ%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041711Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIA9gfTEX3DQ7DMt3OS5TY7H1%2Bi2mjwgz8vJZ6IVURKyyAiAf0%2BBn2Vs23wdgFSorsv6bBUv1OU6zMtATI%2F3%2FZQjiAiqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6zd036nohqwOvqc0KtwDaUUpbIuGQDIIUPUN5j03QuK%2FfzPRlbjBtc6SeqL1AQcXacHSRnp9oFr044LmTRSxPaFauCqlCfk5Ohfaxy36c%2FIY1zaA71iZl%2BIZJHxBD8%2FS0xGaFgELLxweZn7M%2FhbjKo97CIAD68md2F2DiJ1e8bqMMHmW9THej6DP4lSYJfeOlxk97qETC3a3afxCR%2ByVy32R52QeCjv5d6sQH46Ic8N%2Fb4onO2eOAY%2BBC%2BTvFd%2BcVGqRqqyw0RjEPiG1HbZz8E2xVBQ7lOz94VeHWBu49pGbvVGDqBejQmU2cMHUar2BVu%2BbfJg4muQav%2BrpTmErZF2racrIZDu2icacxQGJlgzPcEwKHvo%2FMkIkQvjhkAPFDc8FetZ6X5c9R7wmOx%2FJ%2Fc%2B0dfi62XE1crX4OmGmmmeS1KhRKrEpWo9A6%2BGdn53OsD%2BOqOQvjFRJLBACxnYxSvxOpa2EJmLJJNyctPsW8T11w5DFrhb3GOFUMQwwfxEL76J%2BV6WY8pEscKwFvq8nDTADVzofw7lMLNONAJyT0fjqRh0Yn0XrZ4IDaFZj5dJv107fZ7C5UlUvTTP4sxOB2jAHO9rNpe8PzX20fbB6gbFRsIiXYUpgq5oLUdEYRBXZUTA8ihSacxaa1eYwgdvLywY6pgGK2TAGi0u0JBzXfrKtOJjwWLppyKV364xjjwg4tHbwhOHHnZMaEGZYy1D%2Bekzdk8yPQ8YRwQtLsCMo8nw%2F02ta8A%2BqBsovF7uZu0WDwIL7UmzGjJmieyg2l%2Fp4STWszQ%2FHEoJ8510XlP6xNw%2BUdpun5g0tJQhGUx1YKpLl54WgYEqJNmy1fUKRtyRsGij0H8p0eZ5XT%2BjGOuDXPl%2Fe6UsNdgFnNrmk&X-Amz-Signature=9b2f69de30c20175d7a9b34d20c619e41e8a5b79b7d6cb63bdce42ca27e500d7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKGXTDHQ%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041711Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIA9gfTEX3DQ7DMt3OS5TY7H1%2Bi2mjwgz8vJZ6IVURKyyAiAf0%2BBn2Vs23wdgFSorsv6bBUv1OU6zMtATI%2F3%2FZQjiAiqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6zd036nohqwOvqc0KtwDaUUpbIuGQDIIUPUN5j03QuK%2FfzPRlbjBtc6SeqL1AQcXacHSRnp9oFr044LmTRSxPaFauCqlCfk5Ohfaxy36c%2FIY1zaA71iZl%2BIZJHxBD8%2FS0xGaFgELLxweZn7M%2FhbjKo97CIAD68md2F2DiJ1e8bqMMHmW9THej6DP4lSYJfeOlxk97qETC3a3afxCR%2ByVy32R52QeCjv5d6sQH46Ic8N%2Fb4onO2eOAY%2BBC%2BTvFd%2BcVGqRqqyw0RjEPiG1HbZz8E2xVBQ7lOz94VeHWBu49pGbvVGDqBejQmU2cMHUar2BVu%2BbfJg4muQav%2BrpTmErZF2racrIZDu2icacxQGJlgzPcEwKHvo%2FMkIkQvjhkAPFDc8FetZ6X5c9R7wmOx%2FJ%2Fc%2B0dfi62XE1crX4OmGmmmeS1KhRKrEpWo9A6%2BGdn53OsD%2BOqOQvjFRJLBACxnYxSvxOpa2EJmLJJNyctPsW8T11w5DFrhb3GOFUMQwwfxEL76J%2BV6WY8pEscKwFvq8nDTADVzofw7lMLNONAJyT0fjqRh0Yn0XrZ4IDaFZj5dJv107fZ7C5UlUvTTP4sxOB2jAHO9rNpe8PzX20fbB6gbFRsIiXYUpgq5oLUdEYRBXZUTA8ihSacxaa1eYwgdvLywY6pgGK2TAGi0u0JBzXfrKtOJjwWLppyKV364xjjwg4tHbwhOHHnZMaEGZYy1D%2Bekzdk8yPQ8YRwQtLsCMo8nw%2F02ta8A%2BqBsovF7uZu0WDwIL7UmzGjJmieyg2l%2Fp4STWszQ%2FHEoJ8510XlP6xNw%2BUdpun5g0tJQhGUx1YKpLl54WgYEqJNmy1fUKRtyRsGij0H8p0eZ5XT%2BjGOuDXPl%2Fe6UsNdgFnNrmk&X-Amz-Signature=d1d756dec60e8653c7894298dbe4e4b688d5f0f2e95a2ff30acd1ccc137e2ed8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ATYOWYY%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIA0j1gwMV%2FmQJtoquQsApf1FNisHeHsPjoaynwCqN%2B5NAiEAiP8Qgk3SZBo82cJLJDFiexcmrDDLknqGpbC3AbGKlh4qiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ%2B%2BEM58QAgCnvOE1CrcA03tZKh36ht14dpGImA79JCMRfLVjPYA4aK4TbzZ4ZPPtJzFxqlofuLXLhb8GyisbpbfQkeuTXsEmyNGYY5d1oNSA9hoJk%2BpzHurCmH5v6yUw7eSv7LoQYYVZXxY0OZXvqBk0oybPuQp0U2ON1pocbfLlgSIPskggPtUv3ZkscC5eyxYpTiFW%2Fc2phSIrCHpOUGN2eXvNsHNCPDDnCYmDrXkdaMaA%2BU41ZoKcClCJtyjJ0wSLgPqXHzj1pWewPk64LqGIvwOkpZJNoYag1aFKFIDKpLWMdmcfcF8oqDnjkn0njbVhGrKsEFbnLmaiOlxcSGn5E6x%2BEfI%2BzjNPd0DLvOKENsXhmf6%2FMt93havlVprFNwxKFRP7PM%2FHisKkBNPZp9T91m91sJ%2BJwMHMvItg5tQdcEaGbLqDAIIbOr%2BVCdp%2FNnJTNLpvhN9E5bDcTP%2F%2FY3J0yODkSqmsYDMQH1Erxtvk2%2FRIeJRoMUuFHojcy3QwZdj6i20NgIJnfJsvjd%2B2c%2BdrUFlu24ZN6aSV%2FkW8YwCF7KKQ8YJhVitP43rURDuDSboxfRHW5%2FWowTl%2FBmAMq2Jz%2BMscuFREePj4kAMuIQGzdaaCCfEzGeFm75E2ohflbZ2OnTwr%2BPG0SQ7MMPcy8sGOqUB4ofQqNmbtBuWsUYPjO2Zuwh%2BDeMxD1aTl0baRIdmzrFnogYILbJej8R%2F0O%2B66C%2FXQIlwUGbE9qgdZNpTndgM%2Bk0%2F8NM3OSEvFPjOdGDi1MITMXdacO0TeebVuw0F6t2QvS8CgcyVK4e%2BFutJdiyh3ZQzcqVW4TyWs7WpJV%2BOimB91Z9iwBk1yDHIY0WwfKZYAC2y2iMxw44khBF5aNCQCX5Y7A93&X-Amz-Signature=26e0865d078948b0e0b909ea35c41a534cc7a0336424bf36a947b76c6559bebe&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ATYOWYY%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIA0j1gwMV%2FmQJtoquQsApf1FNisHeHsPjoaynwCqN%2B5NAiEAiP8Qgk3SZBo82cJLJDFiexcmrDDLknqGpbC3AbGKlh4qiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ%2B%2BEM58QAgCnvOE1CrcA03tZKh36ht14dpGImA79JCMRfLVjPYA4aK4TbzZ4ZPPtJzFxqlofuLXLhb8GyisbpbfQkeuTXsEmyNGYY5d1oNSA9hoJk%2BpzHurCmH5v6yUw7eSv7LoQYYVZXxY0OZXvqBk0oybPuQp0U2ON1pocbfLlgSIPskggPtUv3ZkscC5eyxYpTiFW%2Fc2phSIrCHpOUGN2eXvNsHNCPDDnCYmDrXkdaMaA%2BU41ZoKcClCJtyjJ0wSLgPqXHzj1pWewPk64LqGIvwOkpZJNoYag1aFKFIDKpLWMdmcfcF8oqDnjkn0njbVhGrKsEFbnLmaiOlxcSGn5E6x%2BEfI%2BzjNPd0DLvOKENsXhmf6%2FMt93havlVprFNwxKFRP7PM%2FHisKkBNPZp9T91m91sJ%2BJwMHMvItg5tQdcEaGbLqDAIIbOr%2BVCdp%2FNnJTNLpvhN9E5bDcTP%2F%2FY3J0yODkSqmsYDMQH1Erxtvk2%2FRIeJRoMUuFHojcy3QwZdj6i20NgIJnfJsvjd%2B2c%2BdrUFlu24ZN6aSV%2FkW8YwCF7KKQ8YJhVitP43rURDuDSboxfRHW5%2FWowTl%2FBmAMq2Jz%2BMscuFREePj4kAMuIQGzdaaCCfEzGeFm75E2ohflbZ2OnTwr%2BPG0SQ7MMPcy8sGOqUB4ofQqNmbtBuWsUYPjO2Zuwh%2BDeMxD1aTl0baRIdmzrFnogYILbJej8R%2F0O%2B66C%2FXQIlwUGbE9qgdZNpTndgM%2Bk0%2F8NM3OSEvFPjOdGDi1MITMXdacO0TeebVuw0F6t2QvS8CgcyVK4e%2BFutJdiyh3ZQzcqVW4TyWs7WpJV%2BOimB91Z9iwBk1yDHIY0WwfKZYAC2y2iMxw44khBF5aNCQCX5Y7A93&X-Amz-Signature=00e5a267850069596d30832ae76623a5137553ac3e0da46f7fbfd80495027195&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ATYOWYY%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIA0j1gwMV%2FmQJtoquQsApf1FNisHeHsPjoaynwCqN%2B5NAiEAiP8Qgk3SZBo82cJLJDFiexcmrDDLknqGpbC3AbGKlh4qiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ%2B%2BEM58QAgCnvOE1CrcA03tZKh36ht14dpGImA79JCMRfLVjPYA4aK4TbzZ4ZPPtJzFxqlofuLXLhb8GyisbpbfQkeuTXsEmyNGYY5d1oNSA9hoJk%2BpzHurCmH5v6yUw7eSv7LoQYYVZXxY0OZXvqBk0oybPuQp0U2ON1pocbfLlgSIPskggPtUv3ZkscC5eyxYpTiFW%2Fc2phSIrCHpOUGN2eXvNsHNCPDDnCYmDrXkdaMaA%2BU41ZoKcClCJtyjJ0wSLgPqXHzj1pWewPk64LqGIvwOkpZJNoYag1aFKFIDKpLWMdmcfcF8oqDnjkn0njbVhGrKsEFbnLmaiOlxcSGn5E6x%2BEfI%2BzjNPd0DLvOKENsXhmf6%2FMt93havlVprFNwxKFRP7PM%2FHisKkBNPZp9T91m91sJ%2BJwMHMvItg5tQdcEaGbLqDAIIbOr%2BVCdp%2FNnJTNLpvhN9E5bDcTP%2F%2FY3J0yODkSqmsYDMQH1Erxtvk2%2FRIeJRoMUuFHojcy3QwZdj6i20NgIJnfJsvjd%2B2c%2BdrUFlu24ZN6aSV%2FkW8YwCF7KKQ8YJhVitP43rURDuDSboxfRHW5%2FWowTl%2FBmAMq2Jz%2BMscuFREePj4kAMuIQGzdaaCCfEzGeFm75E2ohflbZ2OnTwr%2BPG0SQ7MMPcy8sGOqUB4ofQqNmbtBuWsUYPjO2Zuwh%2BDeMxD1aTl0baRIdmzrFnogYILbJej8R%2F0O%2B66C%2FXQIlwUGbE9qgdZNpTndgM%2Bk0%2F8NM3OSEvFPjOdGDi1MITMXdacO0TeebVuw0F6t2QvS8CgcyVK4e%2BFutJdiyh3ZQzcqVW4TyWs7WpJV%2BOimB91Z9iwBk1yDHIY0WwfKZYAC2y2iMxw44khBF5aNCQCX5Y7A93&X-Amz-Signature=b234eaa048d20aefb9ffd146b4a85ce0aa4c6e246baed227dc8e33dd269b6142&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666EHMT2EO%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIHjYRrsY6MB5KtEcTkxPBaJZtWbODM7hHR7iOW8Qvo%2BYAiAYuMaDrfWCKrfkQK6jSqyR2USqnGawvKxF9FNKkA0S6SqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqeR38w5%2BOb65rFbxKtwDlbVDGtBv4c1c1Uvnjgei2O5U5UggPBEMfQohrCOOK9Fhivp%2FClrAcSX2M4%2BbDPKRyjmMBslgd66QJBJGnw4HN2SyxP2z3%2FIgUEm%2F6hRUwJ4MNsAB%2BYl%2BGxkHfxGorZ7u2hskhdDzmU6NWHxw2OkJlNfQfIWknTZ4gEBBeZyYH2G4IoG3KOtsxFnrS%2F824kLHlm1wB0oeEQJatTSjKJAaU%2BrgwrPAUoAzIITs4B5Df4lRW1tRnyDxBcheM26Vbuty3yYj9byCd3%2F1e0VnK5z5GkPlRnvLK4P1UsMi0TTb%2FtBbZM817aO1J%2FYq0QUTfmtTt%2FqaAknIcOMRzIU1ZJhkRLu6pMGFpe4q6Ke393yd1qInJy1QuI%2FYI6s%2FJfXo9f9j69llGQRVOw94XoYSwLUta04VMTpJmJyVs6YkG5Yii9nqDHSD7ktW47ZashnXicFVvZh91z12quq7OzZHlVTvtXJSGejG1%2FDTK4b70COrY%2F4EZNo%2BlqessNXPAN%2BfEVZ9IM%2B6xAnVynmfSzKm68DnbFw3ZeXTygfiPkRAdBSY4YEPFxbAPj3g6ycGz6XiqL%2FciAj1TaJE5umHTT0uNcXKiBOdWP4mIDtVEXaHCYRYLor%2FTmBL5BnIEp5GH5cwi9vLywY6pgEJIXXrJm85rUzZkOa5eH7JzgEbMuFK1wzbdjgIPtU4FEmURqmNSSP9m9uEvikJ1s6kNclfiWiR2sTyAnV%2BbdT48zl07JmPYQVPeIpNhZan9rxgLLtM6MeDRwcE0GDXf6OlSFl7SPWQ2NzAV41Fec76lo4lsGJ7vDFtvCAucln2j%2BLuoG1Ca%2FNeYk2kQLF7fnpnm7lyCN097Q9oUk%2BC466DVmqMLlME&X-Amz-Signature=9716074d262b9094111c121a2fec17573d903593d1ae530caa6a844b3f8ec9db&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666EHMT2EO%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIHjYRrsY6MB5KtEcTkxPBaJZtWbODM7hHR7iOW8Qvo%2BYAiAYuMaDrfWCKrfkQK6jSqyR2USqnGawvKxF9FNKkA0S6SqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqeR38w5%2BOb65rFbxKtwDlbVDGtBv4c1c1Uvnjgei2O5U5UggPBEMfQohrCOOK9Fhivp%2FClrAcSX2M4%2BbDPKRyjmMBslgd66QJBJGnw4HN2SyxP2z3%2FIgUEm%2F6hRUwJ4MNsAB%2BYl%2BGxkHfxGorZ7u2hskhdDzmU6NWHxw2OkJlNfQfIWknTZ4gEBBeZyYH2G4IoG3KOtsxFnrS%2F824kLHlm1wB0oeEQJatTSjKJAaU%2BrgwrPAUoAzIITs4B5Df4lRW1tRnyDxBcheM26Vbuty3yYj9byCd3%2F1e0VnK5z5GkPlRnvLK4P1UsMi0TTb%2FtBbZM817aO1J%2FYq0QUTfmtTt%2FqaAknIcOMRzIU1ZJhkRLu6pMGFpe4q6Ke393yd1qInJy1QuI%2FYI6s%2FJfXo9f9j69llGQRVOw94XoYSwLUta04VMTpJmJyVs6YkG5Yii9nqDHSD7ktW47ZashnXicFVvZh91z12quq7OzZHlVTvtXJSGejG1%2FDTK4b70COrY%2F4EZNo%2BlqessNXPAN%2BfEVZ9IM%2B6xAnVynmfSzKm68DnbFw3ZeXTygfiPkRAdBSY4YEPFxbAPj3g6ycGz6XiqL%2FciAj1TaJE5umHTT0uNcXKiBOdWP4mIDtVEXaHCYRYLor%2FTmBL5BnIEp5GH5cwi9vLywY6pgEJIXXrJm85rUzZkOa5eH7JzgEbMuFK1wzbdjgIPtU4FEmURqmNSSP9m9uEvikJ1s6kNclfiWiR2sTyAnV%2BbdT48zl07JmPYQVPeIpNhZan9rxgLLtM6MeDRwcE0GDXf6OlSFl7SPWQ2NzAV41Fec76lo4lsGJ7vDFtvCAucln2j%2BLuoG1Ca%2FNeYk2kQLF7fnpnm7lyCN097Q9oUk%2BC466DVmqMLlME&X-Amz-Signature=8fed35d1361292c71681e1c14be99f0b36cf362f843055b24f2e4542c565e302&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666EHMT2EO%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIHjYRrsY6MB5KtEcTkxPBaJZtWbODM7hHR7iOW8Qvo%2BYAiAYuMaDrfWCKrfkQK6jSqyR2USqnGawvKxF9FNKkA0S6SqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqeR38w5%2BOb65rFbxKtwDlbVDGtBv4c1c1Uvnjgei2O5U5UggPBEMfQohrCOOK9Fhivp%2FClrAcSX2M4%2BbDPKRyjmMBslgd66QJBJGnw4HN2SyxP2z3%2FIgUEm%2F6hRUwJ4MNsAB%2BYl%2BGxkHfxGorZ7u2hskhdDzmU6NWHxw2OkJlNfQfIWknTZ4gEBBeZyYH2G4IoG3KOtsxFnrS%2F824kLHlm1wB0oeEQJatTSjKJAaU%2BrgwrPAUoAzIITs4B5Df4lRW1tRnyDxBcheM26Vbuty3yYj9byCd3%2F1e0VnK5z5GkPlRnvLK4P1UsMi0TTb%2FtBbZM817aO1J%2FYq0QUTfmtTt%2FqaAknIcOMRzIU1ZJhkRLu6pMGFpe4q6Ke393yd1qInJy1QuI%2FYI6s%2FJfXo9f9j69llGQRVOw94XoYSwLUta04VMTpJmJyVs6YkG5Yii9nqDHSD7ktW47ZashnXicFVvZh91z12quq7OzZHlVTvtXJSGejG1%2FDTK4b70COrY%2F4EZNo%2BlqessNXPAN%2BfEVZ9IM%2B6xAnVynmfSzKm68DnbFw3ZeXTygfiPkRAdBSY4YEPFxbAPj3g6ycGz6XiqL%2FciAj1TaJE5umHTT0uNcXKiBOdWP4mIDtVEXaHCYRYLor%2FTmBL5BnIEp5GH5cwi9vLywY6pgEJIXXrJm85rUzZkOa5eH7JzgEbMuFK1wzbdjgIPtU4FEmURqmNSSP9m9uEvikJ1s6kNclfiWiR2sTyAnV%2BbdT48zl07JmPYQVPeIpNhZan9rxgLLtM6MeDRwcE0GDXf6OlSFl7SPWQ2NzAV41Fec76lo4lsGJ7vDFtvCAucln2j%2BLuoG1Ca%2FNeYk2kQLF7fnpnm7lyCN097Q9oUk%2BC466DVmqMLlME&X-Amz-Signature=a3a40e9252429dae5e7f6da795dbcc34835bb58c3e5e046aecb2aa7165017914&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666EHMT2EO%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIHjYRrsY6MB5KtEcTkxPBaJZtWbODM7hHR7iOW8Qvo%2BYAiAYuMaDrfWCKrfkQK6jSqyR2USqnGawvKxF9FNKkA0S6SqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqeR38w5%2BOb65rFbxKtwDlbVDGtBv4c1c1Uvnjgei2O5U5UggPBEMfQohrCOOK9Fhivp%2FClrAcSX2M4%2BbDPKRyjmMBslgd66QJBJGnw4HN2SyxP2z3%2FIgUEm%2F6hRUwJ4MNsAB%2BYl%2BGxkHfxGorZ7u2hskhdDzmU6NWHxw2OkJlNfQfIWknTZ4gEBBeZyYH2G4IoG3KOtsxFnrS%2F824kLHlm1wB0oeEQJatTSjKJAaU%2BrgwrPAUoAzIITs4B5Df4lRW1tRnyDxBcheM26Vbuty3yYj9byCd3%2F1e0VnK5z5GkPlRnvLK4P1UsMi0TTb%2FtBbZM817aO1J%2FYq0QUTfmtTt%2FqaAknIcOMRzIU1ZJhkRLu6pMGFpe4q6Ke393yd1qInJy1QuI%2FYI6s%2FJfXo9f9j69llGQRVOw94XoYSwLUta04VMTpJmJyVs6YkG5Yii9nqDHSD7ktW47ZashnXicFVvZh91z12quq7OzZHlVTvtXJSGejG1%2FDTK4b70COrY%2F4EZNo%2BlqessNXPAN%2BfEVZ9IM%2B6xAnVynmfSzKm68DnbFw3ZeXTygfiPkRAdBSY4YEPFxbAPj3g6ycGz6XiqL%2FciAj1TaJE5umHTT0uNcXKiBOdWP4mIDtVEXaHCYRYLor%2FTmBL5BnIEp5GH5cwi9vLywY6pgEJIXXrJm85rUzZkOa5eH7JzgEbMuFK1wzbdjgIPtU4FEmURqmNSSP9m9uEvikJ1s6kNclfiWiR2sTyAnV%2BbdT48zl07JmPYQVPeIpNhZan9rxgLLtM6MeDRwcE0GDXf6OlSFl7SPWQ2NzAV41Fec76lo4lsGJ7vDFtvCAucln2j%2BLuoG1Ca%2FNeYk2kQLF7fnpnm7lyCN097Q9oUk%2BC466DVmqMLlME&X-Amz-Signature=b33038f55f31c1eb3fcf4c452e5469f5d62c0f0636bb7324551b30db23855dbf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QOEADUZN%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDb1vxErrr9msxzOKhVmX4e9Om7oFIEodCR7%2Fv%2BDVUVCAiA%2FP3PgB8mYYKBQ7P8GtoCtxFsBrT%2BefmHKBkmX5cL%2FGyqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMDnasfQE3N65WyU28KtwDVOFOXTVscrztPdjBhfbyP%2F30nIKS4gvsZH%2Fdj0DrZvp2khM13juyoVESxb17406d6Ao9mia3AN%2FPWYZb16x86Icqt7GfDn7kLMWO4gUS7TLlWDCpMxVbP1SCAXDGYEZYGzVe4KBeSbgQE6ElBpcLbbp4QqzxYYWEg0L%2F3k7JuNf3mOqMtJr1pP1RPAEcIWZc6eoQ9wBcd2K3uQzIxmtk7jGP6FJJDZgWiTu5CG970AEo5jX6%2Bcx%2BD58JdYO%2FjTkRhGZ574WtYYLMgrgEYSArUZUz5bp2J1frVdJlczs4yEl6pg3dy21umJlpJrydDb8HoZDMzr0qt6XDg2Tywf4dg7s6inhEYpxoQTiH1q%2Bps8mVlfYpH8Gr1zjPDXAM7JNNQJcNxvtKNPsMDdJZvAyAqKh%2F70cnwi6hrnBBUK51MBMRvKg%2BfBWnKV2lC%2BwQYuUjwHjzfxyE2IMJrGbqEuJpAVfCU0d%2BE74HNvGn%2F1WPNAOQSW2rxRttPdOIeElqPLG77I5CejIngvV56BuE5P3KcbbNcRiHfWiO3zw8od39fgH2vZF0Hsj10JD9cx7pmO6l%2F93F76ClGsDQxxrt5fABBO0TNsrq7IO1M1ObfrEEHQyky9uMJ3Udsft5%2Fcwwm9zLywY6pgES9HwGo0Dk77F4tMogMWVukzRo1CtsVwavFGt%2F8QuPGclVKT6vbhs1IRmXGk6ai2PWPc8muYxM8NGgfH2pT9t1aXueBjcUENkFhSMHniPlNaINxhpmNoK%2F2XO%2BoQStJKS%2FBsniDG8d7C0%2BHl%2BfnboWLlxy7im%2FKK3Qgqv7LDVTH%2BMorGO1RhjbmuNklpcFaOOSursFcmAAtH1Af7c66AFrQhc5OIU1&X-Amz-Signature=a98fbb036a282be20c69779fb2ea505020d1a3bf21325311ca5eb947ceba2c32&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QOEADUZN%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDb1vxErrr9msxzOKhVmX4e9Om7oFIEodCR7%2Fv%2BDVUVCAiA%2FP3PgB8mYYKBQ7P8GtoCtxFsBrT%2BefmHKBkmX5cL%2FGyqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMDnasfQE3N65WyU28KtwDVOFOXTVscrztPdjBhfbyP%2F30nIKS4gvsZH%2Fdj0DrZvp2khM13juyoVESxb17406d6Ao9mia3AN%2FPWYZb16x86Icqt7GfDn7kLMWO4gUS7TLlWDCpMxVbP1SCAXDGYEZYGzVe4KBeSbgQE6ElBpcLbbp4QqzxYYWEg0L%2F3k7JuNf3mOqMtJr1pP1RPAEcIWZc6eoQ9wBcd2K3uQzIxmtk7jGP6FJJDZgWiTu5CG970AEo5jX6%2Bcx%2BD58JdYO%2FjTkRhGZ574WtYYLMgrgEYSArUZUz5bp2J1frVdJlczs4yEl6pg3dy21umJlpJrydDb8HoZDMzr0qt6XDg2Tywf4dg7s6inhEYpxoQTiH1q%2Bps8mVlfYpH8Gr1zjPDXAM7JNNQJcNxvtKNPsMDdJZvAyAqKh%2F70cnwi6hrnBBUK51MBMRvKg%2BfBWnKV2lC%2BwQYuUjwHjzfxyE2IMJrGbqEuJpAVfCU0d%2BE74HNvGn%2F1WPNAOQSW2rxRttPdOIeElqPLG77I5CejIngvV56BuE5P3KcbbNcRiHfWiO3zw8od39fgH2vZF0Hsj10JD9cx7pmO6l%2F93F76ClGsDQxxrt5fABBO0TNsrq7IO1M1ObfrEEHQyky9uMJ3Udsft5%2Fcwwm9zLywY6pgES9HwGo0Dk77F4tMogMWVukzRo1CtsVwavFGt%2F8QuPGclVKT6vbhs1IRmXGk6ai2PWPc8muYxM8NGgfH2pT9t1aXueBjcUENkFhSMHniPlNaINxhpmNoK%2F2XO%2BoQStJKS%2FBsniDG8d7C0%2BHl%2BfnboWLlxy7im%2FKK3Qgqv7LDVTH%2BMorGO1RhjbmuNklpcFaOOSursFcmAAtH1Af7c66AFrQhc5OIU1&X-Amz-Signature=109c3d63990c25b18199c5d73e96616a621db1debbc54eef2a2745cbb86bd4c1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QOEADUZN%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDb1vxErrr9msxzOKhVmX4e9Om7oFIEodCR7%2Fv%2BDVUVCAiA%2FP3PgB8mYYKBQ7P8GtoCtxFsBrT%2BefmHKBkmX5cL%2FGyqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMDnasfQE3N65WyU28KtwDVOFOXTVscrztPdjBhfbyP%2F30nIKS4gvsZH%2Fdj0DrZvp2khM13juyoVESxb17406d6Ao9mia3AN%2FPWYZb16x86Icqt7GfDn7kLMWO4gUS7TLlWDCpMxVbP1SCAXDGYEZYGzVe4KBeSbgQE6ElBpcLbbp4QqzxYYWEg0L%2F3k7JuNf3mOqMtJr1pP1RPAEcIWZc6eoQ9wBcd2K3uQzIxmtk7jGP6FJJDZgWiTu5CG970AEo5jX6%2Bcx%2BD58JdYO%2FjTkRhGZ574WtYYLMgrgEYSArUZUz5bp2J1frVdJlczs4yEl6pg3dy21umJlpJrydDb8HoZDMzr0qt6XDg2Tywf4dg7s6inhEYpxoQTiH1q%2Bps8mVlfYpH8Gr1zjPDXAM7JNNQJcNxvtKNPsMDdJZvAyAqKh%2F70cnwi6hrnBBUK51MBMRvKg%2BfBWnKV2lC%2BwQYuUjwHjzfxyE2IMJrGbqEuJpAVfCU0d%2BE74HNvGn%2F1WPNAOQSW2rxRttPdOIeElqPLG77I5CejIngvV56BuE5P3KcbbNcRiHfWiO3zw8od39fgH2vZF0Hsj10JD9cx7pmO6l%2F93F76ClGsDQxxrt5fABBO0TNsrq7IO1M1ObfrEEHQyky9uMJ3Udsft5%2Fcwwm9zLywY6pgES9HwGo0Dk77F4tMogMWVukzRo1CtsVwavFGt%2F8QuPGclVKT6vbhs1IRmXGk6ai2PWPc8muYxM8NGgfH2pT9t1aXueBjcUENkFhSMHniPlNaINxhpmNoK%2F2XO%2BoQStJKS%2FBsniDG8d7C0%2BHl%2BfnboWLlxy7im%2FKK3Qgqv7LDVTH%2BMorGO1RhjbmuNklpcFaOOSursFcmAAtH1Af7c66AFrQhc5OIU1&X-Amz-Signature=d7fe4805c2d8b96e8c05b1c29d74f7864d0cdd01cbe7f1fd92521b9fa62ade65&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QOEADUZN%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041714Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDb1vxErrr9msxzOKhVmX4e9Om7oFIEodCR7%2Fv%2BDVUVCAiA%2FP3PgB8mYYKBQ7P8GtoCtxFsBrT%2BefmHKBkmX5cL%2FGyqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMDnasfQE3N65WyU28KtwDVOFOXTVscrztPdjBhfbyP%2F30nIKS4gvsZH%2Fdj0DrZvp2khM13juyoVESxb17406d6Ao9mia3AN%2FPWYZb16x86Icqt7GfDn7kLMWO4gUS7TLlWDCpMxVbP1SCAXDGYEZYGzVe4KBeSbgQE6ElBpcLbbp4QqzxYYWEg0L%2F3k7JuNf3mOqMtJr1pP1RPAEcIWZc6eoQ9wBcd2K3uQzIxmtk7jGP6FJJDZgWiTu5CG970AEo5jX6%2Bcx%2BD58JdYO%2FjTkRhGZ574WtYYLMgrgEYSArUZUz5bp2J1frVdJlczs4yEl6pg3dy21umJlpJrydDb8HoZDMzr0qt6XDg2Tywf4dg7s6inhEYpxoQTiH1q%2Bps8mVlfYpH8Gr1zjPDXAM7JNNQJcNxvtKNPsMDdJZvAyAqKh%2F70cnwi6hrnBBUK51MBMRvKg%2BfBWnKV2lC%2BwQYuUjwHjzfxyE2IMJrGbqEuJpAVfCU0d%2BE74HNvGn%2F1WPNAOQSW2rxRttPdOIeElqPLG77I5CejIngvV56BuE5P3KcbbNcRiHfWiO3zw8od39fgH2vZF0Hsj10JD9cx7pmO6l%2F93F76ClGsDQxxrt5fABBO0TNsrq7IO1M1ObfrEEHQyky9uMJ3Udsft5%2Fcwwm9zLywY6pgES9HwGo0Dk77F4tMogMWVukzRo1CtsVwavFGt%2F8QuPGclVKT6vbhs1IRmXGk6ai2PWPc8muYxM8NGgfH2pT9t1aXueBjcUENkFhSMHniPlNaINxhpmNoK%2F2XO%2BoQStJKS%2FBsniDG8d7C0%2BHl%2BfnboWLlxy7im%2FKK3Qgqv7LDVTH%2BMorGO1RhjbmuNklpcFaOOSursFcmAAtH1Af7c66AFrQhc5OIU1&X-Amz-Signature=d7d5fb2ec6fe6b71cd8771e5bf34e354e256337f2d81689c659019defaf48482&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663DI4PS55%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041715Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCICaAzBXdWCPONKbZ7gXHUlzmplPit8Eq3LZbLBDwHF54AiEAv2JPZvGseqCfIzQrKOIFSmWdEbr%2BjFcoAFkYCW60NbQqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAfHjpn1ZZzdHHl7HyrcA4J7LRjhGbuKT0UtCDvUOLeknNkYqR%2BA0SBc4ISdfT2j%2F%2FfgRzo2nCv5XZjhcpyaQ8wKkCkvDKoyz1hPpakL%2FPQ6l1xzWLAIslLIR477hlT3K4HAtAIo6KQuOnncZ%2F0tp9yBTpUf8b0%2B3YQtB565WaDsVZdSRFS5VESVGxKEe%2BuxoxBD%2B%2BtlKDKHyybk%2B8QXJIBQgoSpqx946hpiKdMQzcn5y%2Bu8LJlvwgRwvETwugKJF0iusT%2Bd0IV%2F%2BeMLXBOr4EnlmCHNN7dgWAPcilOLWOyIXknCw5PV3gVdYiMG5CxwyTfnGzUPGQ511MZISahjCjeH3g5M1zz1a4vDae2%2F14bQ%2F%2FWhDYtY0NmZ%2BTedWhTRe3XL%2BqbC%2FiVF1YSkK22i67HgAUNpyTrKsB%2ByiNmCGbvvLVlyB4X%2Ba2ZoWhHkwq9EXmYnKpgbfPTmMs7T1tQXislNdPP7NuHJVj5Co47nBJ%2BHqKmdrJa2fY4qr0O4DvWHGcPqF4HUTPt%2FF6BDqMkNuk9N3Lb1ooP%2FHSoi1uU4A2aVOvkh2E%2FKwqiglSBvqJ%2Fma%2BwkpdCpFbgEMPatS3XrmwEB%2FOBWzneApEhOIOm8PVp9x5YlhrOyNKfWIRGM3hnSbcSANLzWgDkLK2v8MKHby8sGOqUBhz6kg52KaixQBVwvGivyqgfQ%2BJ0AwMjFIDYxXHKYnHfAS0pGe4%2B7GghOz%2B0km5TVvVAPWaKhKNYjg%2FQ1RPCoRtvoFF5YZUMo85l3dBMpYQBA2CAWHhPSGgnA17MPKxlaPQpT6m%2BzFtsvOtT4UQiMAf1DTJOPP4zZ0xo4TyHjQb2L2NirowywjM61lr0QI8BJk6yG39jtrb3evJme4M6DtEzqOyg5&X-Amz-Signature=e6179f5c6f539c1561d2285b020bc08499c2a0afa852358551e6b83a24a01aa0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663DI4PS55%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041715Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCICaAzBXdWCPONKbZ7gXHUlzmplPit8Eq3LZbLBDwHF54AiEAv2JPZvGseqCfIzQrKOIFSmWdEbr%2BjFcoAFkYCW60NbQqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAfHjpn1ZZzdHHl7HyrcA4J7LRjhGbuKT0UtCDvUOLeknNkYqR%2BA0SBc4ISdfT2j%2F%2FfgRzo2nCv5XZjhcpyaQ8wKkCkvDKoyz1hPpakL%2FPQ6l1xzWLAIslLIR477hlT3K4HAtAIo6KQuOnncZ%2F0tp9yBTpUf8b0%2B3YQtB565WaDsVZdSRFS5VESVGxKEe%2BuxoxBD%2B%2BtlKDKHyybk%2B8QXJIBQgoSpqx946hpiKdMQzcn5y%2Bu8LJlvwgRwvETwugKJF0iusT%2Bd0IV%2F%2BeMLXBOr4EnlmCHNN7dgWAPcilOLWOyIXknCw5PV3gVdYiMG5CxwyTfnGzUPGQ511MZISahjCjeH3g5M1zz1a4vDae2%2F14bQ%2F%2FWhDYtY0NmZ%2BTedWhTRe3XL%2BqbC%2FiVF1YSkK22i67HgAUNpyTrKsB%2ByiNmCGbvvLVlyB4X%2Ba2ZoWhHkwq9EXmYnKpgbfPTmMs7T1tQXislNdPP7NuHJVj5Co47nBJ%2BHqKmdrJa2fY4qr0O4DvWHGcPqF4HUTPt%2FF6BDqMkNuk9N3Lb1ooP%2FHSoi1uU4A2aVOvkh2E%2FKwqiglSBvqJ%2Fma%2BwkpdCpFbgEMPatS3XrmwEB%2FOBWzneApEhOIOm8PVp9x5YlhrOyNKfWIRGM3hnSbcSANLzWgDkLK2v8MKHby8sGOqUBhz6kg52KaixQBVwvGivyqgfQ%2BJ0AwMjFIDYxXHKYnHfAS0pGe4%2B7GghOz%2B0km5TVvVAPWaKhKNYjg%2FQ1RPCoRtvoFF5YZUMo85l3dBMpYQBA2CAWHhPSGgnA17MPKxlaPQpT6m%2BzFtsvOtT4UQiMAf1DTJOPP4zZ0xo4TyHjQb2L2NirowywjM61lr0QI8BJk6yG39jtrb3evJme4M6DtEzqOyg5&X-Amz-Signature=8d8691cd4599ca95abbf23d5d6a1e628005ce74e94e127d025a739ace2062652&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663DI4PS55%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041715Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCICaAzBXdWCPONKbZ7gXHUlzmplPit8Eq3LZbLBDwHF54AiEAv2JPZvGseqCfIzQrKOIFSmWdEbr%2BjFcoAFkYCW60NbQqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDAfHjpn1ZZzdHHl7HyrcA4J7LRjhGbuKT0UtCDvUOLeknNkYqR%2BA0SBc4ISdfT2j%2F%2FfgRzo2nCv5XZjhcpyaQ8wKkCkvDKoyz1hPpakL%2FPQ6l1xzWLAIslLIR477hlT3K4HAtAIo6KQuOnncZ%2F0tp9yBTpUf8b0%2B3YQtB565WaDsVZdSRFS5VESVGxKEe%2BuxoxBD%2B%2BtlKDKHyybk%2B8QXJIBQgoSpqx946hpiKdMQzcn5y%2Bu8LJlvwgRwvETwugKJF0iusT%2Bd0IV%2F%2BeMLXBOr4EnlmCHNN7dgWAPcilOLWOyIXknCw5PV3gVdYiMG5CxwyTfnGzUPGQ511MZISahjCjeH3g5M1zz1a4vDae2%2F14bQ%2F%2FWhDYtY0NmZ%2BTedWhTRe3XL%2BqbC%2FiVF1YSkK22i67HgAUNpyTrKsB%2ByiNmCGbvvLVlyB4X%2Ba2ZoWhHkwq9EXmYnKpgbfPTmMs7T1tQXislNdPP7NuHJVj5Co47nBJ%2BHqKmdrJa2fY4qr0O4DvWHGcPqF4HUTPt%2FF6BDqMkNuk9N3Lb1ooP%2FHSoi1uU4A2aVOvkh2E%2FKwqiglSBvqJ%2Fma%2BwkpdCpFbgEMPatS3XrmwEB%2FOBWzneApEhOIOm8PVp9x5YlhrOyNKfWIRGM3hnSbcSANLzWgDkLK2v8MKHby8sGOqUBhz6kg52KaixQBVwvGivyqgfQ%2BJ0AwMjFIDYxXHKYnHfAS0pGe4%2B7GghOz%2B0km5TVvVAPWaKhKNYjg%2FQ1RPCoRtvoFF5YZUMo85l3dBMpYQBA2CAWHhPSGgnA17MPKxlaPQpT6m%2BzFtsvOtT4UQiMAf1DTJOPP4zZ0xo4TyHjQb2L2NirowywjM61lr0QI8BJk6yG39jtrb3evJme4M6DtEzqOyg5&X-Amz-Signature=7b2bd730eacf8f1a232282345aade97eeefe0da0959d8c962516a982d69d7492&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZU6NA57O%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041716Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIAShcg031k0glP3U2ocWgBwagJMD4U%2BgWO%2B7b5hY634kAiEAzjJMtHcgmZKhDtEr%2BiKimyJqYaFCM6NmRAfFdYgvHfoqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPGmtcbqgRFNntazXSrcA5fmLy1rzsf2P4849vGPA2LHtINTMgc53AQufB91U%2BN3myIv8XgbOW%2BlaqgNkEB4dzNlAYY24F3YFOO9e3tcmClKv2z2m4hhsa2FnPTA%2BRpDtiflB6CVllJw25odTCed3ITCuvC19qQkC724tZg5Z4w7uIKqIjHf0tFkk7ZxVMno8Bh54lRZvCXtfsg5gtfO0zoBI8cW8yk8PEcdyc%2F2viRD1lzauAijECkqdSyeLgBBZoOFYbkOXqWOaXXJRwnhUMsbeFNu6n7lWZFA%2Bbr%2FmGrIzCWiziW4t1Uq4lCpGt3x9MyEiagAlTPOjDAYwO%2FanZ%2FyhwbW9a0YHqKFbey0u9GKk62tNjcZtYIgAPEx%2BZgxVM7LDwNnzFo%2B43s15EeN%2BJGY708J9cnQGSMxuUnIgJATlTn0ny%2FZy%2BnpJ0VLG9rI3I5q6PEFJCqCSaJWb%2BnSek8Fdvg4vgUSJlWJMwKncFn1v%2BnKaI7WOXvMTz%2BpifumAWxbr%2Fhlk3NIxCfS4NTq03v21ANFlH1DExCyooMr2CBenSkxiHbdOXSnz0sHQsNEU8Tw%2B2%2FVDqnuBcOg9febHt00o48O%2BL3CMFJvsTcDIxV3xw6cr50T1Zdug%2F0z4OMS85gUqlyJnnT%2B7wshMPTby8sGOqUB0fhYcJrR%2BEBvLdbRHQdX8z812YcCm%2B%2BTmsyrMm5oxLTQbVL3uSO%2F1h9%2FGG6FDLxprCX6QB3r%2FA7KU5KQEvcNHFVDmdPxKhJeVUVYotA85TsbYxRR8125jyycyFyD3KmqWgN2a3onqaYgkJxfrOLplY0U6TywN1JH1R88kRtgozHstVop7%2FUSj%2FCkNsD07T1Gksja5fkMVzuOOqtxQOdFjtuElhsX&X-Amz-Signature=d9aed9d3b901ce886e7aec54490087e0d3fe580d15242974b26927824f13a454&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZU6NA57O%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041716Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIAShcg031k0glP3U2ocWgBwagJMD4U%2BgWO%2B7b5hY634kAiEAzjJMtHcgmZKhDtEr%2BiKimyJqYaFCM6NmRAfFdYgvHfoqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPGmtcbqgRFNntazXSrcA5fmLy1rzsf2P4849vGPA2LHtINTMgc53AQufB91U%2BN3myIv8XgbOW%2BlaqgNkEB4dzNlAYY24F3YFOO9e3tcmClKv2z2m4hhsa2FnPTA%2BRpDtiflB6CVllJw25odTCed3ITCuvC19qQkC724tZg5Z4w7uIKqIjHf0tFkk7ZxVMno8Bh54lRZvCXtfsg5gtfO0zoBI8cW8yk8PEcdyc%2F2viRD1lzauAijECkqdSyeLgBBZoOFYbkOXqWOaXXJRwnhUMsbeFNu6n7lWZFA%2Bbr%2FmGrIzCWiziW4t1Uq4lCpGt3x9MyEiagAlTPOjDAYwO%2FanZ%2FyhwbW9a0YHqKFbey0u9GKk62tNjcZtYIgAPEx%2BZgxVM7LDwNnzFo%2B43s15EeN%2BJGY708J9cnQGSMxuUnIgJATlTn0ny%2FZy%2BnpJ0VLG9rI3I5q6PEFJCqCSaJWb%2BnSek8Fdvg4vgUSJlWJMwKncFn1v%2BnKaI7WOXvMTz%2BpifumAWxbr%2Fhlk3NIxCfS4NTq03v21ANFlH1DExCyooMr2CBenSkxiHbdOXSnz0sHQsNEU8Tw%2B2%2FVDqnuBcOg9febHt00o48O%2BL3CMFJvsTcDIxV3xw6cr50T1Zdug%2F0z4OMS85gUqlyJnnT%2B7wshMPTby8sGOqUB0fhYcJrR%2BEBvLdbRHQdX8z812YcCm%2B%2BTmsyrMm5oxLTQbVL3uSO%2F1h9%2FGG6FDLxprCX6QB3r%2FA7KU5KQEvcNHFVDmdPxKhJeVUVYotA85TsbYxRR8125jyycyFyD3KmqWgN2a3onqaYgkJxfrOLplY0U6TywN1JH1R88kRtgozHstVop7%2FUSj%2FCkNsD07T1Gksja5fkMVzuOOqtxQOdFjtuElhsX&X-Amz-Signature=e1505f7ae6d03c990f6cc8585f51093997830fe7b70e9dbf014ecac4fb650c89&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YOUMYQ63%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041717Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQD9JXN9rNXmogj7gMmjzNilQ%2BXcpUIpf3OqLPGD1Q58zwIgPM2R%2FJTS%2FYFzMAa6Nkom8cYPeDmvhLcsed67vWoT0uEqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOIFGaGLfSY9aLrhqyrcA4DzLD7oGRjnXyq%2F4QcB4c6oYeO5hMsIrg67SqcmCW7CkOwjgDzddtxTNEkA%2FubNSIK9SCym74Bi9AyHjHXn9QecN95%2FR70AfFaOOXdBgc1wH%2BGOZQpM8sRD682LLtNnYg36kRlq23pDPVdLmljwEXLhJzyBGbf%2Fa4%2F9UuR7rxQ%2FgwExwxOfm8C2LytFGwOjPsq0L0rXPdCrGZ3rr9wqIUTf%2BZ1LnocgRf%2BBKj5VwACDBtmh3Zn8dhCq3THi6V82hk0FqIjMeeoDC3QdsExCt5L3WaijMCubBlxc%2FhpmzlDQocs0J9KxQSynRvwZZcdJtbtbi0MrErDQ6tt4%2B6d9NBXHSlmTkEUBijVWrkboIXQ0jwzFqTrWVw%2FS48wcOXDncsfna915mQjkl4VWbuL5AFUfYhIP%2FFB50ii1UlvNebNfjqhi1DvgfCtiO1%2BgK%2FjhqdqkavmBZcbm89eZ23m%2FXBbu8d3cimRiysRmPpF%2BcYRuUwECCRmOsP9iza97MiT55trxwQ15m41y1uXEaKs0GFsu9WokGsKRE4weFR50riyOf0JMt1kQ48XvRKX8HeObEIeqAd4MefbMHyDXo5zZs%2B2%2Buvlg8h0hWG3uFgRxDF60bgbC%2FdIZzn6OTGP1MK7by8sGOqUBJ46BsUrtmcCH5kofWeBR6A0Ne409eGan7Jtg4aUdGf2Uf5trxucikISLtN0zbSVfyS6KhJYBxMbk4ocIUNQkw6yLNhbhOjzEHkMA2o7lxGnin9NqUx7%2BgiPRQJn%2BRRE%2FbKrVFI5kOSk3LlTizhgMhhKKsuL%2BdvzSZkjD2mDm7oYTzJyY6LERj8VKi3KEoTt6jV5RsiB7gDMAd0uF7fos908K3Z43&X-Amz-Signature=d85918284a92ed110644e932e087ab046072e32d79cbf5c81d1181d345222cd9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YOUMYQ63%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041717Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIQD9JXN9rNXmogj7gMmjzNilQ%2BXcpUIpf3OqLPGD1Q58zwIgPM2R%2FJTS%2FYFzMAa6Nkom8cYPeDmvhLcsed67vWoT0uEqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOIFGaGLfSY9aLrhqyrcA4DzLD7oGRjnXyq%2F4QcB4c6oYeO5hMsIrg67SqcmCW7CkOwjgDzddtxTNEkA%2FubNSIK9SCym74Bi9AyHjHXn9QecN95%2FR70AfFaOOXdBgc1wH%2BGOZQpM8sRD682LLtNnYg36kRlq23pDPVdLmljwEXLhJzyBGbf%2Fa4%2F9UuR7rxQ%2FgwExwxOfm8C2LytFGwOjPsq0L0rXPdCrGZ3rr9wqIUTf%2BZ1LnocgRf%2BBKj5VwACDBtmh3Zn8dhCq3THi6V82hk0FqIjMeeoDC3QdsExCt5L3WaijMCubBlxc%2FhpmzlDQocs0J9KxQSynRvwZZcdJtbtbi0MrErDQ6tt4%2B6d9NBXHSlmTkEUBijVWrkboIXQ0jwzFqTrWVw%2FS48wcOXDncsfna915mQjkl4VWbuL5AFUfYhIP%2FFB50ii1UlvNebNfjqhi1DvgfCtiO1%2BgK%2FjhqdqkavmBZcbm89eZ23m%2FXBbu8d3cimRiysRmPpF%2BcYRuUwECCRmOsP9iza97MiT55trxwQ15m41y1uXEaKs0GFsu9WokGsKRE4weFR50riyOf0JMt1kQ48XvRKX8HeObEIeqAd4MefbMHyDXo5zZs%2B2%2Buvlg8h0hWG3uFgRxDF60bgbC%2FdIZzn6OTGP1MK7by8sGOqUBJ46BsUrtmcCH5kofWeBR6A0Ne409eGan7Jtg4aUdGf2Uf5trxucikISLtN0zbSVfyS6KhJYBxMbk4ocIUNQkw6yLNhbhOjzEHkMA2o7lxGnin9NqUx7%2BgiPRQJn%2BRRE%2FbKrVFI5kOSk3LlTizhgMhhKKsuL%2BdvzSZkjD2mDm7oYTzJyY6LERj8VKi3KEoTt6jV5RsiB7gDMAd0uF7fos908K3Z43&X-Amz-Signature=dd36fe35430e74506bfd4f88367ca10a945dc76cc8ca41393483d8646be0cc5e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665KM5MVQG%2F20260123%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260123T041718Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJHMEUCIAIbpY%2B7sJDR%2B63Dbf9a%2BG06Q1O8KS80FFSJ4e8d6pR9AiEA%2BoOLkT9JBMBJcF2I4%2FcFsS9HMVH%2FU6Rdk2njEGESvVwqiAQI7f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBxCdwhJ%2F84pIp1gaCrcAzWX%2Bw2DSbvmsH4YsSwPeNmNZXKLwIVvuNv2Te1DlUBbSXWh8N%2B1L0HDVg8G%2BLP24Rod88yd%2BKLVQcBv2EhviRz3EFxhz8JlO7svTj03vI%2FvEEu1P5oYC479%2FhKjueLaV7OwyGCQwrQ%2F3095%2FTTvdpTGdHfN6%2F9qrTGQInZjZpEzRApWcGyBYnsfcSAyMtUNqrMX%2F%2FKZ5p92ab8obKVuc9DJpIMd%2Fi8yvMIqM05axZaU5B8qK6JdmvEW7rgYQvoQqL1ZOgoLty616WFF95OmIXbyNDHLhITYIYZ3sUqWhVCfcuhfBWFiK8TPUlwQSv362ie5JMaNef2y9GWe3r9rjY00VeUz%2FiC5CvMhPXc1BHKC9KweSwmmuK6h2lIeEXRLtQb9vTmpuLjC%2FCOsuNmbbGJNsvZmh7%2BD0APMEg6azIroqGph4slM8cw4Us2OTt6ZhGXpBY%2F%2F4rI2v2Y2%2FUIH5YIvTVzt2%2B2G0es4w4rUcQabqWWTLW%2FKu05t0drVnF%2BQFc0py6fzHJy0pMC2GaN2916Gc0Qd4xGdsWtw4AkzfbNAP3boWUF9SuRtYpiPzzT1%2FEmIISdiLyvc2Vx6QoAYtWktAD%2Bp1NrFHGT253GosLTrhMUUCIMlMm1xYWoKMNray8sGOqUBrW6b7Tkc9FHw2idisVnde31EUTw6ZLFquygK%2BkNNyGD7wXSfdApBH8OusU%2Bj3m0kEuIshP4Cw4uEJdz1pEqdR86s9A02aX%2FyQ9qD1jSGVKHfxyS7bY6beIMtu9eBayXtErSmpgy1%2FnYDB7iq2MG53cgcSAfos4S27Rq143dMcDzG9ePYh6VBzHtyR%2Bll3vY2yl8h24RckOeBfryOHpUkemRBTBoA&X-Amz-Signature=6ec1282fca602b2d493258735f3bdd8067019dca8495d8fb892cd61e26a0fa69&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
