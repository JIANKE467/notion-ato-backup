
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W7ICZTXO%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041607Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDwYJCuxAZJp4acsTJm4ci4rWOj3HhpYj96iRLK6WCFGgIgQMrV0NFoNbv8Q1WcfrmVM4azkSiYosOIMc8Z5Y%2FmIUoq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDKeVTq7ujnQnNJIdISrcA%2Fv2o%2FV8h1TCGhuCo8klzCIHqCbvWGl6L7Jf%2BDkH9P7mCmlcCK%2B6hX9i%2FFnRU5ylcp1WFSi7d3GtoJ2V1yAbwt7%2BxOS58QN6bvZcVNxXGoFnulCkSTIVNBJdMJrq5v4Bp7UrtlQCpqs1eHHg%2BWTENhQWHT13y5wHVC%2BeD5GAizEHKIAmD1KwZCqdg0NRMoRrEoeA0H3YqFhakJapwoylSdezBlTgI3ukf%2FuikHnVmmgn87Y812zKFmvEVl2YYd6IcZp94TkMCb25TZAE9g1rRDCwzYsKpU5e2cC%2B8f0jxamLSQwIEoIFOcEo%2F%2Fo45TLMHnr8jhKFZvwXBVX173Vk8cFBG4w%2FF1XGW%2B8W4sy5bXsO59ppzrhAcQWX9UvIoUheaEoN5ytFY0Gout14dQWzl9SUAWiEq3Ug%2FVdQVEsahClV89jBKM64jiAWOSUvOHHshB7ItW8%2FDOyAz3DUu4KtjW5QjqXLf0ir7PCyJolZU8fmfh0CkmDIbPGJVPzwWv198gN8ORlb8l84FbwH5oZPMG66e%2F%2Bb4bocw1rk%2F0lZ1wP8LFO60PbFHF4fXz9CiAx1nAZGKv05bGPRnRXehxxYeAphm13Q2BMbPgvUy7O%2BswqjdfbaV%2BO5Ej7MGON8MJKKwsoGOqUBZBEH35QZcXEmICt6E1g7eE9dmSw%2BGjlc0mZIbkp9nwBIyHH4r1%2FHJfpoZ3fEwbR7YZZaD0LwWwxx03R%2BuOh9MwLSDt5%2FF%2Fn7tuD13buIEVR7%2B56Xp%2BpDSKRtKiust1lhgbY0DQ0E%2Fke4eWVZmnSmoTKmnDy4qbSPRvUBo7NAfR%2B21wPnipqnkMUbK5ZT4ojVgLZJfKFODIIJkr4rc8aQY%2FnaxAiw&X-Amz-Signature=816de9ab3e5abb92335c40a747d456ebb0d66043142a98033e0ef115841aac01&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W7ICZTXO%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041607Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDwYJCuxAZJp4acsTJm4ci4rWOj3HhpYj96iRLK6WCFGgIgQMrV0NFoNbv8Q1WcfrmVM4azkSiYosOIMc8Z5Y%2FmIUoq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDKeVTq7ujnQnNJIdISrcA%2Fv2o%2FV8h1TCGhuCo8klzCIHqCbvWGl6L7Jf%2BDkH9P7mCmlcCK%2B6hX9i%2FFnRU5ylcp1WFSi7d3GtoJ2V1yAbwt7%2BxOS58QN6bvZcVNxXGoFnulCkSTIVNBJdMJrq5v4Bp7UrtlQCpqs1eHHg%2BWTENhQWHT13y5wHVC%2BeD5GAizEHKIAmD1KwZCqdg0NRMoRrEoeA0H3YqFhakJapwoylSdezBlTgI3ukf%2FuikHnVmmgn87Y812zKFmvEVl2YYd6IcZp94TkMCb25TZAE9g1rRDCwzYsKpU5e2cC%2B8f0jxamLSQwIEoIFOcEo%2F%2Fo45TLMHnr8jhKFZvwXBVX173Vk8cFBG4w%2FF1XGW%2B8W4sy5bXsO59ppzrhAcQWX9UvIoUheaEoN5ytFY0Gout14dQWzl9SUAWiEq3Ug%2FVdQVEsahClV89jBKM64jiAWOSUvOHHshB7ItW8%2FDOyAz3DUu4KtjW5QjqXLf0ir7PCyJolZU8fmfh0CkmDIbPGJVPzwWv198gN8ORlb8l84FbwH5oZPMG66e%2F%2Bb4bocw1rk%2F0lZ1wP8LFO60PbFHF4fXz9CiAx1nAZGKv05bGPRnRXehxxYeAphm13Q2BMbPgvUy7O%2BswqjdfbaV%2BO5Ej7MGON8MJKKwsoGOqUBZBEH35QZcXEmICt6E1g7eE9dmSw%2BGjlc0mZIbkp9nwBIyHH4r1%2FHJfpoZ3fEwbR7YZZaD0LwWwxx03R%2BuOh9MwLSDt5%2FF%2Fn7tuD13buIEVR7%2B56Xp%2BpDSKRtKiust1lhgbY0DQ0E%2Fke4eWVZmnSmoTKmnDy4qbSPRvUBo7NAfR%2B21wPnipqnkMUbK5ZT4ojVgLZJfKFODIIJkr4rc8aQY%2FnaxAiw&X-Amz-Signature=0a76c1388b0567713ab563189959217454f339d1682ef073c0d48b5e32509584&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W7ICZTXO%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041607Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDwYJCuxAZJp4acsTJm4ci4rWOj3HhpYj96iRLK6WCFGgIgQMrV0NFoNbv8Q1WcfrmVM4azkSiYosOIMc8Z5Y%2FmIUoq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDKeVTq7ujnQnNJIdISrcA%2Fv2o%2FV8h1TCGhuCo8klzCIHqCbvWGl6L7Jf%2BDkH9P7mCmlcCK%2B6hX9i%2FFnRU5ylcp1WFSi7d3GtoJ2V1yAbwt7%2BxOS58QN6bvZcVNxXGoFnulCkSTIVNBJdMJrq5v4Bp7UrtlQCpqs1eHHg%2BWTENhQWHT13y5wHVC%2BeD5GAizEHKIAmD1KwZCqdg0NRMoRrEoeA0H3YqFhakJapwoylSdezBlTgI3ukf%2FuikHnVmmgn87Y812zKFmvEVl2YYd6IcZp94TkMCb25TZAE9g1rRDCwzYsKpU5e2cC%2B8f0jxamLSQwIEoIFOcEo%2F%2Fo45TLMHnr8jhKFZvwXBVX173Vk8cFBG4w%2FF1XGW%2B8W4sy5bXsO59ppzrhAcQWX9UvIoUheaEoN5ytFY0Gout14dQWzl9SUAWiEq3Ug%2FVdQVEsahClV89jBKM64jiAWOSUvOHHshB7ItW8%2FDOyAz3DUu4KtjW5QjqXLf0ir7PCyJolZU8fmfh0CkmDIbPGJVPzwWv198gN8ORlb8l84FbwH5oZPMG66e%2F%2Bb4bocw1rk%2F0lZ1wP8LFO60PbFHF4fXz9CiAx1nAZGKv05bGPRnRXehxxYeAphm13Q2BMbPgvUy7O%2BswqjdfbaV%2BO5Ej7MGON8MJKKwsoGOqUBZBEH35QZcXEmICt6E1g7eE9dmSw%2BGjlc0mZIbkp9nwBIyHH4r1%2FHJfpoZ3fEwbR7YZZaD0LwWwxx03R%2BuOh9MwLSDt5%2FF%2Fn7tuD13buIEVR7%2B56Xp%2BpDSKRtKiust1lhgbY0DQ0E%2Fke4eWVZmnSmoTKmnDy4qbSPRvUBo7NAfR%2B21wPnipqnkMUbK5ZT4ojVgLZJfKFODIIJkr4rc8aQY%2FnaxAiw&X-Amz-Signature=fec2c0d9f632d2c39a82408f5373864d4a77714a2c4c6d045e32531bf93d854c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VQPMPFOA%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICEY900OkQ3qp3TWDNhqkRYlpcnEiQsG3XLwc%2FVuMCs1AiA9BNVTh8wYguTKg%2F0R8%2FcvMHJSPtbHKnAWoJ8pMSMh5Sr%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMxsVxovG1uwoFgc11KtwD0ZhR51XC%2FgUtDQz3pGjX2YzBdGK5C3QaY3gmiopMXYMl3NuJ9MeAuaBeDgZqBahp0vxziRspkKwYzFZJ4FcGoWD11h7DEk%2BVkiZSeQeRo4zDTw4X2wZ3lWyK25hu3jUUTEn71g9gpKnCKIpw%2Fgfm7FcnTz%2BiaeAlHYDN4n9wIvmYgbrPa%2Fad4T0u0Cyt1NhCQrkbsgv4kknKSBZQIu0CR2zKzpwW3QEzvAyR9DqKDWaASKIvJn67myDMyp25sC2caV%2Bk4VX89KRym6VEwtLcTDql9H1dfL%2Fx%2B6DH%2BbpND0VtgN0ei2WZalpPsIE7gS1siom8jWsXxCV%2FHaFj90VcDwuyNizxdszgaIMmBuBKi%2FwYxunQPxMne4Vbqmnz52x8Ox%2BOF3%2FNnOVN%2B2omyqzr%2F4RyoS46xOEXInVmAVh2ja7OECWtfXRbAsHYMcjNizaPlsfO3LXApx9o5ddOcIQZ6rDTRDjCTroQLHfvmkexFjXTCcV092hXmE9X67vTM3ueFIRb6XDa6Ux324aRoqbuA88GseSY88As6LaT9ub0ZNRP6DAmffFASCgog9sKI6UQoHQdAGCjy384qZwEbuY%2FRYpGMuCD1rri%2FqkU0I9Kgt5Nsp5pZ5KlIBT%2FmU8wyIrCygY6pgEkk93goFvaKQucxb2h%2FAf%2BmZ5d7Nm4oz8HLzuk%2F21IdsUILW65d8cZmLrwPu3BMCaD2mq7FCIGOGhFhUPMzvgjkMhhWAHVsoevIQo72ffv1y82e0MT9rwx2gHtdFLDYfwo2a0Xw2RnGXoHCOBBL40L8BfYFPWPVKEK%2F7aEK%2FZ6VoneUCqGXo%2BEYpF%2BZI8hqm5PxNruCG39vKBmSsaSbEvCGJ2dFPrs&X-Amz-Signature=004b7a7c91ea0ca619116c5d8fd5ffce918ae5b3dea6d87cc04d07641bdf50f1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VQPMPFOA%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICEY900OkQ3qp3TWDNhqkRYlpcnEiQsG3XLwc%2FVuMCs1AiA9BNVTh8wYguTKg%2F0R8%2FcvMHJSPtbHKnAWoJ8pMSMh5Sr%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMxsVxovG1uwoFgc11KtwD0ZhR51XC%2FgUtDQz3pGjX2YzBdGK5C3QaY3gmiopMXYMl3NuJ9MeAuaBeDgZqBahp0vxziRspkKwYzFZJ4FcGoWD11h7DEk%2BVkiZSeQeRo4zDTw4X2wZ3lWyK25hu3jUUTEn71g9gpKnCKIpw%2Fgfm7FcnTz%2BiaeAlHYDN4n9wIvmYgbrPa%2Fad4T0u0Cyt1NhCQrkbsgv4kknKSBZQIu0CR2zKzpwW3QEzvAyR9DqKDWaASKIvJn67myDMyp25sC2caV%2Bk4VX89KRym6VEwtLcTDql9H1dfL%2Fx%2B6DH%2BbpND0VtgN0ei2WZalpPsIE7gS1siom8jWsXxCV%2FHaFj90VcDwuyNizxdszgaIMmBuBKi%2FwYxunQPxMne4Vbqmnz52x8Ox%2BOF3%2FNnOVN%2B2omyqzr%2F4RyoS46xOEXInVmAVh2ja7OECWtfXRbAsHYMcjNizaPlsfO3LXApx9o5ddOcIQZ6rDTRDjCTroQLHfvmkexFjXTCcV092hXmE9X67vTM3ueFIRb6XDa6Ux324aRoqbuA88GseSY88As6LaT9ub0ZNRP6DAmffFASCgog9sKI6UQoHQdAGCjy384qZwEbuY%2FRYpGMuCD1rri%2FqkU0I9Kgt5Nsp5pZ5KlIBT%2FmU8wyIrCygY6pgEkk93goFvaKQucxb2h%2FAf%2BmZ5d7Nm4oz8HLzuk%2F21IdsUILW65d8cZmLrwPu3BMCaD2mq7FCIGOGhFhUPMzvgjkMhhWAHVsoevIQo72ffv1y82e0MT9rwx2gHtdFLDYfwo2a0Xw2RnGXoHCOBBL40L8BfYFPWPVKEK%2F7aEK%2FZ6VoneUCqGXo%2BEYpF%2BZI8hqm5PxNruCG39vKBmSsaSbEvCGJ2dFPrs&X-Amz-Signature=1209451e0662da58d24e7ca0b38b740f5fb19941364bcb6f1dac200f822ced7f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VQPMPFOA%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICEY900OkQ3qp3TWDNhqkRYlpcnEiQsG3XLwc%2FVuMCs1AiA9BNVTh8wYguTKg%2F0R8%2FcvMHJSPtbHKnAWoJ8pMSMh5Sr%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMxsVxovG1uwoFgc11KtwD0ZhR51XC%2FgUtDQz3pGjX2YzBdGK5C3QaY3gmiopMXYMl3NuJ9MeAuaBeDgZqBahp0vxziRspkKwYzFZJ4FcGoWD11h7DEk%2BVkiZSeQeRo4zDTw4X2wZ3lWyK25hu3jUUTEn71g9gpKnCKIpw%2Fgfm7FcnTz%2BiaeAlHYDN4n9wIvmYgbrPa%2Fad4T0u0Cyt1NhCQrkbsgv4kknKSBZQIu0CR2zKzpwW3QEzvAyR9DqKDWaASKIvJn67myDMyp25sC2caV%2Bk4VX89KRym6VEwtLcTDql9H1dfL%2Fx%2B6DH%2BbpND0VtgN0ei2WZalpPsIE7gS1siom8jWsXxCV%2FHaFj90VcDwuyNizxdszgaIMmBuBKi%2FwYxunQPxMne4Vbqmnz52x8Ox%2BOF3%2FNnOVN%2B2omyqzr%2F4RyoS46xOEXInVmAVh2ja7OECWtfXRbAsHYMcjNizaPlsfO3LXApx9o5ddOcIQZ6rDTRDjCTroQLHfvmkexFjXTCcV092hXmE9X67vTM3ueFIRb6XDa6Ux324aRoqbuA88GseSY88As6LaT9ub0ZNRP6DAmffFASCgog9sKI6UQoHQdAGCjy384qZwEbuY%2FRYpGMuCD1rri%2FqkU0I9Kgt5Nsp5pZ5KlIBT%2FmU8wyIrCygY6pgEkk93goFvaKQucxb2h%2FAf%2BmZ5d7Nm4oz8HLzuk%2F21IdsUILW65d8cZmLrwPu3BMCaD2mq7FCIGOGhFhUPMzvgjkMhhWAHVsoevIQo72ffv1y82e0MT9rwx2gHtdFLDYfwo2a0Xw2RnGXoHCOBBL40L8BfYFPWPVKEK%2F7aEK%2FZ6VoneUCqGXo%2BEYpF%2BZI8hqm5PxNruCG39vKBmSsaSbEvCGJ2dFPrs&X-Amz-Signature=b371d0a09d4379c2c6d9d6b1c2c81d92023190b4aecc25b5d2f40cfb17ae1c5b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XA4TSOKO%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCx8vK%2FPkj6gGIb1N%2BPC%2Bj%2FyJvdJ4sanSc%2B11m4z2OTMwIhAKYB5uQE4kcDadg6R5sLrM6SWuJOyxNkbAODF8lJG5oHKv8DCHoQABoMNjM3NDIzMTgzODA1Igx2AE5WeqDnVstrm4gq3AMxqVZUJPaZD46i0zfMeJ5KsgGf116MnYVebQ%2BBfFHDeoxIkENH133gzkmvYOPeJSi%2FrgxG3jO0jN9fDRc3cgiojzBglV2Sg2k9%2BcWciAwyztRZs%2F%2BxwO9jtbylWjwgWWr83R5JUU8nN0pkzUD%2B8saEoQPppe8F%2FYmevF7mqLw70tQUP08JB8d9dQV4C1dwlfY3JBJHiJFt1eHMvwk5Ng2BUJihJ%2BvZdxHZXbbg%2FCC1JKj7I4vv%2BaoPGzzRl3wG8RzQ1ksa6jwnV60VZzM%2FdcPEPG7xpyo3DsF173G1Hv7yboLymu%2FrxKJeZyapKelr1edT5ToObwr4knkmpG6rugIPvdKYs9emLPBunYb7K0KVEDAA5RPnheTyDJIjP5JE20kc8pwcJReInV28QGzKN3kHnuyIUnrUas%2Fcqn1uXRaGwmf4ZgrGj5E3ZWH8A34TsxwnfKRMB966Xao%2FkHUL7EeyT5AtQ9gz3Xfv9VAKe4fTAwEr8L%2B0xYppFHVlBQuTn2GuE4IznF9tgFSDVLCCvkWV2oaDix3U9cCwIDPCoB5f7qHCxrpTGFp4Ffhk2RCrUFzPHM6GK1%2B%2BN2486%2BwArigjocRxRXiwwFyxI3JPQ%2FSqSdljXnEN4B3GxDsZojCzisLKBjqkAQetsoC%2F7UJarBkNE8QwU%2BlEn7sNQyClf96Cf%2BDsrHJUYAnVcqNx25qTXPmQQBNx%2Bdu1IgkdlK6tS2oWe8XZyIQ%2BLZSptiWWSJgWI%2F0f9LZgFix3nIriZBVLb6e0WZcRjoS2MEJQeWURbfnf0ET5AOKUJNAHnHoAJhXx7RxDmgWHu3XwHmd0Ma9BhvoyFS90xwUAdNWO3py8ZGd3lBDdPcEps2TN&X-Amz-Signature=262fd665be60e40054f838c1ee0668e48bff86ad04f856ba4ca26d7928480bac&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XA4TSOKO%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCx8vK%2FPkj6gGIb1N%2BPC%2Bj%2FyJvdJ4sanSc%2B11m4z2OTMwIhAKYB5uQE4kcDadg6R5sLrM6SWuJOyxNkbAODF8lJG5oHKv8DCHoQABoMNjM3NDIzMTgzODA1Igx2AE5WeqDnVstrm4gq3AMxqVZUJPaZD46i0zfMeJ5KsgGf116MnYVebQ%2BBfFHDeoxIkENH133gzkmvYOPeJSi%2FrgxG3jO0jN9fDRc3cgiojzBglV2Sg2k9%2BcWciAwyztRZs%2F%2BxwO9jtbylWjwgWWr83R5JUU8nN0pkzUD%2B8saEoQPppe8F%2FYmevF7mqLw70tQUP08JB8d9dQV4C1dwlfY3JBJHiJFt1eHMvwk5Ng2BUJihJ%2BvZdxHZXbbg%2FCC1JKj7I4vv%2BaoPGzzRl3wG8RzQ1ksa6jwnV60VZzM%2FdcPEPG7xpyo3DsF173G1Hv7yboLymu%2FrxKJeZyapKelr1edT5ToObwr4knkmpG6rugIPvdKYs9emLPBunYb7K0KVEDAA5RPnheTyDJIjP5JE20kc8pwcJReInV28QGzKN3kHnuyIUnrUas%2Fcqn1uXRaGwmf4ZgrGj5E3ZWH8A34TsxwnfKRMB966Xao%2FkHUL7EeyT5AtQ9gz3Xfv9VAKe4fTAwEr8L%2B0xYppFHVlBQuTn2GuE4IznF9tgFSDVLCCvkWV2oaDix3U9cCwIDPCoB5f7qHCxrpTGFp4Ffhk2RCrUFzPHM6GK1%2B%2BN2486%2BwArigjocRxRXiwwFyxI3JPQ%2FSqSdljXnEN4B3GxDsZojCzisLKBjqkAQetsoC%2F7UJarBkNE8QwU%2BlEn7sNQyClf96Cf%2BDsrHJUYAnVcqNx25qTXPmQQBNx%2Bdu1IgkdlK6tS2oWe8XZyIQ%2BLZSptiWWSJgWI%2F0f9LZgFix3nIriZBVLb6e0WZcRjoS2MEJQeWURbfnf0ET5AOKUJNAHnHoAJhXx7RxDmgWHu3XwHmd0Ma9BhvoyFS90xwUAdNWO3py8ZGd3lBDdPcEps2TN&X-Amz-Signature=2972e698695060ebd8ba05d0239b96b34e31cb265621b1630b42d109803a9aa8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XA4TSOKO%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCx8vK%2FPkj6gGIb1N%2BPC%2Bj%2FyJvdJ4sanSc%2B11m4z2OTMwIhAKYB5uQE4kcDadg6R5sLrM6SWuJOyxNkbAODF8lJG5oHKv8DCHoQABoMNjM3NDIzMTgzODA1Igx2AE5WeqDnVstrm4gq3AMxqVZUJPaZD46i0zfMeJ5KsgGf116MnYVebQ%2BBfFHDeoxIkENH133gzkmvYOPeJSi%2FrgxG3jO0jN9fDRc3cgiojzBglV2Sg2k9%2BcWciAwyztRZs%2F%2BxwO9jtbylWjwgWWr83R5JUU8nN0pkzUD%2B8saEoQPppe8F%2FYmevF7mqLw70tQUP08JB8d9dQV4C1dwlfY3JBJHiJFt1eHMvwk5Ng2BUJihJ%2BvZdxHZXbbg%2FCC1JKj7I4vv%2BaoPGzzRl3wG8RzQ1ksa6jwnV60VZzM%2FdcPEPG7xpyo3DsF173G1Hv7yboLymu%2FrxKJeZyapKelr1edT5ToObwr4knkmpG6rugIPvdKYs9emLPBunYb7K0KVEDAA5RPnheTyDJIjP5JE20kc8pwcJReInV28QGzKN3kHnuyIUnrUas%2Fcqn1uXRaGwmf4ZgrGj5E3ZWH8A34TsxwnfKRMB966Xao%2FkHUL7EeyT5AtQ9gz3Xfv9VAKe4fTAwEr8L%2B0xYppFHVlBQuTn2GuE4IznF9tgFSDVLCCvkWV2oaDix3U9cCwIDPCoB5f7qHCxrpTGFp4Ffhk2RCrUFzPHM6GK1%2B%2BN2486%2BwArigjocRxRXiwwFyxI3JPQ%2FSqSdljXnEN4B3GxDsZojCzisLKBjqkAQetsoC%2F7UJarBkNE8QwU%2BlEn7sNQyClf96Cf%2BDsrHJUYAnVcqNx25qTXPmQQBNx%2Bdu1IgkdlK6tS2oWe8XZyIQ%2BLZSptiWWSJgWI%2F0f9LZgFix3nIriZBVLb6e0WZcRjoS2MEJQeWURbfnf0ET5AOKUJNAHnHoAJhXx7RxDmgWHu3XwHmd0Ma9BhvoyFS90xwUAdNWO3py8ZGd3lBDdPcEps2TN&X-Amz-Signature=ce38ade80fee3462d8b51291213c3ba730e79f1658a13757be393aba6ab82359&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XA4TSOKO%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCx8vK%2FPkj6gGIb1N%2BPC%2Bj%2FyJvdJ4sanSc%2B11m4z2OTMwIhAKYB5uQE4kcDadg6R5sLrM6SWuJOyxNkbAODF8lJG5oHKv8DCHoQABoMNjM3NDIzMTgzODA1Igx2AE5WeqDnVstrm4gq3AMxqVZUJPaZD46i0zfMeJ5KsgGf116MnYVebQ%2BBfFHDeoxIkENH133gzkmvYOPeJSi%2FrgxG3jO0jN9fDRc3cgiojzBglV2Sg2k9%2BcWciAwyztRZs%2F%2BxwO9jtbylWjwgWWr83R5JUU8nN0pkzUD%2B8saEoQPppe8F%2FYmevF7mqLw70tQUP08JB8d9dQV4C1dwlfY3JBJHiJFt1eHMvwk5Ng2BUJihJ%2BvZdxHZXbbg%2FCC1JKj7I4vv%2BaoPGzzRl3wG8RzQ1ksa6jwnV60VZzM%2FdcPEPG7xpyo3DsF173G1Hv7yboLymu%2FrxKJeZyapKelr1edT5ToObwr4knkmpG6rugIPvdKYs9emLPBunYb7K0KVEDAA5RPnheTyDJIjP5JE20kc8pwcJReInV28QGzKN3kHnuyIUnrUas%2Fcqn1uXRaGwmf4ZgrGj5E3ZWH8A34TsxwnfKRMB966Xao%2FkHUL7EeyT5AtQ9gz3Xfv9VAKe4fTAwEr8L%2B0xYppFHVlBQuTn2GuE4IznF9tgFSDVLCCvkWV2oaDix3U9cCwIDPCoB5f7qHCxrpTGFp4Ffhk2RCrUFzPHM6GK1%2B%2BN2486%2BwArigjocRxRXiwwFyxI3JPQ%2FSqSdljXnEN4B3GxDsZojCzisLKBjqkAQetsoC%2F7UJarBkNE8QwU%2BlEn7sNQyClf96Cf%2BDsrHJUYAnVcqNx25qTXPmQQBNx%2Bdu1IgkdlK6tS2oWe8XZyIQ%2BLZSptiWWSJgWI%2F0f9LZgFix3nIriZBVLb6e0WZcRjoS2MEJQeWURbfnf0ET5AOKUJNAHnHoAJhXx7RxDmgWHu3XwHmd0Ma9BhvoyFS90xwUAdNWO3py8ZGd3lBDdPcEps2TN&X-Amz-Signature=050dbc0cebeacfc60803f41014e996067d04937d962ea1d7f336454b0677b9ef&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VMACATGF%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCguFv6EECIzQT3t9ZVQ1YsbROb0vCLUavEvzzOn1oq7wIgDPq3Ed0fjQXmD2qXjrUE3YtXRAI%2BcfIN4HlGC%2FhedZwq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDOfvKrMe6jE%2BJxBz0SrcA39tdsKy4mKwqoCbc3X7cM22c40yy1efvCnq2622YRFXanET4arAqwl225Lc984BaSTHo9h4Ei8%2B%2FjgKGaePuU7%2BeYvp5CTYJzwoY1%2Fy877QpvbItUmw2wK0blAwcBLqOUFpBo8J1wnBnjEMfbGG0ntrTIpFSXWcIULreClYJ7TH%2BND9PuUNeR9kQCV5w1ZwBoUIRlHnzaRHVWhvuxkNKKFMD69TxAH7rQgKFuWUDLZjeDX8cWaKhzjt3bFQD8%2Bh8rHCTsGR68zI5SFVTT66%2FIwVArhaIb3GErt5%2FIx2G5qkVgBD6W0Rl%2Fg7T7gP8SR8UrAiJ0nT7syMfJrb9Z8Fd6D8fT18Nt6fZqKks%2FJs%2FvNo%2B0cye5HLXf%2BxgaSpmrLQSGJmdjmaBTuAmMDjgCk8wcjbyde0VcmgZbZO3IQVCFIEyiTQhPLd81ldKVBj3%2BEdGr%2BIKtmvrINEKYB44Rw4xLCYCVFYo9XBz4rdT3mieI6Xehkc56oBnsX2IFK%2BN0LEupoioxGINNjvs7757GLXssQGiudoIs52Ukc4QQLhbGc5ng4qevLgT1SQ14vVmIw0stBy%2BZierNsir4Y7NDOHZ1%2FskdM4pZWKSWoa3oCb%2B8MdKNW%2BvE9okXfksBBvMKGKwsoGOqUBWDAgSaDbqZxLZSGfxAh3AGdLnlPekStw5ZUznd57hBO3JnqpicP2LFRbL0CF8K8vnYPDHWvM3wcOQNkWyJBvmE5MGLedYrviFxRjJOBYp6KDBxnVcuUCx6qz2sG9sWvACGnJipHKf3V5BpABLiWUbh4vQH0HTG9td2lBV6oHwTBlYq5xQLwqKzVNdw%2BQY6%2B7pzrd0T%2BoUgwfGg0yEO4tNMR%2BCEMc&X-Amz-Signature=c5ae3589768a9264944b7e788fded41d0b5e82d98c923a130c9721b4346cf65a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VMACATGF%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCguFv6EECIzQT3t9ZVQ1YsbROb0vCLUavEvzzOn1oq7wIgDPq3Ed0fjQXmD2qXjrUE3YtXRAI%2BcfIN4HlGC%2FhedZwq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDOfvKrMe6jE%2BJxBz0SrcA39tdsKy4mKwqoCbc3X7cM22c40yy1efvCnq2622YRFXanET4arAqwl225Lc984BaSTHo9h4Ei8%2B%2FjgKGaePuU7%2BeYvp5CTYJzwoY1%2Fy877QpvbItUmw2wK0blAwcBLqOUFpBo8J1wnBnjEMfbGG0ntrTIpFSXWcIULreClYJ7TH%2BND9PuUNeR9kQCV5w1ZwBoUIRlHnzaRHVWhvuxkNKKFMD69TxAH7rQgKFuWUDLZjeDX8cWaKhzjt3bFQD8%2Bh8rHCTsGR68zI5SFVTT66%2FIwVArhaIb3GErt5%2FIx2G5qkVgBD6W0Rl%2Fg7T7gP8SR8UrAiJ0nT7syMfJrb9Z8Fd6D8fT18Nt6fZqKks%2FJs%2FvNo%2B0cye5HLXf%2BxgaSpmrLQSGJmdjmaBTuAmMDjgCk8wcjbyde0VcmgZbZO3IQVCFIEyiTQhPLd81ldKVBj3%2BEdGr%2BIKtmvrINEKYB44Rw4xLCYCVFYo9XBz4rdT3mieI6Xehkc56oBnsX2IFK%2BN0LEupoioxGINNjvs7757GLXssQGiudoIs52Ukc4QQLhbGc5ng4qevLgT1SQ14vVmIw0stBy%2BZierNsir4Y7NDOHZ1%2FskdM4pZWKSWoa3oCb%2B8MdKNW%2BvE9okXfksBBvMKGKwsoGOqUBWDAgSaDbqZxLZSGfxAh3AGdLnlPekStw5ZUznd57hBO3JnqpicP2LFRbL0CF8K8vnYPDHWvM3wcOQNkWyJBvmE5MGLedYrviFxRjJOBYp6KDBxnVcuUCx6qz2sG9sWvACGnJipHKf3V5BpABLiWUbh4vQH0HTG9td2lBV6oHwTBlYq5xQLwqKzVNdw%2BQY6%2B7pzrd0T%2BoUgwfGg0yEO4tNMR%2BCEMc&X-Amz-Signature=88e9d5e5d7ca55c8a61a257a7453036f366f206d281c7ec48e791d2ec806acf4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VMACATGF%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCguFv6EECIzQT3t9ZVQ1YsbROb0vCLUavEvzzOn1oq7wIgDPq3Ed0fjQXmD2qXjrUE3YtXRAI%2BcfIN4HlGC%2FhedZwq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDOfvKrMe6jE%2BJxBz0SrcA39tdsKy4mKwqoCbc3X7cM22c40yy1efvCnq2622YRFXanET4arAqwl225Lc984BaSTHo9h4Ei8%2B%2FjgKGaePuU7%2BeYvp5CTYJzwoY1%2Fy877QpvbItUmw2wK0blAwcBLqOUFpBo8J1wnBnjEMfbGG0ntrTIpFSXWcIULreClYJ7TH%2BND9PuUNeR9kQCV5w1ZwBoUIRlHnzaRHVWhvuxkNKKFMD69TxAH7rQgKFuWUDLZjeDX8cWaKhzjt3bFQD8%2Bh8rHCTsGR68zI5SFVTT66%2FIwVArhaIb3GErt5%2FIx2G5qkVgBD6W0Rl%2Fg7T7gP8SR8UrAiJ0nT7syMfJrb9Z8Fd6D8fT18Nt6fZqKks%2FJs%2FvNo%2B0cye5HLXf%2BxgaSpmrLQSGJmdjmaBTuAmMDjgCk8wcjbyde0VcmgZbZO3IQVCFIEyiTQhPLd81ldKVBj3%2BEdGr%2BIKtmvrINEKYB44Rw4xLCYCVFYo9XBz4rdT3mieI6Xehkc56oBnsX2IFK%2BN0LEupoioxGINNjvs7757GLXssQGiudoIs52Ukc4QQLhbGc5ng4qevLgT1SQ14vVmIw0stBy%2BZierNsir4Y7NDOHZ1%2FskdM4pZWKSWoa3oCb%2B8MdKNW%2BvE9okXfksBBvMKGKwsoGOqUBWDAgSaDbqZxLZSGfxAh3AGdLnlPekStw5ZUznd57hBO3JnqpicP2LFRbL0CF8K8vnYPDHWvM3wcOQNkWyJBvmE5MGLedYrviFxRjJOBYp6KDBxnVcuUCx6qz2sG9sWvACGnJipHKf3V5BpABLiWUbh4vQH0HTG9td2lBV6oHwTBlYq5xQLwqKzVNdw%2BQY6%2B7pzrd0T%2BoUgwfGg0yEO4tNMR%2BCEMc&X-Amz-Signature=8950c5caa364b2d9bf33d329f328253b495c27fc6f601bb9461cc64c0b65a3e9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VMACATGF%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041608Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCguFv6EECIzQT3t9ZVQ1YsbROb0vCLUavEvzzOn1oq7wIgDPq3Ed0fjQXmD2qXjrUE3YtXRAI%2BcfIN4HlGC%2FhedZwq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDOfvKrMe6jE%2BJxBz0SrcA39tdsKy4mKwqoCbc3X7cM22c40yy1efvCnq2622YRFXanET4arAqwl225Lc984BaSTHo9h4Ei8%2B%2FjgKGaePuU7%2BeYvp5CTYJzwoY1%2Fy877QpvbItUmw2wK0blAwcBLqOUFpBo8J1wnBnjEMfbGG0ntrTIpFSXWcIULreClYJ7TH%2BND9PuUNeR9kQCV5w1ZwBoUIRlHnzaRHVWhvuxkNKKFMD69TxAH7rQgKFuWUDLZjeDX8cWaKhzjt3bFQD8%2Bh8rHCTsGR68zI5SFVTT66%2FIwVArhaIb3GErt5%2FIx2G5qkVgBD6W0Rl%2Fg7T7gP8SR8UrAiJ0nT7syMfJrb9Z8Fd6D8fT18Nt6fZqKks%2FJs%2FvNo%2B0cye5HLXf%2BxgaSpmrLQSGJmdjmaBTuAmMDjgCk8wcjbyde0VcmgZbZO3IQVCFIEyiTQhPLd81ldKVBj3%2BEdGr%2BIKtmvrINEKYB44Rw4xLCYCVFYo9XBz4rdT3mieI6Xehkc56oBnsX2IFK%2BN0LEupoioxGINNjvs7757GLXssQGiudoIs52Ukc4QQLhbGc5ng4qevLgT1SQ14vVmIw0stBy%2BZierNsir4Y7NDOHZ1%2FskdM4pZWKSWoa3oCb%2B8MdKNW%2BvE9okXfksBBvMKGKwsoGOqUBWDAgSaDbqZxLZSGfxAh3AGdLnlPekStw5ZUznd57hBO3JnqpicP2LFRbL0CF8K8vnYPDHWvM3wcOQNkWyJBvmE5MGLedYrviFxRjJOBYp6KDBxnVcuUCx6qz2sG9sWvACGnJipHKf3V5BpABLiWUbh4vQH0HTG9td2lBV6oHwTBlYq5xQLwqKzVNdw%2BQY6%2B7pzrd0T%2BoUgwfGg0yEO4tNMR%2BCEMc&X-Amz-Signature=3767a199cc22ea709eafb769caf46c4191c59207dc01c5e7e9cfb6c84f61685b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TGVDOS2T%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041609Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGDitl2T1RtIb%2BEUb%2Bqdyvx%2FUKBps90PBOby8VdbmzMFAiB17dcaPixF6Sl%2BjRHlEiBV%2BRUhNwta7m0ABD5p6c6lCir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMvuWy7ybFNrGBJ%2BP3KtwDvM8QQWIUfnjzgLFLuLpNEzUINUdKTy80urxLOx8foN4EdoKilTOXz34e15QzCpsRvk%2Fgvs4Xvyt9pS9hZcnLf2xjkjw0JZmF6ZEenCPNpl66VBLrMiPBIh3DP2vqSCa4XWyZwIGXuiQEBdvNUPWjqvyMJNmADiUEdjtQYBEjAOUCCr8VJHABaLY9zrQfX9H4LYwuq8%2F1GTnX7i6ZLp2nI7JXrkrlYQ7kruHg1kxjHyc7naJKmjwdr%2BbJD3XoTjv7kGupVapcRBKOe7yMlw9zjOr5l4wHJjPhq%2F9KqC2nHCVnMqWXfUHvypgX%2B22WHoXUFSzh4jbaTpTyN9yVHFDO3Ibf243eLBbpP7kjd0uInWfdGU0SzYacZOS1ewTyVsmusLPfh2cyfMZFEf77ivTbpVnMW3k0gn6RPEZUFCISlvcWXoLi%2F1ZYqUJPIZZ25te7UQ7VmMwHH5%2BKSFOdZkPG4WSXA%2Fm9DqK9oeDseJxAI9V08XBvki45ttK2kg7jc61oow6nlZAxn%2FDv9I5PRRdDRUiB9kLPaHHmBrLCWZZ%2Bi3ZjkcpZwNVRDm5Ouok9KR0xPNWK3ihdpeUDp7YBBg%2F519JShw1jNtAHJg3zJo6TYRR3x8cOaSKbZTjA06Qw%2B4rCygY6pgG9IL3EI%2F7ZbEjEtfWP5vOYt1f4dZbyivseNFVkYFpfgKvWq6DrsD0v5jDmrHaJfyt9rAUnIIcq3IbteRdBhW9RHFJxWPJ2RSnsLtqvAwZohgxNhEBfqWmOObQhhyvGyyDUo6VSI31AlSNOuXRaAI7QK0nA6XBxinr%2FGUa0vgPEAGh5zBWiWmM8HBTYkGjkNnqAELCYXwxBT7Wtrtraf%2BHvIbEeMDPr&X-Amz-Signature=35e263333d3e44b4db44f0398e5f8b6758fc4e0e231b268ecddee46ae657e894&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TGVDOS2T%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041609Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGDitl2T1RtIb%2BEUb%2Bqdyvx%2FUKBps90PBOby8VdbmzMFAiB17dcaPixF6Sl%2BjRHlEiBV%2BRUhNwta7m0ABD5p6c6lCir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMvuWy7ybFNrGBJ%2BP3KtwDvM8QQWIUfnjzgLFLuLpNEzUINUdKTy80urxLOx8foN4EdoKilTOXz34e15QzCpsRvk%2Fgvs4Xvyt9pS9hZcnLf2xjkjw0JZmF6ZEenCPNpl66VBLrMiPBIh3DP2vqSCa4XWyZwIGXuiQEBdvNUPWjqvyMJNmADiUEdjtQYBEjAOUCCr8VJHABaLY9zrQfX9H4LYwuq8%2F1GTnX7i6ZLp2nI7JXrkrlYQ7kruHg1kxjHyc7naJKmjwdr%2BbJD3XoTjv7kGupVapcRBKOe7yMlw9zjOr5l4wHJjPhq%2F9KqC2nHCVnMqWXfUHvypgX%2B22WHoXUFSzh4jbaTpTyN9yVHFDO3Ibf243eLBbpP7kjd0uInWfdGU0SzYacZOS1ewTyVsmusLPfh2cyfMZFEf77ivTbpVnMW3k0gn6RPEZUFCISlvcWXoLi%2F1ZYqUJPIZZ25te7UQ7VmMwHH5%2BKSFOdZkPG4WSXA%2Fm9DqK9oeDseJxAI9V08XBvki45ttK2kg7jc61oow6nlZAxn%2FDv9I5PRRdDRUiB9kLPaHHmBrLCWZZ%2Bi3ZjkcpZwNVRDm5Ouok9KR0xPNWK3ihdpeUDp7YBBg%2F519JShw1jNtAHJg3zJo6TYRR3x8cOaSKbZTjA06Qw%2B4rCygY6pgG9IL3EI%2F7ZbEjEtfWP5vOYt1f4dZbyivseNFVkYFpfgKvWq6DrsD0v5jDmrHaJfyt9rAUnIIcq3IbteRdBhW9RHFJxWPJ2RSnsLtqvAwZohgxNhEBfqWmOObQhhyvGyyDUo6VSI31AlSNOuXRaAI7QK0nA6XBxinr%2FGUa0vgPEAGh5zBWiWmM8HBTYkGjkNnqAELCYXwxBT7Wtrtraf%2BHvIbEeMDPr&X-Amz-Signature=d3eb8890c650f8be26b429e407ade59b073573a2f8fec9463f40d630c02b8ead&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TGVDOS2T%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041609Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGDitl2T1RtIb%2BEUb%2Bqdyvx%2FUKBps90PBOby8VdbmzMFAiB17dcaPixF6Sl%2BjRHlEiBV%2BRUhNwta7m0ABD5p6c6lCir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMvuWy7ybFNrGBJ%2BP3KtwDvM8QQWIUfnjzgLFLuLpNEzUINUdKTy80urxLOx8foN4EdoKilTOXz34e15QzCpsRvk%2Fgvs4Xvyt9pS9hZcnLf2xjkjw0JZmF6ZEenCPNpl66VBLrMiPBIh3DP2vqSCa4XWyZwIGXuiQEBdvNUPWjqvyMJNmADiUEdjtQYBEjAOUCCr8VJHABaLY9zrQfX9H4LYwuq8%2F1GTnX7i6ZLp2nI7JXrkrlYQ7kruHg1kxjHyc7naJKmjwdr%2BbJD3XoTjv7kGupVapcRBKOe7yMlw9zjOr5l4wHJjPhq%2F9KqC2nHCVnMqWXfUHvypgX%2B22WHoXUFSzh4jbaTpTyN9yVHFDO3Ibf243eLBbpP7kjd0uInWfdGU0SzYacZOS1ewTyVsmusLPfh2cyfMZFEf77ivTbpVnMW3k0gn6RPEZUFCISlvcWXoLi%2F1ZYqUJPIZZ25te7UQ7VmMwHH5%2BKSFOdZkPG4WSXA%2Fm9DqK9oeDseJxAI9V08XBvki45ttK2kg7jc61oow6nlZAxn%2FDv9I5PRRdDRUiB9kLPaHHmBrLCWZZ%2Bi3ZjkcpZwNVRDm5Ouok9KR0xPNWK3ihdpeUDp7YBBg%2F519JShw1jNtAHJg3zJo6TYRR3x8cOaSKbZTjA06Qw%2B4rCygY6pgG9IL3EI%2F7ZbEjEtfWP5vOYt1f4dZbyivseNFVkYFpfgKvWq6DrsD0v5jDmrHaJfyt9rAUnIIcq3IbteRdBhW9RHFJxWPJ2RSnsLtqvAwZohgxNhEBfqWmOObQhhyvGyyDUo6VSI31AlSNOuXRaAI7QK0nA6XBxinr%2FGUa0vgPEAGh5zBWiWmM8HBTYkGjkNnqAELCYXwxBT7Wtrtraf%2BHvIbEeMDPr&X-Amz-Signature=bc57a40b66948627a7ae79baf69cc1f2fb0131c31c7413f782e9d89f57210ba8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JB6L2XF%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041609Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDoy8T3xC%2Fdj%2F%2Bq0C9OfPV1yrbS2anOsKpg%2FKb6qaRFfQIgc6olMJ5U5aE%2B7GqOac4XVxPZXFrgiS1N%2B6UqZqk0zEUq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDCqODTRmcPv4f7b2tSrcA7LNdsqAqNEIBvkwlM0HXtWz5fpSHcF%2FSVn7gT%2Bd9GYntDucIdxmCP95SWN1E0UNlV6IaPLI3LsfPO62vzByCmKDBMVyyU6ENwlGgylkwiIKAl6LnTKbDbB0b9spDt39p4feaaz79u%2Bs1iFvEdv5Z77%2BMpqrJsNhIxMSB5qgEazVTFi%2FoAOsWy%2BcWoI1OMbj8652JbKW9FtL0AYXFe511GnMSM8uDFmXSymj30GH2TAgoTfV10mAtjUahOdIkMX5lCThZv5GFlG7Sy7oZDJWs1fNpx%2F7Uz%2BraJNWTA8M7sktbx2HDtyIc%2Fml2xx9Epols5KcyXhzhGcoBvqzYjCPArbKrxEZ71%2Bq12U3D9XHpxYl%2BLuO6kmPrAObTrhYwfyiKHTqthPcb7%2FICe7jSjib%2FNCvVuXKNycqUE%2BDtepGoQcv4DXJlK4h%2FHd%2FmwCDoj%2FnQX3yLxgAZW85Mb1Z4JlALqhEBc9p9XNYKpavBywgRgU%2BcD1gjBeldrCyzlMyM67f1naKb7lbd4CCyGog2L%2Btz8PzniZ8Hfjp74KjjA%2FadCATicdG8yMwFiEvp4vywmHcxX10Q%2Fz5NcbzUAkt4pQowshBWaueh6Ticwr8VuPBCox8OcffPHd2UhxHclhjMJSKwsoGOqUBBKXj1AD7VGQn9gOljtTAK1U%2BvzRsLFnt6ATepICIAxoLMdgaxsgfzToecFL%2FOOukiyOBq2UVEmdDVAIAeRwUvZBlf%2FGYAdcMZZCqnMDJBtATlbjcU03eTyLuYPc6wKzgBp3XR3CD70XUm1j%2BQrRBp6ldAHgV5FGC4%2BOeiGcomheVqdxANVFsmzxmxlDO1JoncskOlFYnxmsjoIbI1YSEjrAXNurn&X-Amz-Signature=eebbc6614c1beb53263aacca5bc78d98a01864e7368ae40235824d9bb041339a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JB6L2XF%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041609Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDoy8T3xC%2Fdj%2F%2Bq0C9OfPV1yrbS2anOsKpg%2FKb6qaRFfQIgc6olMJ5U5aE%2B7GqOac4XVxPZXFrgiS1N%2B6UqZqk0zEUq%2FwMIehAAGgw2Mzc0MjMxODM4MDUiDCqODTRmcPv4f7b2tSrcA7LNdsqAqNEIBvkwlM0HXtWz5fpSHcF%2FSVn7gT%2Bd9GYntDucIdxmCP95SWN1E0UNlV6IaPLI3LsfPO62vzByCmKDBMVyyU6ENwlGgylkwiIKAl6LnTKbDbB0b9spDt39p4feaaz79u%2Bs1iFvEdv5Z77%2BMpqrJsNhIxMSB5qgEazVTFi%2FoAOsWy%2BcWoI1OMbj8652JbKW9FtL0AYXFe511GnMSM8uDFmXSymj30GH2TAgoTfV10mAtjUahOdIkMX5lCThZv5GFlG7Sy7oZDJWs1fNpx%2F7Uz%2BraJNWTA8M7sktbx2HDtyIc%2Fml2xx9Epols5KcyXhzhGcoBvqzYjCPArbKrxEZ71%2Bq12U3D9XHpxYl%2BLuO6kmPrAObTrhYwfyiKHTqthPcb7%2FICe7jSjib%2FNCvVuXKNycqUE%2BDtepGoQcv4DXJlK4h%2FHd%2FmwCDoj%2FnQX3yLxgAZW85Mb1Z4JlALqhEBc9p9XNYKpavBywgRgU%2BcD1gjBeldrCyzlMyM67f1naKb7lbd4CCyGog2L%2Btz8PzniZ8Hfjp74KjjA%2FadCATicdG8yMwFiEvp4vywmHcxX10Q%2Fz5NcbzUAkt4pQowshBWaueh6Ticwr8VuPBCox8OcffPHd2UhxHclhjMJSKwsoGOqUBBKXj1AD7VGQn9gOljtTAK1U%2BvzRsLFnt6ATepICIAxoLMdgaxsgfzToecFL%2FOOukiyOBq2UVEmdDVAIAeRwUvZBlf%2FGYAdcMZZCqnMDJBtATlbjcU03eTyLuYPc6wKzgBp3XR3CD70XUm1j%2BQrRBp6ldAHgV5FGC4%2BOeiGcomheVqdxANVFsmzxmxlDO1JoncskOlFYnxmsjoIbI1YSEjrAXNurn&X-Amz-Signature=7e27c10dfa1caec80d2595fe42fe1c12a311ecb1a1d8d0698cb13260a6ec8e37&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KUPLAXP%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041609Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDXETdsyH2LWsvw6Eq29bZQ%2Fo0Osg8nBoHZ8rWkookdTAiBZjS6xwqWPgEZnWOlz06t%2FWZMSkNYNlmyN%2FS9p%2FDkpYir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMQCwtf8ponDs7UhlHKtwDuTTvAjUoYYDeLyhLyP5rEDs6MFoo%2B2MNeSKSGkFHvS9WDVS1dIUFYcTMhlmWDqGlNFjgbaoKq6Bi4hgNrZ0v7z%2Bdngjnq%2Ffsg02%2Bo92WhWko%2F6rIzdSbrWABuDvCllHlVHYSylVzwoI4lJsYiyr5xDAYiblLaplqDILqbO8l2xgAsnFZCl0HpZP7zxcmbmAddwSJXmrkj5v%2F3QLUsQshhFPE5CZl607ARoSJo%2B6IqOfGlWdM8rrhRDRsoS2hWPDgKHyIpYBYHdEXF0sGM1vkXLHv03y4pr7nWVRJ78cZCCjqLW7cC3ay4YZcPUq9YCTcOvCitQD0uDNNXngXy%2FBh%2FXAqvKYGdSWK7B7wJnN4bWXj0kebF%2F4qcPdvEtPTajR2pPZ02d6fjGbzhAYBRc93DHTqlT60uZHQ%2BSN6kxj3usc0JUB8Um5kdSPkfYQBxFKfBDUXhao65znwZNdiOwc7PhW%2FfhJmwLkSql3142pa3gcPUl3hIEJ222K%2BUcjc20jWG0WEG8eWHLpZuYYV6MP7V3OrqC8jeLksaY27i5VuYJkb2QY11zoIcpgpBL2Fj6zPNvxvL8lo6Anb%2FWfAgRXiVuGGMT%2FZzS9pAEpGsGUTRriGEJ0c5vdV%2BTVHUHUw64rCygY6pgH2PMyJ7UbHPvH%2F9hTxwZ2jdtMTx6l5%2BZ2jYvN%2FoR7pGtEk8hVo5KL%2BPP%2FPYQo2SPWiqoXUT3j%2B1L8aJkTmF4WCOcyEv9SlRCLKC%2BCbCa6ClPqqbX079bkmZ0Q56J0rWx4AqwJl92x%2FpL0u68Pty47T5rH5%2BfwVMgp3rRfAVVC5%2BZcFoezR0lnW7kXEQ5Xyb16iGPXSWnEqOFs4c%2FgmXwUVjO6rFJX3&X-Amz-Signature=deee7a37afd94d7c5a510752b84fae58c3089070293f5b521a18fa13c88beb7a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KUPLAXP%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041609Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDXETdsyH2LWsvw6Eq29bZQ%2Fo0Osg8nBoHZ8rWkookdTAiBZjS6xwqWPgEZnWOlz06t%2FWZMSkNYNlmyN%2FS9p%2FDkpYir%2FAwh6EAAaDDYzNzQyMzE4MzgwNSIMQCwtf8ponDs7UhlHKtwDuTTvAjUoYYDeLyhLyP5rEDs6MFoo%2B2MNeSKSGkFHvS9WDVS1dIUFYcTMhlmWDqGlNFjgbaoKq6Bi4hgNrZ0v7z%2Bdngjnq%2Ffsg02%2Bo92WhWko%2F6rIzdSbrWABuDvCllHlVHYSylVzwoI4lJsYiyr5xDAYiblLaplqDILqbO8l2xgAsnFZCl0HpZP7zxcmbmAddwSJXmrkj5v%2F3QLUsQshhFPE5CZl607ARoSJo%2B6IqOfGlWdM8rrhRDRsoS2hWPDgKHyIpYBYHdEXF0sGM1vkXLHv03y4pr7nWVRJ78cZCCjqLW7cC3ay4YZcPUq9YCTcOvCitQD0uDNNXngXy%2FBh%2FXAqvKYGdSWK7B7wJnN4bWXj0kebF%2F4qcPdvEtPTajR2pPZ02d6fjGbzhAYBRc93DHTqlT60uZHQ%2BSN6kxj3usc0JUB8Um5kdSPkfYQBxFKfBDUXhao65znwZNdiOwc7PhW%2FfhJmwLkSql3142pa3gcPUl3hIEJ222K%2BUcjc20jWG0WEG8eWHLpZuYYV6MP7V3OrqC8jeLksaY27i5VuYJkb2QY11zoIcpgpBL2Fj6zPNvxvL8lo6Anb%2FWfAgRXiVuGGMT%2FZzS9pAEpGsGUTRriGEJ0c5vdV%2BTVHUHUw64rCygY6pgH2PMyJ7UbHPvH%2F9hTxwZ2jdtMTx6l5%2BZ2jYvN%2FoR7pGtEk8hVo5KL%2BPP%2FPYQo2SPWiqoXUT3j%2B1L8aJkTmF4WCOcyEv9SlRCLKC%2BCbCa6ClPqqbX079bkmZ0Q56J0rWx4AqwJl92x%2FpL0u68Pty47T5rH5%2BfwVMgp3rRfAVVC5%2BZcFoezR0lnW7kXEQ5Xyb16iGPXSWnEqOFs4c%2FgmXwUVjO6rFJX3&X-Amz-Signature=1d3cf27a8b40d44b90b98f7b25092b8937387ebd1667e22e5114761e24fc1a82&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XKSIXSQE%2F20251228%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251228T041610Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCFdgtEwCZHRfTAmO3VSxoU7RCG12k6Tu%2Bsvw77PdLo4gIhAMrqlpNx8WOXWzp7yhZ8JErzhx8Z7eqH74wcGOMMNidmKv8DCHoQABoMNjM3NDIzMTgzODA1Igx3X7HG6GyTvtqb0kIq3AMyiVKIgs9niC9LJbAWSgsofT8yP59ov5JkwwXV3ZB6FWL7zMd1DrMNcpwzVPQKrjvUC83rD2IQiNpkzayMEz1xTZ9gJ4TAXQ9KyjS0jF%2FgwI33J3SX2hkfQbY9OeiYX6IdLuxwMyM0G%2F7bX2IuSqEg2FZ%2BLIgvZ3qyTwJmj%2BhAJxAmRdk0VpMj9sIQP61ofjcXdfpdy9KpG4X93ggRX8rMBabGk578xTSbWc2L62HrX23vNaASfCY8LqOpdCSZ3sbrJIVjvymvz1PnbqRnIq5g72FwqfdqSs4bxQJ2b6XbqZSFBrZOmXkutD4dFMg54If1XAVmB69KNO%2Fzn5qDHnxThxQfyVVOWmi4ZEdD838sx3Z%2BeJVQXU%2F2dncEsCGWsz7s7y%2BmSh6lnALVAtHW5I7GP4wBQ7aVWLi4EIqDymE7Fr9r%2BJf9ODblv4GGY2Bi25JyfHxFPNF%2FANUiZ7wsa%2BjNYAv2lvreUsXmGhGyP%2F08zjPaFcQOU48icDInoyRg3Wo5syNkoplb9ZdIb87GtlrrEps3wFXGe8z9Y7XhmITO10gxv3NP50R4%2FQPEybYxcLcF3egxviFqNwGH8X1ehTPBhhDnYFGuRFCPwg9mfD9PP1Uy6FlaOU5teklCRjCuisLKBjqkARM6HPcYHRa1Z1TsP3SK4gxhmp4Kz08fGiOEWte0qq35Z489IVy4lBqUH46AhMr6%2B4klhyV1YbsGcbN8bS4XHWaCnyGcE9I8QahuPKP4qzoF%2Fv03FGsUfv%2BUNkeGYupqlqRarVfAUlbl5yydJOqoapmsEwmwGvLWj7pICOIsdSZF1BZJdlVA%2FcW%2BMOHd4aLq9ZPDuIDAlZlT6nRACiv4X2YIr8ig&X-Amz-Signature=dae89d0769b437e3cf244c7757ced5f8db4d68020251e74b188a9a63991289f4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
