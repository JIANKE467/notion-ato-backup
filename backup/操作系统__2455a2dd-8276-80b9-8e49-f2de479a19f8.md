
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XMHP6PQE%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042826Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQC6EWPz%2FG9pYIleOCL6K9MOvTYgqwFk9FjAQq37HP%2BbygIgAndOnKSVyUuWXP2uh%2F64EpO5%2BwY1dS4zvWXzGs1Nrboq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDIf4vrtFFmb2BOdTnCrcA9w6vS5XGMNb9y76li7c7LxIOI6aZrEjBgvWckHx56tuZWD6pPDIvzPBs3ys6eJ8ZoBVeadw%2FqQzBCXhSRQEuDXBFXt2OhY4Yi3k78uUrT388latZTsj%2B%2FK1T6ajOiE%2BvHYcl65NsKvFrZ5R1NabXYR0NKKPdO4JGpWNr9Hg%2FqYGqScQxCmfb9WGnxeuj0DMUGvNIG9K2aE33y0Ap8Eye220gZZvAkHNCbL8qzwiaRjEjK3YGcjPpLGheCjomastIzWyEGdLYVW35nJgQLa%2FvoKarHNdPOrLAdlr0iFjNh0yxLJDxNgxCD1j3LuP8wC3dni%2F9imx23LTbod2XVbS0VTwvO4kuy9C2XzUVqj68FIMAuxGIrSAZkUupJ6LtkCj5NP0XBH3BY0eL840cIKr15AwoMTQWVK4scAeDA02RN2sFnQTcJxuplFAArl4k6YZrF9PiJcFmhjHG7pvhIdHek%2BNcdgNF8FUdd6SEkIcMBjVSvl95Oe0nkV%2FnA9VWIbvIOjtZa5x81F%2BgoFxUabmh245TwmrZkCFYzP7msPiLgzBVOPO%2BnP5g7pkUtE8BZAo%2FUTAcTlQuCOrrzrrPAyUoS2TscGzvlajQzvFaYUcCami6iahw5bxFCoL0by9MMSj7MoGOqUBklkTnuiDJ2NPQuiIs5sBG5JTMEvtursij%2F%2B8WuiMgta9beBRK%2FvNErmAGddc5upTBUX4ZeeMsH5Ax0wguL%2FKg0YB7AbbvD7fZfp2vH6XvGE9Ku8HA07b0DNUWxg1Ly5x0z8xp%2BU8kXPXVwvhHDwzdBySYW5jkff2y5vlTVaOA5mtlsicKQFkoscKjbiQpJcbS7corQ8YRF5acMdLthVeY0yD7FnU&X-Amz-Signature=d9f572377bd897397057e7f714851aaf15b58881922927252d2bfbea313cad06&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XMHP6PQE%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042826Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQC6EWPz%2FG9pYIleOCL6K9MOvTYgqwFk9FjAQq37HP%2BbygIgAndOnKSVyUuWXP2uh%2F64EpO5%2BwY1dS4zvWXzGs1Nrboq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDIf4vrtFFmb2BOdTnCrcA9w6vS5XGMNb9y76li7c7LxIOI6aZrEjBgvWckHx56tuZWD6pPDIvzPBs3ys6eJ8ZoBVeadw%2FqQzBCXhSRQEuDXBFXt2OhY4Yi3k78uUrT388latZTsj%2B%2FK1T6ajOiE%2BvHYcl65NsKvFrZ5R1NabXYR0NKKPdO4JGpWNr9Hg%2FqYGqScQxCmfb9WGnxeuj0DMUGvNIG9K2aE33y0Ap8Eye220gZZvAkHNCbL8qzwiaRjEjK3YGcjPpLGheCjomastIzWyEGdLYVW35nJgQLa%2FvoKarHNdPOrLAdlr0iFjNh0yxLJDxNgxCD1j3LuP8wC3dni%2F9imx23LTbod2XVbS0VTwvO4kuy9C2XzUVqj68FIMAuxGIrSAZkUupJ6LtkCj5NP0XBH3BY0eL840cIKr15AwoMTQWVK4scAeDA02RN2sFnQTcJxuplFAArl4k6YZrF9PiJcFmhjHG7pvhIdHek%2BNcdgNF8FUdd6SEkIcMBjVSvl95Oe0nkV%2FnA9VWIbvIOjtZa5x81F%2BgoFxUabmh245TwmrZkCFYzP7msPiLgzBVOPO%2BnP5g7pkUtE8BZAo%2FUTAcTlQuCOrrzrrPAyUoS2TscGzvlajQzvFaYUcCami6iahw5bxFCoL0by9MMSj7MoGOqUBklkTnuiDJ2NPQuiIs5sBG5JTMEvtursij%2F%2B8WuiMgta9beBRK%2FvNErmAGddc5upTBUX4ZeeMsH5Ax0wguL%2FKg0YB7AbbvD7fZfp2vH6XvGE9Ku8HA07b0DNUWxg1Ly5x0z8xp%2BU8kXPXVwvhHDwzdBySYW5jkff2y5vlTVaOA5mtlsicKQFkoscKjbiQpJcbS7corQ8YRF5acMdLthVeY0yD7FnU&X-Amz-Signature=1d9e1e7baac21c5878ffcbbd970570af0c22090b5e96f1a63c48f70e29e9ba1d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XMHP6PQE%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042826Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQC6EWPz%2FG9pYIleOCL6K9MOvTYgqwFk9FjAQq37HP%2BbygIgAndOnKSVyUuWXP2uh%2F64EpO5%2BwY1dS4zvWXzGs1Nrboq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDIf4vrtFFmb2BOdTnCrcA9w6vS5XGMNb9y76li7c7LxIOI6aZrEjBgvWckHx56tuZWD6pPDIvzPBs3ys6eJ8ZoBVeadw%2FqQzBCXhSRQEuDXBFXt2OhY4Yi3k78uUrT388latZTsj%2B%2FK1T6ajOiE%2BvHYcl65NsKvFrZ5R1NabXYR0NKKPdO4JGpWNr9Hg%2FqYGqScQxCmfb9WGnxeuj0DMUGvNIG9K2aE33y0Ap8Eye220gZZvAkHNCbL8qzwiaRjEjK3YGcjPpLGheCjomastIzWyEGdLYVW35nJgQLa%2FvoKarHNdPOrLAdlr0iFjNh0yxLJDxNgxCD1j3LuP8wC3dni%2F9imx23LTbod2XVbS0VTwvO4kuy9C2XzUVqj68FIMAuxGIrSAZkUupJ6LtkCj5NP0XBH3BY0eL840cIKr15AwoMTQWVK4scAeDA02RN2sFnQTcJxuplFAArl4k6YZrF9PiJcFmhjHG7pvhIdHek%2BNcdgNF8FUdd6SEkIcMBjVSvl95Oe0nkV%2FnA9VWIbvIOjtZa5x81F%2BgoFxUabmh245TwmrZkCFYzP7msPiLgzBVOPO%2BnP5g7pkUtE8BZAo%2FUTAcTlQuCOrrzrrPAyUoS2TscGzvlajQzvFaYUcCami6iahw5bxFCoL0by9MMSj7MoGOqUBklkTnuiDJ2NPQuiIs5sBG5JTMEvtursij%2F%2B8WuiMgta9beBRK%2FvNErmAGddc5upTBUX4ZeeMsH5Ax0wguL%2FKg0YB7AbbvD7fZfp2vH6XvGE9Ku8HA07b0DNUWxg1Ly5x0z8xp%2BU8kXPXVwvhHDwzdBySYW5jkff2y5vlTVaOA5mtlsicKQFkoscKjbiQpJcbS7corQ8YRF5acMdLthVeY0yD7FnU&X-Amz-Signature=d5eaca4ef4d3dbf54bc6db2785823350a56991ffea9d039409f15ad3cda2eb59&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46655FJMTGB%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQCaRrt0dHA6SF%2FWtr2fZajTsIQgpIGwpdYRMFRZGt%2BJDAIgOiqbBRbXDB2f%2B5I50%2BSkZfJtB9R1L0YHYYrBqbpFFFEq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDBvsAh7ShAXGTHCnhyrcA%2FOTmlsiLxA9v4%2FAnko%2B%2FUdosqjniIn8P4q2Fkx%2FC6UYc6I0%2BduKeIu0fOmGm0PskPK%2Fz4UZKYbKVp%2FkT7QydRPXxxi5urHcq1Dg7v05waVLI1CjHBCnftm0nHf7pL6Iy8JPwg1oodFry1jpUHzmLZekLwroYyZszLxJwUghKGHP7ZqGwXi2Rmbuqi0F0VBqRaATyWoe%2BIaMrdjVPjaA6yveEZ3jy0QPqnM8fzHN5Lo5Yl%2BkObebWmiXH%2BVgIlAZPpomnRrdt5fy5eTHUL1IIkWrpk%2F47yOV0Ym2u289ghLEQJ6DMjaaJ4koxPDkN%2B5v%2Bp5W4wRNI0NZN%2BrDrszdnNO%2Brijy49t8oXTpOZhAKL0pa55yWoELPe9GxktgyQ4w2agToJfM4HhF6dyQA0hcrrd%2F3TxyM%2Fvo0oV71ug4WJeFkqdAbtFjSBZgXzwAkmfC0%2FQV8acjUlqw88i0xF9eidYI4ZqbefK%2FnASR2Rqyi%2Fu9K4gLCNGhtU2z6v%2BY%2BrgKi%2FEbnby%2BYKMw%2BetSLhX4AmFsgB4mo%2F1lOawvjyauN92d5N9GGaVAF4fLJC08Tb3aynW9RLCDmSU0e90hXNRtzY%2BJEt1%2FUenv%2Fznc2zlKdZ47LmvTVqYhHCVdceddMPS27MoGOqUBpd5Dx9qQLOiOItqBHcY6TMmGI%2BA8yyBw%2Bp1nLvFblaMQuB3%2FFY6pX8d8%2FOjokHPBfodMTAn7QelXTWvWkqkBL5w%2BxT4tmEZWInCqDVIoJYOEC3GYP2tv%2B1y0O08NCZ5H%2BywcqQmh8OAdAhdY6b0DizkHHYGKKW6aDPwH2BShHj6R8hCT8OZyqiWvVrZcq6g2MjHBl0YBuGdMAfYYcURSmRqT5EdR&X-Amz-Signature=3afc511496164162e471fec944abdfc0d77052e2bfda683fdfaaf099dfdc48d4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46655FJMTGB%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQCaRrt0dHA6SF%2FWtr2fZajTsIQgpIGwpdYRMFRZGt%2BJDAIgOiqbBRbXDB2f%2B5I50%2BSkZfJtB9R1L0YHYYrBqbpFFFEq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDBvsAh7ShAXGTHCnhyrcA%2FOTmlsiLxA9v4%2FAnko%2B%2FUdosqjniIn8P4q2Fkx%2FC6UYc6I0%2BduKeIu0fOmGm0PskPK%2Fz4UZKYbKVp%2FkT7QydRPXxxi5urHcq1Dg7v05waVLI1CjHBCnftm0nHf7pL6Iy8JPwg1oodFry1jpUHzmLZekLwroYyZszLxJwUghKGHP7ZqGwXi2Rmbuqi0F0VBqRaATyWoe%2BIaMrdjVPjaA6yveEZ3jy0QPqnM8fzHN5Lo5Yl%2BkObebWmiXH%2BVgIlAZPpomnRrdt5fy5eTHUL1IIkWrpk%2F47yOV0Ym2u289ghLEQJ6DMjaaJ4koxPDkN%2B5v%2Bp5W4wRNI0NZN%2BrDrszdnNO%2Brijy49t8oXTpOZhAKL0pa55yWoELPe9GxktgyQ4w2agToJfM4HhF6dyQA0hcrrd%2F3TxyM%2Fvo0oV71ug4WJeFkqdAbtFjSBZgXzwAkmfC0%2FQV8acjUlqw88i0xF9eidYI4ZqbefK%2FnASR2Rqyi%2Fu9K4gLCNGhtU2z6v%2BY%2BrgKi%2FEbnby%2BYKMw%2BetSLhX4AmFsgB4mo%2F1lOawvjyauN92d5N9GGaVAF4fLJC08Tb3aynW9RLCDmSU0e90hXNRtzY%2BJEt1%2FUenv%2Fznc2zlKdZ47LmvTVqYhHCVdceddMPS27MoGOqUBpd5Dx9qQLOiOItqBHcY6TMmGI%2BA8yyBw%2Bp1nLvFblaMQuB3%2FFY6pX8d8%2FOjokHPBfodMTAn7QelXTWvWkqkBL5w%2BxT4tmEZWInCqDVIoJYOEC3GYP2tv%2B1y0O08NCZ5H%2BywcqQmh8OAdAhdY6b0DizkHHYGKKW6aDPwH2BShHj6R8hCT8OZyqiWvVrZcq6g2MjHBl0YBuGdMAfYYcURSmRqT5EdR&X-Amz-Signature=112ae65cbcfc72bb76c87e826f9a22f897bff577cfaa3b906654cac57e7b51f9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46655FJMTGB%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJHMEUCIQCaRrt0dHA6SF%2FWtr2fZajTsIQgpIGwpdYRMFRZGt%2BJDAIgOiqbBRbXDB2f%2B5I50%2BSkZfJtB9R1L0YHYYrBqbpFFFEq%2FwMIOxAAGgw2Mzc0MjMxODM4MDUiDBvsAh7ShAXGTHCnhyrcA%2FOTmlsiLxA9v4%2FAnko%2B%2FUdosqjniIn8P4q2Fkx%2FC6UYc6I0%2BduKeIu0fOmGm0PskPK%2Fz4UZKYbKVp%2FkT7QydRPXxxi5urHcq1Dg7v05waVLI1CjHBCnftm0nHf7pL6Iy8JPwg1oodFry1jpUHzmLZekLwroYyZszLxJwUghKGHP7ZqGwXi2Rmbuqi0F0VBqRaATyWoe%2BIaMrdjVPjaA6yveEZ3jy0QPqnM8fzHN5Lo5Yl%2BkObebWmiXH%2BVgIlAZPpomnRrdt5fy5eTHUL1IIkWrpk%2F47yOV0Ym2u289ghLEQJ6DMjaaJ4koxPDkN%2B5v%2Bp5W4wRNI0NZN%2BrDrszdnNO%2Brijy49t8oXTpOZhAKL0pa55yWoELPe9GxktgyQ4w2agToJfM4HhF6dyQA0hcrrd%2F3TxyM%2Fvo0oV71ug4WJeFkqdAbtFjSBZgXzwAkmfC0%2FQV8acjUlqw88i0xF9eidYI4ZqbefK%2FnASR2Rqyi%2Fu9K4gLCNGhtU2z6v%2BY%2BrgKi%2FEbnby%2BYKMw%2BetSLhX4AmFsgB4mo%2F1lOawvjyauN92d5N9GGaVAF4fLJC08Tb3aynW9RLCDmSU0e90hXNRtzY%2BJEt1%2FUenv%2Fznc2zlKdZ47LmvTVqYhHCVdceddMPS27MoGOqUBpd5Dx9qQLOiOItqBHcY6TMmGI%2BA8yyBw%2Bp1nLvFblaMQuB3%2FFY6pX8d8%2FOjokHPBfodMTAn7QelXTWvWkqkBL5w%2BxT4tmEZWInCqDVIoJYOEC3GYP2tv%2B1y0O08NCZ5H%2BywcqQmh8OAdAhdY6b0DizkHHYGKKW6aDPwH2BShHj6R8hCT8OZyqiWvVrZcq6g2MjHBl0YBuGdMAfYYcURSmRqT5EdR&X-Amz-Signature=eb2a7638f6796bb6b551d605f9faa1e63576d7dbab8c2a8c9f88fd8f7171c549&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7HR53BJ%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHMaCXVzLXdlc3QtMiJIMEYCIQCM3y1JzwYyGOZT4uGOrSdBjnBNBVndW9gPwCfvn49pvAIhANyBxwnxlGd9n1%2BZIk9BuSeMZTdjbg0AYGDaK5pBKYvCKv8DCDwQABoMNjM3NDIzMTgzODA1IgxH2re7yKqjS9%2BCpTgq3AMTlTh0rznaAZGncG%2FcYRFgaCU8je9k%2B%2FysnlBsa7Y4dLflZAl5UTf286WwqzQgkjjlMKFmd2FimozpO3GWiRBcNLxwzyf1c6LGJdmelGuVh5e0lRQguq%2BG8ou5u%2BDN1o7ch0dH7DZx%2BfW6yUbKkcz7glVOc7JPFf7OapAmMix%2FPtaF0noy0vLK%2Fh1OOuQQfsXacqL0bJyaUqZYbI0%2B7v6YT61rV530vFXgsCUPdr8eavzf1G5zxj1o9wzGiGnt5vYtOUJBTO%2BbMK76iHrs4xLbmHf56qiZWZ2mcTNiJNW%2BWyJcOXEQmOlaTWrnNm%2BOosBbP4V%2BBUL5MSSOWWZjlbhp518hm2zjeRa2UXV7VAbxH1tr0zgEvfGU00d7edxAtSYrTK7X4w%2FevS1TWreVpf2M1WHD4H1%2FNb8%2BXKdYBuy4Nn6gNo6xGTLbvIY4kHx8oF3do9gDqzpnJ%2BCBFAKjzm3UujmyPQ6E2DVr6o29Eabx28QSrpTmRZ8K44lSNiCtKO8ddG4RuqdaKAT7GLZQTHnUFq3TBkLfmqpoCTOmCI950EF%2FeD8INDc3ASGDiPYrpmDmQ5jOr16zyjm6o5avuxNbDmCLbqswXw%2FrUY7WbHX%2Fgs3XvGzsRtWsRLXjdjDbx%2BzKBjqkAY4OQF5RA6DjspbSsmmqfUAg681pUzgkm4tqG0%2FujxO3yS7RXZ7nkgFYBFXlfCLeORMIk92BF3zA9BdVmjlPXhb47AKwfE6tNDlPLfrX9yzWMn%2BlzTrHKE8tFAOuHxY5rkKbJLi8Sj%2F3nI9OVk6z3cM7ziitqTpXFxBaS5Mv0e4CaEthKCvP9M8kY4jr1q0aDGP93qwpCn2zaHy4R4M%2BiJ%2F2W1Qs&X-Amz-Signature=6ff0c16975719de45a8ee13e83585c442a64d9f2e7a977e778e2cfadd897bf06&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7HR53BJ%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHMaCXVzLXdlc3QtMiJIMEYCIQCM3y1JzwYyGOZT4uGOrSdBjnBNBVndW9gPwCfvn49pvAIhANyBxwnxlGd9n1%2BZIk9BuSeMZTdjbg0AYGDaK5pBKYvCKv8DCDwQABoMNjM3NDIzMTgzODA1IgxH2re7yKqjS9%2BCpTgq3AMTlTh0rznaAZGncG%2FcYRFgaCU8je9k%2B%2FysnlBsa7Y4dLflZAl5UTf286WwqzQgkjjlMKFmd2FimozpO3GWiRBcNLxwzyf1c6LGJdmelGuVh5e0lRQguq%2BG8ou5u%2BDN1o7ch0dH7DZx%2BfW6yUbKkcz7glVOc7JPFf7OapAmMix%2FPtaF0noy0vLK%2Fh1OOuQQfsXacqL0bJyaUqZYbI0%2B7v6YT61rV530vFXgsCUPdr8eavzf1G5zxj1o9wzGiGnt5vYtOUJBTO%2BbMK76iHrs4xLbmHf56qiZWZ2mcTNiJNW%2BWyJcOXEQmOlaTWrnNm%2BOosBbP4V%2BBUL5MSSOWWZjlbhp518hm2zjeRa2UXV7VAbxH1tr0zgEvfGU00d7edxAtSYrTK7X4w%2FevS1TWreVpf2M1WHD4H1%2FNb8%2BXKdYBuy4Nn6gNo6xGTLbvIY4kHx8oF3do9gDqzpnJ%2BCBFAKjzm3UujmyPQ6E2DVr6o29Eabx28QSrpTmRZ8K44lSNiCtKO8ddG4RuqdaKAT7GLZQTHnUFq3TBkLfmqpoCTOmCI950EF%2FeD8INDc3ASGDiPYrpmDmQ5jOr16zyjm6o5avuxNbDmCLbqswXw%2FrUY7WbHX%2Fgs3XvGzsRtWsRLXjdjDbx%2BzKBjqkAY4OQF5RA6DjspbSsmmqfUAg681pUzgkm4tqG0%2FujxO3yS7RXZ7nkgFYBFXlfCLeORMIk92BF3zA9BdVmjlPXhb47AKwfE6tNDlPLfrX9yzWMn%2BlzTrHKE8tFAOuHxY5rkKbJLi8Sj%2F3nI9OVk6z3cM7ziitqTpXFxBaS5Mv0e4CaEthKCvP9M8kY4jr1q0aDGP93qwpCn2zaHy4R4M%2BiJ%2F2W1Qs&X-Amz-Signature=d97f03f265a1cdff2e1fd5b2a4d0eee6ee192f0766a81b7dabbeeb8e1ab6ff7b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7HR53BJ%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHMaCXVzLXdlc3QtMiJIMEYCIQCM3y1JzwYyGOZT4uGOrSdBjnBNBVndW9gPwCfvn49pvAIhANyBxwnxlGd9n1%2BZIk9BuSeMZTdjbg0AYGDaK5pBKYvCKv8DCDwQABoMNjM3NDIzMTgzODA1IgxH2re7yKqjS9%2BCpTgq3AMTlTh0rznaAZGncG%2FcYRFgaCU8je9k%2B%2FysnlBsa7Y4dLflZAl5UTf286WwqzQgkjjlMKFmd2FimozpO3GWiRBcNLxwzyf1c6LGJdmelGuVh5e0lRQguq%2BG8ou5u%2BDN1o7ch0dH7DZx%2BfW6yUbKkcz7glVOc7JPFf7OapAmMix%2FPtaF0noy0vLK%2Fh1OOuQQfsXacqL0bJyaUqZYbI0%2B7v6YT61rV530vFXgsCUPdr8eavzf1G5zxj1o9wzGiGnt5vYtOUJBTO%2BbMK76iHrs4xLbmHf56qiZWZ2mcTNiJNW%2BWyJcOXEQmOlaTWrnNm%2BOosBbP4V%2BBUL5MSSOWWZjlbhp518hm2zjeRa2UXV7VAbxH1tr0zgEvfGU00d7edxAtSYrTK7X4w%2FevS1TWreVpf2M1WHD4H1%2FNb8%2BXKdYBuy4Nn6gNo6xGTLbvIY4kHx8oF3do9gDqzpnJ%2BCBFAKjzm3UujmyPQ6E2DVr6o29Eabx28QSrpTmRZ8K44lSNiCtKO8ddG4RuqdaKAT7GLZQTHnUFq3TBkLfmqpoCTOmCI950EF%2FeD8INDc3ASGDiPYrpmDmQ5jOr16zyjm6o5avuxNbDmCLbqswXw%2FrUY7WbHX%2Fgs3XvGzsRtWsRLXjdjDbx%2BzKBjqkAY4OQF5RA6DjspbSsmmqfUAg681pUzgkm4tqG0%2FujxO3yS7RXZ7nkgFYBFXlfCLeORMIk92BF3zA9BdVmjlPXhb47AKwfE6tNDlPLfrX9yzWMn%2BlzTrHKE8tFAOuHxY5rkKbJLi8Sj%2F3nI9OVk6z3cM7ziitqTpXFxBaS5Mv0e4CaEthKCvP9M8kY4jr1q0aDGP93qwpCn2zaHy4R4M%2BiJ%2F2W1Qs&X-Amz-Signature=b7eb7c9e9b30d9804be7d387941d5ecc8026466a31df53f7e20305456029d49f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7HR53BJ%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHMaCXVzLXdlc3QtMiJIMEYCIQCM3y1JzwYyGOZT4uGOrSdBjnBNBVndW9gPwCfvn49pvAIhANyBxwnxlGd9n1%2BZIk9BuSeMZTdjbg0AYGDaK5pBKYvCKv8DCDwQABoMNjM3NDIzMTgzODA1IgxH2re7yKqjS9%2BCpTgq3AMTlTh0rznaAZGncG%2FcYRFgaCU8je9k%2B%2FysnlBsa7Y4dLflZAl5UTf286WwqzQgkjjlMKFmd2FimozpO3GWiRBcNLxwzyf1c6LGJdmelGuVh5e0lRQguq%2BG8ou5u%2BDN1o7ch0dH7DZx%2BfW6yUbKkcz7glVOc7JPFf7OapAmMix%2FPtaF0noy0vLK%2Fh1OOuQQfsXacqL0bJyaUqZYbI0%2B7v6YT61rV530vFXgsCUPdr8eavzf1G5zxj1o9wzGiGnt5vYtOUJBTO%2BbMK76iHrs4xLbmHf56qiZWZ2mcTNiJNW%2BWyJcOXEQmOlaTWrnNm%2BOosBbP4V%2BBUL5MSSOWWZjlbhp518hm2zjeRa2UXV7VAbxH1tr0zgEvfGU00d7edxAtSYrTK7X4w%2FevS1TWreVpf2M1WHD4H1%2FNb8%2BXKdYBuy4Nn6gNo6xGTLbvIY4kHx8oF3do9gDqzpnJ%2BCBFAKjzm3UujmyPQ6E2DVr6o29Eabx28QSrpTmRZ8K44lSNiCtKO8ddG4RuqdaKAT7GLZQTHnUFq3TBkLfmqpoCTOmCI950EF%2FeD8INDc3ASGDiPYrpmDmQ5jOr16zyjm6o5avuxNbDmCLbqswXw%2FrUY7WbHX%2Fgs3XvGzsRtWsRLXjdjDbx%2BzKBjqkAY4OQF5RA6DjspbSsmmqfUAg681pUzgkm4tqG0%2FujxO3yS7RXZ7nkgFYBFXlfCLeORMIk92BF3zA9BdVmjlPXhb47AKwfE6tNDlPLfrX9yzWMn%2BlzTrHKE8tFAOuHxY5rkKbJLi8Sj%2F3nI9OVk6z3cM7ziitqTpXFxBaS5Mv0e4CaEthKCvP9M8kY4jr1q0aDGP93qwpCn2zaHy4R4M%2BiJ%2F2W1Qs&X-Amz-Signature=5c4e127736f555ed82159cd195431ecba454974908ae738eb32292e7f0fbb7a1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QO7KE4ZL%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCID5cjg3noW%2BgHqEDK7wJMtZjU64q99q0mRKZQ879tj4gAiBb1aI67uaE%2BqbvlNqjDdIJADMQ9lzaqkcg4KqPb2Nqfyr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMP3onl%2FgCdKPKvlMCKtwDYUaKFyZ2Dzx3XqV8L3udYgJ%2BotI5qsMOSo0a7r21hpAt6XBCDpIKXriB2cMx6ifVC9RhXgrne50cmK%2FsF1NNXybIfXhkUFUKfdAeEzvKM64c%2BVpnAIH0ESMCD8V0J6Hxs90v3oEFTe18fqnTZb5UkNvin7xrDPZYxP%2B7st6Juz8KBd2c5gf7cNjxT9WHH%2FARPEYExi40aSk%2F7gcVJWOb%2FESQDvyzysFdhTudTpdQo2UeA3XpZ1QKo9QDvALLl1ou4%2B6Gogg%2FxkRMJYy30htcjAH3mJHmja8S2tqImQEisjh53cnZ1tdULFErEeOCxVG%2B3bXY41nGB6n9cFqgph4zVacOtQFNOFJeN9GZNJ3XW6KutR43H8br9YPXg%2FfGDFuD8k0bKRwnQOmXCiU%2BwEu91a6NsQEtKaXBrNsroFhjEYteU1c3LLUQeE%2FOqynLQFAWBEpWEO2iHLVidnPzV3Q2VoqVJIiHyMrTv4GEL8pypMBSpFQrCPsVbQB7YkPqtdcSetzPgviGlPpcLJSa2LmxGI1rKCfV%2F1nh38169CZ8ndFK%2FsSAWZlg9HNJK%2Bzxz58u8effgWs8EhrGwrcJISTweRKxTFEZUpVHiqoGTN6jLrsSx95CyWc2kJwBAyQw87bsygY6pgHMdFCYuWsEXaY5UoQNviz64JerF5xenNcv4ZOTod2ineMzf2%2BL8Zn7Dzv6k1duMXsFi9oDcGPVC4E7ovtnFdZ9T%2BONmWfgv%2FSmoWqKbtHtaeBWB%2FQH9kJr6sV9btMxJg2Gp5ObMmQe6yJUsmAXtde%2FQBHiLr9iD%2B%2FxYE4cALRcytAbmJkOHNAvdOSxaj%2Fw%2FP0WDN3fiF84AYKv%2BMf7MjgLPNJ9pWnI&X-Amz-Signature=e105021f5f0f236b7d37ddc72bfe8add520cd295d80c3ab4bba07a1bf07cc3cf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QO7KE4ZL%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCID5cjg3noW%2BgHqEDK7wJMtZjU64q99q0mRKZQ879tj4gAiBb1aI67uaE%2BqbvlNqjDdIJADMQ9lzaqkcg4KqPb2Nqfyr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMP3onl%2FgCdKPKvlMCKtwDYUaKFyZ2Dzx3XqV8L3udYgJ%2BotI5qsMOSo0a7r21hpAt6XBCDpIKXriB2cMx6ifVC9RhXgrne50cmK%2FsF1NNXybIfXhkUFUKfdAeEzvKM64c%2BVpnAIH0ESMCD8V0J6Hxs90v3oEFTe18fqnTZb5UkNvin7xrDPZYxP%2B7st6Juz8KBd2c5gf7cNjxT9WHH%2FARPEYExi40aSk%2F7gcVJWOb%2FESQDvyzysFdhTudTpdQo2UeA3XpZ1QKo9QDvALLl1ou4%2B6Gogg%2FxkRMJYy30htcjAH3mJHmja8S2tqImQEisjh53cnZ1tdULFErEeOCxVG%2B3bXY41nGB6n9cFqgph4zVacOtQFNOFJeN9GZNJ3XW6KutR43H8br9YPXg%2FfGDFuD8k0bKRwnQOmXCiU%2BwEu91a6NsQEtKaXBrNsroFhjEYteU1c3LLUQeE%2FOqynLQFAWBEpWEO2iHLVidnPzV3Q2VoqVJIiHyMrTv4GEL8pypMBSpFQrCPsVbQB7YkPqtdcSetzPgviGlPpcLJSa2LmxGI1rKCfV%2F1nh38169CZ8ndFK%2FsSAWZlg9HNJK%2Bzxz58u8effgWs8EhrGwrcJISTweRKxTFEZUpVHiqoGTN6jLrsSx95CyWc2kJwBAyQw87bsygY6pgHMdFCYuWsEXaY5UoQNviz64JerF5xenNcv4ZOTod2ineMzf2%2BL8Zn7Dzv6k1duMXsFi9oDcGPVC4E7ovtnFdZ9T%2BONmWfgv%2FSmoWqKbtHtaeBWB%2FQH9kJr6sV9btMxJg2Gp5ObMmQe6yJUsmAXtde%2FQBHiLr9iD%2B%2FxYE4cALRcytAbmJkOHNAvdOSxaj%2Fw%2FP0WDN3fiF84AYKv%2BMf7MjgLPNJ9pWnI&X-Amz-Signature=44b54c8a89b4fa3d584db1c0f4f3962e90bc6b307ce221a9c38aa5536eb6ec0c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QO7KE4ZL%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCID5cjg3noW%2BgHqEDK7wJMtZjU64q99q0mRKZQ879tj4gAiBb1aI67uaE%2BqbvlNqjDdIJADMQ9lzaqkcg4KqPb2Nqfyr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMP3onl%2FgCdKPKvlMCKtwDYUaKFyZ2Dzx3XqV8L3udYgJ%2BotI5qsMOSo0a7r21hpAt6XBCDpIKXriB2cMx6ifVC9RhXgrne50cmK%2FsF1NNXybIfXhkUFUKfdAeEzvKM64c%2BVpnAIH0ESMCD8V0J6Hxs90v3oEFTe18fqnTZb5UkNvin7xrDPZYxP%2B7st6Juz8KBd2c5gf7cNjxT9WHH%2FARPEYExi40aSk%2F7gcVJWOb%2FESQDvyzysFdhTudTpdQo2UeA3XpZ1QKo9QDvALLl1ou4%2B6Gogg%2FxkRMJYy30htcjAH3mJHmja8S2tqImQEisjh53cnZ1tdULFErEeOCxVG%2B3bXY41nGB6n9cFqgph4zVacOtQFNOFJeN9GZNJ3XW6KutR43H8br9YPXg%2FfGDFuD8k0bKRwnQOmXCiU%2BwEu91a6NsQEtKaXBrNsroFhjEYteU1c3LLUQeE%2FOqynLQFAWBEpWEO2iHLVidnPzV3Q2VoqVJIiHyMrTv4GEL8pypMBSpFQrCPsVbQB7YkPqtdcSetzPgviGlPpcLJSa2LmxGI1rKCfV%2F1nh38169CZ8ndFK%2FsSAWZlg9HNJK%2Bzxz58u8effgWs8EhrGwrcJISTweRKxTFEZUpVHiqoGTN6jLrsSx95CyWc2kJwBAyQw87bsygY6pgHMdFCYuWsEXaY5UoQNviz64JerF5xenNcv4ZOTod2ineMzf2%2BL8Zn7Dzv6k1duMXsFi9oDcGPVC4E7ovtnFdZ9T%2BONmWfgv%2FSmoWqKbtHtaeBWB%2FQH9kJr6sV9btMxJg2Gp5ObMmQe6yJUsmAXtde%2FQBHiLr9iD%2B%2FxYE4cALRcytAbmJkOHNAvdOSxaj%2Fw%2FP0WDN3fiF84AYKv%2BMf7MjgLPNJ9pWnI&X-Amz-Signature=c8f57a53214970386e1d59b663893fc1faf729449fa8e5a67c2c54588257e245&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QO7KE4ZL%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042827Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCID5cjg3noW%2BgHqEDK7wJMtZjU64q99q0mRKZQ879tj4gAiBb1aI67uaE%2BqbvlNqjDdIJADMQ9lzaqkcg4KqPb2Nqfyr%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMP3onl%2FgCdKPKvlMCKtwDYUaKFyZ2Dzx3XqV8L3udYgJ%2BotI5qsMOSo0a7r21hpAt6XBCDpIKXriB2cMx6ifVC9RhXgrne50cmK%2FsF1NNXybIfXhkUFUKfdAeEzvKM64c%2BVpnAIH0ESMCD8V0J6Hxs90v3oEFTe18fqnTZb5UkNvin7xrDPZYxP%2B7st6Juz8KBd2c5gf7cNjxT9WHH%2FARPEYExi40aSk%2F7gcVJWOb%2FESQDvyzysFdhTudTpdQo2UeA3XpZ1QKo9QDvALLl1ou4%2B6Gogg%2FxkRMJYy30htcjAH3mJHmja8S2tqImQEisjh53cnZ1tdULFErEeOCxVG%2B3bXY41nGB6n9cFqgph4zVacOtQFNOFJeN9GZNJ3XW6KutR43H8br9YPXg%2FfGDFuD8k0bKRwnQOmXCiU%2BwEu91a6NsQEtKaXBrNsroFhjEYteU1c3LLUQeE%2FOqynLQFAWBEpWEO2iHLVidnPzV3Q2VoqVJIiHyMrTv4GEL8pypMBSpFQrCPsVbQB7YkPqtdcSetzPgviGlPpcLJSa2LmxGI1rKCfV%2F1nh38169CZ8ndFK%2FsSAWZlg9HNJK%2Bzxz58u8effgWs8EhrGwrcJISTweRKxTFEZUpVHiqoGTN6jLrsSx95CyWc2kJwBAyQw87bsygY6pgHMdFCYuWsEXaY5UoQNviz64JerF5xenNcv4ZOTod2ineMzf2%2BL8Zn7Dzv6k1duMXsFi9oDcGPVC4E7ovtnFdZ9T%2BONmWfgv%2FSmoWqKbtHtaeBWB%2FQH9kJr6sV9btMxJg2Gp5ObMmQe6yJUsmAXtde%2FQBHiLr9iD%2B%2FxYE4cALRcytAbmJkOHNAvdOSxaj%2Fw%2FP0WDN3fiF84AYKv%2BMf7MjgLPNJ9pWnI&X-Amz-Signature=f2b719f4d3ce8e3a6d1a5c97aff4df609ac04a33a12d02d754fe502365947a49&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XTOTT5H2%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJIMEYCIQDyMhLRT0JIiLeimff5Ip6X1AJC6dHGIsnVYcL1grhJKgIhALLGmgfcQ36aoK61xV1tGHH0RoE7CU4Cn8hd3kyEBx3nKv8DCDsQABoMNjM3NDIzMTgzODA1IgxYtF%2FrTWZp5zrEjXcq3APGAMJBSf7Kzf4Zm8ajVuf08kbqTZuTsCpS%2FHn%2BJNrHIFmnLRP%2BXIQm88AhUrc5jn0NLAn5P6MOpyTyNQg6y4pAy5faoZyTxmtOQp5IA3hf8289c5GmzO14FbiKenvLSq7vjCtP6fbOrO%2BEwqyLxhRCHPfHYVGPww2HNLQgrlANBmW9tWOlpttXm8pjIrpyR7pkBdCSKO78zzSufDmuj%2FwIQ5uvcjgQiucGLrcM%2FXE%2F8%2FVY0DT4J8HaY6AEG2b1kaw7NMmC%2FiESrZTVKrypWDyGpr8ZiH6gBA58eBQEhBl1wr%2B81J9kYxSKpIBNrWUP%2Bq44r%2Bg7Q1b8IT%2Bs7lWNbnz5hcTHj2mtMjtUsCZMfUDtHeEr4uMUXk315uLj3%2FmcXaR%2FYvOXeQct6GvN76WYE70ThQN9hxQqRb659nZ46FbE%2BSQM73h41skTus9VBye8XFLzBtpbs47QgZKdeZdEY%2F0oTGyQE%2FyvMrVOwzEgdwEy%2BzFfUXRkr%2BaBw%2BKcPbzKpYZXf8V%2B%2BWmvIZUkmDaoWJYm%2BLH2uH6P6nclHFT50fylC3IIht2Ehe38wCM4POsmatWFnaZ9nm0Ig97PNvMBmO0mTDaA%2Fwgaxzjancqml7l4cjB8V8Ri%2Ftk3dGlsZTDdu%2BzKBjqkAUt8uc4zI170BCMkxMsGJzwhI1BPHa3%2BuoVWPFGiZ1qCKzBg0HOIHX1Xavvwpzfp8JIKxVKAWt8gRk5TkobgbaK7cFWNM76w28lyLZEjZyvUm5rmP8OywUSjBO4776VEPKgmLMOqaewVAHy1UfjTT2xVtDyC1qh%2F7O7j36%2FStJzICCNhg88Ggyulf15M%2BEQiazOC3Jx1FRCv9IYNV%2BKFEbwSKhCY&X-Amz-Signature=e5417a346779c78c6302b0d569ccc9501e2120222dfc9b18cb8efc51261ba438&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XTOTT5H2%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJIMEYCIQDyMhLRT0JIiLeimff5Ip6X1AJC6dHGIsnVYcL1grhJKgIhALLGmgfcQ36aoK61xV1tGHH0RoE7CU4Cn8hd3kyEBx3nKv8DCDsQABoMNjM3NDIzMTgzODA1IgxYtF%2FrTWZp5zrEjXcq3APGAMJBSf7Kzf4Zm8ajVuf08kbqTZuTsCpS%2FHn%2BJNrHIFmnLRP%2BXIQm88AhUrc5jn0NLAn5P6MOpyTyNQg6y4pAy5faoZyTxmtOQp5IA3hf8289c5GmzO14FbiKenvLSq7vjCtP6fbOrO%2BEwqyLxhRCHPfHYVGPww2HNLQgrlANBmW9tWOlpttXm8pjIrpyR7pkBdCSKO78zzSufDmuj%2FwIQ5uvcjgQiucGLrcM%2FXE%2F8%2FVY0DT4J8HaY6AEG2b1kaw7NMmC%2FiESrZTVKrypWDyGpr8ZiH6gBA58eBQEhBl1wr%2B81J9kYxSKpIBNrWUP%2Bq44r%2Bg7Q1b8IT%2Bs7lWNbnz5hcTHj2mtMjtUsCZMfUDtHeEr4uMUXk315uLj3%2FmcXaR%2FYvOXeQct6GvN76WYE70ThQN9hxQqRb659nZ46FbE%2BSQM73h41skTus9VBye8XFLzBtpbs47QgZKdeZdEY%2F0oTGyQE%2FyvMrVOwzEgdwEy%2BzFfUXRkr%2BaBw%2BKcPbzKpYZXf8V%2B%2BWmvIZUkmDaoWJYm%2BLH2uH6P6nclHFT50fylC3IIht2Ehe38wCM4POsmatWFnaZ9nm0Ig97PNvMBmO0mTDaA%2Fwgaxzjancqml7l4cjB8V8Ri%2Ftk3dGlsZTDdu%2BzKBjqkAUt8uc4zI170BCMkxMsGJzwhI1BPHa3%2BuoVWPFGiZ1qCKzBg0HOIHX1Xavvwpzfp8JIKxVKAWt8gRk5TkobgbaK7cFWNM76w28lyLZEjZyvUm5rmP8OywUSjBO4776VEPKgmLMOqaewVAHy1UfjTT2xVtDyC1qh%2F7O7j36%2FStJzICCNhg88Ggyulf15M%2BEQiazOC3Jx1FRCv9IYNV%2BKFEbwSKhCY&X-Amz-Signature=3aec9fe5388f813878eb4321850349f91c13671541785190da03c61de25eac07&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XTOTT5H2%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJIMEYCIQDyMhLRT0JIiLeimff5Ip6X1AJC6dHGIsnVYcL1grhJKgIhALLGmgfcQ36aoK61xV1tGHH0RoE7CU4Cn8hd3kyEBx3nKv8DCDsQABoMNjM3NDIzMTgzODA1IgxYtF%2FrTWZp5zrEjXcq3APGAMJBSf7Kzf4Zm8ajVuf08kbqTZuTsCpS%2FHn%2BJNrHIFmnLRP%2BXIQm88AhUrc5jn0NLAn5P6MOpyTyNQg6y4pAy5faoZyTxmtOQp5IA3hf8289c5GmzO14FbiKenvLSq7vjCtP6fbOrO%2BEwqyLxhRCHPfHYVGPww2HNLQgrlANBmW9tWOlpttXm8pjIrpyR7pkBdCSKO78zzSufDmuj%2FwIQ5uvcjgQiucGLrcM%2FXE%2F8%2FVY0DT4J8HaY6AEG2b1kaw7NMmC%2FiESrZTVKrypWDyGpr8ZiH6gBA58eBQEhBl1wr%2B81J9kYxSKpIBNrWUP%2Bq44r%2Bg7Q1b8IT%2Bs7lWNbnz5hcTHj2mtMjtUsCZMfUDtHeEr4uMUXk315uLj3%2FmcXaR%2FYvOXeQct6GvN76WYE70ThQN9hxQqRb659nZ46FbE%2BSQM73h41skTus9VBye8XFLzBtpbs47QgZKdeZdEY%2F0oTGyQE%2FyvMrVOwzEgdwEy%2BzFfUXRkr%2BaBw%2BKcPbzKpYZXf8V%2B%2BWmvIZUkmDaoWJYm%2BLH2uH6P6nclHFT50fylC3IIht2Ehe38wCM4POsmatWFnaZ9nm0Ig97PNvMBmO0mTDaA%2Fwgaxzjancqml7l4cjB8V8Ri%2Ftk3dGlsZTDdu%2BzKBjqkAUt8uc4zI170BCMkxMsGJzwhI1BPHa3%2BuoVWPFGiZ1qCKzBg0HOIHX1Xavvwpzfp8JIKxVKAWt8gRk5TkobgbaK7cFWNM76w28lyLZEjZyvUm5rmP8OywUSjBO4776VEPKgmLMOqaewVAHy1UfjTT2xVtDyC1qh%2F7O7j36%2FStJzICCNhg88Ggyulf15M%2BEQiazOC3Jx1FRCv9IYNV%2BKFEbwSKhCY&X-Amz-Signature=8365946640bc19b7dbcd73b180df5a7201812d97d952b4d562f41923fe4a9c50&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGDVN4PU%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJGMEQCIFHF%2F1OWe5Q9PUypdkjMV0DTPwvv%2BeUxNvMuERaeHtJ0AiBTp64QFIM5lwEDZkp5IhpCn0tPmnoNS5rum9t35gX6YCr%2FAwg6EAAaDDYzNzQyMzE4MzgwNSIMoR8TOV%2B5CT3NDlXyKtwDjDX8adYB4EMsMqrUwGoy1%2B2ugy4GNzj4dHzeRBXVIZiI3t6X7GX1y9V%2FdHkOBkOFLM0oULDezQC%2BF97%2FsE5cz59FWz7MojcfVKAO0aF%2F5qBiKLKVkoiPN60cKHbrIgpsQVtVcojAtwdUXi1QGLQc3ltYKHXEhv6t1I%2F6ZeqNOLTqmEF6Z0lnX1p12%2FghO0xcsdTP8PgJN%2BJWIlM8ITNZTDxEA4xTeTgWd1La5%2FFEWCdpfA0xunhkAU%2FPmUpLPR6UBVvSgilsp236kI12IWEuCizeTFIkC1LE5XH6eEYbHs7Hw8e6uWnxAL2KsCgw610V%2Fa3unEDclYgfLY1bljl9otrMBWlB6IrDTLlVw1mBFFhzElSSSGtHtN6L%2FyhFrep0h2kyCUrBcbynb2c2UB1%2BZnSVO9TKWBxV6lQTXVMBQlDMtQB4rwqcILncvqjQxX5wDYXke%2F5WsMVBhqAeHEQ%2FCpJZzPXCxe9U3%2FPZgL1%2FmBoGmm9mgb1y85a3aObKcJOhLVFuPrKARQA182qekvJIAJYe6tQjUI6agHK8kPuazGH6bL%2BS8OJSh3VdtCatKHw1RL2Yxguyp7SIMDy4VJW%2B5kc0bbKiduSmsCMzkjpqWw%2BCoRxXWmhnplj7toYw55PsygY6pgH21jzKJogknIsvn7zx9T269UTQFPCQD7TEX22jbT9DEEXPI0VH%2FhrXX90EnE6pvBUGo1C5FWQb3byjHEO1ntNtAOPT5bl1IuTMu3VlFY5U3Yt1gGgdpi59PXAsNmKX6BioAlmncc7203t6Rfy2LlP6rOwvwzQzw0x%2BRK9LtEbdO8YGRQ1bfWtL7qoXc47Gi5QBNbgGtIbJDPukva2Cbnc4rktWC5LA&X-Amz-Signature=e8f086c58c46b4bb444994eb20d8328ab8b3afd515b99fc6c6a705d335f17060&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGDVN4PU%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJGMEQCIFHF%2F1OWe5Q9PUypdkjMV0DTPwvv%2BeUxNvMuERaeHtJ0AiBTp64QFIM5lwEDZkp5IhpCn0tPmnoNS5rum9t35gX6YCr%2FAwg6EAAaDDYzNzQyMzE4MzgwNSIMoR8TOV%2B5CT3NDlXyKtwDjDX8adYB4EMsMqrUwGoy1%2B2ugy4GNzj4dHzeRBXVIZiI3t6X7GX1y9V%2FdHkOBkOFLM0oULDezQC%2BF97%2FsE5cz59FWz7MojcfVKAO0aF%2F5qBiKLKVkoiPN60cKHbrIgpsQVtVcojAtwdUXi1QGLQc3ltYKHXEhv6t1I%2F6ZeqNOLTqmEF6Z0lnX1p12%2FghO0xcsdTP8PgJN%2BJWIlM8ITNZTDxEA4xTeTgWd1La5%2FFEWCdpfA0xunhkAU%2FPmUpLPR6UBVvSgilsp236kI12IWEuCizeTFIkC1LE5XH6eEYbHs7Hw8e6uWnxAL2KsCgw610V%2Fa3unEDclYgfLY1bljl9otrMBWlB6IrDTLlVw1mBFFhzElSSSGtHtN6L%2FyhFrep0h2kyCUrBcbynb2c2UB1%2BZnSVO9TKWBxV6lQTXVMBQlDMtQB4rwqcILncvqjQxX5wDYXke%2F5WsMVBhqAeHEQ%2FCpJZzPXCxe9U3%2FPZgL1%2FmBoGmm9mgb1y85a3aObKcJOhLVFuPrKARQA182qekvJIAJYe6tQjUI6agHK8kPuazGH6bL%2BS8OJSh3VdtCatKHw1RL2Yxguyp7SIMDy4VJW%2B5kc0bbKiduSmsCMzkjpqWw%2BCoRxXWmhnplj7toYw55PsygY6pgH21jzKJogknIsvn7zx9T269UTQFPCQD7TEX22jbT9DEEXPI0VH%2FhrXX90EnE6pvBUGo1C5FWQb3byjHEO1ntNtAOPT5bl1IuTMu3VlFY5U3Yt1gGgdpi59PXAsNmKX6BioAlmncc7203t6Rfy2LlP6rOwvwzQzw0x%2BRK9LtEbdO8YGRQ1bfWtL7qoXc47Gi5QBNbgGtIbJDPukva2Cbnc4rktWC5LA&X-Amz-Signature=93b9f3fb0bee149aeff2e0942a310f09396bf949d38aeac1cda9e7287c920cba&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664E2BDIK3%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJHMEUCIGjli%2F3smStPPK89bi6Ll1VwcpCWBk6N8CnOlRuoOWObAiEA%2B5GpuNWQycs7pQ2RxAmkHsxwHx39oVFB4TRLZpKX%2Fuoq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDIk94j1dZyb55m3rDSrcA%2FHATM29XoRkLjEMEyYE6oVlC%2B024lkqzvDuWITXya7t2iiEnOnMim%2BETJf8Y9eArEdaGUE7dk%2BgpTi087XQBdKNefm6u%2Bv871KrrH3oMqlf1ogIHAvnr91LMswtejuQUJlhAnrB0Vzclcl77Nim%2BaWU%2F5bELG1zQqG8juUF7I0suLXIgnGPMZcRZ2JPYfazB47Kxhrir8OTDYUxe0HMrserf%2BKGJRtB0ZUyMEU137r4b6dLFjlaYEtN8oTfsr70cejD%2FcWu4LdyNdAuW0o8qiSMoVQ9wwtYaa511KYfguFXXzdbaHuWilAZyU08fFW40v6vE%2FKLYNsycF2q83%2BJs%2BoZJBoY4BGuSOU7fCmTkZpu1xiryX0Gwj6VaQ0EkqsNMUqyaPIZjmkm%2FhUl0GQoC6a8swkE7xejC9HWAK%2FpnVvQyUMyaz%2B1uSU0wJr3Ta1pk%2BxMLt3UhPDtb5tyWnbmkabtNdXnQe4vSJILIx%2FrnmkPU0bV4EBCbS2z%2FbMKvNoSU%2F3FjZzx1UKlDuV%2BbqxsqYUSF3BZO2URgan9otluU%2BF1%2FvsUTWZz2GbHm9ry99%2BsFSjaLWEqE40BCjBfj2G9UZIu%2F6sCNKXdjxok40uzNxkB6qE%2BSH8SqEtZLz9UMIOf7MoGOqUBnNfQjerIw3sE7PSHRwY5ovqirHaidFJu2YS%2BzKynLpFW9HsFFd8KfU%2Flyh5XydEgSUvk7gsmyyDCy2SeBZ1qYNXv7ByuuQ0dzIMyrhqAaxxrse%2FREP93ctJSYIXb3RlkCYauCPqJIWCIqxwXcBxxcuM7b9q9DWkLJMgMyccdW8W%2FMy9%2FRvX0mlTEl6Vc7QtCaSZtDcwgi0StSp12pBBuORpKy8yh&X-Amz-Signature=47a2330372f08f17fbee522b503024971e1093ef002f0df784ae692c8bd3c5a8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664E2BDIK3%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHEaCXVzLXdlc3QtMiJHMEUCIGjli%2F3smStPPK89bi6Ll1VwcpCWBk6N8CnOlRuoOWObAiEA%2B5GpuNWQycs7pQ2RxAmkHsxwHx39oVFB4TRLZpKX%2Fuoq%2FwMIOhAAGgw2Mzc0MjMxODM4MDUiDIk94j1dZyb55m3rDSrcA%2FHATM29XoRkLjEMEyYE6oVlC%2B024lkqzvDuWITXya7t2iiEnOnMim%2BETJf8Y9eArEdaGUE7dk%2BgpTi087XQBdKNefm6u%2Bv871KrrH3oMqlf1ogIHAvnr91LMswtejuQUJlhAnrB0Vzclcl77Nim%2BaWU%2F5bELG1zQqG8juUF7I0suLXIgnGPMZcRZ2JPYfazB47Kxhrir8OTDYUxe0HMrserf%2BKGJRtB0ZUyMEU137r4b6dLFjlaYEtN8oTfsr70cejD%2FcWu4LdyNdAuW0o8qiSMoVQ9wwtYaa511KYfguFXXzdbaHuWilAZyU08fFW40v6vE%2FKLYNsycF2q83%2BJs%2BoZJBoY4BGuSOU7fCmTkZpu1xiryX0Gwj6VaQ0EkqsNMUqyaPIZjmkm%2FhUl0GQoC6a8swkE7xejC9HWAK%2FpnVvQyUMyaz%2B1uSU0wJr3Ta1pk%2BxMLt3UhPDtb5tyWnbmkabtNdXnQe4vSJILIx%2FrnmkPU0bV4EBCbS2z%2FbMKvNoSU%2F3FjZzx1UKlDuV%2BbqxsqYUSF3BZO2URgan9otluU%2BF1%2FvsUTWZz2GbHm9ry99%2BsFSjaLWEqE40BCjBfj2G9UZIu%2F6sCNKXdjxok40uzNxkB6qE%2BSH8SqEtZLz9UMIOf7MoGOqUBnNfQjerIw3sE7PSHRwY5ovqirHaidFJu2YS%2BzKynLpFW9HsFFd8KfU%2Flyh5XydEgSUvk7gsmyyDCy2SeBZ1qYNXv7ByuuQ0dzIMyrhqAaxxrse%2FREP93ctJSYIXb3RlkCYauCPqJIWCIqxwXcBxxcuM7b9q9DWkLJMgMyccdW8W%2FMy9%2FRvX0mlTEl6Vc7QtCaSZtDcwgi0StSp12pBBuORpKy8yh&X-Amz-Signature=80e01a5d801e529f0b1646f9e3d074ddb9e237f2a5ba599a02e35a5e0dc77b17&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZAYDP5P3%2F20260105%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260105T042829Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHIaCXVzLXdlc3QtMiJGMEQCIChepT0lNLdebHcdV7hxA%2FhX5fhSC5rntGj8YSm%2F3UZWAiAJs2WszDivKRvPGfy6JgIRW0xbH1aFgkBrrKJYk%2BUiFir%2FAwg7EAAaDDYzNzQyMzE4MzgwNSIMNbdQ6zWBeAu7x0MPKtwDZxDocxIM171w%2Fvof0bjoypJJJn4d1CvF9pRGs6aJSoQVzbdcru8%2BFnM0r6mtIjRu08vydj3yJOhT3SaWNwF%2FY6GlMxijSk%2F%2FRA4KWTj98rN2dLIKg%2BinLcgEgF5DnF2xR3gaGnrjb5LFkur2H%2BTIdt4LWjDj5T5z2OLqQBmdBq6B%2FyyG1AUU61gCATh%2BDDDS2S2VvS9dSaTiG8ahY2Gz%2FS1%2FZc%2BHO691d3BMRtWrffbFkEziL2OZcV6rAypRddj7%2BRC%2BqonfacibB0n%2BoHTjAG08ISfBcsjG2lgg%2FGdLnpQxp27Jxem3QL%2FPVqhFhgytRtbznsZLG3opFqIbpNvn%2BD8VhTUhxYsXr5NFpPKWLtdHTuneZemH5g115da%2FYQYZzwCcaRQLnEX4dUWj%2BJJcR7x73dAv0fwtncRAlnS6ahF%2B9V%2F9l5C2jCrsGnl68ZBBzAepz2CYxWEVJfJZNeR0fuFLyygJBrsIMVA1aZiC%2BHG%2FQ5vZtRIMm%2BrV27zipw5A9z%2BEb24P1rSKxwPOWevVxrw%2FjZG3JvrjAVgyF7kMFtKeYLtDHWXu3%2B347eUQRZMICHQJsc1j0gZW5tcrS4uAf%2FJgDPNgxq7IRUp5UaBfrdrJbI2oH6iRLVWfNrgwnbrsygY6pgFXIr5%2FUF3PbUWWnZFd00iEU7xy%2Fq1HwLfV0GGRqIxnODzSroltUTwXX5gv123PmkJUTR45SHVwtBd7G44l%2FOdzPdKPWNW5qF3mDyMNqRnfliaRzT0TK%2Fp%2Bd%2Bl68D3Rs6PkwqZe4AZHWwQJyeqE1jZEOMeAKKgbmxE%2BTdFiChAqGyHIl2TXR5MfUuZg%2FkGf5GB29b6zVW669LWfLowmFZbCuo0rECXU&X-Amz-Signature=888aef5b3a84f707119636a971e8a531eb714c8a3f9cc2efcfafc2158e637985&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
