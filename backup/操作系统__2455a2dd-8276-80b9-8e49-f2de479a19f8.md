
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VQUEYXIU%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053322Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCNZL%2Fz4BbV2GCSGysTRZpjxocnunyN024%2FU4QpSDshJAIhAKozF1%2FON9h5hDqbbWwiM9KA1tBsEJ7stH1oParL%2BfjEKv8DCG4QABoMNjM3NDIzMTgzODA1IgzaXUtwU4LIMCd%2FREgq3APmiY%2FR8dvhhukD4gWAaVdfYUmaYXsK80EOQZn6zngke0EjFSUDoKxuzOKXhs8oIex%2BqZK5zmdgZlud%2FeX%2FXlVa7WfsKlUGeHWALFuO0EKARFEkle7swyntqfPUyZqpFBI3pEt6TQ0tW7WHts2%2FinIs6sn23MDxYcLYBfVkLZkkjnwbPVKJwepymM3lPDbnjpjwLcf1TU0TpHzHGqv7q18CbUeifrpup1k4ag07NVbpaniNKEVJsrHUUs%2FqKgkINCwHpV2QawRLC3eGmMkTLF7OruxHB3uB5bAi%2FjTjQaOFcEYfLXw2bsh%2BM%2Bq2NF1rbRMnzJJGXLY07rDqop%2FH3ZjpxZpC8ASgzNYUTmHpJW93MwUWRFBWbZe4pCd0hG0tyPwI7WJ3FYByks8Ios37ybXoC9FjFnsosXVV%2BxkagPKZYgDiHdjbPW70N6xJcGbXiPay2961%2F2%2Fzw18kxsOdWvr34IkLyEBKyufLC8Yqv4pD8R5llyP9bH9LovNjRnvkno0N3pM%2BKhJuAkcQKEhv0oBYHQyUa9nEnENEXjjDqsVF5WGB9i2Fg2XUOS7I4UEi6K7%2BGOKRlmYZyP2AoocIh1d%2FCSi0stmQlySOrOhRJRdOMfBJakJGKbuABH2KJzCV687JBjqkAUJdBHfMN8CMNPS%2BVduNJ1nZ7DZSUyzEtWzk4X9lD32CyNggeJkNWmipQ7okivd3h8%2FWvFm2nfVkA3ZXO5i5sKLht%2B8s93g9Ywq85gxycIS2Il12v1E3WOQQ%2BnRMunRC1GOK5zk5Xvp4S6qPJjMHYkMb%2Fz3tWBYhsVmf8VdNKPYFqjSHypckRkofsJzuS6hPpqbDdK2kwOLDEg9qyz3g1XjlFQbp&X-Amz-Signature=41ee2882fb9b9e8614237de70b56662b5b402e87a430f0ca890f21c7da35692d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VQUEYXIU%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053322Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCNZL%2Fz4BbV2GCSGysTRZpjxocnunyN024%2FU4QpSDshJAIhAKozF1%2FON9h5hDqbbWwiM9KA1tBsEJ7stH1oParL%2BfjEKv8DCG4QABoMNjM3NDIzMTgzODA1IgzaXUtwU4LIMCd%2FREgq3APmiY%2FR8dvhhukD4gWAaVdfYUmaYXsK80EOQZn6zngke0EjFSUDoKxuzOKXhs8oIex%2BqZK5zmdgZlud%2FeX%2FXlVa7WfsKlUGeHWALFuO0EKARFEkle7swyntqfPUyZqpFBI3pEt6TQ0tW7WHts2%2FinIs6sn23MDxYcLYBfVkLZkkjnwbPVKJwepymM3lPDbnjpjwLcf1TU0TpHzHGqv7q18CbUeifrpup1k4ag07NVbpaniNKEVJsrHUUs%2FqKgkINCwHpV2QawRLC3eGmMkTLF7OruxHB3uB5bAi%2FjTjQaOFcEYfLXw2bsh%2BM%2Bq2NF1rbRMnzJJGXLY07rDqop%2FH3ZjpxZpC8ASgzNYUTmHpJW93MwUWRFBWbZe4pCd0hG0tyPwI7WJ3FYByks8Ios37ybXoC9FjFnsosXVV%2BxkagPKZYgDiHdjbPW70N6xJcGbXiPay2961%2F2%2Fzw18kxsOdWvr34IkLyEBKyufLC8Yqv4pD8R5llyP9bH9LovNjRnvkno0N3pM%2BKhJuAkcQKEhv0oBYHQyUa9nEnENEXjjDqsVF5WGB9i2Fg2XUOS7I4UEi6K7%2BGOKRlmYZyP2AoocIh1d%2FCSi0stmQlySOrOhRJRdOMfBJakJGKbuABH2KJzCV687JBjqkAUJdBHfMN8CMNPS%2BVduNJ1nZ7DZSUyzEtWzk4X9lD32CyNggeJkNWmipQ7okivd3h8%2FWvFm2nfVkA3ZXO5i5sKLht%2B8s93g9Ywq85gxycIS2Il12v1E3WOQQ%2BnRMunRC1GOK5zk5Xvp4S6qPJjMHYkMb%2Fz3tWBYhsVmf8VdNKPYFqjSHypckRkofsJzuS6hPpqbDdK2kwOLDEg9qyz3g1XjlFQbp&X-Amz-Signature=ad3878b9500a4e1e24cd9a5e90d1dc4722a166cdf1b184ba9ed8e859130362f3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VQUEYXIU%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053322Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCNZL%2Fz4BbV2GCSGysTRZpjxocnunyN024%2FU4QpSDshJAIhAKozF1%2FON9h5hDqbbWwiM9KA1tBsEJ7stH1oParL%2BfjEKv8DCG4QABoMNjM3NDIzMTgzODA1IgzaXUtwU4LIMCd%2FREgq3APmiY%2FR8dvhhukD4gWAaVdfYUmaYXsK80EOQZn6zngke0EjFSUDoKxuzOKXhs8oIex%2BqZK5zmdgZlud%2FeX%2FXlVa7WfsKlUGeHWALFuO0EKARFEkle7swyntqfPUyZqpFBI3pEt6TQ0tW7WHts2%2FinIs6sn23MDxYcLYBfVkLZkkjnwbPVKJwepymM3lPDbnjpjwLcf1TU0TpHzHGqv7q18CbUeifrpup1k4ag07NVbpaniNKEVJsrHUUs%2FqKgkINCwHpV2QawRLC3eGmMkTLF7OruxHB3uB5bAi%2FjTjQaOFcEYfLXw2bsh%2BM%2Bq2NF1rbRMnzJJGXLY07rDqop%2FH3ZjpxZpC8ASgzNYUTmHpJW93MwUWRFBWbZe4pCd0hG0tyPwI7WJ3FYByks8Ios37ybXoC9FjFnsosXVV%2BxkagPKZYgDiHdjbPW70N6xJcGbXiPay2961%2F2%2Fzw18kxsOdWvr34IkLyEBKyufLC8Yqv4pD8R5llyP9bH9LovNjRnvkno0N3pM%2BKhJuAkcQKEhv0oBYHQyUa9nEnENEXjjDqsVF5WGB9i2Fg2XUOS7I4UEi6K7%2BGOKRlmYZyP2AoocIh1d%2FCSi0stmQlySOrOhRJRdOMfBJakJGKbuABH2KJzCV687JBjqkAUJdBHfMN8CMNPS%2BVduNJ1nZ7DZSUyzEtWzk4X9lD32CyNggeJkNWmipQ7okivd3h8%2FWvFm2nfVkA3ZXO5i5sKLht%2B8s93g9Ywq85gxycIS2Il12v1E3WOQQ%2BnRMunRC1GOK5zk5Xvp4S6qPJjMHYkMb%2Fz3tWBYhsVmf8VdNKPYFqjSHypckRkofsJzuS6hPpqbDdK2kwOLDEg9qyz3g1XjlFQbp&X-Amz-Signature=6b4e64fedd4572a2b6bea59ab4826f36a038b1d08a07a3944e8fa46e6c4b964c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QW2HZON7%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDZoq6YnMaedGA0ZjsUUxzIqncoDKFFbUTD71HuuYYOhwIhANerQO5zDVwjDpfbly7z6DxZwKQr3C65LdV2fpnEqHlJKv8DCG4QABoMNjM3NDIzMTgzODA1Igxv%2FJFslCQH5S0xFykq3APsq23j5IuBTpMh1xPBHNmBMtPeeSpAs3RHvj690qiL9oIameVpRU1gEo6kPlMx7DSXdcuS5x9nkR3%2BN5lj939ePUDKNvirYc%2BByyefj1UjUNhrradCycrbekBSS3rU5tlhhFL2R7Svs87Gl8VpLjzDm3KKFHKxr%2BWmwDJZv3TrpRd86loOsKFVirgKEppD79vLZBpobGKs3f%2FR6pJWS7McnCnssffCjYr2nc%2BJBngHiHz0ZAQyzfsXQnoZ658jX0rYdR0QxmVbRr%2BPrxDMoFp2D8XfN0rCx9mUNTZeXsA%2BMfIgMFt42a2n4biqPt6LuS1fpYy5vMoHQu3FFiSiXk1inEdwbod3iV5MBcjJwmZPbdxivOOvXOkI5X1h4QZ07UEclikZoRFI4QOyDxgJRDoLpQkwhwBeHG6mk%2BOQbWp%2FOBE%2B%2FunYOpqrcnUJBvxjC%2Bl5LyyiDLvOMTjE7RVsmjJMerJpW%2BRkPL6jhR2Z4YkmxaNipkhUMAP8QkJENUtyGM57L5Uex4xg33NxPcjC5SryqVbJWbAbQQvPIRo3zCOJrXRd8p3nyOVsAM8IS3DW1auMSrg8v2pAfrk4oG1P28RQVIkmQUoY1SjuoCElZswewgz%2Brp9QJ%2FxJo9yNKDCW687JBjqkAXJNBmevcuAAl%2F2CvTBFQ99kgokHqbwDWt%2BlPUaMxA411rhHAQyJI%2BHyDTGD6KZxg5NYbA6nyZlzFCsG9StFoD%2FI1HeAWFWC1g2Dp4b1cbZaT8EBAAU%2Fh0FMuwFpUXtr8Di7nPVpV%2Br3CDIX4z3CYXRcvYzeH1IBcewyz%2BOkce8vd6D%2FmEy%2FWff%2FCO3EDLs8s4Rkm%2BGhQR1a%2Ft%2FRjuqX1mtEvewU&X-Amz-Signature=f7a611eb05c4d6dd7b901bbce25296d6b5c850a8ad5a46668aaa09e88aec1c44&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QW2HZON7%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDZoq6YnMaedGA0ZjsUUxzIqncoDKFFbUTD71HuuYYOhwIhANerQO5zDVwjDpfbly7z6DxZwKQr3C65LdV2fpnEqHlJKv8DCG4QABoMNjM3NDIzMTgzODA1Igxv%2FJFslCQH5S0xFykq3APsq23j5IuBTpMh1xPBHNmBMtPeeSpAs3RHvj690qiL9oIameVpRU1gEo6kPlMx7DSXdcuS5x9nkR3%2BN5lj939ePUDKNvirYc%2BByyefj1UjUNhrradCycrbekBSS3rU5tlhhFL2R7Svs87Gl8VpLjzDm3KKFHKxr%2BWmwDJZv3TrpRd86loOsKFVirgKEppD79vLZBpobGKs3f%2FR6pJWS7McnCnssffCjYr2nc%2BJBngHiHz0ZAQyzfsXQnoZ658jX0rYdR0QxmVbRr%2BPrxDMoFp2D8XfN0rCx9mUNTZeXsA%2BMfIgMFt42a2n4biqPt6LuS1fpYy5vMoHQu3FFiSiXk1inEdwbod3iV5MBcjJwmZPbdxivOOvXOkI5X1h4QZ07UEclikZoRFI4QOyDxgJRDoLpQkwhwBeHG6mk%2BOQbWp%2FOBE%2B%2FunYOpqrcnUJBvxjC%2Bl5LyyiDLvOMTjE7RVsmjJMerJpW%2BRkPL6jhR2Z4YkmxaNipkhUMAP8QkJENUtyGM57L5Uex4xg33NxPcjC5SryqVbJWbAbQQvPIRo3zCOJrXRd8p3nyOVsAM8IS3DW1auMSrg8v2pAfrk4oG1P28RQVIkmQUoY1SjuoCElZswewgz%2Brp9QJ%2FxJo9yNKDCW687JBjqkAXJNBmevcuAAl%2F2CvTBFQ99kgokHqbwDWt%2BlPUaMxA411rhHAQyJI%2BHyDTGD6KZxg5NYbA6nyZlzFCsG9StFoD%2FI1HeAWFWC1g2Dp4b1cbZaT8EBAAU%2Fh0FMuwFpUXtr8Di7nPVpV%2Br3CDIX4z3CYXRcvYzeH1IBcewyz%2BOkce8vd6D%2FmEy%2FWff%2FCO3EDLs8s4Rkm%2BGhQR1a%2Ft%2FRjuqX1mtEvewU&X-Amz-Signature=e4ddd5c3a58337c41423ce7f3a172ae2c86778082f8b782a05f560c896077fc5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QW2HZON7%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDZoq6YnMaedGA0ZjsUUxzIqncoDKFFbUTD71HuuYYOhwIhANerQO5zDVwjDpfbly7z6DxZwKQr3C65LdV2fpnEqHlJKv8DCG4QABoMNjM3NDIzMTgzODA1Igxv%2FJFslCQH5S0xFykq3APsq23j5IuBTpMh1xPBHNmBMtPeeSpAs3RHvj690qiL9oIameVpRU1gEo6kPlMx7DSXdcuS5x9nkR3%2BN5lj939ePUDKNvirYc%2BByyefj1UjUNhrradCycrbekBSS3rU5tlhhFL2R7Svs87Gl8VpLjzDm3KKFHKxr%2BWmwDJZv3TrpRd86loOsKFVirgKEppD79vLZBpobGKs3f%2FR6pJWS7McnCnssffCjYr2nc%2BJBngHiHz0ZAQyzfsXQnoZ658jX0rYdR0QxmVbRr%2BPrxDMoFp2D8XfN0rCx9mUNTZeXsA%2BMfIgMFt42a2n4biqPt6LuS1fpYy5vMoHQu3FFiSiXk1inEdwbod3iV5MBcjJwmZPbdxivOOvXOkI5X1h4QZ07UEclikZoRFI4QOyDxgJRDoLpQkwhwBeHG6mk%2BOQbWp%2FOBE%2B%2FunYOpqrcnUJBvxjC%2Bl5LyyiDLvOMTjE7RVsmjJMerJpW%2BRkPL6jhR2Z4YkmxaNipkhUMAP8QkJENUtyGM57L5Uex4xg33NxPcjC5SryqVbJWbAbQQvPIRo3zCOJrXRd8p3nyOVsAM8IS3DW1auMSrg8v2pAfrk4oG1P28RQVIkmQUoY1SjuoCElZswewgz%2Brp9QJ%2FxJo9yNKDCW687JBjqkAXJNBmevcuAAl%2F2CvTBFQ99kgokHqbwDWt%2BlPUaMxA411rhHAQyJI%2BHyDTGD6KZxg5NYbA6nyZlzFCsG9StFoD%2FI1HeAWFWC1g2Dp4b1cbZaT8EBAAU%2Fh0FMuwFpUXtr8Di7nPVpV%2Br3CDIX4z3CYXRcvYzeH1IBcewyz%2BOkce8vd6D%2FmEy%2FWff%2FCO3EDLs8s4Rkm%2BGhQR1a%2Ft%2FRjuqX1mtEvewU&X-Amz-Signature=215e57f4e96848dcc3fb00697e832843cd2b1052c2d543fe5497ae62720c8789&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMTINVE4%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAmX8eHmGam2%2BGi9Dpj%2FrlttSQ5MpglsvcRkq%2BLBKCCcAiEAy8Voqp2oeNMWeLUtq87%2BPaZTJr3JdbEsyLmCgIbCZQ8q%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDCLhKvWfTtIdEX6j%2BircAzKe%2FDNEPnMzWafNTgfmLLFRh0mhfbVcMsI0x8DRFSjJKw%2F2iQNwVQ5neTdzMcYTHjNy1G1813f3L%2BXhw8F3ErEHfhkgi3M1nd%2FhA7egKqXqWoGyX3VWJByz0w3O%2FUdte%2BgG93koGhnXQ03Gwi9We8fJVeYfT9cvZssw%2BaMucibGVoerJOTk2Exm4ORvDrTAPlZAL3hz1x34p1G8ksXjpOmHbPMd8ozw%2BbZdOGTTzGWi6MRkiRV6qI6bENnUV3cUz6SW6cISyI33jXr2CPNCmBySo8WXqbPOCBCJ10T5sHSKocecZYiNQp6azhUm4mB2Es0IDAnJO1FrdwC8llUabRFTKNK5Ngwl589XdI11VHlhly7s%2FX1KGVUJGz1lHHvWU2MkD1I4HPVt%2F0kEiQkbonfBPMfK0aLv3Ugc34NiSdqZUvy%2B4LOum%2BI9t%2BKdBkNYPaCTIFSGkteVC0Wwj8XjIwqsUcM%2FYycL4CMET7Ibt%2BFgrniSdHTzSprK4Bk80p1BxnAxctClcZ%2BYRCcLwD3teI2I%2F5tEcY9Wh5ZFK0DMlxZ8qi8717jhKooFDktd9TV9V0Zw1wTwgel6gz%2B%2Fyp8k5TOuNzwCz1YKQNCNN2m1WXSUxSc9hRelBd6oNVdMMOPrzskGOqUBaL4PeKGE%2Fh%2FF%2FKSDyLZ9ljt%2FvTpq7N051gMKIoIbklNBjuKAkvPdjbf%2B1YRqOaNf4pn4uWZg%2Fv9X1A%2BmxZVzdCP%2BMZ8JL75wfluY4roR1zoX7jxYC32JpPrwEWbg2r%2BjaKNu0V2JvrphY7O3ewIMiF22awnbBIyqrpQKbhgpCRAe5MJhzdbpuS42%2B3EnnW3zIrIfpt7UI4fvxJ2yt5rpZOO6tlHd&X-Amz-Signature=765e5a32211f2e9153fb4b5d35aaf3b4886a93cd6e3c12dabac85499e7a26757&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMTINVE4%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAmX8eHmGam2%2BGi9Dpj%2FrlttSQ5MpglsvcRkq%2BLBKCCcAiEAy8Voqp2oeNMWeLUtq87%2BPaZTJr3JdbEsyLmCgIbCZQ8q%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDCLhKvWfTtIdEX6j%2BircAzKe%2FDNEPnMzWafNTgfmLLFRh0mhfbVcMsI0x8DRFSjJKw%2F2iQNwVQ5neTdzMcYTHjNy1G1813f3L%2BXhw8F3ErEHfhkgi3M1nd%2FhA7egKqXqWoGyX3VWJByz0w3O%2FUdte%2BgG93koGhnXQ03Gwi9We8fJVeYfT9cvZssw%2BaMucibGVoerJOTk2Exm4ORvDrTAPlZAL3hz1x34p1G8ksXjpOmHbPMd8ozw%2BbZdOGTTzGWi6MRkiRV6qI6bENnUV3cUz6SW6cISyI33jXr2CPNCmBySo8WXqbPOCBCJ10T5sHSKocecZYiNQp6azhUm4mB2Es0IDAnJO1FrdwC8llUabRFTKNK5Ngwl589XdI11VHlhly7s%2FX1KGVUJGz1lHHvWU2MkD1I4HPVt%2F0kEiQkbonfBPMfK0aLv3Ugc34NiSdqZUvy%2B4LOum%2BI9t%2BKdBkNYPaCTIFSGkteVC0Wwj8XjIwqsUcM%2FYycL4CMET7Ibt%2BFgrniSdHTzSprK4Bk80p1BxnAxctClcZ%2BYRCcLwD3teI2I%2F5tEcY9Wh5ZFK0DMlxZ8qi8717jhKooFDktd9TV9V0Zw1wTwgel6gz%2B%2Fyp8k5TOuNzwCz1YKQNCNN2m1WXSUxSc9hRelBd6oNVdMMOPrzskGOqUBaL4PeKGE%2Fh%2FF%2FKSDyLZ9ljt%2FvTpq7N051gMKIoIbklNBjuKAkvPdjbf%2B1YRqOaNf4pn4uWZg%2Fv9X1A%2BmxZVzdCP%2BMZ8JL75wfluY4roR1zoX7jxYC32JpPrwEWbg2r%2BjaKNu0V2JvrphY7O3ewIMiF22awnbBIyqrpQKbhgpCRAe5MJhzdbpuS42%2B3EnnW3zIrIfpt7UI4fvxJ2yt5rpZOO6tlHd&X-Amz-Signature=db033e3ef058f382528ddb2ef0dae3c847c72db7c63b39be435b79c84c67871f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMTINVE4%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAmX8eHmGam2%2BGi9Dpj%2FrlttSQ5MpglsvcRkq%2BLBKCCcAiEAy8Voqp2oeNMWeLUtq87%2BPaZTJr3JdbEsyLmCgIbCZQ8q%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDCLhKvWfTtIdEX6j%2BircAzKe%2FDNEPnMzWafNTgfmLLFRh0mhfbVcMsI0x8DRFSjJKw%2F2iQNwVQ5neTdzMcYTHjNy1G1813f3L%2BXhw8F3ErEHfhkgi3M1nd%2FhA7egKqXqWoGyX3VWJByz0w3O%2FUdte%2BgG93koGhnXQ03Gwi9We8fJVeYfT9cvZssw%2BaMucibGVoerJOTk2Exm4ORvDrTAPlZAL3hz1x34p1G8ksXjpOmHbPMd8ozw%2BbZdOGTTzGWi6MRkiRV6qI6bENnUV3cUz6SW6cISyI33jXr2CPNCmBySo8WXqbPOCBCJ10T5sHSKocecZYiNQp6azhUm4mB2Es0IDAnJO1FrdwC8llUabRFTKNK5Ngwl589XdI11VHlhly7s%2FX1KGVUJGz1lHHvWU2MkD1I4HPVt%2F0kEiQkbonfBPMfK0aLv3Ugc34NiSdqZUvy%2B4LOum%2BI9t%2BKdBkNYPaCTIFSGkteVC0Wwj8XjIwqsUcM%2FYycL4CMET7Ibt%2BFgrniSdHTzSprK4Bk80p1BxnAxctClcZ%2BYRCcLwD3teI2I%2F5tEcY9Wh5ZFK0DMlxZ8qi8717jhKooFDktd9TV9V0Zw1wTwgel6gz%2B%2Fyp8k5TOuNzwCz1YKQNCNN2m1WXSUxSc9hRelBd6oNVdMMOPrzskGOqUBaL4PeKGE%2Fh%2FF%2FKSDyLZ9ljt%2FvTpq7N051gMKIoIbklNBjuKAkvPdjbf%2B1YRqOaNf4pn4uWZg%2Fv9X1A%2BmxZVzdCP%2BMZ8JL75wfluY4roR1zoX7jxYC32JpPrwEWbg2r%2BjaKNu0V2JvrphY7O3ewIMiF22awnbBIyqrpQKbhgpCRAe5MJhzdbpuS42%2B3EnnW3zIrIfpt7UI4fvxJ2yt5rpZOO6tlHd&X-Amz-Signature=db601e1a39672d93dbdbc5df884a1f0c47fea742f369b43ca0d5147108ec400e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMTINVE4%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAmX8eHmGam2%2BGi9Dpj%2FrlttSQ5MpglsvcRkq%2BLBKCCcAiEAy8Voqp2oeNMWeLUtq87%2BPaZTJr3JdbEsyLmCgIbCZQ8q%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDCLhKvWfTtIdEX6j%2BircAzKe%2FDNEPnMzWafNTgfmLLFRh0mhfbVcMsI0x8DRFSjJKw%2F2iQNwVQ5neTdzMcYTHjNy1G1813f3L%2BXhw8F3ErEHfhkgi3M1nd%2FhA7egKqXqWoGyX3VWJByz0w3O%2FUdte%2BgG93koGhnXQ03Gwi9We8fJVeYfT9cvZssw%2BaMucibGVoerJOTk2Exm4ORvDrTAPlZAL3hz1x34p1G8ksXjpOmHbPMd8ozw%2BbZdOGTTzGWi6MRkiRV6qI6bENnUV3cUz6SW6cISyI33jXr2CPNCmBySo8WXqbPOCBCJ10T5sHSKocecZYiNQp6azhUm4mB2Es0IDAnJO1FrdwC8llUabRFTKNK5Ngwl589XdI11VHlhly7s%2FX1KGVUJGz1lHHvWU2MkD1I4HPVt%2F0kEiQkbonfBPMfK0aLv3Ugc34NiSdqZUvy%2B4LOum%2BI9t%2BKdBkNYPaCTIFSGkteVC0Wwj8XjIwqsUcM%2FYycL4CMET7Ibt%2BFgrniSdHTzSprK4Bk80p1BxnAxctClcZ%2BYRCcLwD3teI2I%2F5tEcY9Wh5ZFK0DMlxZ8qi8717jhKooFDktd9TV9V0Zw1wTwgel6gz%2B%2Fyp8k5TOuNzwCz1YKQNCNN2m1WXSUxSc9hRelBd6oNVdMMOPrzskGOqUBaL4PeKGE%2Fh%2FF%2FKSDyLZ9ljt%2FvTpq7N051gMKIoIbklNBjuKAkvPdjbf%2B1YRqOaNf4pn4uWZg%2Fv9X1A%2BmxZVzdCP%2BMZ8JL75wfluY4roR1zoX7jxYC32JpPrwEWbg2r%2BjaKNu0V2JvrphY7O3ewIMiF22awnbBIyqrpQKbhgpCRAe5MJhzdbpuS42%2B3EnnW3zIrIfpt7UI4fvxJ2yt5rpZOO6tlHd&X-Amz-Signature=6548ba7fae29793f7b9d3ae73cb09a0d35ab65ad32a742c5f6bb02f2e4f54fa4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466URPES2TH%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDPiGIo6kxD%2FBhdbmcfKV0Pkzr4X8FWp0rXRaRq%2BaKqhgIgAYHTQdnQ6pUmk2FoPxZyYdZf9xDNVq1nZYehfBEhpXUq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDHx9wWYuRPKkrDVVzyrcAwdOvQxsyA0ZxA3n6XbCJtyWH%2F4vfwvifRl73V4c4m03eZhYZ4imCLHjAOVuVbHkxGSgPdz8yULCowx%2FgmutPvyTdcR%2B%2FxyCI%2Frn0JO2J9gmV0r%2BZ88hZg8v%2BOtwMF5l2A12kXsUiPOfFYuD10yFmMNaT%2FBH6owJd8fdFC7GpBtFgZTlV1uPUkvT0UZcB86kHiprFF7izLsmtvHj44%2BDO5ibv55gZWDhVPpvK%2FaI1JmuOUwozGnFs9blHyDJI9AwNZ4kNsd%2BSPi0944rbwHIWGmYl1GAoR4MKLzSx9%2BCeVXJkExQHJ9Pe8XFrmzK6xjldtx%2B27OWxA1NJOEUxXq7ULu1PoVhLQ%2BnKPrZPocIR149I%2BIzOENiZyXydYZOkKdfdgegLR1CaSl9qAxJzKoRISwzHDNWo6l4cgYIADjmJmaJpxYK7kzKq6%2FZaB2pcQpAWqDvtNnNCaLTcciheF5bbQAi0gcKYBwk%2BUaI4nlYC%2FmqZRqykooOImPX%2FClg3lYpBp6zf6otGwOQZQzBv%2Bc3fC126GvCotl9MoC%2F65Q4zawUuDx2ilMf%2FYKzCV96CeBRNS7Eg5v1KtwqT1HcsKUBvC2p46bWpseLUIUw36cggoyMCA%2Fxw1v6MYkTqCLPMMDrzskGOqUBxOEJC8rjYjqhtpfzxU3sFHd9DEyPaP4F5X1xvh6tvuG782mwdKQZnxI5KBpu7FLBfQGIR9QmVaTBPwphy%2BTEHshIaaJLQGV5pO0xY4oxhGFkx3UiABAi8B1Wv9NWC2y6PiRm7rHlA1GQPid4V4PwZRxZ8nb6WIfC6nZuxzLz2dUxSbmL3mxQ7ETYFOXjghxdH3MPCsMb3weUhn%2FnWJp1JEqEnsNV&X-Amz-Signature=2f0448dea383341e625c20f5ef51a6c5db1a5249a0e326fdf055520de4ae5746&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466URPES2TH%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDPiGIo6kxD%2FBhdbmcfKV0Pkzr4X8FWp0rXRaRq%2BaKqhgIgAYHTQdnQ6pUmk2FoPxZyYdZf9xDNVq1nZYehfBEhpXUq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDHx9wWYuRPKkrDVVzyrcAwdOvQxsyA0ZxA3n6XbCJtyWH%2F4vfwvifRl73V4c4m03eZhYZ4imCLHjAOVuVbHkxGSgPdz8yULCowx%2FgmutPvyTdcR%2B%2FxyCI%2Frn0JO2J9gmV0r%2BZ88hZg8v%2BOtwMF5l2A12kXsUiPOfFYuD10yFmMNaT%2FBH6owJd8fdFC7GpBtFgZTlV1uPUkvT0UZcB86kHiprFF7izLsmtvHj44%2BDO5ibv55gZWDhVPpvK%2FaI1JmuOUwozGnFs9blHyDJI9AwNZ4kNsd%2BSPi0944rbwHIWGmYl1GAoR4MKLzSx9%2BCeVXJkExQHJ9Pe8XFrmzK6xjldtx%2B27OWxA1NJOEUxXq7ULu1PoVhLQ%2BnKPrZPocIR149I%2BIzOENiZyXydYZOkKdfdgegLR1CaSl9qAxJzKoRISwzHDNWo6l4cgYIADjmJmaJpxYK7kzKq6%2FZaB2pcQpAWqDvtNnNCaLTcciheF5bbQAi0gcKYBwk%2BUaI4nlYC%2FmqZRqykooOImPX%2FClg3lYpBp6zf6otGwOQZQzBv%2Bc3fC126GvCotl9MoC%2F65Q4zawUuDx2ilMf%2FYKzCV96CeBRNS7Eg5v1KtwqT1HcsKUBvC2p46bWpseLUIUw36cggoyMCA%2Fxw1v6MYkTqCLPMMDrzskGOqUBxOEJC8rjYjqhtpfzxU3sFHd9DEyPaP4F5X1xvh6tvuG782mwdKQZnxI5KBpu7FLBfQGIR9QmVaTBPwphy%2BTEHshIaaJLQGV5pO0xY4oxhGFkx3UiABAi8B1Wv9NWC2y6PiRm7rHlA1GQPid4V4PwZRxZ8nb6WIfC6nZuxzLz2dUxSbmL3mxQ7ETYFOXjghxdH3MPCsMb3weUhn%2FnWJp1JEqEnsNV&X-Amz-Signature=c1d9bd5ef791086ea042982c0075358eda8a2d43ec580cba28201908c68db49b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466URPES2TH%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDPiGIo6kxD%2FBhdbmcfKV0Pkzr4X8FWp0rXRaRq%2BaKqhgIgAYHTQdnQ6pUmk2FoPxZyYdZf9xDNVq1nZYehfBEhpXUq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDHx9wWYuRPKkrDVVzyrcAwdOvQxsyA0ZxA3n6XbCJtyWH%2F4vfwvifRl73V4c4m03eZhYZ4imCLHjAOVuVbHkxGSgPdz8yULCowx%2FgmutPvyTdcR%2B%2FxyCI%2Frn0JO2J9gmV0r%2BZ88hZg8v%2BOtwMF5l2A12kXsUiPOfFYuD10yFmMNaT%2FBH6owJd8fdFC7GpBtFgZTlV1uPUkvT0UZcB86kHiprFF7izLsmtvHj44%2BDO5ibv55gZWDhVPpvK%2FaI1JmuOUwozGnFs9blHyDJI9AwNZ4kNsd%2BSPi0944rbwHIWGmYl1GAoR4MKLzSx9%2BCeVXJkExQHJ9Pe8XFrmzK6xjldtx%2B27OWxA1NJOEUxXq7ULu1PoVhLQ%2BnKPrZPocIR149I%2BIzOENiZyXydYZOkKdfdgegLR1CaSl9qAxJzKoRISwzHDNWo6l4cgYIADjmJmaJpxYK7kzKq6%2FZaB2pcQpAWqDvtNnNCaLTcciheF5bbQAi0gcKYBwk%2BUaI4nlYC%2FmqZRqykooOImPX%2FClg3lYpBp6zf6otGwOQZQzBv%2Bc3fC126GvCotl9MoC%2F65Q4zawUuDx2ilMf%2FYKzCV96CeBRNS7Eg5v1KtwqT1HcsKUBvC2p46bWpseLUIUw36cggoyMCA%2Fxw1v6MYkTqCLPMMDrzskGOqUBxOEJC8rjYjqhtpfzxU3sFHd9DEyPaP4F5X1xvh6tvuG782mwdKQZnxI5KBpu7FLBfQGIR9QmVaTBPwphy%2BTEHshIaaJLQGV5pO0xY4oxhGFkx3UiABAi8B1Wv9NWC2y6PiRm7rHlA1GQPid4V4PwZRxZ8nb6WIfC6nZuxzLz2dUxSbmL3mxQ7ETYFOXjghxdH3MPCsMb3weUhn%2FnWJp1JEqEnsNV&X-Amz-Signature=1c62b9e35f489e859ae9df40eb4de3b7dd0eec8d0c8cc0ad616c832159073d50&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466URPES2TH%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDPiGIo6kxD%2FBhdbmcfKV0Pkzr4X8FWp0rXRaRq%2BaKqhgIgAYHTQdnQ6pUmk2FoPxZyYdZf9xDNVq1nZYehfBEhpXUq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDHx9wWYuRPKkrDVVzyrcAwdOvQxsyA0ZxA3n6XbCJtyWH%2F4vfwvifRl73V4c4m03eZhYZ4imCLHjAOVuVbHkxGSgPdz8yULCowx%2FgmutPvyTdcR%2B%2FxyCI%2Frn0JO2J9gmV0r%2BZ88hZg8v%2BOtwMF5l2A12kXsUiPOfFYuD10yFmMNaT%2FBH6owJd8fdFC7GpBtFgZTlV1uPUkvT0UZcB86kHiprFF7izLsmtvHj44%2BDO5ibv55gZWDhVPpvK%2FaI1JmuOUwozGnFs9blHyDJI9AwNZ4kNsd%2BSPi0944rbwHIWGmYl1GAoR4MKLzSx9%2BCeVXJkExQHJ9Pe8XFrmzK6xjldtx%2B27OWxA1NJOEUxXq7ULu1PoVhLQ%2BnKPrZPocIR149I%2BIzOENiZyXydYZOkKdfdgegLR1CaSl9qAxJzKoRISwzHDNWo6l4cgYIADjmJmaJpxYK7kzKq6%2FZaB2pcQpAWqDvtNnNCaLTcciheF5bbQAi0gcKYBwk%2BUaI4nlYC%2FmqZRqykooOImPX%2FClg3lYpBp6zf6otGwOQZQzBv%2Bc3fC126GvCotl9MoC%2F65Q4zawUuDx2ilMf%2FYKzCV96CeBRNS7Eg5v1KtwqT1HcsKUBvC2p46bWpseLUIUw36cggoyMCA%2Fxw1v6MYkTqCLPMMDrzskGOqUBxOEJC8rjYjqhtpfzxU3sFHd9DEyPaP4F5X1xvh6tvuG782mwdKQZnxI5KBpu7FLBfQGIR9QmVaTBPwphy%2BTEHshIaaJLQGV5pO0xY4oxhGFkx3UiABAi8B1Wv9NWC2y6PiRm7rHlA1GQPid4V4PwZRxZ8nb6WIfC6nZuxzLz2dUxSbmL3mxQ7ETYFOXjghxdH3MPCsMb3weUhn%2FnWJp1JEqEnsNV&X-Amz-Signature=7ae661f87de9531a7a1c22ec6e6d2a8776f6fd17c1e0b84029ec0b89cb8a7d2e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46626N4XTGF%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICWtXwxPlO%2BD7kKomfjWHaTO7GgrkyqGf7DWhstHPMaPAiBX0067vlwtLvXNTBPCIg%2BQRrKNkOdyAy8VJxRC1mxm1yr%2FAwhuEAAaDDYzNzQyMzE4MzgwNSIMVsh7D0TQVYC9wkELKtwD2BZXToSTN0XO3sFzhsQYmHnDbJo3KkBvXBjfRBm3ri2xL95Gb7ZNbHb6DKrfHh06K7d4cRRJ2ewIemsbaVuY%2B8As6Y9%2BpCaX62ISHfnpSaKpWIf%2F5gofkj4T7d4MZCyBLyGwvERbR8OHD%2FX6V85dYHNVuRcVxag9%2FUFfY9TqHObIq7fkqDRRHtXnDJZWsOdZ8EjGPciBvbGbfQUjTe2thNivpOWCE7NsCOuyqH9GMzbn6wTNTrZTZjlXWVMOfN8N%2FVU0Io9haoaiw0%2BKt2HbVb5f128e0O%2BtMhIv1Z%2FhCGULyUr9uh81LMesXvDWUo8Y25mY3nUBsuS8uCgseFhDw%2FHuhlbhdXzGElGutrzKkJr4qKy%2F5B45ySDza1v%2F0RwMqyLh952JqVH%2BCiJVx%2FGC9dOtah2EnSVTB9HM9acPfMIQ%2F8e%2B6tTV3M0gFdLYZpfjwQN%2BFCJhXrqudyBX0VnDRwxAhICjCouwUqgObeAs1zOT8rAzozR1a5j3ylcxAQyAM3AE78kM8XmqLPXTViFhoGsk1PZnvKKR3rRaKVMIRDeV0c9YkWQrk6g7VK0mn0XllkGD4V4%2B68JQGoN%2BHUdXMdjSPWOMjY9l1x38uV9f2Mkea1P50zwCdTlrjRswhezOyQY6pgGw195mZwimsh0WUaxv7Whx9Qd9Ucdzzh6TuCUDjL2Pd2y%2Fuv%2Fj8GRaLZSMy8O38f5Ja0n3eZkrAMlI%2FJ%2BPLGfY0Sn%2Fo8a%2BSuCIwicOmeIkL9umdjRIckptQ1XoQekesRtL%2FWi6WaOq6gN9f3Yqa7teaT547AkiwBZ2WK3LaqweRVNfxZpdekmGTT4V7HQNp9OeM%2BK1ocbM4lLVSizlaebWW2Hjz2GC&X-Amz-Signature=a47db7087f1134e54b0d6c0806e8d583295c3cf8d371b2ceabb09ff13358f901&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46626N4XTGF%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICWtXwxPlO%2BD7kKomfjWHaTO7GgrkyqGf7DWhstHPMaPAiBX0067vlwtLvXNTBPCIg%2BQRrKNkOdyAy8VJxRC1mxm1yr%2FAwhuEAAaDDYzNzQyMzE4MzgwNSIMVsh7D0TQVYC9wkELKtwD2BZXToSTN0XO3sFzhsQYmHnDbJo3KkBvXBjfRBm3ri2xL95Gb7ZNbHb6DKrfHh06K7d4cRRJ2ewIemsbaVuY%2B8As6Y9%2BpCaX62ISHfnpSaKpWIf%2F5gofkj4T7d4MZCyBLyGwvERbR8OHD%2FX6V85dYHNVuRcVxag9%2FUFfY9TqHObIq7fkqDRRHtXnDJZWsOdZ8EjGPciBvbGbfQUjTe2thNivpOWCE7NsCOuyqH9GMzbn6wTNTrZTZjlXWVMOfN8N%2FVU0Io9haoaiw0%2BKt2HbVb5f128e0O%2BtMhIv1Z%2FhCGULyUr9uh81LMesXvDWUo8Y25mY3nUBsuS8uCgseFhDw%2FHuhlbhdXzGElGutrzKkJr4qKy%2F5B45ySDza1v%2F0RwMqyLh952JqVH%2BCiJVx%2FGC9dOtah2EnSVTB9HM9acPfMIQ%2F8e%2B6tTV3M0gFdLYZpfjwQN%2BFCJhXrqudyBX0VnDRwxAhICjCouwUqgObeAs1zOT8rAzozR1a5j3ylcxAQyAM3AE78kM8XmqLPXTViFhoGsk1PZnvKKR3rRaKVMIRDeV0c9YkWQrk6g7VK0mn0XllkGD4V4%2B68JQGoN%2BHUdXMdjSPWOMjY9l1x38uV9f2Mkea1P50zwCdTlrjRswhezOyQY6pgGw195mZwimsh0WUaxv7Whx9Qd9Ucdzzh6TuCUDjL2Pd2y%2Fuv%2Fj8GRaLZSMy8O38f5Ja0n3eZkrAMlI%2FJ%2BPLGfY0Sn%2Fo8a%2BSuCIwicOmeIkL9umdjRIckptQ1XoQekesRtL%2FWi6WaOq6gN9f3Yqa7teaT547AkiwBZ2WK3LaqweRVNfxZpdekmGTT4V7HQNp9OeM%2BK1ocbM4lLVSizlaebWW2Hjz2GC&X-Amz-Signature=bd750fb279080d9680435dd9f63ae05a41167ea32c5b88497193670b78133c3e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46626N4XTGF%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICWtXwxPlO%2BD7kKomfjWHaTO7GgrkyqGf7DWhstHPMaPAiBX0067vlwtLvXNTBPCIg%2BQRrKNkOdyAy8VJxRC1mxm1yr%2FAwhuEAAaDDYzNzQyMzE4MzgwNSIMVsh7D0TQVYC9wkELKtwD2BZXToSTN0XO3sFzhsQYmHnDbJo3KkBvXBjfRBm3ri2xL95Gb7ZNbHb6DKrfHh06K7d4cRRJ2ewIemsbaVuY%2B8As6Y9%2BpCaX62ISHfnpSaKpWIf%2F5gofkj4T7d4MZCyBLyGwvERbR8OHD%2FX6V85dYHNVuRcVxag9%2FUFfY9TqHObIq7fkqDRRHtXnDJZWsOdZ8EjGPciBvbGbfQUjTe2thNivpOWCE7NsCOuyqH9GMzbn6wTNTrZTZjlXWVMOfN8N%2FVU0Io9haoaiw0%2BKt2HbVb5f128e0O%2BtMhIv1Z%2FhCGULyUr9uh81LMesXvDWUo8Y25mY3nUBsuS8uCgseFhDw%2FHuhlbhdXzGElGutrzKkJr4qKy%2F5B45ySDza1v%2F0RwMqyLh952JqVH%2BCiJVx%2FGC9dOtah2EnSVTB9HM9acPfMIQ%2F8e%2B6tTV3M0gFdLYZpfjwQN%2BFCJhXrqudyBX0VnDRwxAhICjCouwUqgObeAs1zOT8rAzozR1a5j3ylcxAQyAM3AE78kM8XmqLPXTViFhoGsk1PZnvKKR3rRaKVMIRDeV0c9YkWQrk6g7VK0mn0XllkGD4V4%2B68JQGoN%2BHUdXMdjSPWOMjY9l1x38uV9f2Mkea1P50zwCdTlrjRswhezOyQY6pgGw195mZwimsh0WUaxv7Whx9Qd9Ucdzzh6TuCUDjL2Pd2y%2Fuv%2Fj8GRaLZSMy8O38f5Ja0n3eZkrAMlI%2FJ%2BPLGfY0Sn%2Fo8a%2BSuCIwicOmeIkL9umdjRIckptQ1XoQekesRtL%2FWi6WaOq6gN9f3Yqa7teaT547AkiwBZ2WK3LaqweRVNfxZpdekmGTT4V7HQNp9OeM%2BK1ocbM4lLVSizlaebWW2Hjz2GC&X-Amz-Signature=bf9ec4704e4757e37c5542f27d3c390a5701188962bc4607d357a9f59201bf7f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKLF6NBM%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDvMM1y2lAgs7QjyMj1nnTMTV5LNysrLlRD1h04FyZlNgIhAMHeU1XpsO8aOyeD5OlECVYljerrFNECsV6EMeB63CyEKv8DCG4QABoMNjM3NDIzMTgzODA1IgxjbRSkz5pMJyMWmXQq3AOK3ZRrh0jE5u3w8bjGwREOMBYm3ubZ7O4FmZT5nDLYeKTBTH0GNzOElmXGjzQd26csMOvmhCNJXX6FuX63S3qEVJOFuMfy8ae8X0owZlRKsvc4%2Bv%2Fb6VidB4xRF%2FGQOQ2iZ8Iwsl9lklDpG3%2F0tY2pc7p%2BJs2zRSutDqOQpCw%2Bhp9intAqElrx3nDP1kET7wFzsnUUxBFAnDGidJYqxtJPjNIwAO9PDroP9ej8SkyjxQscAl2%2BJFS1EZWwEF8dF4Sr4fly%2FnaZ%2FM5ErPsUFxclRETrxeXCe1Fnra7sHpc%2FAvbVnW7zTgkLircgWTnpjiCXuet6ROFUMca0JcnFytKLeJq6MHSyxY%2B5VagQoujOqJUpL7YqD%2BynLuwK6YO7WN6UjZSYAb2alp1UDXwg7y0iPoYez3TevU4d8WnIh20o2UwGJyucbDrKKyqidIQjSBnjddPASJqthEXmlF%2B%2B6lkSEoaIt5CfGaeCxSNtCxIAbzwqwEU1O8igqChqEnbhJJwZOr0TRTCL4EVVbcAHG84tBG7KzvlbIi3BjJ%2BcANptRRo6t9QQXFgtE0AgtZ8nZ%2FEO2woBaNq97b6FQXNKeE98fwwr7nxT6zaIv4jNkqIenGA6Pcis65z2MTXcUzCc687JBjqkAZjNp3lScMitCfuhsODdunDNHihEvx1hPcOMS0k07V6a0CJ5vuRH%2FACL%2FdmODvYYp3wVtaEVYAC1uWiVtZ%2Fk753eXeTOWxelxFLBmfbMjTaGUlbIBcHCg6egedzedvKI%2FPgz6ad259pnZ7QUojBsQhCPynWVNAngOjeHOtQnoU64cQU2Cpq0jAWRl0LRVECpH7HKFQIIer%2F4grLgX%2Fs6b2S2Xr2j&X-Amz-Signature=67c543c9843f822b125ef01b06795a9cd2ed6ff02621e85575e6d0d8cd94f732&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZKLF6NBM%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDvMM1y2lAgs7QjyMj1nnTMTV5LNysrLlRD1h04FyZlNgIhAMHeU1XpsO8aOyeD5OlECVYljerrFNECsV6EMeB63CyEKv8DCG4QABoMNjM3NDIzMTgzODA1IgxjbRSkz5pMJyMWmXQq3AOK3ZRrh0jE5u3w8bjGwREOMBYm3ubZ7O4FmZT5nDLYeKTBTH0GNzOElmXGjzQd26csMOvmhCNJXX6FuX63S3qEVJOFuMfy8ae8X0owZlRKsvc4%2Bv%2Fb6VidB4xRF%2FGQOQ2iZ8Iwsl9lklDpG3%2F0tY2pc7p%2BJs2zRSutDqOQpCw%2Bhp9intAqElrx3nDP1kET7wFzsnUUxBFAnDGidJYqxtJPjNIwAO9PDroP9ej8SkyjxQscAl2%2BJFS1EZWwEF8dF4Sr4fly%2FnaZ%2FM5ErPsUFxclRETrxeXCe1Fnra7sHpc%2FAvbVnW7zTgkLircgWTnpjiCXuet6ROFUMca0JcnFytKLeJq6MHSyxY%2B5VagQoujOqJUpL7YqD%2BynLuwK6YO7WN6UjZSYAb2alp1UDXwg7y0iPoYez3TevU4d8WnIh20o2UwGJyucbDrKKyqidIQjSBnjddPASJqthEXmlF%2B%2B6lkSEoaIt5CfGaeCxSNtCxIAbzwqwEU1O8igqChqEnbhJJwZOr0TRTCL4EVVbcAHG84tBG7KzvlbIi3BjJ%2BcANptRRo6t9QQXFgtE0AgtZ8nZ%2FEO2woBaNq97b6FQXNKeE98fwwr7nxT6zaIv4jNkqIenGA6Pcis65z2MTXcUzCc687JBjqkAZjNp3lScMitCfuhsODdunDNHihEvx1hPcOMS0k07V6a0CJ5vuRH%2FACL%2FdmODvYYp3wVtaEVYAC1uWiVtZ%2Fk753eXeTOWxelxFLBmfbMjTaGUlbIBcHCg6egedzedvKI%2FPgz6ad259pnZ7QUojBsQhCPynWVNAngOjeHOtQnoU64cQU2Cpq0jAWRl0LRVECpH7HKFQIIer%2F4grLgX%2Fs6b2S2Xr2j&X-Amz-Signature=6c658adc25d76bafeeec34e9ae97d2c7ab9adff94b500440538c7ee0213c636b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TMNO4D3A%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDe6hhs926xqcadgXjmtT%2B%2FntmwouohW6b5Kdq0kLjKwQIgfEsbVX7kugEAreVfwZTUg%2BMyIwtaYNYodnGzvyKqzoEq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDEiZaB7Tcm5HgPfmzircAzXXb1XKiiB18YgCm5AQouTx6BkkBMv67WA40Xfmj%2FG%2BOKdwImScg1SjYX5NyABh9YpLHOKR8E40QwfardWtMMXB8X0jpMPZN%2FAA2GsNBWhA4etPbUK1xKdr4bD1T610Gj4jEBMVcvY2JQypai%2BsuW8I62AdCMQ9j7hGHKd6nsVCDOqILHASqYYoVb2%2BZwidT38hLNw2j%2BLlkCQ%2B0D9EW1n1UGFlyKg%2FSMsnnxApeg2zQEavzPt9rQ3mDxsCifzJcIDJbfSFB4nVCGr9qUM%2BIjRhUma%2BxF2%2Fj61PC%2BNgvL6Ki%2FPGlWzK318DOnztlpP4urWwhrOL9khUMAg%2BT5HMsFHgRE1B%2F30jTCOh9578pAQjvnRuhTMXaskIDY3NFqlB79VyRvuqOUPoxXOEQhSZHVHBTWe7LOeDbLPDy6FK0m%2BAYDT%2F5PtMZ3QvT9LoncVwHowQkl6J%2F1UENtSCG%2FwVo%2BJ6uMzT%2Far%2FVI%2FksettMrwBqOYSQMMQ92uv%2BBI8wYR10gxpAKbcyc2RajIt5oDxNFTmhW%2FE8fjs4cIHxlHKrKFGEPZqw5Tbs4gcP3ZpAO3wfIJlz1Xw6KrkMHkEx6LOc1UMV8ZfbMcGKmEeGqCdk%2BzigJOujiSJatU%2FUDFMMJnrzskGOqUBeEzSQzFcsHtLbmN%2BjrlpDzhx1L%2F%2B5CiF54AJSwAUluYr5x0MgpYe6g1qDSVf7fXtCpRfA3T2Fq31WG0UCmbWzCGl8nxVr%2BAE7GzwHVHEs4Ry5Z8H892nYUDLxGlxHL1eviFn6fJhUxfsZGNZT2RKMEoiKoRnVCtoqVjn4xKyc45zct4tj9%2Fb1%2B03y1uzZj4Abi9s6rEO97R6GAZq4O7IQ1%2B9AmVm&X-Amz-Signature=363b83b627b41fb0863063c9086739a8fd9b074960a15660ef0780970a1b2217&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TMNO4D3A%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDe6hhs926xqcadgXjmtT%2B%2FntmwouohW6b5Kdq0kLjKwQIgfEsbVX7kugEAreVfwZTUg%2BMyIwtaYNYodnGzvyKqzoEq%2FwMIbhAAGgw2Mzc0MjMxODM4MDUiDEiZaB7Tcm5HgPfmzircAzXXb1XKiiB18YgCm5AQouTx6BkkBMv67WA40Xfmj%2FG%2BOKdwImScg1SjYX5NyABh9YpLHOKR8E40QwfardWtMMXB8X0jpMPZN%2FAA2GsNBWhA4etPbUK1xKdr4bD1T610Gj4jEBMVcvY2JQypai%2BsuW8I62AdCMQ9j7hGHKd6nsVCDOqILHASqYYoVb2%2BZwidT38hLNw2j%2BLlkCQ%2B0D9EW1n1UGFlyKg%2FSMsnnxApeg2zQEavzPt9rQ3mDxsCifzJcIDJbfSFB4nVCGr9qUM%2BIjRhUma%2BxF2%2Fj61PC%2BNgvL6Ki%2FPGlWzK318DOnztlpP4urWwhrOL9khUMAg%2BT5HMsFHgRE1B%2F30jTCOh9578pAQjvnRuhTMXaskIDY3NFqlB79VyRvuqOUPoxXOEQhSZHVHBTWe7LOeDbLPDy6FK0m%2BAYDT%2F5PtMZ3QvT9LoncVwHowQkl6J%2F1UENtSCG%2FwVo%2BJ6uMzT%2Far%2FVI%2FksettMrwBqOYSQMMQ92uv%2BBI8wYR10gxpAKbcyc2RajIt5oDxNFTmhW%2FE8fjs4cIHxlHKrKFGEPZqw5Tbs4gcP3ZpAO3wfIJlz1Xw6KrkMHkEx6LOc1UMV8ZfbMcGKmEeGqCdk%2BzigJOujiSJatU%2FUDFMMJnrzskGOqUBeEzSQzFcsHtLbmN%2BjrlpDzhx1L%2F%2B5CiF54AJSwAUluYr5x0MgpYe6g1qDSVf7fXtCpRfA3T2Fq31WG0UCmbWzCGl8nxVr%2BAE7GzwHVHEs4Ry5Z8H892nYUDLxGlxHL1eviFn6fJhUxfsZGNZT2RKMEoiKoRnVCtoqVjn4xKyc45zct4tj9%2Fb1%2B03y1uzZj4Abi9s6rEO97R6GAZq4O7IQ1%2B9AmVm&X-Amz-Signature=3a8dfc762c0616376dff7bc8eec15448f91a2a905c23d167a0bc508d8ffd05bb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJZLYWSB%2F20251206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251206T053326Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHs6Jx3VBje8kIn0YvuQ0f4IlsZ9NLfvcPYMkvtdaUQaAiB6Q2FI8AbX09rhtoSmxpR0S1wNilsgG1rfaimOmVqwvSr%2FAwhuEAAaDDYzNzQyMzE4MzgwNSIM944S9PrAkWl0JAM2KtwDcGtrkz82JtZLZZXekLfB5brxJNxAHo6as7oqitAqvXzz%2FMapD714SsGpvTDX6MPB02QA2SvyoOE3OcNwI4JKxtG4Gp9dR5jw17lns6zB%2FDh5n%2Fi2Pd0ohxRW6EDsHg7zWgdMCvK4E3ey%2BZaWw0ZS3nJj5H4hr88b7AIJU%2ByWRO7ch87BKA1fNyN2IodRrvifYjSZSSYIvyQOGKV97rgNTjvJOMh6MHd%2BWawIyt6lIqcqBCEymcevo2sMMBZEHT0ss1Oh2iR7VIlQfFipMUqUxenGlvnnzxSaD7OY9yw4H964BPNA3AflkkrnWA6WPsetbvL5lFLuEr0wHHYRz4KVS8dSfeZgs6dZOgh%2BnObvwWcZMH8hGcQwaymkwHlp8yU%2BuaqcZXMEWT%2Bn0jUBZADTuPpnzCe8Qpfr2C47vN8ElXFyhqJ5XrelgOIaTaay90eY4trVJ4x%2FitjmTsUff6cNmxK3KAnamfJRgHoA3Y6HLOMGffAyQB8%2Fe2rdwlE9CyyLwj4kfi7Y4p9oeYgd7%2Bkx962Nc0oieuPrfWPJ%2F1Obe6Xv%2FHCkJVFs41NywvVVGPUmf1Qhsrnp6%2F4Jw6BmIXOVZS8s%2FEIUM5ouNSuUjvZzYzl%2BE%2FHOIta9JQngMaow0evOyQY6pgH4lPunYoqXqzpxdGy%2BHEjscg8FhXQoGzSj825FV6rG3%2B3ET31ehtwp2bgLVEPYbhK%2Fw1y%2Fc2A9vNC8USkTOe%2BD8hnDZiKKh6sRoaSTq6HZ1D1pfXxYRymeICN1SHcIry6A7cIupfUmCveB0cPqi83U%2BKaadVarwZHSwu0laa5obezmru3FZ6QOE5aDhMdOLV4%2FZQdhf8tNqJkCV7wWLQOEQHoTN4GY&X-Amz-Signature=c4bf76cdffc7bc7d808c903d585d6131f8d61520648785eef0cfa7e5b85edc6c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
