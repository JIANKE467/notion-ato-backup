
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZPW5BU5S%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040908Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDM2KMV%2Fjx%2FswI%2BWVf%2BzUPFWk4MU7yN%2BUpO%2FdbPGGWljwIgZxPxqeemyMqSIOVvnFCz%2FV5%2B4UgAqFNuRfdek7ktyQIqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEh61oEpOg4n8BxMpircA3wzUgCoBpRfj0zu6YZqwQtvlrNJO81byR9kJU%2FEv4QQqnJBWmVEh9RBf3BucUTMo2zyZgSfxlpKovcVe4RM58O1ShTrn%2FbzdmThCtNAYve1Lgv1jVqBXHUqU9x3zsG9yenQP4BFoZ6O1pVqh2iCpWGzvlUJ2NAugUvaAHMmLBBjXPbzfbA5CxQQsPrq6fCKpbY3CHWDJm%2F2HiWPVTBhQyAK3npBN09CA8%2FnRpqEdZI0xZNdRumgUNJiUaIyRZdbLJUd9bN0TnQP69MvcZXZdwg2fQWNUbJrvTU5j8B%2FXLdjLPK0VIIQBJ4GVpZfvCmO2EijM4ADLNgFtUcjV%2FT2LK%2BjmXF3SrtssBfekx%2BulRKTGbfBNtZNh%2FoI%2FI8soxt%2Bf7qai5zurCvmmvmuBalFPSgFGI7CfNfajPn%2Baky%2B6xjKkadS838UMDCNcTl3BotPaOELSAJXsoXuTXQb6h7CM3F2NzR87iKq0eCvOqNp7YTI16168blEoEp1mOFRllvAB613r2KaaeFbVfQR2jk%2FhKDExg8YUtcCgGU310dwUu3M%2BJmjZ11%2FbVii%2FExgjxt%2BVy9us25PKGusnWJ6yOQYrcxoODb3ulZ5mLsiUPIW8QWpQFtexRdLTW5EAA9mMN3k0coGOqUBBpoLzq8VvF1ELJOo1AhJOeZcVW1zypcUD4ufAoTFKwYsOl8XVAME0w8N14tfoEaO95cWvOU8KY0IYCZtUF3E1nEbtotipE%2FGzCBBPD7FeeLZZKyb%2B1UIdCnG35i541Po8pJMuIOAVNvHoktaqlCpFITPo6Yc8t%2FCt2hc6jnNx5ON4fCCnKL8vaDyPvWmdwt6EHyAD1rAKD3vOcN4R03i%2F0GbFYtL&X-Amz-Signature=212b78fcc4929aea3f291656765a8392c76b5ebcc9148940a2260f9e71100047&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZPW5BU5S%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040908Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDM2KMV%2Fjx%2FswI%2BWVf%2BzUPFWk4MU7yN%2BUpO%2FdbPGGWljwIgZxPxqeemyMqSIOVvnFCz%2FV5%2B4UgAqFNuRfdek7ktyQIqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEh61oEpOg4n8BxMpircA3wzUgCoBpRfj0zu6YZqwQtvlrNJO81byR9kJU%2FEv4QQqnJBWmVEh9RBf3BucUTMo2zyZgSfxlpKovcVe4RM58O1ShTrn%2FbzdmThCtNAYve1Lgv1jVqBXHUqU9x3zsG9yenQP4BFoZ6O1pVqh2iCpWGzvlUJ2NAugUvaAHMmLBBjXPbzfbA5CxQQsPrq6fCKpbY3CHWDJm%2F2HiWPVTBhQyAK3npBN09CA8%2FnRpqEdZI0xZNdRumgUNJiUaIyRZdbLJUd9bN0TnQP69MvcZXZdwg2fQWNUbJrvTU5j8B%2FXLdjLPK0VIIQBJ4GVpZfvCmO2EijM4ADLNgFtUcjV%2FT2LK%2BjmXF3SrtssBfekx%2BulRKTGbfBNtZNh%2FoI%2FI8soxt%2Bf7qai5zurCvmmvmuBalFPSgFGI7CfNfajPn%2Baky%2B6xjKkadS838UMDCNcTl3BotPaOELSAJXsoXuTXQb6h7CM3F2NzR87iKq0eCvOqNp7YTI16168blEoEp1mOFRllvAB613r2KaaeFbVfQR2jk%2FhKDExg8YUtcCgGU310dwUu3M%2BJmjZ11%2FbVii%2FExgjxt%2BVy9us25PKGusnWJ6yOQYrcxoODb3ulZ5mLsiUPIW8QWpQFtexRdLTW5EAA9mMN3k0coGOqUBBpoLzq8VvF1ELJOo1AhJOeZcVW1zypcUD4ufAoTFKwYsOl8XVAME0w8N14tfoEaO95cWvOU8KY0IYCZtUF3E1nEbtotipE%2FGzCBBPD7FeeLZZKyb%2B1UIdCnG35i541Po8pJMuIOAVNvHoktaqlCpFITPo6Yc8t%2FCt2hc6jnNx5ON4fCCnKL8vaDyPvWmdwt6EHyAD1rAKD3vOcN4R03i%2F0GbFYtL&X-Amz-Signature=a9250cd73edc6301d49f80522999cd1db0b36243843c6ec6c8c1e2bd802e40b0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZPW5BU5S%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040908Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDM2KMV%2Fjx%2FswI%2BWVf%2BzUPFWk4MU7yN%2BUpO%2FdbPGGWljwIgZxPxqeemyMqSIOVvnFCz%2FV5%2B4UgAqFNuRfdek7ktyQIqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEh61oEpOg4n8BxMpircA3wzUgCoBpRfj0zu6YZqwQtvlrNJO81byR9kJU%2FEv4QQqnJBWmVEh9RBf3BucUTMo2zyZgSfxlpKovcVe4RM58O1ShTrn%2FbzdmThCtNAYve1Lgv1jVqBXHUqU9x3zsG9yenQP4BFoZ6O1pVqh2iCpWGzvlUJ2NAugUvaAHMmLBBjXPbzfbA5CxQQsPrq6fCKpbY3CHWDJm%2F2HiWPVTBhQyAK3npBN09CA8%2FnRpqEdZI0xZNdRumgUNJiUaIyRZdbLJUd9bN0TnQP69MvcZXZdwg2fQWNUbJrvTU5j8B%2FXLdjLPK0VIIQBJ4GVpZfvCmO2EijM4ADLNgFtUcjV%2FT2LK%2BjmXF3SrtssBfekx%2BulRKTGbfBNtZNh%2FoI%2FI8soxt%2Bf7qai5zurCvmmvmuBalFPSgFGI7CfNfajPn%2Baky%2B6xjKkadS838UMDCNcTl3BotPaOELSAJXsoXuTXQb6h7CM3F2NzR87iKq0eCvOqNp7YTI16168blEoEp1mOFRllvAB613r2KaaeFbVfQR2jk%2FhKDExg8YUtcCgGU310dwUu3M%2BJmjZ11%2FbVii%2FExgjxt%2BVy9us25PKGusnWJ6yOQYrcxoODb3ulZ5mLsiUPIW8QWpQFtexRdLTW5EAA9mMN3k0coGOqUBBpoLzq8VvF1ELJOo1AhJOeZcVW1zypcUD4ufAoTFKwYsOl8XVAME0w8N14tfoEaO95cWvOU8KY0IYCZtUF3E1nEbtotipE%2FGzCBBPD7FeeLZZKyb%2B1UIdCnG35i541Po8pJMuIOAVNvHoktaqlCpFITPo6Yc8t%2FCt2hc6jnNx5ON4fCCnKL8vaDyPvWmdwt6EHyAD1rAKD3vOcN4R03i%2F0GbFYtL&X-Amz-Signature=05bf8db60ec9a0cbba8f564056c11ef82c1e7a9e5479fb66089bcd42c3c6969e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667LL3V3ZG%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDDHoPBSBLuTg4PGY3aWU81mcHJ4IHaH86Gd0PIxdET%2BAiAUZKdnAOxkCA%2BTCOyqB1J7YE0kaSh%2BEhXQ%2FEXuLpavVSqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMnmyHB8FC%2FGOtxS9qKtwD2Pu1bQf2rjtyAcV93ANvcsxOq8Rt43XZxdRCVQhEacgerknvou3AnQ3W3Fuqvm5ekJQl69bFxg8DIBCH0s21SimhwaoOTPdaZIfwEyfywzYtwjU7fa4Qxebx24H5dvacNunJQgdTB53wpZfbsCp4JuDbgY0XO3j7CLz%2Fa8LGmyk%2BJiEPwZD3KglP20vkm6dy6EGtAvyf%2Fs6lCszz6OPW%2BePlj1G7ijxZ0YPbwPe0Bm21sTfAlsuwKlSSDsYU8LB5pXNP0QCNi3aQsvUWLbNhw0IJpycmfDjPej3EiawV0vJCdz6PaJsutYRV3kR0dPuF25MvL21uGhOm6iUhR4ShHHr5HNSAdFU9V8cgylX%2Brb8StkT88l1h76f7Q7RhY2h20X1fDxJ6KFwP0ks4A4dp9Yu02%2Bhd%2FFLrrgMlLPoYFYNA%2FjsmvSaYr2EdAcAh8I3ds9fM5IfLzB1kpgQ23bMqmCxNy7kBs9dA5XK5iGXN4A2cKPFT81wg0pF05KPDtNInnJ7rL2ctYOmy4rPCLlqssrGOSxILvcz10qsMEfYbJTc52RVgstz1Uh7%2BWuKi4rk31vbXlLpVgQrvH1uqSfb6zvWA2TUpdx3Py%2BPEFSRGN9tH%2FD%2Fagcz9QaXWweEwxObRygY6pgE1TxTsCHPymTKvhbFfK0D0R6F%2BwZ66BBeho%2BhfEI0VHpYKV02M9xcCNmOKm5V2aEwFdbzo9AWKhSl1vG8WrkRaDmNNn2tGPXNiT2%2Fb4aP9Siil8Yz7DTOBhasNJX3XpfI9LeLdNqrh9ZiiL7WA1gdEfy9QnLqdZw9hXiz2OdKLbcUB02xoH2pkv8HwFh%2Fx3692iuYptjfIX6O0N8lcL2Xfk%2Blgcy3P&X-Amz-Signature=e5282c315817d20ec46bf9718697ca1e2fdc39689feafaef85aae75e1754aeda&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667LL3V3ZG%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDDHoPBSBLuTg4PGY3aWU81mcHJ4IHaH86Gd0PIxdET%2BAiAUZKdnAOxkCA%2BTCOyqB1J7YE0kaSh%2BEhXQ%2FEXuLpavVSqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMnmyHB8FC%2FGOtxS9qKtwD2Pu1bQf2rjtyAcV93ANvcsxOq8Rt43XZxdRCVQhEacgerknvou3AnQ3W3Fuqvm5ekJQl69bFxg8DIBCH0s21SimhwaoOTPdaZIfwEyfywzYtwjU7fa4Qxebx24H5dvacNunJQgdTB53wpZfbsCp4JuDbgY0XO3j7CLz%2Fa8LGmyk%2BJiEPwZD3KglP20vkm6dy6EGtAvyf%2Fs6lCszz6OPW%2BePlj1G7ijxZ0YPbwPe0Bm21sTfAlsuwKlSSDsYU8LB5pXNP0QCNi3aQsvUWLbNhw0IJpycmfDjPej3EiawV0vJCdz6PaJsutYRV3kR0dPuF25MvL21uGhOm6iUhR4ShHHr5HNSAdFU9V8cgylX%2Brb8StkT88l1h76f7Q7RhY2h20X1fDxJ6KFwP0ks4A4dp9Yu02%2Bhd%2FFLrrgMlLPoYFYNA%2FjsmvSaYr2EdAcAh8I3ds9fM5IfLzB1kpgQ23bMqmCxNy7kBs9dA5XK5iGXN4A2cKPFT81wg0pF05KPDtNInnJ7rL2ctYOmy4rPCLlqssrGOSxILvcz10qsMEfYbJTc52RVgstz1Uh7%2BWuKi4rk31vbXlLpVgQrvH1uqSfb6zvWA2TUpdx3Py%2BPEFSRGN9tH%2FD%2Fagcz9QaXWweEwxObRygY6pgE1TxTsCHPymTKvhbFfK0D0R6F%2BwZ66BBeho%2BhfEI0VHpYKV02M9xcCNmOKm5V2aEwFdbzo9AWKhSl1vG8WrkRaDmNNn2tGPXNiT2%2Fb4aP9Siil8Yz7DTOBhasNJX3XpfI9LeLdNqrh9ZiiL7WA1gdEfy9QnLqdZw9hXiz2OdKLbcUB02xoH2pkv8HwFh%2Fx3692iuYptjfIX6O0N8lcL2Xfk%2Blgcy3P&X-Amz-Signature=bcf915f1b0f31aa97c7fa47cc2a64612ea259d244a69798f05478c53458eff88&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667LL3V3ZG%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDDHoPBSBLuTg4PGY3aWU81mcHJ4IHaH86Gd0PIxdET%2BAiAUZKdnAOxkCA%2BTCOyqB1J7YE0kaSh%2BEhXQ%2FEXuLpavVSqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMnmyHB8FC%2FGOtxS9qKtwD2Pu1bQf2rjtyAcV93ANvcsxOq8Rt43XZxdRCVQhEacgerknvou3AnQ3W3Fuqvm5ekJQl69bFxg8DIBCH0s21SimhwaoOTPdaZIfwEyfywzYtwjU7fa4Qxebx24H5dvacNunJQgdTB53wpZfbsCp4JuDbgY0XO3j7CLz%2Fa8LGmyk%2BJiEPwZD3KglP20vkm6dy6EGtAvyf%2Fs6lCszz6OPW%2BePlj1G7ijxZ0YPbwPe0Bm21sTfAlsuwKlSSDsYU8LB5pXNP0QCNi3aQsvUWLbNhw0IJpycmfDjPej3EiawV0vJCdz6PaJsutYRV3kR0dPuF25MvL21uGhOm6iUhR4ShHHr5HNSAdFU9V8cgylX%2Brb8StkT88l1h76f7Q7RhY2h20X1fDxJ6KFwP0ks4A4dp9Yu02%2Bhd%2FFLrrgMlLPoYFYNA%2FjsmvSaYr2EdAcAh8I3ds9fM5IfLzB1kpgQ23bMqmCxNy7kBs9dA5XK5iGXN4A2cKPFT81wg0pF05KPDtNInnJ7rL2ctYOmy4rPCLlqssrGOSxILvcz10qsMEfYbJTc52RVgstz1Uh7%2BWuKi4rk31vbXlLpVgQrvH1uqSfb6zvWA2TUpdx3Py%2BPEFSRGN9tH%2FD%2Fagcz9QaXWweEwxObRygY6pgE1TxTsCHPymTKvhbFfK0D0R6F%2BwZ66BBeho%2BhfEI0VHpYKV02M9xcCNmOKm5V2aEwFdbzo9AWKhSl1vG8WrkRaDmNNn2tGPXNiT2%2Fb4aP9Siil8Yz7DTOBhasNJX3XpfI9LeLdNqrh9ZiiL7WA1gdEfy9QnLqdZw9hXiz2OdKLbcUB02xoH2pkv8HwFh%2Fx3692iuYptjfIX6O0N8lcL2Xfk%2Blgcy3P&X-Amz-Signature=d0e6c5dabb0fd38f0b8c4c9a52afaa583bb5e5fa9a6be83182a171a45fe93e1b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XGDM7BCP%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIApfhgfun7gDyfUs66UnSqWCo%2BHvBSmtOwbPNyQiB5ahAiAwlsyYbXrndWpYnPiwYm%2BSwvzKo05GR19qbKJCTYSheiqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMuzKoPpZCMiD4suO7KtwDx9UE%2BlXJbOLJgNwHEi7wCbu7I3kxcHqat0wPDSGlxI9ZjwxDiHnbGxA89wNNBAVED4UudAWRvLJRQjadocDrBqnfwDbVNYjsDCNZeS4IWhJo3aceE8TBkMSREoYBwvyJejLQ8MvQU5v0aAo4CTTwQ%2FBSikqT4W%2BRf%2FKE%2BxdaO2oClIisUs487PiEUzATz8oA9TwpnA%2FVkKu%2BFZYf%2B2EnYh30Q5zhAHR4Jn5z2kdT%2FjBUsAOSU18%2FyHGazxdY7O3GhmHoovPl67eTmxbInSpAWOZ60VWZmToFWtXruQO202hMNRYRHoE42bpisyviBKLQcB%2FHeav%2BrA0qxvR4Lze4jt3bytZDqfg7TW9xVvIF%2BEwfkhNdqXrBu1kSNyR1uM4KGPoIWKw1N5ui5P%2FfJdJHOJ9s0VmmpWM8%2Bk6Juo%2By5fJTdCx7%2B4scAdKK0CpqK1syctb2kREoX0ne1ySfUQfdKb4rkvIslIEpvpUxr4wfRELFfeqGYi5eNnWXLtAssBpqFKgkTrcpr6bnz2k9a0hz8o6BfEBqc1QM%2BN%2Fup5bocne8m94FiBRGWceDQu9C7uf5K%2FCnHaMxKXA6p%2BMQxJU7EgiJpwpaViYAlqNISr%2FtNxQ4zQ0OHfNbmlQM8j8wxObRygY6pgHcSnto3JCZHzkGISD1d402R%2FZzHKR5JpFATVubMUhc188X5G%2FzL2BZFpoFjFAyuB2joe%2BJVEFegEhjvd%2BPbYGvuUEKqVUiXNwauqH7J6LhQUoKozkXgR1dQdTTyIdBu323xESpT4%2BiIFdi5ixyYtrvoYXZMC7WoyMSAnhT0YeU1mLCqUH3rCiMh5StLpONlkECVEh4UX8H2iUXPgyeoHgf9vH9b2w%2B&X-Amz-Signature=652a4b77d47947d4cc85bd9c01baa0b86bb2f6ec7d44cad5b2ee0a700a098142&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XGDM7BCP%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIApfhgfun7gDyfUs66UnSqWCo%2BHvBSmtOwbPNyQiB5ahAiAwlsyYbXrndWpYnPiwYm%2BSwvzKo05GR19qbKJCTYSheiqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMuzKoPpZCMiD4suO7KtwDx9UE%2BlXJbOLJgNwHEi7wCbu7I3kxcHqat0wPDSGlxI9ZjwxDiHnbGxA89wNNBAVED4UudAWRvLJRQjadocDrBqnfwDbVNYjsDCNZeS4IWhJo3aceE8TBkMSREoYBwvyJejLQ8MvQU5v0aAo4CTTwQ%2FBSikqT4W%2BRf%2FKE%2BxdaO2oClIisUs487PiEUzATz8oA9TwpnA%2FVkKu%2BFZYf%2B2EnYh30Q5zhAHR4Jn5z2kdT%2FjBUsAOSU18%2FyHGazxdY7O3GhmHoovPl67eTmxbInSpAWOZ60VWZmToFWtXruQO202hMNRYRHoE42bpisyviBKLQcB%2FHeav%2BrA0qxvR4Lze4jt3bytZDqfg7TW9xVvIF%2BEwfkhNdqXrBu1kSNyR1uM4KGPoIWKw1N5ui5P%2FfJdJHOJ9s0VmmpWM8%2Bk6Juo%2By5fJTdCx7%2B4scAdKK0CpqK1syctb2kREoX0ne1ySfUQfdKb4rkvIslIEpvpUxr4wfRELFfeqGYi5eNnWXLtAssBpqFKgkTrcpr6bnz2k9a0hz8o6BfEBqc1QM%2BN%2Fup5bocne8m94FiBRGWceDQu9C7uf5K%2FCnHaMxKXA6p%2BMQxJU7EgiJpwpaViYAlqNISr%2FtNxQ4zQ0OHfNbmlQM8j8wxObRygY6pgHcSnto3JCZHzkGISD1d402R%2FZzHKR5JpFATVubMUhc188X5G%2FzL2BZFpoFjFAyuB2joe%2BJVEFegEhjvd%2BPbYGvuUEKqVUiXNwauqH7J6LhQUoKozkXgR1dQdTTyIdBu323xESpT4%2BiIFdi5ixyYtrvoYXZMC7WoyMSAnhT0YeU1mLCqUH3rCiMh5StLpONlkECVEh4UX8H2iUXPgyeoHgf9vH9b2w%2B&X-Amz-Signature=190282d6c9ee42321f091ffd0a5e5099d1c0de2f4e03e4052c834b763ca5b9a1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XGDM7BCP%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIApfhgfun7gDyfUs66UnSqWCo%2BHvBSmtOwbPNyQiB5ahAiAwlsyYbXrndWpYnPiwYm%2BSwvzKo05GR19qbKJCTYSheiqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMuzKoPpZCMiD4suO7KtwDx9UE%2BlXJbOLJgNwHEi7wCbu7I3kxcHqat0wPDSGlxI9ZjwxDiHnbGxA89wNNBAVED4UudAWRvLJRQjadocDrBqnfwDbVNYjsDCNZeS4IWhJo3aceE8TBkMSREoYBwvyJejLQ8MvQU5v0aAo4CTTwQ%2FBSikqT4W%2BRf%2FKE%2BxdaO2oClIisUs487PiEUzATz8oA9TwpnA%2FVkKu%2BFZYf%2B2EnYh30Q5zhAHR4Jn5z2kdT%2FjBUsAOSU18%2FyHGazxdY7O3GhmHoovPl67eTmxbInSpAWOZ60VWZmToFWtXruQO202hMNRYRHoE42bpisyviBKLQcB%2FHeav%2BrA0qxvR4Lze4jt3bytZDqfg7TW9xVvIF%2BEwfkhNdqXrBu1kSNyR1uM4KGPoIWKw1N5ui5P%2FfJdJHOJ9s0VmmpWM8%2Bk6Juo%2By5fJTdCx7%2B4scAdKK0CpqK1syctb2kREoX0ne1ySfUQfdKb4rkvIslIEpvpUxr4wfRELFfeqGYi5eNnWXLtAssBpqFKgkTrcpr6bnz2k9a0hz8o6BfEBqc1QM%2BN%2Fup5bocne8m94FiBRGWceDQu9C7uf5K%2FCnHaMxKXA6p%2BMQxJU7EgiJpwpaViYAlqNISr%2FtNxQ4zQ0OHfNbmlQM8j8wxObRygY6pgHcSnto3JCZHzkGISD1d402R%2FZzHKR5JpFATVubMUhc188X5G%2FzL2BZFpoFjFAyuB2joe%2BJVEFegEhjvd%2BPbYGvuUEKqVUiXNwauqH7J6LhQUoKozkXgR1dQdTTyIdBu323xESpT4%2BiIFdi5ixyYtrvoYXZMC7WoyMSAnhT0YeU1mLCqUH3rCiMh5StLpONlkECVEh4UX8H2iUXPgyeoHgf9vH9b2w%2B&X-Amz-Signature=2cdca1ce68e4cac8efe95585dbf83915d30c5e16b08fdca419360264f96271b5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XGDM7BCP%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIApfhgfun7gDyfUs66UnSqWCo%2BHvBSmtOwbPNyQiB5ahAiAwlsyYbXrndWpYnPiwYm%2BSwvzKo05GR19qbKJCTYSheiqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMuzKoPpZCMiD4suO7KtwDx9UE%2BlXJbOLJgNwHEi7wCbu7I3kxcHqat0wPDSGlxI9ZjwxDiHnbGxA89wNNBAVED4UudAWRvLJRQjadocDrBqnfwDbVNYjsDCNZeS4IWhJo3aceE8TBkMSREoYBwvyJejLQ8MvQU5v0aAo4CTTwQ%2FBSikqT4W%2BRf%2FKE%2BxdaO2oClIisUs487PiEUzATz8oA9TwpnA%2FVkKu%2BFZYf%2B2EnYh30Q5zhAHR4Jn5z2kdT%2FjBUsAOSU18%2FyHGazxdY7O3GhmHoovPl67eTmxbInSpAWOZ60VWZmToFWtXruQO202hMNRYRHoE42bpisyviBKLQcB%2FHeav%2BrA0qxvR4Lze4jt3bytZDqfg7TW9xVvIF%2BEwfkhNdqXrBu1kSNyR1uM4KGPoIWKw1N5ui5P%2FfJdJHOJ9s0VmmpWM8%2Bk6Juo%2By5fJTdCx7%2B4scAdKK0CpqK1syctb2kREoX0ne1ySfUQfdKb4rkvIslIEpvpUxr4wfRELFfeqGYi5eNnWXLtAssBpqFKgkTrcpr6bnz2k9a0hz8o6BfEBqc1QM%2BN%2Fup5bocne8m94FiBRGWceDQu9C7uf5K%2FCnHaMxKXA6p%2BMQxJU7EgiJpwpaViYAlqNISr%2FtNxQ4zQ0OHfNbmlQM8j8wxObRygY6pgHcSnto3JCZHzkGISD1d402R%2FZzHKR5JpFATVubMUhc188X5G%2FzL2BZFpoFjFAyuB2joe%2BJVEFegEhjvd%2BPbYGvuUEKqVUiXNwauqH7J6LhQUoKozkXgR1dQdTTyIdBu323xESpT4%2BiIFdi5ixyYtrvoYXZMC7WoyMSAnhT0YeU1mLCqUH3rCiMh5StLpONlkECVEh4UX8H2iUXPgyeoHgf9vH9b2w%2B&X-Amz-Signature=6da03def4287131692da6c7b4fb29bc00ecbe90bbe5f099f8d105e0ee62ab697&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664I53SBZ%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEGo%2FfglZCnNbQQ7jBf3C%2BOarYrAYjmuRbtxbbgUlgCxAiEAqOAPwmF1is2Ewp4PiFxYR5cR0xXHJNbhtt5MCT2NXHQqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJlpWK6r8IaaHr3YryrcA%2FTpoklzVGJFuWaEgY8Ek0x%2BLpYUfJhJt30BaL3vffb33PF%2F7coteP9jEwaDv96g2VRJr0%2FLBo7p%2BoUq3xjtf%2FkpqPiuTGUfLH5Q2m%2Fd%2BkT4UmvBmppandubHVNzsAocqujA0sbu1DfKal7V8qi4ndImv521QcKu5s0FFj83ATvlxUjZEG5YwYwIukBJ%2Ff7QGfN03P4H8QJuog5m0Llq28hQ%2BADA47Z9DeIOQ9PREI9jKf0xXcJJw7jPrlKSNV45Q5uNekHsAMsTZou3UEe%2Fy%2Bvb7IUa1l7qb%2BgnqUSamZc6L%2FTLjDP1U2hqjUp2wLabvExLqFUNcue255aw3bD88HcXg7vZNkotJ7PxCTAlGwC%2Fvm37fSS9A%2BybJwFKx0SDDcENnIZyJy2raBkophAuNo%2BCt7tPj6k9K6ngI7C%2Fe7bTcHEGkTWuafPQxZYw4%2Fo9QhZbYBTvcMM8Xki4O5OgT65JxIt3y1F%2BzQ79ACtLvLdwyBW4whUzljNcb53wz3J56exqQkXS7G9P4jkGZDQb7dbEHKzrcVHtJIMQ3TJzyfAU4w8ZdoSJDbmMle%2Fn710j7CC1icS0yDu9f%2F5KEixjy8V%2F25IEt4x9eqtigiL%2BqXReVvq9TMdsgwx87j%2BvMNPj0coGOqUBMUykb56Mw9fiPrgyeYAs7oqQUTfGufQuEJpx9dT3tIV7fR%2B4QVRbzMYohSELs2o2h9lnozszZWBAKNmjW7keRNSW4MHJ02yE9lrmlZkVAG3umWHbTen%2BaNLPYzkimAleMHUBxRTMvizG%2FyzUQGz4nv6T%2B88K24p6Qwohl5rsJwwP2p2LVqM9wRRE4DNYcfD8EOJ9H65v2%2BrnbcU5fwtbflWaHV2S&X-Amz-Signature=91f41b9887a3c20dc24d931d6fdaca19083ee92c4d6e3065abe9d4a2f40de90d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664I53SBZ%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEGo%2FfglZCnNbQQ7jBf3C%2BOarYrAYjmuRbtxbbgUlgCxAiEAqOAPwmF1is2Ewp4PiFxYR5cR0xXHJNbhtt5MCT2NXHQqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJlpWK6r8IaaHr3YryrcA%2FTpoklzVGJFuWaEgY8Ek0x%2BLpYUfJhJt30BaL3vffb33PF%2F7coteP9jEwaDv96g2VRJr0%2FLBo7p%2BoUq3xjtf%2FkpqPiuTGUfLH5Q2m%2Fd%2BkT4UmvBmppandubHVNzsAocqujA0sbu1DfKal7V8qi4ndImv521QcKu5s0FFj83ATvlxUjZEG5YwYwIukBJ%2Ff7QGfN03P4H8QJuog5m0Llq28hQ%2BADA47Z9DeIOQ9PREI9jKf0xXcJJw7jPrlKSNV45Q5uNekHsAMsTZou3UEe%2Fy%2Bvb7IUa1l7qb%2BgnqUSamZc6L%2FTLjDP1U2hqjUp2wLabvExLqFUNcue255aw3bD88HcXg7vZNkotJ7PxCTAlGwC%2Fvm37fSS9A%2BybJwFKx0SDDcENnIZyJy2raBkophAuNo%2BCt7tPj6k9K6ngI7C%2Fe7bTcHEGkTWuafPQxZYw4%2Fo9QhZbYBTvcMM8Xki4O5OgT65JxIt3y1F%2BzQ79ACtLvLdwyBW4whUzljNcb53wz3J56exqQkXS7G9P4jkGZDQb7dbEHKzrcVHtJIMQ3TJzyfAU4w8ZdoSJDbmMle%2Fn710j7CC1icS0yDu9f%2F5KEixjy8V%2F25IEt4x9eqtigiL%2BqXReVvq9TMdsgwx87j%2BvMNPj0coGOqUBMUykb56Mw9fiPrgyeYAs7oqQUTfGufQuEJpx9dT3tIV7fR%2B4QVRbzMYohSELs2o2h9lnozszZWBAKNmjW7keRNSW4MHJ02yE9lrmlZkVAG3umWHbTen%2BaNLPYzkimAleMHUBxRTMvizG%2FyzUQGz4nv6T%2B88K24p6Qwohl5rsJwwP2p2LVqM9wRRE4DNYcfD8EOJ9H65v2%2BrnbcU5fwtbflWaHV2S&X-Amz-Signature=d404a4ffb332e3163a68fbf159f56435b1014e30655450108cb6b3c457c338de&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664I53SBZ%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEGo%2FfglZCnNbQQ7jBf3C%2BOarYrAYjmuRbtxbbgUlgCxAiEAqOAPwmF1is2Ewp4PiFxYR5cR0xXHJNbhtt5MCT2NXHQqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJlpWK6r8IaaHr3YryrcA%2FTpoklzVGJFuWaEgY8Ek0x%2BLpYUfJhJt30BaL3vffb33PF%2F7coteP9jEwaDv96g2VRJr0%2FLBo7p%2BoUq3xjtf%2FkpqPiuTGUfLH5Q2m%2Fd%2BkT4UmvBmppandubHVNzsAocqujA0sbu1DfKal7V8qi4ndImv521QcKu5s0FFj83ATvlxUjZEG5YwYwIukBJ%2Ff7QGfN03P4H8QJuog5m0Llq28hQ%2BADA47Z9DeIOQ9PREI9jKf0xXcJJw7jPrlKSNV45Q5uNekHsAMsTZou3UEe%2Fy%2Bvb7IUa1l7qb%2BgnqUSamZc6L%2FTLjDP1U2hqjUp2wLabvExLqFUNcue255aw3bD88HcXg7vZNkotJ7PxCTAlGwC%2Fvm37fSS9A%2BybJwFKx0SDDcENnIZyJy2raBkophAuNo%2BCt7tPj6k9K6ngI7C%2Fe7bTcHEGkTWuafPQxZYw4%2Fo9QhZbYBTvcMM8Xki4O5OgT65JxIt3y1F%2BzQ79ACtLvLdwyBW4whUzljNcb53wz3J56exqQkXS7G9P4jkGZDQb7dbEHKzrcVHtJIMQ3TJzyfAU4w8ZdoSJDbmMle%2Fn710j7CC1icS0yDu9f%2F5KEixjy8V%2F25IEt4x9eqtigiL%2BqXReVvq9TMdsgwx87j%2BvMNPj0coGOqUBMUykb56Mw9fiPrgyeYAs7oqQUTfGufQuEJpx9dT3tIV7fR%2B4QVRbzMYohSELs2o2h9lnozszZWBAKNmjW7keRNSW4MHJ02yE9lrmlZkVAG3umWHbTen%2BaNLPYzkimAleMHUBxRTMvizG%2FyzUQGz4nv6T%2B88K24p6Qwohl5rsJwwP2p2LVqM9wRRE4DNYcfD8EOJ9H65v2%2BrnbcU5fwtbflWaHV2S&X-Amz-Signature=43e3aafdbcbcab9669405866a3e50d60e17cd7d178e005ac16d6f4b7296d757c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664I53SBZ%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIEGo%2FfglZCnNbQQ7jBf3C%2BOarYrAYjmuRbtxbbgUlgCxAiEAqOAPwmF1is2Ewp4PiFxYR5cR0xXHJNbhtt5MCT2NXHQqiAQIwv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJlpWK6r8IaaHr3YryrcA%2FTpoklzVGJFuWaEgY8Ek0x%2BLpYUfJhJt30BaL3vffb33PF%2F7coteP9jEwaDv96g2VRJr0%2FLBo7p%2BoUq3xjtf%2FkpqPiuTGUfLH5Q2m%2Fd%2BkT4UmvBmppandubHVNzsAocqujA0sbu1DfKal7V8qi4ndImv521QcKu5s0FFj83ATvlxUjZEG5YwYwIukBJ%2Ff7QGfN03P4H8QJuog5m0Llq28hQ%2BADA47Z9DeIOQ9PREI9jKf0xXcJJw7jPrlKSNV45Q5uNekHsAMsTZou3UEe%2Fy%2Bvb7IUa1l7qb%2BgnqUSamZc6L%2FTLjDP1U2hqjUp2wLabvExLqFUNcue255aw3bD88HcXg7vZNkotJ7PxCTAlGwC%2Fvm37fSS9A%2BybJwFKx0SDDcENnIZyJy2raBkophAuNo%2BCt7tPj6k9K6ngI7C%2Fe7bTcHEGkTWuafPQxZYw4%2Fo9QhZbYBTvcMM8Xki4O5OgT65JxIt3y1F%2BzQ79ACtLvLdwyBW4whUzljNcb53wz3J56exqQkXS7G9P4jkGZDQb7dbEHKzrcVHtJIMQ3TJzyfAU4w8ZdoSJDbmMle%2Fn710j7CC1icS0yDu9f%2F5KEixjy8V%2F25IEt4x9eqtigiL%2BqXReVvq9TMdsgwx87j%2BvMNPj0coGOqUBMUykb56Mw9fiPrgyeYAs7oqQUTfGufQuEJpx9dT3tIV7fR%2B4QVRbzMYohSELs2o2h9lnozszZWBAKNmjW7keRNSW4MHJ02yE9lrmlZkVAG3umWHbTen%2BaNLPYzkimAleMHUBxRTMvizG%2FyzUQGz4nv6T%2B88K24p6Qwohl5rsJwwP2p2LVqM9wRRE4DNYcfD8EOJ9H65v2%2BrnbcU5fwtbflWaHV2S&X-Amz-Signature=fc159fcc6d4f0824e12d2cfb874963b362f4db8d889e5df6834ad755e58d36b8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466354WKCD4%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDn8A%2B4ip%2FQGdUur6cpVgwnGsk09B3quBkqkWuRRhSp4gIhAPaC2Nnxf5nA38JbX47Dkc%2BMm64dw1N%2F%2BeuvnMAqVEuOKogECML%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz76XfMBYsmJ2fz0XEq3ANG2Qt84IPa%2FaA4HPJ79C18W8KATecPiCf%2FME%2BmvYr6c6bWqarOqNIwhlPXVbCwIpDTQt71eC5XoS8lpc4DQ0JMwJvHMT1KPpK%2BzfVyuxtOD1DI5iGfAgpZfpRCylMdI%2FKqdlntXhxlbWwoxl5sok%2Bio1NtLESkrm5zFrAsySTAP6NhrW3u8ZDuO9oiSAJZX9MhsK5DGPQFSwZy9rM8aRDBDbf2knbTkzlD1L03lqydY9HM85ZnZkegEkGTSAFCsDqM0YW0gbaLk4r%2FqNXZtPsQVwYPNLpLu5WRlE9Lfi%2BiUM0DSlfif79D%2FeMhJOfy%2FjKHg9ykAg%2B72zU%2BcW3W5NlGZOOrEWw%2FjCSG2cMHWb3wR7I2TbZgmfbjrsP0kgApnqTpREWAJETSydnv8FszV695J4OdVV%2BsImjlhEpD218CzHDbSbDIHgmMkWGePZhXIXpHDVnyrMwGeML3TTUPloLO5o9LBrfanHOh%2FNEd7%2B3pdD2Bcyuxoj4hqqZDOHwlH8muMsBiH9SyRB1VxmdJFNctrCnvSkWPCDfN8Ngzqf3KFHLjsWgPk2DhQSBN7ANYoktLQQWPDA6T5UYBkdcOfQsRYuBpXlbx30Qp0HZFxJGlyXBXXjVt1drfiu6lnDDv59HKBjqkAYZeZsdI2F9hNPvarSe96av%2FUwQ%2FEd0UcUUBCMya0%2BEPvjGE7uF7v26JuhVdBPdbCj8CkU%2BZxdQGX8SMP0JfSJEQDE44rgLn%2BU2uJRqSrrNo%2B%2Fhya2kwKOPqxaefgTflP1SGy1G%2FOiBUcdfQW4HowzwdwHhbCE3HSlzI3u3hBzi1%2BFlF0JNKvQO68wpCegxpeeUU5BrHr%2Fb9%2BWXBc1FSctXAxnH5&X-Amz-Signature=549a8bd5faf0a4b7c1a505e9dc79072b9a606659ef13f1d7100f6cdc2597f495&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466354WKCD4%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDn8A%2B4ip%2FQGdUur6cpVgwnGsk09B3quBkqkWuRRhSp4gIhAPaC2Nnxf5nA38JbX47Dkc%2BMm64dw1N%2F%2BeuvnMAqVEuOKogECML%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz76XfMBYsmJ2fz0XEq3ANG2Qt84IPa%2FaA4HPJ79C18W8KATecPiCf%2FME%2BmvYr6c6bWqarOqNIwhlPXVbCwIpDTQt71eC5XoS8lpc4DQ0JMwJvHMT1KPpK%2BzfVyuxtOD1DI5iGfAgpZfpRCylMdI%2FKqdlntXhxlbWwoxl5sok%2Bio1NtLESkrm5zFrAsySTAP6NhrW3u8ZDuO9oiSAJZX9MhsK5DGPQFSwZy9rM8aRDBDbf2knbTkzlD1L03lqydY9HM85ZnZkegEkGTSAFCsDqM0YW0gbaLk4r%2FqNXZtPsQVwYPNLpLu5WRlE9Lfi%2BiUM0DSlfif79D%2FeMhJOfy%2FjKHg9ykAg%2B72zU%2BcW3W5NlGZOOrEWw%2FjCSG2cMHWb3wR7I2TbZgmfbjrsP0kgApnqTpREWAJETSydnv8FszV695J4OdVV%2BsImjlhEpD218CzHDbSbDIHgmMkWGePZhXIXpHDVnyrMwGeML3TTUPloLO5o9LBrfanHOh%2FNEd7%2B3pdD2Bcyuxoj4hqqZDOHwlH8muMsBiH9SyRB1VxmdJFNctrCnvSkWPCDfN8Ngzqf3KFHLjsWgPk2DhQSBN7ANYoktLQQWPDA6T5UYBkdcOfQsRYuBpXlbx30Qp0HZFxJGlyXBXXjVt1drfiu6lnDDv59HKBjqkAYZeZsdI2F9hNPvarSe96av%2FUwQ%2FEd0UcUUBCMya0%2BEPvjGE7uF7v26JuhVdBPdbCj8CkU%2BZxdQGX8SMP0JfSJEQDE44rgLn%2BU2uJRqSrrNo%2B%2Fhya2kwKOPqxaefgTflP1SGy1G%2FOiBUcdfQW4HowzwdwHhbCE3HSlzI3u3hBzi1%2BFlF0JNKvQO68wpCegxpeeUU5BrHr%2Fb9%2BWXBc1FSctXAxnH5&X-Amz-Signature=450d4bac629184f2c2368ba8f1aee1ea1756c7732e5d1db429c93ad4e36ca5f1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466354WKCD4%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDn8A%2B4ip%2FQGdUur6cpVgwnGsk09B3quBkqkWuRRhSp4gIhAPaC2Nnxf5nA38JbX47Dkc%2BMm64dw1N%2F%2BeuvnMAqVEuOKogECML%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz76XfMBYsmJ2fz0XEq3ANG2Qt84IPa%2FaA4HPJ79C18W8KATecPiCf%2FME%2BmvYr6c6bWqarOqNIwhlPXVbCwIpDTQt71eC5XoS8lpc4DQ0JMwJvHMT1KPpK%2BzfVyuxtOD1DI5iGfAgpZfpRCylMdI%2FKqdlntXhxlbWwoxl5sok%2Bio1NtLESkrm5zFrAsySTAP6NhrW3u8ZDuO9oiSAJZX9MhsK5DGPQFSwZy9rM8aRDBDbf2knbTkzlD1L03lqydY9HM85ZnZkegEkGTSAFCsDqM0YW0gbaLk4r%2FqNXZtPsQVwYPNLpLu5WRlE9Lfi%2BiUM0DSlfif79D%2FeMhJOfy%2FjKHg9ykAg%2B72zU%2BcW3W5NlGZOOrEWw%2FjCSG2cMHWb3wR7I2TbZgmfbjrsP0kgApnqTpREWAJETSydnv8FszV695J4OdVV%2BsImjlhEpD218CzHDbSbDIHgmMkWGePZhXIXpHDVnyrMwGeML3TTUPloLO5o9LBrfanHOh%2FNEd7%2B3pdD2Bcyuxoj4hqqZDOHwlH8muMsBiH9SyRB1VxmdJFNctrCnvSkWPCDfN8Ngzqf3KFHLjsWgPk2DhQSBN7ANYoktLQQWPDA6T5UYBkdcOfQsRYuBpXlbx30Qp0HZFxJGlyXBXXjVt1drfiu6lnDDv59HKBjqkAYZeZsdI2F9hNPvarSe96av%2FUwQ%2FEd0UcUUBCMya0%2BEPvjGE7uF7v26JuhVdBPdbCj8CkU%2BZxdQGX8SMP0JfSJEQDE44rgLn%2BU2uJRqSrrNo%2B%2Fhya2kwKOPqxaefgTflP1SGy1G%2FOiBUcdfQW4HowzwdwHhbCE3HSlzI3u3hBzi1%2BFlF0JNKvQO68wpCegxpeeUU5BrHr%2Fb9%2BWXBc1FSctXAxnH5&X-Amz-Signature=905709dc352aa4286962d8f956448a628ee8cc7aa6535b07058d6a7a2cfadca0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667I36D5O3%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICL6oE0NbR2BIU5sfLf9vCW%2B6oHXGrgWi%2FRn7ec7ENrlAiBv37NYOPUQG8Iyjc4Pw8INVugXJ3u63es1ITM7F4hbsyqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqGjIkxF%2Bbg7kGm4HKtwD0AmeNnc6igyCieSxwHt1JAS4xPg%2B2k23PuAKseL0sn%2BpjRc%2BUuCvuWPcadVW%2Beb02FdMBcMrUmHWTfml2w%2F9PC%2F1pKnSnCX0U0fUR6M7hgwtjqiabbxvxV0lPBxbsw8NBe9IlZ0BZJx%2F1XiR3v7yNDM7EM%2Fcb5OkPBRbgZhlTk8bsdS9YEF4sq7U4d1b%2B%2FmRt5whePMPKbxJSoG1RjLpBah8PurON3%2FZCjr3mLUzzqVhEUqf287BUUROob2EbIhFTifCpjHm15Vf6RNJu%2FcC0nex%2BtVEndcoyC%2FygQWQyUAb%2FoLMdC612Je2eUJnxw6bBR6p%2B7zr8yYvheUm6SLP%2BnsYdt8d37R0wUg2vq7fU1PFRkQUoHYaxoST4PGKAZtuK784mCvA%2FxaBfeu1nr6s7KN6ARLVFLtxhCAy4m7BWsIAMFDYAZVkkpIrtcEbexeoBgk7Fz5rcwfmH2UzMMAxgX2Lw%2FMLhaSRgphkfRbvauOBYaExwIjOI42Abg%2FovliXrFzOMFTqDfGXkiniR5%2BT2ruH1x12LrxNHE6IrDtCcczscxNlkovubDy1mXsL21mKem%2FCABqSRCQ3enfzHN1Fo0jowjMxXdr0hCeaqKuGvdOR21hMjJ%2BBPRp5WhQw0t%2FRygY6pgGupDRjG6vbmauhVWJlToSJ8%2FIlF1kQTw0nspSbst9TACpBAs7SH0Nyrsd47hMmDirLzJrDiT4DhbVBXnzhV66bhq%2BVjml%2BwaCHgenqfAO%2F0FEG3HthBGK3WwxoxI93vumopIAm9lpdktiUILWFjju2pU8VYq74qOc4eo5ql6qQHNzdTosq1luTCMvJTJYaN6zbI87RLwopJ1SXynWXCk90aKrQf5X3&X-Amz-Signature=883e1bd7b00f6177d6a009204d3cc9ef0827b6377d45837359e6ca4d5e2bb69b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667I36D5O3%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040913Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICL6oE0NbR2BIU5sfLf9vCW%2B6oHXGrgWi%2FRn7ec7ENrlAiBv37NYOPUQG8Iyjc4Pw8INVugXJ3u63es1ITM7F4hbsyqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMqGjIkxF%2Bbg7kGm4HKtwD0AmeNnc6igyCieSxwHt1JAS4xPg%2B2k23PuAKseL0sn%2BpjRc%2BUuCvuWPcadVW%2Beb02FdMBcMrUmHWTfml2w%2F9PC%2F1pKnSnCX0U0fUR6M7hgwtjqiabbxvxV0lPBxbsw8NBe9IlZ0BZJx%2F1XiR3v7yNDM7EM%2Fcb5OkPBRbgZhlTk8bsdS9YEF4sq7U4d1b%2B%2FmRt5whePMPKbxJSoG1RjLpBah8PurON3%2FZCjr3mLUzzqVhEUqf287BUUROob2EbIhFTifCpjHm15Vf6RNJu%2FcC0nex%2BtVEndcoyC%2FygQWQyUAb%2FoLMdC612Je2eUJnxw6bBR6p%2B7zr8yYvheUm6SLP%2BnsYdt8d37R0wUg2vq7fU1PFRkQUoHYaxoST4PGKAZtuK784mCvA%2FxaBfeu1nr6s7KN6ARLVFLtxhCAy4m7BWsIAMFDYAZVkkpIrtcEbexeoBgk7Fz5rcwfmH2UzMMAxgX2Lw%2FMLhaSRgphkfRbvauOBYaExwIjOI42Abg%2FovliXrFzOMFTqDfGXkiniR5%2BT2ruH1x12LrxNHE6IrDtCcczscxNlkovubDy1mXsL21mKem%2FCABqSRCQ3enfzHN1Fo0jowjMxXdr0hCeaqKuGvdOR21hMjJ%2BBPRp5WhQw0t%2FRygY6pgGupDRjG6vbmauhVWJlToSJ8%2FIlF1kQTw0nspSbst9TACpBAs7SH0Nyrsd47hMmDirLzJrDiT4DhbVBXnzhV66bhq%2BVjml%2BwaCHgenqfAO%2F0FEG3HthBGK3WwxoxI93vumopIAm9lpdktiUILWFjju2pU8VYq74qOc4eo5ql6qQHNzdTosq1luTCMvJTJYaN6zbI87RLwopJ1SXynWXCk90aKrQf5X3&X-Amz-Signature=40803bac43828062218434fc60ecaa0c1fb2bf9b662bb4d125557dd7f8d1a870&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VYOHLYKB%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040914Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAHUh%2FivOah85%2FNLaX3y414SrJxo1OUzPnYv5NXJXFWfAiBJwone7dyRqaYS4vhK72no0DzAlW8mdyuNBKLW1psGeyqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMwxUZirJWI6z%2FuaB9KtwD9shAPSMQB0pZnxTUsFA2WuXdtNzkHRC%2F22KXMxtGn%2BfZ8hhx%2FXhSBy1XofoV9L%2FkeYn%2FqZNxtl11tysQd%2FR6OBsnflFQCw061snE9enMae2jsZaOPmIlKhypMlHqrHGmcXPaY1Em0XQJT3hMDZY5mzJ9%2BXLv4el38BT%2B685ga4EiV2QGs2UkqLAHaNLDG1Cf3v2wPb9Z6OuNhQGzCIdJRHC9d9GFBrnT24IhO6YP%2FEfVv9GErUuZqLlBltdO3F19%2F5hEak0O%2Fo5r1uf7EGMMxFETJaPTn90M4HWmK3Bh8kA%2FXct69Azd7%2B7oI25zVjGco0xnFJdQgmPTZ5LDl7YKJmCfTCcaJ57jVEYqjzGCxvRn0ie17HnZbF3p6t1KhWDnkGYk7iNzySd4OAZGRNqr8GLO7jyfHEuBwMOKLWY0yramSyGkoRjJkXQ6f5KGb8pIUdUeEtbMOhVUkSzC%2Blg%2BpwbfT38x6CI%2BJ5MmKrOTvhD4Ga%2FljCX5zisg%2B4C2Fwya0X5j3LTlYx21zmXvXLdZ8WqFsEOkILFB5u2Gyk0UMrSW5V%2FOOYxTAiWm%2Fy1fu48dS4BxSe7uAQzZSRpGJvqu2P9rz%2FecjFn0HVRhVPykN8UcUrrLe2fnITTosPMwpt7RygY6pgG5CA3St03oqtPR0Fc7uY3J9VFCMBu2AxESaXbTG50NP93YKZI4%2FTPiVL769P5xjOHyuXJudvbHp%2BwRJIQ3fDagvfQ2wIGKp0gBlVDUszZfBTmTtza8g9WWa0U%2BcWw7tJP5IpqTtGRbUUVjN%2B0c3R5ywuYVzYLJQeMW1rVZKeT3y0FBGgc%2FJbSETEHmMIJ5VD3IgWaU6L6hs6lpQ0y5%2FNQNFwd5XX6T&X-Amz-Signature=64e1317aeae3032b00df0daf601fe60a9f1ad90c034ad516f9bd21c210c66679&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VYOHLYKB%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040914Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAHUh%2FivOah85%2FNLaX3y414SrJxo1OUzPnYv5NXJXFWfAiBJwone7dyRqaYS4vhK72no0DzAlW8mdyuNBKLW1psGeyqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMwxUZirJWI6z%2FuaB9KtwD9shAPSMQB0pZnxTUsFA2WuXdtNzkHRC%2F22KXMxtGn%2BfZ8hhx%2FXhSBy1XofoV9L%2FkeYn%2FqZNxtl11tysQd%2FR6OBsnflFQCw061snE9enMae2jsZaOPmIlKhypMlHqrHGmcXPaY1Em0XQJT3hMDZY5mzJ9%2BXLv4el38BT%2B685ga4EiV2QGs2UkqLAHaNLDG1Cf3v2wPb9Z6OuNhQGzCIdJRHC9d9GFBrnT24IhO6YP%2FEfVv9GErUuZqLlBltdO3F19%2F5hEak0O%2Fo5r1uf7EGMMxFETJaPTn90M4HWmK3Bh8kA%2FXct69Azd7%2B7oI25zVjGco0xnFJdQgmPTZ5LDl7YKJmCfTCcaJ57jVEYqjzGCxvRn0ie17HnZbF3p6t1KhWDnkGYk7iNzySd4OAZGRNqr8GLO7jyfHEuBwMOKLWY0yramSyGkoRjJkXQ6f5KGb8pIUdUeEtbMOhVUkSzC%2Blg%2BpwbfT38x6CI%2BJ5MmKrOTvhD4Ga%2FljCX5zisg%2B4C2Fwya0X5j3LTlYx21zmXvXLdZ8WqFsEOkILFB5u2Gyk0UMrSW5V%2FOOYxTAiWm%2Fy1fu48dS4BxSe7uAQzZSRpGJvqu2P9rz%2FecjFn0HVRhVPykN8UcUrrLe2fnITTosPMwpt7RygY6pgG5CA3St03oqtPR0Fc7uY3J9VFCMBu2AxESaXbTG50NP93YKZI4%2FTPiVL769P5xjOHyuXJudvbHp%2BwRJIQ3fDagvfQ2wIGKp0gBlVDUszZfBTmTtza8g9WWa0U%2BcWw7tJP5IpqTtGRbUUVjN%2B0c3R5ywuYVzYLJQeMW1rVZKeT3y0FBGgc%2FJbSETEHmMIJ5VD3IgWaU6L6hs6lpQ0y5%2FNQNFwd5XX6T&X-Amz-Signature=0069237222c27a54b9f368ab483dc1eb5972bce1cab82e9406803380af44d366&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665G3JVD4M%2F20251231%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251231T040915Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAuDyhurF63BBigUGKpwnmI9bvitU0%2BPUYHIs1Bz6bCjAiA04L1rxX4j8szNxGPyCDHoSJR%2FUVd%2Bb4wJCKMyxv260yqIBAjC%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMok%2B1ysnjNM0pXUksKtwD%2Bu1fxlaaGmBw9rR3OiiHb1%2F2MUIv662qgs9IumnMuEpasocXxp7DHqeRX%2FFEmLj%2FQ7wJukW57TzQCQD3UxcoTqp1AJUf9PgBaK2LcgJN4ECxflk%2BX8hWtIglvHUiYOo0x6YrsalFmHUZdE0hrQtd17CS1XFln5bPhsXSWpWpq7tJrXH15%2Bo2jKifw2kTnhm4KmGWxE1Vqw76tuV%2BEYWkOnxw6BA2vErja0qBq7RCDRRsDU8GDf5y9TVzHG9Xks3M9%2BYnep0GhUafxv%2FuaRMKYhormiILGNKmYCocarOORBwi%2BSJGDbDgRDhVww9opfAC%2Bfa%2BrasfAnVVnefecFRyRtM07t5%2B3CUaXLOts8fN7BbqxiaF7vOu7DNTnLAOP%2BCWkwb1xbroeGNSsP6bvhmOKMWQzFpt4f6Q936TY1jXhmDOTJQIJdrGnvDRj7gd6zupOgzI8L8xVMlZxMhnuIStxclFjrRiTsF6jxLaBtkWpKdg0ngczgqE0hsZ3045d41z6BZ4cdBm757k8%2BihCGB5AOdJG12D7HnDAWbRsR0AWl%2Bcrs4lUzktTZJ9OW6QfBJPTMY2H4kBLIvGUdLmyMdczRablQ9BAHTY%2B3D5%2FkwHeisK1Es%2BzxYev%2F81HtQw2eXRygY6pgHicHECvoThXaBRmc1fcatqm1n1rAoEw6XSlQScw7U2zvfYdBAH0iWJMnRCE55XKHjUv0Wa7t4XiVI62YCqFK%2BdExzwrMXowAoyma69MZbhQVA1l2H5onliKZZ9opzJcmYTcpQMWeLqYgo%2BpgS5WWdaQS4TCl3L97lyMFCg%2BYDKXKzqFnET57eDMhEJQIpu7ruEZG%2FDj0ztOdjCS%2FmZmC9ygbYj7tNL&X-Amz-Signature=a9a29078888ec6d84cc20db580a363a50f9441c29cd7b5aefbd5b945da6b1fc6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
