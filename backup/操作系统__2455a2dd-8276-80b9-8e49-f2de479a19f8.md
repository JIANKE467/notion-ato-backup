
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZM2B546N%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040744Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEyxbqn55R6AazoygvGB%2BHivKZmwLrj63zcW0dG5mSjzAiAk%2FXTtKLj3gIqUWrF5OVRLAynl7Es6AfOnbXhgSdQU2Sr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMCKG%2BoQMsCrmkv7vcKtwDCsUcOttcDZS6iCkmdlMUMam2yIvHZZFdEOElZq8BU4cmfTmK%2B0jjhLVJYoxzcoQGM14LDkI59alwBispYg7eE4AIdYYIiV91W%2Fxvj6YIBHtiO6mh14kJwh1pei%2FWpOdp3iAEXkX0QgfxEIY8gOyslK1HARj9l7EOCwNDK6h3AZUL4Tk%2FA%2FaL%2BHkRXqoG2JgbwAOrm4dgXxOaoxzxj4RsVPU1aRktNOplASHZiwcmD1%2FLft7IAUi%2FeToFjUDmr23w7CDkqap6sHUXdIqy8tQlbVxvC3%2Fxm2L7fJm05erscGbE00ABtTIrXoxWsycaOxV9Qu7IQlMYSZ%2BOy%2BkdvhIIEhjdEkJzwd%2FJ0Bv5meBpCKZlJzJXf%2BJ4bgXpjnIhJlA2Eq%2FqEYo9tPX2t7PEjvKbfhlAAVE3n7xQ0udq7svupS94uuXSGq%2FZ11w5%2B8Y0c3n2RIb1vt6PILmYA3WTBnIW0pJLe7o3%2B7%2BGeI7kkzJoPOQ09BID3j%2Fpnny1QGz18uUC5vwznSo0%2Fp8QCtLk76OOEFh5Ks%2Fav8cg28HGeZpLleuyyUbxhO5s4ED1ad5OEtICcdcVNvK5CACUzUvIZK1C7MJJhvWvaVA%2FrNpBdrm1JJF8UfluTBclW1eQ1aMwr8G3ygY6pgF1XEmvRe4bTDVYdjw58A0N5%2Fj7Jw1TNiEscWpm%2B9V49x8ZAXJWZ92Xo%2FHDAs2Nh0p5b3TFQ0HVAHs64EvhxX0o3ZMowOGrSkcyWowV2r2kSW019eeeshe2pBNkfkUn1UaBrfwyilir8zDWKWF0gBW9yvJrFOOYP06O2fxQ0W%2F0SgqVlmsHoRMbuvO%2BuSBCehbrqJzgqOd9V0niEr58oqLK0T5qmHlX&X-Amz-Signature=e163f4c4c1e13db335b8b20945253ca9a156346387b5e566654e52cecb6baab5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZM2B546N%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040744Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEyxbqn55R6AazoygvGB%2BHivKZmwLrj63zcW0dG5mSjzAiAk%2FXTtKLj3gIqUWrF5OVRLAynl7Es6AfOnbXhgSdQU2Sr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMCKG%2BoQMsCrmkv7vcKtwDCsUcOttcDZS6iCkmdlMUMam2yIvHZZFdEOElZq8BU4cmfTmK%2B0jjhLVJYoxzcoQGM14LDkI59alwBispYg7eE4AIdYYIiV91W%2Fxvj6YIBHtiO6mh14kJwh1pei%2FWpOdp3iAEXkX0QgfxEIY8gOyslK1HARj9l7EOCwNDK6h3AZUL4Tk%2FA%2FaL%2BHkRXqoG2JgbwAOrm4dgXxOaoxzxj4RsVPU1aRktNOplASHZiwcmD1%2FLft7IAUi%2FeToFjUDmr23w7CDkqap6sHUXdIqy8tQlbVxvC3%2Fxm2L7fJm05erscGbE00ABtTIrXoxWsycaOxV9Qu7IQlMYSZ%2BOy%2BkdvhIIEhjdEkJzwd%2FJ0Bv5meBpCKZlJzJXf%2BJ4bgXpjnIhJlA2Eq%2FqEYo9tPX2t7PEjvKbfhlAAVE3n7xQ0udq7svupS94uuXSGq%2FZ11w5%2B8Y0c3n2RIb1vt6PILmYA3WTBnIW0pJLe7o3%2B7%2BGeI7kkzJoPOQ09BID3j%2Fpnny1QGz18uUC5vwznSo0%2Fp8QCtLk76OOEFh5Ks%2Fav8cg28HGeZpLleuyyUbxhO5s4ED1ad5OEtICcdcVNvK5CACUzUvIZK1C7MJJhvWvaVA%2FrNpBdrm1JJF8UfluTBclW1eQ1aMwr8G3ygY6pgF1XEmvRe4bTDVYdjw58A0N5%2Fj7Jw1TNiEscWpm%2B9V49x8ZAXJWZ92Xo%2FHDAs2Nh0p5b3TFQ0HVAHs64EvhxX0o3ZMowOGrSkcyWowV2r2kSW019eeeshe2pBNkfkUn1UaBrfwyilir8zDWKWF0gBW9yvJrFOOYP06O2fxQ0W%2F0SgqVlmsHoRMbuvO%2BuSBCehbrqJzgqOd9V0niEr58oqLK0T5qmHlX&X-Amz-Signature=f8ddea86603564128f9f042570dc0c9dc22870ef50fc9852674862531aa317fa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZM2B546N%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040744Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEyxbqn55R6AazoygvGB%2BHivKZmwLrj63zcW0dG5mSjzAiAk%2FXTtKLj3gIqUWrF5OVRLAynl7Es6AfOnbXhgSdQU2Sr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMCKG%2BoQMsCrmkv7vcKtwDCsUcOttcDZS6iCkmdlMUMam2yIvHZZFdEOElZq8BU4cmfTmK%2B0jjhLVJYoxzcoQGM14LDkI59alwBispYg7eE4AIdYYIiV91W%2Fxvj6YIBHtiO6mh14kJwh1pei%2FWpOdp3iAEXkX0QgfxEIY8gOyslK1HARj9l7EOCwNDK6h3AZUL4Tk%2FA%2FaL%2BHkRXqoG2JgbwAOrm4dgXxOaoxzxj4RsVPU1aRktNOplASHZiwcmD1%2FLft7IAUi%2FeToFjUDmr23w7CDkqap6sHUXdIqy8tQlbVxvC3%2Fxm2L7fJm05erscGbE00ABtTIrXoxWsycaOxV9Qu7IQlMYSZ%2BOy%2BkdvhIIEhjdEkJzwd%2FJ0Bv5meBpCKZlJzJXf%2BJ4bgXpjnIhJlA2Eq%2FqEYo9tPX2t7PEjvKbfhlAAVE3n7xQ0udq7svupS94uuXSGq%2FZ11w5%2B8Y0c3n2RIb1vt6PILmYA3WTBnIW0pJLe7o3%2B7%2BGeI7kkzJoPOQ09BID3j%2Fpnny1QGz18uUC5vwznSo0%2Fp8QCtLk76OOEFh5Ks%2Fav8cg28HGeZpLleuyyUbxhO5s4ED1ad5OEtICcdcVNvK5CACUzUvIZK1C7MJJhvWvaVA%2FrNpBdrm1JJF8UfluTBclW1eQ1aMwr8G3ygY6pgF1XEmvRe4bTDVYdjw58A0N5%2Fj7Jw1TNiEscWpm%2B9V49x8ZAXJWZ92Xo%2FHDAs2Nh0p5b3TFQ0HVAHs64EvhxX0o3ZMowOGrSkcyWowV2r2kSW019eeeshe2pBNkfkUn1UaBrfwyilir8zDWKWF0gBW9yvJrFOOYP06O2fxQ0W%2F0SgqVlmsHoRMbuvO%2BuSBCehbrqJzgqOd9V0niEr58oqLK0T5qmHlX&X-Amz-Signature=98b5c345998a61685827c72e5f9023b8b6c778611589b3b2092ba49f9f04436a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZX66DZPH%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040748Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFmcO30fcIJYFvh3Y74hZxirqnmnwFGWohjtZdSK7zQMAiEAyEsexw8f4%2BJUdFKopVi3e5LNSgTL%2BQShLpFQSjS8qDMq%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDL3eoTnVilVO2CFbpircAxURXIG1%2FCsPLKHz6kQXbLUhTuWmSbOFjgIHJeDlpjvJsLXIMxgjKgWtTLd2rNxAUWOT4rc9frNCwUMVZlVkdFZJZdyjDspB0%2Fh5VKpjiY3aZIRUU4tqfsAM7bdi%2BjyVISpjPUY4x2HH8Uvf78Cnq2J1FY3vPMIsMPA8cZcFC3NxFNblRAx7qdsgpSPEjxyhYe8j2EpmkEP6Z9fJyL66D3cffj35MZjhRALy%2FzFPz1WoG63fORBAtlqpXKIcqKQGTRH1wDklygN7ho6LnsHucU%2BlcRYQS04QdgvVYpYOdkBUQ8AnqKFhKc6i1CFzUY9E12ZmTJJz4nq0Rk5WKX0y7zlBf64W%2BeS%2FzgYSqkj71Z8yeHUZNcjkYMixWqA8DkzUSDji2cSNJ%2BZJ38bb33Q4iduKdSGamRjYgYqCEdDPcioRj%2B0qW2LxWFNMPgHvTwY9VwvBS148rGtZOKbvlKjInQ2v06SuRzMIasMqcDISAw5n0YBJpUCBCWv2wwsQghx9BXm8Kiv5UqNcGHCGURi3E8Xyj3MIcsIk6b0MuoRCwFecANajAMkbRGYBjTUSnB6lTnqaJBJJT0mgDN607Iur7xnZ668OnrabIS98APC3WMaIRERswh3pflkWHLZMMPC%2Ft8oGOqUBRpK1odbN3XfKtGUyBZs1vswE%2BQQ0MWPA46PdBQyDrDGv3jEa61BDM2rMYz%2FDIEVFZUmR81%2B0qMjWd2nr2B730WXtvrOlGM%2FstnpB%2FuUpZGfFIVUaqqGgQxwNH3E0gFLLvf1N8q%2BPCLnjrtHNqzCz0c2RyzR7mmLb0eujSzWjFLWZkVXuDwnrYAA7vQUqkhLrSYuRt8fU8xtRMfEVnuc%2BZNA7P6dj&X-Amz-Signature=2a16e179356a501f4c7f39b8ded517ec1654afad84afdd51e5995f6b8ea647ac&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZX66DZPH%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040748Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFmcO30fcIJYFvh3Y74hZxirqnmnwFGWohjtZdSK7zQMAiEAyEsexw8f4%2BJUdFKopVi3e5LNSgTL%2BQShLpFQSjS8qDMq%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDL3eoTnVilVO2CFbpircAxURXIG1%2FCsPLKHz6kQXbLUhTuWmSbOFjgIHJeDlpjvJsLXIMxgjKgWtTLd2rNxAUWOT4rc9frNCwUMVZlVkdFZJZdyjDspB0%2Fh5VKpjiY3aZIRUU4tqfsAM7bdi%2BjyVISpjPUY4x2HH8Uvf78Cnq2J1FY3vPMIsMPA8cZcFC3NxFNblRAx7qdsgpSPEjxyhYe8j2EpmkEP6Z9fJyL66D3cffj35MZjhRALy%2FzFPz1WoG63fORBAtlqpXKIcqKQGTRH1wDklygN7ho6LnsHucU%2BlcRYQS04QdgvVYpYOdkBUQ8AnqKFhKc6i1CFzUY9E12ZmTJJz4nq0Rk5WKX0y7zlBf64W%2BeS%2FzgYSqkj71Z8yeHUZNcjkYMixWqA8DkzUSDji2cSNJ%2BZJ38bb33Q4iduKdSGamRjYgYqCEdDPcioRj%2B0qW2LxWFNMPgHvTwY9VwvBS148rGtZOKbvlKjInQ2v06SuRzMIasMqcDISAw5n0YBJpUCBCWv2wwsQghx9BXm8Kiv5UqNcGHCGURi3E8Xyj3MIcsIk6b0MuoRCwFecANajAMkbRGYBjTUSnB6lTnqaJBJJT0mgDN607Iur7xnZ668OnrabIS98APC3WMaIRERswh3pflkWHLZMMPC%2Ft8oGOqUBRpK1odbN3XfKtGUyBZs1vswE%2BQQ0MWPA46PdBQyDrDGv3jEa61BDM2rMYz%2FDIEVFZUmR81%2B0qMjWd2nr2B730WXtvrOlGM%2FstnpB%2FuUpZGfFIVUaqqGgQxwNH3E0gFLLvf1N8q%2BPCLnjrtHNqzCz0c2RyzR7mmLb0eujSzWjFLWZkVXuDwnrYAA7vQUqkhLrSYuRt8fU8xtRMfEVnuc%2BZNA7P6dj&X-Amz-Signature=3c3de89e18e4ac24968ae3cb0616a02f9527728515681f753ab2251336f40e0a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZX66DZPH%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040748Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFmcO30fcIJYFvh3Y74hZxirqnmnwFGWohjtZdSK7zQMAiEAyEsexw8f4%2BJUdFKopVi3e5LNSgTL%2BQShLpFQSjS8qDMq%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDL3eoTnVilVO2CFbpircAxURXIG1%2FCsPLKHz6kQXbLUhTuWmSbOFjgIHJeDlpjvJsLXIMxgjKgWtTLd2rNxAUWOT4rc9frNCwUMVZlVkdFZJZdyjDspB0%2Fh5VKpjiY3aZIRUU4tqfsAM7bdi%2BjyVISpjPUY4x2HH8Uvf78Cnq2J1FY3vPMIsMPA8cZcFC3NxFNblRAx7qdsgpSPEjxyhYe8j2EpmkEP6Z9fJyL66D3cffj35MZjhRALy%2FzFPz1WoG63fORBAtlqpXKIcqKQGTRH1wDklygN7ho6LnsHucU%2BlcRYQS04QdgvVYpYOdkBUQ8AnqKFhKc6i1CFzUY9E12ZmTJJz4nq0Rk5WKX0y7zlBf64W%2BeS%2FzgYSqkj71Z8yeHUZNcjkYMixWqA8DkzUSDji2cSNJ%2BZJ38bb33Q4iduKdSGamRjYgYqCEdDPcioRj%2B0qW2LxWFNMPgHvTwY9VwvBS148rGtZOKbvlKjInQ2v06SuRzMIasMqcDISAw5n0YBJpUCBCWv2wwsQghx9BXm8Kiv5UqNcGHCGURi3E8Xyj3MIcsIk6b0MuoRCwFecANajAMkbRGYBjTUSnB6lTnqaJBJJT0mgDN607Iur7xnZ668OnrabIS98APC3WMaIRERswh3pflkWHLZMMPC%2Ft8oGOqUBRpK1odbN3XfKtGUyBZs1vswE%2BQQ0MWPA46PdBQyDrDGv3jEa61BDM2rMYz%2FDIEVFZUmR81%2B0qMjWd2nr2B730WXtvrOlGM%2FstnpB%2FuUpZGfFIVUaqqGgQxwNH3E0gFLLvf1N8q%2BPCLnjrtHNqzCz0c2RyzR7mmLb0eujSzWjFLWZkVXuDwnrYAA7vQUqkhLrSYuRt8fU8xtRMfEVnuc%2BZNA7P6dj&X-Amz-Signature=f93de0ca196d0892c10d975d15033a827d6de1bd54fe401c169be8a53da4abc8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ZMBBFGX%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040748Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICIqmnqe6NiA93TpbBbQ1cYxtaw8tRh4iRLcVMQYNn6uAiAhh30xJn1JsSwvhYpWUi6sWSFJMJhDrnltnCC3RQYLEir%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMSCDlO%2B9O2yAkdSLtKtwDw8j38HK3NbTWwBU82pJeuHN%2BImEeQVRpWOrS6ErFQXkx1EwHueZO2nB9mbEn4PXbi7H3taYJz6T5Vriv133t%2FAGa8VPaBTk4W%2BD6oEj3RTEciNhhfcn0hFiBkf0U1l3cE7VGeqguwhnMbwohhu7XNlI7dTSkCLCupEbqctwPTcGjcTvr42XXnDJN02jAjM6ummBKevoToJFhAE6Iw5G8hbfW4LJMsBDa1uWSPqqVOFsMoHhu5ZJo4gtqfpg5n5snif54MNC90OTTbRjbIz9L%2BVSxID5ria%2FlJ4f835GGVYrrXCwEErFLtvDHHajOyI3xiqGdDeOgTWVofm40Y3kKi0EJhb5%2FTKacb5U2QyPOea5LGcfd6I29OrzE9tcyoarIkgAj17qYwM%2F%2Bn4GHTlnAe%2BFJTp%2Fk4eGgMk0Bab9zqh3I66EyZcacAncFGX0yhhas3FIMXDckxoWXPNu6xfRiKvxFdrTCBX2inuqeQWS2uVjSkcNojuSXvuQvGXfj4quQ%2FXNYUIGlif1rojztBbtwF2yXWzY5g3l01UF3%2Bn6dHL7vWtzQHVazVYzAcHTPINHl7PooSG4iOc5KPtbV2XvEBM71NZ0kT4LPyxhABKG1jjvstEJ%2B7KP7ZxO1hLgwybu3ygY6pgHdhbNYQnf8ij8YXa5JQ%2Bh80QEdc8FY6VOxgCeXxOAV%2BqE7XOv37R2glSIYK8IeePuPIVDaObRm7Dszotn4dO2wl5Cm6LE5bih%2BFMK6bke1bLpsa513cXgZT%2FtvQtLBzDoHe8txbAHi20AoHAqP%2FXJ2%2BHWsZJTAx4HhSDh%2FT4WaJWJn14%2BnQwZ46iExC%2Fg8zOp6%2BoxsLv0l%2B04xBah%2BReuAmH%2FIo6Pd&X-Amz-Signature=1b97ae82251e425049857b805d3e3213fa0930d6b53b43185346f9ae53a13f07&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ZMBBFGX%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040748Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICIqmnqe6NiA93TpbBbQ1cYxtaw8tRh4iRLcVMQYNn6uAiAhh30xJn1JsSwvhYpWUi6sWSFJMJhDrnltnCC3RQYLEir%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMSCDlO%2B9O2yAkdSLtKtwDw8j38HK3NbTWwBU82pJeuHN%2BImEeQVRpWOrS6ErFQXkx1EwHueZO2nB9mbEn4PXbi7H3taYJz6T5Vriv133t%2FAGa8VPaBTk4W%2BD6oEj3RTEciNhhfcn0hFiBkf0U1l3cE7VGeqguwhnMbwohhu7XNlI7dTSkCLCupEbqctwPTcGjcTvr42XXnDJN02jAjM6ummBKevoToJFhAE6Iw5G8hbfW4LJMsBDa1uWSPqqVOFsMoHhu5ZJo4gtqfpg5n5snif54MNC90OTTbRjbIz9L%2BVSxID5ria%2FlJ4f835GGVYrrXCwEErFLtvDHHajOyI3xiqGdDeOgTWVofm40Y3kKi0EJhb5%2FTKacb5U2QyPOea5LGcfd6I29OrzE9tcyoarIkgAj17qYwM%2F%2Bn4GHTlnAe%2BFJTp%2Fk4eGgMk0Bab9zqh3I66EyZcacAncFGX0yhhas3FIMXDckxoWXPNu6xfRiKvxFdrTCBX2inuqeQWS2uVjSkcNojuSXvuQvGXfj4quQ%2FXNYUIGlif1rojztBbtwF2yXWzY5g3l01UF3%2Bn6dHL7vWtzQHVazVYzAcHTPINHl7PooSG4iOc5KPtbV2XvEBM71NZ0kT4LPyxhABKG1jjvstEJ%2B7KP7ZxO1hLgwybu3ygY6pgHdhbNYQnf8ij8YXa5JQ%2Bh80QEdc8FY6VOxgCeXxOAV%2BqE7XOv37R2glSIYK8IeePuPIVDaObRm7Dszotn4dO2wl5Cm6LE5bih%2BFMK6bke1bLpsa513cXgZT%2FtvQtLBzDoHe8txbAHi20AoHAqP%2FXJ2%2BHWsZJTAx4HhSDh%2FT4WaJWJn14%2BnQwZ46iExC%2Fg8zOp6%2BoxsLv0l%2B04xBah%2BReuAmH%2FIo6Pd&X-Amz-Signature=f717c5a7c732e48eebec24b1040228c030ce624510afcd5f9d867533381c5661&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ZMBBFGX%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040748Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICIqmnqe6NiA93TpbBbQ1cYxtaw8tRh4iRLcVMQYNn6uAiAhh30xJn1JsSwvhYpWUi6sWSFJMJhDrnltnCC3RQYLEir%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMSCDlO%2B9O2yAkdSLtKtwDw8j38HK3NbTWwBU82pJeuHN%2BImEeQVRpWOrS6ErFQXkx1EwHueZO2nB9mbEn4PXbi7H3taYJz6T5Vriv133t%2FAGa8VPaBTk4W%2BD6oEj3RTEciNhhfcn0hFiBkf0U1l3cE7VGeqguwhnMbwohhu7XNlI7dTSkCLCupEbqctwPTcGjcTvr42XXnDJN02jAjM6ummBKevoToJFhAE6Iw5G8hbfW4LJMsBDa1uWSPqqVOFsMoHhu5ZJo4gtqfpg5n5snif54MNC90OTTbRjbIz9L%2BVSxID5ria%2FlJ4f835GGVYrrXCwEErFLtvDHHajOyI3xiqGdDeOgTWVofm40Y3kKi0EJhb5%2FTKacb5U2QyPOea5LGcfd6I29OrzE9tcyoarIkgAj17qYwM%2F%2Bn4GHTlnAe%2BFJTp%2Fk4eGgMk0Bab9zqh3I66EyZcacAncFGX0yhhas3FIMXDckxoWXPNu6xfRiKvxFdrTCBX2inuqeQWS2uVjSkcNojuSXvuQvGXfj4quQ%2FXNYUIGlif1rojztBbtwF2yXWzY5g3l01UF3%2Bn6dHL7vWtzQHVazVYzAcHTPINHl7PooSG4iOc5KPtbV2XvEBM71NZ0kT4LPyxhABKG1jjvstEJ%2B7KP7ZxO1hLgwybu3ygY6pgHdhbNYQnf8ij8YXa5JQ%2Bh80QEdc8FY6VOxgCeXxOAV%2BqE7XOv37R2glSIYK8IeePuPIVDaObRm7Dszotn4dO2wl5Cm6LE5bih%2BFMK6bke1bLpsa513cXgZT%2FtvQtLBzDoHe8txbAHi20AoHAqP%2FXJ2%2BHWsZJTAx4HhSDh%2FT4WaJWJn14%2BnQwZ46iExC%2Fg8zOp6%2BoxsLv0l%2B04xBah%2BReuAmH%2FIo6Pd&X-Amz-Signature=0ac2b0c67f3f6945a04c0306a35e3650ae02af5775d67a105ea8f3f99e67af20&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666ZMBBFGX%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040748Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICIqmnqe6NiA93TpbBbQ1cYxtaw8tRh4iRLcVMQYNn6uAiAhh30xJn1JsSwvhYpWUi6sWSFJMJhDrnltnCC3RQYLEir%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMSCDlO%2B9O2yAkdSLtKtwDw8j38HK3NbTWwBU82pJeuHN%2BImEeQVRpWOrS6ErFQXkx1EwHueZO2nB9mbEn4PXbi7H3taYJz6T5Vriv133t%2FAGa8VPaBTk4W%2BD6oEj3RTEciNhhfcn0hFiBkf0U1l3cE7VGeqguwhnMbwohhu7XNlI7dTSkCLCupEbqctwPTcGjcTvr42XXnDJN02jAjM6ummBKevoToJFhAE6Iw5G8hbfW4LJMsBDa1uWSPqqVOFsMoHhu5ZJo4gtqfpg5n5snif54MNC90OTTbRjbIz9L%2BVSxID5ria%2FlJ4f835GGVYrrXCwEErFLtvDHHajOyI3xiqGdDeOgTWVofm40Y3kKi0EJhb5%2FTKacb5U2QyPOea5LGcfd6I29OrzE9tcyoarIkgAj17qYwM%2F%2Bn4GHTlnAe%2BFJTp%2Fk4eGgMk0Bab9zqh3I66EyZcacAncFGX0yhhas3FIMXDckxoWXPNu6xfRiKvxFdrTCBX2inuqeQWS2uVjSkcNojuSXvuQvGXfj4quQ%2FXNYUIGlif1rojztBbtwF2yXWzY5g3l01UF3%2Bn6dHL7vWtzQHVazVYzAcHTPINHl7PooSG4iOc5KPtbV2XvEBM71NZ0kT4LPyxhABKG1jjvstEJ%2B7KP7ZxO1hLgwybu3ygY6pgHdhbNYQnf8ij8YXa5JQ%2Bh80QEdc8FY6VOxgCeXxOAV%2BqE7XOv37R2glSIYK8IeePuPIVDaObRm7Dszotn4dO2wl5Cm6LE5bih%2BFMK6bke1bLpsa513cXgZT%2FtvQtLBzDoHe8txbAHi20AoHAqP%2FXJ2%2BHWsZJTAx4HhSDh%2FT4WaJWJn14%2BnQwZ46iExC%2Fg8zOp6%2BoxsLv0l%2B04xBah%2BReuAmH%2FIo6Pd&X-Amz-Signature=ba45f51ca855b8dd48cbde11404ba8b7c2681c7685d4990e28dbc60f96375714&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3OMVGKQ%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040751Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC6dATMA9OzqL%2FuM0jiUk%2BHf3Oy4cpfUJXxUmNc3MWPfwIgLI0bL7rHGuibfQZxic3MtFDoFF4wPk1h%2FrKkZXsbU6wq%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDPC%2FENDja2TJIV5WjircA5Ck0l6WGdC13gAK1grcNRfU%2F5Vxs2cr47UbZgt2SuIDqPj071jdqp5WYuKT%2BN68Xmp5oUZNSAclThvT42tNRXEEYjImYAHjhuOQozCBRQi8SNMmpMlKWwgPvbXS3sp9o1DipQfWuxljlXNanc8svy1DGzPMQ4hlmDwG7nZ1HIdCGU0%2F9kDjcFel%2Fq5FjzbI5kmMhOm0TX%2Bqu3F3A%2BEgINcjM4oVNWqXmoVQPEzTei5NDYj6w%2Fn9dV7%2B82FO7TsIv755zrBaINvHojcgIBlg0SxGDrbVoy0l4nIFpfh9iGC17BQ7ILhKYq7i5zsvdMUW7DI0dvx6hVFqejpP5Wd56cEi2YFuJjXremLc9CoLo%2B06Op%2Fj%2BZbvEAk0twrvxuPc4R6MqRhsp2IN5ofYw5g1bq60%2Bp%2BAWfrSRlre%2BsLoPz5O3HXwhEfDGx5IdJOBQiR5deLZnK3e42DjpZ6uSSEQOYwNOlswix3IkYYC8%2BQ0Qn1BhmcHjf1zFUb99zx7QCgurFru4huhh4%2F8pdD%2BX3aZAAtEMHEVprud%2Bn%2BK8DOFiVjyiAxBGBrpdlK56fvDQY6G0u16xzVwFV%2BzuiTOaCYojU9UqUUmZ%2B42JPI7awZ2%2Fkg%2BQsIAeoeJ3Il8NkDmMKu%2Ft8oGOqUBfRncwB%2FQtrj4PPYMHvF%2Fu3aTLCkLlUnsQBs2oPNhxeNjzQT5Lu7AGW23kUERoAUFOhYuRHF1HE7UxZdj6A5PAuFnrp1htD0wmKeqGdQkTF01M6oVcGOMx5qZg0qCwPb59RNGzt93N84HmND%2B4mryomqjh7RVQE%2FGhE8qjRa%2FxTmxGD%2F1%2BOqcdhDGMqGWBDr1nrMpkwlDHrmHl%2F4R2YdK2iGyK3Vi&X-Amz-Signature=2d4d29431820cbfa962204c5a2fd8e5eb24e5f7113109d9c32d8093a44454990&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3OMVGKQ%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040751Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC6dATMA9OzqL%2FuM0jiUk%2BHf3Oy4cpfUJXxUmNc3MWPfwIgLI0bL7rHGuibfQZxic3MtFDoFF4wPk1h%2FrKkZXsbU6wq%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDPC%2FENDja2TJIV5WjircA5Ck0l6WGdC13gAK1grcNRfU%2F5Vxs2cr47UbZgt2SuIDqPj071jdqp5WYuKT%2BN68Xmp5oUZNSAclThvT42tNRXEEYjImYAHjhuOQozCBRQi8SNMmpMlKWwgPvbXS3sp9o1DipQfWuxljlXNanc8svy1DGzPMQ4hlmDwG7nZ1HIdCGU0%2F9kDjcFel%2Fq5FjzbI5kmMhOm0TX%2Bqu3F3A%2BEgINcjM4oVNWqXmoVQPEzTei5NDYj6w%2Fn9dV7%2B82FO7TsIv755zrBaINvHojcgIBlg0SxGDrbVoy0l4nIFpfh9iGC17BQ7ILhKYq7i5zsvdMUW7DI0dvx6hVFqejpP5Wd56cEi2YFuJjXremLc9CoLo%2B06Op%2Fj%2BZbvEAk0twrvxuPc4R6MqRhsp2IN5ofYw5g1bq60%2Bp%2BAWfrSRlre%2BsLoPz5O3HXwhEfDGx5IdJOBQiR5deLZnK3e42DjpZ6uSSEQOYwNOlswix3IkYYC8%2BQ0Qn1BhmcHjf1zFUb99zx7QCgurFru4huhh4%2F8pdD%2BX3aZAAtEMHEVprud%2Bn%2BK8DOFiVjyiAxBGBrpdlK56fvDQY6G0u16xzVwFV%2BzuiTOaCYojU9UqUUmZ%2B42JPI7awZ2%2Fkg%2BQsIAeoeJ3Il8NkDmMKu%2Ft8oGOqUBfRncwB%2FQtrj4PPYMHvF%2Fu3aTLCkLlUnsQBs2oPNhxeNjzQT5Lu7AGW23kUERoAUFOhYuRHF1HE7UxZdj6A5PAuFnrp1htD0wmKeqGdQkTF01M6oVcGOMx5qZg0qCwPb59RNGzt93N84HmND%2B4mryomqjh7RVQE%2FGhE8qjRa%2FxTmxGD%2F1%2BOqcdhDGMqGWBDr1nrMpkwlDHrmHl%2F4R2YdK2iGyK3Vi&X-Amz-Signature=1c98425e46d8294c13a8a5d56decf3ec7f17c6ac5441fbe3c8fb20b023b160ca&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3OMVGKQ%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040751Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC6dATMA9OzqL%2FuM0jiUk%2BHf3Oy4cpfUJXxUmNc3MWPfwIgLI0bL7rHGuibfQZxic3MtFDoFF4wPk1h%2FrKkZXsbU6wq%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDPC%2FENDja2TJIV5WjircA5Ck0l6WGdC13gAK1grcNRfU%2F5Vxs2cr47UbZgt2SuIDqPj071jdqp5WYuKT%2BN68Xmp5oUZNSAclThvT42tNRXEEYjImYAHjhuOQozCBRQi8SNMmpMlKWwgPvbXS3sp9o1DipQfWuxljlXNanc8svy1DGzPMQ4hlmDwG7nZ1HIdCGU0%2F9kDjcFel%2Fq5FjzbI5kmMhOm0TX%2Bqu3F3A%2BEgINcjM4oVNWqXmoVQPEzTei5NDYj6w%2Fn9dV7%2B82FO7TsIv755zrBaINvHojcgIBlg0SxGDrbVoy0l4nIFpfh9iGC17BQ7ILhKYq7i5zsvdMUW7DI0dvx6hVFqejpP5Wd56cEi2YFuJjXremLc9CoLo%2B06Op%2Fj%2BZbvEAk0twrvxuPc4R6MqRhsp2IN5ofYw5g1bq60%2Bp%2BAWfrSRlre%2BsLoPz5O3HXwhEfDGx5IdJOBQiR5deLZnK3e42DjpZ6uSSEQOYwNOlswix3IkYYC8%2BQ0Qn1BhmcHjf1zFUb99zx7QCgurFru4huhh4%2F8pdD%2BX3aZAAtEMHEVprud%2Bn%2BK8DOFiVjyiAxBGBrpdlK56fvDQY6G0u16xzVwFV%2BzuiTOaCYojU9UqUUmZ%2B42JPI7awZ2%2Fkg%2BQsIAeoeJ3Il8NkDmMKu%2Ft8oGOqUBfRncwB%2FQtrj4PPYMHvF%2Fu3aTLCkLlUnsQBs2oPNhxeNjzQT5Lu7AGW23kUERoAUFOhYuRHF1HE7UxZdj6A5PAuFnrp1htD0wmKeqGdQkTF01M6oVcGOMx5qZg0qCwPb59RNGzt93N84HmND%2B4mryomqjh7RVQE%2FGhE8qjRa%2FxTmxGD%2F1%2BOqcdhDGMqGWBDr1nrMpkwlDHrmHl%2F4R2YdK2iGyK3Vi&X-Amz-Signature=1bfb3d3341b02ff5a232136f5b4154f3202b19cb36e291fc3f8b5d00a040546c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3OMVGKQ%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040751Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC6dATMA9OzqL%2FuM0jiUk%2BHf3Oy4cpfUJXxUmNc3MWPfwIgLI0bL7rHGuibfQZxic3MtFDoFF4wPk1h%2FrKkZXsbU6wq%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDPC%2FENDja2TJIV5WjircA5Ck0l6WGdC13gAK1grcNRfU%2F5Vxs2cr47UbZgt2SuIDqPj071jdqp5WYuKT%2BN68Xmp5oUZNSAclThvT42tNRXEEYjImYAHjhuOQozCBRQi8SNMmpMlKWwgPvbXS3sp9o1DipQfWuxljlXNanc8svy1DGzPMQ4hlmDwG7nZ1HIdCGU0%2F9kDjcFel%2Fq5FjzbI5kmMhOm0TX%2Bqu3F3A%2BEgINcjM4oVNWqXmoVQPEzTei5NDYj6w%2Fn9dV7%2B82FO7TsIv755zrBaINvHojcgIBlg0SxGDrbVoy0l4nIFpfh9iGC17BQ7ILhKYq7i5zsvdMUW7DI0dvx6hVFqejpP5Wd56cEi2YFuJjXremLc9CoLo%2B06Op%2Fj%2BZbvEAk0twrvxuPc4R6MqRhsp2IN5ofYw5g1bq60%2Bp%2BAWfrSRlre%2BsLoPz5O3HXwhEfDGx5IdJOBQiR5deLZnK3e42DjpZ6uSSEQOYwNOlswix3IkYYC8%2BQ0Qn1BhmcHjf1zFUb99zx7QCgurFru4huhh4%2F8pdD%2BX3aZAAtEMHEVprud%2Bn%2BK8DOFiVjyiAxBGBrpdlK56fvDQY6G0u16xzVwFV%2BzuiTOaCYojU9UqUUmZ%2B42JPI7awZ2%2Fkg%2BQsIAeoeJ3Il8NkDmMKu%2Ft8oGOqUBfRncwB%2FQtrj4PPYMHvF%2Fu3aTLCkLlUnsQBs2oPNhxeNjzQT5Lu7AGW23kUERoAUFOhYuRHF1HE7UxZdj6A5PAuFnrp1htD0wmKeqGdQkTF01M6oVcGOMx5qZg0qCwPb59RNGzt93N84HmND%2B4mryomqjh7RVQE%2FGhE8qjRa%2FxTmxGD%2F1%2BOqcdhDGMqGWBDr1nrMpkwlDHrmHl%2F4R2YdK2iGyK3Vi&X-Amz-Signature=58622da1525ffd9809a8aab29e9c5c53bfc6e526591a3130d5706132f818d0b0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KGGDY3D%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFv%2BJ5JCJCqgv1iTC5OhbWzfBJ4q0Jh%2F2hsgsX97V2fjAiAuWivRZrOjm2fkFyHrUU0ed4HT7XOqAgH%2Fv7Z2JQlLTyr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMC%2FQsHRLgyYEjqKWDKtwDzk57xMPt3vzf9ehmU2PvGNlLAbuLpWeThSB3qFBKldgHeT1H6uX49pR%2FkPIDZPZBMgEWDUxfZ3NEQraKCWbw38DPkYfU9HWkP6fYxw3eDbFXOVVoNzM%2BF1NlYCMy2rp9p%2BK1sCTyHUp6QP3eeaAjyaNCC9zFh1n5p%2FdFzmjcbpnsFiAuR%2B7MHBeTYEOEv4KVP0OiTez22%2BIwM04sK%2BzfTM93ro0Zzyzq1jVUbIart7TSte4harS%2FHUucOU%2FrSkg8THRFDuuemHrsXdSsz3sBlT16dgWsrZfnL9fgoqLBCsDGdGP2stAYf2jmoneved1bimILfle87l9UG%2BJMrRZNDv3DRFrBorTHaCj1tu0m3vQj%2FdKaDlNtB3gaaqiiiCciTPA8M4EwvTQ7xVX3ZNCl%2Fv9sDNeJXrjoF3Z7uA%2FDL%2BDA0mp9hPVjZuN647wbvcz5aPrXiziR2Uf5eBzRVjEc1C1GljhqeGVPTdLgQDjwn9jUg1CiKxxd0glMfPuDvIIiSX9sXS1zoEaamM%2Bf8YXjYXcxAfgT40DGXDTvD%2FJQtANccc6ARZ72gFpHvSDhXrxrt1chJpQv4zaLosF8gYqMuLpfnxy7OlX6ePRDuzI21rYXmqVRYBdh%2BaWbm2cwxsK3ygY6pgFIHnZUzqdfGEWgEezPPslrJp62Gm7TiyVzsDPzwXsiT3Wqa3EARmhpPdIeffmhHXXszVbJpq2vUQngqh9kV2PBM6CwrGW8men9lDSyKKImMhQlWVPDtfZs00IPX3XlZv4vDGF4AIAF7et8UGSlplvKct5%2Bn14HcyO4p9y6Y%2B311rvreRtz4fYFMMojJ2zFeLvzhlg6fjeuyrX24qyKjyMyZcEeSVWv&X-Amz-Signature=870d954ee573a55fab35e9c3175315e977cfe4ce327d74ad34347a3f233e21a2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KGGDY3D%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFv%2BJ5JCJCqgv1iTC5OhbWzfBJ4q0Jh%2F2hsgsX97V2fjAiAuWivRZrOjm2fkFyHrUU0ed4HT7XOqAgH%2Fv7Z2JQlLTyr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMC%2FQsHRLgyYEjqKWDKtwDzk57xMPt3vzf9ehmU2PvGNlLAbuLpWeThSB3qFBKldgHeT1H6uX49pR%2FkPIDZPZBMgEWDUxfZ3NEQraKCWbw38DPkYfU9HWkP6fYxw3eDbFXOVVoNzM%2BF1NlYCMy2rp9p%2BK1sCTyHUp6QP3eeaAjyaNCC9zFh1n5p%2FdFzmjcbpnsFiAuR%2B7MHBeTYEOEv4KVP0OiTez22%2BIwM04sK%2BzfTM93ro0Zzyzq1jVUbIart7TSte4harS%2FHUucOU%2FrSkg8THRFDuuemHrsXdSsz3sBlT16dgWsrZfnL9fgoqLBCsDGdGP2stAYf2jmoneved1bimILfle87l9UG%2BJMrRZNDv3DRFrBorTHaCj1tu0m3vQj%2FdKaDlNtB3gaaqiiiCciTPA8M4EwvTQ7xVX3ZNCl%2Fv9sDNeJXrjoF3Z7uA%2FDL%2BDA0mp9hPVjZuN647wbvcz5aPrXiziR2Uf5eBzRVjEc1C1GljhqeGVPTdLgQDjwn9jUg1CiKxxd0glMfPuDvIIiSX9sXS1zoEaamM%2Bf8YXjYXcxAfgT40DGXDTvD%2FJQtANccc6ARZ72gFpHvSDhXrxrt1chJpQv4zaLosF8gYqMuLpfnxy7OlX6ePRDuzI21rYXmqVRYBdh%2BaWbm2cwxsK3ygY6pgFIHnZUzqdfGEWgEezPPslrJp62Gm7TiyVzsDPzwXsiT3Wqa3EARmhpPdIeffmhHXXszVbJpq2vUQngqh9kV2PBM6CwrGW8men9lDSyKKImMhQlWVPDtfZs00IPX3XlZv4vDGF4AIAF7et8UGSlplvKct5%2Bn14HcyO4p9y6Y%2B311rvreRtz4fYFMMojJ2zFeLvzhlg6fjeuyrX24qyKjyMyZcEeSVWv&X-Amz-Signature=2391d36c0a26bccbb6bf985896755cfc6ca0d93448cc5e1a0bb0a48141236f9b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KGGDY3D%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFv%2BJ5JCJCqgv1iTC5OhbWzfBJ4q0Jh%2F2hsgsX97V2fjAiAuWivRZrOjm2fkFyHrUU0ed4HT7XOqAgH%2Fv7Z2JQlLTyr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIMC%2FQsHRLgyYEjqKWDKtwDzk57xMPt3vzf9ehmU2PvGNlLAbuLpWeThSB3qFBKldgHeT1H6uX49pR%2FkPIDZPZBMgEWDUxfZ3NEQraKCWbw38DPkYfU9HWkP6fYxw3eDbFXOVVoNzM%2BF1NlYCMy2rp9p%2BK1sCTyHUp6QP3eeaAjyaNCC9zFh1n5p%2FdFzmjcbpnsFiAuR%2B7MHBeTYEOEv4KVP0OiTez22%2BIwM04sK%2BzfTM93ro0Zzyzq1jVUbIart7TSte4harS%2FHUucOU%2FrSkg8THRFDuuemHrsXdSsz3sBlT16dgWsrZfnL9fgoqLBCsDGdGP2stAYf2jmoneved1bimILfle87l9UG%2BJMrRZNDv3DRFrBorTHaCj1tu0m3vQj%2FdKaDlNtB3gaaqiiiCciTPA8M4EwvTQ7xVX3ZNCl%2Fv9sDNeJXrjoF3Z7uA%2FDL%2BDA0mp9hPVjZuN647wbvcz5aPrXiziR2Uf5eBzRVjEc1C1GljhqeGVPTdLgQDjwn9jUg1CiKxxd0glMfPuDvIIiSX9sXS1zoEaamM%2Bf8YXjYXcxAfgT40DGXDTvD%2FJQtANccc6ARZ72gFpHvSDhXrxrt1chJpQv4zaLosF8gYqMuLpfnxy7OlX6ePRDuzI21rYXmqVRYBdh%2BaWbm2cwxsK3ygY6pgFIHnZUzqdfGEWgEezPPslrJp62Gm7TiyVzsDPzwXsiT3Wqa3EARmhpPdIeffmhHXXszVbJpq2vUQngqh9kV2PBM6CwrGW8men9lDSyKKImMhQlWVPDtfZs00IPX3XlZv4vDGF4AIAF7et8UGSlplvKct5%2Bn14HcyO4p9y6Y%2B311rvreRtz4fYFMMojJ2zFeLvzhlg6fjeuyrX24qyKjyMyZcEeSVWv&X-Amz-Signature=b2a01d286b712af9c0aeb506940b8d6caf05acdf79ead756ebb5e14973e89fc6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667HT2KNBU%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFzi%2BNiPrLPYpoEFRigmr%2F3xaBrzmQiXk7Y%2F5d378h5IAiA1C55qNPursaCVgxKjwG6Qzd6UuwW1%2FIUoriKnWtCT2Sr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIM7XgDl1%2F8%2FHZ9KTUoKtwDwywzqhxp343whX9XzziZe%2BxqzvB2PZFZy8nguU%2FnbkJCfOgFoEmUQ9YNAN%2F6Arj56cITndy6m7K4YPeyoFi9lQv05SJloMP6wWAIaKd9wsa5fPlqKEnSlhlMYfTZJEYlBRms3k0MU1jHDabw%2FpmuSHyY2QqpfUWtdFCwLX%2Fa5lc6tMIUHVWUcdeCih2Ol%2FQ9mAxWODczPA1uxfRekSJxPpMSb4SrBFai0p8N9TjBwrS7tyKDyN5HKa7QuN5sirl4FfU0CSJdkmJ53VvNTcioGWGEbFexFwXZXaw%2FhMMH%2Bu%2Fsova5uqnsKalfiRNQvL%2Bblamz2s7OHh9TAd5zF0nwqDSP4Me69Z1Fyujscv6npCmdz2qcj7GisS42dmZjSBx7zrh7uFMXPxzdqzyU%2Bkd2FNpKgWQNreFfwYNITdFG8lHOMMfxhgVCrDPtCLzKdXV9vVnFHLGdeE0h9HWTF5EkhovmOiiK3Vla%2BvoyTqXMr6ACUXQLQlKghF%2FSiSRzWwLdcdisbvbzkkRmRcZiIsaCEAsB%2BLIrOpYMcqcf8a4mbv8xmhhKhJcWv1J3vhTajzZhPoA138vfdr1V1N5cZ68%2B%2BclmTv5fvsSNc2fxqjaP2UJp1Ml95PE%2FP8xmaCYwqL63ygY6pgGtOLMpldHVRz9oqMlaLPSIuFY4BKMkbWupdV%2B5o%2BOKWSpXI%2BQV4Jzq%2BwJ9qOCTtplpHeuzr0PNmbAcCxdnyKejmqRjv0lfRXSzrU5LLuJLR4FoqYQdsb%2FlQfQT6%2BCEKN4BxInSzC848qXBwLWtNXqpD8FduJdNj2PprJ4bwDa3ZJJkMZPqj0MSZwOhlBzA4j8ro3qZHcZJk5vqBw70UF8DReL%2FnS1f&X-Amz-Signature=8066d95cfa90523f8f4a62aab978401e881a67006d455e369ee541fc956ece4d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667HT2KNBU%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFzi%2BNiPrLPYpoEFRigmr%2F3xaBrzmQiXk7Y%2F5d378h5IAiA1C55qNPursaCVgxKjwG6Qzd6UuwW1%2FIUoriKnWtCT2Sr%2FAwhKEAAaDDYzNzQyMzE4MzgwNSIM7XgDl1%2F8%2FHZ9KTUoKtwDwywzqhxp343whX9XzziZe%2BxqzvB2PZFZy8nguU%2FnbkJCfOgFoEmUQ9YNAN%2F6Arj56cITndy6m7K4YPeyoFi9lQv05SJloMP6wWAIaKd9wsa5fPlqKEnSlhlMYfTZJEYlBRms3k0MU1jHDabw%2FpmuSHyY2QqpfUWtdFCwLX%2Fa5lc6tMIUHVWUcdeCih2Ol%2FQ9mAxWODczPA1uxfRekSJxPpMSb4SrBFai0p8N9TjBwrS7tyKDyN5HKa7QuN5sirl4FfU0CSJdkmJ53VvNTcioGWGEbFexFwXZXaw%2FhMMH%2Bu%2Fsova5uqnsKalfiRNQvL%2Bblamz2s7OHh9TAd5zF0nwqDSP4Me69Z1Fyujscv6npCmdz2qcj7GisS42dmZjSBx7zrh7uFMXPxzdqzyU%2Bkd2FNpKgWQNreFfwYNITdFG8lHOMMfxhgVCrDPtCLzKdXV9vVnFHLGdeE0h9HWTF5EkhovmOiiK3Vla%2BvoyTqXMr6ACUXQLQlKghF%2FSiSRzWwLdcdisbvbzkkRmRcZiIsaCEAsB%2BLIrOpYMcqcf8a4mbv8xmhhKhJcWv1J3vhTajzZhPoA138vfdr1V1N5cZ68%2B%2BclmTv5fvsSNc2fxqjaP2UJp1Ml95PE%2FP8xmaCYwqL63ygY6pgGtOLMpldHVRz9oqMlaLPSIuFY4BKMkbWupdV%2B5o%2BOKWSpXI%2BQV4Jzq%2BwJ9qOCTtplpHeuzr0PNmbAcCxdnyKejmqRjv0lfRXSzrU5LLuJLR4FoqYQdsb%2FlQfQT6%2BCEKN4BxInSzC848qXBwLWtNXqpD8FduJdNj2PprJ4bwDa3ZJJkMZPqj0MSZwOhlBzA4j8ro3qZHcZJk5vqBw70UF8DReL%2FnS1f&X-Amz-Signature=598412c0c2bbedc5d1b85b5f7d8a7f7d9f08ae9fbb234682dd99dcfa6eac2d7f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UMSLA63D%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCH5sTX8DTnl3YMMeRaAVeyuCXhclexTunqzb9rQ5el3wIhAMXH4mPZe3gePTIS6EdeDSzUImjIY72ALf1AfPQD4haYKv8DCEoQABoMNjM3NDIzMTgzODA1IgwGCNFt5RDM5e0WSj8q3AN4%2BOt5nXRchQK6YwYyeiXh1WyyQhQFr%2BY6h2LHpUj5sdhoDQW2rNa84jrnuFw%2BILtP4IN0WGMNmKp69UuF50Wo5iLvuZVPG3evlr9AKxuFEoY6y5ttUJdjyEMA6KV9bQ%2FFVl2fe8QhNu02loCoSIGkRbHSCfldjrRqwYijgiwhfCUnN8%2B%2BiNjo5U2d87XO0CFXqvcHcf5xEYEI5XPoY1SElXOeq3kHxWOU1UnBeHZqkEIKTVk52L756W0PQ2n7IyMcJi%2FNrVqH276ppE%2FYLlhpTUQE0UhiloKMNFzEhWO9t6PHc4pcV%2BrPFIcBvJAyuvd7StfFBUZ%2FglAwbrzhSz%2Bg6EYiZoQDMELAzmEmNpaZjglJr9Iweo6Ow4NCEyLqeiqtSlp8mPWqxXB65FE%2BiCe3xHvNLdydworpS5rtDu3A4sXjwLDDmIO7xEY5t9bmrFzj4WsOF1liwPIqCKV4kW3TMsR7FEBYoidfy2cA8KN3IVeVs%2B4EBdI8CPD7iuONpBgiDArIcfKtN8kAMfV%2B3nGgx4saXDey6atNXDfyWMPn7ruP3Ir1xzY2Bdr%2F0cYHew446Vud36KAl1XbWFWFy9nPKbvGBwfisktmExMyhnLS%2FqbXR0yLojmkH7xjnzDGvrfKBjqkAX%2BoBVHOd5e%2Bw2CRrPacokOLWdrVLrRprBFPrMzN0tT6T1ZOAtvcZE6jZ4Om3xMFvU2D8SnR8HY25UkGlxEbElE0XCxF8M%2FoAoTnlikXnBU1Z7frGOuOcWbXcwl90OYI3Z93%2FreiMl%2BcdmrZ2BVYm0rbs2Czgoo8LDJ22CoZK4G89sSpq%2BBtVPHoTnNAdhf1rstmzhUcwGp6hUojcRbKMrsIczzo&X-Amz-Signature=09b41f26d026d4371e6289de0c3633f9ad98d0401f8cf18b79c225a99fe6d62c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UMSLA63D%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCH5sTX8DTnl3YMMeRaAVeyuCXhclexTunqzb9rQ5el3wIhAMXH4mPZe3gePTIS6EdeDSzUImjIY72ALf1AfPQD4haYKv8DCEoQABoMNjM3NDIzMTgzODA1IgwGCNFt5RDM5e0WSj8q3AN4%2BOt5nXRchQK6YwYyeiXh1WyyQhQFr%2BY6h2LHpUj5sdhoDQW2rNa84jrnuFw%2BILtP4IN0WGMNmKp69UuF50Wo5iLvuZVPG3evlr9AKxuFEoY6y5ttUJdjyEMA6KV9bQ%2FFVl2fe8QhNu02loCoSIGkRbHSCfldjrRqwYijgiwhfCUnN8%2B%2BiNjo5U2d87XO0CFXqvcHcf5xEYEI5XPoY1SElXOeq3kHxWOU1UnBeHZqkEIKTVk52L756W0PQ2n7IyMcJi%2FNrVqH276ppE%2FYLlhpTUQE0UhiloKMNFzEhWO9t6PHc4pcV%2BrPFIcBvJAyuvd7StfFBUZ%2FglAwbrzhSz%2Bg6EYiZoQDMELAzmEmNpaZjglJr9Iweo6Ow4NCEyLqeiqtSlp8mPWqxXB65FE%2BiCe3xHvNLdydworpS5rtDu3A4sXjwLDDmIO7xEY5t9bmrFzj4WsOF1liwPIqCKV4kW3TMsR7FEBYoidfy2cA8KN3IVeVs%2B4EBdI8CPD7iuONpBgiDArIcfKtN8kAMfV%2B3nGgx4saXDey6atNXDfyWMPn7ruP3Ir1xzY2Bdr%2F0cYHew446Vud36KAl1XbWFWFy9nPKbvGBwfisktmExMyhnLS%2FqbXR0yLojmkH7xjnzDGvrfKBjqkAX%2BoBVHOd5e%2Bw2CRrPacokOLWdrVLrRprBFPrMzN0tT6T1ZOAtvcZE6jZ4Om3xMFvU2D8SnR8HY25UkGlxEbElE0XCxF8M%2FoAoTnlikXnBU1Z7frGOuOcWbXcwl90OYI3Z93%2FreiMl%2BcdmrZ2BVYm0rbs2Czgoo8LDJ22CoZK4G89sSpq%2BBtVPHoTnNAdhf1rstmzhUcwGp6hUojcRbKMrsIczzo&X-Amz-Signature=5939bb998232715af4fd78d52c04afe89abad48a6043ca38b41e0752e3354ba4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666P347Q2T%2F20251226%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251226T040752Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDEhJlUeLGhURTg8x%2Bink1%2BdZD02ESeLvAY2MdJDOVQCAiEApStIspveuE7BATa8TYDz3oR5vSCmnXdRoTvcVQ2uPx8q%2FwMIShAAGgw2Mzc0MjMxODM4MDUiDODoqZ4mnDyAgO73JircA5dhO5CL37UKIkaN5%2FA5ZMTrCp0WsJL7grF2E%2F57NMAmFf%2BpqaP5sUVF9athYQiMYahi7ZA9ZShMhVOqSbIrDQ6Oiz7hfbE5EAX06KiwfcatSx5Ygx71iDiDsDO9z5YQyNb2YJFzZHn6Von1fjQhnSNc6PVYg%2BhalTnL4inxxAlL1M2nqhq6ppOLdxIn7WTJJtl5d9HPI%2BtQcGTh8BG5Qy79%2BHsQBpnIztMrbJaOaOfeiGqB4HkH3wJpCE8%2BzU5GTJFSMaCGIFnQZwuLzQb7dX%2BaFHQe771KEFNwAVAUdPv0196UbiTlmKHe2ByeU8RDNDBFnjNRw9%2FDrmTZpVYhzLKonCFqMFCTOQia1QrXokLMQpdHTv0Jbp0JokxKrXRZYS37TGWKcGWMhgI68o7JHccHHbHSETknfMlaEDteqgipENPPhDIkDmBz0l%2F5%2BmB%2BJjXtGcIHDdEH8h1%2FQ%2BJSBa8k814XBmBV6Tzyk3ZOzU7HMCw%2FTh9TVvsssXC8INe1Y301b63kUl2NuciqlW%2Fat94rofLEftFtlSPzFT7Wd%2B9000IcgRZ2WXtefPeIsJKhWJ%2Fa%2B42vAkQAcyVMywe7ez00amT%2BNW2pmE%2B4SmH4nQjvjrt2gE6u2O%2FXMfcNMO66t8oGOqUB71Txu6XP1Aa994Dl76Y4SsnB3LgF%2BDVqDbSxEMbL%2BeWw8cObqiAS7Br2MZwnfUR1d7rmdLmZeyQPGgEq7hlCIev4y5ZRgx5u9%2FOhNtPD31PpoSN1JmGWKAPJv%2Fb0bSMuLPWCtxYpZLwTqqV01W6kW9at6Zmy%2Bsjd37bDB4lG7Bp4JbMx%2FgPCO3I%2FMMFdMMt1QfzK56uGcX1kfeChoMMBPxa%2FE8mw&X-Amz-Signature=9947985f10f438538a432b1b9efa39ca87209f2aecbaec4c6f17c7c4de5c1ab2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
