
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W45U5GXH%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIA1Mr2nzO212XprcGSpf9pUholfi1yVXWuYCIVRFUIcxAiAb1EBlNn50dfVJkaQET8IE3zM4b8hKP0XFF9v1as3q%2Fir%2FAwhNEAAaDDYzNzQyMzE4MzgwNSIMH8u1ykRAmvx9sZ8oKtwDmysuQbhd0Z7reLeKnb8TYgQdwrx%2FnxxGf%2BnnsnPi%2FFq9BYnx4Tmq7S8YHWZlW%2FxdjIdm6bl49uxs3FLJRmNqLO7gCl%2F%2FI2KfxrIwYsJiwt8GApJGbDEokbFWzbTMamZZL%2Fp0ssz%2F%2FIhFppGvt6O7xv4BzB6JrBKR8eMaVfPKJ4LzNjoDm%2BTvAmu9QMH8WzFpfjD2vJI%2Bj8nLePGWpWTtzuHm%2BBzB8Mlav82ptV4%2BEUE5PQhyGm%2BptG9JsQ5SUT3IWZD8Mi3e%2BfMbayQ3ysUQLiniG3CHyL6A1kc7yS8Un9pR9XsFJGJyyy%2BEdzNHvZVgzhJFpHQ4Uxn7poHFW47Enpy0Qol%2BnnyZ4OaGUIi5FwwRyeoUTSdKTA8PvhzX1Ay6xKg5Mf71wX9XhuWGDaHbe1KwVfyAGf65Sv36e86Qoj7vTWRA67ZhOXmHPY8T1nnMXBsy9Ys%2BntatDSRJgU9V1U3rRmp7THgUyrD7gNAO5mGTjLjBrnKEpVyhiiww37wyJPte3N%2FiR16QstBqNh%2FoO6Wi%2FTcW8o03%2B7Va8fix5frchcELs56rdeO9YPxxlHn0zm8VyvzFefVnq6et3AwFSw%2F2t7UF4Rf0r3zUhfHOUo6U9Gv%2BwGGfgoUPG90wnOLgywY6pgHBQix2K1TpvgBywYd4d6KP0lDsl2ICov0cCxqQxG%2BIdW2FBMrbvCZNgc%2BFcvw13kJYNOD2grnZ9MBfrCELwjDtrvMe6mR%2FfDyLF0VsjtBpGjaEy7Jy9ymJsS5%2FmsNcwIscXjQD44%2FcpA%2BHrMc8foTMnanYju59UlqvHVKTN5vAjJ4CSBMUfOWHiHdmHt3HxoPyuYrpci0XKzvQuhScwr%2Bli4rxBWv5&X-Amz-Signature=277decee2e24294337a220788ecaf27418651fb19fff06095d05c5ea33ea3385&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W45U5GXH%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIA1Mr2nzO212XprcGSpf9pUholfi1yVXWuYCIVRFUIcxAiAb1EBlNn50dfVJkaQET8IE3zM4b8hKP0XFF9v1as3q%2Fir%2FAwhNEAAaDDYzNzQyMzE4MzgwNSIMH8u1ykRAmvx9sZ8oKtwDmysuQbhd0Z7reLeKnb8TYgQdwrx%2FnxxGf%2BnnsnPi%2FFq9BYnx4Tmq7S8YHWZlW%2FxdjIdm6bl49uxs3FLJRmNqLO7gCl%2F%2FI2KfxrIwYsJiwt8GApJGbDEokbFWzbTMamZZL%2Fp0ssz%2F%2FIhFppGvt6O7xv4BzB6JrBKR8eMaVfPKJ4LzNjoDm%2BTvAmu9QMH8WzFpfjD2vJI%2Bj8nLePGWpWTtzuHm%2BBzB8Mlav82ptV4%2BEUE5PQhyGm%2BptG9JsQ5SUT3IWZD8Mi3e%2BfMbayQ3ysUQLiniG3CHyL6A1kc7yS8Un9pR9XsFJGJyyy%2BEdzNHvZVgzhJFpHQ4Uxn7poHFW47Enpy0Qol%2BnnyZ4OaGUIi5FwwRyeoUTSdKTA8PvhzX1Ay6xKg5Mf71wX9XhuWGDaHbe1KwVfyAGf65Sv36e86Qoj7vTWRA67ZhOXmHPY8T1nnMXBsy9Ys%2BntatDSRJgU9V1U3rRmp7THgUyrD7gNAO5mGTjLjBrnKEpVyhiiww37wyJPte3N%2FiR16QstBqNh%2FoO6Wi%2FTcW8o03%2B7Va8fix5frchcELs56rdeO9YPxxlHn0zm8VyvzFefVnq6et3AwFSw%2F2t7UF4Rf0r3zUhfHOUo6U9Gv%2BwGGfgoUPG90wnOLgywY6pgHBQix2K1TpvgBywYd4d6KP0lDsl2ICov0cCxqQxG%2BIdW2FBMrbvCZNgc%2BFcvw13kJYNOD2grnZ9MBfrCELwjDtrvMe6mR%2FfDyLF0VsjtBpGjaEy7Jy9ymJsS5%2FmsNcwIscXjQD44%2FcpA%2BHrMc8foTMnanYju59UlqvHVKTN5vAjJ4CSBMUfOWHiHdmHt3HxoPyuYrpci0XKzvQuhScwr%2Bli4rxBWv5&X-Amz-Signature=1531be18800ce8f00e84951df9125679436be08967e292f554fb50ce657c8325&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W45U5GXH%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIA1Mr2nzO212XprcGSpf9pUholfi1yVXWuYCIVRFUIcxAiAb1EBlNn50dfVJkaQET8IE3zM4b8hKP0XFF9v1as3q%2Fir%2FAwhNEAAaDDYzNzQyMzE4MzgwNSIMH8u1ykRAmvx9sZ8oKtwDmysuQbhd0Z7reLeKnb8TYgQdwrx%2FnxxGf%2BnnsnPi%2FFq9BYnx4Tmq7S8YHWZlW%2FxdjIdm6bl49uxs3FLJRmNqLO7gCl%2F%2FI2KfxrIwYsJiwt8GApJGbDEokbFWzbTMamZZL%2Fp0ssz%2F%2FIhFppGvt6O7xv4BzB6JrBKR8eMaVfPKJ4LzNjoDm%2BTvAmu9QMH8WzFpfjD2vJI%2Bj8nLePGWpWTtzuHm%2BBzB8Mlav82ptV4%2BEUE5PQhyGm%2BptG9JsQ5SUT3IWZD8Mi3e%2BfMbayQ3ysUQLiniG3CHyL6A1kc7yS8Un9pR9XsFJGJyyy%2BEdzNHvZVgzhJFpHQ4Uxn7poHFW47Enpy0Qol%2BnnyZ4OaGUIi5FwwRyeoUTSdKTA8PvhzX1Ay6xKg5Mf71wX9XhuWGDaHbe1KwVfyAGf65Sv36e86Qoj7vTWRA67ZhOXmHPY8T1nnMXBsy9Ys%2BntatDSRJgU9V1U3rRmp7THgUyrD7gNAO5mGTjLjBrnKEpVyhiiww37wyJPte3N%2FiR16QstBqNh%2FoO6Wi%2FTcW8o03%2B7Va8fix5frchcELs56rdeO9YPxxlHn0zm8VyvzFefVnq6et3AwFSw%2F2t7UF4Rf0r3zUhfHOUo6U9Gv%2BwGGfgoUPG90wnOLgywY6pgHBQix2K1TpvgBywYd4d6KP0lDsl2ICov0cCxqQxG%2BIdW2FBMrbvCZNgc%2BFcvw13kJYNOD2grnZ9MBfrCELwjDtrvMe6mR%2FfDyLF0VsjtBpGjaEy7Jy9ymJsS5%2FmsNcwIscXjQD44%2FcpA%2BHrMc8foTMnanYju59UlqvHVKTN5vAjJ4CSBMUfOWHiHdmHt3HxoPyuYrpci0XKzvQuhScwr%2Bli4rxBWv5&X-Amz-Signature=151725ef26b85c7a40a3588ee6ffc71eaa0b29a19cf6f0b013d9246edbbefb02&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QUJXJ6CD%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDl9RHK5v6b%2FPYDAyKbo3lS5OwKNzVaWHQSgHJxYHyKKAiArErprAMWvsfsUDD3MWHrDerynx0OLkTVyfWuzRGVbxCr%2FAwhNEAAaDDYzNzQyMzE4MzgwNSIMz9BhuPAr2Spfv93EKtwD7OhYsg8vbF%2FpAPFZfToCooZtJPH%2FirB6mm6DGuZK0r0qePoHE9cS9TRgMChinIOS%2BE2DSl3J2bd0w34uAoVWkESTZLFgth0QLF3JoZK4iA3UxH73yOvB7stlFcxzTFndv77%2B9jWrJXj79iixqCEKDUnHFWmfeFA67XSui8J4HT9tnimyo55Rk2u%2BPhBEeeIYLwUVWiGZ7sCFUieknAasV0fFbXlZZwqimFb3exRmrrUMjaqWoGSAD6sp4f5OuywTAw0OdToa1HezGoDPHjKGomjOlIdbuqctPMjri5zfkVv74dotig0tazGsUqmEnbM%2Fy%2Blor4To40UdrUVQafUzBrCMptng7J0XXUjDmREst%2BaolhzHJ7u7tY24rM6Xk%2B1FVVXGiofBKdXrkZnipvxli24YbM00dEnZ47eT8ivH2k%2B0x%2BioLd82sAwdaB7FkLIKLmmoLA%2F8WrhsW26d7sAovKbZ6OcXWZI0sRKRX0bgnpT2B9SnSc8rr2L6RX0qHG7Bh%2F%2B3tGb57CHvXBelgZMzXq76FfbjDlXNtVPqXMI7GMr3g%2BlH%2FU3scgaSWzLbddcTsRwvVMVdP1rYmQ6CnVasnHw1zmhlDJwa1PQmeUqFLC6mj%2FPoctqR0x8eU4sw%2FuLgywY6pgEFrG0V2ikkXeMBS%2B7qweVh4XdhRcIjLjFXbZ2tXJpdUQePwdMJLBjgDa7aHyEY%2FtIKIhjI9rlXjMyjHFW5w3H054xpwSb48ysaj3XRHnsvyiR7S8%2FSvURxQ1PqNDdkeWNblW5jH%2FrQtzL3B%2FqS7ecDZr6HmuYzV%2F%2BvtJMeMYWjpjVA2IiLXAGnkT%2F1oxbAfSWsWhKSulW59bF%2FzZRwQl6MJIrbkf8A&X-Amz-Signature=2374c7572550c0c40229209db4ac703db57caf2dcd392442bbaece039a2f62f8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QUJXJ6CD%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDl9RHK5v6b%2FPYDAyKbo3lS5OwKNzVaWHQSgHJxYHyKKAiArErprAMWvsfsUDD3MWHrDerynx0OLkTVyfWuzRGVbxCr%2FAwhNEAAaDDYzNzQyMzE4MzgwNSIMz9BhuPAr2Spfv93EKtwD7OhYsg8vbF%2FpAPFZfToCooZtJPH%2FirB6mm6DGuZK0r0qePoHE9cS9TRgMChinIOS%2BE2DSl3J2bd0w34uAoVWkESTZLFgth0QLF3JoZK4iA3UxH73yOvB7stlFcxzTFndv77%2B9jWrJXj79iixqCEKDUnHFWmfeFA67XSui8J4HT9tnimyo55Rk2u%2BPhBEeeIYLwUVWiGZ7sCFUieknAasV0fFbXlZZwqimFb3exRmrrUMjaqWoGSAD6sp4f5OuywTAw0OdToa1HezGoDPHjKGomjOlIdbuqctPMjri5zfkVv74dotig0tazGsUqmEnbM%2Fy%2Blor4To40UdrUVQafUzBrCMptng7J0XXUjDmREst%2BaolhzHJ7u7tY24rM6Xk%2B1FVVXGiofBKdXrkZnipvxli24YbM00dEnZ47eT8ivH2k%2B0x%2BioLd82sAwdaB7FkLIKLmmoLA%2F8WrhsW26d7sAovKbZ6OcXWZI0sRKRX0bgnpT2B9SnSc8rr2L6RX0qHG7Bh%2F%2B3tGb57CHvXBelgZMzXq76FfbjDlXNtVPqXMI7GMr3g%2BlH%2FU3scgaSWzLbddcTsRwvVMVdP1rYmQ6CnVasnHw1zmhlDJwa1PQmeUqFLC6mj%2FPoctqR0x8eU4sw%2FuLgywY6pgEFrG0V2ikkXeMBS%2B7qweVh4XdhRcIjLjFXbZ2tXJpdUQePwdMJLBjgDa7aHyEY%2FtIKIhjI9rlXjMyjHFW5w3H054xpwSb48ysaj3XRHnsvyiR7S8%2FSvURxQ1PqNDdkeWNblW5jH%2FrQtzL3B%2FqS7ecDZr6HmuYzV%2F%2BvtJMeMYWjpjVA2IiLXAGnkT%2F1oxbAfSWsWhKSulW59bF%2FzZRwQl6MJIrbkf8A&X-Amz-Signature=07117dc3747f7ca8568aa64287f1638230a23525746bffd84a014c94daa68703&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QUJXJ6CD%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDl9RHK5v6b%2FPYDAyKbo3lS5OwKNzVaWHQSgHJxYHyKKAiArErprAMWvsfsUDD3MWHrDerynx0OLkTVyfWuzRGVbxCr%2FAwhNEAAaDDYzNzQyMzE4MzgwNSIMz9BhuPAr2Spfv93EKtwD7OhYsg8vbF%2FpAPFZfToCooZtJPH%2FirB6mm6DGuZK0r0qePoHE9cS9TRgMChinIOS%2BE2DSl3J2bd0w34uAoVWkESTZLFgth0QLF3JoZK4iA3UxH73yOvB7stlFcxzTFndv77%2B9jWrJXj79iixqCEKDUnHFWmfeFA67XSui8J4HT9tnimyo55Rk2u%2BPhBEeeIYLwUVWiGZ7sCFUieknAasV0fFbXlZZwqimFb3exRmrrUMjaqWoGSAD6sp4f5OuywTAw0OdToa1HezGoDPHjKGomjOlIdbuqctPMjri5zfkVv74dotig0tazGsUqmEnbM%2Fy%2Blor4To40UdrUVQafUzBrCMptng7J0XXUjDmREst%2BaolhzHJ7u7tY24rM6Xk%2B1FVVXGiofBKdXrkZnipvxli24YbM00dEnZ47eT8ivH2k%2B0x%2BioLd82sAwdaB7FkLIKLmmoLA%2F8WrhsW26d7sAovKbZ6OcXWZI0sRKRX0bgnpT2B9SnSc8rr2L6RX0qHG7Bh%2F%2B3tGb57CHvXBelgZMzXq76FfbjDlXNtVPqXMI7GMr3g%2BlH%2FU3scgaSWzLbddcTsRwvVMVdP1rYmQ6CnVasnHw1zmhlDJwa1PQmeUqFLC6mj%2FPoctqR0x8eU4sw%2FuLgywY6pgEFrG0V2ikkXeMBS%2B7qweVh4XdhRcIjLjFXbZ2tXJpdUQePwdMJLBjgDa7aHyEY%2FtIKIhjI9rlXjMyjHFW5w3H054xpwSb48ysaj3XRHnsvyiR7S8%2FSvURxQ1PqNDdkeWNblW5jH%2FrQtzL3B%2FqS7ecDZr6HmuYzV%2F%2BvtJMeMYWjpjVA2IiLXAGnkT%2F1oxbAfSWsWhKSulW59bF%2FzZRwQl6MJIrbkf8A&X-Amz-Signature=12c86309cafeab53d649a61fe4b6b369cc98527f26929a85e37d564a2fbb2587&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W36XOSDG%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD1oiaw9VxpGFFw2VfKUqMj4TYE%2Fkls2VJ5hRSnXHe02gIhAPR0pn6tCgX7fSH%2B%2FJXndmnNVD70KR1uUNKIXNNZobmuKv8DCE0QABoMNjM3NDIzMTgzODA1IgzEJjh1lm9xrs7cWGYq3AO9as555batC156OSjogr6tcS8PUDJPH%2FHfMHJa4RdVceIomptrUtoF%2FD%2B96M1zbmYhmPRVWnZUXq3tHeyo4cZc%2FYapqC8INH4xwfPR7RpGQDIJrKqZVxLpPaZoRrM0WN%2F1vNBExMAjy4kP3ex4pk2kz5gG7iVo7%2Fb7%2BonMyPYbp8tzfrKWMLcTlWIhn8lUhhaGhx6aUz%2B1lA2emTRF97iMcqjhMU%2FFTFoE4LDNuOAZsvwRBcEFBDXIwmR6F1lSwi3q6hsYz9l6Vl06VIO59ER7R02kfX9pvvUsND4Oa1VUoZkdEkxKjSPMEklYVyPI2eudLWysKpJ%2BUnVWJYYq9dPkdEBO1Y23k0ZlI%2FLEDG293%2F2P55dXNHK1SMmHaAMCgF3eonoKwyNz7Kaj7FuCnB1bjHNXQGYvk93vLRLPpWq0I7oPNcJpa%2B675PsUtRX7RF7BbwAGKtBKw0wUkIEeNoyjyB4Thbt%2B2aSLVmUzDUcdG2BtWAVNaUCrKqqmWaF09oNl8mN%2FmWsy3Qva%2BXBnnX2HL%2BibC0ibDKtS8CavBjn2yjdV9lQGEMJGqVF9EKHVUUzH8R2thql9JWHRzFvU55yAhx6f1SQH1llffSXaSq%2B5KqT%2FjsfUOk7Tw8dpSTC84%2BDLBjqkAUo2o72NCKNowRD5olVLMGA%2B93yCn8e0v%2Fck%2FGANdoZuUv5z8mY8roQNFxuwzuSsuYcGj8PDzZQvJa4qjQPFRa8u41DByeuY3ohE88STSbzUcJLXyB13wEYuyUdh1G3G%2Bb%2BozdDzkQO75Pq4WuOM%2BhJ3MF6DlO%2BxmjW1qwP1US1w786cpds7RfZhauIbA1M6r6QxthMb%2FNQ%2FCK0p4S8EaVEVefTi&X-Amz-Signature=44ac6b36810d5ae3d4ed2c257fc51aead8bce7f2990e3559596bb77659f826c1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W36XOSDG%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD1oiaw9VxpGFFw2VfKUqMj4TYE%2Fkls2VJ5hRSnXHe02gIhAPR0pn6tCgX7fSH%2B%2FJXndmnNVD70KR1uUNKIXNNZobmuKv8DCE0QABoMNjM3NDIzMTgzODA1IgzEJjh1lm9xrs7cWGYq3AO9as555batC156OSjogr6tcS8PUDJPH%2FHfMHJa4RdVceIomptrUtoF%2FD%2B96M1zbmYhmPRVWnZUXq3tHeyo4cZc%2FYapqC8INH4xwfPR7RpGQDIJrKqZVxLpPaZoRrM0WN%2F1vNBExMAjy4kP3ex4pk2kz5gG7iVo7%2Fb7%2BonMyPYbp8tzfrKWMLcTlWIhn8lUhhaGhx6aUz%2B1lA2emTRF97iMcqjhMU%2FFTFoE4LDNuOAZsvwRBcEFBDXIwmR6F1lSwi3q6hsYz9l6Vl06VIO59ER7R02kfX9pvvUsND4Oa1VUoZkdEkxKjSPMEklYVyPI2eudLWysKpJ%2BUnVWJYYq9dPkdEBO1Y23k0ZlI%2FLEDG293%2F2P55dXNHK1SMmHaAMCgF3eonoKwyNz7Kaj7FuCnB1bjHNXQGYvk93vLRLPpWq0I7oPNcJpa%2B675PsUtRX7RF7BbwAGKtBKw0wUkIEeNoyjyB4Thbt%2B2aSLVmUzDUcdG2BtWAVNaUCrKqqmWaF09oNl8mN%2FmWsy3Qva%2BXBnnX2HL%2BibC0ibDKtS8CavBjn2yjdV9lQGEMJGqVF9EKHVUUzH8R2thql9JWHRzFvU55yAhx6f1SQH1llffSXaSq%2B5KqT%2FjsfUOk7Tw8dpSTC84%2BDLBjqkAUo2o72NCKNowRD5olVLMGA%2B93yCn8e0v%2Fck%2FGANdoZuUv5z8mY8roQNFxuwzuSsuYcGj8PDzZQvJa4qjQPFRa8u41DByeuY3ohE88STSbzUcJLXyB13wEYuyUdh1G3G%2Bb%2BozdDzkQO75Pq4WuOM%2BhJ3MF6DlO%2BxmjW1qwP1US1w786cpds7RfZhauIbA1M6r6QxthMb%2FNQ%2FCK0p4S8EaVEVefTi&X-Amz-Signature=6f85f196aed959c0e038709b82558fb9e0510fd21f1ce8600d3a347a5050aeb6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W36XOSDG%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD1oiaw9VxpGFFw2VfKUqMj4TYE%2Fkls2VJ5hRSnXHe02gIhAPR0pn6tCgX7fSH%2B%2FJXndmnNVD70KR1uUNKIXNNZobmuKv8DCE0QABoMNjM3NDIzMTgzODA1IgzEJjh1lm9xrs7cWGYq3AO9as555batC156OSjogr6tcS8PUDJPH%2FHfMHJa4RdVceIomptrUtoF%2FD%2B96M1zbmYhmPRVWnZUXq3tHeyo4cZc%2FYapqC8INH4xwfPR7RpGQDIJrKqZVxLpPaZoRrM0WN%2F1vNBExMAjy4kP3ex4pk2kz5gG7iVo7%2Fb7%2BonMyPYbp8tzfrKWMLcTlWIhn8lUhhaGhx6aUz%2B1lA2emTRF97iMcqjhMU%2FFTFoE4LDNuOAZsvwRBcEFBDXIwmR6F1lSwi3q6hsYz9l6Vl06VIO59ER7R02kfX9pvvUsND4Oa1VUoZkdEkxKjSPMEklYVyPI2eudLWysKpJ%2BUnVWJYYq9dPkdEBO1Y23k0ZlI%2FLEDG293%2F2P55dXNHK1SMmHaAMCgF3eonoKwyNz7Kaj7FuCnB1bjHNXQGYvk93vLRLPpWq0I7oPNcJpa%2B675PsUtRX7RF7BbwAGKtBKw0wUkIEeNoyjyB4Thbt%2B2aSLVmUzDUcdG2BtWAVNaUCrKqqmWaF09oNl8mN%2FmWsy3Qva%2BXBnnX2HL%2BibC0ibDKtS8CavBjn2yjdV9lQGEMJGqVF9EKHVUUzH8R2thql9JWHRzFvU55yAhx6f1SQH1llffSXaSq%2B5KqT%2FjsfUOk7Tw8dpSTC84%2BDLBjqkAUo2o72NCKNowRD5olVLMGA%2B93yCn8e0v%2Fck%2FGANdoZuUv5z8mY8roQNFxuwzuSsuYcGj8PDzZQvJa4qjQPFRa8u41DByeuY3ohE88STSbzUcJLXyB13wEYuyUdh1G3G%2Bb%2BozdDzkQO75Pq4WuOM%2BhJ3MF6DlO%2BxmjW1qwP1US1w786cpds7RfZhauIbA1M6r6QxthMb%2FNQ%2FCK0p4S8EaVEVefTi&X-Amz-Signature=033df6926b40b826c76fb06459833a55c136199f3b55bcb91151076fc317f304&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W36XOSDG%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD1oiaw9VxpGFFw2VfKUqMj4TYE%2Fkls2VJ5hRSnXHe02gIhAPR0pn6tCgX7fSH%2B%2FJXndmnNVD70KR1uUNKIXNNZobmuKv8DCE0QABoMNjM3NDIzMTgzODA1IgzEJjh1lm9xrs7cWGYq3AO9as555batC156OSjogr6tcS8PUDJPH%2FHfMHJa4RdVceIomptrUtoF%2FD%2B96M1zbmYhmPRVWnZUXq3tHeyo4cZc%2FYapqC8INH4xwfPR7RpGQDIJrKqZVxLpPaZoRrM0WN%2F1vNBExMAjy4kP3ex4pk2kz5gG7iVo7%2Fb7%2BonMyPYbp8tzfrKWMLcTlWIhn8lUhhaGhx6aUz%2B1lA2emTRF97iMcqjhMU%2FFTFoE4LDNuOAZsvwRBcEFBDXIwmR6F1lSwi3q6hsYz9l6Vl06VIO59ER7R02kfX9pvvUsND4Oa1VUoZkdEkxKjSPMEklYVyPI2eudLWysKpJ%2BUnVWJYYq9dPkdEBO1Y23k0ZlI%2FLEDG293%2F2P55dXNHK1SMmHaAMCgF3eonoKwyNz7Kaj7FuCnB1bjHNXQGYvk93vLRLPpWq0I7oPNcJpa%2B675PsUtRX7RF7BbwAGKtBKw0wUkIEeNoyjyB4Thbt%2B2aSLVmUzDUcdG2BtWAVNaUCrKqqmWaF09oNl8mN%2FmWsy3Qva%2BXBnnX2HL%2BibC0ibDKtS8CavBjn2yjdV9lQGEMJGqVF9EKHVUUzH8R2thql9JWHRzFvU55yAhx6f1SQH1llffSXaSq%2B5KqT%2FjsfUOk7Tw8dpSTC84%2BDLBjqkAUo2o72NCKNowRD5olVLMGA%2B93yCn8e0v%2Fck%2FGANdoZuUv5z8mY8roQNFxuwzuSsuYcGj8PDzZQvJa4qjQPFRa8u41DByeuY3ohE88STSbzUcJLXyB13wEYuyUdh1G3G%2Bb%2BozdDzkQO75Pq4WuOM%2BhJ3MF6DlO%2BxmjW1qwP1US1w786cpds7RfZhauIbA1M6r6QxthMb%2FNQ%2FCK0p4S8EaVEVefTi&X-Amz-Signature=525ad974195a65bba29e1a69099235ba08b69a80c5c7058ae7b330f6c76dad67&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QLWG3SAY%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCvwVmaC%2BlVRsWs6zaAPjZ02PHiWzyoHU%2BKqesur5rsPwIhAIGE6eopo1q0MOlIJrlBwZEX2pQ3OUsxYzOG7dPnNOqRKv8DCE0QABoMNjM3NDIzMTgzODA1IgyFqIGtl1lQYYYnxY4q3APnysMJRh%2Flb36eRl4Vs7sBdBuKgWebxU43WmyctMJjKXQ58%2B%2BduhlEYwgSFxN3eHLhTq5mSTmDPqHZjLNqZncSFR3QehmcD1%2FCbsugD%2FFxwji2jC9mj1VlwZvCuzR%2F3R7FCEu9GD1OJnrlp4tHwxaZWSlY05V38XRNBOcHxaXXlCFudYUKeXndD6Wl0zplOImCkNjsirBW2e9tQuPwkFyEq9fBeOoQ3bOUxhk2Qul%2B655Fc4cXARjZAEhebhLG7RSTq3j4j%2BU2%2F6fTug8H43M6sSDRzm87tErY7W5IxbNh4LIimZTI3tBKRGtKCAyn2njs1jXQdRjBIdXwrzKEms7P5raFWqzNNjVR45Lpqtq7AatUmlPwGDGrcbB9C2DE6JMp2oNLDSbrHJV8VlpDaR2modWSjgf2otISx9pNyFxK8Sezx67i%2FEGjtTcA8aAmzQHdludfZ8RAELN0%2FOcRHpVRQFcwmKsq9A44CWUPQYIR3EE1873PiYFVvCU7deHZd4aclpPEEC%2BTGDiorq3yjMMg40uqqWe%2BpHXDeVGOV%2F6vFp3YrIjlI79WiU5OG9PsgQEsDyTmGFXmn7fzbKY2bPOIUWMbh2BZArXhjcKwKGnBAytuGnddCvebz2tsozC84uDLBjqkAQMDUttSDMkNL%2B8k9InmBXkAPhxX8m88LEqIApVv94Bg1r%2Fkc%2FWlIDVO5liXYBoQDyqWoiZ%2BV0QWx6v3HqDPAGgGlNBF8DBQgTvzdI0%2FVGi7QXI821KFjeyhHgBFbSrFYWUiK1Gl4qaY1RI9aTLMv7GVM1cigXHeE9jl8nqNHRVuqS1FHXK%2BYcPxl3HXQSTz27WkWALQwULxfYPZMk6kRX4oxwUD&X-Amz-Signature=365c2a9b03e73a9258d55b5ddc491788901efaeb401ff1143ff6eaf12cc710e5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QLWG3SAY%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCvwVmaC%2BlVRsWs6zaAPjZ02PHiWzyoHU%2BKqesur5rsPwIhAIGE6eopo1q0MOlIJrlBwZEX2pQ3OUsxYzOG7dPnNOqRKv8DCE0QABoMNjM3NDIzMTgzODA1IgyFqIGtl1lQYYYnxY4q3APnysMJRh%2Flb36eRl4Vs7sBdBuKgWebxU43WmyctMJjKXQ58%2B%2BduhlEYwgSFxN3eHLhTq5mSTmDPqHZjLNqZncSFR3QehmcD1%2FCbsugD%2FFxwji2jC9mj1VlwZvCuzR%2F3R7FCEu9GD1OJnrlp4tHwxaZWSlY05V38XRNBOcHxaXXlCFudYUKeXndD6Wl0zplOImCkNjsirBW2e9tQuPwkFyEq9fBeOoQ3bOUxhk2Qul%2B655Fc4cXARjZAEhebhLG7RSTq3j4j%2BU2%2F6fTug8H43M6sSDRzm87tErY7W5IxbNh4LIimZTI3tBKRGtKCAyn2njs1jXQdRjBIdXwrzKEms7P5raFWqzNNjVR45Lpqtq7AatUmlPwGDGrcbB9C2DE6JMp2oNLDSbrHJV8VlpDaR2modWSjgf2otISx9pNyFxK8Sezx67i%2FEGjtTcA8aAmzQHdludfZ8RAELN0%2FOcRHpVRQFcwmKsq9A44CWUPQYIR3EE1873PiYFVvCU7deHZd4aclpPEEC%2BTGDiorq3yjMMg40uqqWe%2BpHXDeVGOV%2F6vFp3YrIjlI79WiU5OG9PsgQEsDyTmGFXmn7fzbKY2bPOIUWMbh2BZArXhjcKwKGnBAytuGnddCvebz2tsozC84uDLBjqkAQMDUttSDMkNL%2B8k9InmBXkAPhxX8m88LEqIApVv94Bg1r%2Fkc%2FWlIDVO5liXYBoQDyqWoiZ%2BV0QWx6v3HqDPAGgGlNBF8DBQgTvzdI0%2FVGi7QXI821KFjeyhHgBFbSrFYWUiK1Gl4qaY1RI9aTLMv7GVM1cigXHeE9jl8nqNHRVuqS1FHXK%2BYcPxl3HXQSTz27WkWALQwULxfYPZMk6kRX4oxwUD&X-Amz-Signature=bb7e7991a06b172e7c1f004c05917281cff97d5f33e98439e027ec84272f893b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QLWG3SAY%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCvwVmaC%2BlVRsWs6zaAPjZ02PHiWzyoHU%2BKqesur5rsPwIhAIGE6eopo1q0MOlIJrlBwZEX2pQ3OUsxYzOG7dPnNOqRKv8DCE0QABoMNjM3NDIzMTgzODA1IgyFqIGtl1lQYYYnxY4q3APnysMJRh%2Flb36eRl4Vs7sBdBuKgWebxU43WmyctMJjKXQ58%2B%2BduhlEYwgSFxN3eHLhTq5mSTmDPqHZjLNqZncSFR3QehmcD1%2FCbsugD%2FFxwji2jC9mj1VlwZvCuzR%2F3R7FCEu9GD1OJnrlp4tHwxaZWSlY05V38XRNBOcHxaXXlCFudYUKeXndD6Wl0zplOImCkNjsirBW2e9tQuPwkFyEq9fBeOoQ3bOUxhk2Qul%2B655Fc4cXARjZAEhebhLG7RSTq3j4j%2BU2%2F6fTug8H43M6sSDRzm87tErY7W5IxbNh4LIimZTI3tBKRGtKCAyn2njs1jXQdRjBIdXwrzKEms7P5raFWqzNNjVR45Lpqtq7AatUmlPwGDGrcbB9C2DE6JMp2oNLDSbrHJV8VlpDaR2modWSjgf2otISx9pNyFxK8Sezx67i%2FEGjtTcA8aAmzQHdludfZ8RAELN0%2FOcRHpVRQFcwmKsq9A44CWUPQYIR3EE1873PiYFVvCU7deHZd4aclpPEEC%2BTGDiorq3yjMMg40uqqWe%2BpHXDeVGOV%2F6vFp3YrIjlI79WiU5OG9PsgQEsDyTmGFXmn7fzbKY2bPOIUWMbh2BZArXhjcKwKGnBAytuGnddCvebz2tsozC84uDLBjqkAQMDUttSDMkNL%2B8k9InmBXkAPhxX8m88LEqIApVv94Bg1r%2Fkc%2FWlIDVO5liXYBoQDyqWoiZ%2BV0QWx6v3HqDPAGgGlNBF8DBQgTvzdI0%2FVGi7QXI821KFjeyhHgBFbSrFYWUiK1Gl4qaY1RI9aTLMv7GVM1cigXHeE9jl8nqNHRVuqS1FHXK%2BYcPxl3HXQSTz27WkWALQwULxfYPZMk6kRX4oxwUD&X-Amz-Signature=5934d0d5ea0b984e65c601e85e79a4fcf597524890cd11d59e93169d855b4877&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QLWG3SAY%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCvwVmaC%2BlVRsWs6zaAPjZ02PHiWzyoHU%2BKqesur5rsPwIhAIGE6eopo1q0MOlIJrlBwZEX2pQ3OUsxYzOG7dPnNOqRKv8DCE0QABoMNjM3NDIzMTgzODA1IgyFqIGtl1lQYYYnxY4q3APnysMJRh%2Flb36eRl4Vs7sBdBuKgWebxU43WmyctMJjKXQ58%2B%2BduhlEYwgSFxN3eHLhTq5mSTmDPqHZjLNqZncSFR3QehmcD1%2FCbsugD%2FFxwji2jC9mj1VlwZvCuzR%2F3R7FCEu9GD1OJnrlp4tHwxaZWSlY05V38XRNBOcHxaXXlCFudYUKeXndD6Wl0zplOImCkNjsirBW2e9tQuPwkFyEq9fBeOoQ3bOUxhk2Qul%2B655Fc4cXARjZAEhebhLG7RSTq3j4j%2BU2%2F6fTug8H43M6sSDRzm87tErY7W5IxbNh4LIimZTI3tBKRGtKCAyn2njs1jXQdRjBIdXwrzKEms7P5raFWqzNNjVR45Lpqtq7AatUmlPwGDGrcbB9C2DE6JMp2oNLDSbrHJV8VlpDaR2modWSjgf2otISx9pNyFxK8Sezx67i%2FEGjtTcA8aAmzQHdludfZ8RAELN0%2FOcRHpVRQFcwmKsq9A44CWUPQYIR3EE1873PiYFVvCU7deHZd4aclpPEEC%2BTGDiorq3yjMMg40uqqWe%2BpHXDeVGOV%2F6vFp3YrIjlI79WiU5OG9PsgQEsDyTmGFXmn7fzbKY2bPOIUWMbh2BZArXhjcKwKGnBAytuGnddCvebz2tsozC84uDLBjqkAQMDUttSDMkNL%2B8k9InmBXkAPhxX8m88LEqIApVv94Bg1r%2Fkc%2FWlIDVO5liXYBoQDyqWoiZ%2BV0QWx6v3HqDPAGgGlNBF8DBQgTvzdI0%2FVGi7QXI821KFjeyhHgBFbSrFYWUiK1Gl4qaY1RI9aTLMv7GVM1cigXHeE9jl8nqNHRVuqS1FHXK%2BYcPxl3HXQSTz27WkWALQwULxfYPZMk6kRX4oxwUD&X-Amz-Signature=851341fe21685bef0d9a4bc801aced7fe5825cc4bdf91c6b4bd1a5a0e667a285&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466622IL24L%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC4Wi2uDPuVf4mNlFgUrKaN1a%2BmhEDaQtUjULKE3YSnMwIga%2Fb9eCnVV7LJjTZzOm76D7ILrQXTfXLTzFd8UxdCFuIq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDB4G1QLHh%2B%2FclOKEfyrcA2vw5TAn1JLWJ%2BUFC%2ByjxErGfxtltNEJEsJPtoY%2FNh%2B%2F%2BJnF28C3V9PzP3ODh70pQNG0L8sybxYrL%2FvCX%2FuQIibud39OYIlupW0fpQIUqx2ah26xDqufwF8TX7dWlkXDZlKbbS%2BnI0lTGRvdTICUB83%2BY%2BWk%2F2vph3NBfQ7kcxV0bCkJhGQH%2B9N6RDtFgkfQrPvn5oqupg4J%2BDs3AiBjMA0hq9FKrhYzWiTkx6bgQf%2BRn%2FhIPf7eLzON78G6gNGZl7BleFM3c9%2BOBRMRm9aC35VLwjrBzOaHIZetP4INNCgOnzNO%2BM%2Bf0g4kDdaiwgg9K%2Fk1j9pHJrVUWTQmvUCye0YFlPpi6tgo4U1FQexzGMSrheB%2BR0mRfcAyYuYOQZ5%2Fy1bzYRjaNNdKRdkfZYr6tLvamY1DclSeO8U4qbbGl00bRAbfFvJOrFtv%2FMnMljzMt8aFBG%2FkgEbuxuj5v%2BK8MtqoDl5lJqLYSElc0HT9seQr0jrrbMkeM1%2F%2BMQlLvgE%2Fxa0H8wYuJTZ0d3rZ4xy42vcnhASnPT3ujuzJvjhr9%2FQRKuuDogYQrxO61K1SdEVli2gtgrUhafsxRjl%2BQA7YKh0kL3u7RN4DTrYZ1FLQy5sxI18yPlQ%2BpEcoX800MJzj4MsGOqUBT7jRKsVVjiLc4lfBQcEnvAmGox9awSwcO5RsfX9zDVtAOtUG70PqBALpy%2BTmfXAz0quRmmnat%2FHVvLa4GamY4j%2F8iJeF1C%2Fz12YpRwt1R3yLhmPqmwgF1Gb%2Fb%2FpbR8G7StntWnmYxjecwgFXF994J%2BhO26iEBRyjM6G8ZsemN%2BHre5JCgt3gHJu6y%2Ftj3VNCi1YpKaHDyEIsiN%2BguBJnvIdCPZJc&X-Amz-Signature=9e870f90d985d3c42bb55a36076c0c6332c0d72b411b826a827665891e1ae9e0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466622IL24L%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC4Wi2uDPuVf4mNlFgUrKaN1a%2BmhEDaQtUjULKE3YSnMwIga%2Fb9eCnVV7LJjTZzOm76D7ILrQXTfXLTzFd8UxdCFuIq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDB4G1QLHh%2B%2FclOKEfyrcA2vw5TAn1JLWJ%2BUFC%2ByjxErGfxtltNEJEsJPtoY%2FNh%2B%2F%2BJnF28C3V9PzP3ODh70pQNG0L8sybxYrL%2FvCX%2FuQIibud39OYIlupW0fpQIUqx2ah26xDqufwF8TX7dWlkXDZlKbbS%2BnI0lTGRvdTICUB83%2BY%2BWk%2F2vph3NBfQ7kcxV0bCkJhGQH%2B9N6RDtFgkfQrPvn5oqupg4J%2BDs3AiBjMA0hq9FKrhYzWiTkx6bgQf%2BRn%2FhIPf7eLzON78G6gNGZl7BleFM3c9%2BOBRMRm9aC35VLwjrBzOaHIZetP4INNCgOnzNO%2BM%2Bf0g4kDdaiwgg9K%2Fk1j9pHJrVUWTQmvUCye0YFlPpi6tgo4U1FQexzGMSrheB%2BR0mRfcAyYuYOQZ5%2Fy1bzYRjaNNdKRdkfZYr6tLvamY1DclSeO8U4qbbGl00bRAbfFvJOrFtv%2FMnMljzMt8aFBG%2FkgEbuxuj5v%2BK8MtqoDl5lJqLYSElc0HT9seQr0jrrbMkeM1%2F%2BMQlLvgE%2Fxa0H8wYuJTZ0d3rZ4xy42vcnhASnPT3ujuzJvjhr9%2FQRKuuDogYQrxO61K1SdEVli2gtgrUhafsxRjl%2BQA7YKh0kL3u7RN4DTrYZ1FLQy5sxI18yPlQ%2BpEcoX800MJzj4MsGOqUBT7jRKsVVjiLc4lfBQcEnvAmGox9awSwcO5RsfX9zDVtAOtUG70PqBALpy%2BTmfXAz0quRmmnat%2FHVvLa4GamY4j%2F8iJeF1C%2Fz12YpRwt1R3yLhmPqmwgF1Gb%2Fb%2FpbR8G7StntWnmYxjecwgFXF994J%2BhO26iEBRyjM6G8ZsemN%2BHre5JCgt3gHJu6y%2Ftj3VNCi1YpKaHDyEIsiN%2BguBJnvIdCPZJc&X-Amz-Signature=b4a5c0754a3d384f4ae9e1bfd26abf29cef87969054c1fbe365f551532041cda&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466622IL24L%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC4Wi2uDPuVf4mNlFgUrKaN1a%2BmhEDaQtUjULKE3YSnMwIga%2Fb9eCnVV7LJjTZzOm76D7ILrQXTfXLTzFd8UxdCFuIq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDB4G1QLHh%2B%2FclOKEfyrcA2vw5TAn1JLWJ%2BUFC%2ByjxErGfxtltNEJEsJPtoY%2FNh%2B%2F%2BJnF28C3V9PzP3ODh70pQNG0L8sybxYrL%2FvCX%2FuQIibud39OYIlupW0fpQIUqx2ah26xDqufwF8TX7dWlkXDZlKbbS%2BnI0lTGRvdTICUB83%2BY%2BWk%2F2vph3NBfQ7kcxV0bCkJhGQH%2B9N6RDtFgkfQrPvn5oqupg4J%2BDs3AiBjMA0hq9FKrhYzWiTkx6bgQf%2BRn%2FhIPf7eLzON78G6gNGZl7BleFM3c9%2BOBRMRm9aC35VLwjrBzOaHIZetP4INNCgOnzNO%2BM%2Bf0g4kDdaiwgg9K%2Fk1j9pHJrVUWTQmvUCye0YFlPpi6tgo4U1FQexzGMSrheB%2BR0mRfcAyYuYOQZ5%2Fy1bzYRjaNNdKRdkfZYr6tLvamY1DclSeO8U4qbbGl00bRAbfFvJOrFtv%2FMnMljzMt8aFBG%2FkgEbuxuj5v%2BK8MtqoDl5lJqLYSElc0HT9seQr0jrrbMkeM1%2F%2BMQlLvgE%2Fxa0H8wYuJTZ0d3rZ4xy42vcnhASnPT3ujuzJvjhr9%2FQRKuuDogYQrxO61K1SdEVli2gtgrUhafsxRjl%2BQA7YKh0kL3u7RN4DTrYZ1FLQy5sxI18yPlQ%2BpEcoX800MJzj4MsGOqUBT7jRKsVVjiLc4lfBQcEnvAmGox9awSwcO5RsfX9zDVtAOtUG70PqBALpy%2BTmfXAz0quRmmnat%2FHVvLa4GamY4j%2F8iJeF1C%2Fz12YpRwt1R3yLhmPqmwgF1Gb%2Fb%2FpbR8G7StntWnmYxjecwgFXF994J%2BhO26iEBRyjM6G8ZsemN%2BHre5JCgt3gHJu6y%2Ftj3VNCi1YpKaHDyEIsiN%2BguBJnvIdCPZJc&X-Amz-Signature=a9bbb774cab2c89d0de5346db93e5d7dd983aa6946eb3ead16b9f48b79c27698&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UY6VWR2Y%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIB7SFQKn8us62CpEyo7t5BRfkBmOewfb86EKn4wltd3eAiEA9HbDeiy%2F21AsDRPKpaHFSr3JLhRO%2BIzNroIeOra1DCAq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDPCKSxKDnHBD0td%2BTircA4oJByH5UOMaWpi6zDbQeRSZX4yj%2BcHURyCBCE3Blvq7TowOHHGZodmPb7XV9LFmLofQldJT9duGfiLo417fcx3l7VjKx91TRk2IDvvynMSs9V7Dv5owhyWgf2XAZNguilfMCnJuQl%2FAMZOPVbpaW3y1ufmbJd29Gz3LgfXxHfj2GRFRc15vt0oRlflI1gVmHUtLKO8KJjMIrrqGyFuw6i6T4UO20ikjiPuMOa5UIPyKdvd67sNlj3u3QOTLLyMz5WDzT7kRSK%2FXoX6CeiacJcEoj5mw2YuzxKCTZ3sXRc8JikDr17%2F5EQ706f%2FoBVmz1NUnJ6OfOON64v8Vp4k4iDNa6wRdksBA%2BtMudJ1F4Vq78Lb1aSnnyuR6ecCeWJerpjPZ%2BKiTcs0asGp9GImrAxsCoYEU%2B75vmfw5tobX7pSt6FcFzv7zppAEyUcR6MgncmcVSoSeHdK3Fr1R2uFBxU%2BL9pi35KekxojfsP23COSOqEDYNLxAQGiR3KBKBw%2BSXzSYURg%2B5z7S2rSZw4Q%2BelTX6ygavVdE8yZoVvTd%2BgxwUcA5SB%2FYY7X9F2MfEvOCYMolX5agUqjy32nZQfWHcr2Gr6ya2FakbcFHKXWzRURb3FvdiV7cxnSX50pcMMbi4MsGOqUBh2vZv8CMabWlHAI2BkjHEdZF%2F6aNgrHrTsybdYF5KsSsee0%2Fd5wHREeJ9zzXR9%2B4mzeQq20umUk2%2BUHuaNOlCrLHtaphZhplkau6LGdynPMpzttlIH%2FT5bECtdt8HTYw2Z2%2FOl2nc9wsRR%2B3B027iLZB%2B0oySbAG05YmR%2F7T7AT5sd%2B6kgsx2ZzcUsl%2FRepUn0%2BWfK%2F37QzBvD7BOfI0hlvl8dGH&X-Amz-Signature=7c30a5373901ddc85998bbd23d0c996087f1523c8bee1ce679f517a67923a08f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UY6VWR2Y%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIB7SFQKn8us62CpEyo7t5BRfkBmOewfb86EKn4wltd3eAiEA9HbDeiy%2F21AsDRPKpaHFSr3JLhRO%2BIzNroIeOra1DCAq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDPCKSxKDnHBD0td%2BTircA4oJByH5UOMaWpi6zDbQeRSZX4yj%2BcHURyCBCE3Blvq7TowOHHGZodmPb7XV9LFmLofQldJT9duGfiLo417fcx3l7VjKx91TRk2IDvvynMSs9V7Dv5owhyWgf2XAZNguilfMCnJuQl%2FAMZOPVbpaW3y1ufmbJd29Gz3LgfXxHfj2GRFRc15vt0oRlflI1gVmHUtLKO8KJjMIrrqGyFuw6i6T4UO20ikjiPuMOa5UIPyKdvd67sNlj3u3QOTLLyMz5WDzT7kRSK%2FXoX6CeiacJcEoj5mw2YuzxKCTZ3sXRc8JikDr17%2F5EQ706f%2FoBVmz1NUnJ6OfOON64v8Vp4k4iDNa6wRdksBA%2BtMudJ1F4Vq78Lb1aSnnyuR6ecCeWJerpjPZ%2BKiTcs0asGp9GImrAxsCoYEU%2B75vmfw5tobX7pSt6FcFzv7zppAEyUcR6MgncmcVSoSeHdK3Fr1R2uFBxU%2BL9pi35KekxojfsP23COSOqEDYNLxAQGiR3KBKBw%2BSXzSYURg%2B5z7S2rSZw4Q%2BelTX6ygavVdE8yZoVvTd%2BgxwUcA5SB%2FYY7X9F2MfEvOCYMolX5agUqjy32nZQfWHcr2Gr6ya2FakbcFHKXWzRURb3FvdiV7cxnSX50pcMMbi4MsGOqUBh2vZv8CMabWlHAI2BkjHEdZF%2F6aNgrHrTsybdYF5KsSsee0%2Fd5wHREeJ9zzXR9%2B4mzeQq20umUk2%2BUHuaNOlCrLHtaphZhplkau6LGdynPMpzttlIH%2FT5bECtdt8HTYw2Z2%2FOl2nc9wsRR%2B3B027iLZB%2B0oySbAG05YmR%2F7T7AT5sd%2B6kgsx2ZzcUsl%2FRepUn0%2BWfK%2F37QzBvD7BOfI0hlvl8dGH&X-Amz-Signature=b582b6d9dd3686a1a460932ba43544faa48b168d27b97dcd5e130c618243e147&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662HJ6U4FB%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHP13P6oCkBe3i2CSyprqGt31NxoQ3ioSNgVhY2Y%2FHopAiEA41kRR1i0pDHqX3%2BNSBwlhbrj9Ieqiv8ayKlu1BQj3iwq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDBPt33jNKJ%2B3GbhCrSrcA9TbRb%2FH8GsdSNeTy2aIDB2G9f3C6CWW0NybcYHGXMjuMPCWYKvT%2BK3kMZkwsLXgMmh0PiWcrfh7LphKcqKv1AX%2FXqcr316Deted1EJZRPJsR9gkfuNtMm7m%2F8xc3yqaFu5lkTf4QnBci%2FkMXHUixkYNbDJfXaJsPbAc59GMIbadqLzBLiNUEHNhhgD2uQER8HQl5zR%2Fkcv2oC%2B4OZEYuEGFP%2FY1tnUAl98EJZGiohDpbBTwIXdPRkbr0FFDXSEPLrCiDsTdA%2Bo6UlVipiU8BHPsa%2B1FCFNmsJqgffz6a5YIqmhzn6teujc3dS%2FhvQvyN7cVmwG%2BTpa%2BEXDZc09PSA2njey1Myf5dIL%2BjNGZhkYcQprOLW7h3G9Tuoh7SFKb9XgBgTse3YZ7u9vUR9Lw0Lwt7F3unLFPsXXW75d0QlIIAAOaIu1TUVvuuSjKh1AnmYH7gEl5GqaBzCTC752BJfzn2Poy2JTKtZKwHpY89nohaYsbIySAxfa2iiXL47z4DGJVruLGJYQNJTLCgdq%2FmooGA1PAYD2dcn62uxRGoEXakUnmsODF1KtfXWK5iRICcD%2FUYVNu3vLaaJK0gz%2F1KW%2FKkrCnFVShcUifTRczAQTph%2FAiAEv1Nve9rsafMM3i4MsGOqUB92d1KghyE9tAFigArcHUph3FM8MpCf2MRM2niqa6Na8MtCSrIcyBCcyyVD2i2urHAmMZV9FWuDt6K%2BL%2FnlV0hDEOOHVU4mQ2r2zITha6b%2Fu4c6bDiXt9y1lLD4t5hiyEVoFGzlAwA%2BgG7s54En%2F%2BTA6yJawflgweyczF37RIQNnekcy0qmO23hRoy772x2hrs5ZMP3HodXQKbpTpHTCOHtG9ELFo&X-Amz-Signature=9cf384338ee66fd527930ed8264d313fb7dc98eacb4055023f994dd29d2185c7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662HJ6U4FB%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHP13P6oCkBe3i2CSyprqGt31NxoQ3ioSNgVhY2Y%2FHopAiEA41kRR1i0pDHqX3%2BNSBwlhbrj9Ieqiv8ayKlu1BQj3iwq%2FwMITRAAGgw2Mzc0MjMxODM4MDUiDBPt33jNKJ%2B3GbhCrSrcA9TbRb%2FH8GsdSNeTy2aIDB2G9f3C6CWW0NybcYHGXMjuMPCWYKvT%2BK3kMZkwsLXgMmh0PiWcrfh7LphKcqKv1AX%2FXqcr316Deted1EJZRPJsR9gkfuNtMm7m%2F8xc3yqaFu5lkTf4QnBci%2FkMXHUixkYNbDJfXaJsPbAc59GMIbadqLzBLiNUEHNhhgD2uQER8HQl5zR%2Fkcv2oC%2B4OZEYuEGFP%2FY1tnUAl98EJZGiohDpbBTwIXdPRkbr0FFDXSEPLrCiDsTdA%2Bo6UlVipiU8BHPsa%2B1FCFNmsJqgffz6a5YIqmhzn6teujc3dS%2FhvQvyN7cVmwG%2BTpa%2BEXDZc09PSA2njey1Myf5dIL%2BjNGZhkYcQprOLW7h3G9Tuoh7SFKb9XgBgTse3YZ7u9vUR9Lw0Lwt7F3unLFPsXXW75d0QlIIAAOaIu1TUVvuuSjKh1AnmYH7gEl5GqaBzCTC752BJfzn2Poy2JTKtZKwHpY89nohaYsbIySAxfa2iiXL47z4DGJVruLGJYQNJTLCgdq%2FmooGA1PAYD2dcn62uxRGoEXakUnmsODF1KtfXWK5iRICcD%2FUYVNu3vLaaJK0gz%2F1KW%2FKkrCnFVShcUifTRczAQTph%2FAiAEv1Nve9rsafMM3i4MsGOqUB92d1KghyE9tAFigArcHUph3FM8MpCf2MRM2niqa6Na8MtCSrIcyBCcyyVD2i2urHAmMZV9FWuDt6K%2BL%2FnlV0hDEOOHVU4mQ2r2zITha6b%2Fu4c6bDiXt9y1lLD4t5hiyEVoFGzlAwA%2BgG7s54En%2F%2BTA6yJawflgweyczF37RIQNnekcy0qmO23hRoy772x2hrs5ZMP3HodXQKbpTpHTCOHtG9ELFo&X-Amz-Signature=effe9a11bc13854a32e0912e4488ac056fd6551fa1eec922829246ba7bde498d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TPS5PYDX%2F20260127%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260127T042151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBcoII%2B5yYO1%2Be%2FftCYLB5NStgac10rJabZhi1Gwpd8WAiBouqJ87Eh3VsGMNt9Xfh5GjUT4RHBTqRl5G9UBGVTo7Sr%2FAwhNEAAaDDYzNzQyMzE4MzgwNSIM3L2VtkwnSnt2Y6HKKtwDbnNdo19BFqLut7UIx%2FoKYt7hfwG9FTpyglnRCxriy5b4ZNHBAZhZiOtheeGMuWuLi7OkM4wbtZqcSnnW1VT3Z1VCnMWSZOM34Wtj4SBv1OgxJz0fp2F7aL96mnjwm9iYv5KwgFsALPu1dNbzX9ymaBfyYDLG9IjRIEHMCyPHQ5rNEbYFCsdcbydu5fDMuIK4oPq0YvOQKxiAiCotn%2BaJ%2FCR4vyN7MT%2BGPHYK72DpXVdNCl2Ukk2%2B%2Fz0c5wnsHBv7kN9ThQxnm6KIu2piN5o37gWIsZoVQBaJdlEDtuPT8HK8n89Ew8QcJvMFkWEdges09UJHIfobJoXeHvwZkKqY1CDW04qLqcw%2FQvu3snKj8fPSjFSSbguA6A%2FkAIkkaCtAsAt60CiG0Y3vZyQpQHQDum31VO8O7xp1sfstl8miIWzOPcnQkYpc87hDzKcUAoT6oNGfyaqpcqogsy2mQIj08pGD6gzESLWBpphY78H6U%2BNYS1HcOqreKktBALLDRr1OPntm5iMykiynEI4a7%2Bw5VyspmWUylfDh6%2FYH%2FQZ%2BoNWivHWepXYjH85bJpAf3NaJXRn8wSS9KfqA%2F1qcXbk4HBoJGU1Axb9YqXqO7zIlDDrsEDf9OwAoyGYAVREwwuLgywY6pgFwyeziE21gGho91fgwnh8yHZvtatOlAZqvsJLRqHB14Wg6S6RoP2VoF8wdpJU3IjerUWt%2F2%2BrIyac2FIcg1qD9ozaUf95O%2BGMbVMM5HKrxzwLjoPB2wDlHf0Y0PWLZl6jE%2BV3OrCgMbFvGCI%2B%2BrTeUagytXVZbZ52HYjyCt2SWocJNneF2Mgk4qjuy0NEaBT31vi6N2L1cscdL6l2bE1toAwJrHZLB&X-Amz-Signature=d380cefd8b1f784cf4935eb302a3597e16e9b6ae50c42630bf91eed5ed726010&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
