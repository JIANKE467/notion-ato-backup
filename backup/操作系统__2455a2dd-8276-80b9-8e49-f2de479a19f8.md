
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466URT7EYP4%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045443Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCY1IaSoFc44dzs3IA9mGRMyCfoJWnPmgn%2BM5LCP9ckUgIgWG7aLdVV7TH5%2FiZNtN1ecRUOzyqFKul41O66A%2B%2FmAUUq%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDBxZTytQ%2FlLO9YriECrcAwlTHkzTxwIRhtAFyMtniu%2BNzYCpDMu77rGzojcVR2S5NtkBce3qIZ5h%2FwNKv0UP6U9AjrRx%2BtsTxlBp2eumtcTKfrguPq7Yxo5TYJDs5cjbmPZuy2nabotvTLu3mJnNjl47fixc7%2BrTTodaoh8kBnjRZ%2B8SstQy9rWZlJur30jbZwphwXKId7bWSghbPJiS%2BE5NWP5F7ag9gITJF2tr3R2lWQIffY4j8CVpB%2FyJvJ5ruw3d1KMtZ9XXha%2FyDuBliasG9JQRZPPlDbyKhig%2BDE78Ax2IaTSVHMDxHIkzv7PTujj25yk9NfUc08ADJuuVBfjRAeFGejlOBB2Rh95VVF%2BXwOub7aq83mCeyI0txGZgT8KTkGhgG7%2BprElfwEvCTXWijWZ3FkrGEOfHIXRLaIuyAjgWbrv1i26%2BPe1Kq5v3tDli3W96zfDazfiCoLlgyoBBa1n4YlNX67k78LooY0PhWEZSXnUg%2FojErwbB58KMsWTMD98yhG9ClNQvkKH%2Bz8hdgm8PNAB%2BVnWtXTERqbbZwYT3uMM%2F7O1cfO6U1pH9lu%2F7Uk%2B2VjC5hXhTgBNFlxif7keyEncFjVHjNr47dOBYDtrFFvOWNZwZm%2FMTEl2n3XY1w%2FkRDtaS6hnxMOXM68sGOqUByzRn9nSdo%2Byx78Jy%2F8V6%2Bea%2Bi8W398%2BU8mnOCvnVdKTmrBGYtp2XuOfd4Xt%2FV%2BJbQv%2BhoHk5XbcAMwWFfqf8k7YfwVqFMRoOlLbhzDtgIvOsGI1WaTkianBLX51eLJqGEL5hIQYl3dKW63GJYmifYuI55vxfInGSH9U8POD3MGjmiYWEfIbdfHmsQD3VAexU9BFwsFGZiZUG4MbapbfOJRV7eTD9&X-Amz-Signature=9144c891cdfdfee9634a9cdafda70c784d6cb83452e414f991c15c0827cf2de2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466URT7EYP4%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045443Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCY1IaSoFc44dzs3IA9mGRMyCfoJWnPmgn%2BM5LCP9ckUgIgWG7aLdVV7TH5%2FiZNtN1ecRUOzyqFKul41O66A%2B%2FmAUUq%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDBxZTytQ%2FlLO9YriECrcAwlTHkzTxwIRhtAFyMtniu%2BNzYCpDMu77rGzojcVR2S5NtkBce3qIZ5h%2FwNKv0UP6U9AjrRx%2BtsTxlBp2eumtcTKfrguPq7Yxo5TYJDs5cjbmPZuy2nabotvTLu3mJnNjl47fixc7%2BrTTodaoh8kBnjRZ%2B8SstQy9rWZlJur30jbZwphwXKId7bWSghbPJiS%2BE5NWP5F7ag9gITJF2tr3R2lWQIffY4j8CVpB%2FyJvJ5ruw3d1KMtZ9XXha%2FyDuBliasG9JQRZPPlDbyKhig%2BDE78Ax2IaTSVHMDxHIkzv7PTujj25yk9NfUc08ADJuuVBfjRAeFGejlOBB2Rh95VVF%2BXwOub7aq83mCeyI0txGZgT8KTkGhgG7%2BprElfwEvCTXWijWZ3FkrGEOfHIXRLaIuyAjgWbrv1i26%2BPe1Kq5v3tDli3W96zfDazfiCoLlgyoBBa1n4YlNX67k78LooY0PhWEZSXnUg%2FojErwbB58KMsWTMD98yhG9ClNQvkKH%2Bz8hdgm8PNAB%2BVnWtXTERqbbZwYT3uMM%2F7O1cfO6U1pH9lu%2F7Uk%2B2VjC5hXhTgBNFlxif7keyEncFjVHjNr47dOBYDtrFFvOWNZwZm%2FMTEl2n3XY1w%2FkRDtaS6hnxMOXM68sGOqUByzRn9nSdo%2Byx78Jy%2F8V6%2Bea%2Bi8W398%2BU8mnOCvnVdKTmrBGYtp2XuOfd4Xt%2FV%2BJbQv%2BhoHk5XbcAMwWFfqf8k7YfwVqFMRoOlLbhzDtgIvOsGI1WaTkianBLX51eLJqGEL5hIQYl3dKW63GJYmifYuI55vxfInGSH9U8POD3MGjmiYWEfIbdfHmsQD3VAexU9BFwsFGZiZUG4MbapbfOJRV7eTD9&X-Amz-Signature=0a4188c23b7151525fd1647caa9c3a48e7021d349fc509369d426f654185b6ee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466URT7EYP4%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045443Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCY1IaSoFc44dzs3IA9mGRMyCfoJWnPmgn%2BM5LCP9ckUgIgWG7aLdVV7TH5%2FiZNtN1ecRUOzyqFKul41O66A%2B%2FmAUUq%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDBxZTytQ%2FlLO9YriECrcAwlTHkzTxwIRhtAFyMtniu%2BNzYCpDMu77rGzojcVR2S5NtkBce3qIZ5h%2FwNKv0UP6U9AjrRx%2BtsTxlBp2eumtcTKfrguPq7Yxo5TYJDs5cjbmPZuy2nabotvTLu3mJnNjl47fixc7%2BrTTodaoh8kBnjRZ%2B8SstQy9rWZlJur30jbZwphwXKId7bWSghbPJiS%2BE5NWP5F7ag9gITJF2tr3R2lWQIffY4j8CVpB%2FyJvJ5ruw3d1KMtZ9XXha%2FyDuBliasG9JQRZPPlDbyKhig%2BDE78Ax2IaTSVHMDxHIkzv7PTujj25yk9NfUc08ADJuuVBfjRAeFGejlOBB2Rh95VVF%2BXwOub7aq83mCeyI0txGZgT8KTkGhgG7%2BprElfwEvCTXWijWZ3FkrGEOfHIXRLaIuyAjgWbrv1i26%2BPe1Kq5v3tDli3W96zfDazfiCoLlgyoBBa1n4YlNX67k78LooY0PhWEZSXnUg%2FojErwbB58KMsWTMD98yhG9ClNQvkKH%2Bz8hdgm8PNAB%2BVnWtXTERqbbZwYT3uMM%2F7O1cfO6U1pH9lu%2F7Uk%2B2VjC5hXhTgBNFlxif7keyEncFjVHjNr47dOBYDtrFFvOWNZwZm%2FMTEl2n3XY1w%2FkRDtaS6hnxMOXM68sGOqUByzRn9nSdo%2Byx78Jy%2F8V6%2Bea%2Bi8W398%2BU8mnOCvnVdKTmrBGYtp2XuOfd4Xt%2FV%2BJbQv%2BhoHk5XbcAMwWFfqf8k7YfwVqFMRoOlLbhzDtgIvOsGI1WaTkianBLX51eLJqGEL5hIQYl3dKW63GJYmifYuI55vxfInGSH9U8POD3MGjmiYWEfIbdfHmsQD3VAexU9BFwsFGZiZUG4MbapbfOJRV7eTD9&X-Amz-Signature=ae4f21e1ce26dae7d0ce7b4592471c5b34383cce43f54cb708775b9946b1938d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZWCNCMUS%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045444Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDpcH24NwQnKvRz4zbe2pgr90rJDdunrKskF0J0ouJfsgIhAPm9wERfoiQdm%2B9BiqJoWrOvS7Bt7JWLiXWWpQgmZFmGKv8DCH4QABoMNjM3NDIzMTgzODA1IgxAMCG1PPkuTEshIpYq3APALBPfuYAIQAMkRqH3%2Fgvi9dNntP%2F9lNI6p8oEDJ9JvciZEr9mwJQFbHIUbWEVGu2XyEsU%2FmkIuHiRNpG4ULY%2FI4nbY1F05iF8TbyYQAGH8uUH662OWDM08wGLw6m0Z9CljFO1cYhDJ2rTOA1ZOwU9FrsHxuhI707dJVM1%2FNhkFEGiuTmUGTQ%2Fdee6IukcgN%2BymIAXX%2BCe1d%2FokTmHb7GTBQieOJ6Oq0nlj772zrQ0LiBs5ushpImaybrqmOVIi8P%2BgmSNgjMNP27GNLWRzN4N2hWpKqskN4RK6eim%2BJXSKoYVS%2BvtAorxhlTwUBFpsGwYylWQ40kHRSJCjFliQVK2md%2BOsSaJhOF1Qo1%2BTzJpZIQC8M0t5PD3kA8oX%2F1iVjP5izYErT14fTa0bG6%2FjIA%2BKtzeIgwNGXPgDbzuhxzHUvn76kB0FdEywbjAPGukMoHNcwwQXqjpw8OMjyyby%2BodcS9JGbCVwWtkW8KpaUOHz0e9FnkQAtunyGmZQhwWnBDFCMm01I37xct9deRQ%2BaW8eZZxxg5ZiQ%2BBYc6mSYJMtyMzjIkLTbqRDeb4vbT4LXjg3GqDp8ESV3fD%2F%2BRjU5oHpvNqDSm4uJdaQhdPxuX9gT5rNYIuqTfnmYJjZjDYzOvLBjqkAdvSFnxRl1GvYnWw2eOhnJF4hHe65dhGuZ5MK3oTxzzvTqmlYSP73n%2FtMhbEkPUEqQ0jjYjO5l2VRuSz0lnPCtZBY7iwoB2f72Rm5PXtat5KJEiYalGzf%2Bu0zfKMc%2Bw7BDKCLdWTdi8GGt5Mute2M7q6DYVVr%2FJUP%2Blr9Nc1yK0ZMko%2Fwo6MU%2FTxEbU5%2BiRYo813MfWHbS1KORU7IP7bzTPXCZDB&X-Amz-Signature=5cbd74db1c31e9dce5c33b54d6a79f9c7ecaf1695037b25d2f8f1debdcc18cb8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZWCNCMUS%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045444Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDpcH24NwQnKvRz4zbe2pgr90rJDdunrKskF0J0ouJfsgIhAPm9wERfoiQdm%2B9BiqJoWrOvS7Bt7JWLiXWWpQgmZFmGKv8DCH4QABoMNjM3NDIzMTgzODA1IgxAMCG1PPkuTEshIpYq3APALBPfuYAIQAMkRqH3%2Fgvi9dNntP%2F9lNI6p8oEDJ9JvciZEr9mwJQFbHIUbWEVGu2XyEsU%2FmkIuHiRNpG4ULY%2FI4nbY1F05iF8TbyYQAGH8uUH662OWDM08wGLw6m0Z9CljFO1cYhDJ2rTOA1ZOwU9FrsHxuhI707dJVM1%2FNhkFEGiuTmUGTQ%2Fdee6IukcgN%2BymIAXX%2BCe1d%2FokTmHb7GTBQieOJ6Oq0nlj772zrQ0LiBs5ushpImaybrqmOVIi8P%2BgmSNgjMNP27GNLWRzN4N2hWpKqskN4RK6eim%2BJXSKoYVS%2BvtAorxhlTwUBFpsGwYylWQ40kHRSJCjFliQVK2md%2BOsSaJhOF1Qo1%2BTzJpZIQC8M0t5PD3kA8oX%2F1iVjP5izYErT14fTa0bG6%2FjIA%2BKtzeIgwNGXPgDbzuhxzHUvn76kB0FdEywbjAPGukMoHNcwwQXqjpw8OMjyyby%2BodcS9JGbCVwWtkW8KpaUOHz0e9FnkQAtunyGmZQhwWnBDFCMm01I37xct9deRQ%2BaW8eZZxxg5ZiQ%2BBYc6mSYJMtyMzjIkLTbqRDeb4vbT4LXjg3GqDp8ESV3fD%2F%2BRjU5oHpvNqDSm4uJdaQhdPxuX9gT5rNYIuqTfnmYJjZjDYzOvLBjqkAdvSFnxRl1GvYnWw2eOhnJF4hHe65dhGuZ5MK3oTxzzvTqmlYSP73n%2FtMhbEkPUEqQ0jjYjO5l2VRuSz0lnPCtZBY7iwoB2f72Rm5PXtat5KJEiYalGzf%2Bu0zfKMc%2Bw7BDKCLdWTdi8GGt5Mute2M7q6DYVVr%2FJUP%2Blr9Nc1yK0ZMko%2Fwo6MU%2FTxEbU5%2BiRYo813MfWHbS1KORU7IP7bzTPXCZDB&X-Amz-Signature=5b0d7f47d81b66366c644eda65ae4c1d0cf7c5fba5e9c38e0fceb649df611924&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZWCNCMUS%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045444Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDpcH24NwQnKvRz4zbe2pgr90rJDdunrKskF0J0ouJfsgIhAPm9wERfoiQdm%2B9BiqJoWrOvS7Bt7JWLiXWWpQgmZFmGKv8DCH4QABoMNjM3NDIzMTgzODA1IgxAMCG1PPkuTEshIpYq3APALBPfuYAIQAMkRqH3%2Fgvi9dNntP%2F9lNI6p8oEDJ9JvciZEr9mwJQFbHIUbWEVGu2XyEsU%2FmkIuHiRNpG4ULY%2FI4nbY1F05iF8TbyYQAGH8uUH662OWDM08wGLw6m0Z9CljFO1cYhDJ2rTOA1ZOwU9FrsHxuhI707dJVM1%2FNhkFEGiuTmUGTQ%2Fdee6IukcgN%2BymIAXX%2BCe1d%2FokTmHb7GTBQieOJ6Oq0nlj772zrQ0LiBs5ushpImaybrqmOVIi8P%2BgmSNgjMNP27GNLWRzN4N2hWpKqskN4RK6eim%2BJXSKoYVS%2BvtAorxhlTwUBFpsGwYylWQ40kHRSJCjFliQVK2md%2BOsSaJhOF1Qo1%2BTzJpZIQC8M0t5PD3kA8oX%2F1iVjP5izYErT14fTa0bG6%2FjIA%2BKtzeIgwNGXPgDbzuhxzHUvn76kB0FdEywbjAPGukMoHNcwwQXqjpw8OMjyyby%2BodcS9JGbCVwWtkW8KpaUOHz0e9FnkQAtunyGmZQhwWnBDFCMm01I37xct9deRQ%2BaW8eZZxxg5ZiQ%2BBYc6mSYJMtyMzjIkLTbqRDeb4vbT4LXjg3GqDp8ESV3fD%2F%2BRjU5oHpvNqDSm4uJdaQhdPxuX9gT5rNYIuqTfnmYJjZjDYzOvLBjqkAdvSFnxRl1GvYnWw2eOhnJF4hHe65dhGuZ5MK3oTxzzvTqmlYSP73n%2FtMhbEkPUEqQ0jjYjO5l2VRuSz0lnPCtZBY7iwoB2f72Rm5PXtat5KJEiYalGzf%2Bu0zfKMc%2Bw7BDKCLdWTdi8GGt5Mute2M7q6DYVVr%2FJUP%2Blr9Nc1yK0ZMko%2Fwo6MU%2FTxEbU5%2BiRYo813MfWHbS1KORU7IP7bzTPXCZDB&X-Amz-Signature=dab4e0f88a0ee18830f045196de0f150e4e20770d461ebbbc6adfac56033d933&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WC6S6JRK%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045444Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDB%2FnUyEjGBLe7S3XGgQHZAXYSEIn998PPGbt5wTLmqYgIhAKgbe%2BWX8ZlFpRvaQgP%2BElazMEJPHzo%2FUJ8UfZrj1VTNKv8DCH4QABoMNjM3NDIzMTgzODA1IgxLnnFhakrZo5jRwkAq3AP1k81qylJsqM7Vt%2BljujgBdiS4SHZC9Ty2%2BPRp5t%2FbpNGo3TcL76JlEE%2FdOw9W98r7Wt6GF3N%2BdUqFnuuIfjM%2FCe%2Fi0KmEUZOaKhEDAsGrDAaTFpRjagp%2BCV1z3DR%2B45M29Edofr8vk0zz7e%2FNja3T5uMgHjwZB3aR1jAtp56NuX8VGV2zcv9Rd%2Bkj9LbtgXexpEquxHo8j%2B5CYaBb8JJ5Ew7ximLRwQoyXeEtRKPCZ8UK%2BNsGP74Cl70Kz9jmivm9sPPa4poSSQ2LIdp52iYmcC5c2eprlzXud0O6DQN79AnM3WoY5cPpBN7WpyFA2SnQ%2FIw892foIk44g1S6w377rSGOj8wBAvl5RAIl77dBwNfwoKIqeXBR52Te5udTroDk%2BjHiYuUEreKah4K%2By8sg%2FIlP2vxJMBiGicWuWtr6ztXt3L7SbqUNTb6s2XE%2BIqq28v8uLlcX6esCHhRhCKCjyXi6GTTwOjWm3mSHBTuCq4I9tgv3q9D2%2FaxH8jc8qGqGI1BelCXDoUVXe6Aoflrtzvwu9VuDOsuqavJaEkZVatTlfWbIz95jU%2BYXVFugso21LTliSIh2clkt946bOG6Jd85IvZxTSn4CThAVozpJKF6R0UyErZMbKjSXwTDfzOvLBjqkAcVCgiSdGNAkbibEXNc3FGAEUR8nW097wnj1TtSF4msQ%2FTRaujXnDN5ocjTd2nL7b8zyO1i0t33pWPhBqFbRjTPpVEUrsH1K4t60HSBMEV15Sgn5DDWcoMYd287BesVZzBP9Tty6xlcpL5QQpfWddDdmGCkIL9q0a31Hibjmt%2BtZ9Spygv3wxgREFkohvsqmg8l2BMLiOVlQwQeAh9YECCBVIXYL&X-Amz-Signature=43af02b766ff6b6d80b05caf73f457bd4327826f23ef2862139c5cb3a74316dd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WC6S6JRK%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045444Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDB%2FnUyEjGBLe7S3XGgQHZAXYSEIn998PPGbt5wTLmqYgIhAKgbe%2BWX8ZlFpRvaQgP%2BElazMEJPHzo%2FUJ8UfZrj1VTNKv8DCH4QABoMNjM3NDIzMTgzODA1IgxLnnFhakrZo5jRwkAq3AP1k81qylJsqM7Vt%2BljujgBdiS4SHZC9Ty2%2BPRp5t%2FbpNGo3TcL76JlEE%2FdOw9W98r7Wt6GF3N%2BdUqFnuuIfjM%2FCe%2Fi0KmEUZOaKhEDAsGrDAaTFpRjagp%2BCV1z3DR%2B45M29Edofr8vk0zz7e%2FNja3T5uMgHjwZB3aR1jAtp56NuX8VGV2zcv9Rd%2Bkj9LbtgXexpEquxHo8j%2B5CYaBb8JJ5Ew7ximLRwQoyXeEtRKPCZ8UK%2BNsGP74Cl70Kz9jmivm9sPPa4poSSQ2LIdp52iYmcC5c2eprlzXud0O6DQN79AnM3WoY5cPpBN7WpyFA2SnQ%2FIw892foIk44g1S6w377rSGOj8wBAvl5RAIl77dBwNfwoKIqeXBR52Te5udTroDk%2BjHiYuUEreKah4K%2By8sg%2FIlP2vxJMBiGicWuWtr6ztXt3L7SbqUNTb6s2XE%2BIqq28v8uLlcX6esCHhRhCKCjyXi6GTTwOjWm3mSHBTuCq4I9tgv3q9D2%2FaxH8jc8qGqGI1BelCXDoUVXe6Aoflrtzvwu9VuDOsuqavJaEkZVatTlfWbIz95jU%2BYXVFugso21LTliSIh2clkt946bOG6Jd85IvZxTSn4CThAVozpJKF6R0UyErZMbKjSXwTDfzOvLBjqkAcVCgiSdGNAkbibEXNc3FGAEUR8nW097wnj1TtSF4msQ%2FTRaujXnDN5ocjTd2nL7b8zyO1i0t33pWPhBqFbRjTPpVEUrsH1K4t60HSBMEV15Sgn5DDWcoMYd287BesVZzBP9Tty6xlcpL5QQpfWddDdmGCkIL9q0a31Hibjmt%2BtZ9Spygv3wxgREFkohvsqmg8l2BMLiOVlQwQeAh9YECCBVIXYL&X-Amz-Signature=20a3d0be6c869e673048e959ec86cb797a02eb778865f9f62d7253b5faea309a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WC6S6JRK%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045444Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDB%2FnUyEjGBLe7S3XGgQHZAXYSEIn998PPGbt5wTLmqYgIhAKgbe%2BWX8ZlFpRvaQgP%2BElazMEJPHzo%2FUJ8UfZrj1VTNKv8DCH4QABoMNjM3NDIzMTgzODA1IgxLnnFhakrZo5jRwkAq3AP1k81qylJsqM7Vt%2BljujgBdiS4SHZC9Ty2%2BPRp5t%2FbpNGo3TcL76JlEE%2FdOw9W98r7Wt6GF3N%2BdUqFnuuIfjM%2FCe%2Fi0KmEUZOaKhEDAsGrDAaTFpRjagp%2BCV1z3DR%2B45M29Edofr8vk0zz7e%2FNja3T5uMgHjwZB3aR1jAtp56NuX8VGV2zcv9Rd%2Bkj9LbtgXexpEquxHo8j%2B5CYaBb8JJ5Ew7ximLRwQoyXeEtRKPCZ8UK%2BNsGP74Cl70Kz9jmivm9sPPa4poSSQ2LIdp52iYmcC5c2eprlzXud0O6DQN79AnM3WoY5cPpBN7WpyFA2SnQ%2FIw892foIk44g1S6w377rSGOj8wBAvl5RAIl77dBwNfwoKIqeXBR52Te5udTroDk%2BjHiYuUEreKah4K%2By8sg%2FIlP2vxJMBiGicWuWtr6ztXt3L7SbqUNTb6s2XE%2BIqq28v8uLlcX6esCHhRhCKCjyXi6GTTwOjWm3mSHBTuCq4I9tgv3q9D2%2FaxH8jc8qGqGI1BelCXDoUVXe6Aoflrtzvwu9VuDOsuqavJaEkZVatTlfWbIz95jU%2BYXVFugso21LTliSIh2clkt946bOG6Jd85IvZxTSn4CThAVozpJKF6R0UyErZMbKjSXwTDfzOvLBjqkAcVCgiSdGNAkbibEXNc3FGAEUR8nW097wnj1TtSF4msQ%2FTRaujXnDN5ocjTd2nL7b8zyO1i0t33pWPhBqFbRjTPpVEUrsH1K4t60HSBMEV15Sgn5DDWcoMYd287BesVZzBP9Tty6xlcpL5QQpfWddDdmGCkIL9q0a31Hibjmt%2BtZ9Spygv3wxgREFkohvsqmg8l2BMLiOVlQwQeAh9YECCBVIXYL&X-Amz-Signature=8b7abc029eca488e4e60be7144d2b2d52e2d93f7aea962ad9314f2da93400c73&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WC6S6JRK%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045444Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDB%2FnUyEjGBLe7S3XGgQHZAXYSEIn998PPGbt5wTLmqYgIhAKgbe%2BWX8ZlFpRvaQgP%2BElazMEJPHzo%2FUJ8UfZrj1VTNKv8DCH4QABoMNjM3NDIzMTgzODA1IgxLnnFhakrZo5jRwkAq3AP1k81qylJsqM7Vt%2BljujgBdiS4SHZC9Ty2%2BPRp5t%2FbpNGo3TcL76JlEE%2FdOw9W98r7Wt6GF3N%2BdUqFnuuIfjM%2FCe%2Fi0KmEUZOaKhEDAsGrDAaTFpRjagp%2BCV1z3DR%2B45M29Edofr8vk0zz7e%2FNja3T5uMgHjwZB3aR1jAtp56NuX8VGV2zcv9Rd%2Bkj9LbtgXexpEquxHo8j%2B5CYaBb8JJ5Ew7ximLRwQoyXeEtRKPCZ8UK%2BNsGP74Cl70Kz9jmivm9sPPa4poSSQ2LIdp52iYmcC5c2eprlzXud0O6DQN79AnM3WoY5cPpBN7WpyFA2SnQ%2FIw892foIk44g1S6w377rSGOj8wBAvl5RAIl77dBwNfwoKIqeXBR52Te5udTroDk%2BjHiYuUEreKah4K%2By8sg%2FIlP2vxJMBiGicWuWtr6ztXt3L7SbqUNTb6s2XE%2BIqq28v8uLlcX6esCHhRhCKCjyXi6GTTwOjWm3mSHBTuCq4I9tgv3q9D2%2FaxH8jc8qGqGI1BelCXDoUVXe6Aoflrtzvwu9VuDOsuqavJaEkZVatTlfWbIz95jU%2BYXVFugso21LTliSIh2clkt946bOG6Jd85IvZxTSn4CThAVozpJKF6R0UyErZMbKjSXwTDfzOvLBjqkAcVCgiSdGNAkbibEXNc3FGAEUR8nW097wnj1TtSF4msQ%2FTRaujXnDN5ocjTd2nL7b8zyO1i0t33pWPhBqFbRjTPpVEUrsH1K4t60HSBMEV15Sgn5DDWcoMYd287BesVZzBP9Tty6xlcpL5QQpfWddDdmGCkIL9q0a31Hibjmt%2BtZ9Spygv3wxgREFkohvsqmg8l2BMLiOVlQwQeAh9YECCBVIXYL&X-Amz-Signature=e3741b170d842e96eaeabe60b09261a944097e1c385add1f3b76487bb93f23ac&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGNOK7HW%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045445Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDsuyJgIXQ2ceXg%2BOGHKIbKdYC5hfuItDaHpJT72NerAgIgDTuLNGRLN34eHxohAvX5rN4wSOlQEDrl08ksGxsoinMq%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDG6iKZ8f7KcRIVLvgyrcA6Qyug0rx%2FpLH6TFLAxCltv7GPAn4uxIrIhwgAjcB3bTTyICmGRojSd3lLhIlcKl9fiz%2FUjcntMsIdkTD42yJP6zhAcoRIHZClYyXAJJIFQoh9WzLXTFkmODqp7NUUeTQFMddNuPheE5xYSoXn%2Fwe5p5e%2BGfPNI8bQaJPthdXcrySQ5Ct7zHB4lfua6kwJEIcBKnTvvEvB8PZz98b%2FLB%2BJ50jmp3fOr89r0FIvMqGi2KplCXn3EuAl5Igty3G3eqkQORfE8Gm13vvSl3FBB1t8UyKpKe7%2BcCthM76o0pOhNkv0XbHCScLBxo%2FUYWxBtYoZB6u76e9tCYN%2FIZLr2khVOm3NJQI8urM1LLOVjlBKSM6n20opN5Fu%2F4tTlsKu0x87fSDrzCDlbOuKZzUvowL9IdYWEgETwI2IeUzd16eyc2htG%2F5QOMO3FOB4ddKLttbHVaoUDCmIeJZsjQi58xruUeIuiFav3Jor5cTvMho4VmXZPOR4DEbiddjoNSrFkhPbklpDc8iUPPCbpTpg02HNiHP8x%2BERLoo73NPLW1Sozsqypvd2wKRFHeppRyP8DcCmBmj91euiBabYTdyW1ypOuymqNQdd%2F0tjXWHugaVrQhCKJkOvGh0djpwSiOMNHN68sGOqUBP321elBuKM4ajBjsDr7gn5EmXI7SHTE7z0Od%2BCdx40XLeja7%2Ft9cXmVw0qyTyuDFhfEETsnyZ61i0fISnVcYB0wVMf%2Bp9SbszTjVnkr0Uk%2FSTvyOld8%2Ffv1zgzt7FjMjrGbCi2fYRWAXUKNbjz6F5ztj1QneW9qVy%2BptKeDEXAbhUVRGyUtCdmzdCMwqQiKgp9yQcul63LMf7b8cNzMbK99u5%2Bj0&X-Amz-Signature=84fc2c100cbd8accbe48837ab49ecbdc616f33709a0116867d10e4113638e6f2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGNOK7HW%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045445Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDsuyJgIXQ2ceXg%2BOGHKIbKdYC5hfuItDaHpJT72NerAgIgDTuLNGRLN34eHxohAvX5rN4wSOlQEDrl08ksGxsoinMq%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDG6iKZ8f7KcRIVLvgyrcA6Qyug0rx%2FpLH6TFLAxCltv7GPAn4uxIrIhwgAjcB3bTTyICmGRojSd3lLhIlcKl9fiz%2FUjcntMsIdkTD42yJP6zhAcoRIHZClYyXAJJIFQoh9WzLXTFkmODqp7NUUeTQFMddNuPheE5xYSoXn%2Fwe5p5e%2BGfPNI8bQaJPthdXcrySQ5Ct7zHB4lfua6kwJEIcBKnTvvEvB8PZz98b%2FLB%2BJ50jmp3fOr89r0FIvMqGi2KplCXn3EuAl5Igty3G3eqkQORfE8Gm13vvSl3FBB1t8UyKpKe7%2BcCthM76o0pOhNkv0XbHCScLBxo%2FUYWxBtYoZB6u76e9tCYN%2FIZLr2khVOm3NJQI8urM1LLOVjlBKSM6n20opN5Fu%2F4tTlsKu0x87fSDrzCDlbOuKZzUvowL9IdYWEgETwI2IeUzd16eyc2htG%2F5QOMO3FOB4ddKLttbHVaoUDCmIeJZsjQi58xruUeIuiFav3Jor5cTvMho4VmXZPOR4DEbiddjoNSrFkhPbklpDc8iUPPCbpTpg02HNiHP8x%2BERLoo73NPLW1Sozsqypvd2wKRFHeppRyP8DcCmBmj91euiBabYTdyW1ypOuymqNQdd%2F0tjXWHugaVrQhCKJkOvGh0djpwSiOMNHN68sGOqUBP321elBuKM4ajBjsDr7gn5EmXI7SHTE7z0Od%2BCdx40XLeja7%2Ft9cXmVw0qyTyuDFhfEETsnyZ61i0fISnVcYB0wVMf%2Bp9SbszTjVnkr0Uk%2FSTvyOld8%2Ffv1zgzt7FjMjrGbCi2fYRWAXUKNbjz6F5ztj1QneW9qVy%2BptKeDEXAbhUVRGyUtCdmzdCMwqQiKgp9yQcul63LMf7b8cNzMbK99u5%2Bj0&X-Amz-Signature=d5b59de331a4dd75da04700a635b044b66d3af86c2680cf2658204a8a30b6c79&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGNOK7HW%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045445Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDsuyJgIXQ2ceXg%2BOGHKIbKdYC5hfuItDaHpJT72NerAgIgDTuLNGRLN34eHxohAvX5rN4wSOlQEDrl08ksGxsoinMq%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDG6iKZ8f7KcRIVLvgyrcA6Qyug0rx%2FpLH6TFLAxCltv7GPAn4uxIrIhwgAjcB3bTTyICmGRojSd3lLhIlcKl9fiz%2FUjcntMsIdkTD42yJP6zhAcoRIHZClYyXAJJIFQoh9WzLXTFkmODqp7NUUeTQFMddNuPheE5xYSoXn%2Fwe5p5e%2BGfPNI8bQaJPthdXcrySQ5Ct7zHB4lfua6kwJEIcBKnTvvEvB8PZz98b%2FLB%2BJ50jmp3fOr89r0FIvMqGi2KplCXn3EuAl5Igty3G3eqkQORfE8Gm13vvSl3FBB1t8UyKpKe7%2BcCthM76o0pOhNkv0XbHCScLBxo%2FUYWxBtYoZB6u76e9tCYN%2FIZLr2khVOm3NJQI8urM1LLOVjlBKSM6n20opN5Fu%2F4tTlsKu0x87fSDrzCDlbOuKZzUvowL9IdYWEgETwI2IeUzd16eyc2htG%2F5QOMO3FOB4ddKLttbHVaoUDCmIeJZsjQi58xruUeIuiFav3Jor5cTvMho4VmXZPOR4DEbiddjoNSrFkhPbklpDc8iUPPCbpTpg02HNiHP8x%2BERLoo73NPLW1Sozsqypvd2wKRFHeppRyP8DcCmBmj91euiBabYTdyW1ypOuymqNQdd%2F0tjXWHugaVrQhCKJkOvGh0djpwSiOMNHN68sGOqUBP321elBuKM4ajBjsDr7gn5EmXI7SHTE7z0Od%2BCdx40XLeja7%2Ft9cXmVw0qyTyuDFhfEETsnyZ61i0fISnVcYB0wVMf%2Bp9SbszTjVnkr0Uk%2FSTvyOld8%2Ffv1zgzt7FjMjrGbCi2fYRWAXUKNbjz6F5ztj1QneW9qVy%2BptKeDEXAbhUVRGyUtCdmzdCMwqQiKgp9yQcul63LMf7b8cNzMbK99u5%2Bj0&X-Amz-Signature=0a46624e01a8ab1d54724e3208d11b2270714fbc6f6869f8b647084d74346495&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WGNOK7HW%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045445Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDsuyJgIXQ2ceXg%2BOGHKIbKdYC5hfuItDaHpJT72NerAgIgDTuLNGRLN34eHxohAvX5rN4wSOlQEDrl08ksGxsoinMq%2FwMIfhAAGgw2Mzc0MjMxODM4MDUiDG6iKZ8f7KcRIVLvgyrcA6Qyug0rx%2FpLH6TFLAxCltv7GPAn4uxIrIhwgAjcB3bTTyICmGRojSd3lLhIlcKl9fiz%2FUjcntMsIdkTD42yJP6zhAcoRIHZClYyXAJJIFQoh9WzLXTFkmODqp7NUUeTQFMddNuPheE5xYSoXn%2Fwe5p5e%2BGfPNI8bQaJPthdXcrySQ5Ct7zHB4lfua6kwJEIcBKnTvvEvB8PZz98b%2FLB%2BJ50jmp3fOr89r0FIvMqGi2KplCXn3EuAl5Igty3G3eqkQORfE8Gm13vvSl3FBB1t8UyKpKe7%2BcCthM76o0pOhNkv0XbHCScLBxo%2FUYWxBtYoZB6u76e9tCYN%2FIZLr2khVOm3NJQI8urM1LLOVjlBKSM6n20opN5Fu%2F4tTlsKu0x87fSDrzCDlbOuKZzUvowL9IdYWEgETwI2IeUzd16eyc2htG%2F5QOMO3FOB4ddKLttbHVaoUDCmIeJZsjQi58xruUeIuiFav3Jor5cTvMho4VmXZPOR4DEbiddjoNSrFkhPbklpDc8iUPPCbpTpg02HNiHP8x%2BERLoo73NPLW1Sozsqypvd2wKRFHeppRyP8DcCmBmj91euiBabYTdyW1ypOuymqNQdd%2F0tjXWHugaVrQhCKJkOvGh0djpwSiOMNHN68sGOqUBP321elBuKM4ajBjsDr7gn5EmXI7SHTE7z0Od%2BCdx40XLeja7%2Ft9cXmVw0qyTyuDFhfEETsnyZ61i0fISnVcYB0wVMf%2Bp9SbszTjVnkr0Uk%2FSTvyOld8%2Ffv1zgzt7FjMjrGbCi2fYRWAXUKNbjz6F5ztj1QneW9qVy%2BptKeDEXAbhUVRGyUtCdmzdCMwqQiKgp9yQcul63LMf7b8cNzMbK99u5%2Bj0&X-Amz-Signature=504d6e2e0beffe52c0ed3126812ad1527624d1a18b5bc77eaa435226d7ad5fb6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QDHPZDCX%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045445Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD89vwjiR4xb611ubIFCj8u6PVCOc3xx0BRwfb06aNY2wIhAMwF9dkwBVNFuMqDkMMyKd9J125mDHbN6tQFw7kj7UmQKv8DCH4QABoMNjM3NDIzMTgzODA1IgzPZigCHDyMDh81SjIq3AMNIUj%2FB97zMB1GaqHJBB7ghwqb0JB7Wsh%2BdNt99oFMWgBeFxplpz%2BqDu4KZUqrifvrKahzixA5es9BoKCiloVY2pVs5EddryUibBLZvk3mmTyJAfBtjk8CjGs0jl0isKAw66amboSlo%2BNlRG72lo44yqxcw0%2BYZ0WYihEH32Bi9RiFRZECS3gJ4Zj7D1LXprlPn5WyQpy26gX0YfKZaKdhwNdt%2BJBRRZatwfCaGFw1%2FWky9j9QdQe62Zoyj3opjWuv1kKjRSO80ASvIVPwHIzqhM9goElRQc3kIVkI%2FyOM9mTpgnEUG1v6SLrsNw8Wwvfcho4FvhHGlkSaT3S0DMTJDn33biJaLxTiFj7FHaqouZUbuiMUyeLF8JKbBNmkHstH1rFOlZXFcR%2FkeutRkxRtLqwfpj048%2BwkpoiZtABO3wqOPkNgper0oI7Ovalb7kt1aXWA4kNmbBqER9N0ag6x2cRJP%2FDFr6C9PiSjV7SBaJGlOoqlAMPKwlAgwCqndDe7fnvgS7Iv0SRgIToyBllml4AVZF%2BwaLKsQTawyAweP9%2Bx8TEgshMOnrz%2FYmmk%2FzuOeH98HvzRqS5z2JXOv9CxaF0w8GHnuacmW3qZyvGZ8jw9S2Wjlwcxl7AlRzDnzOvLBjqkAQoYFXcvywPX5J%2B%2BBHWEJHxaVGxq5Kg%2FPHG6r73Jsd5WOM6MA6XLF0OalATif6KxafBxaVrnXSzL1IYK8IdDb7NhEJAVV4%2FJ69t9oMxKOW6vTcta01adWLTBJFgfICC9sZZq0zsCztug5LrNeFnhmuP4PGtrVpm%2BhHs6eXRraF967GwNhhTLW9vqQ0Sa7WI6WFLEA8ZToeLG11O9PPjFa1VSXsvG&X-Amz-Signature=39519af095b5a386a8767496e519c7fcbb8910d19edf22b5b6ec5445fa4135d8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QDHPZDCX%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045445Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD89vwjiR4xb611ubIFCj8u6PVCOc3xx0BRwfb06aNY2wIhAMwF9dkwBVNFuMqDkMMyKd9J125mDHbN6tQFw7kj7UmQKv8DCH4QABoMNjM3NDIzMTgzODA1IgzPZigCHDyMDh81SjIq3AMNIUj%2FB97zMB1GaqHJBB7ghwqb0JB7Wsh%2BdNt99oFMWgBeFxplpz%2BqDu4KZUqrifvrKahzixA5es9BoKCiloVY2pVs5EddryUibBLZvk3mmTyJAfBtjk8CjGs0jl0isKAw66amboSlo%2BNlRG72lo44yqxcw0%2BYZ0WYihEH32Bi9RiFRZECS3gJ4Zj7D1LXprlPn5WyQpy26gX0YfKZaKdhwNdt%2BJBRRZatwfCaGFw1%2FWky9j9QdQe62Zoyj3opjWuv1kKjRSO80ASvIVPwHIzqhM9goElRQc3kIVkI%2FyOM9mTpgnEUG1v6SLrsNw8Wwvfcho4FvhHGlkSaT3S0DMTJDn33biJaLxTiFj7FHaqouZUbuiMUyeLF8JKbBNmkHstH1rFOlZXFcR%2FkeutRkxRtLqwfpj048%2BwkpoiZtABO3wqOPkNgper0oI7Ovalb7kt1aXWA4kNmbBqER9N0ag6x2cRJP%2FDFr6C9PiSjV7SBaJGlOoqlAMPKwlAgwCqndDe7fnvgS7Iv0SRgIToyBllml4AVZF%2BwaLKsQTawyAweP9%2Bx8TEgshMOnrz%2FYmmk%2FzuOeH98HvzRqS5z2JXOv9CxaF0w8GHnuacmW3qZyvGZ8jw9S2Wjlwcxl7AlRzDnzOvLBjqkAQoYFXcvywPX5J%2B%2BBHWEJHxaVGxq5Kg%2FPHG6r73Jsd5WOM6MA6XLF0OalATif6KxafBxaVrnXSzL1IYK8IdDb7NhEJAVV4%2FJ69t9oMxKOW6vTcta01adWLTBJFgfICC9sZZq0zsCztug5LrNeFnhmuP4PGtrVpm%2BhHs6eXRraF967GwNhhTLW9vqQ0Sa7WI6WFLEA8ZToeLG11O9PPjFa1VSXsvG&X-Amz-Signature=5792a66f29b6b0ed76effd8b8de838b6ae038f72e1820cdbabd9ecbdc6118225&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QDHPZDCX%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045445Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD89vwjiR4xb611ubIFCj8u6PVCOc3xx0BRwfb06aNY2wIhAMwF9dkwBVNFuMqDkMMyKd9J125mDHbN6tQFw7kj7UmQKv8DCH4QABoMNjM3NDIzMTgzODA1IgzPZigCHDyMDh81SjIq3AMNIUj%2FB97zMB1GaqHJBB7ghwqb0JB7Wsh%2BdNt99oFMWgBeFxplpz%2BqDu4KZUqrifvrKahzixA5es9BoKCiloVY2pVs5EddryUibBLZvk3mmTyJAfBtjk8CjGs0jl0isKAw66amboSlo%2BNlRG72lo44yqxcw0%2BYZ0WYihEH32Bi9RiFRZECS3gJ4Zj7D1LXprlPn5WyQpy26gX0YfKZaKdhwNdt%2BJBRRZatwfCaGFw1%2FWky9j9QdQe62Zoyj3opjWuv1kKjRSO80ASvIVPwHIzqhM9goElRQc3kIVkI%2FyOM9mTpgnEUG1v6SLrsNw8Wwvfcho4FvhHGlkSaT3S0DMTJDn33biJaLxTiFj7FHaqouZUbuiMUyeLF8JKbBNmkHstH1rFOlZXFcR%2FkeutRkxRtLqwfpj048%2BwkpoiZtABO3wqOPkNgper0oI7Ovalb7kt1aXWA4kNmbBqER9N0ag6x2cRJP%2FDFr6C9PiSjV7SBaJGlOoqlAMPKwlAgwCqndDe7fnvgS7Iv0SRgIToyBllml4AVZF%2BwaLKsQTawyAweP9%2Bx8TEgshMOnrz%2FYmmk%2FzuOeH98HvzRqS5z2JXOv9CxaF0w8GHnuacmW3qZyvGZ8jw9S2Wjlwcxl7AlRzDnzOvLBjqkAQoYFXcvywPX5J%2B%2BBHWEJHxaVGxq5Kg%2FPHG6r73Jsd5WOM6MA6XLF0OalATif6KxafBxaVrnXSzL1IYK8IdDb7NhEJAVV4%2FJ69t9oMxKOW6vTcta01adWLTBJFgfICC9sZZq0zsCztug5LrNeFnhmuP4PGtrVpm%2BhHs6eXRraF967GwNhhTLW9vqQ0Sa7WI6WFLEA8ZToeLG11O9PPjFa1VSXsvG&X-Amz-Signature=4c71f4539efb459c506e8bb145c84cac35dc7dcfb4c914f19ca7d757b6c35922&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WOZWUBPM%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045446Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEW4g3OcpJjziXX%2BR18C2YFWE4A9p0FnbvxrUf%2F%2Fi84lAiAR1TiNs%2BpAES0DpIj5JSR0HWEmE8LFfHZ9vsBBgHuoFSr%2FAwh%2BEAAaDDYzNzQyMzE4MzgwNSIMOHbG%2BxpF5X1I38ihKtwDIA3LSQaHOxuLb4dCz8s%2F3QykECZ7K0FJ3fqSPMpheahL9X44wfY2%2FwJDOP2%2F6VLtDjDi3OPZ%2FUP8kuOD43xQL79XbNArEdPQR7ksJ66Bh4u0pKSPyBWRzh0k9Mg4UvrLpT2RDxc3Id93%2BJ1hUJMSdAPl6w6RZ%2F7z3l8Bjfp9U97bjtBObXl3r5K6J%2FrNVEboUO03xZ0rXO2zMo%2Fup9O4w20Jsgvwhhrlw8HOkvkY8CjaohLLRvH%2BqaCVcVlXvMIn31s2Aw%2Fj%2BQzG5zmNPlYsOtPBg82D4WfjDuNk7PdlTQUoS50s0pxVlSncIj0i0hE%2F4WNCG1Mqy7cnDSJnnTFgIysEbEc9g%2FXCNO5cSytAiWRrgveXc1SxfMGnNN4YZvAP%2F5mE2G3RUfFr4z%2Fpg4d%2B%2FeQToS5hpe9flPieabcryUbKFFAWn3AeTfwpRnM9PjY%2FIKX%2BMWKgGtj4kEHiQyaf5ppO3FzQ1TvHss%2FkaptxX6PTnCLw2FwvX7vCeCy5yYrrGfpBiaQtii7KT5YHuS9NehA%2BpHiPk3cM1Q4UOizKCUsBu%2FQwBfHzPj1dKHTngoNTUfpXB0ojgov3fLkZaKwNiQHJCl7X9o7ano8e6vzCKtnODZ6oZpt%2BATfA7wswy8zrywY6pgErKqGloAgag33yYnnhKSq%2FDuY0sGM2w5YxeQf0yoy6GdvvyHHvm0Hps0Jb8I5OHlRtVxJKZoyoVH0TzDhLIB9rXu8AYN9a4FdNAkaXWFyNelmVgWGDyQisQrhUGTAiksEcu3u6pE9kHVEmRI6SdOzTz4%2BL5mYBBhm1YuRg01tOvEJtgtNcXsSlLRC%2B470E0vS6CtuXlZKVU9j9%2BJ%2F9EI1NIDw7as1N&X-Amz-Signature=0888e913d9aee06cc23e9466266528165236ecd352bd60429728b65903345b11&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WOZWUBPM%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045446Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEW4g3OcpJjziXX%2BR18C2YFWE4A9p0FnbvxrUf%2F%2Fi84lAiAR1TiNs%2BpAES0DpIj5JSR0HWEmE8LFfHZ9vsBBgHuoFSr%2FAwh%2BEAAaDDYzNzQyMzE4MzgwNSIMOHbG%2BxpF5X1I38ihKtwDIA3LSQaHOxuLb4dCz8s%2F3QykECZ7K0FJ3fqSPMpheahL9X44wfY2%2FwJDOP2%2F6VLtDjDi3OPZ%2FUP8kuOD43xQL79XbNArEdPQR7ksJ66Bh4u0pKSPyBWRzh0k9Mg4UvrLpT2RDxc3Id93%2BJ1hUJMSdAPl6w6RZ%2F7z3l8Bjfp9U97bjtBObXl3r5K6J%2FrNVEboUO03xZ0rXO2zMo%2Fup9O4w20Jsgvwhhrlw8HOkvkY8CjaohLLRvH%2BqaCVcVlXvMIn31s2Aw%2Fj%2BQzG5zmNPlYsOtPBg82D4WfjDuNk7PdlTQUoS50s0pxVlSncIj0i0hE%2F4WNCG1Mqy7cnDSJnnTFgIysEbEc9g%2FXCNO5cSytAiWRrgveXc1SxfMGnNN4YZvAP%2F5mE2G3RUfFr4z%2Fpg4d%2B%2FeQToS5hpe9flPieabcryUbKFFAWn3AeTfwpRnM9PjY%2FIKX%2BMWKgGtj4kEHiQyaf5ppO3FzQ1TvHss%2FkaptxX6PTnCLw2FwvX7vCeCy5yYrrGfpBiaQtii7KT5YHuS9NehA%2BpHiPk3cM1Q4UOizKCUsBu%2FQwBfHzPj1dKHTngoNTUfpXB0ojgov3fLkZaKwNiQHJCl7X9o7ano8e6vzCKtnODZ6oZpt%2BATfA7wswy8zrywY6pgErKqGloAgag33yYnnhKSq%2FDuY0sGM2w5YxeQf0yoy6GdvvyHHvm0Hps0Jb8I5OHlRtVxJKZoyoVH0TzDhLIB9rXu8AYN9a4FdNAkaXWFyNelmVgWGDyQisQrhUGTAiksEcu3u6pE9kHVEmRI6SdOzTz4%2BL5mYBBhm1YuRg01tOvEJtgtNcXsSlLRC%2B470E0vS6CtuXlZKVU9j9%2BJ%2F9EI1NIDw7as1N&X-Amz-Signature=402c7bcde886f0bb0cfa1214e29e250bbd8dcd2e5ba0311fae6f603869d02a7e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663OM66DJR%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045446Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDPFXYqYiV09VpT1TclwivTzi1d8S5EcGjoeU7GBWJPSgIhAPxIbHj0zK7jximN%2Fii%2BIImEUyd9%2FMSorRA5iRPsobMUKv8DCH4QABoMNjM3NDIzMTgzODA1IgwWIrlOtMZmQYT1aIwq3AMnuqiUr94I1LXmdY7YUeXmcLzM3D8WDuQ0%2Fb74910zaBxPlXyavpC0VV97%2BmYK9iRmyitUQEcCx0kq0o3t8%2BMN41400wbTnUZ%2By1L94uT%2FlJm2qz2hgpKluN1DJgdrT%2BrnS1wVq%2BTs73UXCKmcd2GhPGwp4GJH904bhESq5l3f9teXZceVkf%2FJsapQML4KaSOnWAVdW6DcYoWY9RkgAunJwBd0M5OkDa3Sne4TWaFxTmOop%2FE3QSkR0EENsdiaYWSZque3NVB5KgCq3HVfjhlZ2REk%2FjL%2Bd1QHu9IFd3rb2LStdNTLX5n4BP5%2FmF5KthUQIuZ6CnlpEIBAtmMnb%2F9mLRiv6UW8c%2B3JDUOyZwPuZGi44eQ%2B%2Fyvey%2F%2FO0iOj4rIxWUROEHurIaTEK3ZzO7MLnpPF6LFkLY9C5hsMtZXcUBerZtWDrOusOwXduM9u2XwAOYe7aZmQoA4%2BES5x5QFANSglbmJE7q89q6DRho4yd%2F4boV32NQu09YrLbCunjMpbROMhxFGsnjFISh%2Fi6JOJwRQUUxELUXlfgL%2B9BYUcZnIAiGIRtuzh934i7YbplSAY2aap%2BVoMN5ko9AeHsSFgfibkXCj4vDWmYIzXv7NvB%2FZDu9EeO%2FgJRhMMGjD7zOvLBjqkAdMdxzNWWtQCIfSRwb9DiYXSNhUyUrtPuUDlHSypWfh5uxgco%2Bz0MXEwN6k3Rf2SsRExjkw%2Br5dc2OMOnxabS3LfowiWHNLN%2Fo2MRJ8SsXEmYEBaZHZPHMaYWu%2BhYtGHwf4liUUXKLjEHOrN%2BJqAc7riycFUadU%2BvcMFsmkID7%2FopWmC9QJaYeu%2Fs%2F2cJBL8EGCnABYZT5b8S267Kc3yefersL0n&X-Amz-Signature=4a35b5e248c1d09e00536ae33e08d1976638501ceceeed5914a8009678ef424f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663OM66DJR%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045446Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDPFXYqYiV09VpT1TclwivTzi1d8S5EcGjoeU7GBWJPSgIhAPxIbHj0zK7jximN%2Fii%2BIImEUyd9%2FMSorRA5iRPsobMUKv8DCH4QABoMNjM3NDIzMTgzODA1IgwWIrlOtMZmQYT1aIwq3AMnuqiUr94I1LXmdY7YUeXmcLzM3D8WDuQ0%2Fb74910zaBxPlXyavpC0VV97%2BmYK9iRmyitUQEcCx0kq0o3t8%2BMN41400wbTnUZ%2By1L94uT%2FlJm2qz2hgpKluN1DJgdrT%2BrnS1wVq%2BTs73UXCKmcd2GhPGwp4GJH904bhESq5l3f9teXZceVkf%2FJsapQML4KaSOnWAVdW6DcYoWY9RkgAunJwBd0M5OkDa3Sne4TWaFxTmOop%2FE3QSkR0EENsdiaYWSZque3NVB5KgCq3HVfjhlZ2REk%2FjL%2Bd1QHu9IFd3rb2LStdNTLX5n4BP5%2FmF5KthUQIuZ6CnlpEIBAtmMnb%2F9mLRiv6UW8c%2B3JDUOyZwPuZGi44eQ%2B%2Fyvey%2F%2FO0iOj4rIxWUROEHurIaTEK3ZzO7MLnpPF6LFkLY9C5hsMtZXcUBerZtWDrOusOwXduM9u2XwAOYe7aZmQoA4%2BES5x5QFANSglbmJE7q89q6DRho4yd%2F4boV32NQu09YrLbCunjMpbROMhxFGsnjFISh%2Fi6JOJwRQUUxELUXlfgL%2B9BYUcZnIAiGIRtuzh934i7YbplSAY2aap%2BVoMN5ko9AeHsSFgfibkXCj4vDWmYIzXv7NvB%2FZDu9EeO%2FgJRhMMGjD7zOvLBjqkAdMdxzNWWtQCIfSRwb9DiYXSNhUyUrtPuUDlHSypWfh5uxgco%2Bz0MXEwN6k3Rf2SsRExjkw%2Br5dc2OMOnxabS3LfowiWHNLN%2Fo2MRJ8SsXEmYEBaZHZPHMaYWu%2BhYtGHwf4liUUXKLjEHOrN%2BJqAc7riycFUadU%2BvcMFsmkID7%2FopWmC9QJaYeu%2Fs%2F2cJBL8EGCnABYZT5b8S267Kc3yefersL0n&X-Amz-Signature=387d1764ea5b27bdb1e689046463db4400de2f0039092c3fea7c9bec4eea4ed9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TCHGHZO2%2F20260129%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260129T045446Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGbkXXNZfaka8KSJk5VxtdWc8uTlnSl4OVZvJxW%2FSLCOAiBCZn%2Bfza8qH6tu1KB0CIHlWFO%2BDtQaLPQCp59l3bDNdSr%2FAwh%2BEAAaDDYzNzQyMzE4MzgwNSIMO8iNs10BTw0BkVBcKtwDsad1m%2F14wrb31BkTMX%2F2CmjiDgQ%2BB1c3YBTLQYvC2gD6rGU5hGWJb8jq4C6p1Rvk%2FOmxm9WP19xUZ45LLDerxCk1H5l0ZOtP6HiniIbeZxxxzK6f5aHiGeK3Sgssd%2FZqLm8Wf0n4btbrHCy0XcrxiswTHRqEglIycX9JHLGxtqOxxKtGmilf506x%2BDg0xf6iSmcRdpM3WdJ%2BK2Da0bJJ7zJsIqn8dsw4It%2BV3nQi0vBOV0hUKRKFWt3l7aX4p3VWA4XaU4gQa3fqGgNKuTi0dnetfacWlUHs7OEeHkvggwMjxROnsBKc5hXjjUy3%2Brz75%2BXF3QCFEB3Uv4Gk%2FAYVsVpEh2I%2BEtbBiKB5acs31jXLbN1tX6VokGN62r%2BebBPOitJwpMKWmcj%2BrGjwyTxUdK3r3oU9BkdUQe5YCOU5Kp%2B1xQYLxkKBDjYPjvJ5j6RMjbHcTlDjXv83C%2B9gbXcUnTCHspwhJsVd%2FctKSq2ZgOytDsmthfWYm1DrwaP84inQRgSWBTuHlpffhooM7xu8syMMkI1W4lH0OfQYk2PL7bGfjL7M1YGv4blEBu6XZdq81dgleLJ2r401AWL6PykzCQrTDuAy26XaU7wAykIFPcOywVXifiXku2bKrxMw0czrywY6pgEaRJIRIQsVJnf0HlZpwATpX%2FgSyTJGWf5NVcjm7xCJSoqplb0pDyUbDHvxtAlF96sVTtnsF83WoYeT3KBYsHTe08tMKPV6QQslAdGTqOqxo6%2FN1aO%2FWQKgX7jl4Aq20d1sE9EHlH43M9suzNSEPT4sU3Oyx5g7LiFB14x%2BzHhBlzFagQUsCj4eK4an1TLULdR%2FusIOjmgjnriqMmspXXzhXQdlQ3xB&X-Amz-Signature=ec20c313a7c141a74981552edb5d796e0d4cc8e6f30f466deeb36d565a26cbd5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
