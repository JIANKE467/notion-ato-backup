
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662EF6HD47%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICEBkGYBajA309vJSKELP2rTZNsw0csOQuupwB3NM43bAiBTc%2FFW4ujgS9fB%2BT1E2xHaqTE8Wnagel31HzTz8KLNQyqIBAiR%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMvMTi349PZki0I4PuKtwD6NyrOB%2BN6kU3GIBhCJF3i8Nz4%2FGhGYE%2Fq71%2FqOOpQEDvnfY7d2ubqKUaRRlYWiUtVGQFwzoourEtdmtAbt%2BGulH5zj92YQ6jymvSfnmUnUHVyiEnW02BcaUDw2bpeX%2BhUiHx97IfBk0F2rC8eV9QCl%2Fal2xdH9xs1sSqByDTfn3BHCt95GoZs3rIZDP6e28qdMZk9ki7Jxnrn%2BVzBW36ItrUDfdU7TyugZ4BWyFceY4AksUh7ZnkadXBoEFId%2FEYA7y6S0nm5nixKFmh7fgU%2BK3m0FceCDYldgT3DaAH4wmYbnMKaot9xLtL%2B4vY%2BHVgnIcjc8LqnLGQNBiwHXpWq75itN%2BGEwzhNO62gocoBdnkYHH1Gcl2gMnNMcW8fjeZWQwocTVgXHHV%2F1YdcDeGU%2BAwhmqzqJS9Yhv3Qi1UJV2UxbNcConTTFnjgsApK3BnYy7L9uhUH8vqh4KJIzIQDUCb4P1NxtfETL7wIK3yhpfLy2rE%2F%2BRzAkrpIyUt522T4pHBGf76JXMNpPq0zl%2FgCwHptZe2ZTv4SrdJoVQccR3M%2BchrlMUL9G8RrFW%2FhDeBMly8tXiMDRO94Fh4FA1V3fKZPjLgOVPX4CLQiBWa7ml%2F3FniF%2BxmQKRP570w%2BZDHygY6pgGFntPizY4mt%2FUkMZwwnxq5CHr5S51vMX5pEbmBkwfjl%2BUrTfo0WvFNbhI9Xp5OVQYpfndP7Iv4plc8S3hixPQR%2FlqucQgi45nDI0RVmBOL7dsqh4paDytCTUsznwbTdWBlAG%2Bubpi%2BMsLfCnBkURDh8MXN04bolQeHnTqiiGFvV3sX0OcIefPmG7fb9HHJNWU2YV3ld5CcE4EzrNfcgiRB9G0K%2BifM&X-Amz-Signature=03a5fd2f7150d0f6c14d87f173bdbf49654451bdd8ff9b55440c1d12cef33e1d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662EF6HD47%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICEBkGYBajA309vJSKELP2rTZNsw0csOQuupwB3NM43bAiBTc%2FFW4ujgS9fB%2BT1E2xHaqTE8Wnagel31HzTz8KLNQyqIBAiR%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMvMTi349PZki0I4PuKtwD6NyrOB%2BN6kU3GIBhCJF3i8Nz4%2FGhGYE%2Fq71%2FqOOpQEDvnfY7d2ubqKUaRRlYWiUtVGQFwzoourEtdmtAbt%2BGulH5zj92YQ6jymvSfnmUnUHVyiEnW02BcaUDw2bpeX%2BhUiHx97IfBk0F2rC8eV9QCl%2Fal2xdH9xs1sSqByDTfn3BHCt95GoZs3rIZDP6e28qdMZk9ki7Jxnrn%2BVzBW36ItrUDfdU7TyugZ4BWyFceY4AksUh7ZnkadXBoEFId%2FEYA7y6S0nm5nixKFmh7fgU%2BK3m0FceCDYldgT3DaAH4wmYbnMKaot9xLtL%2B4vY%2BHVgnIcjc8LqnLGQNBiwHXpWq75itN%2BGEwzhNO62gocoBdnkYHH1Gcl2gMnNMcW8fjeZWQwocTVgXHHV%2F1YdcDeGU%2BAwhmqzqJS9Yhv3Qi1UJV2UxbNcConTTFnjgsApK3BnYy7L9uhUH8vqh4KJIzIQDUCb4P1NxtfETL7wIK3yhpfLy2rE%2F%2BRzAkrpIyUt522T4pHBGf76JXMNpPq0zl%2FgCwHptZe2ZTv4SrdJoVQccR3M%2BchrlMUL9G8RrFW%2FhDeBMly8tXiMDRO94Fh4FA1V3fKZPjLgOVPX4CLQiBWa7ml%2F3FniF%2BxmQKRP570w%2BZDHygY6pgGFntPizY4mt%2FUkMZwwnxq5CHr5S51vMX5pEbmBkwfjl%2BUrTfo0WvFNbhI9Xp5OVQYpfndP7Iv4plc8S3hixPQR%2FlqucQgi45nDI0RVmBOL7dsqh4paDytCTUsznwbTdWBlAG%2Bubpi%2BMsLfCnBkURDh8MXN04bolQeHnTqiiGFvV3sX0OcIefPmG7fb9HHJNWU2YV3ld5CcE4EzrNfcgiRB9G0K%2BifM&X-Amz-Signature=c43a91615e0f9d1f3209913460f3f414f847c40214e8675bf3bdaddc48a3ae25&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662EF6HD47%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICEBkGYBajA309vJSKELP2rTZNsw0csOQuupwB3NM43bAiBTc%2FFW4ujgS9fB%2BT1E2xHaqTE8Wnagel31HzTz8KLNQyqIBAiR%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMvMTi349PZki0I4PuKtwD6NyrOB%2BN6kU3GIBhCJF3i8Nz4%2FGhGYE%2Fq71%2FqOOpQEDvnfY7d2ubqKUaRRlYWiUtVGQFwzoourEtdmtAbt%2BGulH5zj92YQ6jymvSfnmUnUHVyiEnW02BcaUDw2bpeX%2BhUiHx97IfBk0F2rC8eV9QCl%2Fal2xdH9xs1sSqByDTfn3BHCt95GoZs3rIZDP6e28qdMZk9ki7Jxnrn%2BVzBW36ItrUDfdU7TyugZ4BWyFceY4AksUh7ZnkadXBoEFId%2FEYA7y6S0nm5nixKFmh7fgU%2BK3m0FceCDYldgT3DaAH4wmYbnMKaot9xLtL%2B4vY%2BHVgnIcjc8LqnLGQNBiwHXpWq75itN%2BGEwzhNO62gocoBdnkYHH1Gcl2gMnNMcW8fjeZWQwocTVgXHHV%2F1YdcDeGU%2BAwhmqzqJS9Yhv3Qi1UJV2UxbNcConTTFnjgsApK3BnYy7L9uhUH8vqh4KJIzIQDUCb4P1NxtfETL7wIK3yhpfLy2rE%2F%2BRzAkrpIyUt522T4pHBGf76JXMNpPq0zl%2FgCwHptZe2ZTv4SrdJoVQccR3M%2BchrlMUL9G8RrFW%2FhDeBMly8tXiMDRO94Fh4FA1V3fKZPjLgOVPX4CLQiBWa7ml%2F3FniF%2BxmQKRP570w%2BZDHygY6pgGFntPizY4mt%2FUkMZwwnxq5CHr5S51vMX5pEbmBkwfjl%2BUrTfo0WvFNbhI9Xp5OVQYpfndP7Iv4plc8S3hixPQR%2FlqucQgi45nDI0RVmBOL7dsqh4paDytCTUsznwbTdWBlAG%2Bubpi%2BMsLfCnBkURDh8MXN04bolQeHnTqiiGFvV3sX0OcIefPmG7fb9HHJNWU2YV3ld5CcE4EzrNfcgiRB9G0K%2BifM&X-Amz-Signature=16d464a6590b023734011aa88a953d583d3b41d718dc4c29ca1a1bd6d73dcbcd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466V5O3W5FG%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDf6Tf6Yi58dLewdi8uly3bL1tzhSA15vUoZPKpzP0hlAIgazYPV7c%2FtkBFegyyULo0v%2BJO%2BlImqeQF74cNWtDmATEqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHR0aceGmI0oK5Yi0ircA5YWaXZWP6ivc8j3bObhP2EcI3UTTaybbvGIBALuD4afV10AeLDCjVQPYovCCHKosPoXSKnaMqTMitBUKT6KXkyoiCjSsmD2k87Hky7PCwvfGRXxMFawU3%2Fz0urpuwAacDEcreiod3Un504GjZ0bNCBxLNtXlR9iu2RbRgFKoq4hAuFrvEQxWPdef56%2FO2LboP5x6sSElvQd4g8ppGyRLTt8FoEVGEk7OPDMIGNbrcmCsGZMFOsmSKX5XVwHjY4ata1jcVCCkL3rO7VxJIDnW4TG2plwPuvNmvovnAuNZOe0fW1h1iF0szQ7Q64ZlQFnzmuRvIHeLqgZqsUx%2BQSL1CGoYYZNw0Z86sSyMH2rT8QsXii6oiVNZ1OvZSWfr6gTY%2FgdwAjTfiJk%2BnHIAaHlnZGZlz%2Ff9uCDaupOPiysZSQHqu6MGzUHS%2FIGHDspxoJgnMOnGQgrLRMgln%2F%2FWIzaN7Gpdg6uHBBFhpZ30NoJGJt1qUAjHq8vRpCd99mZYYUMYDB7bV6GEasqOyMKGVBt5z%2BUeaKw0yk%2Fg1v8%2BhkbFh8vqZxiDaSdyFuEuz8YlHyp4JPRWMR%2BpTjjKSEH6CHcF8wLjsNv7wPSbOUTJn9QEPkc42XSsm2ggClt87ylMJuMx8oGOqUBz8JyOtNKrhctkLK1rwSHzb%2Bku%2FCA1W2HEqCb%2Fo9rh1BzWz%2BKslx9WoB20EdyDl70P634McFxtUTSEi98%2FgqmGt2VOG88IQ8rQTIPHYvDrM%2BzIUgh7pWCE4WKgnaaZ5LBqRb3tF5Yv2ZfDRUjqqekdIkn%2Bx1otbj0lnirFvY%2BzcSiWRYuutGW9WnkXWT3lKtS%2BlYjgDp6QZp2HkmTTEqHuSuUMp4P&X-Amz-Signature=20062456b49d0bdcb1d9750fc6e5ef268480a243712a61dc14eaccf4e6bec0a1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466V5O3W5FG%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDf6Tf6Yi58dLewdi8uly3bL1tzhSA15vUoZPKpzP0hlAIgazYPV7c%2FtkBFegyyULo0v%2BJO%2BlImqeQF74cNWtDmATEqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHR0aceGmI0oK5Yi0ircA5YWaXZWP6ivc8j3bObhP2EcI3UTTaybbvGIBALuD4afV10AeLDCjVQPYovCCHKosPoXSKnaMqTMitBUKT6KXkyoiCjSsmD2k87Hky7PCwvfGRXxMFawU3%2Fz0urpuwAacDEcreiod3Un504GjZ0bNCBxLNtXlR9iu2RbRgFKoq4hAuFrvEQxWPdef56%2FO2LboP5x6sSElvQd4g8ppGyRLTt8FoEVGEk7OPDMIGNbrcmCsGZMFOsmSKX5XVwHjY4ata1jcVCCkL3rO7VxJIDnW4TG2plwPuvNmvovnAuNZOe0fW1h1iF0szQ7Q64ZlQFnzmuRvIHeLqgZqsUx%2BQSL1CGoYYZNw0Z86sSyMH2rT8QsXii6oiVNZ1OvZSWfr6gTY%2FgdwAjTfiJk%2BnHIAaHlnZGZlz%2Ff9uCDaupOPiysZSQHqu6MGzUHS%2FIGHDspxoJgnMOnGQgrLRMgln%2F%2FWIzaN7Gpdg6uHBBFhpZ30NoJGJt1qUAjHq8vRpCd99mZYYUMYDB7bV6GEasqOyMKGVBt5z%2BUeaKw0yk%2Fg1v8%2BhkbFh8vqZxiDaSdyFuEuz8YlHyp4JPRWMR%2BpTjjKSEH6CHcF8wLjsNv7wPSbOUTJn9QEPkc42XSsm2ggClt87ylMJuMx8oGOqUBz8JyOtNKrhctkLK1rwSHzb%2Bku%2FCA1W2HEqCb%2Fo9rh1BzWz%2BKslx9WoB20EdyDl70P634McFxtUTSEi98%2FgqmGt2VOG88IQ8rQTIPHYvDrM%2BzIUgh7pWCE4WKgnaaZ5LBqRb3tF5Yv2ZfDRUjqqekdIkn%2Bx1otbj0lnirFvY%2BzcSiWRYuutGW9WnkXWT3lKtS%2BlYjgDp6QZp2HkmTTEqHuSuUMp4P&X-Amz-Signature=6fd6a002882892d5a846ac5dd087914e847ed1ea1f8bab56c1fc99c267c9c854&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466V5O3W5FG%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDf6Tf6Yi58dLewdi8uly3bL1tzhSA15vUoZPKpzP0hlAIgazYPV7c%2FtkBFegyyULo0v%2BJO%2BlImqeQF74cNWtDmATEqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHR0aceGmI0oK5Yi0ircA5YWaXZWP6ivc8j3bObhP2EcI3UTTaybbvGIBALuD4afV10AeLDCjVQPYovCCHKosPoXSKnaMqTMitBUKT6KXkyoiCjSsmD2k87Hky7PCwvfGRXxMFawU3%2Fz0urpuwAacDEcreiod3Un504GjZ0bNCBxLNtXlR9iu2RbRgFKoq4hAuFrvEQxWPdef56%2FO2LboP5x6sSElvQd4g8ppGyRLTt8FoEVGEk7OPDMIGNbrcmCsGZMFOsmSKX5XVwHjY4ata1jcVCCkL3rO7VxJIDnW4TG2plwPuvNmvovnAuNZOe0fW1h1iF0szQ7Q64ZlQFnzmuRvIHeLqgZqsUx%2BQSL1CGoYYZNw0Z86sSyMH2rT8QsXii6oiVNZ1OvZSWfr6gTY%2FgdwAjTfiJk%2BnHIAaHlnZGZlz%2Ff9uCDaupOPiysZSQHqu6MGzUHS%2FIGHDspxoJgnMOnGQgrLRMgln%2F%2FWIzaN7Gpdg6uHBBFhpZ30NoJGJt1qUAjHq8vRpCd99mZYYUMYDB7bV6GEasqOyMKGVBt5z%2BUeaKw0yk%2Fg1v8%2BhkbFh8vqZxiDaSdyFuEuz8YlHyp4JPRWMR%2BpTjjKSEH6CHcF8wLjsNv7wPSbOUTJn9QEPkc42XSsm2ggClt87ylMJuMx8oGOqUBz8JyOtNKrhctkLK1rwSHzb%2Bku%2FCA1W2HEqCb%2Fo9rh1BzWz%2BKslx9WoB20EdyDl70P634McFxtUTSEi98%2FgqmGt2VOG88IQ8rQTIPHYvDrM%2BzIUgh7pWCE4WKgnaaZ5LBqRb3tF5Yv2ZfDRUjqqekdIkn%2Bx1otbj0lnirFvY%2BzcSiWRYuutGW9WnkXWT3lKtS%2BlYjgDp6QZp2HkmTTEqHuSuUMp4P&X-Amz-Signature=3233a9789a90af2ecb8ee47253f093ab98dc9c7ae893ba7475f7ffd1ef585456&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y3CPY5SZ%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDhAaMxw3qepAp65O7hIYg0poksTqsc8gfsWhrJE0CgwQIgIHNpl64pUjGkM3DckuaLEJnVXlhmp9QZecBNJVm726IqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLauwK5QQWPrf6R%2BNyrcAygN6b6DOFB0Yjldh8bTp5i%2FJM8r50xR6zB4apRZr9ZZRmz%2F%2FXFwagoXR5KjqWeEL60Dtrt1lMoXV7aN5yw9eDRdJU%2FFaiAH791NtjZG%2FF2%2FL9uGQkvM5At9pWqTj%2FwalcCJbvhGE4HhR00oqwFPvIX4Ve97f1ZTDTWO0LnIkz0%2BUjd0fCT5RV%2Bcm6I17Vd1RXC7tzBNuC%2BT%2FIrA%2Fqc08RM7jQTtmnIBk6ANPxnlm4oE3iFFhiVBg1cSDMcDBPOq6ohVmDtgdmOiHzE5OHSmieXQz6FqkEwuYPUZG8EuPbypBpuzbGKS1j65XMrjzqwQGDQLyQWYH1%2Bf%2BiYXv%2FesKHcwE6hxtmqvQe8Zw4lYrDzijsf8XWu%2BLMDewureC6M9TgudCbaRGQNYm4JZPjiaFGprDWjJuGWK5imkt6yG4UGJ3sjhUdAKfRHaZNen8GsN060GCCQjx62N6FmjPLOJvnSlxGZSKUdJE%2B%2BIUBR3zTSTijTXR93sK7WaC4MFQyhxSM6xg3rFKNOOfxJr0KTTw1w4LWZFokRY2llxOjpKvyh%2FodwqRCuiTdDRtzF7u2MRKmvPTuOlKl%2Biyay2MAXRTJ2LyggB4sYUhrddreuW0C3S7YyRrFKrOOK5VPf9MMSSx8oGOqUBLp1PEFJPw6mJg5GMzqUUp7OZsgCIiM9juC%2FIBdJcmUAZ%2BRffBSJy1SNeBXu9ePHZlwGQX3McbNaxiGxZA7iRt7vwcjdjUZSChPtMooMGKQyIos5%2BGYkhYPiE73354IsMMyxtmq4%2BlpOi57M9Ca8nj53TXt7ZODQ%2Fevteqh2WUoqS%2FCHSdosK4eFGUl2rQVdatv9KNYlQRpy3Y4%2B%2FVl%2BO6d8RWrO2&X-Amz-Signature=298bebb8f797c4694fb8a3c7d4b30daa11d65984e08bef8f5a160d9364ef4bee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y3CPY5SZ%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDhAaMxw3qepAp65O7hIYg0poksTqsc8gfsWhrJE0CgwQIgIHNpl64pUjGkM3DckuaLEJnVXlhmp9QZecBNJVm726IqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLauwK5QQWPrf6R%2BNyrcAygN6b6DOFB0Yjldh8bTp5i%2FJM8r50xR6zB4apRZr9ZZRmz%2F%2FXFwagoXR5KjqWeEL60Dtrt1lMoXV7aN5yw9eDRdJU%2FFaiAH791NtjZG%2FF2%2FL9uGQkvM5At9pWqTj%2FwalcCJbvhGE4HhR00oqwFPvIX4Ve97f1ZTDTWO0LnIkz0%2BUjd0fCT5RV%2Bcm6I17Vd1RXC7tzBNuC%2BT%2FIrA%2Fqc08RM7jQTtmnIBk6ANPxnlm4oE3iFFhiVBg1cSDMcDBPOq6ohVmDtgdmOiHzE5OHSmieXQz6FqkEwuYPUZG8EuPbypBpuzbGKS1j65XMrjzqwQGDQLyQWYH1%2Bf%2BiYXv%2FesKHcwE6hxtmqvQe8Zw4lYrDzijsf8XWu%2BLMDewureC6M9TgudCbaRGQNYm4JZPjiaFGprDWjJuGWK5imkt6yG4UGJ3sjhUdAKfRHaZNen8GsN060GCCQjx62N6FmjPLOJvnSlxGZSKUdJE%2B%2BIUBR3zTSTijTXR93sK7WaC4MFQyhxSM6xg3rFKNOOfxJr0KTTw1w4LWZFokRY2llxOjpKvyh%2FodwqRCuiTdDRtzF7u2MRKmvPTuOlKl%2Biyay2MAXRTJ2LyggB4sYUhrddreuW0C3S7YyRrFKrOOK5VPf9MMSSx8oGOqUBLp1PEFJPw6mJg5GMzqUUp7OZsgCIiM9juC%2FIBdJcmUAZ%2BRffBSJy1SNeBXu9ePHZlwGQX3McbNaxiGxZA7iRt7vwcjdjUZSChPtMooMGKQyIos5%2BGYkhYPiE73354IsMMyxtmq4%2BlpOi57M9Ca8nj53TXt7ZODQ%2Fevteqh2WUoqS%2FCHSdosK4eFGUl2rQVdatv9KNYlQRpy3Y4%2B%2FVl%2BO6d8RWrO2&X-Amz-Signature=d0877c054a9387c58f1fa534bd4e1f8fa5e77c5bc431e7d7526e94eb1e795ffc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y3CPY5SZ%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDhAaMxw3qepAp65O7hIYg0poksTqsc8gfsWhrJE0CgwQIgIHNpl64pUjGkM3DckuaLEJnVXlhmp9QZecBNJVm726IqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLauwK5QQWPrf6R%2BNyrcAygN6b6DOFB0Yjldh8bTp5i%2FJM8r50xR6zB4apRZr9ZZRmz%2F%2FXFwagoXR5KjqWeEL60Dtrt1lMoXV7aN5yw9eDRdJU%2FFaiAH791NtjZG%2FF2%2FL9uGQkvM5At9pWqTj%2FwalcCJbvhGE4HhR00oqwFPvIX4Ve97f1ZTDTWO0LnIkz0%2BUjd0fCT5RV%2Bcm6I17Vd1RXC7tzBNuC%2BT%2FIrA%2Fqc08RM7jQTtmnIBk6ANPxnlm4oE3iFFhiVBg1cSDMcDBPOq6ohVmDtgdmOiHzE5OHSmieXQz6FqkEwuYPUZG8EuPbypBpuzbGKS1j65XMrjzqwQGDQLyQWYH1%2Bf%2BiYXv%2FesKHcwE6hxtmqvQe8Zw4lYrDzijsf8XWu%2BLMDewureC6M9TgudCbaRGQNYm4JZPjiaFGprDWjJuGWK5imkt6yG4UGJ3sjhUdAKfRHaZNen8GsN060GCCQjx62N6FmjPLOJvnSlxGZSKUdJE%2B%2BIUBR3zTSTijTXR93sK7WaC4MFQyhxSM6xg3rFKNOOfxJr0KTTw1w4LWZFokRY2llxOjpKvyh%2FodwqRCuiTdDRtzF7u2MRKmvPTuOlKl%2Biyay2MAXRTJ2LyggB4sYUhrddreuW0C3S7YyRrFKrOOK5VPf9MMSSx8oGOqUBLp1PEFJPw6mJg5GMzqUUp7OZsgCIiM9juC%2FIBdJcmUAZ%2BRffBSJy1SNeBXu9ePHZlwGQX3McbNaxiGxZA7iRt7vwcjdjUZSChPtMooMGKQyIos5%2BGYkhYPiE73354IsMMyxtmq4%2BlpOi57M9Ca8nj53TXt7ZODQ%2Fevteqh2WUoqS%2FCHSdosK4eFGUl2rQVdatv9KNYlQRpy3Y4%2B%2FVl%2BO6d8RWrO2&X-Amz-Signature=9f5b8f3bc4b95a6a909082ba48bd652180e2f2eb0656bbb20a1cbe2822368fa6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y3CPY5SZ%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDhAaMxw3qepAp65O7hIYg0poksTqsc8gfsWhrJE0CgwQIgIHNpl64pUjGkM3DckuaLEJnVXlhmp9QZecBNJVm726IqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLauwK5QQWPrf6R%2BNyrcAygN6b6DOFB0Yjldh8bTp5i%2FJM8r50xR6zB4apRZr9ZZRmz%2F%2FXFwagoXR5KjqWeEL60Dtrt1lMoXV7aN5yw9eDRdJU%2FFaiAH791NtjZG%2FF2%2FL9uGQkvM5At9pWqTj%2FwalcCJbvhGE4HhR00oqwFPvIX4Ve97f1ZTDTWO0LnIkz0%2BUjd0fCT5RV%2Bcm6I17Vd1RXC7tzBNuC%2BT%2FIrA%2Fqc08RM7jQTtmnIBk6ANPxnlm4oE3iFFhiVBg1cSDMcDBPOq6ohVmDtgdmOiHzE5OHSmieXQz6FqkEwuYPUZG8EuPbypBpuzbGKS1j65XMrjzqwQGDQLyQWYH1%2Bf%2BiYXv%2FesKHcwE6hxtmqvQe8Zw4lYrDzijsf8XWu%2BLMDewureC6M9TgudCbaRGQNYm4JZPjiaFGprDWjJuGWK5imkt6yG4UGJ3sjhUdAKfRHaZNen8GsN060GCCQjx62N6FmjPLOJvnSlxGZSKUdJE%2B%2BIUBR3zTSTijTXR93sK7WaC4MFQyhxSM6xg3rFKNOOfxJr0KTTw1w4LWZFokRY2llxOjpKvyh%2FodwqRCuiTdDRtzF7u2MRKmvPTuOlKl%2Biyay2MAXRTJ2LyggB4sYUhrddreuW0C3S7YyRrFKrOOK5VPf9MMSSx8oGOqUBLp1PEFJPw6mJg5GMzqUUp7OZsgCIiM9juC%2FIBdJcmUAZ%2BRffBSJy1SNeBXu9ePHZlwGQX3McbNaxiGxZA7iRt7vwcjdjUZSChPtMooMGKQyIos5%2BGYkhYPiE73354IsMMyxtmq4%2BlpOi57M9Ca8nj53TXt7ZODQ%2Fevteqh2WUoqS%2FCHSdosK4eFGUl2rQVdatv9KNYlQRpy3Y4%2B%2FVl%2BO6d8RWrO2&X-Amz-Signature=0f58f579d97a87b75b3b304d9bb1aab5e99eb38f212ca69b5d3e385e37fed639&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667TP3UOHA%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCc%2FifjFPErgwB%2BY7qKHbh1r%2Fh%2B%2BMkH7I1bYD7dihTZhgIhANh7BSvb1dtQShhqstIV0Tey9lNM6nYd7dIrPVG34l%2FcKogECJH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyfPwOreFImaFNZqOoq3AMSpYpD%2FpdQ1ZJfJfXb%2Fka2ZieICtVgrOHRHzPzpKvzXPMKjA5TQx0Aa4izffiXXl5vA5YWRK6JEkDUU3SpCVwJaeidg5LygW%2BEs%2BuDr3VsCJA72DMyZB6%2FVTrT1F7eJn01s67I7qJdKGlACL6h1SRSGOTpgVKpkK7TtRIizZhc%2BjvrmEyYKUtEtW1F7rCPo6vPjOeUWRRb5KoXWxJi%2Bn4aZWLJSXXg4r9pAJW4HC0my%2FL5pys1Oegrg1P5h6vSEUI4YmBGZsP9%2BX3aRjHV28bgAH3J01ziSRe%2BD2EOINP8oa428tRE1QBeOrMwFK0bm0%2BYULXhFbht9FTMO%2FEJeHuzrK3GsQTxmb7rTneFaVylYFipa9NH72F3z9KbkrDjG%2FMOyJ9S7VrCHVCHEz%2F3UaM2GSP%2BApT%2Fyy2E3dfJ16FUGBhnmbkZpIuRS85pEY2B4EasRgqIoIHsGUYLUOHN29bKfV35lfk0uEOsalfgjFPscxZbMQaYdMvZ0TOua%2FJy2O%2FLu%2FAEdVgmwiDSnD3uICVcTCtox5djU%2BsM4NAfXwEFHpU1oncLJ9oBhdQSMF30CnVZekCM%2FqKsosISTyOiPRE8nHPX8nwIgz7YlbPDn0qsSnwRi9tTWS40VzIYSTC9ksfKBjqkASSDpGfZ1o%2BSiVhmtVdbUMz45HSbV5i1A8teVQKvIRiYhAfcUWFH%2BFGMpF%2FmTz5qtjmyM7oFMPxb%2FoprT9GdnJCkJtWnZ%2FoaV3Kb32z27AX9IKkFcAi9yVaIlWBgGI2qLa8zXpl9B6FXJSIiga3EBhAiEqUQ99woROEV0nBa0XgbNk9TA%2BdDQYuXmJoDqLHUSx0GaNsuYNvW56Fb1wOz2Kkrm7LY&X-Amz-Signature=cf67c47aaafb146d59f3962e72ddedf201bfad5161e3ff24ea786184c0257ac4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667TP3UOHA%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCc%2FifjFPErgwB%2BY7qKHbh1r%2Fh%2B%2BMkH7I1bYD7dihTZhgIhANh7BSvb1dtQShhqstIV0Tey9lNM6nYd7dIrPVG34l%2FcKogECJH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyfPwOreFImaFNZqOoq3AMSpYpD%2FpdQ1ZJfJfXb%2Fka2ZieICtVgrOHRHzPzpKvzXPMKjA5TQx0Aa4izffiXXl5vA5YWRK6JEkDUU3SpCVwJaeidg5LygW%2BEs%2BuDr3VsCJA72DMyZB6%2FVTrT1F7eJn01s67I7qJdKGlACL6h1SRSGOTpgVKpkK7TtRIizZhc%2BjvrmEyYKUtEtW1F7rCPo6vPjOeUWRRb5KoXWxJi%2Bn4aZWLJSXXg4r9pAJW4HC0my%2FL5pys1Oegrg1P5h6vSEUI4YmBGZsP9%2BX3aRjHV28bgAH3J01ziSRe%2BD2EOINP8oa428tRE1QBeOrMwFK0bm0%2BYULXhFbht9FTMO%2FEJeHuzrK3GsQTxmb7rTneFaVylYFipa9NH72F3z9KbkrDjG%2FMOyJ9S7VrCHVCHEz%2F3UaM2GSP%2BApT%2Fyy2E3dfJ16FUGBhnmbkZpIuRS85pEY2B4EasRgqIoIHsGUYLUOHN29bKfV35lfk0uEOsalfgjFPscxZbMQaYdMvZ0TOua%2FJy2O%2FLu%2FAEdVgmwiDSnD3uICVcTCtox5djU%2BsM4NAfXwEFHpU1oncLJ9oBhdQSMF30CnVZekCM%2FqKsosISTyOiPRE8nHPX8nwIgz7YlbPDn0qsSnwRi9tTWS40VzIYSTC9ksfKBjqkASSDpGfZ1o%2BSiVhmtVdbUMz45HSbV5i1A8teVQKvIRiYhAfcUWFH%2BFGMpF%2FmTz5qtjmyM7oFMPxb%2FoprT9GdnJCkJtWnZ%2FoaV3Kb32z27AX9IKkFcAi9yVaIlWBgGI2qLa8zXpl9B6FXJSIiga3EBhAiEqUQ99woROEV0nBa0XgbNk9TA%2BdDQYuXmJoDqLHUSx0GaNsuYNvW56Fb1wOz2Kkrm7LY&X-Amz-Signature=41eb8f36c51f2af8172251c71a094722bd0457607f245c708d0e487147d947b4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667TP3UOHA%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCc%2FifjFPErgwB%2BY7qKHbh1r%2Fh%2B%2BMkH7I1bYD7dihTZhgIhANh7BSvb1dtQShhqstIV0Tey9lNM6nYd7dIrPVG34l%2FcKogECJH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyfPwOreFImaFNZqOoq3AMSpYpD%2FpdQ1ZJfJfXb%2Fka2ZieICtVgrOHRHzPzpKvzXPMKjA5TQx0Aa4izffiXXl5vA5YWRK6JEkDUU3SpCVwJaeidg5LygW%2BEs%2BuDr3VsCJA72DMyZB6%2FVTrT1F7eJn01s67I7qJdKGlACL6h1SRSGOTpgVKpkK7TtRIizZhc%2BjvrmEyYKUtEtW1F7rCPo6vPjOeUWRRb5KoXWxJi%2Bn4aZWLJSXXg4r9pAJW4HC0my%2FL5pys1Oegrg1P5h6vSEUI4YmBGZsP9%2BX3aRjHV28bgAH3J01ziSRe%2BD2EOINP8oa428tRE1QBeOrMwFK0bm0%2BYULXhFbht9FTMO%2FEJeHuzrK3GsQTxmb7rTneFaVylYFipa9NH72F3z9KbkrDjG%2FMOyJ9S7VrCHVCHEz%2F3UaM2GSP%2BApT%2Fyy2E3dfJ16FUGBhnmbkZpIuRS85pEY2B4EasRgqIoIHsGUYLUOHN29bKfV35lfk0uEOsalfgjFPscxZbMQaYdMvZ0TOua%2FJy2O%2FLu%2FAEdVgmwiDSnD3uICVcTCtox5djU%2BsM4NAfXwEFHpU1oncLJ9oBhdQSMF30CnVZekCM%2FqKsosISTyOiPRE8nHPX8nwIgz7YlbPDn0qsSnwRi9tTWS40VzIYSTC9ksfKBjqkASSDpGfZ1o%2BSiVhmtVdbUMz45HSbV5i1A8teVQKvIRiYhAfcUWFH%2BFGMpF%2FmTz5qtjmyM7oFMPxb%2FoprT9GdnJCkJtWnZ%2FoaV3Kb32z27AX9IKkFcAi9yVaIlWBgGI2qLa8zXpl9B6FXJSIiga3EBhAiEqUQ99woROEV0nBa0XgbNk9TA%2BdDQYuXmJoDqLHUSx0GaNsuYNvW56Fb1wOz2Kkrm7LY&X-Amz-Signature=88a0775eaa102c56435342335e13c3ed05bc9bbc86290276409d0723b39df9fa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667TP3UOHA%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041800Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCc%2FifjFPErgwB%2BY7qKHbh1r%2Fh%2B%2BMkH7I1bYD7dihTZhgIhANh7BSvb1dtQShhqstIV0Tey9lNM6nYd7dIrPVG34l%2FcKogECJH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyfPwOreFImaFNZqOoq3AMSpYpD%2FpdQ1ZJfJfXb%2Fka2ZieICtVgrOHRHzPzpKvzXPMKjA5TQx0Aa4izffiXXl5vA5YWRK6JEkDUU3SpCVwJaeidg5LygW%2BEs%2BuDr3VsCJA72DMyZB6%2FVTrT1F7eJn01s67I7qJdKGlACL6h1SRSGOTpgVKpkK7TtRIizZhc%2BjvrmEyYKUtEtW1F7rCPo6vPjOeUWRRb5KoXWxJi%2Bn4aZWLJSXXg4r9pAJW4HC0my%2FL5pys1Oegrg1P5h6vSEUI4YmBGZsP9%2BX3aRjHV28bgAH3J01ziSRe%2BD2EOINP8oa428tRE1QBeOrMwFK0bm0%2BYULXhFbht9FTMO%2FEJeHuzrK3GsQTxmb7rTneFaVylYFipa9NH72F3z9KbkrDjG%2FMOyJ9S7VrCHVCHEz%2F3UaM2GSP%2BApT%2Fyy2E3dfJ16FUGBhnmbkZpIuRS85pEY2B4EasRgqIoIHsGUYLUOHN29bKfV35lfk0uEOsalfgjFPscxZbMQaYdMvZ0TOua%2FJy2O%2FLu%2FAEdVgmwiDSnD3uICVcTCtox5djU%2BsM4NAfXwEFHpU1oncLJ9oBhdQSMF30CnVZekCM%2FqKsosISTyOiPRE8nHPX8nwIgz7YlbPDn0qsSnwRi9tTWS40VzIYSTC9ksfKBjqkASSDpGfZ1o%2BSiVhmtVdbUMz45HSbV5i1A8teVQKvIRiYhAfcUWFH%2BFGMpF%2FmTz5qtjmyM7oFMPxb%2FoprT9GdnJCkJtWnZ%2FoaV3Kb32z27AX9IKkFcAi9yVaIlWBgGI2qLa8zXpl9B6FXJSIiga3EBhAiEqUQ99woROEV0nBa0XgbNk9TA%2BdDQYuXmJoDqLHUSx0GaNsuYNvW56Fb1wOz2Kkrm7LY&X-Amz-Signature=fd9b5ea6063018c1eaffc2dd687cff24d102263c8046f59313fdbfebe0b03d99&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TUZPRGLU%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041801Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE3dTBvo3ko70ibRFAURaZg1PADKtKVCargM68JXwXqfAiEAnPAvCAhltBM1jVJs4kAA4kRkwI0FGB5m9vQtvgx9IZsqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH8jBcnAvUKnjtI8wSrcA99kqJStTDy9s0XBC%2FNM6pK%2FeSW3XUdPz8caQqAsDTigGegZWxPvYveOqBylbpxVhZ7YBBDhkqBNx187igTwCF6e%2FMdRPUYhYkWZqr4Qd6iRMSZC1SFvDoaJ4mdGogG%2F6GNyGRFZ4Fn27d7j1olA0dHmUO%2FPvPUqEh6EfMgh2wmrf%2B%2BZfzno12zr9QFPFhy4wf586baLa%2F%2BA4fYVx2z5uIiNswjdFQ4JCIiuTDBVkyULmt7Jnakkk9B8DUgf3tWRhhnsi%2BfEKeM44iqkmKEIPhcuInJFMKpUedbe%2Bzj6V54Ju8RCW87dw12G5wvRx0YXGkU61nWOQD%2F%2FP2rmyI1143ap9MU7fI%2B38izEEoT%2FRWIKxyo4m6qskp3swS80KM1920QCR4taiqtOKy8x6G%2F6RqR4G3q6SdcYUmczzv5FOpzPFxAY4A8J8oeRx6bPf%2BYBlOMnc%2FG9pa239uKslVcFvqeO43jVH0Lo7azdW0Yc5r%2BN8ndSzXidzUChhqNsgAdP182bhEOAs%2FsC6omO2TXkgScSlAaIfJYwNGV1wGmRdFI7vGHPE1trSa2owNpqeD71%2Bt%2BtONOymN%2BERydeAUE%2BD8up%2F%2BDRL3YZN6uH0sATHq0QtpABSoIa2fVLtq83MJeRx8oGOqUBZ1OftfHEmeROKb2uwb99%2BmbLcv0XuHv%2BRTjDP8d%2FXH8fBjB8xLLr7Rx4fRD7Ka5oll%2FiMGxtVL%2Fs5uE%2B9n0tgrIjevuAxfZWHu50UEa2SXV3IYAlkCjVeONy2Txd5OsgO5oIZlk%2B93V96ulzV0rGL7erUbPrhDoPrh16MnD7MDflqP0O11GpUXGxkpqpzat7ibzXkCtHtTFrZ96KTqjJ4kC4ATII&X-Amz-Signature=1d1bde0b31f42a82d9f2e5e31dd5a3c1233afb41818367066f24ac918894fdea&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TUZPRGLU%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041801Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE3dTBvo3ko70ibRFAURaZg1PADKtKVCargM68JXwXqfAiEAnPAvCAhltBM1jVJs4kAA4kRkwI0FGB5m9vQtvgx9IZsqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH8jBcnAvUKnjtI8wSrcA99kqJStTDy9s0XBC%2FNM6pK%2FeSW3XUdPz8caQqAsDTigGegZWxPvYveOqBylbpxVhZ7YBBDhkqBNx187igTwCF6e%2FMdRPUYhYkWZqr4Qd6iRMSZC1SFvDoaJ4mdGogG%2F6GNyGRFZ4Fn27d7j1olA0dHmUO%2FPvPUqEh6EfMgh2wmrf%2B%2BZfzno12zr9QFPFhy4wf586baLa%2F%2BA4fYVx2z5uIiNswjdFQ4JCIiuTDBVkyULmt7Jnakkk9B8DUgf3tWRhhnsi%2BfEKeM44iqkmKEIPhcuInJFMKpUedbe%2Bzj6V54Ju8RCW87dw12G5wvRx0YXGkU61nWOQD%2F%2FP2rmyI1143ap9MU7fI%2B38izEEoT%2FRWIKxyo4m6qskp3swS80KM1920QCR4taiqtOKy8x6G%2F6RqR4G3q6SdcYUmczzv5FOpzPFxAY4A8J8oeRx6bPf%2BYBlOMnc%2FG9pa239uKslVcFvqeO43jVH0Lo7azdW0Yc5r%2BN8ndSzXidzUChhqNsgAdP182bhEOAs%2FsC6omO2TXkgScSlAaIfJYwNGV1wGmRdFI7vGHPE1trSa2owNpqeD71%2Bt%2BtONOymN%2BERydeAUE%2BD8up%2F%2BDRL3YZN6uH0sATHq0QtpABSoIa2fVLtq83MJeRx8oGOqUBZ1OftfHEmeROKb2uwb99%2BmbLcv0XuHv%2BRTjDP8d%2FXH8fBjB8xLLr7Rx4fRD7Ka5oll%2FiMGxtVL%2Fs5uE%2B9n0tgrIjevuAxfZWHu50UEa2SXV3IYAlkCjVeONy2Txd5OsgO5oIZlk%2B93V96ulzV0rGL7erUbPrhDoPrh16MnD7MDflqP0O11GpUXGxkpqpzat7ibzXkCtHtTFrZ96KTqjJ4kC4ATII&X-Amz-Signature=9d3e53cf0a7bde9147e8fd5d214a4b84013196ed0bcb49decbedcfa7323115e1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TUZPRGLU%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041801Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE3dTBvo3ko70ibRFAURaZg1PADKtKVCargM68JXwXqfAiEAnPAvCAhltBM1jVJs4kAA4kRkwI0FGB5m9vQtvgx9IZsqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH8jBcnAvUKnjtI8wSrcA99kqJStTDy9s0XBC%2FNM6pK%2FeSW3XUdPz8caQqAsDTigGegZWxPvYveOqBylbpxVhZ7YBBDhkqBNx187igTwCF6e%2FMdRPUYhYkWZqr4Qd6iRMSZC1SFvDoaJ4mdGogG%2F6GNyGRFZ4Fn27d7j1olA0dHmUO%2FPvPUqEh6EfMgh2wmrf%2B%2BZfzno12zr9QFPFhy4wf586baLa%2F%2BA4fYVx2z5uIiNswjdFQ4JCIiuTDBVkyULmt7Jnakkk9B8DUgf3tWRhhnsi%2BfEKeM44iqkmKEIPhcuInJFMKpUedbe%2Bzj6V54Ju8RCW87dw12G5wvRx0YXGkU61nWOQD%2F%2FP2rmyI1143ap9MU7fI%2B38izEEoT%2FRWIKxyo4m6qskp3swS80KM1920QCR4taiqtOKy8x6G%2F6RqR4G3q6SdcYUmczzv5FOpzPFxAY4A8J8oeRx6bPf%2BYBlOMnc%2FG9pa239uKslVcFvqeO43jVH0Lo7azdW0Yc5r%2BN8ndSzXidzUChhqNsgAdP182bhEOAs%2FsC6omO2TXkgScSlAaIfJYwNGV1wGmRdFI7vGHPE1trSa2owNpqeD71%2Bt%2BtONOymN%2BERydeAUE%2BD8up%2F%2BDRL3YZN6uH0sATHq0QtpABSoIa2fVLtq83MJeRx8oGOqUBZ1OftfHEmeROKb2uwb99%2BmbLcv0XuHv%2BRTjDP8d%2FXH8fBjB8xLLr7Rx4fRD7Ka5oll%2FiMGxtVL%2Fs5uE%2B9n0tgrIjevuAxfZWHu50UEa2SXV3IYAlkCjVeONy2Txd5OsgO5oIZlk%2B93V96ulzV0rGL7erUbPrhDoPrh16MnD7MDflqP0O11GpUXGxkpqpzat7ibzXkCtHtTFrZ96KTqjJ4kC4ATII&X-Amz-Signature=a8b6678ccf337bb72dfcbb94fd76b5d46e77f44bc2da3832a22080e297010ad4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SBTJVIHX%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCDr%2B8MLGqyhXBGo1WUy7LRXMEirEulKT%2BUMR3YV4DlFQIgdU3jYWHR4ZDNCoQfQHQBdWnmJUgfceIA78MYAbOlJFQqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG8LdRtDKXAXdmTUjircA28Devcmw63TtFF1i%2FuXMGBrC4uTNZLfs5BiL44XXzkaW4r7ZLDyGBzdxYiZi6ba4KdMC9%2FiW8OTKdVU7gtPnihkvHMDYTIZxSTEcPfIM3V75Q7pfJ3nH2RpB0h92TdBSoLmOZQhcfFxe6zz1cCtWs2keyNQCTbM%2FJ%2BTRRfx%2Fk%2BjWi%2FfUanUO5ovsClWr7Eln9n7P0iDEpO8J1r173ZZUjQhLg0HQWKOnCB%2Bz680Zb0XOkhypPyAipaEGlIm9XZLjImcON7TmI%2BjbUrPW%2FWB3xTmuaQIhyEUs944nuByngy540VTfvwnDR30TK4UnBilTrX8IOdUr6dk3jKCyr4P32LvjCl6nO5xDh7%2BbAaXwPF%2F5V6BIkLnA9fPo0v1fwJVqcx%2BrjeqxWqE%2FW8N65IOnStbckLIQ49earpegbu%2FNq5DtUpUK9d4UWgTPj87ubKXPHdk0igE0L12BvkNQ%2F4Rl6GZtT%2BvLQaZTeTuuF%2BgELVHkVqmHcj288NpdpODwYlYghWRnAVYkrKXWA7IaV%2FhgFAghXcvZVEB0VQpZhYaD57ZgdvH%2Bc15Ufuo18iB1s6NuzLCuN1cstQAYpMeR8eaWyN3pcNIzmu2%2F1hy323fFpMgTU5istiAztiFi6cMMPmPx8oGOqUBN7UUHQb6Z9ssrUU6Z%2BUKesyFXwbxrOa73w5D2r3WLcx2cM3VT8fh9%2BQU1vBy0XRpQWKk0kWJsubsawSSZ7dm%2FPASzs5XeHCYhWcnQRv2znZ0Bxe8R4Sh00QwnKmoWE19Ib6BoqNw0eEtJQ6AlA7AGG3L7vMyS16PtTHTuruOKraAR9MfcYTC8N%2Bk6HZ8orYALAfeZ3k5Aba8NWacNp%2BZNo48Cfki&X-Amz-Signature=53f3cd07163e562e50ea506ac9418afffd33060ae35112c878c4726d29bc6626&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SBTJVIHX%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCDr%2B8MLGqyhXBGo1WUy7LRXMEirEulKT%2BUMR3YV4DlFQIgdU3jYWHR4ZDNCoQfQHQBdWnmJUgfceIA78MYAbOlJFQqiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG8LdRtDKXAXdmTUjircA28Devcmw63TtFF1i%2FuXMGBrC4uTNZLfs5BiL44XXzkaW4r7ZLDyGBzdxYiZi6ba4KdMC9%2FiW8OTKdVU7gtPnihkvHMDYTIZxSTEcPfIM3V75Q7pfJ3nH2RpB0h92TdBSoLmOZQhcfFxe6zz1cCtWs2keyNQCTbM%2FJ%2BTRRfx%2Fk%2BjWi%2FfUanUO5ovsClWr7Eln9n7P0iDEpO8J1r173ZZUjQhLg0HQWKOnCB%2Bz680Zb0XOkhypPyAipaEGlIm9XZLjImcON7TmI%2BjbUrPW%2FWB3xTmuaQIhyEUs944nuByngy540VTfvwnDR30TK4UnBilTrX8IOdUr6dk3jKCyr4P32LvjCl6nO5xDh7%2BbAaXwPF%2F5V6BIkLnA9fPo0v1fwJVqcx%2BrjeqxWqE%2FW8N65IOnStbckLIQ49earpegbu%2FNq5DtUpUK9d4UWgTPj87ubKXPHdk0igE0L12BvkNQ%2F4Rl6GZtT%2BvLQaZTeTuuF%2BgELVHkVqmHcj288NpdpODwYlYghWRnAVYkrKXWA7IaV%2FhgFAghXcvZVEB0VQpZhYaD57ZgdvH%2Bc15Ufuo18iB1s6NuzLCuN1cstQAYpMeR8eaWyN3pcNIzmu2%2F1hy323fFpMgTU5istiAztiFi6cMMPmPx8oGOqUBN7UUHQb6Z9ssrUU6Z%2BUKesyFXwbxrOa73w5D2r3WLcx2cM3VT8fh9%2BQU1vBy0XRpQWKk0kWJsubsawSSZ7dm%2FPASzs5XeHCYhWcnQRv2znZ0Bxe8R4Sh00QwnKmoWE19Ib6BoqNw0eEtJQ6AlA7AGG3L7vMyS16PtTHTuruOKraAR9MfcYTC8N%2Bk6HZ8orYALAfeZ3k5Aba8NWacNp%2BZNo48Cfki&X-Amz-Signature=15f48ad8dd60aab08ecc7d87c48a2b2538140f82b398635982a90364f569bd16&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DZGXH4X%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCSAFyLVxjBbQzWBoKzTdoQTOzpECKmb%2FZIOM%2BXSqlk%2BgIhAP8lpp5Mnc6UST4oGYADtHoTOupg8%2BwwrmJ5KXEbiNg7KogECJH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgygR%2BCRfGyVIOzq20Uq3APgATdt%2FUBxaUamvsvTc0VQN4LR8l7%2B14IQ%2B8ov4A1TsPNkWACPYfcqIeVj9ze5S%2FcGp0XJuGyuLT4wc6m1JnIoN0VIx8jiH2MNMwIRWPdqG6YE4lOgXCZrorNh2obqEk9NIk1Kga9o%2FxEYTsXVltP1oVoKAs3pMAQ%2FjN%2BgmGrt%2BkupsvQApoENzLsErWxLgxFxl6FGNVorCOZ2kCxFbQLXagmgYhOJPcZ%2FxdjjZmVY%2B0cE651dNfD7yZOs6iIJ5UaWpJeKWTqG6qFtJgfdJBOIIGXn1kq1zRjEAW1RF9dj8ZR8TZYj%2B1fskJ1ns5komMgiKoqqL%2BEAXwzshmC8cYwIQWyt2tQzmHO9%2BAoFg5RvQE%2F%2ByEqOjkMvTgZQ5bQh%2BMw8LBe8cu27HK6j4J3zNL%2BL0ukWWagFBOSq2%2Fhj%2Fc%2BcU2NuqNrNORUIIC%2B0Y%2B6TvxJrGyi60WXCO452IQGV8mNZC3jxuCpwEQIRJ%2BJzGhts3Z1u0WCm173jDdGYkHZa7tfLTCmehd2tEQPnkb8nMToEz44JSrXgfzqEMpuHEXBkr0bjICU60tLrR4Cso%2FIxVnpOpbH4M1fYPU%2BHYHJB7R116XOdMbX49WZzxRSDe0hg7fnLV%2FemLuCkiGKFqTDIi8fKBjqkATnDpFg0ywEH7J7pPcSq4R6vyhrM3APwoM8LcTF40Mld2JaZ1Cl4V6vXptOgewdB7hhlAttymvqjeoW0ZzgGJHZ79nEYc0R0I%2FVCtuYMxWIfDNYdWka6VS1B%2BkbN5%2FTLBOCAgVjGPFn99Tx4qR5MbGK42lmvC9H9lO494H9vts4OO60s60vcC2CR4g13Mzw%2FIcx%2BPfp0TEv62FL7t3g3yqu1KIuJ&X-Amz-Signature=b3c4ad73a6d19789c2328cd1d48084dab0a66145337bfda4085a2775cb9f7622&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DZGXH4X%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCSAFyLVxjBbQzWBoKzTdoQTOzpECKmb%2FZIOM%2BXSqlk%2BgIhAP8lpp5Mnc6UST4oGYADtHoTOupg8%2BwwrmJ5KXEbiNg7KogECJH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgygR%2BCRfGyVIOzq20Uq3APgATdt%2FUBxaUamvsvTc0VQN4LR8l7%2B14IQ%2B8ov4A1TsPNkWACPYfcqIeVj9ze5S%2FcGp0XJuGyuLT4wc6m1JnIoN0VIx8jiH2MNMwIRWPdqG6YE4lOgXCZrorNh2obqEk9NIk1Kga9o%2FxEYTsXVltP1oVoKAs3pMAQ%2FjN%2BgmGrt%2BkupsvQApoENzLsErWxLgxFxl6FGNVorCOZ2kCxFbQLXagmgYhOJPcZ%2FxdjjZmVY%2B0cE651dNfD7yZOs6iIJ5UaWpJeKWTqG6qFtJgfdJBOIIGXn1kq1zRjEAW1RF9dj8ZR8TZYj%2B1fskJ1ns5komMgiKoqqL%2BEAXwzshmC8cYwIQWyt2tQzmHO9%2BAoFg5RvQE%2F%2ByEqOjkMvTgZQ5bQh%2BMw8LBe8cu27HK6j4J3zNL%2BL0ukWWagFBOSq2%2Fhj%2Fc%2BcU2NuqNrNORUIIC%2B0Y%2B6TvxJrGyi60WXCO452IQGV8mNZC3jxuCpwEQIRJ%2BJzGhts3Z1u0WCm173jDdGYkHZa7tfLTCmehd2tEQPnkb8nMToEz44JSrXgfzqEMpuHEXBkr0bjICU60tLrR4Cso%2FIxVnpOpbH4M1fYPU%2BHYHJB7R116XOdMbX49WZzxRSDe0hg7fnLV%2FemLuCkiGKFqTDIi8fKBjqkATnDpFg0ywEH7J7pPcSq4R6vyhrM3APwoM8LcTF40Mld2JaZ1Cl4V6vXptOgewdB7hhlAttymvqjeoW0ZzgGJHZ79nEYc0R0I%2FVCtuYMxWIfDNYdWka6VS1B%2BkbN5%2FTLBOCAgVjGPFn99Tx4qR5MbGK42lmvC9H9lO494H9vts4OO60s60vcC2CR4g13Mzw%2FIcx%2BPfp0TEv62FL7t3g3yqu1KIuJ&X-Amz-Signature=9747ee80e7977e0b22e4eeef225dad510c5d93c898dbc0087a47f76dde2be23b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QYDUN6S3%2F20251229%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251229T041802Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMj%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCaTcjas15o7flqbPnKn1ObFGIie4Gv700QZbUX8bkuKgIgXRrAKQqvJ5WqykJUIMuhwCKbQ4%2FWdN1yGOhitqCE4T0qiAQIkf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPHSJuASRf07aCXtXircAxdqAW4omiJd%2BedGLEMZfI53%2B3FExgEz18aFMJZPPdtP8%2FO8ipFzBnGT6Z%2FZZqjk6dkDGn19UZzjM%2BXfTmKsBGMevBgC%2BnCF7P1xiQyXK%2Fr88GlFdkU%2F7I9lHnNIEmab0hto11YaW%2Bb4XElKEkd5rN15oONc5GWK48TwITUT8pvw1ey4YZ5RHN4RqGI5tKKqElyRH65stJbEeGf9ybzO%2BCaHqcyiqkryr2pUZW2YSIw54plpNN7qeHCD4A1QaZyvBcsIvH72tyMwvkEKTwUHkoEIflhUE1EC3InJn1H9vg6QqFZebbB8w2VypGsSGQqQRqljba0%2FkZw%2BMQxnQ27Jr5YKTURrQko%2FXAVhdxtqSm9bKczgoxFjWKJ4kPzyAW4yM29V60TU6zsqNvrEqR9hGTMok3GxlIUVrqDDP5IfI%2F20GcVPrZOqzzP%2F0wvxlAGDPeZ6mSTcrs7%2Fzio4uvOlvpBovsACyF7D6B7WNIJf4hRVwAgMRRRaqDFiZ5%2FiDsa2b%2BXOe1gHyaTgrvtetdHqYufv%2B5f83JvErE5qRN8Jg83iDaQVvw0xyRo1jK2I0dngf9sPN%2F1PPk2gKNsw7WfvR%2FbngsTHUYPKbhnkAJdR70XaAJJGpWx1GgiUbclxMOmIx8oGOqUBcHRmxGRP%2Bj78Xh7cOo5%2BWLfDIDYULwPSgA2jPT301TN2KIU8KdzAGUUFM%2BOb88OO2wyGhP5e8Mu4S%2FZsaNqy3TxK3AwxUpEXTihzwXdMU7wfWUEy722Vk63l9S1eeT6oQuUZ%2FJ6F35SHbNuhe4fCgjx1fMvD0xSvCoihGk8dUSuPEH1Iok1RYxBMAi6aNf2wbdkHUAVJqqL4%2B4uVe2KZSedCyFLT&X-Amz-Signature=a4f01433122add70d58bc60d2ab3dd71dfc32718a101a62eccdab003638fa428&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
