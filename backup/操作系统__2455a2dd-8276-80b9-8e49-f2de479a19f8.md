
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3L3WTIA%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035942Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCOAjBedDtnJh5WxFPbNN5IvTrv6Bax0LtxhqQTVwqlVAIhAONdqXLp21r0cNpb0YkRkFPPSsIRuQE0SbTKlUuPOJPfKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwA6Ux8Gz%2BG3oq3PSQq3AOnEaqeHAL5wB%2Bm9p7aEXBnFOs1Bz%2FiHA08FzwN4NSIVxzpdUdUcQ0vOyxm5l%2FtqtHzgv0bdOlQv3l99XFLnAgpkyQ6hzPQXj0wQOGqGXcj0d3%2BHeRN5cI8fZhQJGBn%2Bbs7zj2Jn0JaI1RGjw25RsE0%2Fp0RpBNfErVJl7O%2FvHFBEPvoXYyPYrQfAYEwiCfGF7CUUKXTyAgWSbtV9bLqQ9zrEwuQ8tpyyMOSTI%2BIW2LRze0eXsYSuyM9qe9HGOsxtxegQzXT1tZCPvSlnrfEGK9HT6cHsb3%2FPTEGkSBUkv2IsbB4eIT743j%2FY5yg07u4IovqNGr6fbiVsMqLqUkSwEaR7ifpiggf2O9DMcClbfirP8t7ZfWtXhvw1%2FMDjc8YKrnbJOwTDziSHI7fp8cMm2eZ2on0IvgFGlkmz2lyr07zqUrFqzKPc2z6xomVPYa4Mm4sBs3spY%2FJa65aOY5Dd4%2FcJiMj8uo5Vk0RJE6InhNWE4AkOhpvA87pHQDFfsxDL6htXDB0nm7iVrhH%2FELNeEbH5ws5BnunvmKE2s1UPcWrZSoBE2YjVRIaEAaSS53%2BYfnhQ05RMGGmD%2Fxk85q2kD2We8IYhCC%2B9eHbzsUPZAxkbRfEC1K%2B4%2F%2BUVbhxuDDPt97JBjqkAWZioV3mFV4LtLgNZftcqHhvfJQb72s6jbONJbVX0QlguNvW7wjC0FQruLJ4waP5wGwY1dpZxT%2BH94dEZqU%2FASNMWfijTb0HeXpfZRJi1%2Bl2YAUyr1iNGN1Iv%2Bafw8C5uDi7Y6zglWTH7sTSFACH6MNxAbWPfqi3G99Ptz5q8xlNULP9v3YUIaHYkVMm3F%2FQuEk5egzv8Ql4Y%2FMK5CoUiU%2BAiZUM&X-Amz-Signature=e3bdecbe233d57f4aeeb74c752f2bb7011dc1705b7ceccb3d0c6f093c3b63813&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3L3WTIA%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035942Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCOAjBedDtnJh5WxFPbNN5IvTrv6Bax0LtxhqQTVwqlVAIhAONdqXLp21r0cNpb0YkRkFPPSsIRuQE0SbTKlUuPOJPfKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwA6Ux8Gz%2BG3oq3PSQq3AOnEaqeHAL5wB%2Bm9p7aEXBnFOs1Bz%2FiHA08FzwN4NSIVxzpdUdUcQ0vOyxm5l%2FtqtHzgv0bdOlQv3l99XFLnAgpkyQ6hzPQXj0wQOGqGXcj0d3%2BHeRN5cI8fZhQJGBn%2Bbs7zj2Jn0JaI1RGjw25RsE0%2Fp0RpBNfErVJl7O%2FvHFBEPvoXYyPYrQfAYEwiCfGF7CUUKXTyAgWSbtV9bLqQ9zrEwuQ8tpyyMOSTI%2BIW2LRze0eXsYSuyM9qe9HGOsxtxegQzXT1tZCPvSlnrfEGK9HT6cHsb3%2FPTEGkSBUkv2IsbB4eIT743j%2FY5yg07u4IovqNGr6fbiVsMqLqUkSwEaR7ifpiggf2O9DMcClbfirP8t7ZfWtXhvw1%2FMDjc8YKrnbJOwTDziSHI7fp8cMm2eZ2on0IvgFGlkmz2lyr07zqUrFqzKPc2z6xomVPYa4Mm4sBs3spY%2FJa65aOY5Dd4%2FcJiMj8uo5Vk0RJE6InhNWE4AkOhpvA87pHQDFfsxDL6htXDB0nm7iVrhH%2FELNeEbH5ws5BnunvmKE2s1UPcWrZSoBE2YjVRIaEAaSS53%2BYfnhQ05RMGGmD%2Fxk85q2kD2We8IYhCC%2B9eHbzsUPZAxkbRfEC1K%2B4%2F%2BUVbhxuDDPt97JBjqkAWZioV3mFV4LtLgNZftcqHhvfJQb72s6jbONJbVX0QlguNvW7wjC0FQruLJ4waP5wGwY1dpZxT%2BH94dEZqU%2FASNMWfijTb0HeXpfZRJi1%2Bl2YAUyr1iNGN1Iv%2Bafw8C5uDi7Y6zglWTH7sTSFACH6MNxAbWPfqi3G99Ptz5q8xlNULP9v3YUIaHYkVMm3F%2FQuEk5egzv8Ql4Y%2FMK5CoUiU%2BAiZUM&X-Amz-Signature=ac9bd51d0fb026a6ffd8b84124807b2b124ff4522631057c1ac17415723c8dd4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q3L3WTIA%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035942Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCOAjBedDtnJh5WxFPbNN5IvTrv6Bax0LtxhqQTVwqlVAIhAONdqXLp21r0cNpb0YkRkFPPSsIRuQE0SbTKlUuPOJPfKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwA6Ux8Gz%2BG3oq3PSQq3AOnEaqeHAL5wB%2Bm9p7aEXBnFOs1Bz%2FiHA08FzwN4NSIVxzpdUdUcQ0vOyxm5l%2FtqtHzgv0bdOlQv3l99XFLnAgpkyQ6hzPQXj0wQOGqGXcj0d3%2BHeRN5cI8fZhQJGBn%2Bbs7zj2Jn0JaI1RGjw25RsE0%2Fp0RpBNfErVJl7O%2FvHFBEPvoXYyPYrQfAYEwiCfGF7CUUKXTyAgWSbtV9bLqQ9zrEwuQ8tpyyMOSTI%2BIW2LRze0eXsYSuyM9qe9HGOsxtxegQzXT1tZCPvSlnrfEGK9HT6cHsb3%2FPTEGkSBUkv2IsbB4eIT743j%2FY5yg07u4IovqNGr6fbiVsMqLqUkSwEaR7ifpiggf2O9DMcClbfirP8t7ZfWtXhvw1%2FMDjc8YKrnbJOwTDziSHI7fp8cMm2eZ2on0IvgFGlkmz2lyr07zqUrFqzKPc2z6xomVPYa4Mm4sBs3spY%2FJa65aOY5Dd4%2FcJiMj8uo5Vk0RJE6InhNWE4AkOhpvA87pHQDFfsxDL6htXDB0nm7iVrhH%2FELNeEbH5ws5BnunvmKE2s1UPcWrZSoBE2YjVRIaEAaSS53%2BYfnhQ05RMGGmD%2Fxk85q2kD2We8IYhCC%2B9eHbzsUPZAxkbRfEC1K%2B4%2F%2BUVbhxuDDPt97JBjqkAWZioV3mFV4LtLgNZftcqHhvfJQb72s6jbONJbVX0QlguNvW7wjC0FQruLJ4waP5wGwY1dpZxT%2BH94dEZqU%2FASNMWfijTb0HeXpfZRJi1%2Bl2YAUyr1iNGN1Iv%2Bafw8C5uDi7Y6zglWTH7sTSFACH6MNxAbWPfqi3G99Ptz5q8xlNULP9v3YUIaHYkVMm3F%2FQuEk5egzv8Ql4Y%2FMK5CoUiU%2BAiZUM&X-Amz-Signature=bb93f86a991c4736da7f8908f82fc5cb6d1f708304e070129b682c54cf91455c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z574V5CP%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035943Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCoeR%2BF2LblZ%2FCcU0eEaMXNf8g936j1EETYiGt7MbdhKwIgA3kNTlpYQG2FwFzzdIaTlgcPjU3E9hBTm5Yw%2BhltJv0qiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNJ5Gr0adUlLEfSjZyrcA0WIUBeYcX1fmLqHGaTGjm257UKeopp5LSvFeWuQNFdNOiusChzaPWVTJP3N%2B3ZR5eTdo5I8iT%2BDBm0CMlOcSyH%2FYLsWOCa4SdJvVNIQ%2F6KxKRYC88EP0I%2FBEcoRbWLCsz6Fd1iwFNYBLmDwm2zk9vno14AdHs%2BNTx1tYB0ky8JVPikxuvMGiKrOgoIPySOX2Qp6uW045tL26PKmDEGtxXNxBIMxKU3oPbCBPh4ii9lQZsJEHZeQBVC0iY6cPLUQe9Mj15noPGe1c75DUa%2B%2BpbI4D9Y3iMxHFTVv84Sn%2BNfeeXMs2X8DLCrFZxXM8qR%2Bm4WeN8wkxUSAgP2uDMnmhF34HTCgbRX5JxWbyA%2FRFGNJv1tts8fn%2F6eAZYT62%2F6oOh5JrxnXcVf8xGs5s78cn7IixnXGDqxSy4ChjUBr8a8uYyJVX3VTdUtkYUVTqBoeAdw3vWj3zGtfSe55HID%2BQdy%2FolK5OFp%2BwOsexVnwLTYuAplsTM6J5NHh%2FW%2Br3CR0vIcUVeXnnhm558v1dSTwTqt5KqTbVgTriskyCJlG%2BNzwYWNdO6gPzbmGzFRlgIIP%2BT5V%2BjNBTGTiMONGxFr08CKK7Y5JtRIEn5ZHSMsOZvarQohDzgaRx0Pf0ZMSMIC33skGOqUBoJcSdCfweh3LP2uAYfnlxh%2B%2BMM1NIqkAp9QAA1RUrViYhO0%2FQ7hZ3CcxX9ApeM5CnGpzkXJyirfyW5Mo2KMT35ksT4YbXLOZPLM1oSgoGrXnDYVRNwXqf3FSt6GjyiFzvHa0jvXWhGSvKO0PApX7kTXIAL0ceTPW4tNN4YLVwKOVqRYhZzWFu6o1QbPqAxa9r93OjNwaa%2FSHoB9VfThyMk01LkAe&X-Amz-Signature=960944c75edf92c2aa6f5a49b902978373573bce13ff1a3acddbc2fcf142994a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z574V5CP%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035943Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCoeR%2BF2LblZ%2FCcU0eEaMXNf8g936j1EETYiGt7MbdhKwIgA3kNTlpYQG2FwFzzdIaTlgcPjU3E9hBTm5Yw%2BhltJv0qiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNJ5Gr0adUlLEfSjZyrcA0WIUBeYcX1fmLqHGaTGjm257UKeopp5LSvFeWuQNFdNOiusChzaPWVTJP3N%2B3ZR5eTdo5I8iT%2BDBm0CMlOcSyH%2FYLsWOCa4SdJvVNIQ%2F6KxKRYC88EP0I%2FBEcoRbWLCsz6Fd1iwFNYBLmDwm2zk9vno14AdHs%2BNTx1tYB0ky8JVPikxuvMGiKrOgoIPySOX2Qp6uW045tL26PKmDEGtxXNxBIMxKU3oPbCBPh4ii9lQZsJEHZeQBVC0iY6cPLUQe9Mj15noPGe1c75DUa%2B%2BpbI4D9Y3iMxHFTVv84Sn%2BNfeeXMs2X8DLCrFZxXM8qR%2Bm4WeN8wkxUSAgP2uDMnmhF34HTCgbRX5JxWbyA%2FRFGNJv1tts8fn%2F6eAZYT62%2F6oOh5JrxnXcVf8xGs5s78cn7IixnXGDqxSy4ChjUBr8a8uYyJVX3VTdUtkYUVTqBoeAdw3vWj3zGtfSe55HID%2BQdy%2FolK5OFp%2BwOsexVnwLTYuAplsTM6J5NHh%2FW%2Br3CR0vIcUVeXnnhm558v1dSTwTqt5KqTbVgTriskyCJlG%2BNzwYWNdO6gPzbmGzFRlgIIP%2BT5V%2BjNBTGTiMONGxFr08CKK7Y5JtRIEn5ZHSMsOZvarQohDzgaRx0Pf0ZMSMIC33skGOqUBoJcSdCfweh3LP2uAYfnlxh%2B%2BMM1NIqkAp9QAA1RUrViYhO0%2FQ7hZ3CcxX9ApeM5CnGpzkXJyirfyW5Mo2KMT35ksT4YbXLOZPLM1oSgoGrXnDYVRNwXqf3FSt6GjyiFzvHa0jvXWhGSvKO0PApX7kTXIAL0ceTPW4tNN4YLVwKOVqRYhZzWFu6o1QbPqAxa9r93OjNwaa%2FSHoB9VfThyMk01LkAe&X-Amz-Signature=b11d15c6ed11e240e51ef425e602ff9c5d8b37f34fbf8190aac82ff12310de02&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z574V5CP%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035943Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCoeR%2BF2LblZ%2FCcU0eEaMXNf8g936j1EETYiGt7MbdhKwIgA3kNTlpYQG2FwFzzdIaTlgcPjU3E9hBTm5Yw%2BhltJv0qiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNJ5Gr0adUlLEfSjZyrcA0WIUBeYcX1fmLqHGaTGjm257UKeopp5LSvFeWuQNFdNOiusChzaPWVTJP3N%2B3ZR5eTdo5I8iT%2BDBm0CMlOcSyH%2FYLsWOCa4SdJvVNIQ%2F6KxKRYC88EP0I%2FBEcoRbWLCsz6Fd1iwFNYBLmDwm2zk9vno14AdHs%2BNTx1tYB0ky8JVPikxuvMGiKrOgoIPySOX2Qp6uW045tL26PKmDEGtxXNxBIMxKU3oPbCBPh4ii9lQZsJEHZeQBVC0iY6cPLUQe9Mj15noPGe1c75DUa%2B%2BpbI4D9Y3iMxHFTVv84Sn%2BNfeeXMs2X8DLCrFZxXM8qR%2Bm4WeN8wkxUSAgP2uDMnmhF34HTCgbRX5JxWbyA%2FRFGNJv1tts8fn%2F6eAZYT62%2F6oOh5JrxnXcVf8xGs5s78cn7IixnXGDqxSy4ChjUBr8a8uYyJVX3VTdUtkYUVTqBoeAdw3vWj3zGtfSe55HID%2BQdy%2FolK5OFp%2BwOsexVnwLTYuAplsTM6J5NHh%2FW%2Br3CR0vIcUVeXnnhm558v1dSTwTqt5KqTbVgTriskyCJlG%2BNzwYWNdO6gPzbmGzFRlgIIP%2BT5V%2BjNBTGTiMONGxFr08CKK7Y5JtRIEn5ZHSMsOZvarQohDzgaRx0Pf0ZMSMIC33skGOqUBoJcSdCfweh3LP2uAYfnlxh%2B%2BMM1NIqkAp9QAA1RUrViYhO0%2FQ7hZ3CcxX9ApeM5CnGpzkXJyirfyW5Mo2KMT35ksT4YbXLOZPLM1oSgoGrXnDYVRNwXqf3FSt6GjyiFzvHa0jvXWhGSvKO0PApX7kTXIAL0ceTPW4tNN4YLVwKOVqRYhZzWFu6o1QbPqAxa9r93OjNwaa%2FSHoB9VfThyMk01LkAe&X-Amz-Signature=2f2523b9769f65930bcd1c50c8aad7e9c20ffad430a0cdb01e0e4d879446b7c1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TVBZEH4K%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLPHKRtoBVUkNMgsfc0F6CPdzpv5DeYopYxl65jKbAOwIhAOnt2bC%2BBPWWjk85uGcf%2FJ2Sz5ylQ61NOMyyTW08Go%2FvKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz2tkWzv2borJ9Qx30q3APY93S7On%2FU0D5UXnFCC0jyoMyKXgSula2lhEiyQqsV5J%2BEdrpOvyc0%2Fl5mkR9AUTYmMohbSeiyM4XURNxBdya4M43UDOmGl7Xtp440c%2BV1szhLwurLdd4cwyyYB55JQAQVCaZaYtuSkalP75Iq7tW%2BHq3okJUxqCSYEHVmY92KvzKrAoSLvUfTCXvJ85XfdhYmOdd0DMnjXiqsalNvc4RaIUXsY1ed32o9C28Y%2BPA2JuI7PiyKXpKdH8h89L33VpcieX2nyH%2BILwLqLl%2FDSfgho29P5NCM0jcXNafFxO6LKla6JaHhRM67APigX2I%2FxAfusO8nhMTA6eNNb48WhQjtPhNY5z8Mt%2B9GLkpUV3UZ3CqYpkXV5F90eXme%2Fd%2FdNfrizmFdey7OEVcQe49TZ5fg6ThjhSDVvNFtRvriagiR%2FYWp0XVQDEeE0KhhMzEJVfy4ImqQoGVO8AlmtX4mzZ2lIHA7Bd9Yz%2F%2BTPkzevxPox6c%2FAGYz4w8UTGeK%2FLxQGnDeiD%2BknqXeA8HCHKcbpX5X3O2BDowfBEL4%2B76h7Z8ZsS7VR0ymn4dcy1ejGyGdyItJf%2BGj3p8Gz2AdztVa94j015ARN5JCGvtB1BnkdmIh4KZR0BfT1RncAHx%2BJzDDtt7JBjqkAWrflGVlJY5zkrich7AbG9NTFwui3PA0F76DQ6IDeQ88RKgsuTMszvYsfV9FZyHl1OwLX4ShecW%2FMtvuX9trwygxLA0kPcz4joRfLVPdV4gbrIwHw%2Fhx1pdNh6SduP2S7D05uwYc13Rw%2FWB9pBbrVrH4iQCX0EODWt4uoauuXTRoxUwllpUZ6qFRFy3eQFU3HeXWDYesYw2xI2gd%2BgWEDCw9nIRe&X-Amz-Signature=357d47ded60f663acceb296fd6bff00366a78eb4537ba3bd14b89487f16d4624&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TVBZEH4K%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLPHKRtoBVUkNMgsfc0F6CPdzpv5DeYopYxl65jKbAOwIhAOnt2bC%2BBPWWjk85uGcf%2FJ2Sz5ylQ61NOMyyTW08Go%2FvKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz2tkWzv2borJ9Qx30q3APY93S7On%2FU0D5UXnFCC0jyoMyKXgSula2lhEiyQqsV5J%2BEdrpOvyc0%2Fl5mkR9AUTYmMohbSeiyM4XURNxBdya4M43UDOmGl7Xtp440c%2BV1szhLwurLdd4cwyyYB55JQAQVCaZaYtuSkalP75Iq7tW%2BHq3okJUxqCSYEHVmY92KvzKrAoSLvUfTCXvJ85XfdhYmOdd0DMnjXiqsalNvc4RaIUXsY1ed32o9C28Y%2BPA2JuI7PiyKXpKdH8h89L33VpcieX2nyH%2BILwLqLl%2FDSfgho29P5NCM0jcXNafFxO6LKla6JaHhRM67APigX2I%2FxAfusO8nhMTA6eNNb48WhQjtPhNY5z8Mt%2B9GLkpUV3UZ3CqYpkXV5F90eXme%2Fd%2FdNfrizmFdey7OEVcQe49TZ5fg6ThjhSDVvNFtRvriagiR%2FYWp0XVQDEeE0KhhMzEJVfy4ImqQoGVO8AlmtX4mzZ2lIHA7Bd9Yz%2F%2BTPkzevxPox6c%2FAGYz4w8UTGeK%2FLxQGnDeiD%2BknqXeA8HCHKcbpX5X3O2BDowfBEL4%2B76h7Z8ZsS7VR0ymn4dcy1ejGyGdyItJf%2BGj3p8Gz2AdztVa94j015ARN5JCGvtB1BnkdmIh4KZR0BfT1RncAHx%2BJzDDtt7JBjqkAWrflGVlJY5zkrich7AbG9NTFwui3PA0F76DQ6IDeQ88RKgsuTMszvYsfV9FZyHl1OwLX4ShecW%2FMtvuX9trwygxLA0kPcz4joRfLVPdV4gbrIwHw%2Fhx1pdNh6SduP2S7D05uwYc13Rw%2FWB9pBbrVrH4iQCX0EODWt4uoauuXTRoxUwllpUZ6qFRFy3eQFU3HeXWDYesYw2xI2gd%2BgWEDCw9nIRe&X-Amz-Signature=cdd57fe33029aa10fafc05790c4f45562bb77b28bb6853e7f13a49d418adad4d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TVBZEH4K%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLPHKRtoBVUkNMgsfc0F6CPdzpv5DeYopYxl65jKbAOwIhAOnt2bC%2BBPWWjk85uGcf%2FJ2Sz5ylQ61NOMyyTW08Go%2FvKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz2tkWzv2borJ9Qx30q3APY93S7On%2FU0D5UXnFCC0jyoMyKXgSula2lhEiyQqsV5J%2BEdrpOvyc0%2Fl5mkR9AUTYmMohbSeiyM4XURNxBdya4M43UDOmGl7Xtp440c%2BV1szhLwurLdd4cwyyYB55JQAQVCaZaYtuSkalP75Iq7tW%2BHq3okJUxqCSYEHVmY92KvzKrAoSLvUfTCXvJ85XfdhYmOdd0DMnjXiqsalNvc4RaIUXsY1ed32o9C28Y%2BPA2JuI7PiyKXpKdH8h89L33VpcieX2nyH%2BILwLqLl%2FDSfgho29P5NCM0jcXNafFxO6LKla6JaHhRM67APigX2I%2FxAfusO8nhMTA6eNNb48WhQjtPhNY5z8Mt%2B9GLkpUV3UZ3CqYpkXV5F90eXme%2Fd%2FdNfrizmFdey7OEVcQe49TZ5fg6ThjhSDVvNFtRvriagiR%2FYWp0XVQDEeE0KhhMzEJVfy4ImqQoGVO8AlmtX4mzZ2lIHA7Bd9Yz%2F%2BTPkzevxPox6c%2FAGYz4w8UTGeK%2FLxQGnDeiD%2BknqXeA8HCHKcbpX5X3O2BDowfBEL4%2B76h7Z8ZsS7VR0ymn4dcy1ejGyGdyItJf%2BGj3p8Gz2AdztVa94j015ARN5JCGvtB1BnkdmIh4KZR0BfT1RncAHx%2BJzDDtt7JBjqkAWrflGVlJY5zkrich7AbG9NTFwui3PA0F76DQ6IDeQ88RKgsuTMszvYsfV9FZyHl1OwLX4ShecW%2FMtvuX9trwygxLA0kPcz4joRfLVPdV4gbrIwHw%2Fhx1pdNh6SduP2S7D05uwYc13Rw%2FWB9pBbrVrH4iQCX0EODWt4uoauuXTRoxUwllpUZ6qFRFy3eQFU3HeXWDYesYw2xI2gd%2BgWEDCw9nIRe&X-Amz-Signature=1ad82fe1f5bfa606702762e8d3e54c575be918ae599469189c80a925d2f608fd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TVBZEH4K%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDLPHKRtoBVUkNMgsfc0F6CPdzpv5DeYopYxl65jKbAOwIhAOnt2bC%2BBPWWjk85uGcf%2FJ2Sz5ylQ61NOMyyTW08Go%2FvKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz2tkWzv2borJ9Qx30q3APY93S7On%2FU0D5UXnFCC0jyoMyKXgSula2lhEiyQqsV5J%2BEdrpOvyc0%2Fl5mkR9AUTYmMohbSeiyM4XURNxBdya4M43UDOmGl7Xtp440c%2BV1szhLwurLdd4cwyyYB55JQAQVCaZaYtuSkalP75Iq7tW%2BHq3okJUxqCSYEHVmY92KvzKrAoSLvUfTCXvJ85XfdhYmOdd0DMnjXiqsalNvc4RaIUXsY1ed32o9C28Y%2BPA2JuI7PiyKXpKdH8h89L33VpcieX2nyH%2BILwLqLl%2FDSfgho29P5NCM0jcXNafFxO6LKla6JaHhRM67APigX2I%2FxAfusO8nhMTA6eNNb48WhQjtPhNY5z8Mt%2B9GLkpUV3UZ3CqYpkXV5F90eXme%2Fd%2FdNfrizmFdey7OEVcQe49TZ5fg6ThjhSDVvNFtRvriagiR%2FYWp0XVQDEeE0KhhMzEJVfy4ImqQoGVO8AlmtX4mzZ2lIHA7Bd9Yz%2F%2BTPkzevxPox6c%2FAGYz4w8UTGeK%2FLxQGnDeiD%2BknqXeA8HCHKcbpX5X3O2BDowfBEL4%2B76h7Z8ZsS7VR0ymn4dcy1ejGyGdyItJf%2BGj3p8Gz2AdztVa94j015ARN5JCGvtB1BnkdmIh4KZR0BfT1RncAHx%2BJzDDtt7JBjqkAWrflGVlJY5zkrich7AbG9NTFwui3PA0F76DQ6IDeQ88RKgsuTMszvYsfV9FZyHl1OwLX4ShecW%2FMtvuX9trwygxLA0kPcz4joRfLVPdV4gbrIwHw%2Fhx1pdNh6SduP2S7D05uwYc13Rw%2FWB9pBbrVrH4iQCX0EODWt4uoauuXTRoxUwllpUZ6qFRFy3eQFU3HeXWDYesYw2xI2gd%2BgWEDCw9nIRe&X-Amz-Signature=6ce0f6014f7503f9bf157a20eafa618824f4b7174fcc86ff94efd869b7a75542&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TRPOMDPK%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDPOCuDbyxahLtKXsIC62bVfuLOVboa5rTk2U%2FUQ7JAYAIhAMnss%2B1%2F6rdFh40iZdlXCazYFhdQ0X9hhsvVuNLuXXi%2BKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxbXrQ2NwYeAY5NXjcq3APuJtj3j3z%2Fkj2tF%2FRRvzZGJnA1PsQGtxtD8k2uk4YQeeFeMPbUc5L8kIjlDKRhIvEo1G4Zc0tEYJ8DpA%2BoIJ3Dcei5aLV6iut6T2Vau%2Foy0oFX53AesXVJLg2T6zpooJzRd%2B9UROhCWgqz4ihuPAzTnKXG0BfhvjFl0FySYRqJoGvwBy30JzhS0XpWtP1DvhoH%2FxlHsWJTY5gOD%2F6aQGu1wWun9occwllziV28ZckEfyvv9OJT9i9bzOdtjIOBUv%2FVAOSpW4cZKhpU1MvNgJi%2FEGOZn11axOaqqEnN8NarhxuUwlrM3VdzeMeqlFMTpDl52ufxAHnGxf7h88rijmkm%2BDxbN8EDRhJivBgoJB8gX0lNAWGlEYlCXuRXA6v7PfWMfkSkLrNUybdAEtWNIgHkXE7phIQn6VOy5ndsTYprVHg%2B2JQQRqCXnNgLHnzkt%2BnGwj81inWmJEempQbmZp0QRBl0iN7z7YpDYZHWAg%2FQ04udNN2mm12Mv1eHE0lJQ0XGaBF2DN4hAfSshC8lrOLsmp0cqLmjZMmYwznhpVAQpXeK2t8bgFbm6wbNOs3DRFRSNIMUQKBPO5%2BfZmq0knrsZMZf9aO5%2B0xsdxVbJ5lm%2BCyAgCLBGjcbkyYoYzDDtt7JBjqkARyPreYQaSMly1w5U5X4AX8rB2DoR5M14%2BSCuorYEvOix3d2e3H5NH1w%2BU9ibwlSCncuMig1Fgmgq1o5tvGUEtG7%2FKs2zGwXagAAsyKW%2BbrF0YM8LjimQlAc%2BZuSHRC9BzsPhl9BJ5325BNB5QHAPYnTD3fVA4%2FZm5eRMtGqgZSyIh52hZje%2BZ%2BcjrH331TfVxWro%2FAixS7V%2BjN%2BZLbL46SmzhN0&X-Amz-Signature=adf28971c1804eeb325366fd97e24d7ebff7900800306f6dc297b5daeec24956&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TRPOMDPK%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDPOCuDbyxahLtKXsIC62bVfuLOVboa5rTk2U%2FUQ7JAYAIhAMnss%2B1%2F6rdFh40iZdlXCazYFhdQ0X9hhsvVuNLuXXi%2BKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxbXrQ2NwYeAY5NXjcq3APuJtj3j3z%2Fkj2tF%2FRRvzZGJnA1PsQGtxtD8k2uk4YQeeFeMPbUc5L8kIjlDKRhIvEo1G4Zc0tEYJ8DpA%2BoIJ3Dcei5aLV6iut6T2Vau%2Foy0oFX53AesXVJLg2T6zpooJzRd%2B9UROhCWgqz4ihuPAzTnKXG0BfhvjFl0FySYRqJoGvwBy30JzhS0XpWtP1DvhoH%2FxlHsWJTY5gOD%2F6aQGu1wWun9occwllziV28ZckEfyvv9OJT9i9bzOdtjIOBUv%2FVAOSpW4cZKhpU1MvNgJi%2FEGOZn11axOaqqEnN8NarhxuUwlrM3VdzeMeqlFMTpDl52ufxAHnGxf7h88rijmkm%2BDxbN8EDRhJivBgoJB8gX0lNAWGlEYlCXuRXA6v7PfWMfkSkLrNUybdAEtWNIgHkXE7phIQn6VOy5ndsTYprVHg%2B2JQQRqCXnNgLHnzkt%2BnGwj81inWmJEempQbmZp0QRBl0iN7z7YpDYZHWAg%2FQ04udNN2mm12Mv1eHE0lJQ0XGaBF2DN4hAfSshC8lrOLsmp0cqLmjZMmYwznhpVAQpXeK2t8bgFbm6wbNOs3DRFRSNIMUQKBPO5%2BfZmq0knrsZMZf9aO5%2B0xsdxVbJ5lm%2BCyAgCLBGjcbkyYoYzDDtt7JBjqkARyPreYQaSMly1w5U5X4AX8rB2DoR5M14%2BSCuorYEvOix3d2e3H5NH1w%2BU9ibwlSCncuMig1Fgmgq1o5tvGUEtG7%2FKs2zGwXagAAsyKW%2BbrF0YM8LjimQlAc%2BZuSHRC9BzsPhl9BJ5325BNB5QHAPYnTD3fVA4%2FZm5eRMtGqgZSyIh52hZje%2BZ%2BcjrH331TfVxWro%2FAixS7V%2BjN%2BZLbL46SmzhN0&X-Amz-Signature=0398a2f39710168cd43deb7d51bbff6f506ec3dac8f34477243065e950061f83&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TRPOMDPK%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDPOCuDbyxahLtKXsIC62bVfuLOVboa5rTk2U%2FUQ7JAYAIhAMnss%2B1%2F6rdFh40iZdlXCazYFhdQ0X9hhsvVuNLuXXi%2BKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxbXrQ2NwYeAY5NXjcq3APuJtj3j3z%2Fkj2tF%2FRRvzZGJnA1PsQGtxtD8k2uk4YQeeFeMPbUc5L8kIjlDKRhIvEo1G4Zc0tEYJ8DpA%2BoIJ3Dcei5aLV6iut6T2Vau%2Foy0oFX53AesXVJLg2T6zpooJzRd%2B9UROhCWgqz4ihuPAzTnKXG0BfhvjFl0FySYRqJoGvwBy30JzhS0XpWtP1DvhoH%2FxlHsWJTY5gOD%2F6aQGu1wWun9occwllziV28ZckEfyvv9OJT9i9bzOdtjIOBUv%2FVAOSpW4cZKhpU1MvNgJi%2FEGOZn11axOaqqEnN8NarhxuUwlrM3VdzeMeqlFMTpDl52ufxAHnGxf7h88rijmkm%2BDxbN8EDRhJivBgoJB8gX0lNAWGlEYlCXuRXA6v7PfWMfkSkLrNUybdAEtWNIgHkXE7phIQn6VOy5ndsTYprVHg%2B2JQQRqCXnNgLHnzkt%2BnGwj81inWmJEempQbmZp0QRBl0iN7z7YpDYZHWAg%2FQ04udNN2mm12Mv1eHE0lJQ0XGaBF2DN4hAfSshC8lrOLsmp0cqLmjZMmYwznhpVAQpXeK2t8bgFbm6wbNOs3DRFRSNIMUQKBPO5%2BfZmq0knrsZMZf9aO5%2B0xsdxVbJ5lm%2BCyAgCLBGjcbkyYoYzDDtt7JBjqkARyPreYQaSMly1w5U5X4AX8rB2DoR5M14%2BSCuorYEvOix3d2e3H5NH1w%2BU9ibwlSCncuMig1Fgmgq1o5tvGUEtG7%2FKs2zGwXagAAsyKW%2BbrF0YM8LjimQlAc%2BZuSHRC9BzsPhl9BJ5325BNB5QHAPYnTD3fVA4%2FZm5eRMtGqgZSyIh52hZje%2BZ%2BcjrH331TfVxWro%2FAixS7V%2BjN%2BZLbL46SmzhN0&X-Amz-Signature=68efece1fb6db019f67d3dac665cd7be043912d7c70f8f90e5b799b42706c0c5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TRPOMDPK%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035944Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDPOCuDbyxahLtKXsIC62bVfuLOVboa5rTk2U%2FUQ7JAYAIhAMnss%2B1%2F6rdFh40iZdlXCazYFhdQ0X9hhsvVuNLuXXi%2BKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxbXrQ2NwYeAY5NXjcq3APuJtj3j3z%2Fkj2tF%2FRRvzZGJnA1PsQGtxtD8k2uk4YQeeFeMPbUc5L8kIjlDKRhIvEo1G4Zc0tEYJ8DpA%2BoIJ3Dcei5aLV6iut6T2Vau%2Foy0oFX53AesXVJLg2T6zpooJzRd%2B9UROhCWgqz4ihuPAzTnKXG0BfhvjFl0FySYRqJoGvwBy30JzhS0XpWtP1DvhoH%2FxlHsWJTY5gOD%2F6aQGu1wWun9occwllziV28ZckEfyvv9OJT9i9bzOdtjIOBUv%2FVAOSpW4cZKhpU1MvNgJi%2FEGOZn11axOaqqEnN8NarhxuUwlrM3VdzeMeqlFMTpDl52ufxAHnGxf7h88rijmkm%2BDxbN8EDRhJivBgoJB8gX0lNAWGlEYlCXuRXA6v7PfWMfkSkLrNUybdAEtWNIgHkXE7phIQn6VOy5ndsTYprVHg%2B2JQQRqCXnNgLHnzkt%2BnGwj81inWmJEempQbmZp0QRBl0iN7z7YpDYZHWAg%2FQ04udNN2mm12Mv1eHE0lJQ0XGaBF2DN4hAfSshC8lrOLsmp0cqLmjZMmYwznhpVAQpXeK2t8bgFbm6wbNOs3DRFRSNIMUQKBPO5%2BfZmq0knrsZMZf9aO5%2B0xsdxVbJ5lm%2BCyAgCLBGjcbkyYoYzDDtt7JBjqkARyPreYQaSMly1w5U5X4AX8rB2DoR5M14%2BSCuorYEvOix3d2e3H5NH1w%2BU9ibwlSCncuMig1Fgmgq1o5tvGUEtG7%2FKs2zGwXagAAsyKW%2BbrF0YM8LjimQlAc%2BZuSHRC9BzsPhl9BJ5325BNB5QHAPYnTD3fVA4%2FZm5eRMtGqgZSyIh52hZje%2BZ%2BcjrH331TfVxWro%2FAixS7V%2BjN%2BZLbL46SmzhN0&X-Amz-Signature=5dd8fe835054d8352227987e6c75bcfbd566cd43d4ea40c5cf3e5cbbf55f5e2a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WYZPWVJY%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035948Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCkJdycW%2F%2BdOhzwmsJmC2%2FVicbh0pszqRF1uVaCWTfzYQIhAO2ZparizL2tgZalZrASzk4w0ytSET2K7saea3HKs8HoKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxP0CEhWHbV%2FiiNL10q3APnJgfIkvx%2FRQnvf4qdUW0GY74WigbCR3H9TW2kaaxG3pLB7cOkA%2FTwtIBZKVen2HV9m9sdvBiWfguVGlKYspAfneNtjlX6%2FzAdXYTTdUatjnaY37MpqRtwOBB8H3m%2Fu5VrIZRKmBE1%2Bu8GmWGB9qlmgt2LjoNymei0%2ButthUEYVXPCMBeQXuaQUSvbY17M5GoHjq6yRWZLyxvmj6SDOjsN6b5NhogKQqy90AmvrqcIYSPkLqOu86MzTLavJbxgGgRkv6fx0ekK%2FPo1xVGBxpiHzCfE9KmIppMAeegKsjZJLg9%2F0dsPWuQE%2F3nZpZ%2FvU5YJ1woFWoIorxAXouhB3RD2MoDupeMczoWAcER5ImBF3cppJ%2F4LGSi6u5kIf%2BgAIIBlqN7Cbg8DwpySewFlexp4kOdHwUrPPsDlGQKganPNfBKnGNtb6qipU1De%2F43pKUB2a%2F3F1Rh%2FQDDuU1MIvPs4oHC153BDT2KkYWqfdTYDkFTCud34PRHbkMNNDDm4I4k7siJaEVJ9uN0WLwZI7oo5DOCRxwUaKMzSSjA%2BJyWEP%2FeaYcgKrazl0j1LcWH6dG9Vo7%2BCEljFiwWDYgRm2BvEHvoGa%2Fq9VMRpYAG2IHo600Oa6Rkipplh1ENO0TDTtt7JBjqkARuCx0zQ1mmODI1YS%2FwNExe%2BDWpunOO07ZgL9Dz%2FqbW0f1FfW1KhcyCs2NIsdzBaF4OkJpo%2BLadtIwz%2Fiq%2Fb62Q6LB2i7oDXyq%2FFQuxx2BrDNN3vDBVHozhv%2Bqhl6ABjGUZ8XczXHPYebfgNEJBtMxvwDafFL0ULvKlFy%2BNqsidivE%2FPJF1qhd8fxZpl5cXjhiIksA6Y%2BtiKSI%2FbFkQFjTUDpA3E&X-Amz-Signature=756578f46cc2e1035fccc440bd724f700b426aaf40be9f1382ed92e40b4020b1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WYZPWVJY%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035948Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCkJdycW%2F%2BdOhzwmsJmC2%2FVicbh0pszqRF1uVaCWTfzYQIhAO2ZparizL2tgZalZrASzk4w0ytSET2K7saea3HKs8HoKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxP0CEhWHbV%2FiiNL10q3APnJgfIkvx%2FRQnvf4qdUW0GY74WigbCR3H9TW2kaaxG3pLB7cOkA%2FTwtIBZKVen2HV9m9sdvBiWfguVGlKYspAfneNtjlX6%2FzAdXYTTdUatjnaY37MpqRtwOBB8H3m%2Fu5VrIZRKmBE1%2Bu8GmWGB9qlmgt2LjoNymei0%2ButthUEYVXPCMBeQXuaQUSvbY17M5GoHjq6yRWZLyxvmj6SDOjsN6b5NhogKQqy90AmvrqcIYSPkLqOu86MzTLavJbxgGgRkv6fx0ekK%2FPo1xVGBxpiHzCfE9KmIppMAeegKsjZJLg9%2F0dsPWuQE%2F3nZpZ%2FvU5YJ1woFWoIorxAXouhB3RD2MoDupeMczoWAcER5ImBF3cppJ%2F4LGSi6u5kIf%2BgAIIBlqN7Cbg8DwpySewFlexp4kOdHwUrPPsDlGQKganPNfBKnGNtb6qipU1De%2F43pKUB2a%2F3F1Rh%2FQDDuU1MIvPs4oHC153BDT2KkYWqfdTYDkFTCud34PRHbkMNNDDm4I4k7siJaEVJ9uN0WLwZI7oo5DOCRxwUaKMzSSjA%2BJyWEP%2FeaYcgKrazl0j1LcWH6dG9Vo7%2BCEljFiwWDYgRm2BvEHvoGa%2Fq9VMRpYAG2IHo600Oa6Rkipplh1ENO0TDTtt7JBjqkARuCx0zQ1mmODI1YS%2FwNExe%2BDWpunOO07ZgL9Dz%2FqbW0f1FfW1KhcyCs2NIsdzBaF4OkJpo%2BLadtIwz%2Fiq%2Fb62Q6LB2i7oDXyq%2FFQuxx2BrDNN3vDBVHozhv%2Bqhl6ABjGUZ8XczXHPYebfgNEJBtMxvwDafFL0ULvKlFy%2BNqsidivE%2FPJF1qhd8fxZpl5cXjhiIksA6Y%2BtiKSI%2FbFkQFjTUDpA3E&X-Amz-Signature=51d1b7231ac88dc3df8b402e61efeaf978961f7eee0cae02d259568db9d01bbc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WYZPWVJY%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035948Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCkJdycW%2F%2BdOhzwmsJmC2%2FVicbh0pszqRF1uVaCWTfzYQIhAO2ZparizL2tgZalZrASzk4w0ytSET2K7saea3HKs8HoKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxP0CEhWHbV%2FiiNL10q3APnJgfIkvx%2FRQnvf4qdUW0GY74WigbCR3H9TW2kaaxG3pLB7cOkA%2FTwtIBZKVen2HV9m9sdvBiWfguVGlKYspAfneNtjlX6%2FzAdXYTTdUatjnaY37MpqRtwOBB8H3m%2Fu5VrIZRKmBE1%2Bu8GmWGB9qlmgt2LjoNymei0%2ButthUEYVXPCMBeQXuaQUSvbY17M5GoHjq6yRWZLyxvmj6SDOjsN6b5NhogKQqy90AmvrqcIYSPkLqOu86MzTLavJbxgGgRkv6fx0ekK%2FPo1xVGBxpiHzCfE9KmIppMAeegKsjZJLg9%2F0dsPWuQE%2F3nZpZ%2FvU5YJ1woFWoIorxAXouhB3RD2MoDupeMczoWAcER5ImBF3cppJ%2F4LGSi6u5kIf%2BgAIIBlqN7Cbg8DwpySewFlexp4kOdHwUrPPsDlGQKganPNfBKnGNtb6qipU1De%2F43pKUB2a%2F3F1Rh%2FQDDuU1MIvPs4oHC153BDT2KkYWqfdTYDkFTCud34PRHbkMNNDDm4I4k7siJaEVJ9uN0WLwZI7oo5DOCRxwUaKMzSSjA%2BJyWEP%2FeaYcgKrazl0j1LcWH6dG9Vo7%2BCEljFiwWDYgRm2BvEHvoGa%2Fq9VMRpYAG2IHo600Oa6Rkipplh1ENO0TDTtt7JBjqkARuCx0zQ1mmODI1YS%2FwNExe%2BDWpunOO07ZgL9Dz%2FqbW0f1FfW1KhcyCs2NIsdzBaF4OkJpo%2BLadtIwz%2Fiq%2Fb62Q6LB2i7oDXyq%2FFQuxx2BrDNN3vDBVHozhv%2Bqhl6ABjGUZ8XczXHPYebfgNEJBtMxvwDafFL0ULvKlFy%2BNqsidivE%2FPJF1qhd8fxZpl5cXjhiIksA6Y%2BtiKSI%2FbFkQFjTUDpA3E&X-Amz-Signature=1ee73cd830c8bc8f855d8e73bd28ffef7fff298a892c141a38357a7db23d5779&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662L5MSX27%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035949Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDgwdmiBigVyN7bNQYcMi%2BGETkWbbaaiVRoVKGVs6nMhQIhAMCdeDFaMlsx%2FLGTcJclV14RNG0eYfh7J%2FZG3BgLuSGNKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwMf2GdUr3CmbhVsMMq3AORB73Qtwb%2BMzFnmS5fhQr%2Bg5GuhEycyeg1HRkpstjOCoblo3b1bp%2B%2FkgbYAfgkyXpQHZLNvUBwMMoCNjA7VK1WYy7imCyKYETSoZGSX0bMxr80bvmYPjgKyOZfQzcwjZKN04%2FQCUAbHcw4o2THVDlduOMCwepUj4cOeA4Kedw6ytIZdYz5s3HCKz8G1nDh6xFpf3D1GD8Ue4Mq%2B2%2B%2FkGrV1ITSn64GU758ToXVJA818ajVdUeUl3qfNaHv4PcCLGD%2BbWNMFbADiAbo%2B1fLv3ALYft%2FDoXxMDsaknvWeeFk%2BStC%2FtEaaJRqainYBnQDUBktvVvIdrWT4wsjRv4X8hIaiNIU%2BngHvXT8p0Be85baioMH7SmPVQXekdezcuBxyWVUyXK9132zWTRvhUqu9vUsSdLP6tRThHAjOhfheKIesb3jypdjRYKXiXPdZCIPfc1zW%2Fzwi6IOAIQ9D2emwaKXMFpXGZe31GKHIeXLjA469X4UpJihWihC1%2BV13Ebd%2FrF8e97%2Feo15F4iXoyXDV3LeEsSVD4Mp8LfL%2BwjDeOh%2FmKajg3mIFkgRIW1GoJkEqDEDWoGnLyJYXpP34%2B6KTfnfwYmxwCEkH6Gk8cPOXsPb9aXM8jBtKcucIMBjIzDntt7JBjqkARckX1GrjU9Ba3lDKg5ailLFCbXoAjvStJDnNeRO2Ik3vfOGuLvEVAwwEiQOk%2BPocg2aGOjZ2K90tynvgMUc5PAq9n1YpTqPOIcYsx6RvibtIYTSBLeoWRNx9oPJDBIEvYbKdBOhxob2CveeXL4JatutxZMZ5LmfRNBraoDvaXk2RjrlJ7rH7bB1SWhqpPOiW%2FDzHP9FuTPBPc9xHt1kO28qJTdR&X-Amz-Signature=0b40c2c25cacc89a4ca13b48d0614280abada9807d65c57ec7bde280bf24dfe0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662L5MSX27%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035949Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDgwdmiBigVyN7bNQYcMi%2BGETkWbbaaiVRoVKGVs6nMhQIhAMCdeDFaMlsx%2FLGTcJclV14RNG0eYfh7J%2FZG3BgLuSGNKogECLX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwMf2GdUr3CmbhVsMMq3AORB73Qtwb%2BMzFnmS5fhQr%2Bg5GuhEycyeg1HRkpstjOCoblo3b1bp%2B%2FkgbYAfgkyXpQHZLNvUBwMMoCNjA7VK1WYy7imCyKYETSoZGSX0bMxr80bvmYPjgKyOZfQzcwjZKN04%2FQCUAbHcw4o2THVDlduOMCwepUj4cOeA4Kedw6ytIZdYz5s3HCKz8G1nDh6xFpf3D1GD8Ue4Mq%2B2%2B%2FkGrV1ITSn64GU758ToXVJA818ajVdUeUl3qfNaHv4PcCLGD%2BbWNMFbADiAbo%2B1fLv3ALYft%2FDoXxMDsaknvWeeFk%2BStC%2FtEaaJRqainYBnQDUBktvVvIdrWT4wsjRv4X8hIaiNIU%2BngHvXT8p0Be85baioMH7SmPVQXekdezcuBxyWVUyXK9132zWTRvhUqu9vUsSdLP6tRThHAjOhfheKIesb3jypdjRYKXiXPdZCIPfc1zW%2Fzwi6IOAIQ9D2emwaKXMFpXGZe31GKHIeXLjA469X4UpJihWihC1%2BV13Ebd%2FrF8e97%2Feo15F4iXoyXDV3LeEsSVD4Mp8LfL%2BwjDeOh%2FmKajg3mIFkgRIW1GoJkEqDEDWoGnLyJYXpP34%2B6KTfnfwYmxwCEkH6Gk8cPOXsPb9aXM8jBtKcucIMBjIzDntt7JBjqkARckX1GrjU9Ba3lDKg5ailLFCbXoAjvStJDnNeRO2Ik3vfOGuLvEVAwwEiQOk%2BPocg2aGOjZ2K90tynvgMUc5PAq9n1YpTqPOIcYsx6RvibtIYTSBLeoWRNx9oPJDBIEvYbKdBOhxob2CveeXL4JatutxZMZ5LmfRNBraoDvaXk2RjrlJ7rH7bB1SWhqpPOiW%2FDzHP9FuTPBPc9xHt1kO28qJTdR&X-Amz-Signature=f6eabd04ecfcdd71032a1d40263cb8696dc5393a195141e18b6ef8f09080d6b4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZLCV4EFM%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035949Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC5%2Fcu%2BzOIQIyBqYRWwAcMn6Cog094VE%2FFzdTn00XQDoQIgawgnxNq2EYS5wwFDA0ESxdpa8boT9u5bAIvwZdH9A5UqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMFfSDF7vKsnFU4cxircA5Hg6QD1FxI1Q0oLWJdFxZ8HHc7vv1rFiVSzLsWtShkl7CxooSzTjJQMY8HNsLVCGhItn7iflWb8t5vb%2BtfoUfDdg8TdKn4gSrrc3X13%2FjRUGnCo9dwLkSpxceBBZBl8a%2BKl4tAUfAxmiBjmXwV1o2TxyfijyC2o7%2BdhYgYy0qwwzS2g4we6i0P4BtgNvm4V0g2n0ygfQNG7Rf%2FTV75YY0hlNoSiHkoNbTsV1nikUy4g8z4ocrdSYsMVJUEmjjszWMEt8I7wM6ckM5AtqBojsgHQi3fsdrF43J0aoSw8Y5cVZL7tdYRC1x6U1XtLJmWLH0Cs3TEz7bPMKy9TdEKChB3Clzc%2F%2B1EYyKSMmio00ubkv0SuBdN3oGwsO4Adr5hwFmyTXcWM7MuQ1PvjF9Jdfka%2Bi91v8FBX6PZixB4DfeiTUNKRAsLvpZEem3N2kzgHRYmsSvpKi5qvALec4DH%2BCsDdli38vUV6re2cH5mDV3ZEz5oXYFzy79H6ov82vBall9zvVrKfq2j0ObM1j8zjkHZPfBmpHg2EPcKLhg5Uzhju5Nv2Rbnbfe8FqiPeOVWxXhAV%2FG4MeRI7gBJTmymOotBr0s%2BDlOKip44KhHQCRpMcN0Q%2BhIVxZx27fshpMK%2B33skGOqUBajCvPSfXNuN3uATJ7r%2FdAqIz6mPMPj69KjoNpoYCuu8APaRksWs%2B0aUNWXvkxQnVVcPIAUZpwe5DYolgOolAVCK%2BnglBh9OPZyPzyvykk8Q0Cy%2FG3bWjRGNBdrqpqy2Iwj5Els%2FAclCuqYPZScCHJoLvu1LjW%2B%2FK92CZyedOURneZECdX%2B1vmzgyj%2BNQTy2VJn4C91MaaTZYgA9s0t59efFMVPPt&X-Amz-Signature=0e3cb6b64848177304ddbeaaf6d95a34f0a1e75dc8faf85683c190de2b458d88&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZLCV4EFM%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035949Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC5%2Fcu%2BzOIQIyBqYRWwAcMn6Cog094VE%2FFzdTn00XQDoQIgawgnxNq2EYS5wwFDA0ESxdpa8boT9u5bAIvwZdH9A5UqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMFfSDF7vKsnFU4cxircA5Hg6QD1FxI1Q0oLWJdFxZ8HHc7vv1rFiVSzLsWtShkl7CxooSzTjJQMY8HNsLVCGhItn7iflWb8t5vb%2BtfoUfDdg8TdKn4gSrrc3X13%2FjRUGnCo9dwLkSpxceBBZBl8a%2BKl4tAUfAxmiBjmXwV1o2TxyfijyC2o7%2BdhYgYy0qwwzS2g4we6i0P4BtgNvm4V0g2n0ygfQNG7Rf%2FTV75YY0hlNoSiHkoNbTsV1nikUy4g8z4ocrdSYsMVJUEmjjszWMEt8I7wM6ckM5AtqBojsgHQi3fsdrF43J0aoSw8Y5cVZL7tdYRC1x6U1XtLJmWLH0Cs3TEz7bPMKy9TdEKChB3Clzc%2F%2B1EYyKSMmio00ubkv0SuBdN3oGwsO4Adr5hwFmyTXcWM7MuQ1PvjF9Jdfka%2Bi91v8FBX6PZixB4DfeiTUNKRAsLvpZEem3N2kzgHRYmsSvpKi5qvALec4DH%2BCsDdli38vUV6re2cH5mDV3ZEz5oXYFzy79H6ov82vBall9zvVrKfq2j0ObM1j8zjkHZPfBmpHg2EPcKLhg5Uzhju5Nv2Rbnbfe8FqiPeOVWxXhAV%2FG4MeRI7gBJTmymOotBr0s%2BDlOKip44KhHQCRpMcN0Q%2BhIVxZx27fshpMK%2B33skGOqUBajCvPSfXNuN3uATJ7r%2FdAqIz6mPMPj69KjoNpoYCuu8APaRksWs%2B0aUNWXvkxQnVVcPIAUZpwe5DYolgOolAVCK%2BnglBh9OPZyPzyvykk8Q0Cy%2FG3bWjRGNBdrqpqy2Iwj5Els%2FAclCuqYPZScCHJoLvu1LjW%2B%2FK92CZyedOURneZECdX%2B1vmzgyj%2BNQTy2VJn4C91MaaTZYgA9s0t59efFMVPPt&X-Amz-Signature=4b7504cff5fd03094a574ec11f4ded252fa8fe4da775189cd393cd146e20f9aa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YLNH6XWS%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035949Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDoBwRbaHvls9oV6v6cfnyTo1WTTsvOQCPvshpfxgRGjwIgAMvzo4LnRdxZBPyT188oI169DX2Jx9EPYJCYB8DUnCYqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOzE%2FTf8kdojGtUBCCrcA6pXAj0qXmPATwkpsGiEZkm%2F8kGVvn7GqRXeEzDoqKyU9ryozixWtHFRCGeYAcqDxKV8G1q1fdxwzq7%2BRz49Vt9JOlvu6roQ5jwr32wnGUOglM53fI1UaFmc9YajinsB1v9QgnzCXZfvRrvATQjRqaTwUXVcmVcIDgA9xGUmIKebWLLzlL7sJ0XEap2fgFU%2Ft2V7%2BeIsA1JlEB3EgdtwRhR5CawFDblY6dAmZoAD8QMNnPCNFqHyaKx7jRx4NvygGI2dua86j6Z3wunjbHIvtC9x75uELe70129wZekCHIO3FmsoA8u8ns48MbJPIPQhVhRjo7lPX6kY3nPvojLVEbXo6ujKMVdgTYY0M1lymbVzeqQCTnhBhUOqnSH6292xFmte6UiHypDJKFUxeN%2B1ODzQYK4iIRgKD5U3v1YhCyWoUUKZJ9toHNCYNRZsUrZ25CHJZpHsWhivqrrT9qMAYItouMVnexy%2BFZmkJ67EDOoZj69RqpsxGcNPBrKr%2F7fap8CemDX6HyKdY1TLGFVuQM5PYM9nOLQ7%2F5wBLZTQtyps8pEmBMuvnFx0RHI7fxLJt57lQ2kKdRYwOS1eap6%2B9s9LB5scGcC81CQB6jRag4vM6KR6TDzT7nm3XkkLMOW23skGOqUBDct6%2BeYIf%2BlLED5xCal5qSHerD%2FYy9%2FpHIvy0JpF3ZIcNLZpZ5PvYynALUZI4F5i0gsCELEBgBEjubPkEHGPxKlxnSq%2Baw2%2Bzu43DajpRDhE5g1J41RVyLcXQg%2FRQK9Q9WcKUv0QBQ5esjd3ZJbnhDiUX4m51%2FL1%2B0NuvxjpaEZeaOCcqXAxrGoIMCuxuc92nQ1Xb3nyqnmQ9P7ZXX0Ic1Ddim4m&X-Amz-Signature=b8b8817f47a5b3b4b4e81eed7f8f60eab4f9a0a6252636c7d8c4845dcceecde6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
