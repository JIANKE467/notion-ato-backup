
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U5UKMTJ4%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112833Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQCGN%2BVXKF8BFtot9O5tPBK6q9mJzhsthowINf20svavFwIhAPz3%2Fb2Qlyedlzb6Jzl1QyC5w5hog7QI3fbzHxMgNflHKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igycrg0fBaWoqn86lEMq3ANP%2BcX8utbY1bWcMspDXhsIa%2FWeQD5yeB%2FIJwcUZtodvFtJeEO%2BdZt4ieaS3lbe57grfUXffjC%2BMtfBpL%2BhVReFz4mJ16CQjK%2BlCxB9O15%2BaAnFjPTtL85Dn%2B1du7csNo9BNCLwZpqDYcu9xc%2BNJzs6j%2FhsAP3%2FEKmxsI2voRm9E0oCLCVmvDwpfRPJF2CXpEuP%2FePSTSYTTNNOSOwVTqKzhDHavmgQkJMQjxEGOnkdIv2J%2F1dC0c95L91aSTr%2FNs1CreEFH9z6kK%2BQ1iWHu0Q%2FE%2FNToh6RPL1qdUUiKKn%2F%2BdT9Y%2B5IKTWffTmhlkfp1TBw%2FY2ziGdtHBS%2FgDf%2FPCHrOCj3LU3AYcZG9GZIY2GUAEt%2BkZy4CTm1PKtYptA3viHFEljOulXrzVbytr1yYb2h5sOY0NCYYUB2nXt7rO26QHYzPuSRhtva3egj6m6dVAz4X0plHwaK4mUoBZjwunUYgO00dYOQKiElKwH9znJdU%2BHGcl9Sx3QKj3aBAVdKFCLwwNLiZQvhr296ypfA67YDOBruIIVrutvdUvsjjuDFIlqU2Vz553cQBRY9zZPa%2FdA%2B7QLVT58Y9T1lpP2tZZRTq9%2BgNGWExeeJjfKrTn5gi0MODLnD4Sp%2F2u1WLjDw8p7KBjqkAYA%2FGdTmJ4CdjshZZsQYD2av%2FmALSxKZG1HuWBHUHno7poXH6JpCzsjN8Yj5F0HaSxE76gr%2FHEsW8CcSAfFxRcDJV2%2Fdir2jmz4f1OjYBMMTRLFQYvXPvFJTLjtQjMIQzQHFlmSdVCuWVB%2BjaZCYJ%2F8WohOWH14bmWn9VH6IrdM5MU1qLZHTKlJQLr4TbxwjEE1bu5uCzUxbX53GJWK4sIq4zATg&X-Amz-Signature=15ff3a5aeb0783fc10c6fe2edcaa5f9f8014e4dabb9c97dd59585027497aa44a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U5UKMTJ4%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112833Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQCGN%2BVXKF8BFtot9O5tPBK6q9mJzhsthowINf20svavFwIhAPz3%2Fb2Qlyedlzb6Jzl1QyC5w5hog7QI3fbzHxMgNflHKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igycrg0fBaWoqn86lEMq3ANP%2BcX8utbY1bWcMspDXhsIa%2FWeQD5yeB%2FIJwcUZtodvFtJeEO%2BdZt4ieaS3lbe57grfUXffjC%2BMtfBpL%2BhVReFz4mJ16CQjK%2BlCxB9O15%2BaAnFjPTtL85Dn%2B1du7csNo9BNCLwZpqDYcu9xc%2BNJzs6j%2FhsAP3%2FEKmxsI2voRm9E0oCLCVmvDwpfRPJF2CXpEuP%2FePSTSYTTNNOSOwVTqKzhDHavmgQkJMQjxEGOnkdIv2J%2F1dC0c95L91aSTr%2FNs1CreEFH9z6kK%2BQ1iWHu0Q%2FE%2FNToh6RPL1qdUUiKKn%2F%2BdT9Y%2B5IKTWffTmhlkfp1TBw%2FY2ziGdtHBS%2FgDf%2FPCHrOCj3LU3AYcZG9GZIY2GUAEt%2BkZy4CTm1PKtYptA3viHFEljOulXrzVbytr1yYb2h5sOY0NCYYUB2nXt7rO26QHYzPuSRhtva3egj6m6dVAz4X0plHwaK4mUoBZjwunUYgO00dYOQKiElKwH9znJdU%2BHGcl9Sx3QKj3aBAVdKFCLwwNLiZQvhr296ypfA67YDOBruIIVrutvdUvsjjuDFIlqU2Vz553cQBRY9zZPa%2FdA%2B7QLVT58Y9T1lpP2tZZRTq9%2BgNGWExeeJjfKrTn5gi0MODLnD4Sp%2F2u1WLjDw8p7KBjqkAYA%2FGdTmJ4CdjshZZsQYD2av%2FmALSxKZG1HuWBHUHno7poXH6JpCzsjN8Yj5F0HaSxE76gr%2FHEsW8CcSAfFxRcDJV2%2Fdir2jmz4f1OjYBMMTRLFQYvXPvFJTLjtQjMIQzQHFlmSdVCuWVB%2BjaZCYJ%2F8WohOWH14bmWn9VH6IrdM5MU1qLZHTKlJQLr4TbxwjEE1bu5uCzUxbX53GJWK4sIq4zATg&X-Amz-Signature=23a6f577947186828775a0b49787e8f522a57c0804362f54552abe54162823b0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U5UKMTJ4%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112833Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQCGN%2BVXKF8BFtot9O5tPBK6q9mJzhsthowINf20svavFwIhAPz3%2Fb2Qlyedlzb6Jzl1QyC5w5hog7QI3fbzHxMgNflHKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igycrg0fBaWoqn86lEMq3ANP%2BcX8utbY1bWcMspDXhsIa%2FWeQD5yeB%2FIJwcUZtodvFtJeEO%2BdZt4ieaS3lbe57grfUXffjC%2BMtfBpL%2BhVReFz4mJ16CQjK%2BlCxB9O15%2BaAnFjPTtL85Dn%2B1du7csNo9BNCLwZpqDYcu9xc%2BNJzs6j%2FhsAP3%2FEKmxsI2voRm9E0oCLCVmvDwpfRPJF2CXpEuP%2FePSTSYTTNNOSOwVTqKzhDHavmgQkJMQjxEGOnkdIv2J%2F1dC0c95L91aSTr%2FNs1CreEFH9z6kK%2BQ1iWHu0Q%2FE%2FNToh6RPL1qdUUiKKn%2F%2BdT9Y%2B5IKTWffTmhlkfp1TBw%2FY2ziGdtHBS%2FgDf%2FPCHrOCj3LU3AYcZG9GZIY2GUAEt%2BkZy4CTm1PKtYptA3viHFEljOulXrzVbytr1yYb2h5sOY0NCYYUB2nXt7rO26QHYzPuSRhtva3egj6m6dVAz4X0plHwaK4mUoBZjwunUYgO00dYOQKiElKwH9znJdU%2BHGcl9Sx3QKj3aBAVdKFCLwwNLiZQvhr296ypfA67YDOBruIIVrutvdUvsjjuDFIlqU2Vz553cQBRY9zZPa%2FdA%2B7QLVT58Y9T1lpP2tZZRTq9%2BgNGWExeeJjfKrTn5gi0MODLnD4Sp%2F2u1WLjDw8p7KBjqkAYA%2FGdTmJ4CdjshZZsQYD2av%2FmALSxKZG1HuWBHUHno7poXH6JpCzsjN8Yj5F0HaSxE76gr%2FHEsW8CcSAfFxRcDJV2%2Fdir2jmz4f1OjYBMMTRLFQYvXPvFJTLjtQjMIQzQHFlmSdVCuWVB%2BjaZCYJ%2F8WohOWH14bmWn9VH6IrdM5MU1qLZHTKlJQLr4TbxwjEE1bu5uCzUxbX53GJWK4sIq4zATg&X-Amz-Signature=170bf6c0061673c3c9d6950c92952cb7947046c207ca59a091e39eadfd62b0f8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664ICP7WS2%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIDXRRQFq8jnLUUm3F5EhmC%2FlnwmRWfh%2BvEXKshiYF0naAiEAwXdZj0fLhj8arTq0xG82pomY5L53oSGAjZAImOSBv0gqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPrHm1zZS5vSt2sDTyrcA3HlA2TpNNUDFavPItCAHM6Vyzk1Ry6xBM3udbiwW714XMP6kb72ihxACpr36AeuF7D7P%2B0bKwTp%2F37IMREgLPLkJml7%2Fd1q8IbJyjhdHoSi8K%2BfmZGvAFD6WN4hPw8ByISMRUd9lqm%2BQdVQ%2BM7m133Qs9gmEbaUxSQsYyfb6JCGPmVPO2kbeQRY8QGIhWPfeiWNWvNETr2kePl2TS0pt9swPKAZyihwNz2zM9lebAz8nITVLxLEHXQm3PcKsgeiVgoCpHR0%2BKSDfaIIKRgvWw%2BMQrJLnKj0nrtx9%2B1yWb4sRZD71PxH4rHI7bG9yedObY2NgopYaK8gVB4bL9rqBWgwMSbPiwKk%2BxMTJYIxAF3XZ8MygV5053L1sbMpFHuMSJ9ZQi2aIzt7Sa%2FXR8Ee%2FdzzhP5afFJGx%2FAi0S5%2F6gO4kzRrYrCXpXCJBhlAhWLlhgHr62AFkY0nHhRJBxtZ3eYHKEW2Qfzs8g7ulyoyg1whwlqHqq%2Fc%2FgZQC8GsmM%2FJGot3r%2BBmLIsUoAld9V7iGxxOBCSI7rf2pH3HAjb0QNOIA3zPkJaicvcTmJcBE9b9P%2FQuGthzSdwcoENAr9LicoMf68OCDjc%2BeA9s8PRPV6nKTpF3due9orOUgbHHMI%2FznsoGOqUB5V9ycCCSc3zOgDtLudQ94SdjOrvTSxFLtSoVt3%2FXkjXBBCWHDgCrERN%2FVmqgJDgYKtUu5nXaZVToq5NIGUoKqhz3bH7OhFvhgBb8BjqNwZTz6%2F49jNjVwUp3E2JnBa5OOJ5aRl8y4PjmFvgAZwxG5zKeT%2Fcbmpl7EMibp8uC5nZWrBWErmVAl0Mco%2F4H0zVcifUt%2FdBfgh%2B6t8GHV6RYNIarGz%2BX&X-Amz-Signature=cb8c83e50cde8d8d56a4f5503f5f83cc2ea598c584d79d0b087006002f5f74cc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664ICP7WS2%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIDXRRQFq8jnLUUm3F5EhmC%2FlnwmRWfh%2BvEXKshiYF0naAiEAwXdZj0fLhj8arTq0xG82pomY5L53oSGAjZAImOSBv0gqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPrHm1zZS5vSt2sDTyrcA3HlA2TpNNUDFavPItCAHM6Vyzk1Ry6xBM3udbiwW714XMP6kb72ihxACpr36AeuF7D7P%2B0bKwTp%2F37IMREgLPLkJml7%2Fd1q8IbJyjhdHoSi8K%2BfmZGvAFD6WN4hPw8ByISMRUd9lqm%2BQdVQ%2BM7m133Qs9gmEbaUxSQsYyfb6JCGPmVPO2kbeQRY8QGIhWPfeiWNWvNETr2kePl2TS0pt9swPKAZyihwNz2zM9lebAz8nITVLxLEHXQm3PcKsgeiVgoCpHR0%2BKSDfaIIKRgvWw%2BMQrJLnKj0nrtx9%2B1yWb4sRZD71PxH4rHI7bG9yedObY2NgopYaK8gVB4bL9rqBWgwMSbPiwKk%2BxMTJYIxAF3XZ8MygV5053L1sbMpFHuMSJ9ZQi2aIzt7Sa%2FXR8Ee%2FdzzhP5afFJGx%2FAi0S5%2F6gO4kzRrYrCXpXCJBhlAhWLlhgHr62AFkY0nHhRJBxtZ3eYHKEW2Qfzs8g7ulyoyg1whwlqHqq%2Fc%2FgZQC8GsmM%2FJGot3r%2BBmLIsUoAld9V7iGxxOBCSI7rf2pH3HAjb0QNOIA3zPkJaicvcTmJcBE9b9P%2FQuGthzSdwcoENAr9LicoMf68OCDjc%2BeA9s8PRPV6nKTpF3due9orOUgbHHMI%2FznsoGOqUB5V9ycCCSc3zOgDtLudQ94SdjOrvTSxFLtSoVt3%2FXkjXBBCWHDgCrERN%2FVmqgJDgYKtUu5nXaZVToq5NIGUoKqhz3bH7OhFvhgBb8BjqNwZTz6%2F49jNjVwUp3E2JnBa5OOJ5aRl8y4PjmFvgAZwxG5zKeT%2Fcbmpl7EMibp8uC5nZWrBWErmVAl0Mco%2F4H0zVcifUt%2FdBfgh%2B6t8GHV6RYNIarGz%2BX&X-Amz-Signature=2c437a6371c5575c2663c376879ec30c74f563ddd7c96cd25266a28516955b5f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664ICP7WS2%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIDXRRQFq8jnLUUm3F5EhmC%2FlnwmRWfh%2BvEXKshiYF0naAiEAwXdZj0fLhj8arTq0xG82pomY5L53oSGAjZAImOSBv0gqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPrHm1zZS5vSt2sDTyrcA3HlA2TpNNUDFavPItCAHM6Vyzk1Ry6xBM3udbiwW714XMP6kb72ihxACpr36AeuF7D7P%2B0bKwTp%2F37IMREgLPLkJml7%2Fd1q8IbJyjhdHoSi8K%2BfmZGvAFD6WN4hPw8ByISMRUd9lqm%2BQdVQ%2BM7m133Qs9gmEbaUxSQsYyfb6JCGPmVPO2kbeQRY8QGIhWPfeiWNWvNETr2kePl2TS0pt9swPKAZyihwNz2zM9lebAz8nITVLxLEHXQm3PcKsgeiVgoCpHR0%2BKSDfaIIKRgvWw%2BMQrJLnKj0nrtx9%2B1yWb4sRZD71PxH4rHI7bG9yedObY2NgopYaK8gVB4bL9rqBWgwMSbPiwKk%2BxMTJYIxAF3XZ8MygV5053L1sbMpFHuMSJ9ZQi2aIzt7Sa%2FXR8Ee%2FdzzhP5afFJGx%2FAi0S5%2F6gO4kzRrYrCXpXCJBhlAhWLlhgHr62AFkY0nHhRJBxtZ3eYHKEW2Qfzs8g7ulyoyg1whwlqHqq%2Fc%2FgZQC8GsmM%2FJGot3r%2BBmLIsUoAld9V7iGxxOBCSI7rf2pH3HAjb0QNOIA3zPkJaicvcTmJcBE9b9P%2FQuGthzSdwcoENAr9LicoMf68OCDjc%2BeA9s8PRPV6nKTpF3due9orOUgbHHMI%2FznsoGOqUB5V9ycCCSc3zOgDtLudQ94SdjOrvTSxFLtSoVt3%2FXkjXBBCWHDgCrERN%2FVmqgJDgYKtUu5nXaZVToq5NIGUoKqhz3bH7OhFvhgBb8BjqNwZTz6%2F49jNjVwUp3E2JnBa5OOJ5aRl8y4PjmFvgAZwxG5zKeT%2Fcbmpl7EMibp8uC5nZWrBWErmVAl0Mco%2F4H0zVcifUt%2FdBfgh%2B6t8GHV6RYNIarGz%2BX&X-Amz-Signature=254d20d901f1a6df86de069ebd6bb41e3496655087610cda6a6d10313c4d93ad&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WVNJM74I%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIAzNW0J819BWs6XWoZBA%2B5LY%2FlZSC0y5yuCmX8D38BYPAiB7dK1LrQ%2F42r4DZ8b5LGXWxDc%2BJYZVPDTl9JvOEdIyRyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMsx7KhnZVXoMFM89QKtwDmuWOt%2FuXyFOuKuBztLWE%2FkKPVJRPWRa5PVnjPoVaAuvU52vFZJA7YPoy%2FezkB9gPG85mneuN8xc5FyR5zKJVfEIxCZ4kBBS56EA%2FL1LUff25wNfzq4%2FgbeJJcMAUKfH0uCuD7Ap%2BgJxFEfPimSQxkslQTTNDb1Vrjw02IkhPFOD7KRFbI0XKvkM2Je2Z2jpP33p%2F1RHi9exn%2BwL%2Fkul1pt7BCTyNB1WuSWKIkjFdIzW%2BQ9A0ZTTMFl5CMt3w5XAYb2HwsDBgKlXeafsfYQOgqlb2vIUFvlRmUgjGaRsW5nkEQ1xjABWlHW3dsct%2FMbLUa4LtuuxqiyU1Q13fX2rTidhWbcBClhXzvAvWyQLpWU1ZbMbAZWbW4%2B9ub0W9nOQ9DbpZPbboegGlFkJI8pOA7AXX1%2FVzXBD7lHYdtm5Baf1cBwp4U%2BSXe87gWTu3JuW3DbNbswS5pq9vV7Skgab6%2BNq9FxC6CutK7QhCVOTctYBcMtQ5C0T4gYTGrgmTNXJm7vkbMv78btfguXkfGNu%2BrfmhJNFr9ZVYrysvDNgoZxlJDhJN1M3885EbVL0%2FxA%2FwsDVrUDwTyItvaLE0Kszcya%2BYD6gjF%2Fn2YlETCbnzM2VPd43Q2tNoBEpbUvswzfKeygY6pgF7jzOdbeV0E8aD2Vd1UbhvEGTuHH19GY%2FDttxQjcM1cuyRl1PC6S2MqYr6YQ0oJGzBWSfv8E%2BC6Gd4SmcQEwPl0uI0%2BlgYkTcM9eYSOoxQOx2%2F4qQSR8IwV8Af7lOnS2k0SCckrI0YXeMrfdnNcZjyAbvsil05yXY4UrmqTfGCalQ0Ta6nwPp8f77ZD6AhjbGyosz4Nc6N2nX%2BBdK5k153%2FvuLw%2FrB&X-Amz-Signature=a89502f4b7824253a9ae44a9f14376162b0e5be62dd3b0ceaf9828c69983cf0e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WVNJM74I%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIAzNW0J819BWs6XWoZBA%2B5LY%2FlZSC0y5yuCmX8D38BYPAiB7dK1LrQ%2F42r4DZ8b5LGXWxDc%2BJYZVPDTl9JvOEdIyRyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMsx7KhnZVXoMFM89QKtwDmuWOt%2FuXyFOuKuBztLWE%2FkKPVJRPWRa5PVnjPoVaAuvU52vFZJA7YPoy%2FezkB9gPG85mneuN8xc5FyR5zKJVfEIxCZ4kBBS56EA%2FL1LUff25wNfzq4%2FgbeJJcMAUKfH0uCuD7Ap%2BgJxFEfPimSQxkslQTTNDb1Vrjw02IkhPFOD7KRFbI0XKvkM2Je2Z2jpP33p%2F1RHi9exn%2BwL%2Fkul1pt7BCTyNB1WuSWKIkjFdIzW%2BQ9A0ZTTMFl5CMt3w5XAYb2HwsDBgKlXeafsfYQOgqlb2vIUFvlRmUgjGaRsW5nkEQ1xjABWlHW3dsct%2FMbLUa4LtuuxqiyU1Q13fX2rTidhWbcBClhXzvAvWyQLpWU1ZbMbAZWbW4%2B9ub0W9nOQ9DbpZPbboegGlFkJI8pOA7AXX1%2FVzXBD7lHYdtm5Baf1cBwp4U%2BSXe87gWTu3JuW3DbNbswS5pq9vV7Skgab6%2BNq9FxC6CutK7QhCVOTctYBcMtQ5C0T4gYTGrgmTNXJm7vkbMv78btfguXkfGNu%2BrfmhJNFr9ZVYrysvDNgoZxlJDhJN1M3885EbVL0%2FxA%2FwsDVrUDwTyItvaLE0Kszcya%2BYD6gjF%2Fn2YlETCbnzM2VPd43Q2tNoBEpbUvswzfKeygY6pgF7jzOdbeV0E8aD2Vd1UbhvEGTuHH19GY%2FDttxQjcM1cuyRl1PC6S2MqYr6YQ0oJGzBWSfv8E%2BC6Gd4SmcQEwPl0uI0%2BlgYkTcM9eYSOoxQOx2%2F4qQSR8IwV8Af7lOnS2k0SCckrI0YXeMrfdnNcZjyAbvsil05yXY4UrmqTfGCalQ0Ta6nwPp8f77ZD6AhjbGyosz4Nc6N2nX%2BBdK5k153%2FvuLw%2FrB&X-Amz-Signature=2cbe7fe79a570b86bb93b6c00021f7d6b25eb67443087a59b234efde65b60aeb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WVNJM74I%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIAzNW0J819BWs6XWoZBA%2B5LY%2FlZSC0y5yuCmX8D38BYPAiB7dK1LrQ%2F42r4DZ8b5LGXWxDc%2BJYZVPDTl9JvOEdIyRyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMsx7KhnZVXoMFM89QKtwDmuWOt%2FuXyFOuKuBztLWE%2FkKPVJRPWRa5PVnjPoVaAuvU52vFZJA7YPoy%2FezkB9gPG85mneuN8xc5FyR5zKJVfEIxCZ4kBBS56EA%2FL1LUff25wNfzq4%2FgbeJJcMAUKfH0uCuD7Ap%2BgJxFEfPimSQxkslQTTNDb1Vrjw02IkhPFOD7KRFbI0XKvkM2Je2Z2jpP33p%2F1RHi9exn%2BwL%2Fkul1pt7BCTyNB1WuSWKIkjFdIzW%2BQ9A0ZTTMFl5CMt3w5XAYb2HwsDBgKlXeafsfYQOgqlb2vIUFvlRmUgjGaRsW5nkEQ1xjABWlHW3dsct%2FMbLUa4LtuuxqiyU1Q13fX2rTidhWbcBClhXzvAvWyQLpWU1ZbMbAZWbW4%2B9ub0W9nOQ9DbpZPbboegGlFkJI8pOA7AXX1%2FVzXBD7lHYdtm5Baf1cBwp4U%2BSXe87gWTu3JuW3DbNbswS5pq9vV7Skgab6%2BNq9FxC6CutK7QhCVOTctYBcMtQ5C0T4gYTGrgmTNXJm7vkbMv78btfguXkfGNu%2BrfmhJNFr9ZVYrysvDNgoZxlJDhJN1M3885EbVL0%2FxA%2FwsDVrUDwTyItvaLE0Kszcya%2BYD6gjF%2Fn2YlETCbnzM2VPd43Q2tNoBEpbUvswzfKeygY6pgF7jzOdbeV0E8aD2Vd1UbhvEGTuHH19GY%2FDttxQjcM1cuyRl1PC6S2MqYr6YQ0oJGzBWSfv8E%2BC6Gd4SmcQEwPl0uI0%2BlgYkTcM9eYSOoxQOx2%2F4qQSR8IwV8Af7lOnS2k0SCckrI0YXeMrfdnNcZjyAbvsil05yXY4UrmqTfGCalQ0Ta6nwPp8f77ZD6AhjbGyosz4Nc6N2nX%2BBdK5k153%2FvuLw%2FrB&X-Amz-Signature=fe71c52167ecbd54be904356a9bc951942d9c4ecaac7bd7a9ab8033d0224ec2d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WVNJM74I%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIAzNW0J819BWs6XWoZBA%2B5LY%2FlZSC0y5yuCmX8D38BYPAiB7dK1LrQ%2F42r4DZ8b5LGXWxDc%2BJYZVPDTl9JvOEdIyRyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMsx7KhnZVXoMFM89QKtwDmuWOt%2FuXyFOuKuBztLWE%2FkKPVJRPWRa5PVnjPoVaAuvU52vFZJA7YPoy%2FezkB9gPG85mneuN8xc5FyR5zKJVfEIxCZ4kBBS56EA%2FL1LUff25wNfzq4%2FgbeJJcMAUKfH0uCuD7Ap%2BgJxFEfPimSQxkslQTTNDb1Vrjw02IkhPFOD7KRFbI0XKvkM2Je2Z2jpP33p%2F1RHi9exn%2BwL%2Fkul1pt7BCTyNB1WuSWKIkjFdIzW%2BQ9A0ZTTMFl5CMt3w5XAYb2HwsDBgKlXeafsfYQOgqlb2vIUFvlRmUgjGaRsW5nkEQ1xjABWlHW3dsct%2FMbLUa4LtuuxqiyU1Q13fX2rTidhWbcBClhXzvAvWyQLpWU1ZbMbAZWbW4%2B9ub0W9nOQ9DbpZPbboegGlFkJI8pOA7AXX1%2FVzXBD7lHYdtm5Baf1cBwp4U%2BSXe87gWTu3JuW3DbNbswS5pq9vV7Skgab6%2BNq9FxC6CutK7QhCVOTctYBcMtQ5C0T4gYTGrgmTNXJm7vkbMv78btfguXkfGNu%2BrfmhJNFr9ZVYrysvDNgoZxlJDhJN1M3885EbVL0%2FxA%2FwsDVrUDwTyItvaLE0Kszcya%2BYD6gjF%2Fn2YlETCbnzM2VPd43Q2tNoBEpbUvswzfKeygY6pgF7jzOdbeV0E8aD2Vd1UbhvEGTuHH19GY%2FDttxQjcM1cuyRl1PC6S2MqYr6YQ0oJGzBWSfv8E%2BC6Gd4SmcQEwPl0uI0%2BlgYkTcM9eYSOoxQOx2%2F4qQSR8IwV8Af7lOnS2k0SCckrI0YXeMrfdnNcZjyAbvsil05yXY4UrmqTfGCalQ0Ta6nwPp8f77ZD6AhjbGyosz4Nc6N2nX%2BBdK5k153%2FvuLw%2FrB&X-Amz-Signature=9e6e7596ffe1a1489bbd0967abc3bf15c18ba74a2df964b00a2b1ca39a06d785&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663EFPHSPC%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIF7gutqv%2FchRfLMF%2FWytB%2F9RJVBuolhLNEfmPR6sKZ59AiBELC9DXI8hZ%2BhJ9lzSzVvROb3qNNxrDiS4hyhLV17EuyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2BJx4vMkcr46%2FLc%2BpKtwDHNzNzHeEBebvs9I19dNdkPt3vdiAt%2BDU%2FaLa6YkQXUMm5wcaDT1BdvW7Nui4hyNJZt7tIEHfQEuMpR1LV2y%2BE%2BIUP%2FvRbGp%2FQZNPJUR0F4KhsMS9Kpfe8nb3%2FhlZ26s4K0%2BCaxfo%2FAWqR9Mx7eDWJjqhNCd37D8jRqiK86TV379NWqbMdz31P55C7KlTYYJl8vH%2FYhruiCGseI5w0I0Kf25OBFVaLnZZ7ZZtSlIZmmVZJsGuvhLuCS%2FYXMsIXzbmb7BhX9r8ybPN82iHCkLoGSytz5Q%2FrP7cpZmjX4rWOhD3mKqTQhCEm8qY0jblcRyjuWesn4kSoVf8EszfoY8wY4zuOipCWj07PPmQtePBOGH1%2Fe4spjx8WCmImu0%2FgVScuB91q3UAeY1fza%2FOKMEMBEsuG1%2BrwcXrzewRhtrdBCZ4Lpir98CiSA1PF5IQUYU5o4%2BZnK7bnvFdRmPC7LemS%2FCPBd3hmUSkfyBHlIGk8s6PD1zWSpOrBA0oYSHylQMqVN4nfR35VDuoxlHAuhbOjCfdVxYPD%2F1eYr4cMhav3b1lseFi2bp%2BLXO1sX1ZQzSZ5ENs%2Bd4vsWr%2BdZ%2FiOXownZQpnLsC%2F589KMhbwC%2BWpHflHMJS%2FeTVikAbivYwvvOeygY6pgEg33q85bx8d6v%2BZFdOC%2BZzsk3qArdoTJUE7xpZZ4BYIkkTgAu9cHt88pOZwuYRpJzEwDvAIWInTrz7d7ndqMvujEZSv6DZiQqb77D4dxyX%2FJyib9bnCUhUtzW5PGWvtNPO0toA8c0FKci6qUn05pNZtCPNNhCd4HlIOXyPbOuDUYqBuPsN69hlMaQdPdxvDpm51yF0LaGuZkD3d%2FrWJNsxb7ydqGl3&X-Amz-Signature=ad412ca1deaeed2cf8c2eb3710f18767d468b8be1658852844118f4aa1ca9dc1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663EFPHSPC%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIF7gutqv%2FchRfLMF%2FWytB%2F9RJVBuolhLNEfmPR6sKZ59AiBELC9DXI8hZ%2BhJ9lzSzVvROb3qNNxrDiS4hyhLV17EuyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2BJx4vMkcr46%2FLc%2BpKtwDHNzNzHeEBebvs9I19dNdkPt3vdiAt%2BDU%2FaLa6YkQXUMm5wcaDT1BdvW7Nui4hyNJZt7tIEHfQEuMpR1LV2y%2BE%2BIUP%2FvRbGp%2FQZNPJUR0F4KhsMS9Kpfe8nb3%2FhlZ26s4K0%2BCaxfo%2FAWqR9Mx7eDWJjqhNCd37D8jRqiK86TV379NWqbMdz31P55C7KlTYYJl8vH%2FYhruiCGseI5w0I0Kf25OBFVaLnZZ7ZZtSlIZmmVZJsGuvhLuCS%2FYXMsIXzbmb7BhX9r8ybPN82iHCkLoGSytz5Q%2FrP7cpZmjX4rWOhD3mKqTQhCEm8qY0jblcRyjuWesn4kSoVf8EszfoY8wY4zuOipCWj07PPmQtePBOGH1%2Fe4spjx8WCmImu0%2FgVScuB91q3UAeY1fza%2FOKMEMBEsuG1%2BrwcXrzewRhtrdBCZ4Lpir98CiSA1PF5IQUYU5o4%2BZnK7bnvFdRmPC7LemS%2FCPBd3hmUSkfyBHlIGk8s6PD1zWSpOrBA0oYSHylQMqVN4nfR35VDuoxlHAuhbOjCfdVxYPD%2F1eYr4cMhav3b1lseFi2bp%2BLXO1sX1ZQzSZ5ENs%2Bd4vsWr%2BdZ%2FiOXownZQpnLsC%2F589KMhbwC%2BWpHflHMJS%2FeTVikAbivYwvvOeygY6pgEg33q85bx8d6v%2BZFdOC%2BZzsk3qArdoTJUE7xpZZ4BYIkkTgAu9cHt88pOZwuYRpJzEwDvAIWInTrz7d7ndqMvujEZSv6DZiQqb77D4dxyX%2FJyib9bnCUhUtzW5PGWvtNPO0toA8c0FKci6qUn05pNZtCPNNhCd4HlIOXyPbOuDUYqBuPsN69hlMaQdPdxvDpm51yF0LaGuZkD3d%2FrWJNsxb7ydqGl3&X-Amz-Signature=599b902b41a6878c8bf15e9fef1a79227f5f574bf0e7c919cb0c84cfb8623873&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663EFPHSPC%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIF7gutqv%2FchRfLMF%2FWytB%2F9RJVBuolhLNEfmPR6sKZ59AiBELC9DXI8hZ%2BhJ9lzSzVvROb3qNNxrDiS4hyhLV17EuyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2BJx4vMkcr46%2FLc%2BpKtwDHNzNzHeEBebvs9I19dNdkPt3vdiAt%2BDU%2FaLa6YkQXUMm5wcaDT1BdvW7Nui4hyNJZt7tIEHfQEuMpR1LV2y%2BE%2BIUP%2FvRbGp%2FQZNPJUR0F4KhsMS9Kpfe8nb3%2FhlZ26s4K0%2BCaxfo%2FAWqR9Mx7eDWJjqhNCd37D8jRqiK86TV379NWqbMdz31P55C7KlTYYJl8vH%2FYhruiCGseI5w0I0Kf25OBFVaLnZZ7ZZtSlIZmmVZJsGuvhLuCS%2FYXMsIXzbmb7BhX9r8ybPN82iHCkLoGSytz5Q%2FrP7cpZmjX4rWOhD3mKqTQhCEm8qY0jblcRyjuWesn4kSoVf8EszfoY8wY4zuOipCWj07PPmQtePBOGH1%2Fe4spjx8WCmImu0%2FgVScuB91q3UAeY1fza%2FOKMEMBEsuG1%2BrwcXrzewRhtrdBCZ4Lpir98CiSA1PF5IQUYU5o4%2BZnK7bnvFdRmPC7LemS%2FCPBd3hmUSkfyBHlIGk8s6PD1zWSpOrBA0oYSHylQMqVN4nfR35VDuoxlHAuhbOjCfdVxYPD%2F1eYr4cMhav3b1lseFi2bp%2BLXO1sX1ZQzSZ5ENs%2Bd4vsWr%2BdZ%2FiOXownZQpnLsC%2F589KMhbwC%2BWpHflHMJS%2FeTVikAbivYwvvOeygY6pgEg33q85bx8d6v%2BZFdOC%2BZzsk3qArdoTJUE7xpZZ4BYIkkTgAu9cHt88pOZwuYRpJzEwDvAIWInTrz7d7ndqMvujEZSv6DZiQqb77D4dxyX%2FJyib9bnCUhUtzW5PGWvtNPO0toA8c0FKci6qUn05pNZtCPNNhCd4HlIOXyPbOuDUYqBuPsN69hlMaQdPdxvDpm51yF0LaGuZkD3d%2FrWJNsxb7ydqGl3&X-Amz-Signature=ecbdc4eda9fe6d74af42bc8f5ba881ce346c12fe4b634b9467482c3d77d47807&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663EFPHSPC%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIF7gutqv%2FchRfLMF%2FWytB%2F9RJVBuolhLNEfmPR6sKZ59AiBELC9DXI8hZ%2BhJ9lzSzVvROb3qNNxrDiS4hyhLV17EuyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2BJx4vMkcr46%2FLc%2BpKtwDHNzNzHeEBebvs9I19dNdkPt3vdiAt%2BDU%2FaLa6YkQXUMm5wcaDT1BdvW7Nui4hyNJZt7tIEHfQEuMpR1LV2y%2BE%2BIUP%2FvRbGp%2FQZNPJUR0F4KhsMS9Kpfe8nb3%2FhlZ26s4K0%2BCaxfo%2FAWqR9Mx7eDWJjqhNCd37D8jRqiK86TV379NWqbMdz31P55C7KlTYYJl8vH%2FYhruiCGseI5w0I0Kf25OBFVaLnZZ7ZZtSlIZmmVZJsGuvhLuCS%2FYXMsIXzbmb7BhX9r8ybPN82iHCkLoGSytz5Q%2FrP7cpZmjX4rWOhD3mKqTQhCEm8qY0jblcRyjuWesn4kSoVf8EszfoY8wY4zuOipCWj07PPmQtePBOGH1%2Fe4spjx8WCmImu0%2FgVScuB91q3UAeY1fza%2FOKMEMBEsuG1%2BrwcXrzewRhtrdBCZ4Lpir98CiSA1PF5IQUYU5o4%2BZnK7bnvFdRmPC7LemS%2FCPBd3hmUSkfyBHlIGk8s6PD1zWSpOrBA0oYSHylQMqVN4nfR35VDuoxlHAuhbOjCfdVxYPD%2F1eYr4cMhav3b1lseFi2bp%2BLXO1sX1ZQzSZ5ENs%2Bd4vsWr%2BdZ%2FiOXownZQpnLsC%2F589KMhbwC%2BWpHflHMJS%2FeTVikAbivYwvvOeygY6pgEg33q85bx8d6v%2BZFdOC%2BZzsk3qArdoTJUE7xpZZ4BYIkkTgAu9cHt88pOZwuYRpJzEwDvAIWInTrz7d7ndqMvujEZSv6DZiQqb77D4dxyX%2FJyib9bnCUhUtzW5PGWvtNPO0toA8c0FKci6qUn05pNZtCPNNhCd4HlIOXyPbOuDUYqBuPsN69hlMaQdPdxvDpm51yF0LaGuZkD3d%2FrWJNsxb7ydqGl3&X-Amz-Signature=e9725e26bf7556851fea3cc295fa6c7216744f50c0153728f0cc8c2fc8572cf4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QV4F7E24%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112835Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQDQoMesvXFk97cT9v2VPXfqg%2B40py3wiMtwXSa2v6HKfwIhAPOT5wXutSE%2Fd0DNCOBuuHJsCUMnEN0TpNEDLg5pFfTGKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzHeH8q8Gc%2FGXmn%2F58q3APFHdo%2F8Xnao6qYXlX25nvtt3623d8b4TajUFWBkWTwZvoT%2FKc6USe18DuJuXnDcQlmu7krJFo3xD0OpGQ70UJf1K4DrIRtUVf6CIboWX%2FmrHbe8cPahUF88TZQLmsFm%2BA6bjiBUzPJBglZbGwIaydy2Lj07aFlpfO2WO%2BN9ErXGpHygih6whgZzzWiYHC2Y0aMPTBdZKjTOOYEGXv%2Bn0K7hhe2x%2FWcyItx5S3ACB0iaHOcWTAHlgk2k2Uibhw1i7IpAZ28aSeaAnISrjgZp2f5oUgXUlpXw4HUBZZMROcPxr9EWbLuzI4IE7An4VlElPzxSRMzq%2FVd1rYIXygkw21bIRY74L7Q37k9KgAS8b13pAxxzXNUctBOnA0SOVPj0eTwY9cRyehoK%2BqgQkHz73fsO1K27OBWL9wCHrYDqMnpyBLxRhj7mNUgJtIoJ3jtRVrETKGDJ3QTteVb4mbttNEELNSYfZ50EtI7AQdkbFboe%2B2wUQFBWxWTby7Gr9lPfeHCn1WXk6%2BkI2zMuk3VJmJBgzlI3ZDMrB%2BJbsV7Qfm1AfsF3CPh%2FYHJonNABbYca%2B3bVbZpNN6TaJRU0CaZxJnwMOyoQizyOhY1sPBb0a4LqRc3iUGqo8WjiJa%2FNjDU8p7KBjqkASRBlmQi64uAgUWeREMW89FzmK4%2FlpDTiE3U24eN0SYr1e7RpZeWN4Ag7zfILPVttfxKxsmKOgbvBds7KzcU5pIidAAFyTyjUdHGLFsb349G3mCDnOdpfSzrj7KackNEtCli2Rcla32TzPn9%2FHEQiukFi081i7buLakkp27fvep40VSXLgL5ZMwB7F3nbPzgSxDtLze%2FE%2FCin6%2BpmbDu%2BgHVDjID&X-Amz-Signature=1da3dd54e7be4b9d367dcd25daa93086c7665022dc886459b17df66ea314b94d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QV4F7E24%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112835Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQDQoMesvXFk97cT9v2VPXfqg%2B40py3wiMtwXSa2v6HKfwIhAPOT5wXutSE%2Fd0DNCOBuuHJsCUMnEN0TpNEDLg5pFfTGKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzHeH8q8Gc%2FGXmn%2F58q3APFHdo%2F8Xnao6qYXlX25nvtt3623d8b4TajUFWBkWTwZvoT%2FKc6USe18DuJuXnDcQlmu7krJFo3xD0OpGQ70UJf1K4DrIRtUVf6CIboWX%2FmrHbe8cPahUF88TZQLmsFm%2BA6bjiBUzPJBglZbGwIaydy2Lj07aFlpfO2WO%2BN9ErXGpHygih6whgZzzWiYHC2Y0aMPTBdZKjTOOYEGXv%2Bn0K7hhe2x%2FWcyItx5S3ACB0iaHOcWTAHlgk2k2Uibhw1i7IpAZ28aSeaAnISrjgZp2f5oUgXUlpXw4HUBZZMROcPxr9EWbLuzI4IE7An4VlElPzxSRMzq%2FVd1rYIXygkw21bIRY74L7Q37k9KgAS8b13pAxxzXNUctBOnA0SOVPj0eTwY9cRyehoK%2BqgQkHz73fsO1K27OBWL9wCHrYDqMnpyBLxRhj7mNUgJtIoJ3jtRVrETKGDJ3QTteVb4mbttNEELNSYfZ50EtI7AQdkbFboe%2B2wUQFBWxWTby7Gr9lPfeHCn1WXk6%2BkI2zMuk3VJmJBgzlI3ZDMrB%2BJbsV7Qfm1AfsF3CPh%2FYHJonNABbYca%2B3bVbZpNN6TaJRU0CaZxJnwMOyoQizyOhY1sPBb0a4LqRc3iUGqo8WjiJa%2FNjDU8p7KBjqkASRBlmQi64uAgUWeREMW89FzmK4%2FlpDTiE3U24eN0SYr1e7RpZeWN4Ag7zfILPVttfxKxsmKOgbvBds7KzcU5pIidAAFyTyjUdHGLFsb349G3mCDnOdpfSzrj7KackNEtCli2Rcla32TzPn9%2FHEQiukFi081i7buLakkp27fvep40VSXLgL5ZMwB7F3nbPzgSxDtLze%2FE%2FCin6%2BpmbDu%2BgHVDjID&X-Amz-Signature=35b96942d2429a0b8423e1ff6ad450c45edeecfc616d1588ec72caa265beeb62&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QV4F7E24%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112835Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQDQoMesvXFk97cT9v2VPXfqg%2B40py3wiMtwXSa2v6HKfwIhAPOT5wXutSE%2Fd0DNCOBuuHJsCUMnEN0TpNEDLg5pFfTGKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzHeH8q8Gc%2FGXmn%2F58q3APFHdo%2F8Xnao6qYXlX25nvtt3623d8b4TajUFWBkWTwZvoT%2FKc6USe18DuJuXnDcQlmu7krJFo3xD0OpGQ70UJf1K4DrIRtUVf6CIboWX%2FmrHbe8cPahUF88TZQLmsFm%2BA6bjiBUzPJBglZbGwIaydy2Lj07aFlpfO2WO%2BN9ErXGpHygih6whgZzzWiYHC2Y0aMPTBdZKjTOOYEGXv%2Bn0K7hhe2x%2FWcyItx5S3ACB0iaHOcWTAHlgk2k2Uibhw1i7IpAZ28aSeaAnISrjgZp2f5oUgXUlpXw4HUBZZMROcPxr9EWbLuzI4IE7An4VlElPzxSRMzq%2FVd1rYIXygkw21bIRY74L7Q37k9KgAS8b13pAxxzXNUctBOnA0SOVPj0eTwY9cRyehoK%2BqgQkHz73fsO1K27OBWL9wCHrYDqMnpyBLxRhj7mNUgJtIoJ3jtRVrETKGDJ3QTteVb4mbttNEELNSYfZ50EtI7AQdkbFboe%2B2wUQFBWxWTby7Gr9lPfeHCn1WXk6%2BkI2zMuk3VJmJBgzlI3ZDMrB%2BJbsV7Qfm1AfsF3CPh%2FYHJonNABbYca%2B3bVbZpNN6TaJRU0CaZxJnwMOyoQizyOhY1sPBb0a4LqRc3iUGqo8WjiJa%2FNjDU8p7KBjqkASRBlmQi64uAgUWeREMW89FzmK4%2FlpDTiE3U24eN0SYr1e7RpZeWN4Ag7zfILPVttfxKxsmKOgbvBds7KzcU5pIidAAFyTyjUdHGLFsb349G3mCDnOdpfSzrj7KackNEtCli2Rcla32TzPn9%2FHEQiukFi081i7buLakkp27fvep40VSXLgL5ZMwB7F3nbPzgSxDtLze%2FE%2FCin6%2BpmbDu%2BgHVDjID&X-Amz-Signature=0aa06ebedd9810b107bc8d106de34cab6527fcf34ab11bf995f6507a22ee1e1c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TITGNJ34%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112836Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIGKUP9idBG9qzoPKm1kS6VtUIGze%2BH94Rrw1qF9jVaaAAiEA0kLh%2Fucx7iSSLsA5I1D%2B4B%2B4mu3m%2FyY1Kka4OlVsN5gqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJDlr1T2jzkd7KJMxSrcAyfj9J%2BX88oYQBuwGS9yJiIcR5uChCyiUOe7S%2FoUSeaECbWRB0pU8962hQ3BNqHA1Td2SFhiVFCwx188iojZsGFFEZG%2BiJCQ64pV9ga0xLSiNFrv8TEZd7LXSxt3ioRaw1zEfNhFEiPvq2%2FStPDylMgIQlB6sOhEQgplNsypU%2BbLMnROHJR9T4kt1AakCaWSsvNXXicXp9byWr0m925NTrI7rbjnINRRZ309n0JeyV4sS%2FePhwUeovjf9w4HGBifLf79Fmfj46KGLDmwC1IdbTXQL9tW474z4VRZMU8ntTg3K3DVUkx6yy85aIN%2FiKfBftLljFrRrUUeRUmhQLj8zcxI0SfmxoNm5iZ376rdYvkl71YDamE1yr0HzRj9Z87stdwzVlvKk3c4oczVjs6hWzq7fdBV84AgHc8JFrN8F808a8DBZ%2BH9t6mRAmgJcQ8wDONLNQEPDmGVr9PcckGK1HXNUVZiP4bHVhEttjPwh%2FV0LBYq2OOba8ANo3BDsfiMiJPxar1FlQjVaS12kCWrqCyzxf6gkkXVG57P6CPiwCsI%2BprNWhwwkD4jua%2BaPYBGg0i4VUE9ord9jHO7XGS0y3we7OHSQohZqqIBYbCPl80aB3YizhFl9n%2B0UmkQMPnynsoGOqUB4yIBQN%2Bjal6UB8wU2Q5ZE9%2FrNVCgwpGgQEyBBk8ep5X1dPX55VFI3nkx8r5nhlh6yy2xXy1mat%2FM6xsEpNiZDWd7inQmsMyYxvsReMZQDOq5mwSFqzlgHC6prTt028p2FEEgUSCZ2g96HIPJMPOjcKqwz4VUd%2BGFP5dfqjoFB%2BXyh7VvXHl1JwP2rZS0OG%2FjXztMc7KsVkEC8qZ6jI9lvTFx1mOY&X-Amz-Signature=f24d4898583bc4bf2d7b938b1f7d40f6e4e6654e365725718b191fd408423ee7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TITGNJ34%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112836Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIGKUP9idBG9qzoPKm1kS6VtUIGze%2BH94Rrw1qF9jVaaAAiEA0kLh%2Fucx7iSSLsA5I1D%2B4B%2B4mu3m%2FyY1Kka4OlVsN5gqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJDlr1T2jzkd7KJMxSrcAyfj9J%2BX88oYQBuwGS9yJiIcR5uChCyiUOe7S%2FoUSeaECbWRB0pU8962hQ3BNqHA1Td2SFhiVFCwx188iojZsGFFEZG%2BiJCQ64pV9ga0xLSiNFrv8TEZd7LXSxt3ioRaw1zEfNhFEiPvq2%2FStPDylMgIQlB6sOhEQgplNsypU%2BbLMnROHJR9T4kt1AakCaWSsvNXXicXp9byWr0m925NTrI7rbjnINRRZ309n0JeyV4sS%2FePhwUeovjf9w4HGBifLf79Fmfj46KGLDmwC1IdbTXQL9tW474z4VRZMU8ntTg3K3DVUkx6yy85aIN%2FiKfBftLljFrRrUUeRUmhQLj8zcxI0SfmxoNm5iZ376rdYvkl71YDamE1yr0HzRj9Z87stdwzVlvKk3c4oczVjs6hWzq7fdBV84AgHc8JFrN8F808a8DBZ%2BH9t6mRAmgJcQ8wDONLNQEPDmGVr9PcckGK1HXNUVZiP4bHVhEttjPwh%2FV0LBYq2OOba8ANo3BDsfiMiJPxar1FlQjVaS12kCWrqCyzxf6gkkXVG57P6CPiwCsI%2BprNWhwwkD4jua%2BaPYBGg0i4VUE9ord9jHO7XGS0y3we7OHSQohZqqIBYbCPl80aB3YizhFl9n%2B0UmkQMPnynsoGOqUB4yIBQN%2Bjal6UB8wU2Q5ZE9%2FrNVCgwpGgQEyBBk8ep5X1dPX55VFI3nkx8r5nhlh6yy2xXy1mat%2FM6xsEpNiZDWd7inQmsMyYxvsReMZQDOq5mwSFqzlgHC6prTt028p2FEEgUSCZ2g96HIPJMPOjcKqwz4VUd%2BGFP5dfqjoFB%2BXyh7VvXHl1JwP2rZS0OG%2FjXztMc7KsVkEC8qZ6jI9lvTFx1mOY&X-Amz-Signature=8cba293a06a12b87e7c8f24a60709804d57a4461ade9f7e818c31c0597ac2bd2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZJPZK43F%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112837Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQC%2FGQaG8j%2BiZekpAlppySJAcbocDtkHJUcezCzlFAgmxwIhAOAbHdBih3ehJly%2FL9K0QamvyUMGSpEfpR4s8LEcPx8gKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz4eOZGeBITcZQ3EMgq3AMfmRc71rOn57OACyuacwTWtQA1mXeEn4R7EA6pFV%2F58PYRB4K55NxYZ080BEkeBw2vj8fe0f70zqZwuCIGzded9q5kLbAVg1q%2FDHQdyBZ3g3s4MqQOzF%2BJvCotHT871Hyprh4FBFICHsbxUq3uSy9JiPenPmvymYmumzNedCpqZWa89C43k23NiiRPNwBkMiA6garbvPTXnTZa4g5RG2ChyQbt4%2BzKW6AHyM47Tm4XaymnoQPT%2Bwf9cngzURScSV3cMTK0hC%2FMEkgyqsjhF%2BBZPpXI3rvkl1llQAdnt1Y5f%2FmMLdXrHQjW9iPclZ6XC51qtMnpKxTh277KY%2F8UyChLAQNqpBpCtluP19VlEtjAlly45HUQfgqC3kwtUFhJOmquIdv4FIfuUDMVQZFsRklBEBIENtb1DI2%2BJT1G6ViEQv%2BwhZ2w7CzdrmlPbgBT4T%2FFUAVerwmIffSJmHIVPQ3DuqXEAIwB958U3deNrOpxmzWGuy4HXKIm9leZxXpszlqpZJncDJ7ippaIch4JKXZEtx8qj3mzncAOqNG%2BnHfa6SldJf2eRNZwHraig4D43zzWxAddSE5xBejKYyU7PLn1cQ1sar2tL5gwjiPagof7JDX0d6PFXrrSbw9jZzCc857KBjqkAUpEt7CJ6z52oIER%2FBysfv8ehxpVsmfx6LHX5lRM4kHSkX2vH%2BadYV%2B7oR7Y8vbmFuBCXpx4T4s0U%2F4qA7H8zj9hg44AWpTdDzuifWL46r1gLGwYfgWnIreGIbfBQVG7KM%2F3yKQQygRk1pKzCkxDjnNvvpEh6nOtqhutezU7g3p4ivEg%2Br2JGlbFjgsvdvEcqtEVqFP0RHtwZc%2BEeJp42QHtp7PO&X-Amz-Signature=e80d92fee03f87b889ffd0317d9f6bbdf885899f9791e8d359dc4d8498cf550d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZJPZK43F%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112837Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQC%2FGQaG8j%2BiZekpAlppySJAcbocDtkHJUcezCzlFAgmxwIhAOAbHdBih3ehJly%2FL9K0QamvyUMGSpEfpR4s8LEcPx8gKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz4eOZGeBITcZQ3EMgq3AMfmRc71rOn57OACyuacwTWtQA1mXeEn4R7EA6pFV%2F58PYRB4K55NxYZ080BEkeBw2vj8fe0f70zqZwuCIGzded9q5kLbAVg1q%2FDHQdyBZ3g3s4MqQOzF%2BJvCotHT871Hyprh4FBFICHsbxUq3uSy9JiPenPmvymYmumzNedCpqZWa89C43k23NiiRPNwBkMiA6garbvPTXnTZa4g5RG2ChyQbt4%2BzKW6AHyM47Tm4XaymnoQPT%2Bwf9cngzURScSV3cMTK0hC%2FMEkgyqsjhF%2BBZPpXI3rvkl1llQAdnt1Y5f%2FmMLdXrHQjW9iPclZ6XC51qtMnpKxTh277KY%2F8UyChLAQNqpBpCtluP19VlEtjAlly45HUQfgqC3kwtUFhJOmquIdv4FIfuUDMVQZFsRklBEBIENtb1DI2%2BJT1G6ViEQv%2BwhZ2w7CzdrmlPbgBT4T%2FFUAVerwmIffSJmHIVPQ3DuqXEAIwB958U3deNrOpxmzWGuy4HXKIm9leZxXpszlqpZJncDJ7ippaIch4JKXZEtx8qj3mzncAOqNG%2BnHfa6SldJf2eRNZwHraig4D43zzWxAddSE5xBejKYyU7PLn1cQ1sar2tL5gwjiPagof7JDX0d6PFXrrSbw9jZzCc857KBjqkAUpEt7CJ6z52oIER%2FBysfv8ehxpVsmfx6LHX5lRM4kHSkX2vH%2BadYV%2B7oR7Y8vbmFuBCXpx4T4s0U%2F4qA7H8zj9hg44AWpTdDzuifWL46r1gLGwYfgWnIreGIbfBQVG7KM%2F3yKQQygRk1pKzCkxDjnNvvpEh6nOtqhutezU7g3p4ivEg%2Br2JGlbFjgsvdvEcqtEVqFP0RHtwZc%2BEeJp42QHtp7PO&X-Amz-Signature=5669b8f9b74cfef35831e4f20f23ce5b3481423f32b4a8c316d41df07dfd2b2e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T4JZD5CK%2F20251221%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251221T112837Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIFB%2BGfIKKY%2F%2F7wFhWBBD%2F4WT6SjweTjjd7VOmPC%2FgnZjAiAkIbHogwPreoY%2BRUfQuR5Z%2BKkxGkRRnCznTNPtzhSOJyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMpatu4qO7ErWz6ojkKtwDnlxHcoY52D0ITEUKjBwCowRkn8C7RYkmjUp9sLXFk7Mt%2B%2BY7AUBTSNcTElkxBrT4VsyhxeJYJ8XY%2FdYUar99f%2BhwvJDeYpEm2Eox9D2QUavpiWrT%2FzeaDuBs%2F7hbI66JMF%2FjBeLKy1YPGA7BNZTT9oGq%2FmI%2FKKS7DFAQJY25xKBf3OTgR0nUKjXw8%2Bqlei5XcdhUDEudiMsGTC33bsgXAwz3BpoU3twUUv0ZCqN8L1AbhQygN9VKqJ70MO6MBiZ%2BVYGIw7VneDKIdSV0Pxq2Tf%2Fd7HR6ij87BZW%2Bs486G0D%2FAIRiNxk6vuQBCLJQ9b6aIELKEYSrU57OgWQPhXoKxR6PTtR8V7WauTiybpiEfc84OnZcDxC%2Fv043gTOUDV1t7regyd7e6RpwldMdZl1JONz87fgh3U4v5Z52mNK5EJi431I3u1BogG%2BcaeHZTz7P3SmJVhJmeyVKCLzxeLbVz%2B5xZP5U0qoDdEVc3FiGPOJMoVzXzQp3eQyJQQG750JwI%2Bi9p%2BelyjEwp%2FUrxGhJywp3gu1ZCjC%2B2KMfy2IaFDyhItyuZKSx46dPJ6Gpvoj6ABGqt2p281RSapuZ3QGylUmb%2FhUmq6ekanvBVeUCj%2BX8FlJznMHyfuhPFO8wifOeygY6pgFRQls0ZUQvqlBltQ7PItDjBxxkMsQgFRZvsVljD2Pd1lYTknAkokS80%2FhGO%2Bb3hD1wXG62lBjOcHUVYP1%2FXTLa%2FI5BuOFYZdHKZd2Ogsr8AjKzd5qj%2BHRDDHCKebtgdQT6ttxLtNA85nEqgSZE2LGE8PWs5Sgb9t6huZs4X3%2BOVb1m6bNRBLSRj9guPdWiBtNXhuDztUzpo%2BmfMyMsjPQQ5wh6%2F8sk&X-Amz-Signature=22ad0ad797e0ff9508c0686bccccacbf74ecfa991a0917005c93b0a3a0868f8a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
