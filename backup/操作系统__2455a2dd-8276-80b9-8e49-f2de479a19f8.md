
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TNN6SES3%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040546Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDHNT7MME81E94WnuR5cHq0FzmoggljMulnUIa5bB1TAgIhAMUrr1WUGJoDBO3sPBNfog%2BLIGOH4KC7tPqUljr8esrlKv8DCFwQABoMNjM3NDIzMTgzODA1IgypseKkZVEvNdsM2i0q3AMOULV2U0%2F8vlNr4odlESvK7pq1DeSvXMOUcpwRgoCEqIbNH62YKa3EnJLjUk6KvmTyfU2VkAZcveThCYqbPOue7TVX77KR1PuQHCu8MEcdNxlnq3fkEXRADza7CHoy%2FB9t88JQoX8OsZge1L8KNoFNTR%2B94P0kOlR1RiGA%2Bpc37bHCRSKlP5VZ3VcFHbgfr8o%2Fo0hpQvWeZBQf1%2BB98gisOfXo44VlZGO%2BNgEny4uBifoYuuu6%2B3UhMWk%2BBkfOa4vS0ZM5SFuGLRa8r6Af%2FwPBe2rh4bz92QFj2GTnmIbGN2wmZoCNoQXufRPvbP%2BdsaFpxUptVJbj6%2B4CAnmTaiwwGSpctZDUWEdvxnvZvbTxDel2yJwuD9M5gIOD3iE5P6elJ4AaURSHAWDVHSdQQPCev7BZNw7%2FFj%2B9QBM0ru0W8bECcEN1y3%2BJYuPyEaHCl5M7Dq%2Fg1vf214f7oL6LrEbP1mICRmMb9AvRaviXvPHR2hZJMTFd4V1TK2O40WdKBJzHU2y4jdXtgrEI6w%2FxoLD2hYRTkEo7IY4URnlbCZjDDugNfU62c%2BcbBSx4jnhQN9LaOc2VYqAgxFmAn3gAZkE3Y4VdjIuox77mewg1OK%2BqNI5k1%2BVHwzr4dcAPDTDP%2FKvLBjqkARn9NmtTnwBwrkjB0DaRUDnplP9272%2BLQ2B4iQIbRZBWIDTI0vuLAXVGd36NMgsHKzIkerH4ovSbIGH7mCKwMb02cLhUq2To3mP9b%2B84WA0YwUqElZaGLNXyOHKdi%2FZ67a2Oht9fyXL4U3pp8rxVl9kbLjTBb%2B%2BDvGb%2B0%2BjsSbyP7thD953KOt4BGLBBAntW8m3YWZOR0Nu%2BdREQOh05xDm8wFiC&X-Amz-Signature=9b76f9c9f5d851d8c407ba49ceeabbec9530cff5db4fb6182717d4101e9aed3c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TNN6SES3%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040546Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDHNT7MME81E94WnuR5cHq0FzmoggljMulnUIa5bB1TAgIhAMUrr1WUGJoDBO3sPBNfog%2BLIGOH4KC7tPqUljr8esrlKv8DCFwQABoMNjM3NDIzMTgzODA1IgypseKkZVEvNdsM2i0q3AMOULV2U0%2F8vlNr4odlESvK7pq1DeSvXMOUcpwRgoCEqIbNH62YKa3EnJLjUk6KvmTyfU2VkAZcveThCYqbPOue7TVX77KR1PuQHCu8MEcdNxlnq3fkEXRADza7CHoy%2FB9t88JQoX8OsZge1L8KNoFNTR%2B94P0kOlR1RiGA%2Bpc37bHCRSKlP5VZ3VcFHbgfr8o%2Fo0hpQvWeZBQf1%2BB98gisOfXo44VlZGO%2BNgEny4uBifoYuuu6%2B3UhMWk%2BBkfOa4vS0ZM5SFuGLRa8r6Af%2FwPBe2rh4bz92QFj2GTnmIbGN2wmZoCNoQXufRPvbP%2BdsaFpxUptVJbj6%2B4CAnmTaiwwGSpctZDUWEdvxnvZvbTxDel2yJwuD9M5gIOD3iE5P6elJ4AaURSHAWDVHSdQQPCev7BZNw7%2FFj%2B9QBM0ru0W8bECcEN1y3%2BJYuPyEaHCl5M7Dq%2Fg1vf214f7oL6LrEbP1mICRmMb9AvRaviXvPHR2hZJMTFd4V1TK2O40WdKBJzHU2y4jdXtgrEI6w%2FxoLD2hYRTkEo7IY4URnlbCZjDDugNfU62c%2BcbBSx4jnhQN9LaOc2VYqAgxFmAn3gAZkE3Y4VdjIuox77mewg1OK%2BqNI5k1%2BVHwzr4dcAPDTDP%2FKvLBjqkARn9NmtTnwBwrkjB0DaRUDnplP9272%2BLQ2B4iQIbRZBWIDTI0vuLAXVGd36NMgsHKzIkerH4ovSbIGH7mCKwMb02cLhUq2To3mP9b%2B84WA0YwUqElZaGLNXyOHKdi%2FZ67a2Oht9fyXL4U3pp8rxVl9kbLjTBb%2B%2BDvGb%2B0%2BjsSbyP7thD953KOt4BGLBBAntW8m3YWZOR0Nu%2BdREQOh05xDm8wFiC&X-Amz-Signature=d740ea1bfbcc5f01c8d1db3372c0c1fe5c7248966d60a81d0730d95c1db93284&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TNN6SES3%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040546Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDHNT7MME81E94WnuR5cHq0FzmoggljMulnUIa5bB1TAgIhAMUrr1WUGJoDBO3sPBNfog%2BLIGOH4KC7tPqUljr8esrlKv8DCFwQABoMNjM3NDIzMTgzODA1IgypseKkZVEvNdsM2i0q3AMOULV2U0%2F8vlNr4odlESvK7pq1DeSvXMOUcpwRgoCEqIbNH62YKa3EnJLjUk6KvmTyfU2VkAZcveThCYqbPOue7TVX77KR1PuQHCu8MEcdNxlnq3fkEXRADza7CHoy%2FB9t88JQoX8OsZge1L8KNoFNTR%2B94P0kOlR1RiGA%2Bpc37bHCRSKlP5VZ3VcFHbgfr8o%2Fo0hpQvWeZBQf1%2BB98gisOfXo44VlZGO%2BNgEny4uBifoYuuu6%2B3UhMWk%2BBkfOa4vS0ZM5SFuGLRa8r6Af%2FwPBe2rh4bz92QFj2GTnmIbGN2wmZoCNoQXufRPvbP%2BdsaFpxUptVJbj6%2B4CAnmTaiwwGSpctZDUWEdvxnvZvbTxDel2yJwuD9M5gIOD3iE5P6elJ4AaURSHAWDVHSdQQPCev7BZNw7%2FFj%2B9QBM0ru0W8bECcEN1y3%2BJYuPyEaHCl5M7Dq%2Fg1vf214f7oL6LrEbP1mICRmMb9AvRaviXvPHR2hZJMTFd4V1TK2O40WdKBJzHU2y4jdXtgrEI6w%2FxoLD2hYRTkEo7IY4URnlbCZjDDugNfU62c%2BcbBSx4jnhQN9LaOc2VYqAgxFmAn3gAZkE3Y4VdjIuox77mewg1OK%2BqNI5k1%2BVHwzr4dcAPDTDP%2FKvLBjqkARn9NmtTnwBwrkjB0DaRUDnplP9272%2BLQ2B4iQIbRZBWIDTI0vuLAXVGd36NMgsHKzIkerH4ovSbIGH7mCKwMb02cLhUq2To3mP9b%2B84WA0YwUqElZaGLNXyOHKdi%2FZ67a2Oht9fyXL4U3pp8rxVl9kbLjTBb%2B%2BDvGb%2B0%2BjsSbyP7thD953KOt4BGLBBAntW8m3YWZOR0Nu%2BdREQOh05xDm8wFiC&X-Amz-Signature=5d7cc94652f444a626b9483f3d920ec7903c0113e4c7348cd6576db56d7eb48d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46643QCRGLK%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040547Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC3k5n6Txstqf2faBrV5ukglzbIsJ90rES1jgIeFRT3HgIgMd0S%2BRpJnlr1bOtobtNlihO3dbkkkFQMEExtm52BN2sq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDNKQDwY8j7oMHEGInSrcA4n3%2BIUzRQdaW6vG4O1ptUOoamCJ%2BJed1%2BMSImjchbGQ4resxsPQszKznSz9WSjtJZJZhDZHr9aEC%2FV5TUERNmA4QgRueafv9s9xxO5%2FR4VMcdITdtdwucRxz%2FCh3qQw5Icn7rmCgdcvXkWJueCQ5y39G9YmxBeII6V%2FOzvFAiVvftM8wS8Jdevf8DeHKJ%2B20X8oRUE1fWTWuwbKk7jUH0g%2FtBB8xbrSrG8XI1Sw3U7MleBXhgaFMfvJTphWfCMDKQdzwuv9thkQQC6K6t%2FKYcUVxSwbHwf%2F9lqKNx4z9hmIpLll4H9ZP6cJR7IT0xeBTzCkLNsN%2Bj5AJ2aJDybpU4Tpgj%2FdReGMuynfClLVDEnMCplEcVk%2FH9ZIdGXfG8s0%2BNEQ5Km1828Hzjf5gcP2ESKHZ7qVCdTD5Jm40f%2Bi%2FNtp%2BOk3v9s%2Fu3yji1UXml7y5tuX44W3unG2QLmL9%2BCgtrTY5TwvLrANBOs5U6EaO29kgFdpPc%2BKxYuEyoOox7RXQ2v4mAU8mSxffjJ%2B4ELdWmdY%2FPcI6rT8ljx2Az3N7JlgiOkOZ4KnMHLINs9Ql9B192cDuDbAx2zZDbUUkpgPSX81vv%2F4Zmi4%2F9O8pg9omlwIbdlPdWtaEa5sYUC3MLD8q8sGOqUBQqJseqCIWh4MGiU4xTIWsfjS0euFJDV0ru%2FPurbgZtaJzKn9uVq%2BRYUBEyLSrl8e8RyI8qaDhV0hK4yW7v0y%2BjjXPKsW2QrVu%2BSeN0BXVULphzlyIzWoOOCt90kN44v4VpBZbSwMBjjJMOFxniSlmkkAqSOTZ7JbrAuYhuJ1VF%2BO9HGRv%2Fusrp8XL1BEP62tKvnCiTXigvn6JC3BY2N%2FlRYOMQac&X-Amz-Signature=224793378ead00ed1fba12c2dd9d9955398720188edf6f91cbb12423ca667132&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46643QCRGLK%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040547Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC3k5n6Txstqf2faBrV5ukglzbIsJ90rES1jgIeFRT3HgIgMd0S%2BRpJnlr1bOtobtNlihO3dbkkkFQMEExtm52BN2sq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDNKQDwY8j7oMHEGInSrcA4n3%2BIUzRQdaW6vG4O1ptUOoamCJ%2BJed1%2BMSImjchbGQ4resxsPQszKznSz9WSjtJZJZhDZHr9aEC%2FV5TUERNmA4QgRueafv9s9xxO5%2FR4VMcdITdtdwucRxz%2FCh3qQw5Icn7rmCgdcvXkWJueCQ5y39G9YmxBeII6V%2FOzvFAiVvftM8wS8Jdevf8DeHKJ%2B20X8oRUE1fWTWuwbKk7jUH0g%2FtBB8xbrSrG8XI1Sw3U7MleBXhgaFMfvJTphWfCMDKQdzwuv9thkQQC6K6t%2FKYcUVxSwbHwf%2F9lqKNx4z9hmIpLll4H9ZP6cJR7IT0xeBTzCkLNsN%2Bj5AJ2aJDybpU4Tpgj%2FdReGMuynfClLVDEnMCplEcVk%2FH9ZIdGXfG8s0%2BNEQ5Km1828Hzjf5gcP2ESKHZ7qVCdTD5Jm40f%2Bi%2FNtp%2BOk3v9s%2Fu3yji1UXml7y5tuX44W3unG2QLmL9%2BCgtrTY5TwvLrANBOs5U6EaO29kgFdpPc%2BKxYuEyoOox7RXQ2v4mAU8mSxffjJ%2B4ELdWmdY%2FPcI6rT8ljx2Az3N7JlgiOkOZ4KnMHLINs9Ql9B192cDuDbAx2zZDbUUkpgPSX81vv%2F4Zmi4%2F9O8pg9omlwIbdlPdWtaEa5sYUC3MLD8q8sGOqUBQqJseqCIWh4MGiU4xTIWsfjS0euFJDV0ru%2FPurbgZtaJzKn9uVq%2BRYUBEyLSrl8e8RyI8qaDhV0hK4yW7v0y%2BjjXPKsW2QrVu%2BSeN0BXVULphzlyIzWoOOCt90kN44v4VpBZbSwMBjjJMOFxniSlmkkAqSOTZ7JbrAuYhuJ1VF%2BO9HGRv%2Fusrp8XL1BEP62tKvnCiTXigvn6JC3BY2N%2FlRYOMQac&X-Amz-Signature=057b40b33a5ebf1da75cbff1347af93ab0348bbdfc370f1a93d69ffe3c52a9f6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46643QCRGLK%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040547Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC3k5n6Txstqf2faBrV5ukglzbIsJ90rES1jgIeFRT3HgIgMd0S%2BRpJnlr1bOtobtNlihO3dbkkkFQMEExtm52BN2sq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDNKQDwY8j7oMHEGInSrcA4n3%2BIUzRQdaW6vG4O1ptUOoamCJ%2BJed1%2BMSImjchbGQ4resxsPQszKznSz9WSjtJZJZhDZHr9aEC%2FV5TUERNmA4QgRueafv9s9xxO5%2FR4VMcdITdtdwucRxz%2FCh3qQw5Icn7rmCgdcvXkWJueCQ5y39G9YmxBeII6V%2FOzvFAiVvftM8wS8Jdevf8DeHKJ%2B20X8oRUE1fWTWuwbKk7jUH0g%2FtBB8xbrSrG8XI1Sw3U7MleBXhgaFMfvJTphWfCMDKQdzwuv9thkQQC6K6t%2FKYcUVxSwbHwf%2F9lqKNx4z9hmIpLll4H9ZP6cJR7IT0xeBTzCkLNsN%2Bj5AJ2aJDybpU4Tpgj%2FdReGMuynfClLVDEnMCplEcVk%2FH9ZIdGXfG8s0%2BNEQ5Km1828Hzjf5gcP2ESKHZ7qVCdTD5Jm40f%2Bi%2FNtp%2BOk3v9s%2Fu3yji1UXml7y5tuX44W3unG2QLmL9%2BCgtrTY5TwvLrANBOs5U6EaO29kgFdpPc%2BKxYuEyoOox7RXQ2v4mAU8mSxffjJ%2B4ELdWmdY%2FPcI6rT8ljx2Az3N7JlgiOkOZ4KnMHLINs9Ql9B192cDuDbAx2zZDbUUkpgPSX81vv%2F4Zmi4%2F9O8pg9omlwIbdlPdWtaEa5sYUC3MLD8q8sGOqUBQqJseqCIWh4MGiU4xTIWsfjS0euFJDV0ru%2FPurbgZtaJzKn9uVq%2BRYUBEyLSrl8e8RyI8qaDhV0hK4yW7v0y%2BjjXPKsW2QrVu%2BSeN0BXVULphzlyIzWoOOCt90kN44v4VpBZbSwMBjjJMOFxniSlmkkAqSOTZ7JbrAuYhuJ1VF%2BO9HGRv%2Fusrp8XL1BEP62tKvnCiTXigvn6JC3BY2N%2FlRYOMQac&X-Amz-Signature=e84e72d8e74642b732b67363619452848bc5806bda74beab2d520f940d2e297c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VB5KZYVK%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040547Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIADAB3hHsc%2BzpSOASuQLF%2Bh5gQZ7lVugCL4Qoc9PsNWTAiBAB4FrAqUKi9rxsIq%2F8c1EoCjLDboZWevfC0lygfKf6Sr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMgmIKgkvE1xmva%2FokKtwDl1HGWEyzqZI26Ao7y%2BlYeqtj%2B3UE3TXNzGH9Fjp%2BvE84zcrejYn1LGTSWzI5PVw3xBKlQTZgId5Zd7lI7vJRhdoJ9jRsw3%2BnbvTB1VftwTiEvdO8qLKnBkdIuVbuTPhgZu1%2BXvGtyr1mg6NztgvFAmgRxMpX6cHeodMeGkhzUVNBwDOiPNNhPRU47ojsQcRvsOACbHThScMf9QZNRU1CGrKBS1Z0rwOWj6LID2GjrRnT8JeZgRfLXF7Zag6WA9FqSPkszGpK%2Bsyzc91Rl12rs9u8GRB3%2FB%2FmY7UmZTjvTHk1vgode7HlmDexLRelDkccEBzpqFYzdIsbcBK7M7yVi1wLOjzktXeab0kcvy273GwRDPGD6J%2FUbaDLbQqJ%2B6HVt14FJoUiwxBswzLZ5DZancMcII2lFJ2L7l1vTStyc9rbvZLafyjrQqlqsdzWrEvM4iuVP3aGqJzL2WGS1HH76a9PYP2obU7aJ7DOS5J8nVZZP4Tg84l1NjmRp2DtKAzHFwx4qcjg14QSARFi3QRUXNph%2FJEMXWgeLOAhHQ%2BuCQkvkPyrBdu2DY%2FmwoqQqDuFprGyVdLkcVegkLUULgjwSC7anLlvh2heJb6pj2hRtt7eaCYFQ5nsrT6j2scw1vyrywY6pgE5sql1O6TiN%2Bpk2tamjzbDYxsbzwHBrFyFFdxg7ZMXkgotqHuz73DKwsnpdw4WNYkKwzum5%2FOesg3SB7FT5tUeBsTPwfxyldCycwdDJzfNIQSBf%2Bn0uNMs4cEVhV4EPeSGoj8zRXoQ4g%2FiIB%2F3wGP%2BbSP6cdDoJXpHH2HfFs%2F9XmSW9hQArneg%2FvAwyxewzFhGgDN8%2BWKWuOM6sndwZ1Mkvx7jrQii&X-Amz-Signature=aa985fea95d6c7ea3a88e5a6ee38f4acbcc7e6297829fd6fd5c09b122a8c2221&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VB5KZYVK%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040547Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIADAB3hHsc%2BzpSOASuQLF%2Bh5gQZ7lVugCL4Qoc9PsNWTAiBAB4FrAqUKi9rxsIq%2F8c1EoCjLDboZWevfC0lygfKf6Sr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMgmIKgkvE1xmva%2FokKtwDl1HGWEyzqZI26Ao7y%2BlYeqtj%2B3UE3TXNzGH9Fjp%2BvE84zcrejYn1LGTSWzI5PVw3xBKlQTZgId5Zd7lI7vJRhdoJ9jRsw3%2BnbvTB1VftwTiEvdO8qLKnBkdIuVbuTPhgZu1%2BXvGtyr1mg6NztgvFAmgRxMpX6cHeodMeGkhzUVNBwDOiPNNhPRU47ojsQcRvsOACbHThScMf9QZNRU1CGrKBS1Z0rwOWj6LID2GjrRnT8JeZgRfLXF7Zag6WA9FqSPkszGpK%2Bsyzc91Rl12rs9u8GRB3%2FB%2FmY7UmZTjvTHk1vgode7HlmDexLRelDkccEBzpqFYzdIsbcBK7M7yVi1wLOjzktXeab0kcvy273GwRDPGD6J%2FUbaDLbQqJ%2B6HVt14FJoUiwxBswzLZ5DZancMcII2lFJ2L7l1vTStyc9rbvZLafyjrQqlqsdzWrEvM4iuVP3aGqJzL2WGS1HH76a9PYP2obU7aJ7DOS5J8nVZZP4Tg84l1NjmRp2DtKAzHFwx4qcjg14QSARFi3QRUXNph%2FJEMXWgeLOAhHQ%2BuCQkvkPyrBdu2DY%2FmwoqQqDuFprGyVdLkcVegkLUULgjwSC7anLlvh2heJb6pj2hRtt7eaCYFQ5nsrT6j2scw1vyrywY6pgE5sql1O6TiN%2Bpk2tamjzbDYxsbzwHBrFyFFdxg7ZMXkgotqHuz73DKwsnpdw4WNYkKwzum5%2FOesg3SB7FT5tUeBsTPwfxyldCycwdDJzfNIQSBf%2Bn0uNMs4cEVhV4EPeSGoj8zRXoQ4g%2FiIB%2F3wGP%2BbSP6cdDoJXpHH2HfFs%2F9XmSW9hQArneg%2FvAwyxewzFhGgDN8%2BWKWuOM6sndwZ1Mkvx7jrQii&X-Amz-Signature=30ca215556b27ad8eff4da65ccccd154821e77555e627bd01c0811442d0f1952&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VB5KZYVK%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040547Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIADAB3hHsc%2BzpSOASuQLF%2Bh5gQZ7lVugCL4Qoc9PsNWTAiBAB4FrAqUKi9rxsIq%2F8c1EoCjLDboZWevfC0lygfKf6Sr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMgmIKgkvE1xmva%2FokKtwDl1HGWEyzqZI26Ao7y%2BlYeqtj%2B3UE3TXNzGH9Fjp%2BvE84zcrejYn1LGTSWzI5PVw3xBKlQTZgId5Zd7lI7vJRhdoJ9jRsw3%2BnbvTB1VftwTiEvdO8qLKnBkdIuVbuTPhgZu1%2BXvGtyr1mg6NztgvFAmgRxMpX6cHeodMeGkhzUVNBwDOiPNNhPRU47ojsQcRvsOACbHThScMf9QZNRU1CGrKBS1Z0rwOWj6LID2GjrRnT8JeZgRfLXF7Zag6WA9FqSPkszGpK%2Bsyzc91Rl12rs9u8GRB3%2FB%2FmY7UmZTjvTHk1vgode7HlmDexLRelDkccEBzpqFYzdIsbcBK7M7yVi1wLOjzktXeab0kcvy273GwRDPGD6J%2FUbaDLbQqJ%2B6HVt14FJoUiwxBswzLZ5DZancMcII2lFJ2L7l1vTStyc9rbvZLafyjrQqlqsdzWrEvM4iuVP3aGqJzL2WGS1HH76a9PYP2obU7aJ7DOS5J8nVZZP4Tg84l1NjmRp2DtKAzHFwx4qcjg14QSARFi3QRUXNph%2FJEMXWgeLOAhHQ%2BuCQkvkPyrBdu2DY%2FmwoqQqDuFprGyVdLkcVegkLUULgjwSC7anLlvh2heJb6pj2hRtt7eaCYFQ5nsrT6j2scw1vyrywY6pgE5sql1O6TiN%2Bpk2tamjzbDYxsbzwHBrFyFFdxg7ZMXkgotqHuz73DKwsnpdw4WNYkKwzum5%2FOesg3SB7FT5tUeBsTPwfxyldCycwdDJzfNIQSBf%2Bn0uNMs4cEVhV4EPeSGoj8zRXoQ4g%2FiIB%2F3wGP%2BbSP6cdDoJXpHH2HfFs%2F9XmSW9hQArneg%2FvAwyxewzFhGgDN8%2BWKWuOM6sndwZ1Mkvx7jrQii&X-Amz-Signature=6ae753f2f14ff85ef3a4ffacccf4821c0cc5d474aec62279ec2e709d65d17e73&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VB5KZYVK%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040547Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIADAB3hHsc%2BzpSOASuQLF%2Bh5gQZ7lVugCL4Qoc9PsNWTAiBAB4FrAqUKi9rxsIq%2F8c1EoCjLDboZWevfC0lygfKf6Sr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMgmIKgkvE1xmva%2FokKtwDl1HGWEyzqZI26Ao7y%2BlYeqtj%2B3UE3TXNzGH9Fjp%2BvE84zcrejYn1LGTSWzI5PVw3xBKlQTZgId5Zd7lI7vJRhdoJ9jRsw3%2BnbvTB1VftwTiEvdO8qLKnBkdIuVbuTPhgZu1%2BXvGtyr1mg6NztgvFAmgRxMpX6cHeodMeGkhzUVNBwDOiPNNhPRU47ojsQcRvsOACbHThScMf9QZNRU1CGrKBS1Z0rwOWj6LID2GjrRnT8JeZgRfLXF7Zag6WA9FqSPkszGpK%2Bsyzc91Rl12rs9u8GRB3%2FB%2FmY7UmZTjvTHk1vgode7HlmDexLRelDkccEBzpqFYzdIsbcBK7M7yVi1wLOjzktXeab0kcvy273GwRDPGD6J%2FUbaDLbQqJ%2B6HVt14FJoUiwxBswzLZ5DZancMcII2lFJ2L7l1vTStyc9rbvZLafyjrQqlqsdzWrEvM4iuVP3aGqJzL2WGS1HH76a9PYP2obU7aJ7DOS5J8nVZZP4Tg84l1NjmRp2DtKAzHFwx4qcjg14QSARFi3QRUXNph%2FJEMXWgeLOAhHQ%2BuCQkvkPyrBdu2DY%2FmwoqQqDuFprGyVdLkcVegkLUULgjwSC7anLlvh2heJb6pj2hRtt7eaCYFQ5nsrT6j2scw1vyrywY6pgE5sql1O6TiN%2Bpk2tamjzbDYxsbzwHBrFyFFdxg7ZMXkgotqHuz73DKwsnpdw4WNYkKwzum5%2FOesg3SB7FT5tUeBsTPwfxyldCycwdDJzfNIQSBf%2Bn0uNMs4cEVhV4EPeSGoj8zRXoQ4g%2FiIB%2F3wGP%2BbSP6cdDoJXpHH2HfFs%2F9XmSW9hQArneg%2FvAwyxewzFhGgDN8%2BWKWuOM6sndwZ1Mkvx7jrQii&X-Amz-Signature=773336a8309e7cbb382873e51b61a2eb3fc2d2b27ae433854f198bcd2349c181&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666LV4PEDM%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHCGB4KqNgxjL6a1i5cqL9YPL9fCzJjtU39Gg7g16ckWAiBpOn%2FtFfcEtQA2ql6YLXRe8q6qoSzrlx7FN1igbDX3cCr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMzb9sYQqiFTQN7uMDKtwDErobuHRKTMn3OZ%2FyQkJmvdAAMqY%2FOLt%2FBRemOsUUaVRmw6gBH224daOqlW421sM83IE%2Bn3rZEUaV8apTyDjXX5aWvCKr7WFeuAVHy1hJp0VRZSVaur7Ao7tKnvKb%2FRUqBxADGaRJqmT%2Bz4Gv38UXXkteys1a48Ce4rroB2yQiOzSxcaCXBOalof8SgEgx%2FwTkchqKRKjvJIE%2Bzrca0L6J4Pj1Y3ebg64ZBf5mB7%2BejB2p59JGYePMLAtZHThTV3E4Y5oOgyqgkmOkTaIAcAId8TV9HfoTXkGEt6wZgpkhcff3ub4MN6l4gb1nul4wAnoKYE%2FqIOCf9SV6hL1DzMbFqkpVWQaMLimmae9vYE4tlC%2BfRRHqgaiCURI6T9QxiZpiajxe4ux7YQAMcVEHhafRbHuPda%2FxuI%2B%2FJwbTtNsLS1xPQwIyJCK6cdfri0fHMnXKtnebAnyhV5Swsbdnc05unk4wplctEWitr7yz7QZGNGVN%2FkQqkmwpO1y02HKvIAv%2B0G64kH3WeRQ7Qdnn4AzQdTAN5jYDsTtnAIMOIAdXm5lhXziF0dlMdKtnPNJqCg%2Fbw%2F%2FXdrrMA%2BIHDjt5QO0hhfvvCLVEfWbt2rW6ZN%2B9jfMWkbYkaYnOHNr%2B0AwxvyrywY6pgHaD8x6YZNppFbr8efEKjz%2FAQh%2BR5CBCOt47GhfTTcZpudj3Kfo2%2F4FZoU5q7fLystmfPJCYP3w%2BwQcNuEheCC%2BKxE%2F9M3ukNpm4ierVkgl1ZM5YLZo2fLEbWPmmK%2FHl93r1cSnR1NVBVlr%2FnExN61IiEfHHz9MCWHkULyk4wBNdBzPDBgs0XKXnjSAkyPNFlDNFapQ9i%2Fak5Vh4gWSi5F%2FYT0%2BDP26&X-Amz-Signature=33809d31b58d71b6938419e19a73345c513e21e298aaa6e08aaeb9043626e382&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666LV4PEDM%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHCGB4KqNgxjL6a1i5cqL9YPL9fCzJjtU39Gg7g16ckWAiBpOn%2FtFfcEtQA2ql6YLXRe8q6qoSzrlx7FN1igbDX3cCr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMzb9sYQqiFTQN7uMDKtwDErobuHRKTMn3OZ%2FyQkJmvdAAMqY%2FOLt%2FBRemOsUUaVRmw6gBH224daOqlW421sM83IE%2Bn3rZEUaV8apTyDjXX5aWvCKr7WFeuAVHy1hJp0VRZSVaur7Ao7tKnvKb%2FRUqBxADGaRJqmT%2Bz4Gv38UXXkteys1a48Ce4rroB2yQiOzSxcaCXBOalof8SgEgx%2FwTkchqKRKjvJIE%2Bzrca0L6J4Pj1Y3ebg64ZBf5mB7%2BejB2p59JGYePMLAtZHThTV3E4Y5oOgyqgkmOkTaIAcAId8TV9HfoTXkGEt6wZgpkhcff3ub4MN6l4gb1nul4wAnoKYE%2FqIOCf9SV6hL1DzMbFqkpVWQaMLimmae9vYE4tlC%2BfRRHqgaiCURI6T9QxiZpiajxe4ux7YQAMcVEHhafRbHuPda%2FxuI%2B%2FJwbTtNsLS1xPQwIyJCK6cdfri0fHMnXKtnebAnyhV5Swsbdnc05unk4wplctEWitr7yz7QZGNGVN%2FkQqkmwpO1y02HKvIAv%2B0G64kH3WeRQ7Qdnn4AzQdTAN5jYDsTtnAIMOIAdXm5lhXziF0dlMdKtnPNJqCg%2Fbw%2F%2FXdrrMA%2BIHDjt5QO0hhfvvCLVEfWbt2rW6ZN%2B9jfMWkbYkaYnOHNr%2B0AwxvyrywY6pgHaD8x6YZNppFbr8efEKjz%2FAQh%2BR5CBCOt47GhfTTcZpudj3Kfo2%2F4FZoU5q7fLystmfPJCYP3w%2BwQcNuEheCC%2BKxE%2F9M3ukNpm4ierVkgl1ZM5YLZo2fLEbWPmmK%2FHl93r1cSnR1NVBVlr%2FnExN61IiEfHHz9MCWHkULyk4wBNdBzPDBgs0XKXnjSAkyPNFlDNFapQ9i%2Fak5Vh4gWSi5F%2FYT0%2BDP26&X-Amz-Signature=29656e2b2bab6e4d621c05f5692664ed6190d48278cf9ef0f226e135f63299be&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666LV4PEDM%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHCGB4KqNgxjL6a1i5cqL9YPL9fCzJjtU39Gg7g16ckWAiBpOn%2FtFfcEtQA2ql6YLXRe8q6qoSzrlx7FN1igbDX3cCr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMzb9sYQqiFTQN7uMDKtwDErobuHRKTMn3OZ%2FyQkJmvdAAMqY%2FOLt%2FBRemOsUUaVRmw6gBH224daOqlW421sM83IE%2Bn3rZEUaV8apTyDjXX5aWvCKr7WFeuAVHy1hJp0VRZSVaur7Ao7tKnvKb%2FRUqBxADGaRJqmT%2Bz4Gv38UXXkteys1a48Ce4rroB2yQiOzSxcaCXBOalof8SgEgx%2FwTkchqKRKjvJIE%2Bzrca0L6J4Pj1Y3ebg64ZBf5mB7%2BejB2p59JGYePMLAtZHThTV3E4Y5oOgyqgkmOkTaIAcAId8TV9HfoTXkGEt6wZgpkhcff3ub4MN6l4gb1nul4wAnoKYE%2FqIOCf9SV6hL1DzMbFqkpVWQaMLimmae9vYE4tlC%2BfRRHqgaiCURI6T9QxiZpiajxe4ux7YQAMcVEHhafRbHuPda%2FxuI%2B%2FJwbTtNsLS1xPQwIyJCK6cdfri0fHMnXKtnebAnyhV5Swsbdnc05unk4wplctEWitr7yz7QZGNGVN%2FkQqkmwpO1y02HKvIAv%2B0G64kH3WeRQ7Qdnn4AzQdTAN5jYDsTtnAIMOIAdXm5lhXziF0dlMdKtnPNJqCg%2Fbw%2F%2FXdrrMA%2BIHDjt5QO0hhfvvCLVEfWbt2rW6ZN%2B9jfMWkbYkaYnOHNr%2B0AwxvyrywY6pgHaD8x6YZNppFbr8efEKjz%2FAQh%2BR5CBCOt47GhfTTcZpudj3Kfo2%2F4FZoU5q7fLystmfPJCYP3w%2BwQcNuEheCC%2BKxE%2F9M3ukNpm4ierVkgl1ZM5YLZo2fLEbWPmmK%2FHl93r1cSnR1NVBVlr%2FnExN61IiEfHHz9MCWHkULyk4wBNdBzPDBgs0XKXnjSAkyPNFlDNFapQ9i%2Fak5Vh4gWSi5F%2FYT0%2BDP26&X-Amz-Signature=8c0fbfbdfe30e0f0417b399b558787c1d60ca3f2fc23fff288ed2c4204afbc41&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666LV4PEDM%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHCGB4KqNgxjL6a1i5cqL9YPL9fCzJjtU39Gg7g16ckWAiBpOn%2FtFfcEtQA2ql6YLXRe8q6qoSzrlx7FN1igbDX3cCr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMzb9sYQqiFTQN7uMDKtwDErobuHRKTMn3OZ%2FyQkJmvdAAMqY%2FOLt%2FBRemOsUUaVRmw6gBH224daOqlW421sM83IE%2Bn3rZEUaV8apTyDjXX5aWvCKr7WFeuAVHy1hJp0VRZSVaur7Ao7tKnvKb%2FRUqBxADGaRJqmT%2Bz4Gv38UXXkteys1a48Ce4rroB2yQiOzSxcaCXBOalof8SgEgx%2FwTkchqKRKjvJIE%2Bzrca0L6J4Pj1Y3ebg64ZBf5mB7%2BejB2p59JGYePMLAtZHThTV3E4Y5oOgyqgkmOkTaIAcAId8TV9HfoTXkGEt6wZgpkhcff3ub4MN6l4gb1nul4wAnoKYE%2FqIOCf9SV6hL1DzMbFqkpVWQaMLimmae9vYE4tlC%2BfRRHqgaiCURI6T9QxiZpiajxe4ux7YQAMcVEHhafRbHuPda%2FxuI%2B%2FJwbTtNsLS1xPQwIyJCK6cdfri0fHMnXKtnebAnyhV5Swsbdnc05unk4wplctEWitr7yz7QZGNGVN%2FkQqkmwpO1y02HKvIAv%2B0G64kH3WeRQ7Qdnn4AzQdTAN5jYDsTtnAIMOIAdXm5lhXziF0dlMdKtnPNJqCg%2Fbw%2F%2FXdrrMA%2BIHDjt5QO0hhfvvCLVEfWbt2rW6ZN%2B9jfMWkbYkaYnOHNr%2B0AwxvyrywY6pgHaD8x6YZNppFbr8efEKjz%2FAQh%2BR5CBCOt47GhfTTcZpudj3Kfo2%2F4FZoU5q7fLystmfPJCYP3w%2BwQcNuEheCC%2BKxE%2F9M3ukNpm4ierVkgl1ZM5YLZo2fLEbWPmmK%2FHl93r1cSnR1NVBVlr%2FnExN61IiEfHHz9MCWHkULyk4wBNdBzPDBgs0XKXnjSAkyPNFlDNFapQ9i%2Fak5Vh4gWSi5F%2FYT0%2BDP26&X-Amz-Signature=b4359658713e38cb834f0e82164cb0870d26d5c4f54a492129ccc7516ba74349&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664WIDH4E5%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAGMLLRwquJmevikPqZrABIqgjFTI7h7JM00IhhJNL9zAiEAsrzZj%2BRFZFYd%2BJR27BcdLNIHmlw3PsBz0NGuzpyFzVUq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDFUbkSZzg%2BG0DCsN5CrcAzk7VZyqGDsInVMWlX0arbj9%2BkHBt2nBHPJLHnOsjxqFDmn87i3dBDH77GjfB9MdHb5tTW9O73%2B4PNSpgNxWQL49GIqDZaxsLhzOpPzN6sW9I6hbTXDio2mI88Mc1u7w9oyT%2FG8m1EPhXyrm1mF6j3NxIxqFF573feB5UemhzIDr8zeah568QR0Bl88R%2BbN1bIk%2BWCn2MULS%2FqVuCWAAfGoY7bXX6wn5NQmr63LYVhW78DlP5lLRkeSlld69fc1tVKKGVtNgsB7ydmaI%2FqBkMQGjP9qCGp4WLENusqC2DUGwzvtEAtQnsnE%2BOYav7gr%2BJUENhcZUeSZsbMIh7cZZ7%2B8ax1q0Q5XZ%2BnDldvuRiGHYOm643zK0DTwVCNjDqXIUd079LGl23N09VSxeUFOC15eUc2kVJd5kWyYIqeLOCq84fPgiVzZrOYPsr%2B1gNdTg2ifBs62SqpFLIXzkjAVUfK7g5p7EIiazUX8L2UnsiVQlhc3ALS2qIIRO%2BkYT5egib%2FEUaToOtbri1A830ydbDHKBRvlQo14E93%2BMEpLusfRpF92IR5ZceRePFaJKw2RxbTfwLMJ3otDb5GAp8mJOP%2Bvayb2R%2FQgF%2FwdPczfsvr1uVDLh7dxebEciYuhxMJr7q8sGOqUBnG4Y9%2FsKHiIAPl%2BheX7j2ppgKx6jqTVE9DjmBD2Nc6Q2PwD664mTfhNDcXNuANaZPCydAV1ljo%2FYS68D9BQj%2BlgIkjTkBfsbm%2FBi8W4yRbNniEL6feNPUCFaOd%2FIG9gedxUrSy72fAvn7nKL6B2h4TA1GRJAWfRwZqNvpqRpC7G8Hoa49TC7fHvbD1gdT8E9L6VIBRSh2NSw7JXd8ANahxXKItBD&X-Amz-Signature=a6134592a49c0dc142b2e4fde1d50c48aa05ab0b3a69c00016604bae5b04de57&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664WIDH4E5%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAGMLLRwquJmevikPqZrABIqgjFTI7h7JM00IhhJNL9zAiEAsrzZj%2BRFZFYd%2BJR27BcdLNIHmlw3PsBz0NGuzpyFzVUq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDFUbkSZzg%2BG0DCsN5CrcAzk7VZyqGDsInVMWlX0arbj9%2BkHBt2nBHPJLHnOsjxqFDmn87i3dBDH77GjfB9MdHb5tTW9O73%2B4PNSpgNxWQL49GIqDZaxsLhzOpPzN6sW9I6hbTXDio2mI88Mc1u7w9oyT%2FG8m1EPhXyrm1mF6j3NxIxqFF573feB5UemhzIDr8zeah568QR0Bl88R%2BbN1bIk%2BWCn2MULS%2FqVuCWAAfGoY7bXX6wn5NQmr63LYVhW78DlP5lLRkeSlld69fc1tVKKGVtNgsB7ydmaI%2FqBkMQGjP9qCGp4WLENusqC2DUGwzvtEAtQnsnE%2BOYav7gr%2BJUENhcZUeSZsbMIh7cZZ7%2B8ax1q0Q5XZ%2BnDldvuRiGHYOm643zK0DTwVCNjDqXIUd079LGl23N09VSxeUFOC15eUc2kVJd5kWyYIqeLOCq84fPgiVzZrOYPsr%2B1gNdTg2ifBs62SqpFLIXzkjAVUfK7g5p7EIiazUX8L2UnsiVQlhc3ALS2qIIRO%2BkYT5egib%2FEUaToOtbri1A830ydbDHKBRvlQo14E93%2BMEpLusfRpF92IR5ZceRePFaJKw2RxbTfwLMJ3otDb5GAp8mJOP%2Bvayb2R%2FQgF%2FwdPczfsvr1uVDLh7dxebEciYuhxMJr7q8sGOqUBnG4Y9%2FsKHiIAPl%2BheX7j2ppgKx6jqTVE9DjmBD2Nc6Q2PwD664mTfhNDcXNuANaZPCydAV1ljo%2FYS68D9BQj%2BlgIkjTkBfsbm%2FBi8W4yRbNniEL6feNPUCFaOd%2FIG9gedxUrSy72fAvn7nKL6B2h4TA1GRJAWfRwZqNvpqRpC7G8Hoa49TC7fHvbD1gdT8E9L6VIBRSh2NSw7JXd8ANahxXKItBD&X-Amz-Signature=fc94d3ed0761eca58b1051b7719d50fd83c06119caa2e83ebe70f1e802140856&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664WIDH4E5%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAGMLLRwquJmevikPqZrABIqgjFTI7h7JM00IhhJNL9zAiEAsrzZj%2BRFZFYd%2BJR27BcdLNIHmlw3PsBz0NGuzpyFzVUq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDFUbkSZzg%2BG0DCsN5CrcAzk7VZyqGDsInVMWlX0arbj9%2BkHBt2nBHPJLHnOsjxqFDmn87i3dBDH77GjfB9MdHb5tTW9O73%2B4PNSpgNxWQL49GIqDZaxsLhzOpPzN6sW9I6hbTXDio2mI88Mc1u7w9oyT%2FG8m1EPhXyrm1mF6j3NxIxqFF573feB5UemhzIDr8zeah568QR0Bl88R%2BbN1bIk%2BWCn2MULS%2FqVuCWAAfGoY7bXX6wn5NQmr63LYVhW78DlP5lLRkeSlld69fc1tVKKGVtNgsB7ydmaI%2FqBkMQGjP9qCGp4WLENusqC2DUGwzvtEAtQnsnE%2BOYav7gr%2BJUENhcZUeSZsbMIh7cZZ7%2B8ax1q0Q5XZ%2BnDldvuRiGHYOm643zK0DTwVCNjDqXIUd079LGl23N09VSxeUFOC15eUc2kVJd5kWyYIqeLOCq84fPgiVzZrOYPsr%2B1gNdTg2ifBs62SqpFLIXzkjAVUfK7g5p7EIiazUX8L2UnsiVQlhc3ALS2qIIRO%2BkYT5egib%2FEUaToOtbri1A830ydbDHKBRvlQo14E93%2BMEpLusfRpF92IR5ZceRePFaJKw2RxbTfwLMJ3otDb5GAp8mJOP%2Bvayb2R%2FQgF%2FwdPczfsvr1uVDLh7dxebEciYuhxMJr7q8sGOqUBnG4Y9%2FsKHiIAPl%2BheX7j2ppgKx6jqTVE9DjmBD2Nc6Q2PwD664mTfhNDcXNuANaZPCydAV1ljo%2FYS68D9BQj%2BlgIkjTkBfsbm%2FBi8W4yRbNniEL6feNPUCFaOd%2FIG9gedxUrSy72fAvn7nKL6B2h4TA1GRJAWfRwZqNvpqRpC7G8Hoa49TC7fHvbD1gdT8E9L6VIBRSh2NSw7JXd8ANahxXKItBD&X-Amz-Signature=ead2f1eab5c9956aff46e7502f3c83d29a51196ed0c8c4092b4cf7077332ae2d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DLSPFDV%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHUoA5cWvOTMI4PlKQ7aEF6gGF3qUgs%2FgbALUMG%2F4655AiEA9bQEfnSQAasKzQk0Z19Fu2m5H4nRWx%2FkNN9W%2FPubna4q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDJuFvxV9QxYtw82%2FzSrcA43w9Z9%2BiI4hh7KCpk%2FqfjaewgNSfGVFLX8O8HQMwKOT%2FY4q5Lcs8AquF0328DV5oeLf%2Fr%2FMe4aUTI1B0e2MCMeUkKROj%2BEOcd7vHXY5paQozdw%2BlvPOr5OkUP3sxZ6iE%2BymKvAyciyq6CSdWatCUydFmdmG6Ywh66tZaJhCkq5zDOOVu9c%2FiH7Ex4ir2qQIGJ7WEBpHOliqRwSd0TH3LtDrpVaIzlpf0RBgoeC9EJ9WCWm8G5fwwVzqzgfdewcJzgmyXL98SLRXumnDlVv0LSEm1rnJZwFmEK7dO1LyGqDkkUJi0N3vUUuHkwCguCFUTVgbZf1ydg0RZ1C0qb4MQAysFI%2B%2BY3slyMS5otUYwHOPQoF4jlEgOuYuoZT2l%2BSOl7WBkSMK28vJ%2BqdjTbfh6QP6viOVFgifC3jv7%2FISlKpskhep%2FCjTiaol5bB6YI39REvypvb5JIHhRL7vim2YANSVCEzl93WnFiODKvF9PECcPFcFyisSfUrVOLWdRtytvXslhdmvpKm9sWaCfM9Iemd5uS2dCGVT7iFGy7qlSUEaXsI666f%2BMgVjKWlCCxIHHO%2FgG7VbYYdmjiGH2bd0SAfFS7gooRA9YMAlVkS2zkIStBQ73TkWLygn8ZRkMNr8q8sGOqUB6Nl6hq4Tf3LUwUNyWh%2FTsf52IY1o7x7iAgbGuR7DGjaPihfXp38wuf8zBz9X6J4CEok8Cse3I7G45czMCUgIPYR%2F1Y4ZUckv56zgiuOVpYaXKE0fhgpZ9iLP%2BQgGRnUGQm959wJDYOtjD%2FJt9HdY%2F6aNkvWsduUCvhFjGmTueRRH03tNCId%2BjX5gVDO7E0QDi6puBGFR2rSkgyQMcukqWbY54l%2FT&X-Amz-Signature=8dbabbe02cfa7b7bc5fa31fdbc3c8c1618d58ccb2fa2c0c129c2736a2cdea119&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DLSPFDV%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040548Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHUoA5cWvOTMI4PlKQ7aEF6gGF3qUgs%2FgbALUMG%2F4655AiEA9bQEfnSQAasKzQk0Z19Fu2m5H4nRWx%2FkNN9W%2FPubna4q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDJuFvxV9QxYtw82%2FzSrcA43w9Z9%2BiI4hh7KCpk%2FqfjaewgNSfGVFLX8O8HQMwKOT%2FY4q5Lcs8AquF0328DV5oeLf%2Fr%2FMe4aUTI1B0e2MCMeUkKROj%2BEOcd7vHXY5paQozdw%2BlvPOr5OkUP3sxZ6iE%2BymKvAyciyq6CSdWatCUydFmdmG6Ywh66tZaJhCkq5zDOOVu9c%2FiH7Ex4ir2qQIGJ7WEBpHOliqRwSd0TH3LtDrpVaIzlpf0RBgoeC9EJ9WCWm8G5fwwVzqzgfdewcJzgmyXL98SLRXumnDlVv0LSEm1rnJZwFmEK7dO1LyGqDkkUJi0N3vUUuHkwCguCFUTVgbZf1ydg0RZ1C0qb4MQAysFI%2B%2BY3slyMS5otUYwHOPQoF4jlEgOuYuoZT2l%2BSOl7WBkSMK28vJ%2BqdjTbfh6QP6viOVFgifC3jv7%2FISlKpskhep%2FCjTiaol5bB6YI39REvypvb5JIHhRL7vim2YANSVCEzl93WnFiODKvF9PECcPFcFyisSfUrVOLWdRtytvXslhdmvpKm9sWaCfM9Iemd5uS2dCGVT7iFGy7qlSUEaXsI666f%2BMgVjKWlCCxIHHO%2FgG7VbYYdmjiGH2bd0SAfFS7gooRA9YMAlVkS2zkIStBQ73TkWLygn8ZRkMNr8q8sGOqUB6Nl6hq4Tf3LUwUNyWh%2FTsf52IY1o7x7iAgbGuR7DGjaPihfXp38wuf8zBz9X6J4CEok8Cse3I7G45czMCUgIPYR%2F1Y4ZUckv56zgiuOVpYaXKE0fhgpZ9iLP%2BQgGRnUGQm959wJDYOtjD%2FJt9HdY%2F6aNkvWsduUCvhFjGmTueRRH03tNCId%2BjX5gVDO7E0QDi6puBGFR2rSkgyQMcukqWbY54l%2FT&X-Amz-Signature=7d4a9176e9e4d963a9b1291c10596b7f279755d3d490b28b9585d521fc85ee94&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SNSRBE5N%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040549Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFizVzm6grviu9uwi6zfaaJEKOpTyeRkYnxwDRhEQPPxAiB3NSG3p7MA0PmMkL9a7Kb7KlkVy8BbI%2FLZ8E8KM1Xz2Sr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMdosc%2FkGRLN%2F%2FB1yCKtwDflGVQqltPKU7i1OgmPRDXNjpTt9SaK3WkqnYgFNf23l0NL7jQYWFUp2jnT8hmFZDERfY3mVBMhMSuVH97%2BvMShXjSC9I4EIbnMQyyH5Jb3UgBn8DAPMRwJzexN9lk2RDmHGG2g5dP0ibaZnSI9tQD6CtniLpWqagdeQmBdqu1VzwivpMD89ABKLOpF4m7XtXQocLAKlRNtmx1OtRIu9Rl8MQjSd0G8ZxdncIgXuF61vbxsAQG64dzOKWD2i%2BqgJGiWGbBsdo85WyaP%2FkPU7Idgb867aB4B7W0eWPUwkwe2NuFZifTRE6DukgVS5kjpxXagSRkQ%2F97yYI1iKJqufmo4Lw0MmqoFVPtYC4XHOXjQW6UIJton5QKSDbMpH9XDPLHhVs1yYheOvtP1d2uVXi1EedoRH2Dg4FAjVP9%2F4iKYw27zkUSDz2kqM9uVF5A%2BOmPEAZQp9naFpLNLYPPa9SVVaIlH80eaXBK61kqplq9nmoZY1gbYkPlluERrWhRJGPQsjh9to7qziGU%2ByAw5BuNwVwwUMl0%2FEVsrA9wrUTURZSROpS0uX3J%2FiT4P5GMy1NbWMo5A91xJn5djnjK79ZH88bHqZaKtmrHpqsVPEoeX%2B0USyikFWgvtFvcuowyPyrywY6pgHS6tpcZfKeg9NXAEcuw%2BfeV85Mq0GFnst6JfdANtIittUJt3PGZDom5OYHMcE1ySUIO2AAhe72S%2BrETOqZQSYE3Slirfuur4iG6LUMPku94iQPXhpeyRThfDTFZjpTdCd1nh06FDCjJRnMrMFTh9uewah7cmrFs7oVsynz7NW0lEcj%2FlYmnCdURdT7f6%2F0zCUFaZiNCbT13E5gP01c5MZrkaHheXlf&X-Amz-Signature=7c9807efd2ba91f5fc5ad454dcea197a7af850c30be3284c9f2eddf9fb45abf0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SNSRBE5N%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040549Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFizVzm6grviu9uwi6zfaaJEKOpTyeRkYnxwDRhEQPPxAiB3NSG3p7MA0PmMkL9a7Kb7KlkVy8BbI%2FLZ8E8KM1Xz2Sr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMdosc%2FkGRLN%2F%2FB1yCKtwDflGVQqltPKU7i1OgmPRDXNjpTt9SaK3WkqnYgFNf23l0NL7jQYWFUp2jnT8hmFZDERfY3mVBMhMSuVH97%2BvMShXjSC9I4EIbnMQyyH5Jb3UgBn8DAPMRwJzexN9lk2RDmHGG2g5dP0ibaZnSI9tQD6CtniLpWqagdeQmBdqu1VzwivpMD89ABKLOpF4m7XtXQocLAKlRNtmx1OtRIu9Rl8MQjSd0G8ZxdncIgXuF61vbxsAQG64dzOKWD2i%2BqgJGiWGbBsdo85WyaP%2FkPU7Idgb867aB4B7W0eWPUwkwe2NuFZifTRE6DukgVS5kjpxXagSRkQ%2F97yYI1iKJqufmo4Lw0MmqoFVPtYC4XHOXjQW6UIJton5QKSDbMpH9XDPLHhVs1yYheOvtP1d2uVXi1EedoRH2Dg4FAjVP9%2F4iKYw27zkUSDz2kqM9uVF5A%2BOmPEAZQp9naFpLNLYPPa9SVVaIlH80eaXBK61kqplq9nmoZY1gbYkPlluERrWhRJGPQsjh9to7qziGU%2ByAw5BuNwVwwUMl0%2FEVsrA9wrUTURZSROpS0uX3J%2FiT4P5GMy1NbWMo5A91xJn5djnjK79ZH88bHqZaKtmrHpqsVPEoeX%2B0USyikFWgvtFvcuowyPyrywY6pgHS6tpcZfKeg9NXAEcuw%2BfeV85Mq0GFnst6JfdANtIittUJt3PGZDom5OYHMcE1ySUIO2AAhe72S%2BrETOqZQSYE3Slirfuur4iG6LUMPku94iQPXhpeyRThfDTFZjpTdCd1nh06FDCjJRnMrMFTh9uewah7cmrFs7oVsynz7NW0lEcj%2FlYmnCdURdT7f6%2F0zCUFaZiNCbT13E5gP01c5MZrkaHheXlf&X-Amz-Signature=69f6f760b3a67f1c0e83f5417e50fd8ac12cf93de1a57894adac63cc534b86ef&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YNMVM2SD%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040550Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD3uCb08OvtvgAu8tGCucSkuH9qepHX%2BLWhtJSlRhXdpwIgJc0xkrr9C6GKyH9Xt8hmSQiBE1n68FuYvyAKMWBN998q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDIRbMjImM7wHLrQELircA%2B4oiKAaqDVu6Qiaf34wkS1uc%2FPo2B2G2CZYL7Wo8FFsihxNMd6M4d7FW6KHa0nfIbf8OMPbqJdHA52ErDvxz4rGy4qSo%2FrKB9PrQQGoNq9pCj38ecpvP9SpdeCD%2F4x2EKGbiJ91o8tj0zd4LXoop1HqlzPp6ahHaqt9Wd0iAS4hbxMPhUaGK%2FaW56bgizi0X6MB%2BNvp9mLPHFuYb7V8zVBeN26Jy0VN%2Fyw3Iy2%2FxW6I%2BlhctmhDRdocrR6ROBE3M9QqioNkmfxosbFUeOxXbpshKEKg9aPTu2d9fedDTMvflCHPySpCLICIdk1y7lQcCq%2BmJb02YkK%2BaQTuw3sG4PKr0gn4qyaBJ6LPimyco0hOHSDtQ6K9GPAmCmWbv%2FygKmQ2lpVjiW3DwTxOBe8kzL1DrHS%2F9JvYOsaz9zZ1sRbKEuiSSv0BZx1YZVJCl4HLg4Ut%2BQpLVzxzD5zaEIQZJjbj0aB7iAN%2F5dSW7bZfhb5QWi%2FXJE8bmF3qGwII1b9iMAjs9OQ9BTOpysyokLIiYDR5zEcfL50YgveoBsJGjwuSL1T5uq9GdS5gnOFzWD%2BTAhaV4%2FLyAllkUsqU3xqpc9zrCUakrUY7cP4mL%2BX7WsT6tNHleMNeItict1oWMKr8q8sGOqUBLHBDbq6T%2B62UzsNdG99lAMwsHqf928fIoqv8khD%2BmZUbToQwMb7Pwxn0j47Rm%2F91nN1dIag3rv31PHXPmF7%2BDCWuMwAmw0z3eJl31fHfk5BB3b27FFllcpZ5A%2FBI8GMQh7OJE%2Fuz3XWtbe84GtuyDg%2FCzf6gtSIfB1%2B6oyU9hrFsBLgv2TpB8kyaaHhx23GcQ9xdoG1ZrT8Au5aAmSxOqXRvrtcS&X-Amz-Signature=dc19735cc3e7ccb3cad3a9c17c162c3a3ab8972369cd2ba4b000e274f4e160a4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
