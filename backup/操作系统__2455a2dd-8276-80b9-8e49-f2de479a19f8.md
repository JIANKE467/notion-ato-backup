
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QRK5GYA6%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041453Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIG%2FbH%2FmDToyiEYU6jRAIKBi0Jf%2FG7ODP23IE%2BNfv38KUAiEA6lFYEj5Nwafs95EzhPcKSlDYAG53X7luJaBZC5hfszAq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDA4oZ%2Fn4cLgghz2eYyrcAxc0qU84XCTOZncBX8O8ZnbbH4ZhJu0PwVlnWe%2FLpdEggFJuNbVrpIjCYiMbse8WF3iG0ZYzx97dvDscunT56jHTaZ2RS0AxLxW1%2B5mi5dU8YeIZO%2BB9nNThT9Xug%2BGTII9faOQt8lmG7CeWK9ac3DcqM1HbA%2B9v53GgxAZ4c27y3UcYzROgX983iTdyhYus6YOMdh0d0gH805SZXYN2Cn1fta7RRsn49tLTNTdOcSGWWjNgkLx%2BQzVoi4oyKdkJOmun5cejAldFFXg5LGNP1r34dUHPoNBSqwfgIYZ9IEhsCeuuPfC7OLU08dW0Dm%2BilJo3Hw9aVQyLbzL0EcIpctSLf8XBnQH3HrBOmcfpLCig8X1jVfjMBSkv6aWiqOb4CimuYRx%2Bp5rQf3YfiEpBkpcooOanz8wGxsD0kvhpzL5sHZkW1a4AY5uth6KI%2FEG5u5NiovdE%2BUw%2B2u504fU0IAvDXU78DVikY%2BgIfai9IhGcqnFYpbRBcO7E0Ib5JKpO3OjMFn%2FPlA7QowqIX3EEZKxgIUf85sF4EVEXEwmoghWwgDIAb328STbNRdX%2Bs4IekW2HUx6uGnEOUjo%2FtdjfHrsASoG%2FR%2Fdx7FBaVS92NZoka0GXVyz6FG1kj1jQMPvHocsGOqUBUkYg%2FgGYxsNkpN3VamllTHFF%2B1%2F18HEtKp76iPktc%2FRfzUymwsqWrJXDdGn13dbvUt0LwBeRMgPcpb7hZy5xXlAZhEjfTRaL9attVJLJ6LA1IsxWdjTCKudru5hdIkr8ULuQLdkB4SLu%2Bwd2ZZsv1F1VX%2Bpymk1VreyP3fPoe5hKRe8S1%2Bf8EYb%2BgzBKUAdcrkb1XBJwKYNI%2BdYGqPVDaYahiMJ%2B&X-Amz-Signature=a2f0540f4e74cc53f36bc3c2d9c71f1cc6958d87d218b178c72810680c559548&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QRK5GYA6%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041453Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIG%2FbH%2FmDToyiEYU6jRAIKBi0Jf%2FG7ODP23IE%2BNfv38KUAiEA6lFYEj5Nwafs95EzhPcKSlDYAG53X7luJaBZC5hfszAq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDA4oZ%2Fn4cLgghz2eYyrcAxc0qU84XCTOZncBX8O8ZnbbH4ZhJu0PwVlnWe%2FLpdEggFJuNbVrpIjCYiMbse8WF3iG0ZYzx97dvDscunT56jHTaZ2RS0AxLxW1%2B5mi5dU8YeIZO%2BB9nNThT9Xug%2BGTII9faOQt8lmG7CeWK9ac3DcqM1HbA%2B9v53GgxAZ4c27y3UcYzROgX983iTdyhYus6YOMdh0d0gH805SZXYN2Cn1fta7RRsn49tLTNTdOcSGWWjNgkLx%2BQzVoi4oyKdkJOmun5cejAldFFXg5LGNP1r34dUHPoNBSqwfgIYZ9IEhsCeuuPfC7OLU08dW0Dm%2BilJo3Hw9aVQyLbzL0EcIpctSLf8XBnQH3HrBOmcfpLCig8X1jVfjMBSkv6aWiqOb4CimuYRx%2Bp5rQf3YfiEpBkpcooOanz8wGxsD0kvhpzL5sHZkW1a4AY5uth6KI%2FEG5u5NiovdE%2BUw%2B2u504fU0IAvDXU78DVikY%2BgIfai9IhGcqnFYpbRBcO7E0Ib5JKpO3OjMFn%2FPlA7QowqIX3EEZKxgIUf85sF4EVEXEwmoghWwgDIAb328STbNRdX%2Bs4IekW2HUx6uGnEOUjo%2FtdjfHrsASoG%2FR%2Fdx7FBaVS92NZoka0GXVyz6FG1kj1jQMPvHocsGOqUBUkYg%2FgGYxsNkpN3VamllTHFF%2B1%2F18HEtKp76iPktc%2FRfzUymwsqWrJXDdGn13dbvUt0LwBeRMgPcpb7hZy5xXlAZhEjfTRaL9attVJLJ6LA1IsxWdjTCKudru5hdIkr8ULuQLdkB4SLu%2Bwd2ZZsv1F1VX%2Bpymk1VreyP3fPoe5hKRe8S1%2Bf8EYb%2BgzBKUAdcrkb1XBJwKYNI%2BdYGqPVDaYahiMJ%2B&X-Amz-Signature=a1ba26cbced0cd6b86b1fd721e1e1db4781a2a39d20d530371003693f2fb9213&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QRK5GYA6%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041453Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIG%2FbH%2FmDToyiEYU6jRAIKBi0Jf%2FG7ODP23IE%2BNfv38KUAiEA6lFYEj5Nwafs95EzhPcKSlDYAG53X7luJaBZC5hfszAq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDA4oZ%2Fn4cLgghz2eYyrcAxc0qU84XCTOZncBX8O8ZnbbH4ZhJu0PwVlnWe%2FLpdEggFJuNbVrpIjCYiMbse8WF3iG0ZYzx97dvDscunT56jHTaZ2RS0AxLxW1%2B5mi5dU8YeIZO%2BB9nNThT9Xug%2BGTII9faOQt8lmG7CeWK9ac3DcqM1HbA%2B9v53GgxAZ4c27y3UcYzROgX983iTdyhYus6YOMdh0d0gH805SZXYN2Cn1fta7RRsn49tLTNTdOcSGWWjNgkLx%2BQzVoi4oyKdkJOmun5cejAldFFXg5LGNP1r34dUHPoNBSqwfgIYZ9IEhsCeuuPfC7OLU08dW0Dm%2BilJo3Hw9aVQyLbzL0EcIpctSLf8XBnQH3HrBOmcfpLCig8X1jVfjMBSkv6aWiqOb4CimuYRx%2Bp5rQf3YfiEpBkpcooOanz8wGxsD0kvhpzL5sHZkW1a4AY5uth6KI%2FEG5u5NiovdE%2BUw%2B2u504fU0IAvDXU78DVikY%2BgIfai9IhGcqnFYpbRBcO7E0Ib5JKpO3OjMFn%2FPlA7QowqIX3EEZKxgIUf85sF4EVEXEwmoghWwgDIAb328STbNRdX%2Bs4IekW2HUx6uGnEOUjo%2FtdjfHrsASoG%2FR%2Fdx7FBaVS92NZoka0GXVyz6FG1kj1jQMPvHocsGOqUBUkYg%2FgGYxsNkpN3VamllTHFF%2B1%2F18HEtKp76iPktc%2FRfzUymwsqWrJXDdGn13dbvUt0LwBeRMgPcpb7hZy5xXlAZhEjfTRaL9attVJLJ6LA1IsxWdjTCKudru5hdIkr8ULuQLdkB4SLu%2Bwd2ZZsv1F1VX%2Bpymk1VreyP3fPoe5hKRe8S1%2Bf8EYb%2BgzBKUAdcrkb1XBJwKYNI%2BdYGqPVDaYahiMJ%2B&X-Amz-Signature=242376d1e0ae07498384f58901b24636eb3c0df0977dfcf6a460fabb7d0c04e9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TT2XQ5OV%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041454Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIDBnJMo0jqFFObB1OFehSyv%2FfJxQcsBU31xWbngqqbdlAiAP4EH%2Bq96x8U1XUbITdZUGzzXDziAHBpNlAOdoB8Sbwir%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMbXkPI%2F9kH95qGFxWKtwDIfiRBPnHTBe5mSmPwUcZkrUqhO5%2BA0361uioLnow%2BPgxwm%2BKisVsYtJq%2FzOVV0ZC%2B2yH%2FI8623G8pkpCrdF43paKgREASgOQjpHvAPvO25v4DKnsrshj3fbjexSaUCwF50tvouJC3N5T4DuZMyDj3yVLoqcxjVPtl4AcyuoxRmyjj6uenJ4YBJiTKdtD264MJI8HQJxg0WeC8TmxKFqQbVfKkJeoa976AKEE12bMMiAlKuLVO7lrKBqC4DY%2BmnEptc3ETLFJN1wEbbOwm2Y9Wgs34T2co94fHqd2r6Sr%2BRbd4wuhUMeT4Zg5btjizRSVY00Clzkv6M3PVfSoh6AQI2fSpXtRWsWzEbLEhon5KZgDGI4tl4e1XoYnOO3dLXoW0LD3ubR2k2cVCW24cGU8XXi%2BaAQdll7500fd3r7UYo15QNoE%2BzbsY4G2lOAvn3PyrjaIJhPh%2FX5jznZGejI84UvbFalxPFq3O%2FJ5Ri4yOXEc5PtKQeMPwSMocy2ejrUY8zpyCnEn%2BW0IAbhwI%2BQLTi1r5p2Fk87UUQcAsztFAgWBPleOMipgtvPOc6NURD3mKVPw4b56kpXMrhX0jolziOzuh4gtzHa7BZGxx6TQ5YMp0EqM9h9UimtuVCYw5cehywY6pgFlXbRHmL%2F3IgDpKU80u30raD7elUj76SRvKZ%2B6mdtIsuRB8aLUMGSJmOqpkq7mAMsLWAJs%2B9728hcuGafQtUCp8LuHnuMuaU5W47dXHcfE%2B7U3rt8ukOj8jmjbO60Ba8gLZKElCsxwY7J63vr6jVNDOBxAlmn4%2F33LJNaAjo0Vob3J7G7Z48q6RBLBrydRX9CTqXpJ6isMp3P%2FugS9oF9bjpKzAFl%2F&X-Amz-Signature=4a0675e218a564a37b76593a7a4f35c6ee6b00f151decab26cffd9bb935e6dc9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TT2XQ5OV%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041454Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIDBnJMo0jqFFObB1OFehSyv%2FfJxQcsBU31xWbngqqbdlAiAP4EH%2Bq96x8U1XUbITdZUGzzXDziAHBpNlAOdoB8Sbwir%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMbXkPI%2F9kH95qGFxWKtwDIfiRBPnHTBe5mSmPwUcZkrUqhO5%2BA0361uioLnow%2BPgxwm%2BKisVsYtJq%2FzOVV0ZC%2B2yH%2FI8623G8pkpCrdF43paKgREASgOQjpHvAPvO25v4DKnsrshj3fbjexSaUCwF50tvouJC3N5T4DuZMyDj3yVLoqcxjVPtl4AcyuoxRmyjj6uenJ4YBJiTKdtD264MJI8HQJxg0WeC8TmxKFqQbVfKkJeoa976AKEE12bMMiAlKuLVO7lrKBqC4DY%2BmnEptc3ETLFJN1wEbbOwm2Y9Wgs34T2co94fHqd2r6Sr%2BRbd4wuhUMeT4Zg5btjizRSVY00Clzkv6M3PVfSoh6AQI2fSpXtRWsWzEbLEhon5KZgDGI4tl4e1XoYnOO3dLXoW0LD3ubR2k2cVCW24cGU8XXi%2BaAQdll7500fd3r7UYo15QNoE%2BzbsY4G2lOAvn3PyrjaIJhPh%2FX5jznZGejI84UvbFalxPFq3O%2FJ5Ri4yOXEc5PtKQeMPwSMocy2ejrUY8zpyCnEn%2BW0IAbhwI%2BQLTi1r5p2Fk87UUQcAsztFAgWBPleOMipgtvPOc6NURD3mKVPw4b56kpXMrhX0jolziOzuh4gtzHa7BZGxx6TQ5YMp0EqM9h9UimtuVCYw5cehywY6pgFlXbRHmL%2F3IgDpKU80u30raD7elUj76SRvKZ%2B6mdtIsuRB8aLUMGSJmOqpkq7mAMsLWAJs%2B9728hcuGafQtUCp8LuHnuMuaU5W47dXHcfE%2B7U3rt8ukOj8jmjbO60Ba8gLZKElCsxwY7J63vr6jVNDOBxAlmn4%2F33LJNaAjo0Vob3J7G7Z48q6RBLBrydRX9CTqXpJ6isMp3P%2FugS9oF9bjpKzAFl%2F&X-Amz-Signature=1b3c2bf0b1a07c349b4b6fbc104607c842ec91d2e32d015dc0e637a7cb644d56&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TT2XQ5OV%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041454Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIDBnJMo0jqFFObB1OFehSyv%2FfJxQcsBU31xWbngqqbdlAiAP4EH%2Bq96x8U1XUbITdZUGzzXDziAHBpNlAOdoB8Sbwir%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMbXkPI%2F9kH95qGFxWKtwDIfiRBPnHTBe5mSmPwUcZkrUqhO5%2BA0361uioLnow%2BPgxwm%2BKisVsYtJq%2FzOVV0ZC%2B2yH%2FI8623G8pkpCrdF43paKgREASgOQjpHvAPvO25v4DKnsrshj3fbjexSaUCwF50tvouJC3N5T4DuZMyDj3yVLoqcxjVPtl4AcyuoxRmyjj6uenJ4YBJiTKdtD264MJI8HQJxg0WeC8TmxKFqQbVfKkJeoa976AKEE12bMMiAlKuLVO7lrKBqC4DY%2BmnEptc3ETLFJN1wEbbOwm2Y9Wgs34T2co94fHqd2r6Sr%2BRbd4wuhUMeT4Zg5btjizRSVY00Clzkv6M3PVfSoh6AQI2fSpXtRWsWzEbLEhon5KZgDGI4tl4e1XoYnOO3dLXoW0LD3ubR2k2cVCW24cGU8XXi%2BaAQdll7500fd3r7UYo15QNoE%2BzbsY4G2lOAvn3PyrjaIJhPh%2FX5jznZGejI84UvbFalxPFq3O%2FJ5Ri4yOXEc5PtKQeMPwSMocy2ejrUY8zpyCnEn%2BW0IAbhwI%2BQLTi1r5p2Fk87UUQcAsztFAgWBPleOMipgtvPOc6NURD3mKVPw4b56kpXMrhX0jolziOzuh4gtzHa7BZGxx6TQ5YMp0EqM9h9UimtuVCYw5cehywY6pgFlXbRHmL%2F3IgDpKU80u30raD7elUj76SRvKZ%2B6mdtIsuRB8aLUMGSJmOqpkq7mAMsLWAJs%2B9728hcuGafQtUCp8LuHnuMuaU5W47dXHcfE%2B7U3rt8ukOj8jmjbO60Ba8gLZKElCsxwY7J63vr6jVNDOBxAlmn4%2F33LJNaAjo0Vob3J7G7Z48q6RBLBrydRX9CTqXpJ6isMp3P%2FugS9oF9bjpKzAFl%2F&X-Amz-Signature=75569dcb3c4903cb340a720f3b4c7b72e8f48c5d004c2588e18e1db5e89c9446&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662WWBPWO2%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJIMEYCIQD2I3CjPEXrXeEmRk7D1qlVwtY3E%2F8TKbwHOdJ%2Bhg5AbwIhALmvrKfZTDam42l1BkkaDZqlkzbMDdn5%2Fz9wBotMYTYpKv8DCC0QABoMNjM3NDIzMTgzODA1IgyB5bpL9iiiGg8A2Mcq3AM6gSHnI8%2BPuEWSkg6L2lOY6qXXP4LaUioVhcOZCFiY%2B6t8D20SrV%2FUBBNAW1gvXUqP1Oj%2BpEzlUClyuuzCuIqsrbJpGt4Qtc0k6teDAu5lbUTe0nRs0AJhIvGXCaxPAbHMhWP6I29kONttGwsek0u%2FKzEtr7jA9cLImICmyv9i2clitVqGkIdGMebisZmU9zCRNX9Zjl1HKAqXsc%2F3F6al4lIyPqiccMTwV162Oj26zrUF115Ww5ZS%2BWqjH8rcpo0c0a1D5noug9UNiOwXoUHPN0ooHUtzarRcuSN3X8%2B%2FucECcuX%2FmsSZoNEM%2B6AOuC4v%2BuqNBiwkKvkwHluL1OauYExoeiamoKs0vhXUSwCwy3cxjsBLk9L9C9nGSpR%2BC7Q9p2%2B4UIqUK9ImDgoFuTxjqua%2Brb32rx3QTy1Be%2FvZIghD9D6Rl7BKBS8Nm0%2FXqZnV%2Br9hv46jEQNAzIZfi2tWGIBayLDAMlvQS%2Fls%2F5I6iAWMjdTclO63A7WaOT%2FBkAd6UJoDBnU9EGN1NBWvqxMV15blwY2Xc1VRvOFQ2SvAazi58IE%2FOnJ%2FfaFouYRfj%2BW7ApyBdYN8niwg%2FrKrLZHeIe3Ti5yDCYu5oqK0ihSn4R64u%2Bhmf0cBawaJATDsx6HLBjqkAc6ggvL55KDSMMSEk4Xi36IM9uBwDzc1U1vdYT5PAWTzAPF%2Bx3yO8jhFuepjMr8CZn%2FtRIcsfjq6mqEMot1CQuMrrbai4sDICkhquc7luEIAhsRIvDpVXhxGSCdyJjeXOAYF9VIFD3%2Ba0MFEvS2N6RdeT1a0jOwSXwm3GcF1WiCBdcjLq7%2BboXGs7m%2FYdaVJH1k5%2BoAtynLTy%2FoXrzxaMxZAwegH&X-Amz-Signature=1aa5524015a3e616d5cc9d32c1e9f3f412a589c8076059d8b96ff43861815240&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662WWBPWO2%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJIMEYCIQD2I3CjPEXrXeEmRk7D1qlVwtY3E%2F8TKbwHOdJ%2Bhg5AbwIhALmvrKfZTDam42l1BkkaDZqlkzbMDdn5%2Fz9wBotMYTYpKv8DCC0QABoMNjM3NDIzMTgzODA1IgyB5bpL9iiiGg8A2Mcq3AM6gSHnI8%2BPuEWSkg6L2lOY6qXXP4LaUioVhcOZCFiY%2B6t8D20SrV%2FUBBNAW1gvXUqP1Oj%2BpEzlUClyuuzCuIqsrbJpGt4Qtc0k6teDAu5lbUTe0nRs0AJhIvGXCaxPAbHMhWP6I29kONttGwsek0u%2FKzEtr7jA9cLImICmyv9i2clitVqGkIdGMebisZmU9zCRNX9Zjl1HKAqXsc%2F3F6al4lIyPqiccMTwV162Oj26zrUF115Ww5ZS%2BWqjH8rcpo0c0a1D5noug9UNiOwXoUHPN0ooHUtzarRcuSN3X8%2B%2FucECcuX%2FmsSZoNEM%2B6AOuC4v%2BuqNBiwkKvkwHluL1OauYExoeiamoKs0vhXUSwCwy3cxjsBLk9L9C9nGSpR%2BC7Q9p2%2B4UIqUK9ImDgoFuTxjqua%2Brb32rx3QTy1Be%2FvZIghD9D6Rl7BKBS8Nm0%2FXqZnV%2Br9hv46jEQNAzIZfi2tWGIBayLDAMlvQS%2Fls%2F5I6iAWMjdTclO63A7WaOT%2FBkAd6UJoDBnU9EGN1NBWvqxMV15blwY2Xc1VRvOFQ2SvAazi58IE%2FOnJ%2FfaFouYRfj%2BW7ApyBdYN8niwg%2FrKrLZHeIe3Ti5yDCYu5oqK0ihSn4R64u%2Bhmf0cBawaJATDsx6HLBjqkAc6ggvL55KDSMMSEk4Xi36IM9uBwDzc1U1vdYT5PAWTzAPF%2Bx3yO8jhFuepjMr8CZn%2FtRIcsfjq6mqEMot1CQuMrrbai4sDICkhquc7luEIAhsRIvDpVXhxGSCdyJjeXOAYF9VIFD3%2Ba0MFEvS2N6RdeT1a0jOwSXwm3GcF1WiCBdcjLq7%2BboXGs7m%2FYdaVJH1k5%2BoAtynLTy%2FoXrzxaMxZAwegH&X-Amz-Signature=619821ee0cfb07fab6c5e6d4da57ff46518cc7871e255db542dac2c280db59e9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662WWBPWO2%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJIMEYCIQD2I3CjPEXrXeEmRk7D1qlVwtY3E%2F8TKbwHOdJ%2Bhg5AbwIhALmvrKfZTDam42l1BkkaDZqlkzbMDdn5%2Fz9wBotMYTYpKv8DCC0QABoMNjM3NDIzMTgzODA1IgyB5bpL9iiiGg8A2Mcq3AM6gSHnI8%2BPuEWSkg6L2lOY6qXXP4LaUioVhcOZCFiY%2B6t8D20SrV%2FUBBNAW1gvXUqP1Oj%2BpEzlUClyuuzCuIqsrbJpGt4Qtc0k6teDAu5lbUTe0nRs0AJhIvGXCaxPAbHMhWP6I29kONttGwsek0u%2FKzEtr7jA9cLImICmyv9i2clitVqGkIdGMebisZmU9zCRNX9Zjl1HKAqXsc%2F3F6al4lIyPqiccMTwV162Oj26zrUF115Ww5ZS%2BWqjH8rcpo0c0a1D5noug9UNiOwXoUHPN0ooHUtzarRcuSN3X8%2B%2FucECcuX%2FmsSZoNEM%2B6AOuC4v%2BuqNBiwkKvkwHluL1OauYExoeiamoKs0vhXUSwCwy3cxjsBLk9L9C9nGSpR%2BC7Q9p2%2B4UIqUK9ImDgoFuTxjqua%2Brb32rx3QTy1Be%2FvZIghD9D6Rl7BKBS8Nm0%2FXqZnV%2Br9hv46jEQNAzIZfi2tWGIBayLDAMlvQS%2Fls%2F5I6iAWMjdTclO63A7WaOT%2FBkAd6UJoDBnU9EGN1NBWvqxMV15blwY2Xc1VRvOFQ2SvAazi58IE%2FOnJ%2FfaFouYRfj%2BW7ApyBdYN8niwg%2FrKrLZHeIe3Ti5yDCYu5oqK0ihSn4R64u%2Bhmf0cBawaJATDsx6HLBjqkAc6ggvL55KDSMMSEk4Xi36IM9uBwDzc1U1vdYT5PAWTzAPF%2Bx3yO8jhFuepjMr8CZn%2FtRIcsfjq6mqEMot1CQuMrrbai4sDICkhquc7luEIAhsRIvDpVXhxGSCdyJjeXOAYF9VIFD3%2Ba0MFEvS2N6RdeT1a0jOwSXwm3GcF1WiCBdcjLq7%2BboXGs7m%2FYdaVJH1k5%2BoAtynLTy%2FoXrzxaMxZAwegH&X-Amz-Signature=5763b1eff0b5869aaa0514cf877330ee9870f3618b89b96198c0610ea9802d50&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662WWBPWO2%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJIMEYCIQD2I3CjPEXrXeEmRk7D1qlVwtY3E%2F8TKbwHOdJ%2Bhg5AbwIhALmvrKfZTDam42l1BkkaDZqlkzbMDdn5%2Fz9wBotMYTYpKv8DCC0QABoMNjM3NDIzMTgzODA1IgyB5bpL9iiiGg8A2Mcq3AM6gSHnI8%2BPuEWSkg6L2lOY6qXXP4LaUioVhcOZCFiY%2B6t8D20SrV%2FUBBNAW1gvXUqP1Oj%2BpEzlUClyuuzCuIqsrbJpGt4Qtc0k6teDAu5lbUTe0nRs0AJhIvGXCaxPAbHMhWP6I29kONttGwsek0u%2FKzEtr7jA9cLImICmyv9i2clitVqGkIdGMebisZmU9zCRNX9Zjl1HKAqXsc%2F3F6al4lIyPqiccMTwV162Oj26zrUF115Ww5ZS%2BWqjH8rcpo0c0a1D5noug9UNiOwXoUHPN0ooHUtzarRcuSN3X8%2B%2FucECcuX%2FmsSZoNEM%2B6AOuC4v%2BuqNBiwkKvkwHluL1OauYExoeiamoKs0vhXUSwCwy3cxjsBLk9L9C9nGSpR%2BC7Q9p2%2B4UIqUK9ImDgoFuTxjqua%2Brb32rx3QTy1Be%2FvZIghD9D6Rl7BKBS8Nm0%2FXqZnV%2Br9hv46jEQNAzIZfi2tWGIBayLDAMlvQS%2Fls%2F5I6iAWMjdTclO63A7WaOT%2FBkAd6UJoDBnU9EGN1NBWvqxMV15blwY2Xc1VRvOFQ2SvAazi58IE%2FOnJ%2FfaFouYRfj%2BW7ApyBdYN8niwg%2FrKrLZHeIe3Ti5yDCYu5oqK0ihSn4R64u%2Bhmf0cBawaJATDsx6HLBjqkAc6ggvL55KDSMMSEk4Xi36IM9uBwDzc1U1vdYT5PAWTzAPF%2Bx3yO8jhFuepjMr8CZn%2FtRIcsfjq6mqEMot1CQuMrrbai4sDICkhquc7luEIAhsRIvDpVXhxGSCdyJjeXOAYF9VIFD3%2Ba0MFEvS2N6RdeT1a0jOwSXwm3GcF1WiCBdcjLq7%2BboXGs7m%2FYdaVJH1k5%2BoAtynLTy%2FoXrzxaMxZAwegH&X-Amz-Signature=d922e2d6703293c0c62685328eba6e9f4957c6cc7765229a686d9986d15ac47d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664H6BLQIL%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041458Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQDpKGzXzYTH3aiK4uwBtUS9g%2BmpEnljg9N13%2BmXtJVpxgIgSIas1dYaT9kNERwMRV3ycX%2Bd4V5U4YTmYIXP4A8uXv4q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDD1sLsJZMnjEjZvHBSrcA9yAm0pM8LT34i4Qgtr43ky0BLa51%2BvXlWoXrAMEWfv%2Ff4QW3cU7L4n9Osqy6AQZk%2FImkhVawZpsH7OyuwmSUDQPeXw1dDyGj4aPTeINvNXC9q8sSUXjPPcWyLF9yENpAsGpx5PiA7KgXbTU5Cg2XE87mQY0rrqWvoZh6y9vKaHphuXKCQINreE4h%2BF6W%2B27eDsTzwtZlZLbpUAnYJHbFeWiVxcyPUEC8ijn44SRoaf%2Ffe9UBtlWEFDjsnD5TzHwTq65fE1jbJguirvjG%2FQHI9pCpjrHdvfJGjxPdaXvWXBnqtX90C8SPnxbt35Cr56SfNNRt7rJbzmLIg4yQmQGBWPRUW3h%2F8osP1WIDsWMjBb4aZwDvEquDrwaAe2c04xqfWSDFU4418o%2FUddeoTWZqYlUr%2FCrMGyoFnj70PM0gl8ySCMXzi4H9seM9FRvkRFkqayMHiYjJQzwZQxHC9MusVbMUTl%2FdOOdi8fziLuXZb6V%2BUz4LiwL0EkaTMQDuCOVqIn0Zu1txGNfOE9tPcqaR8l2lmhihysMoXqoAi6APKj%2BcLqT59R%2BQ35VZKu%2BeUlQJAexiPAHmhLR3WqqwGrtAZ1LXK79qqOQHExVWkw5tfVGLxYrG5YZOK38Qcy3MOzHocsGOqUBKqxYS%2BSUkY4zKIg6cXfp9ESdDcNbGVs43YfjG2LDijs2kP7nuMQkMcJgf4%2FYs2ovlExvRiYqnhMVc3Vlt72t22sSOKm2qaz7bBL5vUit27pZ1aYSG4YqN4inDuf4L2QQRm1Oei3pgD58GkhASGNl0Vepp2mpiwKL%2BjpMbI0DWe9cXdqwUfPCk%2FFiA2KEy3l%2BvUTRsEKGHaPaiRnMWppPb4HNJnPM&X-Amz-Signature=c0fbe546e94bbcd3bb8701fa68db201064018bd2419ffab2d83639ca0c325092&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664H6BLQIL%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041458Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQDpKGzXzYTH3aiK4uwBtUS9g%2BmpEnljg9N13%2BmXtJVpxgIgSIas1dYaT9kNERwMRV3ycX%2Bd4V5U4YTmYIXP4A8uXv4q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDD1sLsJZMnjEjZvHBSrcA9yAm0pM8LT34i4Qgtr43ky0BLa51%2BvXlWoXrAMEWfv%2Ff4QW3cU7L4n9Osqy6AQZk%2FImkhVawZpsH7OyuwmSUDQPeXw1dDyGj4aPTeINvNXC9q8sSUXjPPcWyLF9yENpAsGpx5PiA7KgXbTU5Cg2XE87mQY0rrqWvoZh6y9vKaHphuXKCQINreE4h%2BF6W%2B27eDsTzwtZlZLbpUAnYJHbFeWiVxcyPUEC8ijn44SRoaf%2Ffe9UBtlWEFDjsnD5TzHwTq65fE1jbJguirvjG%2FQHI9pCpjrHdvfJGjxPdaXvWXBnqtX90C8SPnxbt35Cr56SfNNRt7rJbzmLIg4yQmQGBWPRUW3h%2F8osP1WIDsWMjBb4aZwDvEquDrwaAe2c04xqfWSDFU4418o%2FUddeoTWZqYlUr%2FCrMGyoFnj70PM0gl8ySCMXzi4H9seM9FRvkRFkqayMHiYjJQzwZQxHC9MusVbMUTl%2FdOOdi8fziLuXZb6V%2BUz4LiwL0EkaTMQDuCOVqIn0Zu1txGNfOE9tPcqaR8l2lmhihysMoXqoAi6APKj%2BcLqT59R%2BQ35VZKu%2BeUlQJAexiPAHmhLR3WqqwGrtAZ1LXK79qqOQHExVWkw5tfVGLxYrG5YZOK38Qcy3MOzHocsGOqUBKqxYS%2BSUkY4zKIg6cXfp9ESdDcNbGVs43YfjG2LDijs2kP7nuMQkMcJgf4%2FYs2ovlExvRiYqnhMVc3Vlt72t22sSOKm2qaz7bBL5vUit27pZ1aYSG4YqN4inDuf4L2QQRm1Oei3pgD58GkhASGNl0Vepp2mpiwKL%2BjpMbI0DWe9cXdqwUfPCk%2FFiA2KEy3l%2BvUTRsEKGHaPaiRnMWppPb4HNJnPM&X-Amz-Signature=96d7887b46ab1f751dcff415596f520b10553a3f6b0ee0201925d474617926fa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664H6BLQIL%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041458Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQDpKGzXzYTH3aiK4uwBtUS9g%2BmpEnljg9N13%2BmXtJVpxgIgSIas1dYaT9kNERwMRV3ycX%2Bd4V5U4YTmYIXP4A8uXv4q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDD1sLsJZMnjEjZvHBSrcA9yAm0pM8LT34i4Qgtr43ky0BLa51%2BvXlWoXrAMEWfv%2Ff4QW3cU7L4n9Osqy6AQZk%2FImkhVawZpsH7OyuwmSUDQPeXw1dDyGj4aPTeINvNXC9q8sSUXjPPcWyLF9yENpAsGpx5PiA7KgXbTU5Cg2XE87mQY0rrqWvoZh6y9vKaHphuXKCQINreE4h%2BF6W%2B27eDsTzwtZlZLbpUAnYJHbFeWiVxcyPUEC8ijn44SRoaf%2Ffe9UBtlWEFDjsnD5TzHwTq65fE1jbJguirvjG%2FQHI9pCpjrHdvfJGjxPdaXvWXBnqtX90C8SPnxbt35Cr56SfNNRt7rJbzmLIg4yQmQGBWPRUW3h%2F8osP1WIDsWMjBb4aZwDvEquDrwaAe2c04xqfWSDFU4418o%2FUddeoTWZqYlUr%2FCrMGyoFnj70PM0gl8ySCMXzi4H9seM9FRvkRFkqayMHiYjJQzwZQxHC9MusVbMUTl%2FdOOdi8fziLuXZb6V%2BUz4LiwL0EkaTMQDuCOVqIn0Zu1txGNfOE9tPcqaR8l2lmhihysMoXqoAi6APKj%2BcLqT59R%2BQ35VZKu%2BeUlQJAexiPAHmhLR3WqqwGrtAZ1LXK79qqOQHExVWkw5tfVGLxYrG5YZOK38Qcy3MOzHocsGOqUBKqxYS%2BSUkY4zKIg6cXfp9ESdDcNbGVs43YfjG2LDijs2kP7nuMQkMcJgf4%2FYs2ovlExvRiYqnhMVc3Vlt72t22sSOKm2qaz7bBL5vUit27pZ1aYSG4YqN4inDuf4L2QQRm1Oei3pgD58GkhASGNl0Vepp2mpiwKL%2BjpMbI0DWe9cXdqwUfPCk%2FFiA2KEy3l%2BvUTRsEKGHaPaiRnMWppPb4HNJnPM&X-Amz-Signature=14242937187a84292cc9e3210ab17d11a34c19276029a7ededbfb817f683192e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664H6BLQIL%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041458Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQDpKGzXzYTH3aiK4uwBtUS9g%2BmpEnljg9N13%2BmXtJVpxgIgSIas1dYaT9kNERwMRV3ycX%2Bd4V5U4YTmYIXP4A8uXv4q%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDD1sLsJZMnjEjZvHBSrcA9yAm0pM8LT34i4Qgtr43ky0BLa51%2BvXlWoXrAMEWfv%2Ff4QW3cU7L4n9Osqy6AQZk%2FImkhVawZpsH7OyuwmSUDQPeXw1dDyGj4aPTeINvNXC9q8sSUXjPPcWyLF9yENpAsGpx5PiA7KgXbTU5Cg2XE87mQY0rrqWvoZh6y9vKaHphuXKCQINreE4h%2BF6W%2B27eDsTzwtZlZLbpUAnYJHbFeWiVxcyPUEC8ijn44SRoaf%2Ffe9UBtlWEFDjsnD5TzHwTq65fE1jbJguirvjG%2FQHI9pCpjrHdvfJGjxPdaXvWXBnqtX90C8SPnxbt35Cr56SfNNRt7rJbzmLIg4yQmQGBWPRUW3h%2F8osP1WIDsWMjBb4aZwDvEquDrwaAe2c04xqfWSDFU4418o%2FUddeoTWZqYlUr%2FCrMGyoFnj70PM0gl8ySCMXzi4H9seM9FRvkRFkqayMHiYjJQzwZQxHC9MusVbMUTl%2FdOOdi8fziLuXZb6V%2BUz4LiwL0EkaTMQDuCOVqIn0Zu1txGNfOE9tPcqaR8l2lmhihysMoXqoAi6APKj%2BcLqT59R%2BQ35VZKu%2BeUlQJAexiPAHmhLR3WqqwGrtAZ1LXK79qqOQHExVWkw5tfVGLxYrG5YZOK38Qcy3MOzHocsGOqUBKqxYS%2BSUkY4zKIg6cXfp9ESdDcNbGVs43YfjG2LDijs2kP7nuMQkMcJgf4%2FYs2ovlExvRiYqnhMVc3Vlt72t22sSOKm2qaz7bBL5vUit27pZ1aYSG4YqN4inDuf4L2QQRm1Oei3pgD58GkhASGNl0Vepp2mpiwKL%2BjpMbI0DWe9cXdqwUfPCk%2FFiA2KEy3l%2BvUTRsEKGHaPaiRnMWppPb4HNJnPM&X-Amz-Signature=d703f2db820e44dc51735f074c86755064fb6217c4ac8aafc68b0ed0807f7d57&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DVKSZ3R%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041458Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBf5pPLEar2hPRu1NjjNoE3gfVlmQ46U8VtJIkYadAUrAiAVQ%2FpeBZWI%2FgTu%2FuG%2FoNV9XkKm17%2FzDxM1lZvA9qAVyyr%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMC8tCPg5YausLths1KtwD3tOsTSrlnySacTMt2%2BUXZWomtwcWi5%2BAPJvU%2BK5lMDvJv64k3hq1vYfJi8OWRCX5q19HLEK4V4QR2e9%2FjhVotrK8J4yiS9L22ZNCoz%2BC1XwF8trNwziEsHDlPhDmnhTBfiz3vw4U5l%2FiUSTZH1taYCBjBNVs4NjztC8NAgCQlRj%2BXbpAB6OVsjGCAvs%2F3qy3bW%2F%2Fs4URqOHk09O0h1C9kCRxmaA77Ls0HyyrkuH2TkENtuBlk9iRibgHv1SQ%2BfG4j5o0kEkT10ANxRlMtmapV3WMDocAFIhfMvFuwcgKb6Lz04qnQlwqB4Usmq2XxQS6h0z2b%2B7klOOmN2OCsc7fCzHgaPhkPXZCHiJjQVEFFvMdSGNkVcrNGyg1tOj%2Ft2K%2B%2F0UifBsSuBBHA8vUigfOrS7OnEaK2tz9RxJqqKE6jzbVegNSQIUTlUN0lAbWfnc%2FYJPqk6BDbGrs5%2BXmfOcYL9QZGDa4o0hsY4qVtqiPsigj%2BuK%2FFYpIknBJJpQxoSexzw%2BrpLJYLsZcjPHZSmoYV9Y6DRuB9WyhSJ3Bksua%2F%2Bu%2Bynz7ty0B8TXswyLAR4KBHkZ7KPy6wU%2BAWdoBuyWwo1tSgaLhXIlZ1WGb12HyzdZIGF79dGXBYbElOFwwlsihywY6pgH4nY9wNIaik4%2Fx2mM4YHkjae0B%2BF1RqXm5zTtQsIQF5jdOwWjWC6wUw0Na4Po39zsXWp4343UvOoBugJcvJoh8eH30bsEasWSXiyWcrSXQn3HkZ19wIuvkqUH1Kyv8mLiovp13j23FLB4ODkvqTwyy8vgNkbWYxIrSXZVBF3UfMQgZYVAVyUDfw4LasMEGgHMpHIeXzPaEm2rGqNw5sjEOXxmNmoFA&X-Amz-Signature=c5a9eee40f2dbe414aae1de50defc5e549bf1620937c0f254beabe266f86713b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DVKSZ3R%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041458Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBf5pPLEar2hPRu1NjjNoE3gfVlmQ46U8VtJIkYadAUrAiAVQ%2FpeBZWI%2FgTu%2FuG%2FoNV9XkKm17%2FzDxM1lZvA9qAVyyr%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMC8tCPg5YausLths1KtwD3tOsTSrlnySacTMt2%2BUXZWomtwcWi5%2BAPJvU%2BK5lMDvJv64k3hq1vYfJi8OWRCX5q19HLEK4V4QR2e9%2FjhVotrK8J4yiS9L22ZNCoz%2BC1XwF8trNwziEsHDlPhDmnhTBfiz3vw4U5l%2FiUSTZH1taYCBjBNVs4NjztC8NAgCQlRj%2BXbpAB6OVsjGCAvs%2F3qy3bW%2F%2Fs4URqOHk09O0h1C9kCRxmaA77Ls0HyyrkuH2TkENtuBlk9iRibgHv1SQ%2BfG4j5o0kEkT10ANxRlMtmapV3WMDocAFIhfMvFuwcgKb6Lz04qnQlwqB4Usmq2XxQS6h0z2b%2B7klOOmN2OCsc7fCzHgaPhkPXZCHiJjQVEFFvMdSGNkVcrNGyg1tOj%2Ft2K%2B%2F0UifBsSuBBHA8vUigfOrS7OnEaK2tz9RxJqqKE6jzbVegNSQIUTlUN0lAbWfnc%2FYJPqk6BDbGrs5%2BXmfOcYL9QZGDa4o0hsY4qVtqiPsigj%2BuK%2FFYpIknBJJpQxoSexzw%2BrpLJYLsZcjPHZSmoYV9Y6DRuB9WyhSJ3Bksua%2F%2Bu%2Bynz7ty0B8TXswyLAR4KBHkZ7KPy6wU%2BAWdoBuyWwo1tSgaLhXIlZ1WGb12HyzdZIGF79dGXBYbElOFwwlsihywY6pgH4nY9wNIaik4%2Fx2mM4YHkjae0B%2BF1RqXm5zTtQsIQF5jdOwWjWC6wUw0Na4Po39zsXWp4343UvOoBugJcvJoh8eH30bsEasWSXiyWcrSXQn3HkZ19wIuvkqUH1Kyv8mLiovp13j23FLB4ODkvqTwyy8vgNkbWYxIrSXZVBF3UfMQgZYVAVyUDfw4LasMEGgHMpHIeXzPaEm2rGqNw5sjEOXxmNmoFA&X-Amz-Signature=38aaf318d909a1db98bd0d4bcb5aa97cb0ccdc8afb638fc67d55712979199fbd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664DVKSZ3R%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041458Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIBf5pPLEar2hPRu1NjjNoE3gfVlmQ46U8VtJIkYadAUrAiAVQ%2FpeBZWI%2FgTu%2FuG%2FoNV9XkKm17%2FzDxM1lZvA9qAVyyr%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMC8tCPg5YausLths1KtwD3tOsTSrlnySacTMt2%2BUXZWomtwcWi5%2BAPJvU%2BK5lMDvJv64k3hq1vYfJi8OWRCX5q19HLEK4V4QR2e9%2FjhVotrK8J4yiS9L22ZNCoz%2BC1XwF8trNwziEsHDlPhDmnhTBfiz3vw4U5l%2FiUSTZH1taYCBjBNVs4NjztC8NAgCQlRj%2BXbpAB6OVsjGCAvs%2F3qy3bW%2F%2Fs4URqOHk09O0h1C9kCRxmaA77Ls0HyyrkuH2TkENtuBlk9iRibgHv1SQ%2BfG4j5o0kEkT10ANxRlMtmapV3WMDocAFIhfMvFuwcgKb6Lz04qnQlwqB4Usmq2XxQS6h0z2b%2B7klOOmN2OCsc7fCzHgaPhkPXZCHiJjQVEFFvMdSGNkVcrNGyg1tOj%2Ft2K%2B%2F0UifBsSuBBHA8vUigfOrS7OnEaK2tz9RxJqqKE6jzbVegNSQIUTlUN0lAbWfnc%2FYJPqk6BDbGrs5%2BXmfOcYL9QZGDa4o0hsY4qVtqiPsigj%2BuK%2FFYpIknBJJpQxoSexzw%2BrpLJYLsZcjPHZSmoYV9Y6DRuB9WyhSJ3Bksua%2F%2Bu%2Bynz7ty0B8TXswyLAR4KBHkZ7KPy6wU%2BAWdoBuyWwo1tSgaLhXIlZ1WGb12HyzdZIGF79dGXBYbElOFwwlsihywY6pgH4nY9wNIaik4%2Fx2mM4YHkjae0B%2BF1RqXm5zTtQsIQF5jdOwWjWC6wUw0Na4Po39zsXWp4343UvOoBugJcvJoh8eH30bsEasWSXiyWcrSXQn3HkZ19wIuvkqUH1Kyv8mLiovp13j23FLB4ODkvqTwyy8vgNkbWYxIrSXZVBF3UfMQgZYVAVyUDfw4LasMEGgHMpHIeXzPaEm2rGqNw5sjEOXxmNmoFA&X-Amz-Signature=26e85314dbe995f4bb72e2c571caadc0a08b7e9e6fa83d50df5771c04b26917e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667SVCLHKZ%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041500Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJIMEYCIQCTwv%2B8FPlPf1Uv%2FsL6T8R77M4UBbVXjnvAP2o0W6VsUgIhAKYlx5HBllceuW49d6wZgnK%2Fg0AYx7lW60vLmz0N39s2Kv8DCC0QABoMNjM3NDIzMTgzODA1IgyS2DUKSg8ZzFLMxiwq3APPGFtDP8MQ6vMqXYYePKhgEG1LwyvWOny0CBMNYqpYY%2FTGMPrQmMUOmWd2lFPkW%2BYss6tHY1EIV01QNKJfK9ZkXE15fbTHRYa%2Fr%2BEpZDAD5vQZ17IRFde%2FKn7ci%2F5O1b0qygp2UStHszrFBJN6BSoFFwBSvMFz9Mq8ZZs95Y4wIbwoicsT5%2FKJQ6bWcXGJC3wq6QoM6WIPILUA6HvANUMpLbe8tSrIplt%2BnidOZgBBMS%2B2cWo5aIDk4CctpqvZB4muARDjs1d%2BkFM7axHBCpEgm4pMC5XnuUtgD7c7ubOS58G4qupRZ%2Bo14QlENzuKEDotwriARQMLKi66Xa46As2p80YjIgEGac8WBtXw1CNa4dSUacoF49%2BJ6ikhmje%2F9sZ5nd9HZJl0KMpjZQ6PnHd2yuL6kqVIXmViwwiNhB%2F09yWor0wzydrQ%2BmowIdrOU%2BpLK2p49xsWuO9YX8zLGF6dIoV6jGx%2FQYehWhXya9m8O%2BUKNyHOJgm12KoaPLyJhY9Q0XbzfSZnZerGTyVo0SvBQqRlJjcuT09CjLi09%2BTU%2FJkuxhKuuakBu7ZwaK9yKViLH4bAz%2FiVdmdggCflrB98mbG%2BHQ1W4%2BjL7EuJ%2BO3lba1f6mUG7rPLXtFouzCDyKHLBjqkAZNZvkumMETQlGWgWFrZ3MgQUWM19GEyd8P5WUleh6NUqQn8HSvLdI4Im20nOQTEW3kiDUBkzXhhAr6JNBtXPICFLsYRRlt1%2BzBhmgE2wX7YugNV%2FTHJXmqMuA%2BlX1OpRCGguJcWY0mQuQMwXG%2Bq7zxitBg3aOm%2B2%2BS7sx0baHWxHdvHkFvDQ2GbeCoWnprb4iKyexQOEmMf12Ht2dfJgTevlhk7&X-Amz-Signature=1d9665b8cdae64d2d405c2ab52cadeeddcf3479d7c0ab9dd43583b6b841462a4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667SVCLHKZ%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041500Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJIMEYCIQCTwv%2B8FPlPf1Uv%2FsL6T8R77M4UBbVXjnvAP2o0W6VsUgIhAKYlx5HBllceuW49d6wZgnK%2Fg0AYx7lW60vLmz0N39s2Kv8DCC0QABoMNjM3NDIzMTgzODA1IgyS2DUKSg8ZzFLMxiwq3APPGFtDP8MQ6vMqXYYePKhgEG1LwyvWOny0CBMNYqpYY%2FTGMPrQmMUOmWd2lFPkW%2BYss6tHY1EIV01QNKJfK9ZkXE15fbTHRYa%2Fr%2BEpZDAD5vQZ17IRFde%2FKn7ci%2F5O1b0qygp2UStHszrFBJN6BSoFFwBSvMFz9Mq8ZZs95Y4wIbwoicsT5%2FKJQ6bWcXGJC3wq6QoM6WIPILUA6HvANUMpLbe8tSrIplt%2BnidOZgBBMS%2B2cWo5aIDk4CctpqvZB4muARDjs1d%2BkFM7axHBCpEgm4pMC5XnuUtgD7c7ubOS58G4qupRZ%2Bo14QlENzuKEDotwriARQMLKi66Xa46As2p80YjIgEGac8WBtXw1CNa4dSUacoF49%2BJ6ikhmje%2F9sZ5nd9HZJl0KMpjZQ6PnHd2yuL6kqVIXmViwwiNhB%2F09yWor0wzydrQ%2BmowIdrOU%2BpLK2p49xsWuO9YX8zLGF6dIoV6jGx%2FQYehWhXya9m8O%2BUKNyHOJgm12KoaPLyJhY9Q0XbzfSZnZerGTyVo0SvBQqRlJjcuT09CjLi09%2BTU%2FJkuxhKuuakBu7ZwaK9yKViLH4bAz%2FiVdmdggCflrB98mbG%2BHQ1W4%2BjL7EuJ%2BO3lba1f6mUG7rPLXtFouzCDyKHLBjqkAZNZvkumMETQlGWgWFrZ3MgQUWM19GEyd8P5WUleh6NUqQn8HSvLdI4Im20nOQTEW3kiDUBkzXhhAr6JNBtXPICFLsYRRlt1%2BzBhmgE2wX7YugNV%2FTHJXmqMuA%2BlX1OpRCGguJcWY0mQuQMwXG%2Bq7zxitBg3aOm%2B2%2BS7sx0baHWxHdvHkFvDQ2GbeCoWnprb4iKyexQOEmMf12Ht2dfJgTevlhk7&X-Amz-Signature=b5611bbea15ce25f01e4021986f87ef8e821d930c2ef53be8e781f046519601c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SS6MUEEU%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041500Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIHo5vYQfIKy3ZSPDBdGUcqnClUsqFsOPfhAIk%2BfRYq2UAiAQuRPGP%2FK%2FznygEQjUeAT3KQ66sOJaeKyC5b8fh%2Bdafir%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMkeoa7y6NZomZHSlXKtwDBkZa37pNxud%2FBBUwXIe4Ow3gKeSXUAlNUekdBJr0XUaNN2UXPH8lzJWXw4xPouo3YKECouQ92Wm77I66Hqmt%2BEb%2FF73AhHFPkr4pD57pmu98KITnpH%2BqqkwgPx3jURKZADJ%2BYt9nDeFNmqMxfCxlpVjqSp3X2MgpoQAKyU3l0%2FrKIi5ldZ7XZolrO7PhRpmXZUUksYT7RkzMpBzYBtONFJD2V2wOB%2B%2BYqxKHacgAdR71Ddf33JtsWhgdyC%2BqBLyudIZTRA9CSv2%2BS%2FH2XxRarHGCRTb3thNCDbtNCSfRJjpQoiBon%2F3cUJrCPGY%2BzklpdgDy1OyR%2FNX5t0HEgq7LMcng3lcmZ145rY6VYy7pmRuZtU6LShUa4tzc4AmR7xzbqpc1w8L%2B%2B7%2F7gClhW2l%2FYRihBMbba3gYnHJQ7uKbsdB29nt1J1d28pOKhdgDhrRkm2hBppkDkaBYnKaNK%2Fsgxedv0Ah3%2FgxKpOwcoctbWnZiPdzNVYynC9xa%2BMj8jtVmUuiS22eB8%2Bn6JZWWq9zpgpKibkiCY%2FBErBjeru6Q%2BCBfu3G%2F2vv%2BeP4q%2BadOd2HWNmeXwvc%2FR9ZaE%2F%2FUoZXQozyao9fcZEacmLba7QKIaXZNZPmp8jl73fREs8Iw9cehywY6pgFE7CeWnqmxtKbzw17Ew%2BbQ8My0kk0DE2EB2dWOu0v%2FzOPS3x4qSN9cPE%2BRzhFN0SEhl3E7I8I4ljJUMFHrh1T9mziwkIB7DsPpJ4c48wRgpW14XXRzcksoUyq6vGuTeucu6i041EZ14NnGe8NoyYWQiXLVrcW5SWvdBXPU8%2F2uvmPlWsYEF4RnlsP38Oq0GyNUI1MX9zKUjCR9W2dSdUtV2tDHwYey&X-Amz-Signature=a55c8d5586ef977e4717f8945c0e13ce01b9f9c3e20d4e4755c8db3d26182b78&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SS6MUEEU%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041500Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJGMEQCIHo5vYQfIKy3ZSPDBdGUcqnClUsqFsOPfhAIk%2BfRYq2UAiAQuRPGP%2FK%2FznygEQjUeAT3KQ66sOJaeKyC5b8fh%2Bdafir%2FAwgtEAAaDDYzNzQyMzE4MzgwNSIMkeoa7y6NZomZHSlXKtwDBkZa37pNxud%2FBBUwXIe4Ow3gKeSXUAlNUekdBJr0XUaNN2UXPH8lzJWXw4xPouo3YKECouQ92Wm77I66Hqmt%2BEb%2FF73AhHFPkr4pD57pmu98KITnpH%2BqqkwgPx3jURKZADJ%2BYt9nDeFNmqMxfCxlpVjqSp3X2MgpoQAKyU3l0%2FrKIi5ldZ7XZolrO7PhRpmXZUUksYT7RkzMpBzYBtONFJD2V2wOB%2B%2BYqxKHacgAdR71Ddf33JtsWhgdyC%2BqBLyudIZTRA9CSv2%2BS%2FH2XxRarHGCRTb3thNCDbtNCSfRJjpQoiBon%2F3cUJrCPGY%2BzklpdgDy1OyR%2FNX5t0HEgq7LMcng3lcmZ145rY6VYy7pmRuZtU6LShUa4tzc4AmR7xzbqpc1w8L%2B%2B7%2F7gClhW2l%2FYRihBMbba3gYnHJQ7uKbsdB29nt1J1d28pOKhdgDhrRkm2hBppkDkaBYnKaNK%2Fsgxedv0Ah3%2FgxKpOwcoctbWnZiPdzNVYynC9xa%2BMj8jtVmUuiS22eB8%2Bn6JZWWq9zpgpKibkiCY%2FBErBjeru6Q%2BCBfu3G%2F2vv%2BeP4q%2BadOd2HWNmeXwvc%2FR9ZaE%2F%2FUoZXQozyao9fcZEacmLba7QKIaXZNZPmp8jl73fREs8Iw9cehywY6pgFE7CeWnqmxtKbzw17Ew%2BbQ8My0kk0DE2EB2dWOu0v%2FzOPS3x4qSN9cPE%2BRzhFN0SEhl3E7I8I4ljJUMFHrh1T9mziwkIB7DsPpJ4c48wRgpW14XXRzcksoUyq6vGuTeucu6i041EZ14NnGe8NoyYWQiXLVrcW5SWvdBXPU8%2F2uvmPlWsYEF4RnlsP38Oq0GyNUI1MX9zKUjCR9W2dSdUtV2tDHwYey&X-Amz-Signature=848a0aaac1efcb0246ae8ae687324dc1970df78bbd5780e6684eb0041d0820c9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UX237O5M%2F20260115%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260115T041500Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGQaCXVzLXdlc3QtMiJHMEUCIQCE64vqkWsoHNlLNPIWaJ3p8lsFN6uImxeHJB4lbn8UGgIgSNV%2B5xpo5FK2vLSUUr0edZdQWM22esiE%2Bbfe9a1HxQAq%2FwMILRAAGgw2Mzc0MjMxODM4MDUiDKKk%2B1lYLHcShTifPSrcA14nst8QgGVVez7%2B6Bh2iMN1QhQhIvuzgjwMCsU%2B7gXBhAmNGPpnMfr8A%2BVhxzjYATMoXCWveKjgAsFLv9AI5eld1Q%2FCtTQqlhHTlkwqXThHVQ0tBZ363Z9vlyNErltE97dp%2F7EGh4gikbrF%2BYEvzUJZUv6VPdKoASmFzfcdU5jfGr68miOJtXZxZOZZv58y9AcV3ooQNzqQ1EEtvFEbtLEK5wqja8HzZmSTGnZ4RRwHxDN3eVIAdhJWX%2F1YgUrj4uUsQuO5vIpDEoUHoOtspZflG7w1T6Q61Xwa9sDYX9Pu2xeWS6W%2Fm0YKfhsTwuRI9m%2B4VD3QLsGiKyKydc%2BCuByVJ3czyruiMtnhrynNvOMAjRFAf%2BbGJrbd13Hc6UEUEjnQH0YpF833Vx4vG6d8Z%2BCVRpT7zuPnVUG08sUhEosTrSDrp3Az11iZAojSqQ3GvbS9MFXfojCB5lfEOdh6rmy3dsuDHQ135XDfIU2fMBLxcPonWw5QXeviaSUFfYhTCIPBb7xfhXW84%2BfSQBo5pF3ffTmmHVPwTA%2F6GRDdalX7k52o9ZH3yAoE8H%2B1T4VUCG0qwFxcGBeZVRa1Es4BKz72jZuQAO%2B4mHU59psb1HRaqBrUNahhL5dZOtw7MPLHocsGOqUBD%2FTVOeaDhys0tiK6MHR3b6pI4K%2BlqdTGACeybkJzJHHtphaBM2oMVGB0by%2BPW9xUjitTLoqKRJwbJnuAsCLxpXvU5tqTR7taS5lg%2BGbFXf7UxGcc8MchsBU4o1h7MJInAKkLksta%2BNKifqqD%2BWk%2FEgELlBBNhPQevFBpoE7Y3j5vjw%2Fh%2BChONUYfAx%2B%2Fd354iedFYcZqgwCfWinPfLE2%2FNdaPMr1&X-Amz-Signature=2aac7285af7fc830ff3ded43ed635b2de3efb09d11c05e59082343bd847716b7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
