
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664OXXGVUR%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040907Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQD3iWzQucZhHlUOiFHQvJP%2BESSVoGPa2BloQgV78VJKugIgHMnrBG7rATDDRt59awJzjWg0fsueQOLtV2BZDc%2FgoTAq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDEFqMUsdyLk82W9JryrcA9cpLVXbxMd%2BuSbeIRHUP5amKWZpixNGJWaQx8V1z9n21arD4fUrHZ0By5k199lYT0tMhl0jVb4PImV3tRQEJuurgJMmWRObun61L%2FoMcA3hTyLZgt%2Fg3bTDo0%2BoSo60WYVuAFVwpongI67ka987U5Sap1%2BaY9Mg%2Ffl9r51WjKswxhT%2BzGvppzzQ1oiRjffIJhsN2eRWAkxq5wM%2FD7XwwToKxu4d6bCp1q%2BxEVLbEoGYTosLQ8BsAif9GX8ioVIlIJaC%2F%2BI46widXcvp1eJWv5ksegY8GikencmBD6O6b%2BMjm4dD1u7JjJFQxBW31ACs8uZHi1VXzTaYZFFQpbHD8WoS4XHq6ZrmArnaVhT88%2FLhTtm8%2BeT%2FoLCqQGtEQ5QJxG9uQgb9h5wugyybOLYSj1768zY34yPevXorIUex8ISVEpcl%2BWBE98kJfqbQJQRNmOKFUB1aoJFHMmX7I1g5cnJuOQ7E9OZgt7an1lY5P83yjjqU5UKMzxwNUG%2BUNbBi89Itoi5xGakj5liYxCQSPfzua4j%2Bdn2tM9xjjbvs6y3xf7YyEUa4elI%2Bp7q8GrvviTpLeNEdsFXUSDAmgMNg89su3LPak%2F8mh8P4TenNnBARI0uti2seBMehaH2TMM2eqMoGOqUByQ1mIZAjFOomNgVRGSI4ANO5KmrboXys3ql4YtfXWeKuJaflAHHLsJziXNoepzAOIiwpmg2A456igOOPZnGZChCqb3NHOmaStM%2FpDEWN8TsDAEnVnQnAScX1LtDE%2F%2F59nBOU6JFw8bd8YkoDa%2Bpn1ReIHPr5gTOrHQOiB7vxzURCytS9fMf1k3n6%2BrQcjqh5jzeGBmiyDtPgnWp4RYxgcjDp%2FED6&X-Amz-Signature=6503faaeeb893b2085dbbc5dd2a2e103e9ffa3f62b8f1cb0951c6555e7f5dfc4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664OXXGVUR%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040907Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQD3iWzQucZhHlUOiFHQvJP%2BESSVoGPa2BloQgV78VJKugIgHMnrBG7rATDDRt59awJzjWg0fsueQOLtV2BZDc%2FgoTAq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDEFqMUsdyLk82W9JryrcA9cpLVXbxMd%2BuSbeIRHUP5amKWZpixNGJWaQx8V1z9n21arD4fUrHZ0By5k199lYT0tMhl0jVb4PImV3tRQEJuurgJMmWRObun61L%2FoMcA3hTyLZgt%2Fg3bTDo0%2BoSo60WYVuAFVwpongI67ka987U5Sap1%2BaY9Mg%2Ffl9r51WjKswxhT%2BzGvppzzQ1oiRjffIJhsN2eRWAkxq5wM%2FD7XwwToKxu4d6bCp1q%2BxEVLbEoGYTosLQ8BsAif9GX8ioVIlIJaC%2F%2BI46widXcvp1eJWv5ksegY8GikencmBD6O6b%2BMjm4dD1u7JjJFQxBW31ACs8uZHi1VXzTaYZFFQpbHD8WoS4XHq6ZrmArnaVhT88%2FLhTtm8%2BeT%2FoLCqQGtEQ5QJxG9uQgb9h5wugyybOLYSj1768zY34yPevXorIUex8ISVEpcl%2BWBE98kJfqbQJQRNmOKFUB1aoJFHMmX7I1g5cnJuOQ7E9OZgt7an1lY5P83yjjqU5UKMzxwNUG%2BUNbBi89Itoi5xGakj5liYxCQSPfzua4j%2Bdn2tM9xjjbvs6y3xf7YyEUa4elI%2Bp7q8GrvviTpLeNEdsFXUSDAmgMNg89su3LPak%2F8mh8P4TenNnBARI0uti2seBMehaH2TMM2eqMoGOqUByQ1mIZAjFOomNgVRGSI4ANO5KmrboXys3ql4YtfXWeKuJaflAHHLsJziXNoepzAOIiwpmg2A456igOOPZnGZChCqb3NHOmaStM%2FpDEWN8TsDAEnVnQnAScX1LtDE%2F%2F59nBOU6JFw8bd8YkoDa%2Bpn1ReIHPr5gTOrHQOiB7vxzURCytS9fMf1k3n6%2BrQcjqh5jzeGBmiyDtPgnWp4RYxgcjDp%2FED6&X-Amz-Signature=dcb9f3a820dc442659e4885ce09d5922aaeb840da9d481c27c19613ef40648e0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664OXXGVUR%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040907Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQD3iWzQucZhHlUOiFHQvJP%2BESSVoGPa2BloQgV78VJKugIgHMnrBG7rATDDRt59awJzjWg0fsueQOLtV2BZDc%2FgoTAq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDEFqMUsdyLk82W9JryrcA9cpLVXbxMd%2BuSbeIRHUP5amKWZpixNGJWaQx8V1z9n21arD4fUrHZ0By5k199lYT0tMhl0jVb4PImV3tRQEJuurgJMmWRObun61L%2FoMcA3hTyLZgt%2Fg3bTDo0%2BoSo60WYVuAFVwpongI67ka987U5Sap1%2BaY9Mg%2Ffl9r51WjKswxhT%2BzGvppzzQ1oiRjffIJhsN2eRWAkxq5wM%2FD7XwwToKxu4d6bCp1q%2BxEVLbEoGYTosLQ8BsAif9GX8ioVIlIJaC%2F%2BI46widXcvp1eJWv5ksegY8GikencmBD6O6b%2BMjm4dD1u7JjJFQxBW31ACs8uZHi1VXzTaYZFFQpbHD8WoS4XHq6ZrmArnaVhT88%2FLhTtm8%2BeT%2FoLCqQGtEQ5QJxG9uQgb9h5wugyybOLYSj1768zY34yPevXorIUex8ISVEpcl%2BWBE98kJfqbQJQRNmOKFUB1aoJFHMmX7I1g5cnJuOQ7E9OZgt7an1lY5P83yjjqU5UKMzxwNUG%2BUNbBi89Itoi5xGakj5liYxCQSPfzua4j%2Bdn2tM9xjjbvs6y3xf7YyEUa4elI%2Bp7q8GrvviTpLeNEdsFXUSDAmgMNg89su3LPak%2F8mh8P4TenNnBARI0uti2seBMehaH2TMM2eqMoGOqUByQ1mIZAjFOomNgVRGSI4ANO5KmrboXys3ql4YtfXWeKuJaflAHHLsJziXNoepzAOIiwpmg2A456igOOPZnGZChCqb3NHOmaStM%2FpDEWN8TsDAEnVnQnAScX1LtDE%2F%2F59nBOU6JFw8bd8YkoDa%2Bpn1ReIHPr5gTOrHQOiB7vxzURCytS9fMf1k3n6%2BrQcjqh5jzeGBmiyDtPgnWp4RYxgcjDp%2FED6&X-Amz-Signature=a5091b0882db83f05e0c1c9ed5f79b3774454546c330985aa4e0f20fdd8e0691&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZY5XBEP%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040908Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIA5Zbe%2Bah9aHazSAhNcl9ewQL7hYLeRenR9MOSLMo5FgAiAV77%2FLiaCalwrOLZTPjA%2BK98ZEdMGb33pddeq9FPeNZCr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMDjPpbPyBJUa%2FXrhZKtwDEGDkbk0yNeBMDDKJ%2FlTlBU2sofnmB4GFlHUPwd0rGSZ63DxRCQHl%2Fgh5e5Go3W99RC7dxAOUrIESY7EMH7I9qMjCgtIkqghwoyd51kHPcFhnIlsaN8tPw0IUtVq1phGcH8GSSc%2BcbinGJnU6Df12Ilpe3QFewL1ZEihdUJZEWsDgAv8jKicytoSsyo8ELxnHYCE5QoVdNUpidIuyJQ1nrFCUMtiWkhT14lda2BsjxzrU6xn2u3%2BfrI0%2FkWTw6w%2BpejIHsGULf066vKF1%2F07OtB3ziJirpoh6oRzBSPfGBCRVbkCg2MeScjdWM8pgWU0xMJ1%2FZObMr3X6VbwxgmZ82W8gyT57f1V6OBYogdFfFaHt%2F9EhFF07L%2FfndxdOFyS6pdDF0iGEvecdBXznusCPU7AO2TJOcWASXE28FaY%2BIcB8%2BpYpR9dutXyTPG7xCCAxDuGUMcjfPYQacKwlOLgd2GyNHhiiTc48RtZxcXQqskeK0OxVBS9dKF%2BHnLqzoHIthqN%2FwIQFBVUfkU1Yap5lLeLTE5jILFJxkV57%2Fgs7YbJRpf0jGVWuCFBbK9MaPprMZZeA8wSA%2BlyL0kDFkGUO%2BGgZcvw9W1Q5ghP8WxKAr3w0YMoEUFiDE%2B06ufowpp6oygY6pgH9ACK2L5xowaQfmJ%2FY48BbR%2FcVVx0m74SsubZWtuFRq592JnazMI5OO6jWSzMhgJLD%2FAC1W27GHGWD%2Fo7GIatE7YvFtXeIH52GPsrm8Q9Yg26Cf2FVjDXx702DNs18AYm2K%2FGAus4mQaa1O0nVVMQ1yl%2BInjZwWYP0%2BeAxoMZkxhpAPVAgigxedxpVWxCwyILkvJgATufsYQta6OoQoPOUdnxxD1F%2B&X-Amz-Signature=7dc5ac34e9630b4f6120cac4458a04db3650d1c793e14526f413e3c71be92453&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZY5XBEP%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040908Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIA5Zbe%2Bah9aHazSAhNcl9ewQL7hYLeRenR9MOSLMo5FgAiAV77%2FLiaCalwrOLZTPjA%2BK98ZEdMGb33pddeq9FPeNZCr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMDjPpbPyBJUa%2FXrhZKtwDEGDkbk0yNeBMDDKJ%2FlTlBU2sofnmB4GFlHUPwd0rGSZ63DxRCQHl%2Fgh5e5Go3W99RC7dxAOUrIESY7EMH7I9qMjCgtIkqghwoyd51kHPcFhnIlsaN8tPw0IUtVq1phGcH8GSSc%2BcbinGJnU6Df12Ilpe3QFewL1ZEihdUJZEWsDgAv8jKicytoSsyo8ELxnHYCE5QoVdNUpidIuyJQ1nrFCUMtiWkhT14lda2BsjxzrU6xn2u3%2BfrI0%2FkWTw6w%2BpejIHsGULf066vKF1%2F07OtB3ziJirpoh6oRzBSPfGBCRVbkCg2MeScjdWM8pgWU0xMJ1%2FZObMr3X6VbwxgmZ82W8gyT57f1V6OBYogdFfFaHt%2F9EhFF07L%2FfndxdOFyS6pdDF0iGEvecdBXznusCPU7AO2TJOcWASXE28FaY%2BIcB8%2BpYpR9dutXyTPG7xCCAxDuGUMcjfPYQacKwlOLgd2GyNHhiiTc48RtZxcXQqskeK0OxVBS9dKF%2BHnLqzoHIthqN%2FwIQFBVUfkU1Yap5lLeLTE5jILFJxkV57%2Fgs7YbJRpf0jGVWuCFBbK9MaPprMZZeA8wSA%2BlyL0kDFkGUO%2BGgZcvw9W1Q5ghP8WxKAr3w0YMoEUFiDE%2B06ufowpp6oygY6pgH9ACK2L5xowaQfmJ%2FY48BbR%2FcVVx0m74SsubZWtuFRq592JnazMI5OO6jWSzMhgJLD%2FAC1W27GHGWD%2Fo7GIatE7YvFtXeIH52GPsrm8Q9Yg26Cf2FVjDXx702DNs18AYm2K%2FGAus4mQaa1O0nVVMQ1yl%2BInjZwWYP0%2BeAxoMZkxhpAPVAgigxedxpVWxCwyILkvJgATufsYQta6OoQoPOUdnxxD1F%2B&X-Amz-Signature=ce8a94ee74d20990aeb23b00ac2ab1e76628ae57262cd0b1086b53286eea94ee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZY5XBEP%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040908Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIA5Zbe%2Bah9aHazSAhNcl9ewQL7hYLeRenR9MOSLMo5FgAiAV77%2FLiaCalwrOLZTPjA%2BK98ZEdMGb33pddeq9FPeNZCr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMDjPpbPyBJUa%2FXrhZKtwDEGDkbk0yNeBMDDKJ%2FlTlBU2sofnmB4GFlHUPwd0rGSZ63DxRCQHl%2Fgh5e5Go3W99RC7dxAOUrIESY7EMH7I9qMjCgtIkqghwoyd51kHPcFhnIlsaN8tPw0IUtVq1phGcH8GSSc%2BcbinGJnU6Df12Ilpe3QFewL1ZEihdUJZEWsDgAv8jKicytoSsyo8ELxnHYCE5QoVdNUpidIuyJQ1nrFCUMtiWkhT14lda2BsjxzrU6xn2u3%2BfrI0%2FkWTw6w%2BpejIHsGULf066vKF1%2F07OtB3ziJirpoh6oRzBSPfGBCRVbkCg2MeScjdWM8pgWU0xMJ1%2FZObMr3X6VbwxgmZ82W8gyT57f1V6OBYogdFfFaHt%2F9EhFF07L%2FfndxdOFyS6pdDF0iGEvecdBXznusCPU7AO2TJOcWASXE28FaY%2BIcB8%2BpYpR9dutXyTPG7xCCAxDuGUMcjfPYQacKwlOLgd2GyNHhiiTc48RtZxcXQqskeK0OxVBS9dKF%2BHnLqzoHIthqN%2FwIQFBVUfkU1Yap5lLeLTE5jILFJxkV57%2Fgs7YbJRpf0jGVWuCFBbK9MaPprMZZeA8wSA%2BlyL0kDFkGUO%2BGgZcvw9W1Q5ghP8WxKAr3w0YMoEUFiDE%2B06ufowpp6oygY6pgH9ACK2L5xowaQfmJ%2FY48BbR%2FcVVx0m74SsubZWtuFRq592JnazMI5OO6jWSzMhgJLD%2FAC1W27GHGWD%2Fo7GIatE7YvFtXeIH52GPsrm8Q9Yg26Cf2FVjDXx702DNs18AYm2K%2FGAus4mQaa1O0nVVMQ1yl%2BInjZwWYP0%2BeAxoMZkxhpAPVAgigxedxpVWxCwyILkvJgATufsYQta6OoQoPOUdnxxD1F%2B&X-Amz-Signature=72a6098f7794af0434e229a756dad2ae6c9d9d7ae96348b623ac295d6a50d179&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWU6QX5D%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIBvQmEckAO50ZW0VyEM1gl5J%2FHg6NB%2F2UYbBZcCmRAoBAiEArhKiIOQRlz5NMR1zEIp12UY1klpgvSUajwuh3wj3tREq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDDzADAjz9YSLMuinlircA5RLozaaO1fwHHTgMVGYrNlvRZuaraEjCnKfK6N4c%2Bo7N4spF1NP8drOBfmntHDeNhfNyd6x4ME1LO%2BWbqdvp85nu6ZLFLfGKsj5qsQc4eCiP%2F04%2FqquRWXHp8lCHhxmZ1k%2F8RzcKBOCQuZ0qPDZenSDnsyG%2FWQsKY%2BAxUuUcEUIcid9GQnxt%2F8WyKsOw6lSZbS3MDIlNiaGR454FqFBPsB58xKFCwKpKYhMdLumZjVmkihSrUY5Qhzxmx3VuuZ4HM48jKPo624jp7zVSrj7QwZgbjVQ%2FYrpm6fZhpu%2FUUzxuGFf7%2BphRjaQHvK7CfZ6b8a8l8wM0UDZJumY0XF9sz6lUZx3UqHlHwLbLYgL5cj3LG3ErhdlJu8LNmaEOKBjyqzQM8aOdyIsr%2FTjaLrKfnbMIfn%2FZ3MyFnGNy83XiIskPuajgMGbvvUlRiNY5qEDfEJqE84y4%2FTHba1%2BxaEH6Ziv9GuugSwvHZ8bE0pGe%2B4GN%2BkZnajIIODq%2Fgw8RFT4xy8KJ6kkcdLoiVCyVurMP209kMSSVCTfe47KSLjRI7iHl2Inf59sQmVZk%2FaLdDKZvYw4Dye8t20LBtLU2f%2BQkKZ33VrWJ1%2BG0eWgBfxFsGwDIIK6I9mCGhFwipbQML2eqMoGOqUBAxyBMyVovL5eb4jp4j9nkGr5EH9Y1QFCeOcCuFyCGHWWjTjvc1XlS9kOxIL1TQmm1Wj69lno6T2CBtWF23hNo1UmMDaGWx5J0aV%2FRexeOmHIFZ0gP1pMzzSnjvklFV5KgixDyIOEosOLtEYBBItTSNZTOkZkzUrmbgdbimIxTNVeAX25zli4XaYIt68sg%2BwSiROP7rALONwBL4G3%2FSa4Ivpvw%2B0B&X-Amz-Signature=1b40e47be46a037357d0c88718cb126604bf057dae757ce3a4d52144fac7c54b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWU6QX5D%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIBvQmEckAO50ZW0VyEM1gl5J%2FHg6NB%2F2UYbBZcCmRAoBAiEArhKiIOQRlz5NMR1zEIp12UY1klpgvSUajwuh3wj3tREq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDDzADAjz9YSLMuinlircA5RLozaaO1fwHHTgMVGYrNlvRZuaraEjCnKfK6N4c%2Bo7N4spF1NP8drOBfmntHDeNhfNyd6x4ME1LO%2BWbqdvp85nu6ZLFLfGKsj5qsQc4eCiP%2F04%2FqquRWXHp8lCHhxmZ1k%2F8RzcKBOCQuZ0qPDZenSDnsyG%2FWQsKY%2BAxUuUcEUIcid9GQnxt%2F8WyKsOw6lSZbS3MDIlNiaGR454FqFBPsB58xKFCwKpKYhMdLumZjVmkihSrUY5Qhzxmx3VuuZ4HM48jKPo624jp7zVSrj7QwZgbjVQ%2FYrpm6fZhpu%2FUUzxuGFf7%2BphRjaQHvK7CfZ6b8a8l8wM0UDZJumY0XF9sz6lUZx3UqHlHwLbLYgL5cj3LG3ErhdlJu8LNmaEOKBjyqzQM8aOdyIsr%2FTjaLrKfnbMIfn%2FZ3MyFnGNy83XiIskPuajgMGbvvUlRiNY5qEDfEJqE84y4%2FTHba1%2BxaEH6Ziv9GuugSwvHZ8bE0pGe%2B4GN%2BkZnajIIODq%2Fgw8RFT4xy8KJ6kkcdLoiVCyVurMP209kMSSVCTfe47KSLjRI7iHl2Inf59sQmVZk%2FaLdDKZvYw4Dye8t20LBtLU2f%2BQkKZ33VrWJ1%2BG0eWgBfxFsGwDIIK6I9mCGhFwipbQML2eqMoGOqUBAxyBMyVovL5eb4jp4j9nkGr5EH9Y1QFCeOcCuFyCGHWWjTjvc1XlS9kOxIL1TQmm1Wj69lno6T2CBtWF23hNo1UmMDaGWx5J0aV%2FRexeOmHIFZ0gP1pMzzSnjvklFV5KgixDyIOEosOLtEYBBItTSNZTOkZkzUrmbgdbimIxTNVeAX25zli4XaYIt68sg%2BwSiROP7rALONwBL4G3%2FSa4Ivpvw%2B0B&X-Amz-Signature=14558d6303b56580e0ef27891692241a702cf752d6d5b8bd11927cb5ab6ae414&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWU6QX5D%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIBvQmEckAO50ZW0VyEM1gl5J%2FHg6NB%2F2UYbBZcCmRAoBAiEArhKiIOQRlz5NMR1zEIp12UY1klpgvSUajwuh3wj3tREq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDDzADAjz9YSLMuinlircA5RLozaaO1fwHHTgMVGYrNlvRZuaraEjCnKfK6N4c%2Bo7N4spF1NP8drOBfmntHDeNhfNyd6x4ME1LO%2BWbqdvp85nu6ZLFLfGKsj5qsQc4eCiP%2F04%2FqquRWXHp8lCHhxmZ1k%2F8RzcKBOCQuZ0qPDZenSDnsyG%2FWQsKY%2BAxUuUcEUIcid9GQnxt%2F8WyKsOw6lSZbS3MDIlNiaGR454FqFBPsB58xKFCwKpKYhMdLumZjVmkihSrUY5Qhzxmx3VuuZ4HM48jKPo624jp7zVSrj7QwZgbjVQ%2FYrpm6fZhpu%2FUUzxuGFf7%2BphRjaQHvK7CfZ6b8a8l8wM0UDZJumY0XF9sz6lUZx3UqHlHwLbLYgL5cj3LG3ErhdlJu8LNmaEOKBjyqzQM8aOdyIsr%2FTjaLrKfnbMIfn%2FZ3MyFnGNy83XiIskPuajgMGbvvUlRiNY5qEDfEJqE84y4%2FTHba1%2BxaEH6Ziv9GuugSwvHZ8bE0pGe%2B4GN%2BkZnajIIODq%2Fgw8RFT4xy8KJ6kkcdLoiVCyVurMP209kMSSVCTfe47KSLjRI7iHl2Inf59sQmVZk%2FaLdDKZvYw4Dye8t20LBtLU2f%2BQkKZ33VrWJ1%2BG0eWgBfxFsGwDIIK6I9mCGhFwipbQML2eqMoGOqUBAxyBMyVovL5eb4jp4j9nkGr5EH9Y1QFCeOcCuFyCGHWWjTjvc1XlS9kOxIL1TQmm1Wj69lno6T2CBtWF23hNo1UmMDaGWx5J0aV%2FRexeOmHIFZ0gP1pMzzSnjvklFV5KgixDyIOEosOLtEYBBItTSNZTOkZkzUrmbgdbimIxTNVeAX25zli4XaYIt68sg%2BwSiROP7rALONwBL4G3%2FSa4Ivpvw%2B0B&X-Amz-Signature=b1668d57a1681195eb4bf3ae3af57c4dd9feb782eaa45e86f70dbbe5b6a62497&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWU6QX5D%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIBvQmEckAO50ZW0VyEM1gl5J%2FHg6NB%2F2UYbBZcCmRAoBAiEArhKiIOQRlz5NMR1zEIp12UY1klpgvSUajwuh3wj3tREq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDDzADAjz9YSLMuinlircA5RLozaaO1fwHHTgMVGYrNlvRZuaraEjCnKfK6N4c%2Bo7N4spF1NP8drOBfmntHDeNhfNyd6x4ME1LO%2BWbqdvp85nu6ZLFLfGKsj5qsQc4eCiP%2F04%2FqquRWXHp8lCHhxmZ1k%2F8RzcKBOCQuZ0qPDZenSDnsyG%2FWQsKY%2BAxUuUcEUIcid9GQnxt%2F8WyKsOw6lSZbS3MDIlNiaGR454FqFBPsB58xKFCwKpKYhMdLumZjVmkihSrUY5Qhzxmx3VuuZ4HM48jKPo624jp7zVSrj7QwZgbjVQ%2FYrpm6fZhpu%2FUUzxuGFf7%2BphRjaQHvK7CfZ6b8a8l8wM0UDZJumY0XF9sz6lUZx3UqHlHwLbLYgL5cj3LG3ErhdlJu8LNmaEOKBjyqzQM8aOdyIsr%2FTjaLrKfnbMIfn%2FZ3MyFnGNy83XiIskPuajgMGbvvUlRiNY5qEDfEJqE84y4%2FTHba1%2BxaEH6Ziv9GuugSwvHZ8bE0pGe%2B4GN%2BkZnajIIODq%2Fgw8RFT4xy8KJ6kkcdLoiVCyVurMP209kMSSVCTfe47KSLjRI7iHl2Inf59sQmVZk%2FaLdDKZvYw4Dye8t20LBtLU2f%2BQkKZ33VrWJ1%2BG0eWgBfxFsGwDIIK6I9mCGhFwipbQML2eqMoGOqUBAxyBMyVovL5eb4jp4j9nkGr5EH9Y1QFCeOcCuFyCGHWWjTjvc1XlS9kOxIL1TQmm1Wj69lno6T2CBtWF23hNo1UmMDaGWx5J0aV%2FRexeOmHIFZ0gP1pMzzSnjvklFV5KgixDyIOEosOLtEYBBItTSNZTOkZkzUrmbgdbimIxTNVeAX25zli4XaYIt68sg%2BwSiROP7rALONwBL4G3%2FSa4Ivpvw%2B0B&X-Amz-Signature=72b1dc44330004067ae697170b823fed3d26a1adf1ee06e806542645e4c33919&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHOBVN6C%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIHZDswxCmqcRAUy4ZZKRUJpGZqJao481cHemU7Mx4xKvAiA353mpk0nV8%2Bj1SE0zw361P7%2B8OjVijnozQdsMsgm3oSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMCg7VAZ0ubRipEAADKtwDH9A3Bwwlu9gv2JXEoyYYdngEbralOxiliwvGJS73ngjgTV8TAqT4ch6AzXskqbTfI7re%2FZaNBvZWrk%2BH5H6lB%2FMdHwZl4DkUFnkfC8t3TKsl2jx4zxGicasbgb9wvyAZ1cjqAJmSyKvir94FJSHSyvrsyledMbbyg855VHbmyETxo7mDoqKHZ%2BTLbBOBJuEftFkXbOXbhGu9BCae%2Fjq7vRfE4f7C0JmxsBIGPbshYbGPk7vRhfunUKRFSEXPIdAa5kA1M9Yv2aD5G5v213lC77BzpNmmDhaUA%2BE8fHG6oD6hn5F9oAhgOiy5drmM9MfGgrhufbWr1piKQUu8jaB9Q%2FXwuYbeMsKayDCl4VoAz7D69cTps9ncoXiY%2BS50FjP82OxLvliJ9DbmmFxR%2F1LZX7GhZwLijFw8hW%2FhLPawDyxMiEq7Pjo%2FanEjejI7za5erS6JJVleHtWep8rh0PmJxmAQYi8WxO%2BDRDdK9rqVaV1OxTZTiTmgjUdVz58KFneT6gYuPuBKmGncFH6Qyc9U%2Fz6WFV4rv%2FK60PURZP7VuTMf7nRSL0i03gKa%2Bp19bnB1SKw93PpmhQgvk67etww90cC%2F6E9aAea9I4Rk0LQ5CjRleDfCsR1eVWJa62Qw0p6oygY6pgE02D58wq%2BjZC8Y%2FUUE9%2FSxhLh3L%2FP9RRfvf0DaZjGW7sjywdAO7zzEv%2Fg2xvfl86H%2FmaZUJyWoJyCnT9Aj6mY%2FeTVNtrBAbIooJQvqlRhVIkB3yJQbYkIEAh5omBdvUHAk730aio35W5Ni2F%2FGtMnxIGel%2BZ18zew2HxZxnTVIhhPZNw6Yf1Wt6i1tX%2F5iprvmWuc82k%2FZLb2zap4BMxYjQGXuAmIW&X-Amz-Signature=d91542cdc54e88d2baa3e293e433815623ff4d224709f5897d151260589f9ed0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHOBVN6C%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIHZDswxCmqcRAUy4ZZKRUJpGZqJao481cHemU7Mx4xKvAiA353mpk0nV8%2Bj1SE0zw361P7%2B8OjVijnozQdsMsgm3oSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMCg7VAZ0ubRipEAADKtwDH9A3Bwwlu9gv2JXEoyYYdngEbralOxiliwvGJS73ngjgTV8TAqT4ch6AzXskqbTfI7re%2FZaNBvZWrk%2BH5H6lB%2FMdHwZl4DkUFnkfC8t3TKsl2jx4zxGicasbgb9wvyAZ1cjqAJmSyKvir94FJSHSyvrsyledMbbyg855VHbmyETxo7mDoqKHZ%2BTLbBOBJuEftFkXbOXbhGu9BCae%2Fjq7vRfE4f7C0JmxsBIGPbshYbGPk7vRhfunUKRFSEXPIdAa5kA1M9Yv2aD5G5v213lC77BzpNmmDhaUA%2BE8fHG6oD6hn5F9oAhgOiy5drmM9MfGgrhufbWr1piKQUu8jaB9Q%2FXwuYbeMsKayDCl4VoAz7D69cTps9ncoXiY%2BS50FjP82OxLvliJ9DbmmFxR%2F1LZX7GhZwLijFw8hW%2FhLPawDyxMiEq7Pjo%2FanEjejI7za5erS6JJVleHtWep8rh0PmJxmAQYi8WxO%2BDRDdK9rqVaV1OxTZTiTmgjUdVz58KFneT6gYuPuBKmGncFH6Qyc9U%2Fz6WFV4rv%2FK60PURZP7VuTMf7nRSL0i03gKa%2Bp19bnB1SKw93PpmhQgvk67etww90cC%2F6E9aAea9I4Rk0LQ5CjRleDfCsR1eVWJa62Qw0p6oygY6pgE02D58wq%2BjZC8Y%2FUUE9%2FSxhLh3L%2FP9RRfvf0DaZjGW7sjywdAO7zzEv%2Fg2xvfl86H%2FmaZUJyWoJyCnT9Aj6mY%2FeTVNtrBAbIooJQvqlRhVIkB3yJQbYkIEAh5omBdvUHAk730aio35W5Ni2F%2FGtMnxIGel%2BZ18zew2HxZxnTVIhhPZNw6Yf1Wt6i1tX%2F5iprvmWuc82k%2FZLb2zap4BMxYjQGXuAmIW&X-Amz-Signature=3357e9745d28fe397c52f0937b9be207723b50d47f97a318c8f5eae93e98d3b6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHOBVN6C%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIHZDswxCmqcRAUy4ZZKRUJpGZqJao481cHemU7Mx4xKvAiA353mpk0nV8%2Bj1SE0zw361P7%2B8OjVijnozQdsMsgm3oSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMCg7VAZ0ubRipEAADKtwDH9A3Bwwlu9gv2JXEoyYYdngEbralOxiliwvGJS73ngjgTV8TAqT4ch6AzXskqbTfI7re%2FZaNBvZWrk%2BH5H6lB%2FMdHwZl4DkUFnkfC8t3TKsl2jx4zxGicasbgb9wvyAZ1cjqAJmSyKvir94FJSHSyvrsyledMbbyg855VHbmyETxo7mDoqKHZ%2BTLbBOBJuEftFkXbOXbhGu9BCae%2Fjq7vRfE4f7C0JmxsBIGPbshYbGPk7vRhfunUKRFSEXPIdAa5kA1M9Yv2aD5G5v213lC77BzpNmmDhaUA%2BE8fHG6oD6hn5F9oAhgOiy5drmM9MfGgrhufbWr1piKQUu8jaB9Q%2FXwuYbeMsKayDCl4VoAz7D69cTps9ncoXiY%2BS50FjP82OxLvliJ9DbmmFxR%2F1LZX7GhZwLijFw8hW%2FhLPawDyxMiEq7Pjo%2FanEjejI7za5erS6JJVleHtWep8rh0PmJxmAQYi8WxO%2BDRDdK9rqVaV1OxTZTiTmgjUdVz58KFneT6gYuPuBKmGncFH6Qyc9U%2Fz6WFV4rv%2FK60PURZP7VuTMf7nRSL0i03gKa%2Bp19bnB1SKw93PpmhQgvk67etww90cC%2F6E9aAea9I4Rk0LQ5CjRleDfCsR1eVWJa62Qw0p6oygY6pgE02D58wq%2BjZC8Y%2FUUE9%2FSxhLh3L%2FP9RRfvf0DaZjGW7sjywdAO7zzEv%2Fg2xvfl86H%2FmaZUJyWoJyCnT9Aj6mY%2FeTVNtrBAbIooJQvqlRhVIkB3yJQbYkIEAh5omBdvUHAk730aio35W5Ni2F%2FGtMnxIGel%2BZ18zew2HxZxnTVIhhPZNw6Yf1Wt6i1tX%2F5iprvmWuc82k%2FZLb2zap4BMxYjQGXuAmIW&X-Amz-Signature=76b445ee70b8aebbb4c7ae76639a7195d4d27541c3af146c258e091622c38480&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHOBVN6C%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIHZDswxCmqcRAUy4ZZKRUJpGZqJao481cHemU7Mx4xKvAiA353mpk0nV8%2Bj1SE0zw361P7%2B8OjVijnozQdsMsgm3oSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMCg7VAZ0ubRipEAADKtwDH9A3Bwwlu9gv2JXEoyYYdngEbralOxiliwvGJS73ngjgTV8TAqT4ch6AzXskqbTfI7re%2FZaNBvZWrk%2BH5H6lB%2FMdHwZl4DkUFnkfC8t3TKsl2jx4zxGicasbgb9wvyAZ1cjqAJmSyKvir94FJSHSyvrsyledMbbyg855VHbmyETxo7mDoqKHZ%2BTLbBOBJuEftFkXbOXbhGu9BCae%2Fjq7vRfE4f7C0JmxsBIGPbshYbGPk7vRhfunUKRFSEXPIdAa5kA1M9Yv2aD5G5v213lC77BzpNmmDhaUA%2BE8fHG6oD6hn5F9oAhgOiy5drmM9MfGgrhufbWr1piKQUu8jaB9Q%2FXwuYbeMsKayDCl4VoAz7D69cTps9ncoXiY%2BS50FjP82OxLvliJ9DbmmFxR%2F1LZX7GhZwLijFw8hW%2FhLPawDyxMiEq7Pjo%2FanEjejI7za5erS6JJVleHtWep8rh0PmJxmAQYi8WxO%2BDRDdK9rqVaV1OxTZTiTmgjUdVz58KFneT6gYuPuBKmGncFH6Qyc9U%2Fz6WFV4rv%2FK60PURZP7VuTMf7nRSL0i03gKa%2Bp19bnB1SKw93PpmhQgvk67etww90cC%2F6E9aAea9I4Rk0LQ5CjRleDfCsR1eVWJa62Qw0p6oygY6pgE02D58wq%2BjZC8Y%2FUUE9%2FSxhLh3L%2FP9RRfvf0DaZjGW7sjywdAO7zzEv%2Fg2xvfl86H%2FmaZUJyWoJyCnT9Aj6mY%2FeTVNtrBAbIooJQvqlRhVIkB3yJQbYkIEAh5omBdvUHAk730aio35W5Ni2F%2FGtMnxIGel%2BZ18zew2HxZxnTVIhhPZNw6Yf1Wt6i1tX%2F5iprvmWuc82k%2FZLb2zap4BMxYjQGXuAmIW&X-Amz-Signature=ddf17c3edcead0febd0b48dc4eb80c96f37cb327d965560460b73e6a41e8f521&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y4U3KJFQ%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJIMEYCIQC%2BHVmj79i%2BsXBJbm2S27SBzL1rBfa3ecq4SFtmU2KdTwIhANDV4vCknCsDe%2FoYJ6fLV%2F5kmuAk%2FNTnt9bKXZRVdKMDKv8DCAUQABoMNjM3NDIzMTgzODA1IgycGLWgEiAQy%2BUDUF8q3AOgKpSa%2BDqNllTAUvERdt%2BzsH1Mb4wIEpxXXTuPCPY5dw2JENDnXhDauyEQsx22IYOD0loXOKe%2B%2Fv%2FBi7tFObrysLkyW3gzPbdyeMh6fGOoYLXFPNv5nIoKJBKF3CmpbxZOtFxHXe35Z4v4Ts7cKO8yYQIsbEsp%2FxJkEJhJStmd4HLVrtBFu1ZNMa4t9%2F7ihXs2Im98z6CeJW0pbLCoZY2wfam6FeI4H61Ugcx99tNvMczUIOo%2B5EilaZ7UU7duh5D7G%2FfB4HlT%2BFs4lIkf7t3KIVWQKmxmRZ52%2FX1iIaiy3ZN1G1ZO2o8X6dJ6pDf6PtujsPgrRRrQ2LS1YtusKxKMaBQmaoa%2B7h6AVpEYIiP6iptMgZtAL2EtkP9MRG0Bhfrl1hCE8W4llvvfIImELX5GtaZOOODIQoCrzPCYr%2FOuUrMW74YLCwzpu080IXtlvy8RTzVTGIbZ13rnSf5avu5quWPY8%2FvVPGTprBKjedTvVXgKbvezsAWvsnnlVe%2BT%2FW7bQWCNFQRn2S95oDaXSpEwZriOeCkwA1aa9ju37jts6eVokeOzSvrRTwHikVZyKCvYUQzajGy3W9ACcbqQB3snhl06P6Ad1mgyJ0FWfDnM26Xqz1ITqnGtAUp%2FmDDYnqjKBjqkASQ2oj91hpZOTUuC9eij8PVtNubXy8ckFx46PW87JCx7FAQvxsd3z65JZ51uiQOJfzxjCbaz%2BoNbrNv7xHUjCERKCSQRIcPrkRYMfanerVPukufGBfgSFqFCBBteKtIJFFCWI%2BsTPGV7stjkV%2FHDKnSEDnifRofrcmStV08vzRsn%2BloVYdr9oHGmb4U0EmwkYgHLHBMcwYSLqd4%2FqBvQ5t31mO2X&X-Amz-Signature=4fe4495e47e973df70e957541256642d3c36577875aa241dcfdd94b6f658c7e0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y4U3KJFQ%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJIMEYCIQC%2BHVmj79i%2BsXBJbm2S27SBzL1rBfa3ecq4SFtmU2KdTwIhANDV4vCknCsDe%2FoYJ6fLV%2F5kmuAk%2FNTnt9bKXZRVdKMDKv8DCAUQABoMNjM3NDIzMTgzODA1IgycGLWgEiAQy%2BUDUF8q3AOgKpSa%2BDqNllTAUvERdt%2BzsH1Mb4wIEpxXXTuPCPY5dw2JENDnXhDauyEQsx22IYOD0loXOKe%2B%2Fv%2FBi7tFObrysLkyW3gzPbdyeMh6fGOoYLXFPNv5nIoKJBKF3CmpbxZOtFxHXe35Z4v4Ts7cKO8yYQIsbEsp%2FxJkEJhJStmd4HLVrtBFu1ZNMa4t9%2F7ihXs2Im98z6CeJW0pbLCoZY2wfam6FeI4H61Ugcx99tNvMczUIOo%2B5EilaZ7UU7duh5D7G%2FfB4HlT%2BFs4lIkf7t3KIVWQKmxmRZ52%2FX1iIaiy3ZN1G1ZO2o8X6dJ6pDf6PtujsPgrRRrQ2LS1YtusKxKMaBQmaoa%2B7h6AVpEYIiP6iptMgZtAL2EtkP9MRG0Bhfrl1hCE8W4llvvfIImELX5GtaZOOODIQoCrzPCYr%2FOuUrMW74YLCwzpu080IXtlvy8RTzVTGIbZ13rnSf5avu5quWPY8%2FvVPGTprBKjedTvVXgKbvezsAWvsnnlVe%2BT%2FW7bQWCNFQRn2S95oDaXSpEwZriOeCkwA1aa9ju37jts6eVokeOzSvrRTwHikVZyKCvYUQzajGy3W9ACcbqQB3snhl06P6Ad1mgyJ0FWfDnM26Xqz1ITqnGtAUp%2FmDDYnqjKBjqkASQ2oj91hpZOTUuC9eij8PVtNubXy8ckFx46PW87JCx7FAQvxsd3z65JZ51uiQOJfzxjCbaz%2BoNbrNv7xHUjCERKCSQRIcPrkRYMfanerVPukufGBfgSFqFCBBteKtIJFFCWI%2BsTPGV7stjkV%2FHDKnSEDnifRofrcmStV08vzRsn%2BloVYdr9oHGmb4U0EmwkYgHLHBMcwYSLqd4%2FqBvQ5t31mO2X&X-Amz-Signature=525bddd399ca459c911ecca5404d7900689a48a2dbfff8a3952c6d6ba36c58f9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y4U3KJFQ%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040909Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJIMEYCIQC%2BHVmj79i%2BsXBJbm2S27SBzL1rBfa3ecq4SFtmU2KdTwIhANDV4vCknCsDe%2FoYJ6fLV%2F5kmuAk%2FNTnt9bKXZRVdKMDKv8DCAUQABoMNjM3NDIzMTgzODA1IgycGLWgEiAQy%2BUDUF8q3AOgKpSa%2BDqNllTAUvERdt%2BzsH1Mb4wIEpxXXTuPCPY5dw2JENDnXhDauyEQsx22IYOD0loXOKe%2B%2Fv%2FBi7tFObrysLkyW3gzPbdyeMh6fGOoYLXFPNv5nIoKJBKF3CmpbxZOtFxHXe35Z4v4Ts7cKO8yYQIsbEsp%2FxJkEJhJStmd4HLVrtBFu1ZNMa4t9%2F7ihXs2Im98z6CeJW0pbLCoZY2wfam6FeI4H61Ugcx99tNvMczUIOo%2B5EilaZ7UU7duh5D7G%2FfB4HlT%2BFs4lIkf7t3KIVWQKmxmRZ52%2FX1iIaiy3ZN1G1ZO2o8X6dJ6pDf6PtujsPgrRRrQ2LS1YtusKxKMaBQmaoa%2B7h6AVpEYIiP6iptMgZtAL2EtkP9MRG0Bhfrl1hCE8W4llvvfIImELX5GtaZOOODIQoCrzPCYr%2FOuUrMW74YLCwzpu080IXtlvy8RTzVTGIbZ13rnSf5avu5quWPY8%2FvVPGTprBKjedTvVXgKbvezsAWvsnnlVe%2BT%2FW7bQWCNFQRn2S95oDaXSpEwZriOeCkwA1aa9ju37jts6eVokeOzSvrRTwHikVZyKCvYUQzajGy3W9ACcbqQB3snhl06P6Ad1mgyJ0FWfDnM26Xqz1ITqnGtAUp%2FmDDYnqjKBjqkASQ2oj91hpZOTUuC9eij8PVtNubXy8ckFx46PW87JCx7FAQvxsd3z65JZ51uiQOJfzxjCbaz%2BoNbrNv7xHUjCERKCSQRIcPrkRYMfanerVPukufGBfgSFqFCBBteKtIJFFCWI%2BsTPGV7stjkV%2FHDKnSEDnifRofrcmStV08vzRsn%2BloVYdr9oHGmb4U0EmwkYgHLHBMcwYSLqd4%2FqBvQ5t31mO2X&X-Amz-Signature=85491e37cea9d7542b3286829259c60223faee87bcf16be94805aa3018b6fca7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RXQSBYEG%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040911Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIBRq2sxpYK3MoVEV3kgk8Je8%2B4AjBWrn0b9R1ZibNicFAiAXKQeWmTW72bl88rkvzs%2FZHc7rlW0wke1kh%2BQZQCkVKSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMrf%2BymvzA8qIbY50BKtwDvS%2BaAIGBU6uO%2FduCbE%2BdjYitDv4yj8gv3vcTjgihjzyMkcsriFyVmsqGfnUJr4P8q9Pbt9xYooiTMhUvyl6MgPx9ORtErszn%2BlEuuJTqaSlm7Lv6ZkKwBKuiYxI5q4Dt3pw%2Bj2aApoTxSfqIZwU4iDRyZzpTXK3udXraFXuLu09Fwev64Vsy23AB80LkP9zZNQHJOiSu1bsM2wIi8F3rx2ri39MqdoSWtHdv9I9USi%2FbXSM1VIwTuwCTfzenuzyflct026w%2FLJH7OQ85Q87cLTi6jLPon6lBGHFouB%2FxsixpOiKWoJDrwblrC2qOqBGPCq7wneZf%2BI10a6N1IQ6HKetaHw7OYfpR43x%2Bt1xoun1Y9COK2uHpv9aM7xJT6Cgh44ZyOI%2FyHPRWTmxNfpK6VAVX0n66kma6K64AX91ZLVaOo3XPY1PE8wGe8wh1hbC3C9J68ryHPijsmE7ENtMssSiYuGyb60CjyGDHU%2BCpM0G0EqwUwAvVyoyuKs8m9qcmZUs1nYNnS3ybqWYSUvuJfNv3Y7Zf26eZFa2iH0ZBylc%2FS8JGo7E9q51onx7uN0nDYzyLpB6HLEy%2FJICkHR194aA70qyMhWnd8t2AT6DzX8hiHI5aQNulrlGhYXwwx56oygY6pgENgG1LrpYog1ItgPiD8ceAqRkNwancGGRxZVd0YwcxXKokJHvlFb9zP6OFgxcvoMdXaBvN1kVRZZn%2FkI10pp55ZuF1p7YiAl3UHy0MUWyI2svgeVr5LoAb9vDVRUl8Z7odc3LDWyVOjZaUlyYPF0KP8pwteXPfWs%2FWhxbj9u2v3Yh9YXOzk0XSPP5%2BBX%2FkpOJaWNrlhRariYqglFYNXOYToCd3ugnu&X-Amz-Signature=54d59f50cb983c388a6b8444f8ed0c0a28bc4015b6a4f8e8a67d82cb1e61f3dc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RXQSBYEG%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040911Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIBRq2sxpYK3MoVEV3kgk8Je8%2B4AjBWrn0b9R1ZibNicFAiAXKQeWmTW72bl88rkvzs%2FZHc7rlW0wke1kh%2BQZQCkVKSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMrf%2BymvzA8qIbY50BKtwDvS%2BaAIGBU6uO%2FduCbE%2BdjYitDv4yj8gv3vcTjgihjzyMkcsriFyVmsqGfnUJr4P8q9Pbt9xYooiTMhUvyl6MgPx9ORtErszn%2BlEuuJTqaSlm7Lv6ZkKwBKuiYxI5q4Dt3pw%2Bj2aApoTxSfqIZwU4iDRyZzpTXK3udXraFXuLu09Fwev64Vsy23AB80LkP9zZNQHJOiSu1bsM2wIi8F3rx2ri39MqdoSWtHdv9I9USi%2FbXSM1VIwTuwCTfzenuzyflct026w%2FLJH7OQ85Q87cLTi6jLPon6lBGHFouB%2FxsixpOiKWoJDrwblrC2qOqBGPCq7wneZf%2BI10a6N1IQ6HKetaHw7OYfpR43x%2Bt1xoun1Y9COK2uHpv9aM7xJT6Cgh44ZyOI%2FyHPRWTmxNfpK6VAVX0n66kma6K64AX91ZLVaOo3XPY1PE8wGe8wh1hbC3C9J68ryHPijsmE7ENtMssSiYuGyb60CjyGDHU%2BCpM0G0EqwUwAvVyoyuKs8m9qcmZUs1nYNnS3ybqWYSUvuJfNv3Y7Zf26eZFa2iH0ZBylc%2FS8JGo7E9q51onx7uN0nDYzyLpB6HLEy%2FJICkHR194aA70qyMhWnd8t2AT6DzX8hiHI5aQNulrlGhYXwwx56oygY6pgENgG1LrpYog1ItgPiD8ceAqRkNwancGGRxZVd0YwcxXKokJHvlFb9zP6OFgxcvoMdXaBvN1kVRZZn%2FkI10pp55ZuF1p7YiAl3UHy0MUWyI2svgeVr5LoAb9vDVRUl8Z7odc3LDWyVOjZaUlyYPF0KP8pwteXPfWs%2FWhxbj9u2v3Yh9YXOzk0XSPP5%2BBX%2FkpOJaWNrlhRariYqglFYNXOYToCd3ugnu&X-Amz-Signature=a11da92d887e8bfd34994e462412efa9cff43926564d0b9883d923bf802731e3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TMX63IRW%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040911Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDAs8MNiYMiEY3UuUsp5J2eLMJDK7kHv7%2BcT4GzF6JBuQIgXw%2B3EKvL37ge0%2BcJ1FXKc0wVLAmj2vZT9Zi2iIw3fIsq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDAeZ%2FhWS%2B%2FCkKnPeICrcAwfWhyY%2BySGro9mjXZhv3tCzwivQc0Ex8aIbcHp8ad5dObAlZsLzWJFgblfIZRNemhQ%2BwaxLVMC5nOzu7xQ43QzOuK6icU%2FHsxwKW%2B9%2BntKqB5wV626gh8cKfxkPpOPubE1JWSjb6OAuq7ReyDUSIIZQIgkE3s02RrL0uoy6T7yxRMDue98W%2FoPGf0jTxd4MA4twjQLg1f0O4LUZrayOwK2M8wi6JviApbx7LrAbvMItIzRRNQTyq0cQAVPlJPCiVH8%2FOYejiG8fcqt6C7WCdme5ZvaTvDhYehM4qoxIZ521apUOyXqD%2FfAohbP26IID4ZL3e5JsNK13W9XtztJ4Ee2BGAducsXhJzwULdDvq1Bmcew0HlKy%2Bl1exT0QUziP8p8%2ByEpDCcgFTvejygD9pZ6%2Bm%2F92Q5TeuVf3oQ62hsB4JbsM3Lb5dBOzO3mrbF129xvqnUodAHbJhLe53qySshlzYRVBuzDbb6zDMmPNYwG%2FY9phn9i6r%2FmZcusP7WXffu6wQr1B3fuBMIw7bI%2BcyW2tDQw2x%2F7iNDhoJm1x8z6NuhG8bpusHnbz0haAXRMmO8GjVcmF6VoQsD2vAuwK4jJJdNi5ZHoG0sNX6I0BHEz%2FdU%2BK1Ko0K%2F9Iemc7MJieqMoGOqUBxNjXMY4ywfnNz%2B4%2BSH4UUjRjfVlsRVTJQnoYeR%2BBqiJhadMlnIAx5V5Gm17r0uTHns8vF35aH6k7SMiv3yIEnStovzP8qQE5m0PdcjWrRLzo4e4UnvStqtgz5kWh%2BOb57439Sf1hOgYyi4iifwwMs2MkoCquihVKtCpef%2Bg1wbOczr%2FfGDBPjaAOPCn0Sx68zjmIj%2BXJivLUK%2F%2F5m0WpTOwMP8zU&X-Amz-Signature=cd743e8a160528e0da96383b9817208b4a5602276e2680856c35bb462e7787e0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TMX63IRW%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040911Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDAs8MNiYMiEY3UuUsp5J2eLMJDK7kHv7%2BcT4GzF6JBuQIgXw%2B3EKvL37ge0%2BcJ1FXKc0wVLAmj2vZT9Zi2iIw3fIsq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDAeZ%2FhWS%2B%2FCkKnPeICrcAwfWhyY%2BySGro9mjXZhv3tCzwivQc0Ex8aIbcHp8ad5dObAlZsLzWJFgblfIZRNemhQ%2BwaxLVMC5nOzu7xQ43QzOuK6icU%2FHsxwKW%2B9%2BntKqB5wV626gh8cKfxkPpOPubE1JWSjb6OAuq7ReyDUSIIZQIgkE3s02RrL0uoy6T7yxRMDue98W%2FoPGf0jTxd4MA4twjQLg1f0O4LUZrayOwK2M8wi6JviApbx7LrAbvMItIzRRNQTyq0cQAVPlJPCiVH8%2FOYejiG8fcqt6C7WCdme5ZvaTvDhYehM4qoxIZ521apUOyXqD%2FfAohbP26IID4ZL3e5JsNK13W9XtztJ4Ee2BGAducsXhJzwULdDvq1Bmcew0HlKy%2Bl1exT0QUziP8p8%2ByEpDCcgFTvejygD9pZ6%2Bm%2F92Q5TeuVf3oQ62hsB4JbsM3Lb5dBOzO3mrbF129xvqnUodAHbJhLe53qySshlzYRVBuzDbb6zDMmPNYwG%2FY9phn9i6r%2FmZcusP7WXffu6wQr1B3fuBMIw7bI%2BcyW2tDQw2x%2F7iNDhoJm1x8z6NuhG8bpusHnbz0haAXRMmO8GjVcmF6VoQsD2vAuwK4jJJdNi5ZHoG0sNX6I0BHEz%2FdU%2BK1Ko0K%2F9Iemc7MJieqMoGOqUBxNjXMY4ywfnNz%2B4%2BSH4UUjRjfVlsRVTJQnoYeR%2BBqiJhadMlnIAx5V5Gm17r0uTHns8vF35aH6k7SMiv3yIEnStovzP8qQE5m0PdcjWrRLzo4e4UnvStqtgz5kWh%2BOb57439Sf1hOgYyi4iifwwMs2MkoCquihVKtCpef%2Bg1wbOczr%2FfGDBPjaAOPCn0Sx68zjmIj%2BXJivLUK%2F%2F5m0WpTOwMP8zU&X-Amz-Signature=83788b97fb20c4b38044aac6e8385240c6f69a2351522fbd6cdfbc66960a964f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RX4JQEHX%2F20251223%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251223T040912Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJIMEYCIQC733GPMWnn84%2BijEHvRhO8L2F%2Bdvyg0YKcUcE3%2BMlzJwIhALavQiocqw3gfAX9%2F%2FqlW430J%2BAi%2BncY%2B6Z%2FXIyC42jHKv8DCAUQABoMNjM3NDIzMTgzODA1IgydlVUaQboKpqcjuYIq3AP5UOvdepphHV2RfqRNXx3O6KuD1jinSx3tW02vy%2BXFgZg3miMOZIZUBrj8WpC5Pd%2BD8C1jPLPty1lpvOq7ZdwuklCbG13iQwIHxlWjBg6EXwrPrJjVs5Fql9ywF78liozZSmAci%2By89MBGI4xBP2TBEXwXz7SKxmDrbgw1QjjSENMCDwIFoiDO0lyZgOYZ3S3SC%2BdTahxKxt4JDQiDEzx3JOluiJqEMxQFKtHRuafgCWW3EIyh1ucE9jYIYhSrKxYHThtVYR45qeCwIf%2BwRmbJ21dAVKUPAdVkJqYSiQwo1HfwkVLeT%2FuHR8koAbRbzSZurt%2Fs5WE07ClO5yVOQ01380rGeLVHWIyj2g3AlRzplLyc86xGP6IPkyGoVif4a5ZDT245rwzdS1jneaotmmJxhIl%2F52e38asVHfsX5xtBURvFw37%2FZs5Ly%2FrHC%2BeC7d41bCqyfPh1hGB6FqEmk5TmAk1r1Y7pfcSfGM3WTDu2prJ9P9JANaGxOngHba%2Fs9Eo1PoPdg2ggfUVIpG7PmODBPH0d%2FJuU5D53bobwRhHFeJmJ%2FduGhCZ%2FZwid01N%2FSdg%2FoUS8gR9A86fj1L3DBdckvaXK3xE6U7S7DCl51RVVDls3Gwr49RBcZOtW1zC%2BnqjKBjqkARze%2Fn4%2FgCFqZE2iAt7LnUczcjNqmYKmX5UP%2B1hZb1x0cjP0hr5IsdJLZ3NtNBsk4yfLaIzy%2BhKJDlU8o7sMZAANmoIIakUjezpZevPbDQ%2FPiMD%2FnmR6tTlFiqQsjW6SGllnNYjjeGjARVM1rpIWtTSxaYcYj8mlJBJdDkmMOx6D1to6Kgw3OrTVIGiKxuiztrp%2FI%2BtifuifBz6gqbz17RkK1P2e&X-Amz-Signature=cc744ec69091e816e17b23013c208b6444d63b130cc31a063ff106c9119b4913&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
