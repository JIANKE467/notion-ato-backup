
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNLCDQ64%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041932Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAa%2B6zJ6YIpeLqbGlg2GeuU5UXjOZjenVKt6S%2Be2MWMDAiBthjBte%2FwTUv71shh6482sgif4mZjrhoTc%2FQZFiL9mYCr%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIMuZqx%2FZFTAOn1lIOhKtwD99kVTPYf8lANzif5Hfqh2M39pfyeA6lhETXGpXIP%2FOnwFqRxj%2F7ENb1IMztgiTRe77W%2BHj6PouEUfqeePM1OZ4kQ%2B3Sh5fXyf89X3GMHAuGAQ4Z0bqQG454Sjs0JgSUbmNqrk%2BoVzJtLQ%2F3b0oq7qr3Y3%2Fqlvy4qc3EplGzK77mQZaPK2onkQXah2NIHtKC%2BORBwB13021P2CQqqt9s50XjurtwWXVBztV%2Bh834R%2BNBnVuES2Njy0iPasphF7cI9z3B7QNGJGngEzEKAtng07hU%2Fj%2BZ%2FDTqmDeprwSyqAO9OzYB2ke5rYn5plBhsgx40%2FZ30dM0E7q2ims4JAgz0w8z4lgEZaHew52gN9S6ylK8sb4lfuFjH56p4jr8rFvanwFMl%2FECWzX2J6JhOGDvVKsaKrcKNfHpH1QyzTZ9m5xKIceFi9%2Fczl%2F85zh16ra6%2Fi0E2ll%2B4jQcdynJTZHlmX63NCPDDEn7v5CqGUdyhZAVxNmMfyhsi2NCEB4ObLRXiLcpuJ0ZRPWkutusX2gM9dJ40fgChjw%2BrFgev%2FBvIQ1OYEV7moPo%2Fr1O7fBJzCEkVI6e7IsjX80VDIZdMp9w03pWWxouLYEDSnSqfjz3%2BiFS6gIYkLoWT%2FMfJA7AwkpjmywY6pgEk%2FK2szAfCvUWF0pvn1Umz6%2BTXeAcGn9ocrqmePg4ifSTR2%2BMi0oAgiIgDpU6gad3Wx1hLvo7SFPsrWxKhBCL6fe9y2Ym%2F7aPjgBvIAQhf42So40egUhn0VuH8kmpdAE0vxblhHaLw4kD%2BjLhXuqpbUknoxQxIfJfpsI3YuB9S2hvyGlxQbedrbHUE4ma3JKN5Y%2FrG2NhUXCx76qIjkZHRHClYqM3T&X-Amz-Signature=4a5ba0d7428f2c51326edffa8af009823e4b6bb036693db805475c9ae217a350&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNLCDQ64%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041932Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAa%2B6zJ6YIpeLqbGlg2GeuU5UXjOZjenVKt6S%2Be2MWMDAiBthjBte%2FwTUv71shh6482sgif4mZjrhoTc%2FQZFiL9mYCr%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIMuZqx%2FZFTAOn1lIOhKtwD99kVTPYf8lANzif5Hfqh2M39pfyeA6lhETXGpXIP%2FOnwFqRxj%2F7ENb1IMztgiTRe77W%2BHj6PouEUfqeePM1OZ4kQ%2B3Sh5fXyf89X3GMHAuGAQ4Z0bqQG454Sjs0JgSUbmNqrk%2BoVzJtLQ%2F3b0oq7qr3Y3%2Fqlvy4qc3EplGzK77mQZaPK2onkQXah2NIHtKC%2BORBwB13021P2CQqqt9s50XjurtwWXVBztV%2Bh834R%2BNBnVuES2Njy0iPasphF7cI9z3B7QNGJGngEzEKAtng07hU%2Fj%2BZ%2FDTqmDeprwSyqAO9OzYB2ke5rYn5plBhsgx40%2FZ30dM0E7q2ims4JAgz0w8z4lgEZaHew52gN9S6ylK8sb4lfuFjH56p4jr8rFvanwFMl%2FECWzX2J6JhOGDvVKsaKrcKNfHpH1QyzTZ9m5xKIceFi9%2Fczl%2F85zh16ra6%2Fi0E2ll%2B4jQcdynJTZHlmX63NCPDDEn7v5CqGUdyhZAVxNmMfyhsi2NCEB4ObLRXiLcpuJ0ZRPWkutusX2gM9dJ40fgChjw%2BrFgev%2FBvIQ1OYEV7moPo%2Fr1O7fBJzCEkVI6e7IsjX80VDIZdMp9w03pWWxouLYEDSnSqfjz3%2BiFS6gIYkLoWT%2FMfJA7AwkpjmywY6pgEk%2FK2szAfCvUWF0pvn1Umz6%2BTXeAcGn9ocrqmePg4ifSTR2%2BMi0oAgiIgDpU6gad3Wx1hLvo7SFPsrWxKhBCL6fe9y2Ym%2F7aPjgBvIAQhf42So40egUhn0VuH8kmpdAE0vxblhHaLw4kD%2BjLhXuqpbUknoxQxIfJfpsI3YuB9S2hvyGlxQbedrbHUE4ma3JKN5Y%2FrG2NhUXCx76qIjkZHRHClYqM3T&X-Amz-Signature=b27d04ffcfe0fadc49b1277ce70ddd4390649bc7b137bf12e1d9a519d44c7511&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNLCDQ64%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041932Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAa%2B6zJ6YIpeLqbGlg2GeuU5UXjOZjenVKt6S%2Be2MWMDAiBthjBte%2FwTUv71shh6482sgif4mZjrhoTc%2FQZFiL9mYCr%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIMuZqx%2FZFTAOn1lIOhKtwD99kVTPYf8lANzif5Hfqh2M39pfyeA6lhETXGpXIP%2FOnwFqRxj%2F7ENb1IMztgiTRe77W%2BHj6PouEUfqeePM1OZ4kQ%2B3Sh5fXyf89X3GMHAuGAQ4Z0bqQG454Sjs0JgSUbmNqrk%2BoVzJtLQ%2F3b0oq7qr3Y3%2Fqlvy4qc3EplGzK77mQZaPK2onkQXah2NIHtKC%2BORBwB13021P2CQqqt9s50XjurtwWXVBztV%2Bh834R%2BNBnVuES2Njy0iPasphF7cI9z3B7QNGJGngEzEKAtng07hU%2Fj%2BZ%2FDTqmDeprwSyqAO9OzYB2ke5rYn5plBhsgx40%2FZ30dM0E7q2ims4JAgz0w8z4lgEZaHew52gN9S6ylK8sb4lfuFjH56p4jr8rFvanwFMl%2FECWzX2J6JhOGDvVKsaKrcKNfHpH1QyzTZ9m5xKIceFi9%2Fczl%2F85zh16ra6%2Fi0E2ll%2B4jQcdynJTZHlmX63NCPDDEn7v5CqGUdyhZAVxNmMfyhsi2NCEB4ObLRXiLcpuJ0ZRPWkutusX2gM9dJ40fgChjw%2BrFgev%2FBvIQ1OYEV7moPo%2Fr1O7fBJzCEkVI6e7IsjX80VDIZdMp9w03pWWxouLYEDSnSqfjz3%2BiFS6gIYkLoWT%2FMfJA7AwkpjmywY6pgEk%2FK2szAfCvUWF0pvn1Umz6%2BTXeAcGn9ocrqmePg4ifSTR2%2BMi0oAgiIgDpU6gad3Wx1hLvo7SFPsrWxKhBCL6fe9y2Ym%2F7aPjgBvIAQhf42So40egUhn0VuH8kmpdAE0vxblhHaLw4kD%2BjLhXuqpbUknoxQxIfJfpsI3YuB9S2hvyGlxQbedrbHUE4ma3JKN5Y%2FrG2NhUXCx76qIjkZHRHClYqM3T&X-Amz-Signature=5883df979e62297f6869af158f6023d6072b40c4c8e581830932ca7d709e851d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WB5IWE3J%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIE5DHLlB3FBOY4LHCmGmAK6%2FPDdP5rx%2F2IEDT1IL0zOBAiBRWxtlBJggWzd5LWHhD5SFFEAG7xwW3MujL%2F3afYyrxir%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIM7IsZPGAecFSJUsOQKtwD4fFFep1IWs%2FADyRLbpzpVk8oYmmTULUf5CyfA%2BnQUBejMi7Se5Ygkq8g4Wb9cDchfxttyLJi%2BeIkJFmPM9mFtd7kJ4u%2BppKzYNLPYDbrM3Dj3GtYeAOdmhfnRDbYDDiM8eqcRelEq0lfi71AY2Q6ayTKu%2Bfd7SkCGGSBumcYkEcNtoq2Z7gQAFZQS5w88rf%2Bj%2FFqc9m4w%2FlzigTNY7EdW8exowu68SuM%2Fvjwn6PfHcWUrNbpvruOX5vclepJrAlKZBWVhb27qqqt3B%2BLKPmVZ0TcJBGkZZMy7VLEg%2FAEPVKIPGONBbyj3aI0EdkzlfAbf83AIKH2ZCbmRNBhwZna697s2rus2BHqMZt2zWsIAdcaVLTWxveaUtpJXt%2BDSTokm5083Ynth6FCMWuyzizbh5YdvgKdJjaLCMvUsAMLPr%2B1IispRrh65YiwWKHg7sjpppg7Flg2o%2BcCLNPb4J8mCVtemCWLvtEjiX0k%2FIXUiMPoFeEJzSP59UbPCra9L5fZDeRyPk9TR%2B79pLZUVYORTlNIqMCfRQvt30yKSMMnaU1X%2FfNgPrn1u98yyUjvmdDkhLKqNpp2Ty2CQ9wJ6izG3MPdk%2BbIE9iGfBHq6UifhdkBnHBjOcU7UX7ciWYw0pjmywY6pgEvk%2Fi2MdnJ2Vq5juBUQSVTqb9%2FUcbQH2TrguVj8WeTC24bsRAbCX9Cf2y4757ZB6PzvClY1LbhKIHkctgSrCHOLlJCIUVsBAzjZ1Xpg4EEKf0LW%2FMbXkqkF%2FFpnglVzTMCPL5LkPPeQOQ%2Bjrfx%2F7puBY0iM9IUA3NeW%2FDjOoVx0s3DBTstzS%2BeHstcAJeImLhTA7HzddfvBot35nCpUD3d%2FmuJqgX8&X-Amz-Signature=24a05d8edd0af5750967b3b9878a332a08602c16cb2ccd5d28d294effc655ffe&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WB5IWE3J%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIE5DHLlB3FBOY4LHCmGmAK6%2FPDdP5rx%2F2IEDT1IL0zOBAiBRWxtlBJggWzd5LWHhD5SFFEAG7xwW3MujL%2F3afYyrxir%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIM7IsZPGAecFSJUsOQKtwD4fFFep1IWs%2FADyRLbpzpVk8oYmmTULUf5CyfA%2BnQUBejMi7Se5Ygkq8g4Wb9cDchfxttyLJi%2BeIkJFmPM9mFtd7kJ4u%2BppKzYNLPYDbrM3Dj3GtYeAOdmhfnRDbYDDiM8eqcRelEq0lfi71AY2Q6ayTKu%2Bfd7SkCGGSBumcYkEcNtoq2Z7gQAFZQS5w88rf%2Bj%2FFqc9m4w%2FlzigTNY7EdW8exowu68SuM%2Fvjwn6PfHcWUrNbpvruOX5vclepJrAlKZBWVhb27qqqt3B%2BLKPmVZ0TcJBGkZZMy7VLEg%2FAEPVKIPGONBbyj3aI0EdkzlfAbf83AIKH2ZCbmRNBhwZna697s2rus2BHqMZt2zWsIAdcaVLTWxveaUtpJXt%2BDSTokm5083Ynth6FCMWuyzizbh5YdvgKdJjaLCMvUsAMLPr%2B1IispRrh65YiwWKHg7sjpppg7Flg2o%2BcCLNPb4J8mCVtemCWLvtEjiX0k%2FIXUiMPoFeEJzSP59UbPCra9L5fZDeRyPk9TR%2B79pLZUVYORTlNIqMCfRQvt30yKSMMnaU1X%2FfNgPrn1u98yyUjvmdDkhLKqNpp2Ty2CQ9wJ6izG3MPdk%2BbIE9iGfBHq6UifhdkBnHBjOcU7UX7ciWYw0pjmywY6pgEvk%2Fi2MdnJ2Vq5juBUQSVTqb9%2FUcbQH2TrguVj8WeTC24bsRAbCX9Cf2y4757ZB6PzvClY1LbhKIHkctgSrCHOLlJCIUVsBAzjZ1Xpg4EEKf0LW%2FMbXkqkF%2FFpnglVzTMCPL5LkPPeQOQ%2Bjrfx%2F7puBY0iM9IUA3NeW%2FDjOoVx0s3DBTstzS%2BeHstcAJeImLhTA7HzddfvBot35nCpUD3d%2FmuJqgX8&X-Amz-Signature=a58a2e19007dc6f25952528ed0e70358b77a360818d24388f5471763bcfc744f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WB5IWE3J%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIE5DHLlB3FBOY4LHCmGmAK6%2FPDdP5rx%2F2IEDT1IL0zOBAiBRWxtlBJggWzd5LWHhD5SFFEAG7xwW3MujL%2F3afYyrxir%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIM7IsZPGAecFSJUsOQKtwD4fFFep1IWs%2FADyRLbpzpVk8oYmmTULUf5CyfA%2BnQUBejMi7Se5Ygkq8g4Wb9cDchfxttyLJi%2BeIkJFmPM9mFtd7kJ4u%2BppKzYNLPYDbrM3Dj3GtYeAOdmhfnRDbYDDiM8eqcRelEq0lfi71AY2Q6ayTKu%2Bfd7SkCGGSBumcYkEcNtoq2Z7gQAFZQS5w88rf%2Bj%2FFqc9m4w%2FlzigTNY7EdW8exowu68SuM%2Fvjwn6PfHcWUrNbpvruOX5vclepJrAlKZBWVhb27qqqt3B%2BLKPmVZ0TcJBGkZZMy7VLEg%2FAEPVKIPGONBbyj3aI0EdkzlfAbf83AIKH2ZCbmRNBhwZna697s2rus2BHqMZt2zWsIAdcaVLTWxveaUtpJXt%2BDSTokm5083Ynth6FCMWuyzizbh5YdvgKdJjaLCMvUsAMLPr%2B1IispRrh65YiwWKHg7sjpppg7Flg2o%2BcCLNPb4J8mCVtemCWLvtEjiX0k%2FIXUiMPoFeEJzSP59UbPCra9L5fZDeRyPk9TR%2B79pLZUVYORTlNIqMCfRQvt30yKSMMnaU1X%2FfNgPrn1u98yyUjvmdDkhLKqNpp2Ty2CQ9wJ6izG3MPdk%2BbIE9iGfBHq6UifhdkBnHBjOcU7UX7ciWYw0pjmywY6pgEvk%2Fi2MdnJ2Vq5juBUQSVTqb9%2FUcbQH2TrguVj8WeTC24bsRAbCX9Cf2y4757ZB6PzvClY1LbhKIHkctgSrCHOLlJCIUVsBAzjZ1Xpg4EEKf0LW%2FMbXkqkF%2FFpnglVzTMCPL5LkPPeQOQ%2Bjrfx%2F7puBY0iM9IUA3NeW%2FDjOoVx0s3DBTstzS%2BeHstcAJeImLhTA7HzddfvBot35nCpUD3d%2FmuJqgX8&X-Amz-Signature=fd6ba26a69bdfdcafa70993e49d49d8d22afc107ba69ff8c0597397ed491e67b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46676YXVTE4%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCgzF1DFWdLliXOp6PlXiAiVYYWGILivwNaTlnMI6ykXgIhALfW56GkIIXqxTTkVEfqOjadPZg3jt%2Fkkp5PVocdoN4%2FKv8DCGUQABoMNjM3NDIzMTgzODA1IgwAyuRi9MgW%2B28pIpAq3AP6lwwE0GmktsfYE25O%2FHLyjB6Zbndlmx4R805UMus1sJiabPdySoXPtvKmzqeTzoaoYRaCZGUGQdT5jCZzr9ShdOa9tqW5XZ1R7b2L%2F5%2FotLfB%2BzbHPPtu9wLB5OSMy8PTuOUc%2FekwdjdC7x1C7BqKD0EuVLJ8oJqIDzZl4YYnO5DXUbVnhiHnJjuZNlUeHxfQ%2Fa%2FXOUiDdmOXDcxRGlMmTEO%2FrZdOjl9wYwKXf5mYQeuxSo3qaKx77Ntm6MC9Wi5jjd8Z4eZWs9bsC6cJC4dWTR2SdDs5tfokiJJoOQkcRh%2FEYz%2BpwIpM%2B%2BPxOPoLO6vJ%2BbFkwnSLx821wL91CPapJKRS6gV5rwBsY1GjcP6tjQ8V9x03BxWdhpBvkeBTiXX40NVQY%2F1CaOsRq0VniBjV%2Fc8aoe9NqYv6zBHTnuyRxblu7pPWIfAfnvdpVnIf3h5PeeMU8X2NQYbHOB1%2BUr8eea3iClW9gTyrRjGOUQBKo8yhK5ygMgTp%2BsufOksIexpWc7x1QbwZ3FsaXmx%2BsjpvNgYNqP1NxD7wk9Cqo0bplxbDTWhEGwWqNaH0YvqXYAvKBVn0U8Xjn3adfLrTv3QbE2QY52YW6u1nbwcq17gavkVhUphlzyRUrgvTDjDVmObLBjqkARAQIvWtAgpaObLj5oESZQSrAeyGUms0HTcd1HzonvFwOZYNBtctbAkTHVqMQfB0IogU2kd0iD12FuzymeLBCr8aHWZJt2q8%2Fhd7nZJ14pKh5s6wNuvu7Xbm4XcYlTox7LQD2XJSiuyREj57IBc%2Ftt1hKqubST9T8YIA38IA%2BeXlIUaD6amYUgKoREQjHXMphWtdWoDeHiUiHY7NQ%2B9KCKjm%2FhTP&X-Amz-Signature=765d3237e6eeec69ec668b17422e07866f4b3f366929aee4565a6be7423fdaa2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46676YXVTE4%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCgzF1DFWdLliXOp6PlXiAiVYYWGILivwNaTlnMI6ykXgIhALfW56GkIIXqxTTkVEfqOjadPZg3jt%2Fkkp5PVocdoN4%2FKv8DCGUQABoMNjM3NDIzMTgzODA1IgwAyuRi9MgW%2B28pIpAq3AP6lwwE0GmktsfYE25O%2FHLyjB6Zbndlmx4R805UMus1sJiabPdySoXPtvKmzqeTzoaoYRaCZGUGQdT5jCZzr9ShdOa9tqW5XZ1R7b2L%2F5%2FotLfB%2BzbHPPtu9wLB5OSMy8PTuOUc%2FekwdjdC7x1C7BqKD0EuVLJ8oJqIDzZl4YYnO5DXUbVnhiHnJjuZNlUeHxfQ%2Fa%2FXOUiDdmOXDcxRGlMmTEO%2FrZdOjl9wYwKXf5mYQeuxSo3qaKx77Ntm6MC9Wi5jjd8Z4eZWs9bsC6cJC4dWTR2SdDs5tfokiJJoOQkcRh%2FEYz%2BpwIpM%2B%2BPxOPoLO6vJ%2BbFkwnSLx821wL91CPapJKRS6gV5rwBsY1GjcP6tjQ8V9x03BxWdhpBvkeBTiXX40NVQY%2F1CaOsRq0VniBjV%2Fc8aoe9NqYv6zBHTnuyRxblu7pPWIfAfnvdpVnIf3h5PeeMU8X2NQYbHOB1%2BUr8eea3iClW9gTyrRjGOUQBKo8yhK5ygMgTp%2BsufOksIexpWc7x1QbwZ3FsaXmx%2BsjpvNgYNqP1NxD7wk9Cqo0bplxbDTWhEGwWqNaH0YvqXYAvKBVn0U8Xjn3adfLrTv3QbE2QY52YW6u1nbwcq17gavkVhUphlzyRUrgvTDjDVmObLBjqkARAQIvWtAgpaObLj5oESZQSrAeyGUms0HTcd1HzonvFwOZYNBtctbAkTHVqMQfB0IogU2kd0iD12FuzymeLBCr8aHWZJt2q8%2Fhd7nZJ14pKh5s6wNuvu7Xbm4XcYlTox7LQD2XJSiuyREj57IBc%2Ftt1hKqubST9T8YIA38IA%2BeXlIUaD6amYUgKoREQjHXMphWtdWoDeHiUiHY7NQ%2B9KCKjm%2FhTP&X-Amz-Signature=90fe9e244058405ea4788646d3a690656b43b2222fb1b9ad50c4d20828f95c17&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46676YXVTE4%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCgzF1DFWdLliXOp6PlXiAiVYYWGILivwNaTlnMI6ykXgIhALfW56GkIIXqxTTkVEfqOjadPZg3jt%2Fkkp5PVocdoN4%2FKv8DCGUQABoMNjM3NDIzMTgzODA1IgwAyuRi9MgW%2B28pIpAq3AP6lwwE0GmktsfYE25O%2FHLyjB6Zbndlmx4R805UMus1sJiabPdySoXPtvKmzqeTzoaoYRaCZGUGQdT5jCZzr9ShdOa9tqW5XZ1R7b2L%2F5%2FotLfB%2BzbHPPtu9wLB5OSMy8PTuOUc%2FekwdjdC7x1C7BqKD0EuVLJ8oJqIDzZl4YYnO5DXUbVnhiHnJjuZNlUeHxfQ%2Fa%2FXOUiDdmOXDcxRGlMmTEO%2FrZdOjl9wYwKXf5mYQeuxSo3qaKx77Ntm6MC9Wi5jjd8Z4eZWs9bsC6cJC4dWTR2SdDs5tfokiJJoOQkcRh%2FEYz%2BpwIpM%2B%2BPxOPoLO6vJ%2BbFkwnSLx821wL91CPapJKRS6gV5rwBsY1GjcP6tjQ8V9x03BxWdhpBvkeBTiXX40NVQY%2F1CaOsRq0VniBjV%2Fc8aoe9NqYv6zBHTnuyRxblu7pPWIfAfnvdpVnIf3h5PeeMU8X2NQYbHOB1%2BUr8eea3iClW9gTyrRjGOUQBKo8yhK5ygMgTp%2BsufOksIexpWc7x1QbwZ3FsaXmx%2BsjpvNgYNqP1NxD7wk9Cqo0bplxbDTWhEGwWqNaH0YvqXYAvKBVn0U8Xjn3adfLrTv3QbE2QY52YW6u1nbwcq17gavkVhUphlzyRUrgvTDjDVmObLBjqkARAQIvWtAgpaObLj5oESZQSrAeyGUms0HTcd1HzonvFwOZYNBtctbAkTHVqMQfB0IogU2kd0iD12FuzymeLBCr8aHWZJt2q8%2Fhd7nZJ14pKh5s6wNuvu7Xbm4XcYlTox7LQD2XJSiuyREj57IBc%2Ftt1hKqubST9T8YIA38IA%2BeXlIUaD6amYUgKoREQjHXMphWtdWoDeHiUiHY7NQ%2B9KCKjm%2FhTP&X-Amz-Signature=b968253e0a84f8d343df4bd2dcc84bff3aabcb6e0e513b3a2c43b4381d096682&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46676YXVTE4%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCgzF1DFWdLliXOp6PlXiAiVYYWGILivwNaTlnMI6ykXgIhALfW56GkIIXqxTTkVEfqOjadPZg3jt%2Fkkp5PVocdoN4%2FKv8DCGUQABoMNjM3NDIzMTgzODA1IgwAyuRi9MgW%2B28pIpAq3AP6lwwE0GmktsfYE25O%2FHLyjB6Zbndlmx4R805UMus1sJiabPdySoXPtvKmzqeTzoaoYRaCZGUGQdT5jCZzr9ShdOa9tqW5XZ1R7b2L%2F5%2FotLfB%2BzbHPPtu9wLB5OSMy8PTuOUc%2FekwdjdC7x1C7BqKD0EuVLJ8oJqIDzZl4YYnO5DXUbVnhiHnJjuZNlUeHxfQ%2Fa%2FXOUiDdmOXDcxRGlMmTEO%2FrZdOjl9wYwKXf5mYQeuxSo3qaKx77Ntm6MC9Wi5jjd8Z4eZWs9bsC6cJC4dWTR2SdDs5tfokiJJoOQkcRh%2FEYz%2BpwIpM%2B%2BPxOPoLO6vJ%2BbFkwnSLx821wL91CPapJKRS6gV5rwBsY1GjcP6tjQ8V9x03BxWdhpBvkeBTiXX40NVQY%2F1CaOsRq0VniBjV%2Fc8aoe9NqYv6zBHTnuyRxblu7pPWIfAfnvdpVnIf3h5PeeMU8X2NQYbHOB1%2BUr8eea3iClW9gTyrRjGOUQBKo8yhK5ygMgTp%2BsufOksIexpWc7x1QbwZ3FsaXmx%2BsjpvNgYNqP1NxD7wk9Cqo0bplxbDTWhEGwWqNaH0YvqXYAvKBVn0U8Xjn3adfLrTv3QbE2QY52YW6u1nbwcq17gavkVhUphlzyRUrgvTDjDVmObLBjqkARAQIvWtAgpaObLj5oESZQSrAeyGUms0HTcd1HzonvFwOZYNBtctbAkTHVqMQfB0IogU2kd0iD12FuzymeLBCr8aHWZJt2q8%2Fhd7nZJ14pKh5s6wNuvu7Xbm4XcYlTox7LQD2XJSiuyREj57IBc%2Ftt1hKqubST9T8YIA38IA%2BeXlIUaD6amYUgKoREQjHXMphWtdWoDeHiUiHY7NQ%2B9KCKjm%2FhTP&X-Amz-Signature=186c9d39c42583db0d4fc12538f137a8489fcc7e188d90c6d2cb3cabe27b3966&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T636USII%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCHLiyHWpv7BzbDWNEO8OyimegvCGlmSv9Q5QNzYxLdPQIhAKF0%2BB70JC%2FdnZnYF0ErdZXvU80VQAB%2Ft0HCeH3oC%2FSAKv8DCGUQABoMNjM3NDIzMTgzODA1IgzvL%2F1EzDh3h5x%2BNXAq3ANO7BCMuQRTLn4vayZMP7PQy1bjJAUyUZlXMkuAYESriNNjy8%2Bc%2Fo1PhmgnzW4mwJPEHiMxRGwL7FqSZ%2BpIs9XzoSUDXANgZYqvsJpm%2FlGt1KlRENxcqWl5kBOKUWi4qm8hfY4J2vh%2BvTt2k%2FTXUiyI3Us%2BPC4PGf876FYNYFT1UdTRVnjIfHx%2BuuwKFKMLeN1hv2dLiotrIH5YvVIlocyvw7o8r2Lp0HrPUfpwZn5n8%2Bf8DsirLHXTwWb9%2BPX48gxLBs8CYLX5qjqACjxaKESafdQvUx0x0T3oqV3ITQnIBHaPy1cpJL3upfnDZEB41%2Fd1tpam1Mq8waPL%2FBtiFkJpNUAm1ZAdzZQghd5Dl0o3th6%2B9BH55XDyT%2FXmusQeaQ2nmK1i2MxkgGGALQeHGvjZqeHEW0ZgnKpQ%2BNQHVbZbmUYo3Qa9YjDmSI88Kg5QXNlL0FjG%2BPA9UzTq%2FUFKi%2Bgi3p%2BkuQALecQ9VEw6ieOvwho32n%2FFdvHuHX1YwUygqG6vcqJK39ZVBXjw2FQ3c7FtukVE0O1kr%2FvRBCLJ3Hyetpq19tESSf8dwcl9WbSWMnoNxhgQ3U44nylNsF%2Fd8WjevWdU5akr8WiGkZ6IKiY5vQJRi1F5f3lYGZxy8jDcmObLBjqkAaCR5fsCfp9GLG1bdvsJPwedsh4f5a0J8%2BIQ2yEBlSNVO77kjnFMxTHvRffACWY9swuHJEJ5bBBBfUs3N2HPh8UGWSp9K9xWzv1iK7fGLMdISJmnplrx24Gb3qIUx0TbK0VNtVWK4bBjCM7kqABXxdk5fOV2u48W%2Fv8t5EXAe4R9V6Hh3XT%2FHtsDIpDY%2BpXmckm3s00tSrbjUZpTgT0NKPBIy6bG&X-Amz-Signature=67ecb808d5a0d1d0f3851f6895040da40825c6c56feba16dc5390dfc4e18c29e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T636USII%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCHLiyHWpv7BzbDWNEO8OyimegvCGlmSv9Q5QNzYxLdPQIhAKF0%2BB70JC%2FdnZnYF0ErdZXvU80VQAB%2Ft0HCeH3oC%2FSAKv8DCGUQABoMNjM3NDIzMTgzODA1IgzvL%2F1EzDh3h5x%2BNXAq3ANO7BCMuQRTLn4vayZMP7PQy1bjJAUyUZlXMkuAYESriNNjy8%2Bc%2Fo1PhmgnzW4mwJPEHiMxRGwL7FqSZ%2BpIs9XzoSUDXANgZYqvsJpm%2FlGt1KlRENxcqWl5kBOKUWi4qm8hfY4J2vh%2BvTt2k%2FTXUiyI3Us%2BPC4PGf876FYNYFT1UdTRVnjIfHx%2BuuwKFKMLeN1hv2dLiotrIH5YvVIlocyvw7o8r2Lp0HrPUfpwZn5n8%2Bf8DsirLHXTwWb9%2BPX48gxLBs8CYLX5qjqACjxaKESafdQvUx0x0T3oqV3ITQnIBHaPy1cpJL3upfnDZEB41%2Fd1tpam1Mq8waPL%2FBtiFkJpNUAm1ZAdzZQghd5Dl0o3th6%2B9BH55XDyT%2FXmusQeaQ2nmK1i2MxkgGGALQeHGvjZqeHEW0ZgnKpQ%2BNQHVbZbmUYo3Qa9YjDmSI88Kg5QXNlL0FjG%2BPA9UzTq%2FUFKi%2Bgi3p%2BkuQALecQ9VEw6ieOvwho32n%2FFdvHuHX1YwUygqG6vcqJK39ZVBXjw2FQ3c7FtukVE0O1kr%2FvRBCLJ3Hyetpq19tESSf8dwcl9WbSWMnoNxhgQ3U44nylNsF%2Fd8WjevWdU5akr8WiGkZ6IKiY5vQJRi1F5f3lYGZxy8jDcmObLBjqkAaCR5fsCfp9GLG1bdvsJPwedsh4f5a0J8%2BIQ2yEBlSNVO77kjnFMxTHvRffACWY9swuHJEJ5bBBBfUs3N2HPh8UGWSp9K9xWzv1iK7fGLMdISJmnplrx24Gb3qIUx0TbK0VNtVWK4bBjCM7kqABXxdk5fOV2u48W%2Fv8t5EXAe4R9V6Hh3XT%2FHtsDIpDY%2BpXmckm3s00tSrbjUZpTgT0NKPBIy6bG&X-Amz-Signature=04f62bbca7046b0e2a4ba66e3806f745c8184a7a5ba52060bd9fc663ccfad2ed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T636USII%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCHLiyHWpv7BzbDWNEO8OyimegvCGlmSv9Q5QNzYxLdPQIhAKF0%2BB70JC%2FdnZnYF0ErdZXvU80VQAB%2Ft0HCeH3oC%2FSAKv8DCGUQABoMNjM3NDIzMTgzODA1IgzvL%2F1EzDh3h5x%2BNXAq3ANO7BCMuQRTLn4vayZMP7PQy1bjJAUyUZlXMkuAYESriNNjy8%2Bc%2Fo1PhmgnzW4mwJPEHiMxRGwL7FqSZ%2BpIs9XzoSUDXANgZYqvsJpm%2FlGt1KlRENxcqWl5kBOKUWi4qm8hfY4J2vh%2BvTt2k%2FTXUiyI3Us%2BPC4PGf876FYNYFT1UdTRVnjIfHx%2BuuwKFKMLeN1hv2dLiotrIH5YvVIlocyvw7o8r2Lp0HrPUfpwZn5n8%2Bf8DsirLHXTwWb9%2BPX48gxLBs8CYLX5qjqACjxaKESafdQvUx0x0T3oqV3ITQnIBHaPy1cpJL3upfnDZEB41%2Fd1tpam1Mq8waPL%2FBtiFkJpNUAm1ZAdzZQghd5Dl0o3th6%2B9BH55XDyT%2FXmusQeaQ2nmK1i2MxkgGGALQeHGvjZqeHEW0ZgnKpQ%2BNQHVbZbmUYo3Qa9YjDmSI88Kg5QXNlL0FjG%2BPA9UzTq%2FUFKi%2Bgi3p%2BkuQALecQ9VEw6ieOvwho32n%2FFdvHuHX1YwUygqG6vcqJK39ZVBXjw2FQ3c7FtukVE0O1kr%2FvRBCLJ3Hyetpq19tESSf8dwcl9WbSWMnoNxhgQ3U44nylNsF%2Fd8WjevWdU5akr8WiGkZ6IKiY5vQJRi1F5f3lYGZxy8jDcmObLBjqkAaCR5fsCfp9GLG1bdvsJPwedsh4f5a0J8%2BIQ2yEBlSNVO77kjnFMxTHvRffACWY9swuHJEJ5bBBBfUs3N2HPh8UGWSp9K9xWzv1iK7fGLMdISJmnplrx24Gb3qIUx0TbK0VNtVWK4bBjCM7kqABXxdk5fOV2u48W%2Fv8t5EXAe4R9V6Hh3XT%2FHtsDIpDY%2BpXmckm3s00tSrbjUZpTgT0NKPBIy6bG&X-Amz-Signature=3dea2984df069c78aa62517bc8182ef0a7329d60c36598268bd8a2ab30631bb9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T636USII%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041934Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCHLiyHWpv7BzbDWNEO8OyimegvCGlmSv9Q5QNzYxLdPQIhAKF0%2BB70JC%2FdnZnYF0ErdZXvU80VQAB%2Ft0HCeH3oC%2FSAKv8DCGUQABoMNjM3NDIzMTgzODA1IgzvL%2F1EzDh3h5x%2BNXAq3ANO7BCMuQRTLn4vayZMP7PQy1bjJAUyUZlXMkuAYESriNNjy8%2Bc%2Fo1PhmgnzW4mwJPEHiMxRGwL7FqSZ%2BpIs9XzoSUDXANgZYqvsJpm%2FlGt1KlRENxcqWl5kBOKUWi4qm8hfY4J2vh%2BvTt2k%2FTXUiyI3Us%2BPC4PGf876FYNYFT1UdTRVnjIfHx%2BuuwKFKMLeN1hv2dLiotrIH5YvVIlocyvw7o8r2Lp0HrPUfpwZn5n8%2Bf8DsirLHXTwWb9%2BPX48gxLBs8CYLX5qjqACjxaKESafdQvUx0x0T3oqV3ITQnIBHaPy1cpJL3upfnDZEB41%2Fd1tpam1Mq8waPL%2FBtiFkJpNUAm1ZAdzZQghd5Dl0o3th6%2B9BH55XDyT%2FXmusQeaQ2nmK1i2MxkgGGALQeHGvjZqeHEW0ZgnKpQ%2BNQHVbZbmUYo3Qa9YjDmSI88Kg5QXNlL0FjG%2BPA9UzTq%2FUFKi%2Bgi3p%2BkuQALecQ9VEw6ieOvwho32n%2FFdvHuHX1YwUygqG6vcqJK39ZVBXjw2FQ3c7FtukVE0O1kr%2FvRBCLJ3Hyetpq19tESSf8dwcl9WbSWMnoNxhgQ3U44nylNsF%2Fd8WjevWdU5akr8WiGkZ6IKiY5vQJRi1F5f3lYGZxy8jDcmObLBjqkAaCR5fsCfp9GLG1bdvsJPwedsh4f5a0J8%2BIQ2yEBlSNVO77kjnFMxTHvRffACWY9swuHJEJ5bBBBfUs3N2HPh8UGWSp9K9xWzv1iK7fGLMdISJmnplrx24Gb3qIUx0TbK0VNtVWK4bBjCM7kqABXxdk5fOV2u48W%2Fv8t5EXAe4R9V6Hh3XT%2FHtsDIpDY%2BpXmckm3s00tSrbjUZpTgT0NKPBIy6bG&X-Amz-Signature=8d362b6e0f93bde9b677e34eb3fd16527b94ff4ef31981ebafb664be640c10aa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666BRL6PYH%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041935Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHMqLLxdthLO2097Zbrx5yjZSScQigWAX5nx3sjC2IWNAiAiv6GMow33Oj5ehElG0GDLgJpZKrDlGMRfRRMt1p%2BZ8Cr%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIMVJ6mgO2golW8uH%2FtKtwDjnDqpXcHWeH4tCrDGcS%2FrzG6oK0zo%2FAQzHKz0VPAFPdj7CT7h%2Bu%2BaZMfs8FZ3ke3FB6OnYctpkh93MF7KdTEsvr0e3Skl9kfYGI%2Bm%2BTUt1i1DwAcU%2FA3rB05E5F3cYdBmtoBjBTg96u6yzIbF4o8SIlwPU1bqXOGKfBgXV4JN7YfpZuPH6r6JAW8g0OX21MGRQ8%2BR4ViR55I4s8W%2F92Ts1rKMXGdO76UG9pfdtnMpDGTrpi1K0UUjD0lhuOaqYxSMCU2P0X357GYJLc88kMfLHwkVOLTjH4BW289%2B0gzFZLdhLRArfZMvLb4By09XM2Vss1nXGA%2F4tsLicovlPsAfbyGfJrtFxLKosC6RJR%2BYN%2FHYJ%2B3G7TUIbOVypBq92qWhSd6gX%2BVRGwScNasHxFi5xbsZqYlfRNQ8snTa%2BHfcxyTvFnWmLJ%2FH5VIAIInMpkKPUpZfX4qBkvwuHzRNYwElUfZDzp2BHgYuaKXCmqxivLSeFwCZpvCNxn%2FzINrwGdmgveXBo7IBnSfCJWp5xI4PQ07jIrsk8atkK9ziSkw3RynbMcnqt2bKWQiuVd4ntDl%2Bnk2ocrqcnxKh4nz48sb6zFKoZv%2F3%2B4m8nzGFsuvVYgTSjG0hHZR7oPrYdwwp5jmywY6pgEhfnVOvvzIWnu%2Ftbw%2Fa9GETMl2f4m5PoPcPTFW9w6aJlyl8J9mWF%2FMtUDnxGUEx4gWu5z9ddXgtkKO5VIhHUsPPjviIIAedCnjiHyROUqc%2BXAYFOoV8qKae4YJva6yy%2FiWk5%2BhJsZQ0oCd%2FC8u1MdFvdxwcaRWMLraWx%2BAAqfDEDcVdTa7pmyPCg2JkYyNGMPdQ1tkv90T3DYfjPUmcsz2x%2FhiZKVx&X-Amz-Signature=06fd509a8ec4dbdc0bab2afb8b7e3fe6747fe47828f32a54593537899ff6da5a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666BRL6PYH%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041935Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHMqLLxdthLO2097Zbrx5yjZSScQigWAX5nx3sjC2IWNAiAiv6GMow33Oj5ehElG0GDLgJpZKrDlGMRfRRMt1p%2BZ8Cr%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIMVJ6mgO2golW8uH%2FtKtwDjnDqpXcHWeH4tCrDGcS%2FrzG6oK0zo%2FAQzHKz0VPAFPdj7CT7h%2Bu%2BaZMfs8FZ3ke3FB6OnYctpkh93MF7KdTEsvr0e3Skl9kfYGI%2Bm%2BTUt1i1DwAcU%2FA3rB05E5F3cYdBmtoBjBTg96u6yzIbF4o8SIlwPU1bqXOGKfBgXV4JN7YfpZuPH6r6JAW8g0OX21MGRQ8%2BR4ViR55I4s8W%2F92Ts1rKMXGdO76UG9pfdtnMpDGTrpi1K0UUjD0lhuOaqYxSMCU2P0X357GYJLc88kMfLHwkVOLTjH4BW289%2B0gzFZLdhLRArfZMvLb4By09XM2Vss1nXGA%2F4tsLicovlPsAfbyGfJrtFxLKosC6RJR%2BYN%2FHYJ%2B3G7TUIbOVypBq92qWhSd6gX%2BVRGwScNasHxFi5xbsZqYlfRNQ8snTa%2BHfcxyTvFnWmLJ%2FH5VIAIInMpkKPUpZfX4qBkvwuHzRNYwElUfZDzp2BHgYuaKXCmqxivLSeFwCZpvCNxn%2FzINrwGdmgveXBo7IBnSfCJWp5xI4PQ07jIrsk8atkK9ziSkw3RynbMcnqt2bKWQiuVd4ntDl%2Bnk2ocrqcnxKh4nz48sb6zFKoZv%2F3%2B4m8nzGFsuvVYgTSjG0hHZR7oPrYdwwp5jmywY6pgEhfnVOvvzIWnu%2Ftbw%2Fa9GETMl2f4m5PoPcPTFW9w6aJlyl8J9mWF%2FMtUDnxGUEx4gWu5z9ddXgtkKO5VIhHUsPPjviIIAedCnjiHyROUqc%2BXAYFOoV8qKae4YJva6yy%2FiWk5%2BhJsZQ0oCd%2FC8u1MdFvdxwcaRWMLraWx%2BAAqfDEDcVdTa7pmyPCg2JkYyNGMPdQ1tkv90T3DYfjPUmcsz2x%2FhiZKVx&X-Amz-Signature=072a0077d99c87d3da942ecadab2b39860461cb824d08186f0d7bbbe6c52af83&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666BRL6PYH%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041935Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHMqLLxdthLO2097Zbrx5yjZSScQigWAX5nx3sjC2IWNAiAiv6GMow33Oj5ehElG0GDLgJpZKrDlGMRfRRMt1p%2BZ8Cr%2FAwhlEAAaDDYzNzQyMzE4MzgwNSIMVJ6mgO2golW8uH%2FtKtwDjnDqpXcHWeH4tCrDGcS%2FrzG6oK0zo%2FAQzHKz0VPAFPdj7CT7h%2Bu%2BaZMfs8FZ3ke3FB6OnYctpkh93MF7KdTEsvr0e3Skl9kfYGI%2Bm%2BTUt1i1DwAcU%2FA3rB05E5F3cYdBmtoBjBTg96u6yzIbF4o8SIlwPU1bqXOGKfBgXV4JN7YfpZuPH6r6JAW8g0OX21MGRQ8%2BR4ViR55I4s8W%2F92Ts1rKMXGdO76UG9pfdtnMpDGTrpi1K0UUjD0lhuOaqYxSMCU2P0X357GYJLc88kMfLHwkVOLTjH4BW289%2B0gzFZLdhLRArfZMvLb4By09XM2Vss1nXGA%2F4tsLicovlPsAfbyGfJrtFxLKosC6RJR%2BYN%2FHYJ%2B3G7TUIbOVypBq92qWhSd6gX%2BVRGwScNasHxFi5xbsZqYlfRNQ8snTa%2BHfcxyTvFnWmLJ%2FH5VIAIInMpkKPUpZfX4qBkvwuHzRNYwElUfZDzp2BHgYuaKXCmqxivLSeFwCZpvCNxn%2FzINrwGdmgveXBo7IBnSfCJWp5xI4PQ07jIrsk8atkK9ziSkw3RynbMcnqt2bKWQiuVd4ntDl%2Bnk2ocrqcnxKh4nz48sb6zFKoZv%2F3%2B4m8nzGFsuvVYgTSjG0hHZR7oPrYdwwp5jmywY6pgEhfnVOvvzIWnu%2Ftbw%2Fa9GETMl2f4m5PoPcPTFW9w6aJlyl8J9mWF%2FMtUDnxGUEx4gWu5z9ddXgtkKO5VIhHUsPPjviIIAedCnjiHyROUqc%2BXAYFOoV8qKae4YJva6yy%2FiWk5%2BhJsZQ0oCd%2FC8u1MdFvdxwcaRWMLraWx%2BAAqfDEDcVdTa7pmyPCg2JkYyNGMPdQ1tkv90T3DYfjPUmcsz2x%2FhiZKVx&X-Amz-Signature=37f05550c160a07ed1babf39f048c0942a6fbd20b6fe6b1679af9dcbb9d21547&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZNAJUWSB%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041935Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDEeg5WTnHdLnKqY4YBpJ6%2B68%2FLTmvjZsZAcdawlBFy1gIhALnEIcEpFQ2rUat%2BMysuYHx8HsrNr8EpOB8NRQ5mTviCKv8DCGUQABoMNjM3NDIzMTgzODA1IgxhLjWXRafv%2B52SyLkq3AN6nLDMy3Aib1RBa%2Bz8HfhCL8UdxijloQoPuCUq8TVU1NqiGi5VhymJAvd1COeTX9oQnbHrXTMQQzeHbjg7QCz7DEnRn%2F9BsSZ8ofeQgh4CzXKBLtBJbdL12LJxcGPv7MZGjOU2bP1FpB6sxADFbcClDsUifX6tIz8FIgLlVw%2FreBgnxoKKuI2WlP85K%2BuFOpXDMM0iYSvMmTfL5yxI1yfbSiivHRYIwslpL%2BaZgzdjHDJ0FYA0l0mNUmteT5pYXPj5RcpeHQ8riRBGjeBznsgjKlssNcoLDYmdc1VfPZllqapxLEwjUP01lAfwcVG3%2FX8Li5vxJ9yWDTCm%2FXlNjSoT5OOUTaQyf%2FrgkiXTCbIXnQtcju5Y%2FWl1FkT5%2BJ4S8g9422uxechemyVUzwithFHgLyMCgjyjW3RVZUCnPELkqmbASDRR1gLn08Ro4nZzXiT8hg%2BV024ImIteuW6RfWO9B9nK6VADezgK7cZAb5LNcyfolYN2ZYMFcpXOs%2FxwTJjQbUbpjc8FgS%2Bg8s5g2toup%2B4i%2Bvl%2B3hpv7FHp4610um7EGlEPnKugXdoZm2GJbJ2HMjn2uHiZQFTToeaIZUBauGzphr3Ru7eslo0rNs%2FmXopAJqQejSfyyM08BzDSmObLBjqkAb2cu%2BSi4rYt2EL5VkObjUOgYChaBHM09u4h4LsTq%2Fr7eRRlG7hGP%2BlRH7T6gDVY9oBuw9QrLT0nqCXr%2BXRBpm%2B1GtHQewoQc3RdpJAD7vzTVm%2BxY8ROJqai9ihSrLNOrq8grV2wruyF9ZiAknRL3G1jkrdGvElKROj%2BujVwLxl1cPXweV7ROkPip0apHOAZFAU%2FyMd85GG0RVpVlWoAcYn%2B%2BCUS&X-Amz-Signature=6f928c3e0ae05c137e6d209cb97c18ac644d9d1ce18bfeaa8babd3b6b91ea6c5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZNAJUWSB%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041935Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDEeg5WTnHdLnKqY4YBpJ6%2B68%2FLTmvjZsZAcdawlBFy1gIhALnEIcEpFQ2rUat%2BMysuYHx8HsrNr8EpOB8NRQ5mTviCKv8DCGUQABoMNjM3NDIzMTgzODA1IgxhLjWXRafv%2B52SyLkq3AN6nLDMy3Aib1RBa%2Bz8HfhCL8UdxijloQoPuCUq8TVU1NqiGi5VhymJAvd1COeTX9oQnbHrXTMQQzeHbjg7QCz7DEnRn%2F9BsSZ8ofeQgh4CzXKBLtBJbdL12LJxcGPv7MZGjOU2bP1FpB6sxADFbcClDsUifX6tIz8FIgLlVw%2FreBgnxoKKuI2WlP85K%2BuFOpXDMM0iYSvMmTfL5yxI1yfbSiivHRYIwslpL%2BaZgzdjHDJ0FYA0l0mNUmteT5pYXPj5RcpeHQ8riRBGjeBznsgjKlssNcoLDYmdc1VfPZllqapxLEwjUP01lAfwcVG3%2FX8Li5vxJ9yWDTCm%2FXlNjSoT5OOUTaQyf%2FrgkiXTCbIXnQtcju5Y%2FWl1FkT5%2BJ4S8g9422uxechemyVUzwithFHgLyMCgjyjW3RVZUCnPELkqmbASDRR1gLn08Ro4nZzXiT8hg%2BV024ImIteuW6RfWO9B9nK6VADezgK7cZAb5LNcyfolYN2ZYMFcpXOs%2FxwTJjQbUbpjc8FgS%2Bg8s5g2toup%2B4i%2Bvl%2B3hpv7FHp4610um7EGlEPnKugXdoZm2GJbJ2HMjn2uHiZQFTToeaIZUBauGzphr3Ru7eslo0rNs%2FmXopAJqQejSfyyM08BzDSmObLBjqkAb2cu%2BSi4rYt2EL5VkObjUOgYChaBHM09u4h4LsTq%2Fr7eRRlG7hGP%2BlRH7T6gDVY9oBuw9QrLT0nqCXr%2BXRBpm%2B1GtHQewoQc3RdpJAD7vzTVm%2BxY8ROJqai9ihSrLNOrq8grV2wruyF9ZiAknRL3G1jkrdGvElKROj%2BujVwLxl1cPXweV7ROkPip0apHOAZFAU%2FyMd85GG0RVpVlWoAcYn%2B%2BCUS&X-Amz-Signature=f23e633723581f8835c29a1e4b648859877fe7443547b1402b67e8068f562cf0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665FAZG33U%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041935Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCp5sBzzE4yQT9zVExacmm8RzPr%2F31471Ta2YhvOOr1egIhAM9z7GhXMSfZHp8te03RoXOURn1FBcNHhnFaZpgXiFXFKv8DCGUQABoMNjM3NDIzMTgzODA1Igwwt1x2lKrlF0YafXAq3ANy9puPYkGvKKq87jreSvaZgUs7XWUHhu%2Fa4EQXXbnigyYhfwUqEyrv4JoQa7h63gQBqpkh%2BWffPQjRP3lOoDNzDSJN2lpxpZ2wmrkEQbdqVN2%2BmC73v2hXC9GuYC6fag4wb8SI83z5Hxnc1CYbXf1kMxwZ1CHrI9aphkl3LrVqrpTBLFPa%2B4rdKKnEub0XGipl5jQyYfMZYXnU7L5%2BojsbOHWZzbpox1I3VkK0CM3mOIDKTPg9nzSe%2BvT4JDD3lpu7lrzVi0SD07CZ87gOEr8YXbLIEwYhFmf1vsX%2FMlFRFYmk78tIlfoA6vL%2FpEiqx1TJ38QEEd9SlQrQu4Dst1THmGb2pjdpL%2BP1vklAPJGm8zsfmeCY8P%2BkMW9gnJ%2BdwAz0M1KBCO2U8%2B%2F3lmrR4YjVC9HB8D1oUL24TYcpxBjSGmyyLV1an6fJfZHRMOYSY9GGO%2FUSKt4GGu0OmGDBzwKjLFSPHnf5G3lro%2Fft%2B584MJSCU%2FPbxvgCVyg380hPcAzfv27PzETR%2BJAuPYlH34PhaIk9tzcB68V2bp7umq09KJ4brJAdKYymEICe6NPLREk2CCtuXkIW9z6kbZrPM1tL3Onyb7buDwfbi3u050u7SXEJNN8vKVPjhU9DnzCtmebLBjqkAQ0nLdexPyLyOJLRrldSdn4m2GCa%2FIUWU8LBCZKR4hStkCacb%2FxI4JuZYMvnzIHsI0EP%2BReDCN61tyFsBvsvfgMjk80T5O1g4v3%2B%2Bn4bCuVGjmsXcOeJ1ItPdS1O%2BPm7dw9Sb%2BmFkX24RVnwQy%2BFEwWbj5pqOjhkW1N%2FTYiMJNsOiksGtQFqo65yEdQh2PD%2FzlMEggvhhc0s8ou3HuzQtu9p3OiC&X-Amz-Signature=1c05e7a1c308cc672dc66c68d8ecd4f2d695a1f732630a89d255afe8b7f5c5d0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665FAZG33U%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041935Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCp5sBzzE4yQT9zVExacmm8RzPr%2F31471Ta2YhvOOr1egIhAM9z7GhXMSfZHp8te03RoXOURn1FBcNHhnFaZpgXiFXFKv8DCGUQABoMNjM3NDIzMTgzODA1Igwwt1x2lKrlF0YafXAq3ANy9puPYkGvKKq87jreSvaZgUs7XWUHhu%2Fa4EQXXbnigyYhfwUqEyrv4JoQa7h63gQBqpkh%2BWffPQjRP3lOoDNzDSJN2lpxpZ2wmrkEQbdqVN2%2BmC73v2hXC9GuYC6fag4wb8SI83z5Hxnc1CYbXf1kMxwZ1CHrI9aphkl3LrVqrpTBLFPa%2B4rdKKnEub0XGipl5jQyYfMZYXnU7L5%2BojsbOHWZzbpox1I3VkK0CM3mOIDKTPg9nzSe%2BvT4JDD3lpu7lrzVi0SD07CZ87gOEr8YXbLIEwYhFmf1vsX%2FMlFRFYmk78tIlfoA6vL%2FpEiqx1TJ38QEEd9SlQrQu4Dst1THmGb2pjdpL%2BP1vklAPJGm8zsfmeCY8P%2BkMW9gnJ%2BdwAz0M1KBCO2U8%2B%2F3lmrR4YjVC9HB8D1oUL24TYcpxBjSGmyyLV1an6fJfZHRMOYSY9GGO%2FUSKt4GGu0OmGDBzwKjLFSPHnf5G3lro%2Fft%2B584MJSCU%2FPbxvgCVyg380hPcAzfv27PzETR%2BJAuPYlH34PhaIk9tzcB68V2bp7umq09KJ4brJAdKYymEICe6NPLREk2CCtuXkIW9z6kbZrPM1tL3Onyb7buDwfbi3u050u7SXEJNN8vKVPjhU9DnzCtmebLBjqkAQ0nLdexPyLyOJLRrldSdn4m2GCa%2FIUWU8LBCZKR4hStkCacb%2FxI4JuZYMvnzIHsI0EP%2BReDCN61tyFsBvsvfgMjk80T5O1g4v3%2B%2Bn4bCuVGjmsXcOeJ1ItPdS1O%2BPm7dw9Sb%2BmFkX24RVnwQy%2BFEwWbj5pqOjhkW1N%2FTYiMJNsOiksGtQFqo65yEdQh2PD%2FzlMEggvhhc0s8ou3HuzQtu9p3OiC&X-Amz-Signature=45ad19a7ec80c0c6b87ea1f1b6fbcd23860c148fbdc6d4b350dfcaa6bb6c22e4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QUZT7NEK%2F20260128%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260128T041936Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHPNL0Thh2%2BNccjSzk0Ho6zTJarOehul%2FiWjDnARmLIeAiEA%2BhLwTTV8ldYvgdeBpIDBiy4EUS3wb%2BQO7W86jeeXvvEq%2FwMIZRAAGgw2Mzc0MjMxODM4MDUiDH%2Bo1EDIxTHKXsWaMSrcA2wh%2BlTi0TjDBmxDSqpCGzBY3THPuGXS79WqJNrqRXUsShR%2F1pZaZwbLi1LqO0kxR4BncZXkiwf2aEnV5ETmcy3cuzgvgihHmAOgQdbK62%2B71PQhTWxTWvTiX0DEdTXcrZ%2FVEQJd4UXlB40F0iu00AqUuwC7PN0ZuzZR0KxGcEeMcPizsnIrBsJH%2BYN4PHou9pYrlZ7IB8oCcJ4nBELONCL1ALevvMzFatIrmlaEXnAbOBtkmu2Z3wGbF1L2hRZ9wIzBJqdkCLsYJtgxS1qsLFJd013Q%2BfAf9qxi9MmbnKw%2Bv5nISX4Ffd3KBNG8gRQxjpbxKZeU7160bMVkzEsaK9YsypgIspatjzIauglHr1YPZ7qSdbrQas1KFL%2BS92pDRJeKXFfOzXpAHYp4gOCl7F9xp4AqIdiIBSayu9loQp8PUgQ0Q99LRO2NgY9nmT4xUJ7hFuzARvuxeG5vvEKpv7aSDh7V2IoTgj1DGwJmMazOgDPM3Xrqx3brvaUTmomz1n0uzcJRu4fSBkN85WUVsfKEpK%2BKPRrQGNWFiyZm6MFJCbymYzShx0KJ%2F3p9ZYo6s3XuiHGWnxRB6RMNuLrwBBjUUoZJS31c8K1l3c2lM9NiYWxysK%2FfAdo424BmMKWY5ssGOqUB5069ZYfv7k2FF10pyRU%2F19IkEB2AhvQ7AUwB8%2BqrVg%2Bzanm6QELb12Vigu9qNdaEEhcTpwcmvxD7oU66oViPh%2BG90YuGnRHEm0NNI7hBefNZhJ9ArYyEhTM5eYnu7RRQOcLsPSqGRRYk3oeCyPjcUaEGsH330dCejmEesAliwkmvWudgLsCeJFAk0QdE1X32v1JzS0qbI7lumwpQvW4SbKBKHrcK&X-Amz-Signature=7f0b26562ef712310b899c9af0a3d37aa5f06ff0627cb8c0702620fa9607594e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
