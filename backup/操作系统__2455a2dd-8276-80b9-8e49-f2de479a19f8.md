
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RJC6LAEI%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040527Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJIMEYCIQDq4TCPHSjZ%2FX%2B15%2BVnNZOI7CMJQaAHQK4H1xoRsLUYLQIhAOmg01ilRli2OV300PAxiqmiUerF02DVZoHtyHtsrnOrKogECPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwFJsYI3dJGSGhAOyoq3AOf2HKrNHXZozlGJ1DDNJvbwHl1v659wI6H85jGJQj%2FYBFZsDdYhCRe%2BOe%2BMq26MDvjWfMeFKICVkaZbWvDBydRTaH97Qv9yD6WOdzguTqcqtW%2FxszsT70CYxdaNnn9CMU7AwlbdvxNzfTLENUQPwE%2FIjRn%2BqitjX20KbAGqz2DPuXGiBq4JbDlxknfo3d9nzsFn6ETADIDJNY5BaeF1xGUJ0jb%2BK0DEGOWTr7wJaiqYg%2FWKkiVykndp1QK2HtcPeWxExYwYh9hWEu40jffZ%2FdurbGry45bvLEQUozX17rAmtlFd53s5pa%2B2UOYt0lQvNAQkbbAeI%2FNKatw%2FyajkiZBZ93RmWIVow7k%2BHHGpiwDZ8ZiulCLEQTWO2sLVl0CmKOJOQOZ5syjUTS0i6oZqxqcOvYe%2FlSjJ%2BZCfj1GJO6JtSdKCJsz9pHZRsPXdCec8XBjqdniZ9S9VrNHhIIgLw2KluFmzjc8%2FiImk06unaZ9nhBlOXkPKA8PIDMKAGv0WUvx0XHlRh9%2BjSSbF%2BtD%2FejNhYWqs%2BKfg%2F4iUW%2FPARiXwz6pKJOcKlmM8OiuY2a9gd6eT8YjOgWMyOqmgqdgPdukxYwY3bA%2FJUnAisdd5GfIa87NNwY5jyWY9J22GzDb4O3JBjqkAU7iUrHlKejx06B6sYx3bdBWwiM6kmbOw4fQ3Fy1Z4SC6e0HiINZhXTiOfsdy9ZMJpQf7Umk4rmiiZFjLaA9Pq4vfWSDuMhxfZKJWBmcSH09Ia1xdklR99f1FDlj3z91KQpLthttQK9cJdrKgcYMcO%2F5qTzAtuPjYL6xIY%2BMiZPo7X%2BOny35fdmRl592m5SmejKEqHFcPUM0wS3qOKJGRwqvVTgB&X-Amz-Signature=9fb3b111c9212092d5dbbea9f602dbcab6714549764b9287c047bd2f668afad8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RJC6LAEI%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040527Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJIMEYCIQDq4TCPHSjZ%2FX%2B15%2BVnNZOI7CMJQaAHQK4H1xoRsLUYLQIhAOmg01ilRli2OV300PAxiqmiUerF02DVZoHtyHtsrnOrKogECPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwFJsYI3dJGSGhAOyoq3AOf2HKrNHXZozlGJ1DDNJvbwHl1v659wI6H85jGJQj%2FYBFZsDdYhCRe%2BOe%2BMq26MDvjWfMeFKICVkaZbWvDBydRTaH97Qv9yD6WOdzguTqcqtW%2FxszsT70CYxdaNnn9CMU7AwlbdvxNzfTLENUQPwE%2FIjRn%2BqitjX20KbAGqz2DPuXGiBq4JbDlxknfo3d9nzsFn6ETADIDJNY5BaeF1xGUJ0jb%2BK0DEGOWTr7wJaiqYg%2FWKkiVykndp1QK2HtcPeWxExYwYh9hWEu40jffZ%2FdurbGry45bvLEQUozX17rAmtlFd53s5pa%2B2UOYt0lQvNAQkbbAeI%2FNKatw%2FyajkiZBZ93RmWIVow7k%2BHHGpiwDZ8ZiulCLEQTWO2sLVl0CmKOJOQOZ5syjUTS0i6oZqxqcOvYe%2FlSjJ%2BZCfj1GJO6JtSdKCJsz9pHZRsPXdCec8XBjqdniZ9S9VrNHhIIgLw2KluFmzjc8%2FiImk06unaZ9nhBlOXkPKA8PIDMKAGv0WUvx0XHlRh9%2BjSSbF%2BtD%2FejNhYWqs%2BKfg%2F4iUW%2FPARiXwz6pKJOcKlmM8OiuY2a9gd6eT8YjOgWMyOqmgqdgPdukxYwY3bA%2FJUnAisdd5GfIa87NNwY5jyWY9J22GzDb4O3JBjqkAU7iUrHlKejx06B6sYx3bdBWwiM6kmbOw4fQ3Fy1Z4SC6e0HiINZhXTiOfsdy9ZMJpQf7Umk4rmiiZFjLaA9Pq4vfWSDuMhxfZKJWBmcSH09Ia1xdklR99f1FDlj3z91KQpLthttQK9cJdrKgcYMcO%2F5qTzAtuPjYL6xIY%2BMiZPo7X%2BOny35fdmRl592m5SmejKEqHFcPUM0wS3qOKJGRwqvVTgB&X-Amz-Signature=a7acb8b3814204aa18f88e6a141bdff39ed2bfbf72389863be0f2beebfb3f609&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RJC6LAEI%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040527Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJIMEYCIQDq4TCPHSjZ%2FX%2B15%2BVnNZOI7CMJQaAHQK4H1xoRsLUYLQIhAOmg01ilRli2OV300PAxiqmiUerF02DVZoHtyHtsrnOrKogECPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgwFJsYI3dJGSGhAOyoq3AOf2HKrNHXZozlGJ1DDNJvbwHl1v659wI6H85jGJQj%2FYBFZsDdYhCRe%2BOe%2BMq26MDvjWfMeFKICVkaZbWvDBydRTaH97Qv9yD6WOdzguTqcqtW%2FxszsT70CYxdaNnn9CMU7AwlbdvxNzfTLENUQPwE%2FIjRn%2BqitjX20KbAGqz2DPuXGiBq4JbDlxknfo3d9nzsFn6ETADIDJNY5BaeF1xGUJ0jb%2BK0DEGOWTr7wJaiqYg%2FWKkiVykndp1QK2HtcPeWxExYwYh9hWEu40jffZ%2FdurbGry45bvLEQUozX17rAmtlFd53s5pa%2B2UOYt0lQvNAQkbbAeI%2FNKatw%2FyajkiZBZ93RmWIVow7k%2BHHGpiwDZ8ZiulCLEQTWO2sLVl0CmKOJOQOZ5syjUTS0i6oZqxqcOvYe%2FlSjJ%2BZCfj1GJO6JtSdKCJsz9pHZRsPXdCec8XBjqdniZ9S9VrNHhIIgLw2KluFmzjc8%2FiImk06unaZ9nhBlOXkPKA8PIDMKAGv0WUvx0XHlRh9%2BjSSbF%2BtD%2FejNhYWqs%2BKfg%2F4iUW%2FPARiXwz6pKJOcKlmM8OiuY2a9gd6eT8YjOgWMyOqmgqdgPdukxYwY3bA%2FJUnAisdd5GfIa87NNwY5jyWY9J22GzDb4O3JBjqkAU7iUrHlKejx06B6sYx3bdBWwiM6kmbOw4fQ3Fy1Z4SC6e0HiINZhXTiOfsdy9ZMJpQf7Umk4rmiiZFjLaA9Pq4vfWSDuMhxfZKJWBmcSH09Ia1xdklR99f1FDlj3z91KQpLthttQK9cJdrKgcYMcO%2F5qTzAtuPjYL6xIY%2BMiZPo7X%2BOny35fdmRl592m5SmejKEqHFcPUM0wS3qOKJGRwqvVTgB&X-Amz-Signature=afe55dfd4846dd051828d1064275eca26d987e3ca8a5598acdbabfd097a3b54a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662JG6L4OJ%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040527Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJIMEYCIQCSF1UI5RiXuHH2xDzlOHEIq7aJ4m8s4Cfyh6Jm3gSGOwIhAJhdNKGla1BeQ8iCM2HqHKw6t1qK3QZqfhE%2B4nGZjrl0KogECPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyHVELHXPev7TTQvc0q3ANVuX4otxG2bCeJIToCnWeeOakfuWR0QI15ibbI1YmMq1Q446D825zop%2FXM6nKxwvzumei2Q3jvOJSWmB1FNfVFwqRdHixc4H5WPOdd9ufaYu2j5KWO1bUwel1mCsji6%2BWcB4%2BX53NeNPHz%2FABykWlgA7EL7L4DdCLdZ7GOuOpJO1GvTIwTgC6%2BXD%2FfrhYHTjQNF%2BGy9jzG9H5U4XWJhGalRMSeJ3pGv5A1Y2QQiktVaKZ2LlW6IC97lUjhQwhZCmuFbHJy2SnDgqUb%2FdRnGPHTqqurqwXIUoc1G3GNoSECl1IaVe71h5qWL%2F0TLzamOx6QLBWxWk%2F0l7mEnkAmJAv427VNWouotu7yMs%2BQ4xIjCKZ8P9Z2I9%2BURLRBf%2FZA7d1%2FkUM0LqkmZIrmDlzW0igEStFpKzuqWaRkLEOrIJDD73GSEXPhb58q8tWCkX2tMJYUjoQenUwZG8YgXOtsfg3Qp9xi518N38Cw7DE4gLJjlyRGOT5%2FUhKFVrqMcadyONeo6iDSXjxmnG9V271eeulvay7puGF6orMBhY%2BQTZtQ%2BVwoHTepAxnXC81DOw%2BkKVnZPuplExy6YFCYAqzA2C7o%2FydENqAEuEzIsyrvPD%2Bfj8xXuVT5lErykDgFaTC%2B3%2B3JBjqkATwYrIlUEIQ90FbC4x1PxL6oA3tk%2FWGd8kclv3eqvkwjMX1SemUi5nRcfSRgsC%2BD2xMQ0HaQO2qd7x8KNe48NmLaERboTv8OatJ7EchAqbGQInL8EjxtndaUjx9utRsUeguyq00wIe3v07g3Qy4seeyBp4oSh9bRiBvGzKN2piZO1a0I%2FysonSrHNWmBb5K6sdu3nV9ZAbZI%2BqUxvwICAnvitsYj&X-Amz-Signature=c748467a07432adda3b5883cd49fe8df8c77c1a3791844569d00582922d1f772&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662JG6L4OJ%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040527Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJIMEYCIQCSF1UI5RiXuHH2xDzlOHEIq7aJ4m8s4Cfyh6Jm3gSGOwIhAJhdNKGla1BeQ8iCM2HqHKw6t1qK3QZqfhE%2B4nGZjrl0KogECPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyHVELHXPev7TTQvc0q3ANVuX4otxG2bCeJIToCnWeeOakfuWR0QI15ibbI1YmMq1Q446D825zop%2FXM6nKxwvzumei2Q3jvOJSWmB1FNfVFwqRdHixc4H5WPOdd9ufaYu2j5KWO1bUwel1mCsji6%2BWcB4%2BX53NeNPHz%2FABykWlgA7EL7L4DdCLdZ7GOuOpJO1GvTIwTgC6%2BXD%2FfrhYHTjQNF%2BGy9jzG9H5U4XWJhGalRMSeJ3pGv5A1Y2QQiktVaKZ2LlW6IC97lUjhQwhZCmuFbHJy2SnDgqUb%2FdRnGPHTqqurqwXIUoc1G3GNoSECl1IaVe71h5qWL%2F0TLzamOx6QLBWxWk%2F0l7mEnkAmJAv427VNWouotu7yMs%2BQ4xIjCKZ8P9Z2I9%2BURLRBf%2FZA7d1%2FkUM0LqkmZIrmDlzW0igEStFpKzuqWaRkLEOrIJDD73GSEXPhb58q8tWCkX2tMJYUjoQenUwZG8YgXOtsfg3Qp9xi518N38Cw7DE4gLJjlyRGOT5%2FUhKFVrqMcadyONeo6iDSXjxmnG9V271eeulvay7puGF6orMBhY%2BQTZtQ%2BVwoHTepAxnXC81DOw%2BkKVnZPuplExy6YFCYAqzA2C7o%2FydENqAEuEzIsyrvPD%2Bfj8xXuVT5lErykDgFaTC%2B3%2B3JBjqkATwYrIlUEIQ90FbC4x1PxL6oA3tk%2FWGd8kclv3eqvkwjMX1SemUi5nRcfSRgsC%2BD2xMQ0HaQO2qd7x8KNe48NmLaERboTv8OatJ7EchAqbGQInL8EjxtndaUjx9utRsUeguyq00wIe3v07g3Qy4seeyBp4oSh9bRiBvGzKN2piZO1a0I%2FysonSrHNWmBb5K6sdu3nV9ZAbZI%2BqUxvwICAnvitsYj&X-Amz-Signature=69b9c5dabf99f40a000bcf54e51474327053c1d62abf92d07e122144df3047ed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662JG6L4OJ%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040527Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJIMEYCIQCSF1UI5RiXuHH2xDzlOHEIq7aJ4m8s4Cfyh6Jm3gSGOwIhAJhdNKGla1BeQ8iCM2HqHKw6t1qK3QZqfhE%2B4nGZjrl0KogECPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyHVELHXPev7TTQvc0q3ANVuX4otxG2bCeJIToCnWeeOakfuWR0QI15ibbI1YmMq1Q446D825zop%2FXM6nKxwvzumei2Q3jvOJSWmB1FNfVFwqRdHixc4H5WPOdd9ufaYu2j5KWO1bUwel1mCsji6%2BWcB4%2BX53NeNPHz%2FABykWlgA7EL7L4DdCLdZ7GOuOpJO1GvTIwTgC6%2BXD%2FfrhYHTjQNF%2BGy9jzG9H5U4XWJhGalRMSeJ3pGv5A1Y2QQiktVaKZ2LlW6IC97lUjhQwhZCmuFbHJy2SnDgqUb%2FdRnGPHTqqurqwXIUoc1G3GNoSECl1IaVe71h5qWL%2F0TLzamOx6QLBWxWk%2F0l7mEnkAmJAv427VNWouotu7yMs%2BQ4xIjCKZ8P9Z2I9%2BURLRBf%2FZA7d1%2FkUM0LqkmZIrmDlzW0igEStFpKzuqWaRkLEOrIJDD73GSEXPhb58q8tWCkX2tMJYUjoQenUwZG8YgXOtsfg3Qp9xi518N38Cw7DE4gLJjlyRGOT5%2FUhKFVrqMcadyONeo6iDSXjxmnG9V271eeulvay7puGF6orMBhY%2BQTZtQ%2BVwoHTepAxnXC81DOw%2BkKVnZPuplExy6YFCYAqzA2C7o%2FydENqAEuEzIsyrvPD%2Bfj8xXuVT5lErykDgFaTC%2B3%2B3JBjqkATwYrIlUEIQ90FbC4x1PxL6oA3tk%2FWGd8kclv3eqvkwjMX1SemUi5nRcfSRgsC%2BD2xMQ0HaQO2qd7x8KNe48NmLaERboTv8OatJ7EchAqbGQInL8EjxtndaUjx9utRsUeguyq00wIe3v07g3Qy4seeyBp4oSh9bRiBvGzKN2piZO1a0I%2FysonSrHNWmBb5K6sdu3nV9ZAbZI%2BqUxvwICAnvitsYj&X-Amz-Signature=93b2228a14a2f894c65defac532367006b11c100eedcacee9cf19013d69bc3e0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46673VZ6QEE%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJGMEQCICxo%2BABI0Q7Rt5w0%2BwlLDQRZdby2PHWNU88KcoNgMKUCAiAzn8xwb9TLNT0l%2BMDMBs8K86gdnVHVynhhKxfWQGg5AiqIBAj7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM0Us5njw4m4O8AEKpKtwDV9jEPnUO6jpzygnHClav2sLpvrNBguIreES6S59TImZWAls0FPxGa59WX7mltgTueUgn4yLc9celXrmhpJ8Lpt6M5bMpndS%2BCcQ0IKp48bQfJNsv42en%2FWO6%2Fn1IV7FWV8Vh5t84Kr41Hh8%2Bty2K0BkFAjUQGPFgpsC5RDWo%2BXJRLtRt2KEEkTY%2FJsifkcZCsc1IsyY1%2B14Nh%2FX%2FrGghgJ0hzG3ykTMI5WJ3YXXJPHzb%2BwuoVek%2B%2ByfbKw%2BisSeDl%2FCGsBIeCchyHbNRi%2FO8mkJWz%2B2T5LtC%2Bg4Lbb5b%2FAXXEksfbBko1y2vlgaSJVcCa6YCxFpDjLiKP10cT8jtK7m3rXh0cgvOBfRIwZnWxS4LsDoTkv9AKbGYiTKPG19wYVIpdk3VUyynelUw6YgZnLI%2BP%2FK%2BugANTm7xiHp0eYSYaF%2FKb3R%2FRgXnr0hzwfegiGIsSyAwxe2N6y9VeMcWDvaFlraC3LHg8QbWaf1u%2F%2B0DI1BubDIvWa8CDZrbKCUuC%2FEziuen1QmF3ThVrCvTTy656dfcqzp472201XjqzHsiWqU6OB9iKphGenUHUsWvQ5JFGycvtKe15HrqeVO8hUaNJ%2Fi4OcO%2FTrXAsl1cApp2rfnBVF9ZyZn9cXAw3uDtyQY6pgGT3ujNdhh2eOx0c2A11P4ZM9QikelkIToIvh3d%2F4Qo00gQVEHrZtZ5er7MjBcbxG6WBrIXCZd%2FxOs4xsk5QtV%2BgYlTqk068Hw3aoLwYy9Y95r8WgJHKL8UcQsUulqgGSkoILHmDmjHx00LdfFqtRIvvgZ75Yyq9qHuuDYosqlWNgvMaBnBfqSdqnV6tSQWi%2F8JvXqhkyPkduS%2Bef29spo%2B19jldKoe&X-Amz-Signature=9407d71c6b782e13d69943552463830f071d8e74f08a3ca86d6886aa090c6b34&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46673VZ6QEE%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJGMEQCICxo%2BABI0Q7Rt5w0%2BwlLDQRZdby2PHWNU88KcoNgMKUCAiAzn8xwb9TLNT0l%2BMDMBs8K86gdnVHVynhhKxfWQGg5AiqIBAj7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM0Us5njw4m4O8AEKpKtwDV9jEPnUO6jpzygnHClav2sLpvrNBguIreES6S59TImZWAls0FPxGa59WX7mltgTueUgn4yLc9celXrmhpJ8Lpt6M5bMpndS%2BCcQ0IKp48bQfJNsv42en%2FWO6%2Fn1IV7FWV8Vh5t84Kr41Hh8%2Bty2K0BkFAjUQGPFgpsC5RDWo%2BXJRLtRt2KEEkTY%2FJsifkcZCsc1IsyY1%2B14Nh%2FX%2FrGghgJ0hzG3ykTMI5WJ3YXXJPHzb%2BwuoVek%2B%2ByfbKw%2BisSeDl%2FCGsBIeCchyHbNRi%2FO8mkJWz%2B2T5LtC%2Bg4Lbb5b%2FAXXEksfbBko1y2vlgaSJVcCa6YCxFpDjLiKP10cT8jtK7m3rXh0cgvOBfRIwZnWxS4LsDoTkv9AKbGYiTKPG19wYVIpdk3VUyynelUw6YgZnLI%2BP%2FK%2BugANTm7xiHp0eYSYaF%2FKb3R%2FRgXnr0hzwfegiGIsSyAwxe2N6y9VeMcWDvaFlraC3LHg8QbWaf1u%2F%2B0DI1BubDIvWa8CDZrbKCUuC%2FEziuen1QmF3ThVrCvTTy656dfcqzp472201XjqzHsiWqU6OB9iKphGenUHUsWvQ5JFGycvtKe15HrqeVO8hUaNJ%2Fi4OcO%2FTrXAsl1cApp2rfnBVF9ZyZn9cXAw3uDtyQY6pgGT3ujNdhh2eOx0c2A11P4ZM9QikelkIToIvh3d%2F4Qo00gQVEHrZtZ5er7MjBcbxG6WBrIXCZd%2FxOs4xsk5QtV%2BgYlTqk068Hw3aoLwYy9Y95r8WgJHKL8UcQsUulqgGSkoILHmDmjHx00LdfFqtRIvvgZ75Yyq9qHuuDYosqlWNgvMaBnBfqSdqnV6tSQWi%2F8JvXqhkyPkduS%2Bef29spo%2B19jldKoe&X-Amz-Signature=a669e091b01907f6c082a8e630a271479820d192e037729737874f63e78ff65a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46673VZ6QEE%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJGMEQCICxo%2BABI0Q7Rt5w0%2BwlLDQRZdby2PHWNU88KcoNgMKUCAiAzn8xwb9TLNT0l%2BMDMBs8K86gdnVHVynhhKxfWQGg5AiqIBAj7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM0Us5njw4m4O8AEKpKtwDV9jEPnUO6jpzygnHClav2sLpvrNBguIreES6S59TImZWAls0FPxGa59WX7mltgTueUgn4yLc9celXrmhpJ8Lpt6M5bMpndS%2BCcQ0IKp48bQfJNsv42en%2FWO6%2Fn1IV7FWV8Vh5t84Kr41Hh8%2Bty2K0BkFAjUQGPFgpsC5RDWo%2BXJRLtRt2KEEkTY%2FJsifkcZCsc1IsyY1%2B14Nh%2FX%2FrGghgJ0hzG3ykTMI5WJ3YXXJPHzb%2BwuoVek%2B%2ByfbKw%2BisSeDl%2FCGsBIeCchyHbNRi%2FO8mkJWz%2B2T5LtC%2Bg4Lbb5b%2FAXXEksfbBko1y2vlgaSJVcCa6YCxFpDjLiKP10cT8jtK7m3rXh0cgvOBfRIwZnWxS4LsDoTkv9AKbGYiTKPG19wYVIpdk3VUyynelUw6YgZnLI%2BP%2FK%2BugANTm7xiHp0eYSYaF%2FKb3R%2FRgXnr0hzwfegiGIsSyAwxe2N6y9VeMcWDvaFlraC3LHg8QbWaf1u%2F%2B0DI1BubDIvWa8CDZrbKCUuC%2FEziuen1QmF3ThVrCvTTy656dfcqzp472201XjqzHsiWqU6OB9iKphGenUHUsWvQ5JFGycvtKe15HrqeVO8hUaNJ%2Fi4OcO%2FTrXAsl1cApp2rfnBVF9ZyZn9cXAw3uDtyQY6pgGT3ujNdhh2eOx0c2A11P4ZM9QikelkIToIvh3d%2F4Qo00gQVEHrZtZ5er7MjBcbxG6WBrIXCZd%2FxOs4xsk5QtV%2BgYlTqk068Hw3aoLwYy9Y95r8WgJHKL8UcQsUulqgGSkoILHmDmjHx00LdfFqtRIvvgZ75Yyq9qHuuDYosqlWNgvMaBnBfqSdqnV6tSQWi%2F8JvXqhkyPkduS%2Bef29spo%2B19jldKoe&X-Amz-Signature=d59f539acd5349dc98e7a7f274fd4e875abca3f1864bef14b5a34ece0cd452fd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46673VZ6QEE%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJGMEQCICxo%2BABI0Q7Rt5w0%2BwlLDQRZdby2PHWNU88KcoNgMKUCAiAzn8xwb9TLNT0l%2BMDMBs8K86gdnVHVynhhKxfWQGg5AiqIBAj7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM0Us5njw4m4O8AEKpKtwDV9jEPnUO6jpzygnHClav2sLpvrNBguIreES6S59TImZWAls0FPxGa59WX7mltgTueUgn4yLc9celXrmhpJ8Lpt6M5bMpndS%2BCcQ0IKp48bQfJNsv42en%2FWO6%2Fn1IV7FWV8Vh5t84Kr41Hh8%2Bty2K0BkFAjUQGPFgpsC5RDWo%2BXJRLtRt2KEEkTY%2FJsifkcZCsc1IsyY1%2B14Nh%2FX%2FrGghgJ0hzG3ykTMI5WJ3YXXJPHzb%2BwuoVek%2B%2ByfbKw%2BisSeDl%2FCGsBIeCchyHbNRi%2FO8mkJWz%2B2T5LtC%2Bg4Lbb5b%2FAXXEksfbBko1y2vlgaSJVcCa6YCxFpDjLiKP10cT8jtK7m3rXh0cgvOBfRIwZnWxS4LsDoTkv9AKbGYiTKPG19wYVIpdk3VUyynelUw6YgZnLI%2BP%2FK%2BugANTm7xiHp0eYSYaF%2FKb3R%2FRgXnr0hzwfegiGIsSyAwxe2N6y9VeMcWDvaFlraC3LHg8QbWaf1u%2F%2B0DI1BubDIvWa8CDZrbKCUuC%2FEziuen1QmF3ThVrCvTTy656dfcqzp472201XjqzHsiWqU6OB9iKphGenUHUsWvQ5JFGycvtKe15HrqeVO8hUaNJ%2Fi4OcO%2FTrXAsl1cApp2rfnBVF9ZyZn9cXAw3uDtyQY6pgGT3ujNdhh2eOx0c2A11P4ZM9QikelkIToIvh3d%2F4Qo00gQVEHrZtZ5er7MjBcbxG6WBrIXCZd%2FxOs4xsk5QtV%2BgYlTqk068Hw3aoLwYy9Y95r8WgJHKL8UcQsUulqgGSkoILHmDmjHx00LdfFqtRIvvgZ75Yyq9qHuuDYosqlWNgvMaBnBfqSdqnV6tSQWi%2F8JvXqhkyPkduS%2Bef29spo%2B19jldKoe&X-Amz-Signature=f183459e8faba1db7d1ba6e4eeee0a07bdc1339f3b59c7163eaf7c709d60ef4e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7ED25ZI%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIC5P1QMQ1La0QM4ZhSfednb0U%2BkWTAmi8PipLb1fai1kAiEAhsVt%2FTGMiyq0cwTBo%2BS02U2Cfi3PRzF56tB%2FXNLnxCAqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH1lb50x2SnYfOGMwyrcA%2FF2nJgYDaZTUsvdYlVf6xX3gebV988bR6JAej4KvX2i8CrFNfg2NCb%2FQ46YJ2FkwJAkwfq6ghrGgE3K8%2Bi63%2FoyoRSm8%2FYGiH%2FTsBwI2yAzmpn79Ool3qFf1XZ8KxRvmSuuQOrpX7UUvm%2BL9uMCLpuceNJ7QrcMr0%2FnArXGQvjZ896mSWx4GZjXwcZK0FpqGvmhy%2FZfC7wtaSozdmNhpUZdeEAZLlX%2FCBN2GaGmhZguYlcWofN7eXXE39EUDxD9l8cGMZsTvF6u2HQd4uF2VppIjrLyoXdJOSGC9RSUcNSQSAmyifMBGVu9cYbnwLy9FAqyGW73pvoMADGN2ChGIYenTTHtGE7Af0JzmcGqtbgFukXNddKttZsNALMTRZmj4PQiVJQ9DJfhzxKy37tb6tZpJSR8LuM2JHgZARB6gXCsl0pwwuTFQtqn1BZLEj4CxqqVyV0%2BqoHkO%2F9K7hgnQfM45Pv7D3no0xIbRdMauZyFnQ25WfLvD48qKMMd7WnmCDOTty9ncrxFlfGYmZPmKeBvYpODjjP2Eq%2BXdFumtTngZEAdPjov3Q6xRJwbum%2BIeQsqfqK5UtLwxTCmgDWL0siLddV4jHgF4JOmRbRYNg0iJ%2BOucKEj7pZllOTVMPff7ckGOqUB7CbrksbOmrOWDKHNz465t0fU5OKE6tC2I3RKmLIExSZRdh7FIBUTbeGAiaZA5ELbc4bgxVCKYmQKNNXUyjpa27KdMx9OFCWRpTtZcP0AITqu%2BhpybAPu4qFuh5l3T4JI0JRCZzVP3QnC8ndvtgwHIMVcRdSoB42o0IEv%2FcOKGjrBXtQ4XGeqMkeGkkEPsspvr8ekPoT%2BTcgqd8rIK02U3t4cCb3e&X-Amz-Signature=12fcee60243ed5d9220edcd6c6899a4627a609f27e95785855f9597cd73a7c2c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7ED25ZI%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIC5P1QMQ1La0QM4ZhSfednb0U%2BkWTAmi8PipLb1fai1kAiEAhsVt%2FTGMiyq0cwTBo%2BS02U2Cfi3PRzF56tB%2FXNLnxCAqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH1lb50x2SnYfOGMwyrcA%2FF2nJgYDaZTUsvdYlVf6xX3gebV988bR6JAej4KvX2i8CrFNfg2NCb%2FQ46YJ2FkwJAkwfq6ghrGgE3K8%2Bi63%2FoyoRSm8%2FYGiH%2FTsBwI2yAzmpn79Ool3qFf1XZ8KxRvmSuuQOrpX7UUvm%2BL9uMCLpuceNJ7QrcMr0%2FnArXGQvjZ896mSWx4GZjXwcZK0FpqGvmhy%2FZfC7wtaSozdmNhpUZdeEAZLlX%2FCBN2GaGmhZguYlcWofN7eXXE39EUDxD9l8cGMZsTvF6u2HQd4uF2VppIjrLyoXdJOSGC9RSUcNSQSAmyifMBGVu9cYbnwLy9FAqyGW73pvoMADGN2ChGIYenTTHtGE7Af0JzmcGqtbgFukXNddKttZsNALMTRZmj4PQiVJQ9DJfhzxKy37tb6tZpJSR8LuM2JHgZARB6gXCsl0pwwuTFQtqn1BZLEj4CxqqVyV0%2BqoHkO%2F9K7hgnQfM45Pv7D3no0xIbRdMauZyFnQ25WfLvD48qKMMd7WnmCDOTty9ncrxFlfGYmZPmKeBvYpODjjP2Eq%2BXdFumtTngZEAdPjov3Q6xRJwbum%2BIeQsqfqK5UtLwxTCmgDWL0siLddV4jHgF4JOmRbRYNg0iJ%2BOucKEj7pZllOTVMPff7ckGOqUB7CbrksbOmrOWDKHNz465t0fU5OKE6tC2I3RKmLIExSZRdh7FIBUTbeGAiaZA5ELbc4bgxVCKYmQKNNXUyjpa27KdMx9OFCWRpTtZcP0AITqu%2BhpybAPu4qFuh5l3T4JI0JRCZzVP3QnC8ndvtgwHIMVcRdSoB42o0IEv%2FcOKGjrBXtQ4XGeqMkeGkkEPsspvr8ekPoT%2BTcgqd8rIK02U3t4cCb3e&X-Amz-Signature=4854bd3d0dc750c50c2f654cb42140d7b4359de91fa2e2d1cccacf6e3660e1d6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7ED25ZI%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIC5P1QMQ1La0QM4ZhSfednb0U%2BkWTAmi8PipLb1fai1kAiEAhsVt%2FTGMiyq0cwTBo%2BS02U2Cfi3PRzF56tB%2FXNLnxCAqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH1lb50x2SnYfOGMwyrcA%2FF2nJgYDaZTUsvdYlVf6xX3gebV988bR6JAej4KvX2i8CrFNfg2NCb%2FQ46YJ2FkwJAkwfq6ghrGgE3K8%2Bi63%2FoyoRSm8%2FYGiH%2FTsBwI2yAzmpn79Ool3qFf1XZ8KxRvmSuuQOrpX7UUvm%2BL9uMCLpuceNJ7QrcMr0%2FnArXGQvjZ896mSWx4GZjXwcZK0FpqGvmhy%2FZfC7wtaSozdmNhpUZdeEAZLlX%2FCBN2GaGmhZguYlcWofN7eXXE39EUDxD9l8cGMZsTvF6u2HQd4uF2VppIjrLyoXdJOSGC9RSUcNSQSAmyifMBGVu9cYbnwLy9FAqyGW73pvoMADGN2ChGIYenTTHtGE7Af0JzmcGqtbgFukXNddKttZsNALMTRZmj4PQiVJQ9DJfhzxKy37tb6tZpJSR8LuM2JHgZARB6gXCsl0pwwuTFQtqn1BZLEj4CxqqVyV0%2BqoHkO%2F9K7hgnQfM45Pv7D3no0xIbRdMauZyFnQ25WfLvD48qKMMd7WnmCDOTty9ncrxFlfGYmZPmKeBvYpODjjP2Eq%2BXdFumtTngZEAdPjov3Q6xRJwbum%2BIeQsqfqK5UtLwxTCmgDWL0siLddV4jHgF4JOmRbRYNg0iJ%2BOucKEj7pZllOTVMPff7ckGOqUB7CbrksbOmrOWDKHNz465t0fU5OKE6tC2I3RKmLIExSZRdh7FIBUTbeGAiaZA5ELbc4bgxVCKYmQKNNXUyjpa27KdMx9OFCWRpTtZcP0AITqu%2BhpybAPu4qFuh5l3T4JI0JRCZzVP3QnC8ndvtgwHIMVcRdSoB42o0IEv%2FcOKGjrBXtQ4XGeqMkeGkkEPsspvr8ekPoT%2BTcgqd8rIK02U3t4cCb3e&X-Amz-Signature=995d814c2df16b0382544d26a098cd8c3c8fdc413463f46990539c30992cfe81&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z7ED25ZI%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIC5P1QMQ1La0QM4ZhSfednb0U%2BkWTAmi8PipLb1fai1kAiEAhsVt%2FTGMiyq0cwTBo%2BS02U2Cfi3PRzF56tB%2FXNLnxCAqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDH1lb50x2SnYfOGMwyrcA%2FF2nJgYDaZTUsvdYlVf6xX3gebV988bR6JAej4KvX2i8CrFNfg2NCb%2FQ46YJ2FkwJAkwfq6ghrGgE3K8%2Bi63%2FoyoRSm8%2FYGiH%2FTsBwI2yAzmpn79Ool3qFf1XZ8KxRvmSuuQOrpX7UUvm%2BL9uMCLpuceNJ7QrcMr0%2FnArXGQvjZ896mSWx4GZjXwcZK0FpqGvmhy%2FZfC7wtaSozdmNhpUZdeEAZLlX%2FCBN2GaGmhZguYlcWofN7eXXE39EUDxD9l8cGMZsTvF6u2HQd4uF2VppIjrLyoXdJOSGC9RSUcNSQSAmyifMBGVu9cYbnwLy9FAqyGW73pvoMADGN2ChGIYenTTHtGE7Af0JzmcGqtbgFukXNddKttZsNALMTRZmj4PQiVJQ9DJfhzxKy37tb6tZpJSR8LuM2JHgZARB6gXCsl0pwwuTFQtqn1BZLEj4CxqqVyV0%2BqoHkO%2F9K7hgnQfM45Pv7D3no0xIbRdMauZyFnQ25WfLvD48qKMMd7WnmCDOTty9ncrxFlfGYmZPmKeBvYpODjjP2Eq%2BXdFumtTngZEAdPjov3Q6xRJwbum%2BIeQsqfqK5UtLwxTCmgDWL0siLddV4jHgF4JOmRbRYNg0iJ%2BOucKEj7pZllOTVMPff7ckGOqUB7CbrksbOmrOWDKHNz465t0fU5OKE6tC2I3RKmLIExSZRdh7FIBUTbeGAiaZA5ELbc4bgxVCKYmQKNNXUyjpa27KdMx9OFCWRpTtZcP0AITqu%2BhpybAPu4qFuh5l3T4JI0JRCZzVP3QnC8ndvtgwHIMVcRdSoB42o0IEv%2FcOKGjrBXtQ4XGeqMkeGkkEPsspvr8ekPoT%2BTcgqd8rIK02U3t4cCb3e&X-Amz-Signature=1ec41f75201337fc3011050f41ff0fb39b5ba7cd99598ae2a4724dbbc8c7da1e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U4WMJEE4%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIBTWevmAXqq0rngd395mf4BV%2FcSbFh06AAxIi0KUcDTJAiBGDj1huExq25lzbE03GW3C7XeuWCwxe8bZjaLBVTKuCiqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6UsxTqwkWaqIpSGiKtwDEMzpZ5S%2BFqxPEOP%2FmKbqwakgMKRXDg3oIvfZagmT00t2V%2FUK3AKwLj3XUeLp7%2FrZp7%2FTyhElwsWEUQ3sRf2gy%2BRhgeKrlr%2FKwq8N1nk4shQnMJJ9N1bICqUkQ4IkFkR08Wk7CVYaklwuiY9LLWZE4MtUGuSyHziyxpMOFSyyMIZvl5z%2BUmqZ%2FD7EMyf6y0Q1EbdT2oz8gKbQdnyTCShvb7aeaM6xIpZ1tWxHPSSi15aBPCWUcP0hmCPn6TzGU8%2Bd7FuBu0phDelmRQlfjN2cXa7EV2VvW8fFd8cixwS%2B01QwlDZ0euKOehQiLW6j%2F3BSTC6E0363cll%2BHQJ2URjDQhymh0cNLbNpDJx%2BBxmOq3ko9sma04eGmTK%2BDq82GggktwIaaOxMA3TZ6bm5gm%2F1vE7HUczyiCRw5cBgBoGvDLcz3yimfYI4KyAEqASHW8LXCciAcRqYB4uph3ZDi3VH31yTgf8U1npYp3jt6opXUBsVNmtA%2F%2FU30wV88IJ%2F8SrASKL5I2msQR9BjOAyxi0CZvhx896L7K6O0kT1g0Bqm8DoQiDZcgVs9fy%2F2NzLt0JZXPdVWPWsGJZrMSUTtjqpDYPnSLi10akxpJ5d%2BLcP96OXx%2BxTAJcBT%2Bh47AYw%2FqfuyQY6pgGIuhOpqlF%2FXyScKk2vCuV8gb417Nxn0o4Jx5CvuZMCKXShWektHs6ej7KE5YSSnM3lSmeULIBioaCpjiw87WewhmzbzthOLpdxskWKvtiLj7WVKJBa7nFADOhNefJMkSV9aD2G6xLyzLn7UO%2FQmjG7TCBvGCFRn8rJ1NpqjwtnOMTgdbISgKWYoZv%2FBpDYWtx3IB7sr8k%2F0KLqxA3VezjuodYE21jX&X-Amz-Signature=5f8fd26100ede2c76ef3d97801aa0b303843d4f55d0996b6616919837c517f1e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U4WMJEE4%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIBTWevmAXqq0rngd395mf4BV%2FcSbFh06AAxIi0KUcDTJAiBGDj1huExq25lzbE03GW3C7XeuWCwxe8bZjaLBVTKuCiqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6UsxTqwkWaqIpSGiKtwDEMzpZ5S%2BFqxPEOP%2FmKbqwakgMKRXDg3oIvfZagmT00t2V%2FUK3AKwLj3XUeLp7%2FrZp7%2FTyhElwsWEUQ3sRf2gy%2BRhgeKrlr%2FKwq8N1nk4shQnMJJ9N1bICqUkQ4IkFkR08Wk7CVYaklwuiY9LLWZE4MtUGuSyHziyxpMOFSyyMIZvl5z%2BUmqZ%2FD7EMyf6y0Q1EbdT2oz8gKbQdnyTCShvb7aeaM6xIpZ1tWxHPSSi15aBPCWUcP0hmCPn6TzGU8%2Bd7FuBu0phDelmRQlfjN2cXa7EV2VvW8fFd8cixwS%2B01QwlDZ0euKOehQiLW6j%2F3BSTC6E0363cll%2BHQJ2URjDQhymh0cNLbNpDJx%2BBxmOq3ko9sma04eGmTK%2BDq82GggktwIaaOxMA3TZ6bm5gm%2F1vE7HUczyiCRw5cBgBoGvDLcz3yimfYI4KyAEqASHW8LXCciAcRqYB4uph3ZDi3VH31yTgf8U1npYp3jt6opXUBsVNmtA%2F%2FU30wV88IJ%2F8SrASKL5I2msQR9BjOAyxi0CZvhx896L7K6O0kT1g0Bqm8DoQiDZcgVs9fy%2F2NzLt0JZXPdVWPWsGJZrMSUTtjqpDYPnSLi10akxpJ5d%2BLcP96OXx%2BxTAJcBT%2Bh47AYw%2FqfuyQY6pgGIuhOpqlF%2FXyScKk2vCuV8gb417Nxn0o4Jx5CvuZMCKXShWektHs6ej7KE5YSSnM3lSmeULIBioaCpjiw87WewhmzbzthOLpdxskWKvtiLj7WVKJBa7nFADOhNefJMkSV9aD2G6xLyzLn7UO%2FQmjG7TCBvGCFRn8rJ1NpqjwtnOMTgdbISgKWYoZv%2FBpDYWtx3IB7sr8k%2F0KLqxA3VezjuodYE21jX&X-Amz-Signature=4bd77dc03be4a2bbe935768f55812f2abf2807ab3205821786f91052dc8b6298&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U4WMJEE4%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040528Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIBTWevmAXqq0rngd395mf4BV%2FcSbFh06AAxIi0KUcDTJAiBGDj1huExq25lzbE03GW3C7XeuWCwxe8bZjaLBVTKuCiqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6UsxTqwkWaqIpSGiKtwDEMzpZ5S%2BFqxPEOP%2FmKbqwakgMKRXDg3oIvfZagmT00t2V%2FUK3AKwLj3XUeLp7%2FrZp7%2FTyhElwsWEUQ3sRf2gy%2BRhgeKrlr%2FKwq8N1nk4shQnMJJ9N1bICqUkQ4IkFkR08Wk7CVYaklwuiY9LLWZE4MtUGuSyHziyxpMOFSyyMIZvl5z%2BUmqZ%2FD7EMyf6y0Q1EbdT2oz8gKbQdnyTCShvb7aeaM6xIpZ1tWxHPSSi15aBPCWUcP0hmCPn6TzGU8%2Bd7FuBu0phDelmRQlfjN2cXa7EV2VvW8fFd8cixwS%2B01QwlDZ0euKOehQiLW6j%2F3BSTC6E0363cll%2BHQJ2URjDQhymh0cNLbNpDJx%2BBxmOq3ko9sma04eGmTK%2BDq82GggktwIaaOxMA3TZ6bm5gm%2F1vE7HUczyiCRw5cBgBoGvDLcz3yimfYI4KyAEqASHW8LXCciAcRqYB4uph3ZDi3VH31yTgf8U1npYp3jt6opXUBsVNmtA%2F%2FU30wV88IJ%2F8SrASKL5I2msQR9BjOAyxi0CZvhx896L7K6O0kT1g0Bqm8DoQiDZcgVs9fy%2F2NzLt0JZXPdVWPWsGJZrMSUTtjqpDYPnSLi10akxpJ5d%2BLcP96OXx%2BxTAJcBT%2Bh47AYw%2FqfuyQY6pgGIuhOpqlF%2FXyScKk2vCuV8gb417Nxn0o4Jx5CvuZMCKXShWektHs6ej7KE5YSSnM3lSmeULIBioaCpjiw87WewhmzbzthOLpdxskWKvtiLj7WVKJBa7nFADOhNefJMkSV9aD2G6xLyzLn7UO%2FQmjG7TCBvGCFRn8rJ1NpqjwtnOMTgdbISgKWYoZv%2FBpDYWtx3IB7sr8k%2F0KLqxA3VezjuodYE21jX&X-Amz-Signature=6117d7481af756eb24664b3238e6a8ae3f3d1b70d6f0014f19936c0dc19e2982&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665YYX7H3B%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040529Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIAcCX2w4vsYbj3068xxocI9YPs%2Fgsvk144MY7VcbQxfcAiA3uyFrPcs7eDLfuZnk6bQfWuA4F0wOZDmAN59A11k1ZSqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMH2UNvgMaK7WOi%2BTmKtwDgD%2F2Y7nuN1mTEOzVcwd0MdieIaRJZ40Z1qXkRJ08V4AWkf6SV9vHIaFBnwvtRPhSWynA9zqJzY%2BHP4vaSgvS%2FTy%2FIiwl%2FXV%2Fls3BQ%2F2IiIdoD4aUSFWntZeBpEhgGD%2FUuuTEE2CrZAxmMEpCnXNkUn%2FZtatzsauQKydcdsjGrdPnx8jzRgRWhHvlj8viFJFqFmPnVjkucJoiNSKgROLncFEn7lIlGGKftylx0wGiBKOjnOwk1zLPlIJr71IKxqMaWit%2FsVEl8xJVAyE5k%2BccXLn8Uvd0uKiKX99zE6HUdx7O5fmNoFEP5%2BjTUNezvEdMudFbYt3i68ROV7j5f3TgnQuSlOgZyZrImNHSBYTwQy4Oha6xjPhisfWbJiKF2dGQMXuCa3SChOQleMa3tUVA3p3Zarzc8Vq7LUZQvq4iaO4e%2FXXph0UQxQvAI0nkNjvaTcBzdunm0ym%2BX1JQwCJ6qoOkiKRtaqx%2B3tNt8jqGztdisDdjjbhTQoeoUNdNT%2F%2FfYeM4R8pII7G8TXVJZUj66qwBh6neZGZ3AphCU68hY4gXaJNV9DDZady2NBi0C2Dcm2h5nFTZB%2BFIe83MVasQs24FFxvL2vqMIpQeiFQNDUJYxn%2FWPEqurLnTNrMwsKjuyQY6pgEDTLkY33vx07Oxwsx9DUgWWAwv%2Foie03CIX8EMLyGwTJLQoeospR174ygow2yrN3QnKQlTDQEGIYFHa7UMljq%2F7ePvw1JAKsv1hYqjTqKBpPQpCGDePlJar23d9d1K9TxOmzNgLMtQWR8GWkFm%2B64vyz6cK6R7eM0fpaw9G6782RktS%2F9CUdN0KMQ0ECumn8b9gQgrE183jRf%2FwEy%2FDg9YrghTzq1R&X-Amz-Signature=3e785f0ca5b9cb0973da54f3f16219799373a1a1780f073d44a85a89d3214c46&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665YYX7H3B%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040529Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJGMEQCIAcCX2w4vsYbj3068xxocI9YPs%2Fgsvk144MY7VcbQxfcAiA3uyFrPcs7eDLfuZnk6bQfWuA4F0wOZDmAN59A11k1ZSqIBAj9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMH2UNvgMaK7WOi%2BTmKtwDgD%2F2Y7nuN1mTEOzVcwd0MdieIaRJZ40Z1qXkRJ08V4AWkf6SV9vHIaFBnwvtRPhSWynA9zqJzY%2BHP4vaSgvS%2FTy%2FIiwl%2FXV%2Fls3BQ%2F2IiIdoD4aUSFWntZeBpEhgGD%2FUuuTEE2CrZAxmMEpCnXNkUn%2FZtatzsauQKydcdsjGrdPnx8jzRgRWhHvlj8viFJFqFmPnVjkucJoiNSKgROLncFEn7lIlGGKftylx0wGiBKOjnOwk1zLPlIJr71IKxqMaWit%2FsVEl8xJVAyE5k%2BccXLn8Uvd0uKiKX99zE6HUdx7O5fmNoFEP5%2BjTUNezvEdMudFbYt3i68ROV7j5f3TgnQuSlOgZyZrImNHSBYTwQy4Oha6xjPhisfWbJiKF2dGQMXuCa3SChOQleMa3tUVA3p3Zarzc8Vq7LUZQvq4iaO4e%2FXXph0UQxQvAI0nkNjvaTcBzdunm0ym%2BX1JQwCJ6qoOkiKRtaqx%2B3tNt8jqGztdisDdjjbhTQoeoUNdNT%2F%2FfYeM4R8pII7G8TXVJZUj66qwBh6neZGZ3AphCU68hY4gXaJNV9DDZady2NBi0C2Dcm2h5nFTZB%2BFIe83MVasQs24FFxvL2vqMIpQeiFQNDUJYxn%2FWPEqurLnTNrMwsKjuyQY6pgEDTLkY33vx07Oxwsx9DUgWWAwv%2Foie03CIX8EMLyGwTJLQoeospR174ygow2yrN3QnKQlTDQEGIYFHa7UMljq%2F7ePvw1JAKsv1hYqjTqKBpPQpCGDePlJar23d9d1K9TxOmzNgLMtQWR8GWkFm%2B64vyz6cK6R7eM0fpaw9G6782RktS%2F9CUdN0KMQ0ECumn8b9gQgrE183jRf%2FwEy%2FDg9YrghTzq1R&X-Amz-Signature=073bcb560e30b0922902d6878acf2edcac9b900a4629de03ad3f77ea0620a9c1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46676SA22SM%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040529Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIQDhVSVKq2IbkGOeHlJ5CrqRJryViE3xcaGnKB3Ef7RhUgIgIyly1JgQ30tnomZdE7Z598Ctlfa3z3U8722cKJsSE%2FIqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMzCUxvGNeJSfkuY9CrcA1AxCQPAlx%2BIxTUPFqiRnYhg593jWeZoswE1GZhyTorH68PaZIel19PdOC3xJ0RHy8paHQZPEEeEz09lzq%2Fxif9miG63d5%2BxB5V9MYNvN9Oz0Fh1nDOeKVoHmT2qWljw6xf99qMgBwf1N%2FrLGNoBffIs9hXGHwrHE5zeg6y74L8OOzUAyFKbsdrLRT%2B9HfvB%2B527LjZIG3pA%2BSXVnHj7cxiCR%2BDPAmgrGyWMrdghwoCWRvD3oZ8sXCcZh3t%2B%2FqrOR8R45qeNbguekDDFvXdJoEQeJhLaay64GRToEKwbnjYsWiuqemxrpJ%2BdhbKOuaPYbII97nTZNQ3FdDklWr90f7%2BkraIXcakz9f7jwG9RjwFpPUCssSEUAaoje3JlLA5z7fTIs1zcRjNWZHIIARj0m9FZOleLXeHtYElVi1%2Bnp%2BEtd%2FWHVxvugHmZxoXqnamm%2BIs%2Ba1rNMfQar1VUY4QSjohBbquUYBJSuCTn1QQRPhhsxbMysLgymyubgU5e4hz4ZyadyDhH4%2Fh%2BdBYTZss0Oy3UMfsoG%2BCxsJd2vbTJTo4lvoC%2Fs0c7tR1spV%2FTElS6VcUPA8KcbOyq5kkvpRRn%2BUl4J3JRszvXW5XbUazSWD%2BBgJN4OPz7gUTH076PMNbf7ckGOqUBBgtROFoQ8An5uWA9c810AG9BBBhl2PaHc%2BJ1eQ8m5eI1DlrlDt9GafDoybSKrDJ1nRmjOqGcqyjuhh9QDorIpZQM%2BOCLDRjNm7Y9EjYF0YuFKQK0P8Iu2yinSWdQdkyc%2FWyun6FWdSjelxmUmjYgrnszkcHAKq30zT6VqKkEngNc2cuNlEvn9XvOlRWr51Kv3OcMF%2FanKePLUsQuV54U3QpCT4d0&X-Amz-Signature=f56543e37e825c38bcd06ae600ce79b979d6c7b3e442b31a0b4a6e6eb92c3c5a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46676SA22SM%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040529Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJHMEUCIQDhVSVKq2IbkGOeHlJ5CrqRJryViE3xcaGnKB3Ef7RhUgIgIyly1JgQ30tnomZdE7Z598Ctlfa3z3U8722cKJsSE%2FIqiAQI%2B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMzCUxvGNeJSfkuY9CrcA1AxCQPAlx%2BIxTUPFqiRnYhg593jWeZoswE1GZhyTorH68PaZIel19PdOC3xJ0RHy8paHQZPEEeEz09lzq%2Fxif9miG63d5%2BxB5V9MYNvN9Oz0Fh1nDOeKVoHmT2qWljw6xf99qMgBwf1N%2FrLGNoBffIs9hXGHwrHE5zeg6y74L8OOzUAyFKbsdrLRT%2B9HfvB%2B527LjZIG3pA%2BSXVnHj7cxiCR%2BDPAmgrGyWMrdghwoCWRvD3oZ8sXCcZh3t%2B%2FqrOR8R45qeNbguekDDFvXdJoEQeJhLaay64GRToEKwbnjYsWiuqemxrpJ%2BdhbKOuaPYbII97nTZNQ3FdDklWr90f7%2BkraIXcakz9f7jwG9RjwFpPUCssSEUAaoje3JlLA5z7fTIs1zcRjNWZHIIARj0m9FZOleLXeHtYElVi1%2Bnp%2BEtd%2FWHVxvugHmZxoXqnamm%2BIs%2Ba1rNMfQar1VUY4QSjohBbquUYBJSuCTn1QQRPhhsxbMysLgymyubgU5e4hz4ZyadyDhH4%2Fh%2BdBYTZss0Oy3UMfsoG%2BCxsJd2vbTJTo4lvoC%2Fs0c7tR1spV%2FTElS6VcUPA8KcbOyq5kkvpRRn%2BUl4J3JRszvXW5XbUazSWD%2BBgJN4OPz7gUTH076PMNbf7ckGOqUBBgtROFoQ8An5uWA9c810AG9BBBhl2PaHc%2BJ1eQ8m5eI1DlrlDt9GafDoybSKrDJ1nRmjOqGcqyjuhh9QDorIpZQM%2BOCLDRjNm7Y9EjYF0YuFKQK0P8Iu2yinSWdQdkyc%2FWyun6FWdSjelxmUmjYgrnszkcHAKq30zT6VqKkEngNc2cuNlEvn9XvOlRWr51Kv3OcMF%2FanKePLUsQuV54U3QpCT4d0&X-Amz-Signature=9bf5894e1a916438cd57fadb6aaf3c958b0b13669b6b888616b8681e4fbf64ea&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RDZVWAY5%2F20251212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251212T040529Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDIaCXVzLXdlc3QtMiJGMEQCIELwRI8JDzVbpwANroXPOMn0xsJ7IFxHb4QK8ZCoeXEaAiBU5UaZgJM8BLgnEh27o%2Fk7SQMO0OQLqD4ZcnZUT1CwfCqIBAj7%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMulHPFhLWShse9Is8KtwDyNiqicHcmugjSL65YzXN9OOhTIbetLjFehokKszVryOH9ZqdlIVi%2Bp77sDDvWxa%2FaZrBL90ZjzI7YmwFcMp6%2Bgf%2FKK4JSciTcqqF1HwvJQA8kM%2BZrWb8uqSd6Nr4pT0cq6yoGYyP%2F%2FQP64hRs54vZXtKLjYMzxjXx2rJIW8JtizU675bpp7p6ErrDOmJjdXF889JeAt%2FUo6nCCz44vcTkxDyDVQLhsbpGiA4TS5%2Fhv8V%2Fs%2FE4ic1V2ZGq%2B12bQmn7kY3OBa%2FhsCWAGhNQ2yBmhqMeSdvRx3R0H721QAtG7ZnTYWDfcYxkscUk9sO0sNACVV3Yjm5q4S2EHFKxRQy0OXxMuOv%2B6iv7jRB8yjqDU7eQc6aQy6B5rYc2PEN8jqkz5%2FyjHEE2PmwyQjuRoL0yXrAo7iq43BId9HhP1e%2B9vhYxU4ZwGbCFrhfs5X3j7boZSraHtSP8rJqT0bhmlRVHDfDsTN1mBj0%2F8QvXDqFMVLqD9IAjpVSCASGDuo4Ph3EKKuuZbfbNcJ95vyKygPwFKgnl7sJ0CQ1xZkMNQNPmGAqYLS9ljNT25vQ6Bhl%2FfNUQKWSzcJH3VyJiqglAW7f6duhtlzM%2FcqGAmW6TOa27UELf8qgCuT%2FnX0fSEIwiODtyQY6pgG4%2FR%2B%2BUExIssBp245gmtvHhYsmgmU%2FRQrCayXIZi069VrgvBEBv8oHlr7BjJryiNROyGoDSv0fH7fa1U1rEIfry4KwaHi8jD%2BhUovUIJrlxD9hO1RKUCli076qCo%2FmYjsjzM0S4FyGenjuF9FnOivr3vRvox5TB3g1RLTCsZqOYjXp5l7N%2F3Q0Ei9jEnBxENT%2B3t0S9SNQJCjb2kY%2BGeUkHQQk%2FlyU&X-Amz-Signature=35f62140868a8f651b561083d4782c520101cd07a365726645cb618ff542192d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
