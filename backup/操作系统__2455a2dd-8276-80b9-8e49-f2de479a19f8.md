
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YJE5ZDHF%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041009Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIEO1yTbq5EvM6EuzUkCASSF3JRvQ2oBT97JMew%2FQ9cpzAiBuBq71jtB2S8aq0yWKpUFZowIgg5ujjfhn%2FB7h02bV9yr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMHfFV%2FERlUxmhMomHKtwD9Ys20j98W1tP8%2BVpbFVg8DifQLJSAhi2GrSXAC%2BzgK7VGIAwBjvl5BVmsgTrTXWQMavphZAwv77TCWP7NMIHIwlhTyJsjaXug9nhdxFgT%2FVFd0EUylPaSSaOUKugdol2n8tTyAfC1BJQEr2yuIubJOakliAeOcehahmtWwTfpC8aeemel4pDwvrUIsUZWBMbTJhybiK%2FOElkf71hNTstijCHwBkBL1b3jw1a3jhFRzN5ytdmgxux9E9RCzv3Qw12e24c9oJh6O3eq1eBTipiFiTiwMi%2BB6mjcpwVXKwk52rbbPAfldmg9F0rZrG7Uzcg7jYK%2FcBy%2BdWy0ZjpDB1m2kQ5h2i9rHFgZUq%2Bjl03jmauLNs%2BSB9rAEHZnRhyY%2BygbSrFyaRCdAUEuAFAEGDZCScziWtg4VwV31gJo8s5dk%2BNcuuolPSo8iBkbiUgs3%2BgdwG1btW8P4FI0pKLL%2FNstIC6X7TvaUB0S8uA9ULWrhggYbHBhAeFjJjPP7ZnqgcyigUnM543wT45Tf%2Fq80fCVfcjNVzgSybl%2BdL1EaJeWUvHynduv9Dr%2B3AZIRcVgMQjrJeV%2FBepy9IR9t4RrNkHQC%2FIqZA5gAvh%2FkKjmMaORi9foRt7%2Bh2q5WFuY%2Fowt%2FvQywY6pgHBhnyajXEEKkZls3icY%2FJ8tkGDKw3krXek8gk6v7AApnp38lxwG35YJ8%2B%2BthTMoVYcIMvetg%2F%2BWPRTMsBea1VDc%2BTD8mdmnwwav8oAeoqt27Aii7gQuHiOE1M%2FWM%2FAp7szf6KEYs7Y9zIpNDXa3YKj69RJOG%2BdNtPwq4LZCoVIuJyQ92xbIUEA2zvRi0OW8m6UWCMmhqyyHJ3ytTD4GeAhrNCVqMmX&X-Amz-Signature=cc20bad9acadf4d1dcd43b6bf0d3c6e3b03e37a5aec17d6481bed2207bb1476e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YJE5ZDHF%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041009Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIEO1yTbq5EvM6EuzUkCASSF3JRvQ2oBT97JMew%2FQ9cpzAiBuBq71jtB2S8aq0yWKpUFZowIgg5ujjfhn%2FB7h02bV9yr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMHfFV%2FERlUxmhMomHKtwD9Ys20j98W1tP8%2BVpbFVg8DifQLJSAhi2GrSXAC%2BzgK7VGIAwBjvl5BVmsgTrTXWQMavphZAwv77TCWP7NMIHIwlhTyJsjaXug9nhdxFgT%2FVFd0EUylPaSSaOUKugdol2n8tTyAfC1BJQEr2yuIubJOakliAeOcehahmtWwTfpC8aeemel4pDwvrUIsUZWBMbTJhybiK%2FOElkf71hNTstijCHwBkBL1b3jw1a3jhFRzN5ytdmgxux9E9RCzv3Qw12e24c9oJh6O3eq1eBTipiFiTiwMi%2BB6mjcpwVXKwk52rbbPAfldmg9F0rZrG7Uzcg7jYK%2FcBy%2BdWy0ZjpDB1m2kQ5h2i9rHFgZUq%2Bjl03jmauLNs%2BSB9rAEHZnRhyY%2BygbSrFyaRCdAUEuAFAEGDZCScziWtg4VwV31gJo8s5dk%2BNcuuolPSo8iBkbiUgs3%2BgdwG1btW8P4FI0pKLL%2FNstIC6X7TvaUB0S8uA9ULWrhggYbHBhAeFjJjPP7ZnqgcyigUnM543wT45Tf%2Fq80fCVfcjNVzgSybl%2BdL1EaJeWUvHynduv9Dr%2B3AZIRcVgMQjrJeV%2FBepy9IR9t4RrNkHQC%2FIqZA5gAvh%2FkKjmMaORi9foRt7%2Bh2q5WFuY%2Fowt%2FvQywY6pgHBhnyajXEEKkZls3icY%2FJ8tkGDKw3krXek8gk6v7AApnp38lxwG35YJ8%2B%2BthTMoVYcIMvetg%2F%2BWPRTMsBea1VDc%2BTD8mdmnwwav8oAeoqt27Aii7gQuHiOE1M%2FWM%2FAp7szf6KEYs7Y9zIpNDXa3YKj69RJOG%2BdNtPwq4LZCoVIuJyQ92xbIUEA2zvRi0OW8m6UWCMmhqyyHJ3ytTD4GeAhrNCVqMmX&X-Amz-Signature=55d7e975bcb4f33551edb8960c9f261b224cb83addc32671de94a00559caf4ff&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YJE5ZDHF%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041009Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIEO1yTbq5EvM6EuzUkCASSF3JRvQ2oBT97JMew%2FQ9cpzAiBuBq71jtB2S8aq0yWKpUFZowIgg5ujjfhn%2FB7h02bV9yr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMHfFV%2FERlUxmhMomHKtwD9Ys20j98W1tP8%2BVpbFVg8DifQLJSAhi2GrSXAC%2BzgK7VGIAwBjvl5BVmsgTrTXWQMavphZAwv77TCWP7NMIHIwlhTyJsjaXug9nhdxFgT%2FVFd0EUylPaSSaOUKugdol2n8tTyAfC1BJQEr2yuIubJOakliAeOcehahmtWwTfpC8aeemel4pDwvrUIsUZWBMbTJhybiK%2FOElkf71hNTstijCHwBkBL1b3jw1a3jhFRzN5ytdmgxux9E9RCzv3Qw12e24c9oJh6O3eq1eBTipiFiTiwMi%2BB6mjcpwVXKwk52rbbPAfldmg9F0rZrG7Uzcg7jYK%2FcBy%2BdWy0ZjpDB1m2kQ5h2i9rHFgZUq%2Bjl03jmauLNs%2BSB9rAEHZnRhyY%2BygbSrFyaRCdAUEuAFAEGDZCScziWtg4VwV31gJo8s5dk%2BNcuuolPSo8iBkbiUgs3%2BgdwG1btW8P4FI0pKLL%2FNstIC6X7TvaUB0S8uA9ULWrhggYbHBhAeFjJjPP7ZnqgcyigUnM543wT45Tf%2Fq80fCVfcjNVzgSybl%2BdL1EaJeWUvHynduv9Dr%2B3AZIRcVgMQjrJeV%2FBepy9IR9t4RrNkHQC%2FIqZA5gAvh%2FkKjmMaORi9foRt7%2Bh2q5WFuY%2Fowt%2FvQywY6pgHBhnyajXEEKkZls3icY%2FJ8tkGDKw3krXek8gk6v7AApnp38lxwG35YJ8%2B%2BthTMoVYcIMvetg%2F%2BWPRTMsBea1VDc%2BTD8mdmnwwav8oAeoqt27Aii7gQuHiOE1M%2FWM%2FAp7szf6KEYs7Y9zIpNDXa3YKj69RJOG%2BdNtPwq4LZCoVIuJyQ92xbIUEA2zvRi0OW8m6UWCMmhqyyHJ3ytTD4GeAhrNCVqMmX&X-Amz-Signature=b97355ad82bde8ff0b5202450d5f4d840d57b94cacea0d84026aeac305d58789&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z3OSRFHN%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDSgVmExUj7N%2FMKZt16koScHq9YBs%2BTC9OHfPsIkRjJGAiAGRxu7Dgbdq%2F3sDicS5kCVhhiSoGI2xV0C0WaY5paeeSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMAA59mUSjxV8stDiBKtwDhv2nDVbSlRJmWjdIEbmyM6ww%2FDN5bfHv26vGYBDQy13tBOMrHDVp2KJvIbj5Eq0%2BCFuvsYbMx%2BzJUNgkUojS7BPXg2AE2Lvl2ZIUJzIcs6C3WRX3NJ6ak5vq7IMX%2FgyKjguyD6pu5iFPiPp3SjDg9dY01kYaIf1MW7I3QKlNiBokCVf1G7oOaD%2Bdn1BNRt1qMWC9ZzQVBMfWWqY4qzI9%2BmsxbOXHC4CnW9HvyoQxehLiIcyzDntNFoDDCUT0HGrHXngQm1Xe9i0TFQ6otCAGyaIyognTq8w%2Fb1cx4MIKAbxb5MUTEaaxqu1tvIxxoqPq0UmvtjW%2FQOR34m4ksdgu9sznkJF6qrvtQtw2u0b91MZ%2FdC2pr7xm%2F20E3eJs9Pj7JrnlkIZn3ZXVrulZyLtMssXsKpv8sfAQr5yeNQhy4cIE5W9CBeEpils6el3EXBt%2FyzYOYR%2B3B%2Bi253a3W%2BuFjZWyOViHJ92s6CYvjIyU9XWfNeu7%2FflTrxuUv4UzFL5DczcOWEnX34yiK4FE8s9%2FQLq%2Bdr9T1En69YxnOacsndqM0Piey1kX4GvB0VypB%2B4siJYRMa8mN0HKQ8FULlJP4reYH6%2FesqNS7WVu9Fjas06NLuo3d9ENVCmhD%2B0wvPzQywY6pgFzXg17RWpuLntZWtfBeKT9SaOgN9m60KiC1IXjvn9e2j8YjIHEt54K%2Fr5lwAzAg365uybx5d1jou%2FYx2Kh%2BSSreTRUvtPhGGQOUHCnWDiEChT1EZBlh9MUJuZAH1Ku0uTxfD2WOJ7K0qiCiDmqXHC0FtgK7ujyHh%2BtG6JvqjXgCBjYvGR19sKsiCbaiMCksdUF7BHB6tJ5CUDFnulBAjiAHbStd9Id&X-Amz-Signature=dbf91528f32f24ca2f8fb35cf6d3d92a237f159a3f755a5cfb305803e2e292ab&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z3OSRFHN%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDSgVmExUj7N%2FMKZt16koScHq9YBs%2BTC9OHfPsIkRjJGAiAGRxu7Dgbdq%2F3sDicS5kCVhhiSoGI2xV0C0WaY5paeeSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMAA59mUSjxV8stDiBKtwDhv2nDVbSlRJmWjdIEbmyM6ww%2FDN5bfHv26vGYBDQy13tBOMrHDVp2KJvIbj5Eq0%2BCFuvsYbMx%2BzJUNgkUojS7BPXg2AE2Lvl2ZIUJzIcs6C3WRX3NJ6ak5vq7IMX%2FgyKjguyD6pu5iFPiPp3SjDg9dY01kYaIf1MW7I3QKlNiBokCVf1G7oOaD%2Bdn1BNRt1qMWC9ZzQVBMfWWqY4qzI9%2BmsxbOXHC4CnW9HvyoQxehLiIcyzDntNFoDDCUT0HGrHXngQm1Xe9i0TFQ6otCAGyaIyognTq8w%2Fb1cx4MIKAbxb5MUTEaaxqu1tvIxxoqPq0UmvtjW%2FQOR34m4ksdgu9sznkJF6qrvtQtw2u0b91MZ%2FdC2pr7xm%2F20E3eJs9Pj7JrnlkIZn3ZXVrulZyLtMssXsKpv8sfAQr5yeNQhy4cIE5W9CBeEpils6el3EXBt%2FyzYOYR%2B3B%2Bi253a3W%2BuFjZWyOViHJ92s6CYvjIyU9XWfNeu7%2FflTrxuUv4UzFL5DczcOWEnX34yiK4FE8s9%2FQLq%2Bdr9T1En69YxnOacsndqM0Piey1kX4GvB0VypB%2B4siJYRMa8mN0HKQ8FULlJP4reYH6%2FesqNS7WVu9Fjas06NLuo3d9ENVCmhD%2B0wvPzQywY6pgFzXg17RWpuLntZWtfBeKT9SaOgN9m60KiC1IXjvn9e2j8YjIHEt54K%2Fr5lwAzAg365uybx5d1jou%2FYx2Kh%2BSSreTRUvtPhGGQOUHCnWDiEChT1EZBlh9MUJuZAH1Ku0uTxfD2WOJ7K0qiCiDmqXHC0FtgK7ujyHh%2BtG6JvqjXgCBjYvGR19sKsiCbaiMCksdUF7BHB6tJ5CUDFnulBAjiAHbStd9Id&X-Amz-Signature=9cea03043da35a0daece98342ad84385f5953f75cb7ab1f55725daf3e6f994b8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z3OSRFHN%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIDSgVmExUj7N%2FMKZt16koScHq9YBs%2BTC9OHfPsIkRjJGAiAGRxu7Dgbdq%2F3sDicS5kCVhhiSoGI2xV0C0WaY5paeeSr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMAA59mUSjxV8stDiBKtwDhv2nDVbSlRJmWjdIEbmyM6ww%2FDN5bfHv26vGYBDQy13tBOMrHDVp2KJvIbj5Eq0%2BCFuvsYbMx%2BzJUNgkUojS7BPXg2AE2Lvl2ZIUJzIcs6C3WRX3NJ6ak5vq7IMX%2FgyKjguyD6pu5iFPiPp3SjDg9dY01kYaIf1MW7I3QKlNiBokCVf1G7oOaD%2Bdn1BNRt1qMWC9ZzQVBMfWWqY4qzI9%2BmsxbOXHC4CnW9HvyoQxehLiIcyzDntNFoDDCUT0HGrHXngQm1Xe9i0TFQ6otCAGyaIyognTq8w%2Fb1cx4MIKAbxb5MUTEaaxqu1tvIxxoqPq0UmvtjW%2FQOR34m4ksdgu9sznkJF6qrvtQtw2u0b91MZ%2FdC2pr7xm%2F20E3eJs9Pj7JrnlkIZn3ZXVrulZyLtMssXsKpv8sfAQr5yeNQhy4cIE5W9CBeEpils6el3EXBt%2FyzYOYR%2B3B%2Bi253a3W%2BuFjZWyOViHJ92s6CYvjIyU9XWfNeu7%2FflTrxuUv4UzFL5DczcOWEnX34yiK4FE8s9%2FQLq%2Bdr9T1En69YxnOacsndqM0Piey1kX4GvB0VypB%2B4siJYRMa8mN0HKQ8FULlJP4reYH6%2FesqNS7WVu9Fjas06NLuo3d9ENVCmhD%2B0wvPzQywY6pgFzXg17RWpuLntZWtfBeKT9SaOgN9m60KiC1IXjvn9e2j8YjIHEt54K%2Fr5lwAzAg365uybx5d1jou%2FYx2Kh%2BSSreTRUvtPhGGQOUHCnWDiEChT1EZBlh9MUJuZAH1Ku0uTxfD2WOJ7K0qiCiDmqXHC0FtgK7ujyHh%2BtG6JvqjXgCBjYvGR19sKsiCbaiMCksdUF7BHB6tJ5CUDFnulBAjiAHbStd9Id&X-Amz-Signature=be01e24d65ffa95c2f0914d9b52915c57fc994ab98f38ac20e17dfc51124c7fb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W34RBBUI%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDXOV79%2BHfPLSsAlrhUELGKgQNDnd%2FLP7x%2BghbeahIGPwIgcHgcikg6WO50o3%2BE9ayBahL3I20nYxEUW9jkNHcCwwgq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDKspwH3%2FNoZpOieJaCrcA3ckqHf0f7lXX1R8lugQsuxGkshhjwQf96PaP8s9zeIn3bSF8Z6TMrJq%2FCYyO6tff6JFK2Lw1K9RK3o27z58hJ56VAP4vc31K0sTuW%2B%2FKY3ojbGToRu9dh3u4Cz2E2Y5CsubVqFoD0EXJVqplY%2Fg9WJYA0SQs61pBh2nY8WftRMOHWeaJdwQAAlbsyq8f8uEC0xr9vR7CV7ADj0UBw%2FNEZuDb2pRVjM%2BbKeDDu7OuOJnW7eFMiKx0ii4JdTH%2BCjoLbu0MNCsena6sATbTW6tLXy%2Bpwsil9YbyPLjIh%2BTXK32B5ISBbY9zVnGJDzrrK1Ejy5ibJplnmB%2FmLIEZcEUDkeM2pJO%2BUlm9x3WbctwzAGratxIucjCmMnBUYV5srQiKLmTEk4DXb8WMbp70c0lzIMSlgAOm7HNigD6%2BO54ovCURFTH%2BcClq8pQlGFOG6ggogre8vhRT1SWm1C6ZMUSv7Ky8yWveIXfb9RyAPYfKLBdiJzgaVjN%2B%2F9UQigZxDBSyrmjSnk8b2oG0%2FfrlbxQomP7MO1944x9vdLeZ9DQuV%2FJhxTL1rLzKoTou8B4oYmWZRR7NLbKEDLT913GHNxHrNCm57vA1ilYrMXNjI2ctakfihCPBZRD8Oqr3IZMMI%2F70MsGOqUBfpncJd8Oezeh7f9Z0tfe11Tgw9AXWneVTz9SghTyf4l9ZylbqGeZJpDfD2r5PSvh6X4Wl6TWk%2BrR2qaUGKQsNWu4zkU8tYurIwFNqqeGXTg%2FfSSToL1QMAZym5%2BjdJ8Bqcl%2FpYDSFwHSexj8zIOlyl3STRK5Wt%2Bthvx0gGdtXFPKembIZzGW%2Bx2A2HSt6jsfo%2BgSh4Vx227X1NY4J7EjwOff1XBR&X-Amz-Signature=9968b9efa9734c600f07775a221d957274651527f2c551c5d750a0e5b3727968&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W34RBBUI%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDXOV79%2BHfPLSsAlrhUELGKgQNDnd%2FLP7x%2BghbeahIGPwIgcHgcikg6WO50o3%2BE9ayBahL3I20nYxEUW9jkNHcCwwgq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDKspwH3%2FNoZpOieJaCrcA3ckqHf0f7lXX1R8lugQsuxGkshhjwQf96PaP8s9zeIn3bSF8Z6TMrJq%2FCYyO6tff6JFK2Lw1K9RK3o27z58hJ56VAP4vc31K0sTuW%2B%2FKY3ojbGToRu9dh3u4Cz2E2Y5CsubVqFoD0EXJVqplY%2Fg9WJYA0SQs61pBh2nY8WftRMOHWeaJdwQAAlbsyq8f8uEC0xr9vR7CV7ADj0UBw%2FNEZuDb2pRVjM%2BbKeDDu7OuOJnW7eFMiKx0ii4JdTH%2BCjoLbu0MNCsena6sATbTW6tLXy%2Bpwsil9YbyPLjIh%2BTXK32B5ISBbY9zVnGJDzrrK1Ejy5ibJplnmB%2FmLIEZcEUDkeM2pJO%2BUlm9x3WbctwzAGratxIucjCmMnBUYV5srQiKLmTEk4DXb8WMbp70c0lzIMSlgAOm7HNigD6%2BO54ovCURFTH%2BcClq8pQlGFOG6ggogre8vhRT1SWm1C6ZMUSv7Ky8yWveIXfb9RyAPYfKLBdiJzgaVjN%2B%2F9UQigZxDBSyrmjSnk8b2oG0%2FfrlbxQomP7MO1944x9vdLeZ9DQuV%2FJhxTL1rLzKoTou8B4oYmWZRR7NLbKEDLT913GHNxHrNCm57vA1ilYrMXNjI2ctakfihCPBZRD8Oqr3IZMMI%2F70MsGOqUBfpncJd8Oezeh7f9Z0tfe11Tgw9AXWneVTz9SghTyf4l9ZylbqGeZJpDfD2r5PSvh6X4Wl6TWk%2BrR2qaUGKQsNWu4zkU8tYurIwFNqqeGXTg%2FfSSToL1QMAZym5%2BjdJ8Bqcl%2FpYDSFwHSexj8zIOlyl3STRK5Wt%2Bthvx0gGdtXFPKembIZzGW%2Bx2A2HSt6jsfo%2BgSh4Vx227X1NY4J7EjwOff1XBR&X-Amz-Signature=a3c3dae598082bb83d548170ecddaa6dfc485bdcce7b3fd166fa92223e066571&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W34RBBUI%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDXOV79%2BHfPLSsAlrhUELGKgQNDnd%2FLP7x%2BghbeahIGPwIgcHgcikg6WO50o3%2BE9ayBahL3I20nYxEUW9jkNHcCwwgq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDKspwH3%2FNoZpOieJaCrcA3ckqHf0f7lXX1R8lugQsuxGkshhjwQf96PaP8s9zeIn3bSF8Z6TMrJq%2FCYyO6tff6JFK2Lw1K9RK3o27z58hJ56VAP4vc31K0sTuW%2B%2FKY3ojbGToRu9dh3u4Cz2E2Y5CsubVqFoD0EXJVqplY%2Fg9WJYA0SQs61pBh2nY8WftRMOHWeaJdwQAAlbsyq8f8uEC0xr9vR7CV7ADj0UBw%2FNEZuDb2pRVjM%2BbKeDDu7OuOJnW7eFMiKx0ii4JdTH%2BCjoLbu0MNCsena6sATbTW6tLXy%2Bpwsil9YbyPLjIh%2BTXK32B5ISBbY9zVnGJDzrrK1Ejy5ibJplnmB%2FmLIEZcEUDkeM2pJO%2BUlm9x3WbctwzAGratxIucjCmMnBUYV5srQiKLmTEk4DXb8WMbp70c0lzIMSlgAOm7HNigD6%2BO54ovCURFTH%2BcClq8pQlGFOG6ggogre8vhRT1SWm1C6ZMUSv7Ky8yWveIXfb9RyAPYfKLBdiJzgaVjN%2B%2F9UQigZxDBSyrmjSnk8b2oG0%2FfrlbxQomP7MO1944x9vdLeZ9DQuV%2FJhxTL1rLzKoTou8B4oYmWZRR7NLbKEDLT913GHNxHrNCm57vA1ilYrMXNjI2ctakfihCPBZRD8Oqr3IZMMI%2F70MsGOqUBfpncJd8Oezeh7f9Z0tfe11Tgw9AXWneVTz9SghTyf4l9ZylbqGeZJpDfD2r5PSvh6X4Wl6TWk%2BrR2qaUGKQsNWu4zkU8tYurIwFNqqeGXTg%2FfSSToL1QMAZym5%2BjdJ8Bqcl%2FpYDSFwHSexj8zIOlyl3STRK5Wt%2Bthvx0gGdtXFPKembIZzGW%2Bx2A2HSt6jsfo%2BgSh4Vx227X1NY4J7EjwOff1XBR&X-Amz-Signature=62397b77b65eefbe1bf774191aff8f8b8815d609f335b4d3cc860be7ee9c665e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W34RBBUI%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041012Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDXOV79%2BHfPLSsAlrhUELGKgQNDnd%2FLP7x%2BghbeahIGPwIgcHgcikg6WO50o3%2BE9ayBahL3I20nYxEUW9jkNHcCwwgq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDKspwH3%2FNoZpOieJaCrcA3ckqHf0f7lXX1R8lugQsuxGkshhjwQf96PaP8s9zeIn3bSF8Z6TMrJq%2FCYyO6tff6JFK2Lw1K9RK3o27z58hJ56VAP4vc31K0sTuW%2B%2FKY3ojbGToRu9dh3u4Cz2E2Y5CsubVqFoD0EXJVqplY%2Fg9WJYA0SQs61pBh2nY8WftRMOHWeaJdwQAAlbsyq8f8uEC0xr9vR7CV7ADj0UBw%2FNEZuDb2pRVjM%2BbKeDDu7OuOJnW7eFMiKx0ii4JdTH%2BCjoLbu0MNCsena6sATbTW6tLXy%2Bpwsil9YbyPLjIh%2BTXK32B5ISBbY9zVnGJDzrrK1Ejy5ibJplnmB%2FmLIEZcEUDkeM2pJO%2BUlm9x3WbctwzAGratxIucjCmMnBUYV5srQiKLmTEk4DXb8WMbp70c0lzIMSlgAOm7HNigD6%2BO54ovCURFTH%2BcClq8pQlGFOG6ggogre8vhRT1SWm1C6ZMUSv7Ky8yWveIXfb9RyAPYfKLBdiJzgaVjN%2B%2F9UQigZxDBSyrmjSnk8b2oG0%2FfrlbxQomP7MO1944x9vdLeZ9DQuV%2FJhxTL1rLzKoTou8B4oYmWZRR7NLbKEDLT913GHNxHrNCm57vA1ilYrMXNjI2ctakfihCPBZRD8Oqr3IZMMI%2F70MsGOqUBfpncJd8Oezeh7f9Z0tfe11Tgw9AXWneVTz9SghTyf4l9ZylbqGeZJpDfD2r5PSvh6X4Wl6TWk%2BrR2qaUGKQsNWu4zkU8tYurIwFNqqeGXTg%2FfSSToL1QMAZym5%2BjdJ8Bqcl%2FpYDSFwHSexj8zIOlyl3STRK5Wt%2Bthvx0gGdtXFPKembIZzGW%2Bx2A2HSt6jsfo%2BgSh4Vx227X1NY4J7EjwOff1XBR&X-Amz-Signature=8d8a17be4cccf1954e488d85190c627073759bc36c5b7d85a1032d65d8b3ae8e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VRFG2JPZ%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041016Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQD%2BGNm%2BsM9%2BqMOY4nrWFFp5neCGkDx4cPy%2FwnogkOSNXgIgG%2B6UJD%2BFCgTEb1XzOPqBvoZ0BJhsvUBW47EBsALY4aYq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDIzKKfb0nCycUh%2B6rCrcAx%2BfEuJgHWPD7dKNuRwbOIwurfLI3kqGE8Gh18zcNMPppJW7a%2FDHId64%2F3Egq3WBG9xwYIZxXXwd6iz%2BH0EK%2ByDMyfZTkOHmfyD69wCIGHkxuBjFQ4sBjYHCFgvCNU1fAmafdDZ4aZEUWsFn5YIOhwE38%2B%2Bi0KjabCZNhR7%2BKpUp06PDd2PMLqBOnGol6qLz66h5uDK6V0iTelZpmp9kZiX4MIiG6ksK2lPbSrDJ35s3FIuMBMTI8GTdlzM63Dt8DhWQ7xz1pwsbNakPrTD1o1%2FG5Fx8mDOnv%2FMn9uoO86RZ%2FzxhM64ds%2F7ow2gMsobXFH7ARf9qnuMYpieZM2vHQ%2FnNHnj121tnVdJqUa3B0z%2BXBWehAD8XWWr2cL3pPPOSIbQ5IvNfJEipOsBWOps2hKNMmMZ5Uc%2FMiCQM3H3pomOzxcchA%2BNuhQpEUDCNAsPW207cQZissmVGAtIGAH%2BuaXciaCBURVsv%2BoYwTj0UnWOoaMK%2Brbx0xApRCv5Pq6AnNbcR1gZEvsuHfWaFRy6YerhieUjBbHUURr7HerkyPK1iI1llWqMe%2FD5n95iCMEcUHwFMj3mBhB6ugIucifFnLMfcdWHd0uaeqJlcFgf83Fuf5pMlNehUYD9hJeHuMIf70MsGOqUBsrQNEPzOh5wQAI2xXs5EYlbCzV9i9cx6mHxUkLVUa0nGhzJeNZvl5dpypFJS8v8Ki9DY4RQSZW5p6gPRFAPzNxmw59R6XBE7FTJqVeIBpoIasZdcpHHg7QbHkwq3tA8chc8XORxSnwBdWwNtOscSUc7gwTOKkEOAFoMf8IIpoltamSUcVlCfeGkp%2FM0Y99bFtjgz%2FSVLeh0MunAw1XTohwkEZoLd&X-Amz-Signature=32dc5f57f2d5824f8e28fbd6eaeb4b8a7cac55f531b06127647a2db03d6e8472&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VRFG2JPZ%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041016Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQD%2BGNm%2BsM9%2BqMOY4nrWFFp5neCGkDx4cPy%2FwnogkOSNXgIgG%2B6UJD%2BFCgTEb1XzOPqBvoZ0BJhsvUBW47EBsALY4aYq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDIzKKfb0nCycUh%2B6rCrcAx%2BfEuJgHWPD7dKNuRwbOIwurfLI3kqGE8Gh18zcNMPppJW7a%2FDHId64%2F3Egq3WBG9xwYIZxXXwd6iz%2BH0EK%2ByDMyfZTkOHmfyD69wCIGHkxuBjFQ4sBjYHCFgvCNU1fAmafdDZ4aZEUWsFn5YIOhwE38%2B%2Bi0KjabCZNhR7%2BKpUp06PDd2PMLqBOnGol6qLz66h5uDK6V0iTelZpmp9kZiX4MIiG6ksK2lPbSrDJ35s3FIuMBMTI8GTdlzM63Dt8DhWQ7xz1pwsbNakPrTD1o1%2FG5Fx8mDOnv%2FMn9uoO86RZ%2FzxhM64ds%2F7ow2gMsobXFH7ARf9qnuMYpieZM2vHQ%2FnNHnj121tnVdJqUa3B0z%2BXBWehAD8XWWr2cL3pPPOSIbQ5IvNfJEipOsBWOps2hKNMmMZ5Uc%2FMiCQM3H3pomOzxcchA%2BNuhQpEUDCNAsPW207cQZissmVGAtIGAH%2BuaXciaCBURVsv%2BoYwTj0UnWOoaMK%2Brbx0xApRCv5Pq6AnNbcR1gZEvsuHfWaFRy6YerhieUjBbHUURr7HerkyPK1iI1llWqMe%2FD5n95iCMEcUHwFMj3mBhB6ugIucifFnLMfcdWHd0uaeqJlcFgf83Fuf5pMlNehUYD9hJeHuMIf70MsGOqUBsrQNEPzOh5wQAI2xXs5EYlbCzV9i9cx6mHxUkLVUa0nGhzJeNZvl5dpypFJS8v8Ki9DY4RQSZW5p6gPRFAPzNxmw59R6XBE7FTJqVeIBpoIasZdcpHHg7QbHkwq3tA8chc8XORxSnwBdWwNtOscSUc7gwTOKkEOAFoMf8IIpoltamSUcVlCfeGkp%2FM0Y99bFtjgz%2FSVLeh0MunAw1XTohwkEZoLd&X-Amz-Signature=8841084749c420b0ae91b40977915875b3aac763ad65eee044a36b782a44c5d0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VRFG2JPZ%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041016Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQD%2BGNm%2BsM9%2BqMOY4nrWFFp5neCGkDx4cPy%2FwnogkOSNXgIgG%2B6UJD%2BFCgTEb1XzOPqBvoZ0BJhsvUBW47EBsALY4aYq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDIzKKfb0nCycUh%2B6rCrcAx%2BfEuJgHWPD7dKNuRwbOIwurfLI3kqGE8Gh18zcNMPppJW7a%2FDHId64%2F3Egq3WBG9xwYIZxXXwd6iz%2BH0EK%2ByDMyfZTkOHmfyD69wCIGHkxuBjFQ4sBjYHCFgvCNU1fAmafdDZ4aZEUWsFn5YIOhwE38%2B%2Bi0KjabCZNhR7%2BKpUp06PDd2PMLqBOnGol6qLz66h5uDK6V0iTelZpmp9kZiX4MIiG6ksK2lPbSrDJ35s3FIuMBMTI8GTdlzM63Dt8DhWQ7xz1pwsbNakPrTD1o1%2FG5Fx8mDOnv%2FMn9uoO86RZ%2FzxhM64ds%2F7ow2gMsobXFH7ARf9qnuMYpieZM2vHQ%2FnNHnj121tnVdJqUa3B0z%2BXBWehAD8XWWr2cL3pPPOSIbQ5IvNfJEipOsBWOps2hKNMmMZ5Uc%2FMiCQM3H3pomOzxcchA%2BNuhQpEUDCNAsPW207cQZissmVGAtIGAH%2BuaXciaCBURVsv%2BoYwTj0UnWOoaMK%2Brbx0xApRCv5Pq6AnNbcR1gZEvsuHfWaFRy6YerhieUjBbHUURr7HerkyPK1iI1llWqMe%2FD5n95iCMEcUHwFMj3mBhB6ugIucifFnLMfcdWHd0uaeqJlcFgf83Fuf5pMlNehUYD9hJeHuMIf70MsGOqUBsrQNEPzOh5wQAI2xXs5EYlbCzV9i9cx6mHxUkLVUa0nGhzJeNZvl5dpypFJS8v8Ki9DY4RQSZW5p6gPRFAPzNxmw59R6XBE7FTJqVeIBpoIasZdcpHHg7QbHkwq3tA8chc8XORxSnwBdWwNtOscSUc7gwTOKkEOAFoMf8IIpoltamSUcVlCfeGkp%2FM0Y99bFtjgz%2FSVLeh0MunAw1XTohwkEZoLd&X-Amz-Signature=75d0b1500414861ec7f7efe9d1bc4cd4af6ebdf186c9e6cb1880e26667537160&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VRFG2JPZ%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041016Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQD%2BGNm%2BsM9%2BqMOY4nrWFFp5neCGkDx4cPy%2FwnogkOSNXgIgG%2B6UJD%2BFCgTEb1XzOPqBvoZ0BJhsvUBW47EBsALY4aYq%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDIzKKfb0nCycUh%2B6rCrcAx%2BfEuJgHWPD7dKNuRwbOIwurfLI3kqGE8Gh18zcNMPppJW7a%2FDHId64%2F3Egq3WBG9xwYIZxXXwd6iz%2BH0EK%2ByDMyfZTkOHmfyD69wCIGHkxuBjFQ4sBjYHCFgvCNU1fAmafdDZ4aZEUWsFn5YIOhwE38%2B%2Bi0KjabCZNhR7%2BKpUp06PDd2PMLqBOnGol6qLz66h5uDK6V0iTelZpmp9kZiX4MIiG6ksK2lPbSrDJ35s3FIuMBMTI8GTdlzM63Dt8DhWQ7xz1pwsbNakPrTD1o1%2FG5Fx8mDOnv%2FMn9uoO86RZ%2FzxhM64ds%2F7ow2gMsobXFH7ARf9qnuMYpieZM2vHQ%2FnNHnj121tnVdJqUa3B0z%2BXBWehAD8XWWr2cL3pPPOSIbQ5IvNfJEipOsBWOps2hKNMmMZ5Uc%2FMiCQM3H3pomOzxcchA%2BNuhQpEUDCNAsPW207cQZissmVGAtIGAH%2BuaXciaCBURVsv%2BoYwTj0UnWOoaMK%2Brbx0xApRCv5Pq6AnNbcR1gZEvsuHfWaFRy6YerhieUjBbHUURr7HerkyPK1iI1llWqMe%2FD5n95iCMEcUHwFMj3mBhB6ugIucifFnLMfcdWHd0uaeqJlcFgf83Fuf5pMlNehUYD9hJeHuMIf70MsGOqUBsrQNEPzOh5wQAI2xXs5EYlbCzV9i9cx6mHxUkLVUa0nGhzJeNZvl5dpypFJS8v8Ki9DY4RQSZW5p6gPRFAPzNxmw59R6XBE7FTJqVeIBpoIasZdcpHHg7QbHkwq3tA8chc8XORxSnwBdWwNtOscSUc7gwTOKkEOAFoMf8IIpoltamSUcVlCfeGkp%2FM0Y99bFtjgz%2FSVLeh0MunAw1XTohwkEZoLd&X-Amz-Signature=8623d84344ff7116fd64ac42cc53e327abfc2b3b8dd70ac536bae9b2c65e6785&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664SCPWDQX%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041017Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJIMEYCIQCfYJ9q3yRXl5Y0mygai4bUAcc43cFZscx%2BIXC6mA5mSAIhAIJbF%2F7ej8g%2BIikhSzUYkdRgLbUsxD7E8fCxk0GeHC6HKv8DCAUQABoMNjM3NDIzMTgzODA1IgyCj3aFMDCbQF2RXc4q3APnb8Z97KHprHNWZ%2FADxz3HAMDH1IHbu16MyhLzVjI8PcGvcLwWrBW5xPakekUZI0EYvn7ziUWYJUEnlZ%2BI7NxfhUgFWmtDw%2FFzQEvrcdNZw2gK4zj%2Bz8M%2BUol4ydvI7iOm5Id6uJh9Zcp3J8faD%2BB7QFw5rvdAknqADdXYpYtqba%2Brm4TGIFChEZHbdE4LLjBM8u0%2FlZTW%2BqsfD6QNyoTba2RKCmY2NgTwYH4Qa719w2QDStI6g1cUus4wOK28aeYvCpeSnCHRuONoHpmf3smrXFFLNaYwIrgfbzHeCtsmMAKDup7hNxJFR7I17FHv9W0H%2FbTZrQiJ9YwchcNswaHPYx6b%2BW5sxE11wuaI3mGs6unpXEX6lbLYMM0sLWHRcA7g2C6R5kyqqEsMJ%2FjXTSvjxekgPZ5nIw06UudXVcuK2a0dzjsQOayIXRMFEz4SanD94%2FWN0nZv9VHT%2Fz3rUzayn9uY0Ii%2Bd0TzrZsjGFMSeQRBo7Bfi5h0Ug%2BE7V1wA6OiNYZMVTOsH9XWOnrc0%2F91MHQIgXkEXonhyBfQZK3fHumxKolWjTD0MNLkEqr6tEnWGB78a0S3WygagaMqxi7tpAGKCuOur592I0s0nSAqcVk1fkxLIckU4oDPvjD6%2FNDLBjqkAflImw%2BJevvdEmGr%2BAkA%2BahjPvrkP78Jk7SLR5PzOgJ0Y%2FHkMrwv3EDOOWs00Ni6OHpR%2F21nh8hCovVxVmrhpHHfzp0GPBXOh0rXopZojVmWhsbk385%2BuJgXdsagIUe%2BB4Fxcexfs9zwKNzKwx5IP2nfM1fYH2sEXdqxy5cDfdxgJkQMXA9B2ovjfbByt4c2gKjy%2FaVdWiBZjeQbdjJLFP%2FSO%2B01&X-Amz-Signature=6f767a5e62390953dc78647722352091aaddb7bf8a7a08480a832856a1e197b4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664SCPWDQX%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041017Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJIMEYCIQCfYJ9q3yRXl5Y0mygai4bUAcc43cFZscx%2BIXC6mA5mSAIhAIJbF%2F7ej8g%2BIikhSzUYkdRgLbUsxD7E8fCxk0GeHC6HKv8DCAUQABoMNjM3NDIzMTgzODA1IgyCj3aFMDCbQF2RXc4q3APnb8Z97KHprHNWZ%2FADxz3HAMDH1IHbu16MyhLzVjI8PcGvcLwWrBW5xPakekUZI0EYvn7ziUWYJUEnlZ%2BI7NxfhUgFWmtDw%2FFzQEvrcdNZw2gK4zj%2Bz8M%2BUol4ydvI7iOm5Id6uJh9Zcp3J8faD%2BB7QFw5rvdAknqADdXYpYtqba%2Brm4TGIFChEZHbdE4LLjBM8u0%2FlZTW%2BqsfD6QNyoTba2RKCmY2NgTwYH4Qa719w2QDStI6g1cUus4wOK28aeYvCpeSnCHRuONoHpmf3smrXFFLNaYwIrgfbzHeCtsmMAKDup7hNxJFR7I17FHv9W0H%2FbTZrQiJ9YwchcNswaHPYx6b%2BW5sxE11wuaI3mGs6unpXEX6lbLYMM0sLWHRcA7g2C6R5kyqqEsMJ%2FjXTSvjxekgPZ5nIw06UudXVcuK2a0dzjsQOayIXRMFEz4SanD94%2FWN0nZv9VHT%2Fz3rUzayn9uY0Ii%2Bd0TzrZsjGFMSeQRBo7Bfi5h0Ug%2BE7V1wA6OiNYZMVTOsH9XWOnrc0%2F91MHQIgXkEXonhyBfQZK3fHumxKolWjTD0MNLkEqr6tEnWGB78a0S3WygagaMqxi7tpAGKCuOur592I0s0nSAqcVk1fkxLIckU4oDPvjD6%2FNDLBjqkAflImw%2BJevvdEmGr%2BAkA%2BahjPvrkP78Jk7SLR5PzOgJ0Y%2FHkMrwv3EDOOWs00Ni6OHpR%2F21nh8hCovVxVmrhpHHfzp0GPBXOh0rXopZojVmWhsbk385%2BuJgXdsagIUe%2BB4Fxcexfs9zwKNzKwx5IP2nfM1fYH2sEXdqxy5cDfdxgJkQMXA9B2ovjfbByt4c2gKjy%2FaVdWiBZjeQbdjJLFP%2FSO%2B01&X-Amz-Signature=65d427af9751fc9fb2a7e154635fc4c92666c7e81af752dd0a754bdb1b0311d4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664SCPWDQX%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041018Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJIMEYCIQCfYJ9q3yRXl5Y0mygai4bUAcc43cFZscx%2BIXC6mA5mSAIhAIJbF%2F7ej8g%2BIikhSzUYkdRgLbUsxD7E8fCxk0GeHC6HKv8DCAUQABoMNjM3NDIzMTgzODA1IgyCj3aFMDCbQF2RXc4q3APnb8Z97KHprHNWZ%2FADxz3HAMDH1IHbu16MyhLzVjI8PcGvcLwWrBW5xPakekUZI0EYvn7ziUWYJUEnlZ%2BI7NxfhUgFWmtDw%2FFzQEvrcdNZw2gK4zj%2Bz8M%2BUol4ydvI7iOm5Id6uJh9Zcp3J8faD%2BB7QFw5rvdAknqADdXYpYtqba%2Brm4TGIFChEZHbdE4LLjBM8u0%2FlZTW%2BqsfD6QNyoTba2RKCmY2NgTwYH4Qa719w2QDStI6g1cUus4wOK28aeYvCpeSnCHRuONoHpmf3smrXFFLNaYwIrgfbzHeCtsmMAKDup7hNxJFR7I17FHv9W0H%2FbTZrQiJ9YwchcNswaHPYx6b%2BW5sxE11wuaI3mGs6unpXEX6lbLYMM0sLWHRcA7g2C6R5kyqqEsMJ%2FjXTSvjxekgPZ5nIw06UudXVcuK2a0dzjsQOayIXRMFEz4SanD94%2FWN0nZv9VHT%2Fz3rUzayn9uY0Ii%2Bd0TzrZsjGFMSeQRBo7Bfi5h0Ug%2BE7V1wA6OiNYZMVTOsH9XWOnrc0%2F91MHQIgXkEXonhyBfQZK3fHumxKolWjTD0MNLkEqr6tEnWGB78a0S3WygagaMqxi7tpAGKCuOur592I0s0nSAqcVk1fkxLIckU4oDPvjD6%2FNDLBjqkAflImw%2BJevvdEmGr%2BAkA%2BahjPvrkP78Jk7SLR5PzOgJ0Y%2FHkMrwv3EDOOWs00Ni6OHpR%2F21nh8hCovVxVmrhpHHfzp0GPBXOh0rXopZojVmWhsbk385%2BuJgXdsagIUe%2BB4Fxcexfs9zwKNzKwx5IP2nfM1fYH2sEXdqxy5cDfdxgJkQMXA9B2ovjfbByt4c2gKjy%2FaVdWiBZjeQbdjJLFP%2FSO%2B01&X-Amz-Signature=7bafe5d7676da308e78b46095d0a7567d84afc8786e13ecb9e8f0621f20eb56e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WLJKZIEL%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041020Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIBbch2LwtOL9FXDywLA9DlejU9ROt6KUZLDFmRnI4TjHAiBEFrkZ%2FS69YQSg3rlFlME3RJF3l2IAti9%2BjdIKknNBtir%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMhp2MojXRnGrmeRcaKtwDB7ezWNtRNKt%2BpxHcKpO8gOxPszB0XOVnWO%2BAFv6zpi2uXqowGQMoHoSqtt9iWS2NOQGUTK3o9rkbL6F7TGZ1AAFFw6%2B1%2FrxDFI7XnL26kuK7UBeWMYHws0w1vozWSFSMA6PWxXR06AoEHYn6bhfjFad0LuwfTs6%2BzW7M2Ev159q06KsjaAieZ%2FhuUzSUkHFSzHOag70gOWtpDRO5OtMIEZqyLnf1j7J5cleHLv2HwxKnspFWRQulpTfVNEju2Sz8G3KGdcBVuhsnpLaoX7ITLsvJEeqDZ6CtT03ZMNGquglGbyxzUWPqNFe76GzoZBkh%2FebS%2B48hA50V9ggbX4%2FDNjj0%2FXJlprbo6dkC6YeOJLwwINWSOWCsF9CiP1f5s00HqkvdK3YRUy2WCKGyhDaxAczl2rmc8PJ5%2BW3lkXh9ROUfRS9LOY0bQolhfGyOFlUAxzvJffpdExYmKG7Daup0CX3Lyuxm4zZ%2FJ1tonlxxwyXXPjXyxleFX3NblO%2FnS6vH7lD4k%2FubFaVzJw%2FIjAgc39Jo11AWXC1BK54m%2BKB62Ehzqpx6Niex1OHDO8AXWKFanFUKDSX6DKek8MJaOHACpeuewuGnh72Ad9AdVxY%2BnhrDfFAoGMHg%2B5qNwRYwxfvQywY6pgGi29N2YrfrFfmJBZDGBwuXqfhkPqAyN9FoiPugIvrb71Da5PVxaXoZ6ovMLORY9e3TjDypKz3FYck5RW2%2FBkMOTXF%2Fcbv7e3JbJGiMsqS1xnlnUr3jQ95LyOLfFPtW7mwGDr0zWdj1YwyNwKc8MdhWN3AnjRGHKuDwL3msC4ZZbNlwUlFGxXexbBrdKw7znLvE%2BSgLK%2Ftwh9WFs%2F4jNntMFuJKmYli&X-Amz-Signature=cd3b7b8e42200abb5da5a4a24b0561e66517b6fd198d4ff7f809f7c4d70c6af2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WLJKZIEL%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041020Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIBbch2LwtOL9FXDywLA9DlejU9ROt6KUZLDFmRnI4TjHAiBEFrkZ%2FS69YQSg3rlFlME3RJF3l2IAti9%2BjdIKknNBtir%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMhp2MojXRnGrmeRcaKtwDB7ezWNtRNKt%2BpxHcKpO8gOxPszB0XOVnWO%2BAFv6zpi2uXqowGQMoHoSqtt9iWS2NOQGUTK3o9rkbL6F7TGZ1AAFFw6%2B1%2FrxDFI7XnL26kuK7UBeWMYHws0w1vozWSFSMA6PWxXR06AoEHYn6bhfjFad0LuwfTs6%2BzW7M2Ev159q06KsjaAieZ%2FhuUzSUkHFSzHOag70gOWtpDRO5OtMIEZqyLnf1j7J5cleHLv2HwxKnspFWRQulpTfVNEju2Sz8G3KGdcBVuhsnpLaoX7ITLsvJEeqDZ6CtT03ZMNGquglGbyxzUWPqNFe76GzoZBkh%2FebS%2B48hA50V9ggbX4%2FDNjj0%2FXJlprbo6dkC6YeOJLwwINWSOWCsF9CiP1f5s00HqkvdK3YRUy2WCKGyhDaxAczl2rmc8PJ5%2BW3lkXh9ROUfRS9LOY0bQolhfGyOFlUAxzvJffpdExYmKG7Daup0CX3Lyuxm4zZ%2FJ1tonlxxwyXXPjXyxleFX3NblO%2FnS6vH7lD4k%2FubFaVzJw%2FIjAgc39Jo11AWXC1BK54m%2BKB62Ehzqpx6Niex1OHDO8AXWKFanFUKDSX6DKek8MJaOHACpeuewuGnh72Ad9AdVxY%2BnhrDfFAoGMHg%2B5qNwRYwxfvQywY6pgGi29N2YrfrFfmJBZDGBwuXqfhkPqAyN9FoiPugIvrb71Da5PVxaXoZ6ovMLORY9e3TjDypKz3FYck5RW2%2FBkMOTXF%2Fcbv7e3JbJGiMsqS1xnlnUr3jQ95LyOLfFPtW7mwGDr0zWdj1YwyNwKc8MdhWN3AnjRGHKuDwL3msC4ZZbNlwUlFGxXexbBrdKw7znLvE%2BSgLK%2Ftwh9WFs%2F4jNntMFuJKmYli&X-Amz-Signature=8568637d050a6bb238c5ba9592f6424d99d037da11062a7b4f11719b4d29149d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RDFOQFNL%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041021Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDQaNNYFA6T38Cdsk3heqL9QKluaa1hptCrWWnRzGk5tAIgFBYxMYOCXMR258jL8j005z5AeWIX4jTKfplACTcEr10q%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDJ1j51D4bjdy7vz%2BvircA8ERI8vw20jOdQ0z%2BwhxktnHF7uQ0QN0%2FmYM%2BSkMPLkTlAT1fWDyCQ5lCdeocVULtGTfztPvIqtBRxPEPu1L6MKu%2B%2B4o9hPlakp9qti1DNT%2Bn%2FOq2Dt8Ls%2BS%2FPLE1FlD4Q3PwsVB1xVywr1CclPrKoI8priOEhUNXXTIi8z8MHocREFtKKRW2B5hFL5wr3XWZyR%2BvR%2FA6hOs6yKz3P3hpan4hXwgRQa0x5UXIilk65gFgGVMjQjWRapFlzkVX2jRGx2pRBHz9HqqZLsQuHYiYMbMIU48sJhru3bzUULrUXxgmuVvpq9TrtZIowwFNWa8ZT35PRaPC1JmCbXCcdSWJH3N4MfIiTYaoiotvPfKUjVfcwwk2IW8vOlWN5uLZyKYh3GpXoo%2FUReZF5CUOE9Fc9%2BziaixBT%2BGXboHOHDNF4hR%2Fe6p%2F4%2B8xIi%2F0V46IY7qR6QbD08W59RKWACkBqjMHMdd3%2B7jqhJRqqixCwGbQ2VyRyzNcpy9lMaP0Ub3NCYDiYIM%2BK%2BUVuCfCkSGoLiH%2Blng2raEMCAeoXgxi9L7eUDcYnzmAWRBFdpG4idlg1HmSBci5QBjrEJTtammGad0MD8TQE%2FeJ5hRFw9SV%2FayyI3ryLyuj%2BeCbQm8bg3LMNj70MsGOqUBkYs9jd%2FeTHcF19YzJb%2BD60vqX%2B8JvKAGT0EYbgJKJkJgAH9MMT5dwtjrFyoyl1u7VdiP6%2FFhI4LhIv4e963VSpIT93Hlv2zvYWZ1vEr%2BwFFmCfGap3QyvNp97Qsn6jjr%2FoRIwgzIundUYB%2Fh%2FMGC1v5JWLLND0sYo6rBRpZ92i8Uf15BEGBJZ5EGa0Gk9176gjS28kMhT4GA3LQSpIGUefHHKdsd&X-Amz-Signature=7564eca4069e7db4de867adf50a8f774a009d6c90ecc597cc91e0961db4960a2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RDFOQFNL%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041021Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJHMEUCIQDQaNNYFA6T38Cdsk3heqL9QKluaa1hptCrWWnRzGk5tAIgFBYxMYOCXMR258jL8j005z5AeWIX4jTKfplACTcEr10q%2FwMIBRAAGgw2Mzc0MjMxODM4MDUiDJ1j51D4bjdy7vz%2BvircA8ERI8vw20jOdQ0z%2BwhxktnHF7uQ0QN0%2FmYM%2BSkMPLkTlAT1fWDyCQ5lCdeocVULtGTfztPvIqtBRxPEPu1L6MKu%2B%2B4o9hPlakp9qti1DNT%2Bn%2FOq2Dt8Ls%2BS%2FPLE1FlD4Q3PwsVB1xVywr1CclPrKoI8priOEhUNXXTIi8z8MHocREFtKKRW2B5hFL5wr3XWZyR%2BvR%2FA6hOs6yKz3P3hpan4hXwgRQa0x5UXIilk65gFgGVMjQjWRapFlzkVX2jRGx2pRBHz9HqqZLsQuHYiYMbMIU48sJhru3bzUULrUXxgmuVvpq9TrtZIowwFNWa8ZT35PRaPC1JmCbXCcdSWJH3N4MfIiTYaoiotvPfKUjVfcwwk2IW8vOlWN5uLZyKYh3GpXoo%2FUReZF5CUOE9Fc9%2BziaixBT%2BGXboHOHDNF4hR%2Fe6p%2F4%2B8xIi%2F0V46IY7qR6QbD08W59RKWACkBqjMHMdd3%2B7jqhJRqqixCwGbQ2VyRyzNcpy9lMaP0Ub3NCYDiYIM%2BK%2BUVuCfCkSGoLiH%2Blng2raEMCAeoXgxi9L7eUDcYnzmAWRBFdpG4idlg1HmSBci5QBjrEJTtammGad0MD8TQE%2FeJ5hRFw9SV%2FayyI3ryLyuj%2BeCbQm8bg3LMNj70MsGOqUBkYs9jd%2FeTHcF19YzJb%2BD60vqX%2B8JvKAGT0EYbgJKJkJgAH9MMT5dwtjrFyoyl1u7VdiP6%2FFhI4LhIv4e963VSpIT93Hlv2zvYWZ1vEr%2BwFFmCfGap3QyvNp97Qsn6jjr%2FoRIwgzIundUYB%2Fh%2FMGC1v5JWLLND0sYo6rBRpZ92i8Uf15BEGBJZ5EGa0Gk9176gjS28kMhT4GA3LQSpIGUefHHKdsd&X-Amz-Signature=bbe72591fbae485ed1b849d36fdefa2c63219a462fcfcae2135886c57a3c241a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663NQEFSQI%2F20260124%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260124T041021Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDwaCXVzLXdlc3QtMiJGMEQCIGjQQCkrr0zH0nk14YnFRQr3DYy%2FRT%2B6uAJUmvZgt8dcAiBaqVWMnSq96tQrqhjPnxLaEP%2FVXupbNeOE9HHZ1jIORCr%2FAwgFEAAaDDYzNzQyMzE4MzgwNSIMWEmmUI3WaV3EPygJKtwDXxitg%2FB0EADPpQ3UwrVISToEWt%2Fky0wywzKLX%2FMlHfB%2BoIyuEDn1u6iP9ikXLghDdhxaJKo4MnsSRM6rJoDpAmtvQ90wpCeF2zxL1C9iLSRrGi0Da3n%2FVd2Sipc%2FQ9Cjxi7buyeo%2BijGmuk0DPZdURbIPIFSlvRkG43pBsFcPMLODG2RIqIqbFt8N0PJ8q%2Fs%2FSs3%2FnoFxtzfX9bqmRyYGoJiQHhPyQ2Rn9GNsq4cnw99zFgWzT0XqXaiEDaWvH2t36iAI1gcPKloV0gP6QFAR2oG628LwSgBONqXn3y9HZaq%2BlkM7Hj9yb3tB7u7aX0shjrLzI6k2Mk82frroxXKznCAaphe011UMhcgXgxWkryRQBphEwgTdyFIwuZeFGyKrY0FuNKUdqvbpQpRjGxHvisw9whPd0mUl4eGKN4EQKFKIlgtt5IgKpynpgUXo58iUelzNk0y%2ByDfgaUjryhlb4N10mz%2BBOCM3ZlWEV42Ll7JrH0Wo3ZQdOWqM%2FSyKVmIesXTVFvkVqDtZmhFe5OeMzRwplfvUrvBEhRLsLQ9r6qqR5m%2F9%2Fk9sBEYlJlCoX9jpvBjPOIeF7m8QhpTNqQ0Ky2NFGe6hPh1UE1ezopO%2FloVX00lpJTKd3RcEUkwiPvQywY6pgGbQSINnibm7z%2F4xAS87p9LfJ7ArwiRQQ%2Bt677nZeu3eB6UNsSGxHGbzMM9tVjWswmxt9bMZl6sT%2BvPXOtX3112xqjyCbQVF9mcHYFCSgTRiZLpcgiXfiJnYFX1r3GBVAAvwHVGmaP0BBGylceg1sN%2Bqe7jEePrYP3PYxZzm3Zlx3lQV4L3cCs5RX5tyPGS2oQC5ITfKUeyB3DtdTZc46poNZMfVkq0&X-Amz-Signature=4a05b16b533eb7e9101b04c15e1362365d8fb5dde857ea80b5f6b104235b1768&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
