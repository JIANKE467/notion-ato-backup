
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WWAHBRUL%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041129Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE%2BYCLl5zYLFQLjM2sndfeLR4hCZvGTYWGMZH0SH6GqGAiEA3j15IX1CB4EeXSdLwAOShHXqQfcpm88FwCD0EZa9w1oq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDBcrBdDbVFD1qiK0NyrcA%2B8EEhpvayFE4UzoqEXNMp24l5hr5lHC4eN7vEocSZjcKC2GvFUuXkDU5UCDsJrtA%2FLJnHJrPrbbcgClpJ2oHjNqvsDj%2BSuTX7glw9LygKDhkDvf0HJKCFMWZ8w6X0KCEgRYCtn2aqPmhHfEYS589G7JVkOA27krDzUFyOstzSg%2FNQtOOKxaAiZf5yyvd1m2saNGNp94a5sH94Jr0WbcQmY1DGKdp8WNo58YCiVBcOdz7e7rU4FwNJgfr7r5eWLUqMz1W3fHV3CUn7LTm8nY3Y15zXz5NwVhCqPOQsLNQxahE%2Fly0k7vbrz5TJY8S7CewBPF93L3funSg7RyMDifJR%2BtgWWEQHZZun2s1Gut6VQTyjbdJQj6SVJJM395O24UO7EtylZxBBtfsBcmDP2xytnzxT0e25RK7IVKZKfgn6URxRiXGWCRT1Cpn5z%2Ft7B1bgh4TqB3aPq7D8A2eorpP5Hm91Uucj7ZWkuJoKMqT6r3sDBCwppwQkHyKn3e45qYkTxrVjgV%2F%2FtMyS5yHj8LAzkDXv1I9Mi0hT0Tmskqk%2F%2FmG%2B%2BXh9J%2FvO8gBaA9FflFaWi8Zda6zli1e3RoUdTO8R4Jt3sf%2FirydPX%2BdYN73QiM5LvKq3Fpfiae34lRMI%2BL8soGOqUBg%2Fg5AXfxJDRdJw9MXdvRuCzcaqOGp4rtd06C90buA20Q9oDSIP2TSCjT9cnDtg3ZIvHss9Mqa9rW3BmkgMG53PnXXeENQJFKWcdT%2FOfgLBlx5258eBhsXx4jozmEfjtiEcLDa1rROAlMQdyn78w3tQHwXICxehcpY4eYH3FHm9y4iO6leB4sUywqYBoke8Be7ZjpjYUu6wOZnyjCvRpeZte7ngnc&X-Amz-Signature=c74b88eecd110c8a78a494b5f56cf8d1ab8c5a663baa1d12671cfb0d18e3b3a3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WWAHBRUL%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041129Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE%2BYCLl5zYLFQLjM2sndfeLR4hCZvGTYWGMZH0SH6GqGAiEA3j15IX1CB4EeXSdLwAOShHXqQfcpm88FwCD0EZa9w1oq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDBcrBdDbVFD1qiK0NyrcA%2B8EEhpvayFE4UzoqEXNMp24l5hr5lHC4eN7vEocSZjcKC2GvFUuXkDU5UCDsJrtA%2FLJnHJrPrbbcgClpJ2oHjNqvsDj%2BSuTX7glw9LygKDhkDvf0HJKCFMWZ8w6X0KCEgRYCtn2aqPmhHfEYS589G7JVkOA27krDzUFyOstzSg%2FNQtOOKxaAiZf5yyvd1m2saNGNp94a5sH94Jr0WbcQmY1DGKdp8WNo58YCiVBcOdz7e7rU4FwNJgfr7r5eWLUqMz1W3fHV3CUn7LTm8nY3Y15zXz5NwVhCqPOQsLNQxahE%2Fly0k7vbrz5TJY8S7CewBPF93L3funSg7RyMDifJR%2BtgWWEQHZZun2s1Gut6VQTyjbdJQj6SVJJM395O24UO7EtylZxBBtfsBcmDP2xytnzxT0e25RK7IVKZKfgn6URxRiXGWCRT1Cpn5z%2Ft7B1bgh4TqB3aPq7D8A2eorpP5Hm91Uucj7ZWkuJoKMqT6r3sDBCwppwQkHyKn3e45qYkTxrVjgV%2F%2FtMyS5yHj8LAzkDXv1I9Mi0hT0Tmskqk%2F%2FmG%2B%2BXh9J%2FvO8gBaA9FflFaWi8Zda6zli1e3RoUdTO8R4Jt3sf%2FirydPX%2BdYN73QiM5LvKq3Fpfiae34lRMI%2BL8soGOqUBg%2Fg5AXfxJDRdJw9MXdvRuCzcaqOGp4rtd06C90buA20Q9oDSIP2TSCjT9cnDtg3ZIvHss9Mqa9rW3BmkgMG53PnXXeENQJFKWcdT%2FOfgLBlx5258eBhsXx4jozmEfjtiEcLDa1rROAlMQdyn78w3tQHwXICxehcpY4eYH3FHm9y4iO6leB4sUywqYBoke8Be7ZjpjYUu6wOZnyjCvRpeZte7ngnc&X-Amz-Signature=061d152d0ed2baf7eff37bbce0b76611ff01b3ac2074f53df2ea79815291eeac&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WWAHBRUL%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041129Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE%2BYCLl5zYLFQLjM2sndfeLR4hCZvGTYWGMZH0SH6GqGAiEA3j15IX1CB4EeXSdLwAOShHXqQfcpm88FwCD0EZa9w1oq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDBcrBdDbVFD1qiK0NyrcA%2B8EEhpvayFE4UzoqEXNMp24l5hr5lHC4eN7vEocSZjcKC2GvFUuXkDU5UCDsJrtA%2FLJnHJrPrbbcgClpJ2oHjNqvsDj%2BSuTX7glw9LygKDhkDvf0HJKCFMWZ8w6X0KCEgRYCtn2aqPmhHfEYS589G7JVkOA27krDzUFyOstzSg%2FNQtOOKxaAiZf5yyvd1m2saNGNp94a5sH94Jr0WbcQmY1DGKdp8WNo58YCiVBcOdz7e7rU4FwNJgfr7r5eWLUqMz1W3fHV3CUn7LTm8nY3Y15zXz5NwVhCqPOQsLNQxahE%2Fly0k7vbrz5TJY8S7CewBPF93L3funSg7RyMDifJR%2BtgWWEQHZZun2s1Gut6VQTyjbdJQj6SVJJM395O24UO7EtylZxBBtfsBcmDP2xytnzxT0e25RK7IVKZKfgn6URxRiXGWCRT1Cpn5z%2Ft7B1bgh4TqB3aPq7D8A2eorpP5Hm91Uucj7ZWkuJoKMqT6r3sDBCwppwQkHyKn3e45qYkTxrVjgV%2F%2FtMyS5yHj8LAzkDXv1I9Mi0hT0Tmskqk%2F%2FmG%2B%2BXh9J%2FvO8gBaA9FflFaWi8Zda6zli1e3RoUdTO8R4Jt3sf%2FirydPX%2BdYN73QiM5LvKq3Fpfiae34lRMI%2BL8soGOqUBg%2Fg5AXfxJDRdJw9MXdvRuCzcaqOGp4rtd06C90buA20Q9oDSIP2TSCjT9cnDtg3ZIvHss9Mqa9rW3BmkgMG53PnXXeENQJFKWcdT%2FOfgLBlx5258eBhsXx4jozmEfjtiEcLDa1rROAlMQdyn78w3tQHwXICxehcpY4eYH3FHm9y4iO6leB4sUywqYBoke8Be7ZjpjYUu6wOZnyjCvRpeZte7ngnc&X-Amz-Signature=533a8d0d704669e6af9bf7f607016b947304c19a33d5d179e0c0ce022134f304&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664TNEPZRO%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041132Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEBrbRsyJVnL5dpSNpjD%2B8mS1xNMti0tui2d4X%2BdJkxPAiBvsdOaYPDr4EzMRbW6mHAPzeIHxqj12aVcDeoyauN1qir%2FAwhVEAAaDDYzNzQyMzE4MzgwNSIMH%2BdiM90MVPg5lE8fKtwDaaRjrM9eI2Vm4lyiaKwUsk4LKPb59VJ%2BrGgPY2IDbGjgExXewNtrtTiXM8FOkQeeFLe47s4GEt%2BJJsfXqK%2F956xQ7IwTPr86wzvuSWgUrfxpu5o0LM5pdsX5WiDASV3KU%2Bz6qDuT1lJ4hqvOS%2FAx4x0U66KrvDyJ4vpjBbuXC5uGZKhj7BMKDvSDUyAMwtCcM9Xev%2FZsV4kjcK2twhg5NB6%2Bh7ya%2FQ%2BY2OxuLmAdUShx4djJ7x0ou%2BI%2F6LUA7DjL4cr8dAVZhOYtRUh1GwDEpbtAfzLbtx%2BMK9HYrj6i76V7hJeNzixX14qCWDnzHBNcTbrtED4mtTWmmnZ%2FCqOT72j%2BVgdefVOYDuayQx0GeRz106ydRCnpE%2BFfxU8KXhc5xxUwlq9OuDdOqMzjNgQmHukuCC%2FBbcxJXo%2FpE%2FCnhqTZ2AQF2BY1WEVgIbxVJW96UToesXy%2BFrMsfOsaUBlPrmzc8uwACMKQ5%2FCA1cwOEiyc4lhtbrZH1PGUEcE%2FiWqdiAYzx%2BSroeOdfq0FMu5M7OZia%2B7pxsKc5J%2FGUVVTDfsmebdZowLjUq3SqUMQb7fBa7nBlAfaaqGmcuber%2FB3SfwwtPS8x2mnjxxlV7Kl0X3hubKytgcywXrOqvgwm4vyygY6pgHDb4XVO9j51lKtp8HBPV2sxlAa%2BM99TmvKtRLTXI0ccHUDWeaxBIjcpKqmSp7WVvEg4z%2B41AUpRSou58d4nPEynVD8kt0%2F7F174NQlxD41z0A505wqm8XapxBBuOXZLMYn7SCbmfWIKjslYDUisLrwBlFWpMGY1OIJVHHOrMRL3vD9CYVxM9deHcPXeXeKTbhGsALQc43GKdLH68MDspwJrQuIB3Y4&X-Amz-Signature=a1d3317ecbf5e4538ee26e95d15dcba9a60317aa0159d2c6f12708afeb817957&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664TNEPZRO%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041132Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEBrbRsyJVnL5dpSNpjD%2B8mS1xNMti0tui2d4X%2BdJkxPAiBvsdOaYPDr4EzMRbW6mHAPzeIHxqj12aVcDeoyauN1qir%2FAwhVEAAaDDYzNzQyMzE4MzgwNSIMH%2BdiM90MVPg5lE8fKtwDaaRjrM9eI2Vm4lyiaKwUsk4LKPb59VJ%2BrGgPY2IDbGjgExXewNtrtTiXM8FOkQeeFLe47s4GEt%2BJJsfXqK%2F956xQ7IwTPr86wzvuSWgUrfxpu5o0LM5pdsX5WiDASV3KU%2Bz6qDuT1lJ4hqvOS%2FAx4x0U66KrvDyJ4vpjBbuXC5uGZKhj7BMKDvSDUyAMwtCcM9Xev%2FZsV4kjcK2twhg5NB6%2Bh7ya%2FQ%2BY2OxuLmAdUShx4djJ7x0ou%2BI%2F6LUA7DjL4cr8dAVZhOYtRUh1GwDEpbtAfzLbtx%2BMK9HYrj6i76V7hJeNzixX14qCWDnzHBNcTbrtED4mtTWmmnZ%2FCqOT72j%2BVgdefVOYDuayQx0GeRz106ydRCnpE%2BFfxU8KXhc5xxUwlq9OuDdOqMzjNgQmHukuCC%2FBbcxJXo%2FpE%2FCnhqTZ2AQF2BY1WEVgIbxVJW96UToesXy%2BFrMsfOsaUBlPrmzc8uwACMKQ5%2FCA1cwOEiyc4lhtbrZH1PGUEcE%2FiWqdiAYzx%2BSroeOdfq0FMu5M7OZia%2B7pxsKc5J%2FGUVVTDfsmebdZowLjUq3SqUMQb7fBa7nBlAfaaqGmcuber%2FB3SfwwtPS8x2mnjxxlV7Kl0X3hubKytgcywXrOqvgwm4vyygY6pgHDb4XVO9j51lKtp8HBPV2sxlAa%2BM99TmvKtRLTXI0ccHUDWeaxBIjcpKqmSp7WVvEg4z%2B41AUpRSou58d4nPEynVD8kt0%2F7F174NQlxD41z0A505wqm8XapxBBuOXZLMYn7SCbmfWIKjslYDUisLrwBlFWpMGY1OIJVHHOrMRL3vD9CYVxM9deHcPXeXeKTbhGsALQc43GKdLH68MDspwJrQuIB3Y4&X-Amz-Signature=cc4bea4c35828c03861b8089aef3e8376d7bcace4caa2327ab1b3cc5cf050f96&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664TNEPZRO%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041132Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEBrbRsyJVnL5dpSNpjD%2B8mS1xNMti0tui2d4X%2BdJkxPAiBvsdOaYPDr4EzMRbW6mHAPzeIHxqj12aVcDeoyauN1qir%2FAwhVEAAaDDYzNzQyMzE4MzgwNSIMH%2BdiM90MVPg5lE8fKtwDaaRjrM9eI2Vm4lyiaKwUsk4LKPb59VJ%2BrGgPY2IDbGjgExXewNtrtTiXM8FOkQeeFLe47s4GEt%2BJJsfXqK%2F956xQ7IwTPr86wzvuSWgUrfxpu5o0LM5pdsX5WiDASV3KU%2Bz6qDuT1lJ4hqvOS%2FAx4x0U66KrvDyJ4vpjBbuXC5uGZKhj7BMKDvSDUyAMwtCcM9Xev%2FZsV4kjcK2twhg5NB6%2Bh7ya%2FQ%2BY2OxuLmAdUShx4djJ7x0ou%2BI%2F6LUA7DjL4cr8dAVZhOYtRUh1GwDEpbtAfzLbtx%2BMK9HYrj6i76V7hJeNzixX14qCWDnzHBNcTbrtED4mtTWmmnZ%2FCqOT72j%2BVgdefVOYDuayQx0GeRz106ydRCnpE%2BFfxU8KXhc5xxUwlq9OuDdOqMzjNgQmHukuCC%2FBbcxJXo%2FpE%2FCnhqTZ2AQF2BY1WEVgIbxVJW96UToesXy%2BFrMsfOsaUBlPrmzc8uwACMKQ5%2FCA1cwOEiyc4lhtbrZH1PGUEcE%2FiWqdiAYzx%2BSroeOdfq0FMu5M7OZia%2B7pxsKc5J%2FGUVVTDfsmebdZowLjUq3SqUMQb7fBa7nBlAfaaqGmcuber%2FB3SfwwtPS8x2mnjxxlV7Kl0X3hubKytgcywXrOqvgwm4vyygY6pgHDb4XVO9j51lKtp8HBPV2sxlAa%2BM99TmvKtRLTXI0ccHUDWeaxBIjcpKqmSp7WVvEg4z%2B41AUpRSou58d4nPEynVD8kt0%2F7F174NQlxD41z0A505wqm8XapxBBuOXZLMYn7SCbmfWIKjslYDUisLrwBlFWpMGY1OIJVHHOrMRL3vD9CYVxM9deHcPXeXeKTbhGsALQc43GKdLH68MDspwJrQuIB3Y4&X-Amz-Signature=5ea9dc1559fe05c2d2b75402f7d96f17fe1ef61fbd89941889da3100816546ac&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JQQI2RX%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHsg5o32dTxqxD4CDsrH7aF%2FRbZn%2Br2rtdQXdTUvquq0AiEA0ZXoSWLmhh1ar8XQCawqeZ8YsPbNfz%2FCAokwSKiMDPEq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDGq%2FASzuE87PMlsTdyrcA2YtaLHHKZpZEUuseJxR89QcebkN9B8c%2BT8pLR50vhTi6Bzv8471ozy3Srwl2xTdYZUZcpWYj4x%2F6wb796xmCuYUtnDtULX16M0VErjVNkpJsEYwBhqDMI1Bbmb8%2BjPumpypEx%2BMQeDYcRg0O6JbK8Bgr6AJbUfWmOChR9JNpkaqDSDhpl6OQ1CbkYvrwBxR58u%2FF2NTieTY3BPwh3I4LVd8ZBgczIg0nhqC%2FnshRXKMoZhILL64CAorYtib0hERRrWx7kHesfAUVQ3UhNVqmaDaLb1SZ81pd6GDzw3C%2F5o1KdOt9dPDeDaiJ8iETfo6SSJ%2FPT0cknOt%2F2Ig8YaR7PangGLs5TXNu1bjHjk8YzvGTzRgSnPwy2D0wVH0XovyIvJvhGLdf16NxSb%2ByyzChOtO%2FRQAkHi6SyyFpgEdmub5Aj8bSeNXEqFZzffr%2FH1wJ2W42f4rLSJ9k9bP%2FTBh787eHCfH6Qkii27eSMxscEU5bZfIZl9TwqiTD9uRcghPd1BndnNdqdPgJMxyx0GEv2Yy8BRJVYbre1PeFLdgnV5YGkcCKSmGdjmMZES0JyLoNhldBjydNu9BcFZowqLWvcZgrBqsaABHSH83bFbPGtq3S83jfJ2SOE2RJ0uYMKCL8soGOqUBsu26gHA%2B0zu7WtL5vzl7%2F87aIvRo%2F516KZJyv3%2FiT0PTmTGp7Y9bf0Tq44rQgzcOQHrfP%2FDcxIIjV1xnM1sxRk6%2BDnm1mZkIL6f7TMP5JD9OIP6wV6Nk6N1phBOtnNbdWmZ6c3ghkgP4gtJvuETAmvNA8dG2hUYsregusROL17JciP6oJhd69EcTatpPN0GXfaeCHvgJ2eLIwBZUqe8EMqVBzjON&X-Amz-Signature=729e7d8e07c836a759b202cd12ddec7d345901c2959132b30b3297f97ae39381&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JQQI2RX%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHsg5o32dTxqxD4CDsrH7aF%2FRbZn%2Br2rtdQXdTUvquq0AiEA0ZXoSWLmhh1ar8XQCawqeZ8YsPbNfz%2FCAokwSKiMDPEq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDGq%2FASzuE87PMlsTdyrcA2YtaLHHKZpZEUuseJxR89QcebkN9B8c%2BT8pLR50vhTi6Bzv8471ozy3Srwl2xTdYZUZcpWYj4x%2F6wb796xmCuYUtnDtULX16M0VErjVNkpJsEYwBhqDMI1Bbmb8%2BjPumpypEx%2BMQeDYcRg0O6JbK8Bgr6AJbUfWmOChR9JNpkaqDSDhpl6OQ1CbkYvrwBxR58u%2FF2NTieTY3BPwh3I4LVd8ZBgczIg0nhqC%2FnshRXKMoZhILL64CAorYtib0hERRrWx7kHesfAUVQ3UhNVqmaDaLb1SZ81pd6GDzw3C%2F5o1KdOt9dPDeDaiJ8iETfo6SSJ%2FPT0cknOt%2F2Ig8YaR7PangGLs5TXNu1bjHjk8YzvGTzRgSnPwy2D0wVH0XovyIvJvhGLdf16NxSb%2ByyzChOtO%2FRQAkHi6SyyFpgEdmub5Aj8bSeNXEqFZzffr%2FH1wJ2W42f4rLSJ9k9bP%2FTBh787eHCfH6Qkii27eSMxscEU5bZfIZl9TwqiTD9uRcghPd1BndnNdqdPgJMxyx0GEv2Yy8BRJVYbre1PeFLdgnV5YGkcCKSmGdjmMZES0JyLoNhldBjydNu9BcFZowqLWvcZgrBqsaABHSH83bFbPGtq3S83jfJ2SOE2RJ0uYMKCL8soGOqUBsu26gHA%2B0zu7WtL5vzl7%2F87aIvRo%2F516KZJyv3%2FiT0PTmTGp7Y9bf0Tq44rQgzcOQHrfP%2FDcxIIjV1xnM1sxRk6%2BDnm1mZkIL6f7TMP5JD9OIP6wV6Nk6N1phBOtnNbdWmZ6c3ghkgP4gtJvuETAmvNA8dG2hUYsregusROL17JciP6oJhd69EcTatpPN0GXfaeCHvgJ2eLIwBZUqe8EMqVBzjON&X-Amz-Signature=6d7fef0b2fae1af18e0419cb3910eecfe9400456a26795e68037e6238f58e658&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JQQI2RX%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHsg5o32dTxqxD4CDsrH7aF%2FRbZn%2Br2rtdQXdTUvquq0AiEA0ZXoSWLmhh1ar8XQCawqeZ8YsPbNfz%2FCAokwSKiMDPEq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDGq%2FASzuE87PMlsTdyrcA2YtaLHHKZpZEUuseJxR89QcebkN9B8c%2BT8pLR50vhTi6Bzv8471ozy3Srwl2xTdYZUZcpWYj4x%2F6wb796xmCuYUtnDtULX16M0VErjVNkpJsEYwBhqDMI1Bbmb8%2BjPumpypEx%2BMQeDYcRg0O6JbK8Bgr6AJbUfWmOChR9JNpkaqDSDhpl6OQ1CbkYvrwBxR58u%2FF2NTieTY3BPwh3I4LVd8ZBgczIg0nhqC%2FnshRXKMoZhILL64CAorYtib0hERRrWx7kHesfAUVQ3UhNVqmaDaLb1SZ81pd6GDzw3C%2F5o1KdOt9dPDeDaiJ8iETfo6SSJ%2FPT0cknOt%2F2Ig8YaR7PangGLs5TXNu1bjHjk8YzvGTzRgSnPwy2D0wVH0XovyIvJvhGLdf16NxSb%2ByyzChOtO%2FRQAkHi6SyyFpgEdmub5Aj8bSeNXEqFZzffr%2FH1wJ2W42f4rLSJ9k9bP%2FTBh787eHCfH6Qkii27eSMxscEU5bZfIZl9TwqiTD9uRcghPd1BndnNdqdPgJMxyx0GEv2Yy8BRJVYbre1PeFLdgnV5YGkcCKSmGdjmMZES0JyLoNhldBjydNu9BcFZowqLWvcZgrBqsaABHSH83bFbPGtq3S83jfJ2SOE2RJ0uYMKCL8soGOqUBsu26gHA%2B0zu7WtL5vzl7%2F87aIvRo%2F516KZJyv3%2FiT0PTmTGp7Y9bf0Tq44rQgzcOQHrfP%2FDcxIIjV1xnM1sxRk6%2BDnm1mZkIL6f7TMP5JD9OIP6wV6Nk6N1phBOtnNbdWmZ6c3ghkgP4gtJvuETAmvNA8dG2hUYsregusROL17JciP6oJhd69EcTatpPN0GXfaeCHvgJ2eLIwBZUqe8EMqVBzjON&X-Amz-Signature=44853b12f7e8cb9323483dea9fb959ca4358ac0862dcf02ddcf6d11b7b6505f3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JQQI2RX%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHsg5o32dTxqxD4CDsrH7aF%2FRbZn%2Br2rtdQXdTUvquq0AiEA0ZXoSWLmhh1ar8XQCawqeZ8YsPbNfz%2FCAokwSKiMDPEq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDGq%2FASzuE87PMlsTdyrcA2YtaLHHKZpZEUuseJxR89QcebkN9B8c%2BT8pLR50vhTi6Bzv8471ozy3Srwl2xTdYZUZcpWYj4x%2F6wb796xmCuYUtnDtULX16M0VErjVNkpJsEYwBhqDMI1Bbmb8%2BjPumpypEx%2BMQeDYcRg0O6JbK8Bgr6AJbUfWmOChR9JNpkaqDSDhpl6OQ1CbkYvrwBxR58u%2FF2NTieTY3BPwh3I4LVd8ZBgczIg0nhqC%2FnshRXKMoZhILL64CAorYtib0hERRrWx7kHesfAUVQ3UhNVqmaDaLb1SZ81pd6GDzw3C%2F5o1KdOt9dPDeDaiJ8iETfo6SSJ%2FPT0cknOt%2F2Ig8YaR7PangGLs5TXNu1bjHjk8YzvGTzRgSnPwy2D0wVH0XovyIvJvhGLdf16NxSb%2ByyzChOtO%2FRQAkHi6SyyFpgEdmub5Aj8bSeNXEqFZzffr%2FH1wJ2W42f4rLSJ9k9bP%2FTBh787eHCfH6Qkii27eSMxscEU5bZfIZl9TwqiTD9uRcghPd1BndnNdqdPgJMxyx0GEv2Yy8BRJVYbre1PeFLdgnV5YGkcCKSmGdjmMZES0JyLoNhldBjydNu9BcFZowqLWvcZgrBqsaABHSH83bFbPGtq3S83jfJ2SOE2RJ0uYMKCL8soGOqUBsu26gHA%2B0zu7WtL5vzl7%2F87aIvRo%2F516KZJyv3%2FiT0PTmTGp7Y9bf0Tq44rQgzcOQHrfP%2FDcxIIjV1xnM1sxRk6%2BDnm1mZkIL6f7TMP5JD9OIP6wV6Nk6N1phBOtnNbdWmZ6c3ghkgP4gtJvuETAmvNA8dG2hUYsregusROL17JciP6oJhd69EcTatpPN0GXfaeCHvgJ2eLIwBZUqe8EMqVBzjON&X-Amz-Signature=6bed6ef6b98cbaa4c62f0af6c9e8dacdc765f75f3fc68231dab6545bfc4b3c35&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T4WJBC5B%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDyKyIBKMYyX9aP2bbpm%2Bh5%2BLRAlu56byTag%2BI2US0eKwIgRsO1DrPtaxDi617WkMEsHS7Z%2FFV1MCyEc0WbkeGAE94q%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDOARQLrTJgRVlYClpSrcA59VMSL44NA0wg8yGqmYteFl9wmKsWAPG%2FDnhX0i2%2FkQkdG9bBT7gtQGY23%2F8rQ9cP1e1oE4KOMTsjffR0UtJNJ%2FN4VMKOtOvFyGWzfgmvumIE8PbUMjsvR0SvGaihyNZ7If%2BKzuEBgEKjdJ2EnXiZzC4ozVrnHaugf6hi%2B10fVUdfsicmDPiv4oG2K8lhsyWpPYvB0uWVcM8QA1%2BxpIYqO1wnXO%2FnUyh60pE%2Be83fYsEp7Es6FWXv32q7mg%2BDa71%2FU8GeIS4YOMBGP0QbABuOcXHNpx3wtXivD74Yq%2BcUukmpM1YecIuilHJa2%2Fs1DckPLjNkNwIF6SVrHPdOep6CD64lhinNIAXySRYFT1640%2FRVUryh8TFKqx1jKSXnHnTZnBi%2FHI%2FKNNOy%2BztsK7ycabyrOwCbVv89qMHDzigneAuGRo8OwG%2FnWre9cyrTLvX5QNlcTgK%2F3Fwn5l3KjaeFBOO70QQCT5pV2bm7n8dFAvjiLntvL1N89Jq1oBH8Y6fGlr4Nvy00lI9XmZyYyn%2B45eo%2BrRDsgpYIIYxqF2APaK0I5crdAw8MYabtF35ifzuGKE8Yx3NFDh%2Bbw9iXSq9uD3i6yjS3KZe%2FHpDpaDN%2BiOdMky3lSyiaSl5KbcMOGL8soGOqUB6JXfs9loJLlW%2Fmg9Dblq%2BcTs803gbVmXlwT204hURNT3S3eJisjwa25WDRLJYxZ2w7Qgo49j8U2Tt6kfuwCcVaj%2Fu7OvAPfcBMnuYJGyMU%2F2Q66D67yrUNh5Ff0cZARzUOcOnCfi3HS8muulXN2MZqDmq4CsGwFAvZ6luxVwAOQvZ5MUvnUdeoQeb9bGmWP%2Fd7ZUUJmcDRy4NQmFXFkVN0x9y5qr&X-Amz-Signature=397f554ab228650ebba6abb0b858112faf1852b7bdd5ee7e7d44a3ab2994a122&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T4WJBC5B%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDyKyIBKMYyX9aP2bbpm%2Bh5%2BLRAlu56byTag%2BI2US0eKwIgRsO1DrPtaxDi617WkMEsHS7Z%2FFV1MCyEc0WbkeGAE94q%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDOARQLrTJgRVlYClpSrcA59VMSL44NA0wg8yGqmYteFl9wmKsWAPG%2FDnhX0i2%2FkQkdG9bBT7gtQGY23%2F8rQ9cP1e1oE4KOMTsjffR0UtJNJ%2FN4VMKOtOvFyGWzfgmvumIE8PbUMjsvR0SvGaihyNZ7If%2BKzuEBgEKjdJ2EnXiZzC4ozVrnHaugf6hi%2B10fVUdfsicmDPiv4oG2K8lhsyWpPYvB0uWVcM8QA1%2BxpIYqO1wnXO%2FnUyh60pE%2Be83fYsEp7Es6FWXv32q7mg%2BDa71%2FU8GeIS4YOMBGP0QbABuOcXHNpx3wtXivD74Yq%2BcUukmpM1YecIuilHJa2%2Fs1DckPLjNkNwIF6SVrHPdOep6CD64lhinNIAXySRYFT1640%2FRVUryh8TFKqx1jKSXnHnTZnBi%2FHI%2FKNNOy%2BztsK7ycabyrOwCbVv89qMHDzigneAuGRo8OwG%2FnWre9cyrTLvX5QNlcTgK%2F3Fwn5l3KjaeFBOO70QQCT5pV2bm7n8dFAvjiLntvL1N89Jq1oBH8Y6fGlr4Nvy00lI9XmZyYyn%2B45eo%2BrRDsgpYIIYxqF2APaK0I5crdAw8MYabtF35ifzuGKE8Yx3NFDh%2Bbw9iXSq9uD3i6yjS3KZe%2FHpDpaDN%2BiOdMky3lSyiaSl5KbcMOGL8soGOqUB6JXfs9loJLlW%2Fmg9Dblq%2BcTs803gbVmXlwT204hURNT3S3eJisjwa25WDRLJYxZ2w7Qgo49j8U2Tt6kfuwCcVaj%2Fu7OvAPfcBMnuYJGyMU%2F2Q66D67yrUNh5Ff0cZARzUOcOnCfi3HS8muulXN2MZqDmq4CsGwFAvZ6luxVwAOQvZ5MUvnUdeoQeb9bGmWP%2Fd7ZUUJmcDRy4NQmFXFkVN0x9y5qr&X-Amz-Signature=70dc414bd10a6a5ede62b5916bc133408b24927f34fc87f4fc6aa21998062b52&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T4WJBC5B%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDyKyIBKMYyX9aP2bbpm%2Bh5%2BLRAlu56byTag%2BI2US0eKwIgRsO1DrPtaxDi617WkMEsHS7Z%2FFV1MCyEc0WbkeGAE94q%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDOARQLrTJgRVlYClpSrcA59VMSL44NA0wg8yGqmYteFl9wmKsWAPG%2FDnhX0i2%2FkQkdG9bBT7gtQGY23%2F8rQ9cP1e1oE4KOMTsjffR0UtJNJ%2FN4VMKOtOvFyGWzfgmvumIE8PbUMjsvR0SvGaihyNZ7If%2BKzuEBgEKjdJ2EnXiZzC4ozVrnHaugf6hi%2B10fVUdfsicmDPiv4oG2K8lhsyWpPYvB0uWVcM8QA1%2BxpIYqO1wnXO%2FnUyh60pE%2Be83fYsEp7Es6FWXv32q7mg%2BDa71%2FU8GeIS4YOMBGP0QbABuOcXHNpx3wtXivD74Yq%2BcUukmpM1YecIuilHJa2%2Fs1DckPLjNkNwIF6SVrHPdOep6CD64lhinNIAXySRYFT1640%2FRVUryh8TFKqx1jKSXnHnTZnBi%2FHI%2FKNNOy%2BztsK7ycabyrOwCbVv89qMHDzigneAuGRo8OwG%2FnWre9cyrTLvX5QNlcTgK%2F3Fwn5l3KjaeFBOO70QQCT5pV2bm7n8dFAvjiLntvL1N89Jq1oBH8Y6fGlr4Nvy00lI9XmZyYyn%2B45eo%2BrRDsgpYIIYxqF2APaK0I5crdAw8MYabtF35ifzuGKE8Yx3NFDh%2Bbw9iXSq9uD3i6yjS3KZe%2FHpDpaDN%2BiOdMky3lSyiaSl5KbcMOGL8soGOqUB6JXfs9loJLlW%2Fmg9Dblq%2BcTs803gbVmXlwT204hURNT3S3eJisjwa25WDRLJYxZ2w7Qgo49j8U2Tt6kfuwCcVaj%2Fu7OvAPfcBMnuYJGyMU%2F2Q66D67yrUNh5Ff0cZARzUOcOnCfi3HS8muulXN2MZqDmq4CsGwFAvZ6luxVwAOQvZ5MUvnUdeoQeb9bGmWP%2Fd7ZUUJmcDRy4NQmFXFkVN0x9y5qr&X-Amz-Signature=f2541101a988e0af5e5ba195e25db7fc5de24d8ee2b1d063364b4693a4abd259&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T4WJBC5B%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDyKyIBKMYyX9aP2bbpm%2Bh5%2BLRAlu56byTag%2BI2US0eKwIgRsO1DrPtaxDi617WkMEsHS7Z%2FFV1MCyEc0WbkeGAE94q%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDOARQLrTJgRVlYClpSrcA59VMSL44NA0wg8yGqmYteFl9wmKsWAPG%2FDnhX0i2%2FkQkdG9bBT7gtQGY23%2F8rQ9cP1e1oE4KOMTsjffR0UtJNJ%2FN4VMKOtOvFyGWzfgmvumIE8PbUMjsvR0SvGaihyNZ7If%2BKzuEBgEKjdJ2EnXiZzC4ozVrnHaugf6hi%2B10fVUdfsicmDPiv4oG2K8lhsyWpPYvB0uWVcM8QA1%2BxpIYqO1wnXO%2FnUyh60pE%2Be83fYsEp7Es6FWXv32q7mg%2BDa71%2FU8GeIS4YOMBGP0QbABuOcXHNpx3wtXivD74Yq%2BcUukmpM1YecIuilHJa2%2Fs1DckPLjNkNwIF6SVrHPdOep6CD64lhinNIAXySRYFT1640%2FRVUryh8TFKqx1jKSXnHnTZnBi%2FHI%2FKNNOy%2BztsK7ycabyrOwCbVv89qMHDzigneAuGRo8OwG%2FnWre9cyrTLvX5QNlcTgK%2F3Fwn5l3KjaeFBOO70QQCT5pV2bm7n8dFAvjiLntvL1N89Jq1oBH8Y6fGlr4Nvy00lI9XmZyYyn%2B45eo%2BrRDsgpYIIYxqF2APaK0I5crdAw8MYabtF35ifzuGKE8Yx3NFDh%2Bbw9iXSq9uD3i6yjS3KZe%2FHpDpaDN%2BiOdMky3lSyiaSl5KbcMOGL8soGOqUB6JXfs9loJLlW%2Fmg9Dblq%2BcTs803gbVmXlwT204hURNT3S3eJisjwa25WDRLJYxZ2w7Qgo49j8U2Tt6kfuwCcVaj%2Fu7OvAPfcBMnuYJGyMU%2F2Q66D67yrUNh5Ff0cZARzUOcOnCfi3HS8muulXN2MZqDmq4CsGwFAvZ6luxVwAOQvZ5MUvnUdeoQeb9bGmWP%2Fd7ZUUJmcDRy4NQmFXFkVN0x9y5qr&X-Amz-Signature=8a27dfaa08c840ac8429677e95e394a7239524ec2899c7e6833677202008f37c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YKDPOOWZ%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBa0bR6pCsj7kgxuCNAdd%2FkFNOHyQELHVIItfCviUSmnAiEA8WzjJfcVTVI5AEsjtNUJOf4m5Wbe0YU3ZIXLkUocWKYq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDJxLvCwwBVl71SeQYyrcA%2FgRC62dqyLXkbAZI9ZpdrV1%2B74NLc4DdLlaeT10%2FJ5lc5w5ZjoirhyZ6Rm7n8U4rvLB5Eaj8q3cHieWL0JdkJHESxXrfrqjHllkB95%2BWNF%2BDoB2XjWhvj7bZAiMJ%2BBEJg1NQGOqhHvihzX7nOQud82XrQjSv85C5aGI0B8xL2xqHI28wIx%2BJxrq45a1zSuHJqW%2FuMO4b%2FFreoW96Y6vzi7nStQMUu%2F8z8c2OlM8AoRC6AUjttr39KrCzIYRIaLuY7fcZtF%2F9UME7DmstNsEPyQ719pGxOKJxgKCDVsECbEwzCgkJFjdlgL9RWSLpbguI937%2BLb62uKlCedCyPpkTGY6eSPCYurnc2dIh1Gi%2FBiO%2FR74QJxxNjodUSv8cKaZyvgNn2kr1f7vNdy4cnIh16ViksHx97mSbOp4AQALCnljCvs5aPSu6IX1%2Bsi6vkGnfLAwcov3o6tgaLOfbgt15jIEeqDazGh8%2BOpBjSWuuC3Zub6qARBUfeUoxSHwaUSA9TU54bGBR3TPL9yamjLlBOFu7jtjpRBz2tf0VK4SikAu2BcCITnxTP4b2v56LjONNardaC5UczGdPdauxgiZyQT%2BJA6wzjsFw0aDfstJ3099kR9Oq%2BO%2FaWKMHV4RMNOL8soGOqUBSaA8S4PUhS9jR2hYMIuJZ5PpgEZvjDwWMDh1jswE7zTEhFXjwwNeeROAD9VS%2FfJQ%2BBxzFA%2B0no95vHqTkIaBQrbrb40vnO%2BLBAN2G7RskhG7K5d0blHyj8Swwd6jCG6Vy4jl8rc2iRRelXL6BEAPuyLZm583De53adxETwTZVV1kPplQQSJ%2B58bXDd7ZSHCs0GF5uHK3Xd%2F2N5z8dN8CFHNkMGUB&X-Amz-Signature=f2b34f370f832fe9bf7879f69ffebb68c77b41c65a1fd6d17516316b94a97c76&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YKDPOOWZ%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBa0bR6pCsj7kgxuCNAdd%2FkFNOHyQELHVIItfCviUSmnAiEA8WzjJfcVTVI5AEsjtNUJOf4m5Wbe0YU3ZIXLkUocWKYq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDJxLvCwwBVl71SeQYyrcA%2FgRC62dqyLXkbAZI9ZpdrV1%2B74NLc4DdLlaeT10%2FJ5lc5w5ZjoirhyZ6Rm7n8U4rvLB5Eaj8q3cHieWL0JdkJHESxXrfrqjHllkB95%2BWNF%2BDoB2XjWhvj7bZAiMJ%2BBEJg1NQGOqhHvihzX7nOQud82XrQjSv85C5aGI0B8xL2xqHI28wIx%2BJxrq45a1zSuHJqW%2FuMO4b%2FFreoW96Y6vzi7nStQMUu%2F8z8c2OlM8AoRC6AUjttr39KrCzIYRIaLuY7fcZtF%2F9UME7DmstNsEPyQ719pGxOKJxgKCDVsECbEwzCgkJFjdlgL9RWSLpbguI937%2BLb62uKlCedCyPpkTGY6eSPCYurnc2dIh1Gi%2FBiO%2FR74QJxxNjodUSv8cKaZyvgNn2kr1f7vNdy4cnIh16ViksHx97mSbOp4AQALCnljCvs5aPSu6IX1%2Bsi6vkGnfLAwcov3o6tgaLOfbgt15jIEeqDazGh8%2BOpBjSWuuC3Zub6qARBUfeUoxSHwaUSA9TU54bGBR3TPL9yamjLlBOFu7jtjpRBz2tf0VK4SikAu2BcCITnxTP4b2v56LjONNardaC5UczGdPdauxgiZyQT%2BJA6wzjsFw0aDfstJ3099kR9Oq%2BO%2FaWKMHV4RMNOL8soGOqUBSaA8S4PUhS9jR2hYMIuJZ5PpgEZvjDwWMDh1jswE7zTEhFXjwwNeeROAD9VS%2FfJQ%2BBxzFA%2B0no95vHqTkIaBQrbrb40vnO%2BLBAN2G7RskhG7K5d0blHyj8Swwd6jCG6Vy4jl8rc2iRRelXL6BEAPuyLZm583De53adxETwTZVV1kPplQQSJ%2B58bXDd7ZSHCs0GF5uHK3Xd%2F2N5z8dN8CFHNkMGUB&X-Amz-Signature=49bfc44dbd3686578c415a92debfe792277807cb3e1da9dfff5a66a8d1ff047a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YKDPOOWZ%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041133Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBa0bR6pCsj7kgxuCNAdd%2FkFNOHyQELHVIItfCviUSmnAiEA8WzjJfcVTVI5AEsjtNUJOf4m5Wbe0YU3ZIXLkUocWKYq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDJxLvCwwBVl71SeQYyrcA%2FgRC62dqyLXkbAZI9ZpdrV1%2B74NLc4DdLlaeT10%2FJ5lc5w5ZjoirhyZ6Rm7n8U4rvLB5Eaj8q3cHieWL0JdkJHESxXrfrqjHllkB95%2BWNF%2BDoB2XjWhvj7bZAiMJ%2BBEJg1NQGOqhHvihzX7nOQud82XrQjSv85C5aGI0B8xL2xqHI28wIx%2BJxrq45a1zSuHJqW%2FuMO4b%2FFreoW96Y6vzi7nStQMUu%2F8z8c2OlM8AoRC6AUjttr39KrCzIYRIaLuY7fcZtF%2F9UME7DmstNsEPyQ719pGxOKJxgKCDVsECbEwzCgkJFjdlgL9RWSLpbguI937%2BLb62uKlCedCyPpkTGY6eSPCYurnc2dIh1Gi%2FBiO%2FR74QJxxNjodUSv8cKaZyvgNn2kr1f7vNdy4cnIh16ViksHx97mSbOp4AQALCnljCvs5aPSu6IX1%2Bsi6vkGnfLAwcov3o6tgaLOfbgt15jIEeqDazGh8%2BOpBjSWuuC3Zub6qARBUfeUoxSHwaUSA9TU54bGBR3TPL9yamjLlBOFu7jtjpRBz2tf0VK4SikAu2BcCITnxTP4b2v56LjONNardaC5UczGdPdauxgiZyQT%2BJA6wzjsFw0aDfstJ3099kR9Oq%2BO%2FaWKMHV4RMNOL8soGOqUBSaA8S4PUhS9jR2hYMIuJZ5PpgEZvjDwWMDh1jswE7zTEhFXjwwNeeROAD9VS%2FfJQ%2BBxzFA%2B0no95vHqTkIaBQrbrb40vnO%2BLBAN2G7RskhG7K5d0blHyj8Swwd6jCG6Vy4jl8rc2iRRelXL6BEAPuyLZm583De53adxETwTZVV1kPplQQSJ%2B58bXDd7ZSHCs0GF5uHK3Xd%2F2N5z8dN8CFHNkMGUB&X-Amz-Signature=947c82433b416233b4c6f632963c27dbe9c4f41ed5e772dfa9be72fbbb27a7e5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WY75KW5W%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041136Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDdEArHYVA%2BwYKSKGNI8e7lzRZUyj5P6EDeCyBLS%2BrDPgIhAP6fR%2BUZoKrAuY4E4sL2wk1OlofDi0mc4KMYfh59cX6BKv8DCFUQABoMNjM3NDIzMTgzODA1Igz322eL2tdiDRaoLqgq3ANTiHDSRx0mh0ZTdEDzlYIrCZ%2FeYvafxQjaBVwqVpNWSsgHdwLUugxVCjch6eJRxvOj0sbw5yjBhGVX5TbCbYt%2FlXRfZ1B7iYDwlIquIcaYYwrhEMcFTN7JEvJEOGnZKOFYxgIL%2BS6ueCRPBkPKeb1TMWd9IuUdaQAf0emtP204pcyD6gAke5IyrQnXrfKmKhwaGlSqdfDS3rdZubMIfqu2Faoix2OcslAnfgqSjCyNHV1zp7mV9zZBI1S4%2BgbB8jTX6%2F%2F9G1e%2BBqCH79MACaFN%2BJCOwoHDNBxc23ABkmP9Ks7ru2mgI3B8Vgg0e2apFh1UwnnbNSnou56TJDgByHPg9gNP0D33pns4s4hv8bwX8ThAQTCAvVOwgumIOOeepoFIrio0Qd9n0e18siEskoQW31CP5xQXMR%2FeWGVNUZV83ZQb8FAV14QCCcVLcj5%2F5fCm3q7TaZYC9I7D4rLQpwwrwepS6aBCcGie87hyqCIZPVMdj03n%2F3GJnx22NG8IQkfCGDZUDSbKtkwihCed456PfQxDLbM9mcewmIarTAbaaLE3kwRt9JYrFMqb9AEjpVJ%2BlNa4WFDVwX7J%2BPKBxppfvEe3QpJ%2FFRA3iXVrS%2FTcQ6E08yaE9bNXsmrTcjDWi%2FLKBjqkAQR7y5c9Mc0ENlzs2CciHN%2Bfl4%2F4cfitBpiZdv83CB3I%2BUkfLMbBt83k2NQs9vt5RSuXRJP2%2BdgDu7JKtW4LBHgn6uelr51J%2F1XHq1O2MXmR3MLSkM9fmf5vN4Pxk83wSqFKn2Pv2nTGqolWjKIV%2FxdERVBYQaJq7JBCM7%2BuPfkjLPt9tIS2HSoVXf6CMP%2FEdp8YY%2FY6y5d8UbUDetzUaQ%2Bpx%2FKJ&X-Amz-Signature=c873a0cd823e3e42dee04d6a2ac4e2082d30444a79e92bf5788ad5c742588414&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WY75KW5W%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041136Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDdEArHYVA%2BwYKSKGNI8e7lzRZUyj5P6EDeCyBLS%2BrDPgIhAP6fR%2BUZoKrAuY4E4sL2wk1OlofDi0mc4KMYfh59cX6BKv8DCFUQABoMNjM3NDIzMTgzODA1Igz322eL2tdiDRaoLqgq3ANTiHDSRx0mh0ZTdEDzlYIrCZ%2FeYvafxQjaBVwqVpNWSsgHdwLUugxVCjch6eJRxvOj0sbw5yjBhGVX5TbCbYt%2FlXRfZ1B7iYDwlIquIcaYYwrhEMcFTN7JEvJEOGnZKOFYxgIL%2BS6ueCRPBkPKeb1TMWd9IuUdaQAf0emtP204pcyD6gAke5IyrQnXrfKmKhwaGlSqdfDS3rdZubMIfqu2Faoix2OcslAnfgqSjCyNHV1zp7mV9zZBI1S4%2BgbB8jTX6%2F%2F9G1e%2BBqCH79MACaFN%2BJCOwoHDNBxc23ABkmP9Ks7ru2mgI3B8Vgg0e2apFh1UwnnbNSnou56TJDgByHPg9gNP0D33pns4s4hv8bwX8ThAQTCAvVOwgumIOOeepoFIrio0Qd9n0e18siEskoQW31CP5xQXMR%2FeWGVNUZV83ZQb8FAV14QCCcVLcj5%2F5fCm3q7TaZYC9I7D4rLQpwwrwepS6aBCcGie87hyqCIZPVMdj03n%2F3GJnx22NG8IQkfCGDZUDSbKtkwihCed456PfQxDLbM9mcewmIarTAbaaLE3kwRt9JYrFMqb9AEjpVJ%2BlNa4WFDVwX7J%2BPKBxppfvEe3QpJ%2FFRA3iXVrS%2FTcQ6E08yaE9bNXsmrTcjDWi%2FLKBjqkAQR7y5c9Mc0ENlzs2CciHN%2Bfl4%2F4cfitBpiZdv83CB3I%2BUkfLMbBt83k2NQs9vt5RSuXRJP2%2BdgDu7JKtW4LBHgn6uelr51J%2F1XHq1O2MXmR3MLSkM9fmf5vN4Pxk83wSqFKn2Pv2nTGqolWjKIV%2FxdERVBYQaJq7JBCM7%2BuPfkjLPt9tIS2HSoVXf6CMP%2FEdp8YY%2FY6y5d8UbUDetzUaQ%2Bpx%2FKJ&X-Amz-Signature=b3b1eaa45d24000eb56451dcb3ce23b44bef5706e71dbb04a160861dfc892e51&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRGALF44%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041136Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFbu54rlBMcyOahf%2FAVk6bbxBDLK8fDZ4XjIED1R5kT8AiEArVq4UB%2Fe0tlpcVxxRstIuSiOvnFSVUlWL5wZBO1bsvgq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDOC2rocbLp1QO9HaFyrcA8J3tOU98bWGMEgv7KLB8ucOH8LlNOuwNtjA1H%2FAnOi0VHqSapAJTms2s99%2FOp%2BvOW7DihQvZJnCpSb1%2BinIoSTpLxjrDexs85HmXThaT30ubx3wgGPIvO7Bqk4vtBe8O94DmTsQyzwGwNsWKj0YM45cdaOfD4lTaGf9iaHyRT1P%2Fa3CqqwzkWipZFfrXD8mgy9WXVWBezRbKfKcGDLMHHgwXIRlIhb%2FgdmAMv5om69lrNjIdxeFZCH6QlqWH7g34j2zhlPrVTOoUA%2Fvt7RFG6BAsvABsEWRNTHAPWlauZzdEMVoMQBlG9cLCabb%2Bacc5XpwFPh8muaYc%2BGIFqm62DvtgEeQL%2Fqba1FmYpeS98Y37nlOUjh6f02CvluI9mVgIETkrP%2FAZ3oDyRVFwY8uzNz3g1RI2zKj9QQ0GTiecRwD07bPrJIwK2guBFPA1xrtt%2BJyd4iopPl5Q4hYuARPBuZiRrb227oxIzcOc6YjcEdsCy4BT51yEkIVxxQZt3jr4y9DNqigT16qYV8uBb75XnfH58HR9OE4TueXR06Bsy6FW4a%2FYwXjoxY%2FlGbST%2BPZMU7Qe0gXNuutu0V5clACJbhYyH0REHTtQ%2BucPp6DAvMVw1jhaYuEpZ9ijXlQMMyL8soGOqUBjRwmLGokgdi7StZl9zaETYtkxvei93e89ARuNxB%2FMgO8m95EeeYJYFEd9yqD1U37YNMVsLfkawoV6ygs2RRRKkur9GJ574sLjWzl2Mp0u6Lk%2F4l1WD6KNZPB0Utit3fKkTSiIoCxWHmyv4wax1F2itCcZ2z%2FSCKVq%2B65%2Br0kHrxGnI2umeR8SWFYUkbc%2FU9CyGBRKfYfPSdgmxj093TYwA55YWDu&X-Amz-Signature=827fad5cba0d3ef4b4d68c2d3ffd6a4f98827010b0bd5ca8d6eabdc1d4867067&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZRGALF44%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041136Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFbu54rlBMcyOahf%2FAVk6bbxBDLK8fDZ4XjIED1R5kT8AiEArVq4UB%2Fe0tlpcVxxRstIuSiOvnFSVUlWL5wZBO1bsvgq%2FwMIVRAAGgw2Mzc0MjMxODM4MDUiDOC2rocbLp1QO9HaFyrcA8J3tOU98bWGMEgv7KLB8ucOH8LlNOuwNtjA1H%2FAnOi0VHqSapAJTms2s99%2FOp%2BvOW7DihQvZJnCpSb1%2BinIoSTpLxjrDexs85HmXThaT30ubx3wgGPIvO7Bqk4vtBe8O94DmTsQyzwGwNsWKj0YM45cdaOfD4lTaGf9iaHyRT1P%2Fa3CqqwzkWipZFfrXD8mgy9WXVWBezRbKfKcGDLMHHgwXIRlIhb%2FgdmAMv5om69lrNjIdxeFZCH6QlqWH7g34j2zhlPrVTOoUA%2Fvt7RFG6BAsvABsEWRNTHAPWlauZzdEMVoMQBlG9cLCabb%2Bacc5XpwFPh8muaYc%2BGIFqm62DvtgEeQL%2Fqba1FmYpeS98Y37nlOUjh6f02CvluI9mVgIETkrP%2FAZ3oDyRVFwY8uzNz3g1RI2zKj9QQ0GTiecRwD07bPrJIwK2guBFPA1xrtt%2BJyd4iopPl5Q4hYuARPBuZiRrb227oxIzcOc6YjcEdsCy4BT51yEkIVxxQZt3jr4y9DNqigT16qYV8uBb75XnfH58HR9OE4TueXR06Bsy6FW4a%2FYwXjoxY%2FlGbST%2BPZMU7Qe0gXNuutu0V5clACJbhYyH0REHTtQ%2BucPp6DAvMVw1jhaYuEpZ9ijXlQMMyL8soGOqUBjRwmLGokgdi7StZl9zaETYtkxvei93e89ARuNxB%2FMgO8m95EeeYJYFEd9yqD1U37YNMVsLfkawoV6ygs2RRRKkur9GJ574sLjWzl2Mp0u6Lk%2F4l1WD6KNZPB0Utit3fKkTSiIoCxWHmyv4wax1F2itCcZ2z%2FSCKVq%2B65%2Br0kHrxGnI2umeR8SWFYUkbc%2FU9CyGBRKfYfPSdgmxj093TYwA55YWDu&X-Amz-Signature=afd223c1c29cfb0410766d35c88037f063a2a41bce0fffb4f1c4eeab3d732923&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQBZQYLO%2F20260106%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260106T041136Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEIz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDZmvn70sAM44SGWPaFoJQsT3WR2XwKBRQ3ausDbrZKHAIhANwrB3%2F5Nb9It2KXDD4hl%2FrhlAkF%2B9YB3%2Bdjf2QWL33GKv8DCFUQABoMNjM3NDIzMTgzODA1Igw0v8hM6lhqe4qnQ6cq3AMMO3TxPL7tmfz69%2B0CAxcLdh4fH2iqXB%2B%2B01YGTe3XXvt653w9qhYhdOe1IdhDABYzq2C5u%2BCCmkcYe2ZG1lPyH1bK1T%2BhD2OWg%2BCQ%2F0K8QkZCFi3lGsAprEELW1KLGSFMS80Y4XVUrNwlBGjDs6V6ONjppH43cEm47AbYzkDRSMKiZYZxitOg3UMbVEqARiNOemNqMZy5mqiTzUyMPB2qUyvES01UQHhmhJ4oUfaZs5tw3JaPULtCl5ANNwt53xVlfiKXXA%2BfVW3jk7tAGij5pdsNB6Tk1%2BqPBmw4UagrouqyAILlhlNgH8sbE%2FDGPbws1I%2BMXOWcDMXFFjnE0GIuZQscGYUZfPV91Tizowp7Qd%2BUKjCPjfDhDExk1tyJmx%2FXPkQ3IHLDMT3iLq0lz83st9vYyZ63nuJOXEAihdckY9kVtKQ2VZKLr3sHLQRFaPXU5ibgYpmAXF%2FJPKQMGJhFOY9%2Bk5mTx0COrbc41N5o7h9XO0delezymn45Nfrrq5S8Jj3kDWfdaN2VKWICWKtNFlJHLc35x8lcCu7uhOgp8iHZMGQtRFn0DZwvi75nzMwJuA4gQViOLFkHAIwe8dKUYaLN4gnChGqz97sWF0P9Z61D93Tkjbvk9swc2jC6i%2FLKBjqkAQFfNXQLNLeCY95VsLgp3Ook%2B99PB812InkYhebriPZBNaYl50RptpZM%2FF1eg8MS9djUkCL7RRKlqUqhwNO%2BTLrB4nZACEAoexAMmQfEHzB6uE%2FHSLDedhhc7fVQAPYOQ%2BhPwxyRWaxACqsgFoWrtsurglFjOb77uzJUSvcNEF2paAhmuyBYF%2Br5R1SqttOCl4gJJ%2BWZCpR27bqM3eu8F7T7spGQ&X-Amz-Signature=e20253fd2623822affb8545b17dfd3d1d810198ba5c3889592a2956ac9c7fa51&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
