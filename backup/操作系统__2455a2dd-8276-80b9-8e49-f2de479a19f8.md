
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666EC6TCZJ%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCz8dg2%2BzWICpKzFRG1AeWYaBg5zdLaR9LcYLI3%2FyafTQIhAJznkyC8AZnq3hFkDTiuRrBktqTXNhyWaYUV2q68ikyGKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz%2BzSyJfvvZq2sV4lsq3ANDENE24TYESTTMcotrKvspedf184zK4ugTQkFg2uS%2BufasIJEVbwQsaU21IrTTp7L1ZAheHTz466st84FVMha0GY2WFFOKSCjIaFAMjWhf2tvBKcn7QTnSoPGR96jCFXmnsPv3peLilgv08uEc6dSs6KCStj8%2BzSlvIxJd0L3dJ4TrZDtLN%2F82XhUtUOjxe8TcbnpRq%2FegbeA30H1UYXZc5g6EBbWqDM1jgjLhSPBfVaTKSIW5r1fp0QONl1G3oq0wP50SFe%2F87KicuBgmd8rrq8SbTtpOrIKH4n4YOqslN981OhxHn0rRC0MRhoBR61LpYfykJO9mfY%2BQWHAdiLe801QIqiIJt7smriLNyPRV7eQHRRh7lV5RkVSMFDpPNFuv1TMJNZCaCx7n9D%2FoejOpnPtDDFj%2FRLWdotUtL4lHvxNbAat0b0oA1FKT0RyZrYyZS7UE%2FbZ7zYsTCK60HnHsxZDBq%2B%2BBrXFGtYoY813uD59pgU6U4cBTkNDlJqpH1p2IoPzaezfod7QmjW5gWP%2FinlqdRqR7sUhNrasxymx5flPsJX0W7AUUyY0kdB6zsJKcW4iMpJHTumABNC1j1lzheL38jeH%2BsFEYRUHZhTCZT38ynXGgsUAT3tqxtjCSz%2FzKBjqkAfn7sHZ%2Fa4KRDF2p%2BBXXLhez5tDDGNH9rT8xvZTgTLJ1EaU9ZBlgbtBy1lSrUS0fhpDTjQJjwaXp9k77bFiNOKl2VyR6Lv4aNcLomSDYXpZ15vsHopd9qkrFVryuyKmFBL5EAoALmwkDjNwCLhTlJmOo%2BnJ90tb3zte1sNDXf0ERdL%2B5ZmMkjUz4IMxJdCvxpThfz2MTiYO56NcRo7Zuhc4dSAlb&X-Amz-Signature=9616ba71a827d7128255e05b72e53e0eeb19ebbcd6a3bb29138666823cca7937&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666EC6TCZJ%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCz8dg2%2BzWICpKzFRG1AeWYaBg5zdLaR9LcYLI3%2FyafTQIhAJznkyC8AZnq3hFkDTiuRrBktqTXNhyWaYUV2q68ikyGKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz%2BzSyJfvvZq2sV4lsq3ANDENE24TYESTTMcotrKvspedf184zK4ugTQkFg2uS%2BufasIJEVbwQsaU21IrTTp7L1ZAheHTz466st84FVMha0GY2WFFOKSCjIaFAMjWhf2tvBKcn7QTnSoPGR96jCFXmnsPv3peLilgv08uEc6dSs6KCStj8%2BzSlvIxJd0L3dJ4TrZDtLN%2F82XhUtUOjxe8TcbnpRq%2FegbeA30H1UYXZc5g6EBbWqDM1jgjLhSPBfVaTKSIW5r1fp0QONl1G3oq0wP50SFe%2F87KicuBgmd8rrq8SbTtpOrIKH4n4YOqslN981OhxHn0rRC0MRhoBR61LpYfykJO9mfY%2BQWHAdiLe801QIqiIJt7smriLNyPRV7eQHRRh7lV5RkVSMFDpPNFuv1TMJNZCaCx7n9D%2FoejOpnPtDDFj%2FRLWdotUtL4lHvxNbAat0b0oA1FKT0RyZrYyZS7UE%2FbZ7zYsTCK60HnHsxZDBq%2B%2BBrXFGtYoY813uD59pgU6U4cBTkNDlJqpH1p2IoPzaezfod7QmjW5gWP%2FinlqdRqR7sUhNrasxymx5flPsJX0W7AUUyY0kdB6zsJKcW4iMpJHTumABNC1j1lzheL38jeH%2BsFEYRUHZhTCZT38ynXGgsUAT3tqxtjCSz%2FzKBjqkAfn7sHZ%2Fa4KRDF2p%2BBXXLhez5tDDGNH9rT8xvZTgTLJ1EaU9ZBlgbtBy1lSrUS0fhpDTjQJjwaXp9k77bFiNOKl2VyR6Lv4aNcLomSDYXpZ15vsHopd9qkrFVryuyKmFBL5EAoALmwkDjNwCLhTlJmOo%2BnJ90tb3zte1sNDXf0ERdL%2B5ZmMkjUz4IMxJdCvxpThfz2MTiYO56NcRo7Zuhc4dSAlb&X-Amz-Signature=d16d1f52b32608f9bb2e66c39659d00dcb4cf757a52e09e7ecde6dd01a9af052&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666EC6TCZJ%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041146Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCz8dg2%2BzWICpKzFRG1AeWYaBg5zdLaR9LcYLI3%2FyafTQIhAJznkyC8AZnq3hFkDTiuRrBktqTXNhyWaYUV2q68ikyGKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz%2BzSyJfvvZq2sV4lsq3ANDENE24TYESTTMcotrKvspedf184zK4ugTQkFg2uS%2BufasIJEVbwQsaU21IrTTp7L1ZAheHTz466st84FVMha0GY2WFFOKSCjIaFAMjWhf2tvBKcn7QTnSoPGR96jCFXmnsPv3peLilgv08uEc6dSs6KCStj8%2BzSlvIxJd0L3dJ4TrZDtLN%2F82XhUtUOjxe8TcbnpRq%2FegbeA30H1UYXZc5g6EBbWqDM1jgjLhSPBfVaTKSIW5r1fp0QONl1G3oq0wP50SFe%2F87KicuBgmd8rrq8SbTtpOrIKH4n4YOqslN981OhxHn0rRC0MRhoBR61LpYfykJO9mfY%2BQWHAdiLe801QIqiIJt7smriLNyPRV7eQHRRh7lV5RkVSMFDpPNFuv1TMJNZCaCx7n9D%2FoejOpnPtDDFj%2FRLWdotUtL4lHvxNbAat0b0oA1FKT0RyZrYyZS7UE%2FbZ7zYsTCK60HnHsxZDBq%2B%2BBrXFGtYoY813uD59pgU6U4cBTkNDlJqpH1p2IoPzaezfod7QmjW5gWP%2FinlqdRqR7sUhNrasxymx5flPsJX0W7AUUyY0kdB6zsJKcW4iMpJHTumABNC1j1lzheL38jeH%2BsFEYRUHZhTCZT38ynXGgsUAT3tqxtjCSz%2FzKBjqkAfn7sHZ%2Fa4KRDF2p%2BBXXLhez5tDDGNH9rT8xvZTgTLJ1EaU9ZBlgbtBy1lSrUS0fhpDTjQJjwaXp9k77bFiNOKl2VyR6Lv4aNcLomSDYXpZ15vsHopd9qkrFVryuyKmFBL5EAoALmwkDjNwCLhTlJmOo%2BnJ90tb3zte1sNDXf0ERdL%2B5ZmMkjUz4IMxJdCvxpThfz2MTiYO56NcRo7Zuhc4dSAlb&X-Amz-Signature=85b7f536e044d9b8b92271f74dc8e242f957e72ca35f6ea95c5ccb12467e5b8b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666KCJ33TE%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICru6jSsONns%2BXRnvF%2BTqyHV%2FAuniNEL6m2MlkpqmN90AiAw4Dr8RtY3BBwNlQFNRlDuBtWDnsNkYdx1Bv0D%2FXxSQCqIBAiF%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6n5As83wDUqr0KvvKtwDSytXA%2BPHShGrucVZ8YNOKqbEyoACUWgXNgFtzBFhU70Emr0oae9OnSDprA5jLvi807E%2FDV%2BhoviNOE9jeOAid07pBM36jJ8SEYOGayj2o19lYlp6t%2BEvsyBZImDlOC12j6t8JW9nGEV0fRwTeWUIbbW8SIkR67ZRt3h%2FqfNVX3hXchCECsGZW8d2B9C26HTkQa9t%2BVswxBcnNFldg6Bm2YzSnfMY84%2BebK9kYLWN1ZauFXcAjCvNZaZ8iMIKAWrVo2VEvyZiyxwDt7rVpsj8rcdM%2BNJVS4fS0yVTA271T85X%2FlvVFprZxKGz3ME8tRWGyAnn9u22oSdJLBSVSJDbDykyqCnoIWilhKVs4Oumy3ckhUVCD3DzCIp2UfUsLaDH2kKhGqkowpHcsVZKkkr0KWu1%2BOeyvi3dG%2B%2B2QDECfrNi1XNnMbXL%2BPtK7w4DrO0ZoDvKyfkf4H9wGpdC3BiYN7Xf9279QR3rJQLDBlLwRuJQiR8A4PrGv%2Fb3c2nct7vPBdi5feuIFYQ0VZ%2BGthRO8CgaKCyZXhaqbmGbt76xv0npdywKw6Xl2XazDQbNkPLTS7ysb9t84arJz6h5UAhKBpe8OhRXBbM83ji7TGdfYYJk4aF6U0WsREmxSVUw0M%2F8ygY6pgEMhxEbk3%2FoRJUES7%2FkWkKw8V5RubKb6DpgjP%2B58ygFYRuX7%2BKrFIRY84EXG1%2BAp2sIJYz96QWP0GCxqvuL%2Fz2nTSuTRdvvL3oL3XML9CLCUJmglbpsm5zITdE3Wjjq1M5L4RsyWSh8IPkhmwIvr%2FINLrdmVr0JjJuZXByNMJ8ztvVO211A863k2uweO0dtRszpQw7HhpMvKgGztaUgWlYlaehJmPeJ&X-Amz-Signature=0231fd1bb8db93166b6e40284446f02edd93eea3cbfafaf2bbe26cd856b58d0d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666KCJ33TE%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICru6jSsONns%2BXRnvF%2BTqyHV%2FAuniNEL6m2MlkpqmN90AiAw4Dr8RtY3BBwNlQFNRlDuBtWDnsNkYdx1Bv0D%2FXxSQCqIBAiF%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6n5As83wDUqr0KvvKtwDSytXA%2BPHShGrucVZ8YNOKqbEyoACUWgXNgFtzBFhU70Emr0oae9OnSDprA5jLvi807E%2FDV%2BhoviNOE9jeOAid07pBM36jJ8SEYOGayj2o19lYlp6t%2BEvsyBZImDlOC12j6t8JW9nGEV0fRwTeWUIbbW8SIkR67ZRt3h%2FqfNVX3hXchCECsGZW8d2B9C26HTkQa9t%2BVswxBcnNFldg6Bm2YzSnfMY84%2BebK9kYLWN1ZauFXcAjCvNZaZ8iMIKAWrVo2VEvyZiyxwDt7rVpsj8rcdM%2BNJVS4fS0yVTA271T85X%2FlvVFprZxKGz3ME8tRWGyAnn9u22oSdJLBSVSJDbDykyqCnoIWilhKVs4Oumy3ckhUVCD3DzCIp2UfUsLaDH2kKhGqkowpHcsVZKkkr0KWu1%2BOeyvi3dG%2B%2B2QDECfrNi1XNnMbXL%2BPtK7w4DrO0ZoDvKyfkf4H9wGpdC3BiYN7Xf9279QR3rJQLDBlLwRuJQiR8A4PrGv%2Fb3c2nct7vPBdi5feuIFYQ0VZ%2BGthRO8CgaKCyZXhaqbmGbt76xv0npdywKw6Xl2XazDQbNkPLTS7ysb9t84arJz6h5UAhKBpe8OhRXBbM83ji7TGdfYYJk4aF6U0WsREmxSVUw0M%2F8ygY6pgEMhxEbk3%2FoRJUES7%2FkWkKw8V5RubKb6DpgjP%2B58ygFYRuX7%2BKrFIRY84EXG1%2BAp2sIJYz96QWP0GCxqvuL%2Fz2nTSuTRdvvL3oL3XML9CLCUJmglbpsm5zITdE3Wjjq1M5L4RsyWSh8IPkhmwIvr%2FINLrdmVr0JjJuZXByNMJ8ztvVO211A863k2uweO0dtRszpQw7HhpMvKgGztaUgWlYlaehJmPeJ&X-Amz-Signature=7906e2fe8dd2f025086595d0c290931aaa457b24abab2b0960491398dc4985b0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666KCJ33TE%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICru6jSsONns%2BXRnvF%2BTqyHV%2FAuniNEL6m2MlkpqmN90AiAw4Dr8RtY3BBwNlQFNRlDuBtWDnsNkYdx1Bv0D%2FXxSQCqIBAiF%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM6n5As83wDUqr0KvvKtwDSytXA%2BPHShGrucVZ8YNOKqbEyoACUWgXNgFtzBFhU70Emr0oae9OnSDprA5jLvi807E%2FDV%2BhoviNOE9jeOAid07pBM36jJ8SEYOGayj2o19lYlp6t%2BEvsyBZImDlOC12j6t8JW9nGEV0fRwTeWUIbbW8SIkR67ZRt3h%2FqfNVX3hXchCECsGZW8d2B9C26HTkQa9t%2BVswxBcnNFldg6Bm2YzSnfMY84%2BebK9kYLWN1ZauFXcAjCvNZaZ8iMIKAWrVo2VEvyZiyxwDt7rVpsj8rcdM%2BNJVS4fS0yVTA271T85X%2FlvVFprZxKGz3ME8tRWGyAnn9u22oSdJLBSVSJDbDykyqCnoIWilhKVs4Oumy3ckhUVCD3DzCIp2UfUsLaDH2kKhGqkowpHcsVZKkkr0KWu1%2BOeyvi3dG%2B%2B2QDECfrNi1XNnMbXL%2BPtK7w4DrO0ZoDvKyfkf4H9wGpdC3BiYN7Xf9279QR3rJQLDBlLwRuJQiR8A4PrGv%2Fb3c2nct7vPBdi5feuIFYQ0VZ%2BGthRO8CgaKCyZXhaqbmGbt76xv0npdywKw6Xl2XazDQbNkPLTS7ysb9t84arJz6h5UAhKBpe8OhRXBbM83ji7TGdfYYJk4aF6U0WsREmxSVUw0M%2F8ygY6pgEMhxEbk3%2FoRJUES7%2FkWkKw8V5RubKb6DpgjP%2B58ygFYRuX7%2BKrFIRY84EXG1%2BAp2sIJYz96QWP0GCxqvuL%2Fz2nTSuTRdvvL3oL3XML9CLCUJmglbpsm5zITdE3Wjjq1M5L4RsyWSh8IPkhmwIvr%2FINLrdmVr0JjJuZXByNMJ8ztvVO211A863k2uweO0dtRszpQw7HhpMvKgGztaUgWlYlaehJmPeJ&X-Amz-Signature=0bd88ef0845218e9c8ca43f4d51eb6f8c5855f8b072ac221bd896fb9078d2524&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VS4OHTNC%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCbxmdbWMjs3UbqTcFAlkDP8O1C%2FsZq1mIDVCfTBJxX0QIhAKhXEqU%2BNoV%2FOqs7cX7cfJo7fvHpkUr4e66vSFAi8bQJKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzmYqNuhJAJaxg0D1wq3ANMGsvmkRFyzVh%2BUX6sMLvNWC%2BX8huzYQQTf4sNfQ1TWcI08zXT1dzSMubWn9C4618yJRpRUiKrOTNawetYCrH8p0Ar7g9RrIvywE0QwT9KbqlOgSzjh7taeuYi7D7fv5%2F%2F2htOPkBYzccbLlncXl99eR7fhOVjEIIsDr63qfPr7lC0w3Nnsjw%2Bhf0%2FGfxnBcKHoibsyyTsJ1VC3b6PxiWjJqu1dbdORTuhX1%2BvNw7GW1%2BqxSZfd5gufcdYktvVIJfITlFrtqEE2zNFz40FOMfs8xziseRaoPVb%2FmSIo%2B7mv123NXqGFCRB5Gn0elhx7tvguJ3uPzOWhTGF%2FMLkmVuAEm1VCXLsQAzh7O2g9pp6HKKkQ5Wh8RmepzTyuDStvC03pvTQfn6U6SVLXv2HpsO6cfFV325oE7SAoqWh9lrMxuahGls9toXMsDu8JzR09Eg7%2BaGFJrCIcIrkdGzIKNEpjGAx63YnPiRDSSdDqt4uVUIcJbR2ZY7WCbkt%2BHM5kMvgaEHU8BR%2FbuNqEFF%2FWGoEnGnC3ZrUzp%2BYcPwfo%2BKDJPMzHSO6i1xWmFuZ42vx3RzNTjCUo28IJWJyrvO5BTErHrgyp5zs0eg8CNW0GB9d58v%2BDx3VgNMCT%2B3IdTDgz%2FzKBjqkAcu7qmlLwEU8RoCv3NUss7h3R0LcKZPhIZu7ACoHjYFruXt%2BxB9h%2B4b6xphJxnaXMVLRJF76dDf%2BqgUOaB2cKKLXSo%2B82ikJkJPsk7hGpPzIQzE%2F91QVx7R6FYQYrRIt%2BpYHvkTDC0wSMebOoP6vOvZNu2TXsWIYLRaqPKHNCc056SHayKIvP%2B%2Bif%2BBhQLEkxR7esWQX8Zt8seK5J0hoaH%2BHT1%2BR&X-Amz-Signature=9b6cc8ada11b17682a9fe59c73afc32f030d22ba69e14bf28e406df2f39b600b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VS4OHTNC%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCbxmdbWMjs3UbqTcFAlkDP8O1C%2FsZq1mIDVCfTBJxX0QIhAKhXEqU%2BNoV%2FOqs7cX7cfJo7fvHpkUr4e66vSFAi8bQJKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzmYqNuhJAJaxg0D1wq3ANMGsvmkRFyzVh%2BUX6sMLvNWC%2BX8huzYQQTf4sNfQ1TWcI08zXT1dzSMubWn9C4618yJRpRUiKrOTNawetYCrH8p0Ar7g9RrIvywE0QwT9KbqlOgSzjh7taeuYi7D7fv5%2F%2F2htOPkBYzccbLlncXl99eR7fhOVjEIIsDr63qfPr7lC0w3Nnsjw%2Bhf0%2FGfxnBcKHoibsyyTsJ1VC3b6PxiWjJqu1dbdORTuhX1%2BvNw7GW1%2BqxSZfd5gufcdYktvVIJfITlFrtqEE2zNFz40FOMfs8xziseRaoPVb%2FmSIo%2B7mv123NXqGFCRB5Gn0elhx7tvguJ3uPzOWhTGF%2FMLkmVuAEm1VCXLsQAzh7O2g9pp6HKKkQ5Wh8RmepzTyuDStvC03pvTQfn6U6SVLXv2HpsO6cfFV325oE7SAoqWh9lrMxuahGls9toXMsDu8JzR09Eg7%2BaGFJrCIcIrkdGzIKNEpjGAx63YnPiRDSSdDqt4uVUIcJbR2ZY7WCbkt%2BHM5kMvgaEHU8BR%2FbuNqEFF%2FWGoEnGnC3ZrUzp%2BYcPwfo%2BKDJPMzHSO6i1xWmFuZ42vx3RzNTjCUo28IJWJyrvO5BTErHrgyp5zs0eg8CNW0GB9d58v%2BDx3VgNMCT%2B3IdTDgz%2FzKBjqkAcu7qmlLwEU8RoCv3NUss7h3R0LcKZPhIZu7ACoHjYFruXt%2BxB9h%2B4b6xphJxnaXMVLRJF76dDf%2BqgUOaB2cKKLXSo%2B82ikJkJPsk7hGpPzIQzE%2F91QVx7R6FYQYrRIt%2BpYHvkTDC0wSMebOoP6vOvZNu2TXsWIYLRaqPKHNCc056SHayKIvP%2B%2Bif%2BBhQLEkxR7esWQX8Zt8seK5J0hoaH%2BHT1%2BR&X-Amz-Signature=2b285c304fd53fcf04957a5108e527285c25bf203c12db683a54e0642f30812d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VS4OHTNC%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCbxmdbWMjs3UbqTcFAlkDP8O1C%2FsZq1mIDVCfTBJxX0QIhAKhXEqU%2BNoV%2FOqs7cX7cfJo7fvHpkUr4e66vSFAi8bQJKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzmYqNuhJAJaxg0D1wq3ANMGsvmkRFyzVh%2BUX6sMLvNWC%2BX8huzYQQTf4sNfQ1TWcI08zXT1dzSMubWn9C4618yJRpRUiKrOTNawetYCrH8p0Ar7g9RrIvywE0QwT9KbqlOgSzjh7taeuYi7D7fv5%2F%2F2htOPkBYzccbLlncXl99eR7fhOVjEIIsDr63qfPr7lC0w3Nnsjw%2Bhf0%2FGfxnBcKHoibsyyTsJ1VC3b6PxiWjJqu1dbdORTuhX1%2BvNw7GW1%2BqxSZfd5gufcdYktvVIJfITlFrtqEE2zNFz40FOMfs8xziseRaoPVb%2FmSIo%2B7mv123NXqGFCRB5Gn0elhx7tvguJ3uPzOWhTGF%2FMLkmVuAEm1VCXLsQAzh7O2g9pp6HKKkQ5Wh8RmepzTyuDStvC03pvTQfn6U6SVLXv2HpsO6cfFV325oE7SAoqWh9lrMxuahGls9toXMsDu8JzR09Eg7%2BaGFJrCIcIrkdGzIKNEpjGAx63YnPiRDSSdDqt4uVUIcJbR2ZY7WCbkt%2BHM5kMvgaEHU8BR%2FbuNqEFF%2FWGoEnGnC3ZrUzp%2BYcPwfo%2BKDJPMzHSO6i1xWmFuZ42vx3RzNTjCUo28IJWJyrvO5BTErHrgyp5zs0eg8CNW0GB9d58v%2BDx3VgNMCT%2B3IdTDgz%2FzKBjqkAcu7qmlLwEU8RoCv3NUss7h3R0LcKZPhIZu7ACoHjYFruXt%2BxB9h%2B4b6xphJxnaXMVLRJF76dDf%2BqgUOaB2cKKLXSo%2B82ikJkJPsk7hGpPzIQzE%2F91QVx7R6FYQYrRIt%2BpYHvkTDC0wSMebOoP6vOvZNu2TXsWIYLRaqPKHNCc056SHayKIvP%2B%2Bif%2BBhQLEkxR7esWQX8Zt8seK5J0hoaH%2BHT1%2BR&X-Amz-Signature=d4c81a6bda67bfbfc6a54d2b7a6cb0189ad25c04b31c4555aea9d70c60a254d5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VS4OHTNC%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCbxmdbWMjs3UbqTcFAlkDP8O1C%2FsZq1mIDVCfTBJxX0QIhAKhXEqU%2BNoV%2FOqs7cX7cfJo7fvHpkUr4e66vSFAi8bQJKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzmYqNuhJAJaxg0D1wq3ANMGsvmkRFyzVh%2BUX6sMLvNWC%2BX8huzYQQTf4sNfQ1TWcI08zXT1dzSMubWn9C4618yJRpRUiKrOTNawetYCrH8p0Ar7g9RrIvywE0QwT9KbqlOgSzjh7taeuYi7D7fv5%2F%2F2htOPkBYzccbLlncXl99eR7fhOVjEIIsDr63qfPr7lC0w3Nnsjw%2Bhf0%2FGfxnBcKHoibsyyTsJ1VC3b6PxiWjJqu1dbdORTuhX1%2BvNw7GW1%2BqxSZfd5gufcdYktvVIJfITlFrtqEE2zNFz40FOMfs8xziseRaoPVb%2FmSIo%2B7mv123NXqGFCRB5Gn0elhx7tvguJ3uPzOWhTGF%2FMLkmVuAEm1VCXLsQAzh7O2g9pp6HKKkQ5Wh8RmepzTyuDStvC03pvTQfn6U6SVLXv2HpsO6cfFV325oE7SAoqWh9lrMxuahGls9toXMsDu8JzR09Eg7%2BaGFJrCIcIrkdGzIKNEpjGAx63YnPiRDSSdDqt4uVUIcJbR2ZY7WCbkt%2BHM5kMvgaEHU8BR%2FbuNqEFF%2FWGoEnGnC3ZrUzp%2BYcPwfo%2BKDJPMzHSO6i1xWmFuZ42vx3RzNTjCUo28IJWJyrvO5BTErHrgyp5zs0eg8CNW0GB9d58v%2BDx3VgNMCT%2B3IdTDgz%2FzKBjqkAcu7qmlLwEU8RoCv3NUss7h3R0LcKZPhIZu7ACoHjYFruXt%2BxB9h%2B4b6xphJxnaXMVLRJF76dDf%2BqgUOaB2cKKLXSo%2B82ikJkJPsk7hGpPzIQzE%2F91QVx7R6FYQYrRIt%2BpYHvkTDC0wSMebOoP6vOvZNu2TXsWIYLRaqPKHNCc056SHayKIvP%2B%2Bif%2BBhQLEkxR7esWQX8Zt8seK5J0hoaH%2BHT1%2BR&X-Amz-Signature=267c9f166a042e00eac323dae28541c39553723624c3acf04bbeb1f825bb4a53&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665B23PPWK%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDUGKqzw4QdJyakxW4XEiY9hR3pZNEQnIPZGE6HZUfrGgIhAPQ8LL52fC7xMdNc6e%2BpVcuc2KGTzqiWtadhlPRFsMeZKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyHsF1Ye0GBVaeLS7kq3ANWWpUEw%2FkqgHez13QUfrVDvfpMzuA1%2BYNLWKjyx9dX8wre%2BgYngRMsXs7OZEfVm1qr5R2G5jkTnJiLQn%2BRVVB8dY0pEAvO9u3aOD0DGX8feOXsMiSRGsOR9il7UlxGreOjgZjTJDBNIWoVgRxraW1gnG3uwymwChHSKhRFl79GGC4cFrna6joDublU7C%2Bok%2BTGYXF58T8aVlBIkf7btXQlQIHcplRclOKlRS23k8CtYjONb%2Fegy%2BL%2Bmgqr%2F2GkAADN8t3Ex9uLUs3taSSoll6wdyfPFsCimibQIW6hZ2CaI4cPGYatjEtMDSKzaLErSaQ0UakDdBqKZOYULjKTalOoKIv9bgTuzObztR%2Brdpbwa9AQXJzGoIvLmdM59vSqxK0ZtsGiRd8v8mzpz5dIOgxo%2BDMtdceqmkMDB3DKgmvQ01AyZAgBPv%2BeAQwb78xBBYi6dASN3A6WZ7kJKX5OPKcuRnRdMNdn9HMDrGx8kg4u%2BVI8IK6nBMES4fmkwv%2FEnDaxJNMqDblnVQ4SSLzMFcGZBskncv%2BFHQT7yHWuMLrNrKV40XxNtgg%2FBqTueokuDvl%2BWxY5ktLYQPuoMSQoyIP3nO2rHV3S79WNBgqF1ssCltFJU9JwBveuvopxEzDdzvzKBjqkAVS%2Fv8TUaWv6qoC%2B0aLPyDQDQwae3i2bkGv5MBVa4mSqfZZTXJ48CV4S1x0NkZylzJNoi17N5MWPn6o1z7pLdfvPNZQ7NGPZNDM5hlG%2BfXThQ1deyoGZ8FNr%2BNdDnscg%2BUCm5y3gZTnDpaMrsNusDc8CMcN%2Fp%2F73bmVJ1muYgCPRXTRXct0hC73FE%2FLsM7xMPf4stwWtRexSFyjr6ZprqCjaQAuN&X-Amz-Signature=7852f7358374c49f950bebf494583f0a64afa4a910afd15f8476590eafe92b70&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665B23PPWK%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDUGKqzw4QdJyakxW4XEiY9hR3pZNEQnIPZGE6HZUfrGgIhAPQ8LL52fC7xMdNc6e%2BpVcuc2KGTzqiWtadhlPRFsMeZKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyHsF1Ye0GBVaeLS7kq3ANWWpUEw%2FkqgHez13QUfrVDvfpMzuA1%2BYNLWKjyx9dX8wre%2BgYngRMsXs7OZEfVm1qr5R2G5jkTnJiLQn%2BRVVB8dY0pEAvO9u3aOD0DGX8feOXsMiSRGsOR9il7UlxGreOjgZjTJDBNIWoVgRxraW1gnG3uwymwChHSKhRFl79GGC4cFrna6joDublU7C%2Bok%2BTGYXF58T8aVlBIkf7btXQlQIHcplRclOKlRS23k8CtYjONb%2Fegy%2BL%2Bmgqr%2F2GkAADN8t3Ex9uLUs3taSSoll6wdyfPFsCimibQIW6hZ2CaI4cPGYatjEtMDSKzaLErSaQ0UakDdBqKZOYULjKTalOoKIv9bgTuzObztR%2Brdpbwa9AQXJzGoIvLmdM59vSqxK0ZtsGiRd8v8mzpz5dIOgxo%2BDMtdceqmkMDB3DKgmvQ01AyZAgBPv%2BeAQwb78xBBYi6dASN3A6WZ7kJKX5OPKcuRnRdMNdn9HMDrGx8kg4u%2BVI8IK6nBMES4fmkwv%2FEnDaxJNMqDblnVQ4SSLzMFcGZBskncv%2BFHQT7yHWuMLrNrKV40XxNtgg%2FBqTueokuDvl%2BWxY5ktLYQPuoMSQoyIP3nO2rHV3S79WNBgqF1ssCltFJU9JwBveuvopxEzDdzvzKBjqkAVS%2Fv8TUaWv6qoC%2B0aLPyDQDQwae3i2bkGv5MBVa4mSqfZZTXJ48CV4S1x0NkZylzJNoi17N5MWPn6o1z7pLdfvPNZQ7NGPZNDM5hlG%2BfXThQ1deyoGZ8FNr%2BNdDnscg%2BUCm5y3gZTnDpaMrsNusDc8CMcN%2Fp%2F73bmVJ1muYgCPRXTRXct0hC73FE%2FLsM7xMPf4stwWtRexSFyjr6ZprqCjaQAuN&X-Amz-Signature=4b8cf7828d3f8d7b0460c4d3dac3b6c75bafa645bd0c96c1631a98a36ac46467&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665B23PPWK%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDUGKqzw4QdJyakxW4XEiY9hR3pZNEQnIPZGE6HZUfrGgIhAPQ8LL52fC7xMdNc6e%2BpVcuc2KGTzqiWtadhlPRFsMeZKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyHsF1Ye0GBVaeLS7kq3ANWWpUEw%2FkqgHez13QUfrVDvfpMzuA1%2BYNLWKjyx9dX8wre%2BgYngRMsXs7OZEfVm1qr5R2G5jkTnJiLQn%2BRVVB8dY0pEAvO9u3aOD0DGX8feOXsMiSRGsOR9il7UlxGreOjgZjTJDBNIWoVgRxraW1gnG3uwymwChHSKhRFl79GGC4cFrna6joDublU7C%2Bok%2BTGYXF58T8aVlBIkf7btXQlQIHcplRclOKlRS23k8CtYjONb%2Fegy%2BL%2Bmgqr%2F2GkAADN8t3Ex9uLUs3taSSoll6wdyfPFsCimibQIW6hZ2CaI4cPGYatjEtMDSKzaLErSaQ0UakDdBqKZOYULjKTalOoKIv9bgTuzObztR%2Brdpbwa9AQXJzGoIvLmdM59vSqxK0ZtsGiRd8v8mzpz5dIOgxo%2BDMtdceqmkMDB3DKgmvQ01AyZAgBPv%2BeAQwb78xBBYi6dASN3A6WZ7kJKX5OPKcuRnRdMNdn9HMDrGx8kg4u%2BVI8IK6nBMES4fmkwv%2FEnDaxJNMqDblnVQ4SSLzMFcGZBskncv%2BFHQT7yHWuMLrNrKV40XxNtgg%2FBqTueokuDvl%2BWxY5ktLYQPuoMSQoyIP3nO2rHV3S79WNBgqF1ssCltFJU9JwBveuvopxEzDdzvzKBjqkAVS%2Fv8TUaWv6qoC%2B0aLPyDQDQwae3i2bkGv5MBVa4mSqfZZTXJ48CV4S1x0NkZylzJNoi17N5MWPn6o1z7pLdfvPNZQ7NGPZNDM5hlG%2BfXThQ1deyoGZ8FNr%2BNdDnscg%2BUCm5y3gZTnDpaMrsNusDc8CMcN%2Fp%2F73bmVJ1muYgCPRXTRXct0hC73FE%2FLsM7xMPf4stwWtRexSFyjr6ZprqCjaQAuN&X-Amz-Signature=6dd492b5169458630d169e3c74b217cec284de26ce7b4717a59a2d954bfe8816&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665B23PPWK%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDUGKqzw4QdJyakxW4XEiY9hR3pZNEQnIPZGE6HZUfrGgIhAPQ8LL52fC7xMdNc6e%2BpVcuc2KGTzqiWtadhlPRFsMeZKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgyHsF1Ye0GBVaeLS7kq3ANWWpUEw%2FkqgHez13QUfrVDvfpMzuA1%2BYNLWKjyx9dX8wre%2BgYngRMsXs7OZEfVm1qr5R2G5jkTnJiLQn%2BRVVB8dY0pEAvO9u3aOD0DGX8feOXsMiSRGsOR9il7UlxGreOjgZjTJDBNIWoVgRxraW1gnG3uwymwChHSKhRFl79GGC4cFrna6joDublU7C%2Bok%2BTGYXF58T8aVlBIkf7btXQlQIHcplRclOKlRS23k8CtYjONb%2Fegy%2BL%2Bmgqr%2F2GkAADN8t3Ex9uLUs3taSSoll6wdyfPFsCimibQIW6hZ2CaI4cPGYatjEtMDSKzaLErSaQ0UakDdBqKZOYULjKTalOoKIv9bgTuzObztR%2Brdpbwa9AQXJzGoIvLmdM59vSqxK0ZtsGiRd8v8mzpz5dIOgxo%2BDMtdceqmkMDB3DKgmvQ01AyZAgBPv%2BeAQwb78xBBYi6dASN3A6WZ7kJKX5OPKcuRnRdMNdn9HMDrGx8kg4u%2BVI8IK6nBMES4fmkwv%2FEnDaxJNMqDblnVQ4SSLzMFcGZBskncv%2BFHQT7yHWuMLrNrKV40XxNtgg%2FBqTueokuDvl%2BWxY5ktLYQPuoMSQoyIP3nO2rHV3S79WNBgqF1ssCltFJU9JwBveuvopxEzDdzvzKBjqkAVS%2Fv8TUaWv6qoC%2B0aLPyDQDQwae3i2bkGv5MBVa4mSqfZZTXJ48CV4S1x0NkZylzJNoi17N5MWPn6o1z7pLdfvPNZQ7NGPZNDM5hlG%2BfXThQ1deyoGZ8FNr%2BNdDnscg%2BUCm5y3gZTnDpaMrsNusDc8CMcN%2Fp%2F73bmVJ1muYgCPRXTRXct0hC73FE%2FLsM7xMPf4stwWtRexSFyjr6ZprqCjaQAuN&X-Amz-Signature=352186bf5c6089aa1bbd271b7f60654c1bb63ad5757252f34bd386dbc04dc4d3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S3MTNLFP%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDii%2B6Zkfkw6o8C4GIlgjZBlNLsEG6BqwptY8OM7XypnwIhAKpJVWqAtHtc8ZLkswJH%2BymrXQMd1ZZgmQEyagRkRsPyKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igxf4xkDDnKAyUGf5igq3AO4zTvo93YWQbPbxEM2PU2vnrSIQ5Kn1GDgwaN9h9KppJYbHUxknwMsV7wspXa9UYfLq2TAkQ7h1LrzeBJRKucD%2BSFFzq2wtzv3hSu%2F%2FFoNZbVVzYUSNs9cLl81M91QydribvQ9oTf1mFl3N65uWDzyxpZnzAjeSVPxQikQbVLrDo0K3R6srrHZZ%2FOpE09vaeF%2FlRSa8Xq2WCzB3%2FmIDO6ZpdXxN2RvA0qFGS0%2BMFgqtJHmCgw2ZdTdzRAzBB8k%2BHNSWUK2LI5kV3r41yAbTyWGByS5Eaz46m8wJDg8dZnnyUOHuh7fIFegGrBUgIawaqCuWleRUUrSgtjJrmv3c1cfpb2yBnTXB8o0AQ%2FguQu0sRCy8D9nhchy7TFpJNJaKHIiHfOaFSjAUp9T363Fp9DL982o6jlAX29kORUXryW0v4drv94wO5%2FC0bZcXv07hDUGIXAbDNmaJ%2BDKoeEMyVqo4j4LzH8HE2bKQpOQc9INHtbPfhyUByPpNveQPPxk3aK3I7j0bEER9qgApC%2FkaNZJ3%2FDBNVh%2F6pCM4eciykroq2Fxdo1Z3DlbvEt8Wfq70QpYLiiPyIiuIlA6AeXpm1TQVnOSLhgpOH4RNDq2LzVdOZRtdyk7XBQo4hEmuTCez%2FzKBjqkAbmHHG1RCZv948NI25foEXvnl9Q5yjwR5HF7xu6r3tQiBfYd4xYpCh8DiGe%2F6is61Uf22lYstzNpkQYcvZn%2Fg4Y9aw4vyL5s%2B3cQkc8bqbkaQucOtHXGwuUiXBbDwRKUe9V0Ha9KhxuNEPsgMgqg2j%2F1s0rf0FA4Oj4gPtK8%2F8ICMDaXGhQODaYTAiHePfa0C%2BBAhpvZ2F8YcORYw43HmZZcpk6x&X-Amz-Signature=ff2f7d8af8a74cdc1514ce1fe1939fd77e1a0c0cf31f04c5d0b19cbb9723fa65&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S3MTNLFP%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDii%2B6Zkfkw6o8C4GIlgjZBlNLsEG6BqwptY8OM7XypnwIhAKpJVWqAtHtc8ZLkswJH%2BymrXQMd1ZZgmQEyagRkRsPyKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igxf4xkDDnKAyUGf5igq3AO4zTvo93YWQbPbxEM2PU2vnrSIQ5Kn1GDgwaN9h9KppJYbHUxknwMsV7wspXa9UYfLq2TAkQ7h1LrzeBJRKucD%2BSFFzq2wtzv3hSu%2F%2FFoNZbVVzYUSNs9cLl81M91QydribvQ9oTf1mFl3N65uWDzyxpZnzAjeSVPxQikQbVLrDo0K3R6srrHZZ%2FOpE09vaeF%2FlRSa8Xq2WCzB3%2FmIDO6ZpdXxN2RvA0qFGS0%2BMFgqtJHmCgw2ZdTdzRAzBB8k%2BHNSWUK2LI5kV3r41yAbTyWGByS5Eaz46m8wJDg8dZnnyUOHuh7fIFegGrBUgIawaqCuWleRUUrSgtjJrmv3c1cfpb2yBnTXB8o0AQ%2FguQu0sRCy8D9nhchy7TFpJNJaKHIiHfOaFSjAUp9T363Fp9DL982o6jlAX29kORUXryW0v4drv94wO5%2FC0bZcXv07hDUGIXAbDNmaJ%2BDKoeEMyVqo4j4LzH8HE2bKQpOQc9INHtbPfhyUByPpNveQPPxk3aK3I7j0bEER9qgApC%2FkaNZJ3%2FDBNVh%2F6pCM4eciykroq2Fxdo1Z3DlbvEt8Wfq70QpYLiiPyIiuIlA6AeXpm1TQVnOSLhgpOH4RNDq2LzVdOZRtdyk7XBQo4hEmuTCez%2FzKBjqkAbmHHG1RCZv948NI25foEXvnl9Q5yjwR5HF7xu6r3tQiBfYd4xYpCh8DiGe%2F6is61Uf22lYstzNpkQYcvZn%2Fg4Y9aw4vyL5s%2B3cQkc8bqbkaQucOtHXGwuUiXBbDwRKUe9V0Ha9KhxuNEPsgMgqg2j%2F1s0rf0FA4Oj4gPtK8%2F8ICMDaXGhQODaYTAiHePfa0C%2BBAhpvZ2F8YcORYw43HmZZcpk6x&X-Amz-Signature=4d2bd174d94fc2694774c1ab819b408debd9f7cbbe303201c380ac647bf44458&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S3MTNLFP%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDii%2B6Zkfkw6o8C4GIlgjZBlNLsEG6BqwptY8OM7XypnwIhAKpJVWqAtHtc8ZLkswJH%2BymrXQMd1ZZgmQEyagRkRsPyKogECIX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igxf4xkDDnKAyUGf5igq3AO4zTvo93YWQbPbxEM2PU2vnrSIQ5Kn1GDgwaN9h9KppJYbHUxknwMsV7wspXa9UYfLq2TAkQ7h1LrzeBJRKucD%2BSFFzq2wtzv3hSu%2F%2FFoNZbVVzYUSNs9cLl81M91QydribvQ9oTf1mFl3N65uWDzyxpZnzAjeSVPxQikQbVLrDo0K3R6srrHZZ%2FOpE09vaeF%2FlRSa8Xq2WCzB3%2FmIDO6ZpdXxN2RvA0qFGS0%2BMFgqtJHmCgw2ZdTdzRAzBB8k%2BHNSWUK2LI5kV3r41yAbTyWGByS5Eaz46m8wJDg8dZnnyUOHuh7fIFegGrBUgIawaqCuWleRUUrSgtjJrmv3c1cfpb2yBnTXB8o0AQ%2FguQu0sRCy8D9nhchy7TFpJNJaKHIiHfOaFSjAUp9T363Fp9DL982o6jlAX29kORUXryW0v4drv94wO5%2FC0bZcXv07hDUGIXAbDNmaJ%2BDKoeEMyVqo4j4LzH8HE2bKQpOQc9INHtbPfhyUByPpNveQPPxk3aK3I7j0bEER9qgApC%2FkaNZJ3%2FDBNVh%2F6pCM4eciykroq2Fxdo1Z3DlbvEt8Wfq70QpYLiiPyIiuIlA6AeXpm1TQVnOSLhgpOH4RNDq2LzVdOZRtdyk7XBQo4hEmuTCez%2FzKBjqkAbmHHG1RCZv948NI25foEXvnl9Q5yjwR5HF7xu6r3tQiBfYd4xYpCh8DiGe%2F6is61Uf22lYstzNpkQYcvZn%2Fg4Y9aw4vyL5s%2B3cQkc8bqbkaQucOtHXGwuUiXBbDwRKUe9V0Ha9KhxuNEPsgMgqg2j%2F1s0rf0FA4Oj4gPtK8%2F8ICMDaXGhQODaYTAiHePfa0C%2BBAhpvZ2F8YcORYw43HmZZcpk6x&X-Amz-Signature=88389e1bb56d6ba8312c2b98e21fde8cca34e5d96bcbd0525f502e327fd2720b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZNOPGHWA%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDWG4NPn4h41NMrOY0cjXxRoo8NjFAhU9Eo%2B20nQymonAIgfdp1y3e9d18c5RQmqVyRQZV%2FpFxNxT6eyudl2%2BFWt4AqiAQIhf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKZXnLdkrW%2BArk8J0CrcA36KQk%2FwFFXgF5mBD8X9zWoPVz2%2FHHMURjGBj3i2bygYCA8gi8qXjTTf4LxQDvqtvQALc9Ku0607LUeCymqoLvAX7ez%2BfQWiMXAj%2Fxm%2FRvQHJZHIYnYNAL6JDMOAZMBpn7WxOdXKQ%2FaLrnAUhagJGBmk5V1FNFnNlUPFARBNXnSQD%2F%2FT2Bg5JwF5peJvPg59JPO4csYIGMr7JgWpdw1pPHX9VbTCfQvhlcZ73%2FK4Pge%2B%2BS7Xg5X8nzoNj2jQiI5fJbP3%2F2YdpCMJ%2BeSeuUxF3BonN7LNroeMUXMhn%2F%2BRdXP5rlZXOxz8oJZ7Oi2g6R2q0lcrj91zfHXEvWgPDNYAa0CKDLbr244llwe3vwEuIG9p7FFiBpPnnH0gKDBOX%2FrOnTpfWkQZkYm%2FdBWg%2FvwDb6fI8hmkcoA8Q%2BZ5DtysP8qdk41gB%2FRIa1HTyu35%2B8xIV%2FEOE%2BuTfVzZckJ9k7I%2BijHrbRZut1FWkVC8K%2FjEZRqKfHI40e8Kl9xUge45Q6I6oltdSISZT6IKs6tk7xgB3em5VLgjDAiuKwOsmoL%2FteqOodU5tuTi4U0Z0sf3uo5UXJyMu420jcPg7dP8udwC%2F7J%2Fn5MWCsTFDhUGKLrlWVOrBTSo9reCqoMncjZ9MIPP%2FMoGOqUBAsnJayHoJOi4V5z6DFxaR8ThEBWmqhMBJArVfcabzjVB6s%2FTKGptpF0SQrMtSDGKpRVM%2F497%2BI6tL2vkdGzkoestoHHQ4tOrc%2BDJi3gjVlHQ5KNni3pCBj46eI%2FYqGX5F3VKFMx6rwWWednlxBFq9VZ78tYeuXGVsrMj%2Be3ciP%2B3SxpTVPnRsPFxliJDtLX%2BCF7PIe5tjF%2Foxaz7OM743lBHSFzh&X-Amz-Signature=2f8e2738f3933aff9ea2fe49b16d3d1ec087d0cc95502059ad8daba2e38c880f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZNOPGHWA%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDWG4NPn4h41NMrOY0cjXxRoo8NjFAhU9Eo%2B20nQymonAIgfdp1y3e9d18c5RQmqVyRQZV%2FpFxNxT6eyudl2%2BFWt4AqiAQIhf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKZXnLdkrW%2BArk8J0CrcA36KQk%2FwFFXgF5mBD8X9zWoPVz2%2FHHMURjGBj3i2bygYCA8gi8qXjTTf4LxQDvqtvQALc9Ku0607LUeCymqoLvAX7ez%2BfQWiMXAj%2Fxm%2FRvQHJZHIYnYNAL6JDMOAZMBpn7WxOdXKQ%2FaLrnAUhagJGBmk5V1FNFnNlUPFARBNXnSQD%2F%2FT2Bg5JwF5peJvPg59JPO4csYIGMr7JgWpdw1pPHX9VbTCfQvhlcZ73%2FK4Pge%2B%2BS7Xg5X8nzoNj2jQiI5fJbP3%2F2YdpCMJ%2BeSeuUxF3BonN7LNroeMUXMhn%2F%2BRdXP5rlZXOxz8oJZ7Oi2g6R2q0lcrj91zfHXEvWgPDNYAa0CKDLbr244llwe3vwEuIG9p7FFiBpPnnH0gKDBOX%2FrOnTpfWkQZkYm%2FdBWg%2FvwDb6fI8hmkcoA8Q%2BZ5DtysP8qdk41gB%2FRIa1HTyu35%2B8xIV%2FEOE%2BuTfVzZckJ9k7I%2BijHrbRZut1FWkVC8K%2FjEZRqKfHI40e8Kl9xUge45Q6I6oltdSISZT6IKs6tk7xgB3em5VLgjDAiuKwOsmoL%2FteqOodU5tuTi4U0Z0sf3uo5UXJyMu420jcPg7dP8udwC%2F7J%2Fn5MWCsTFDhUGKLrlWVOrBTSo9reCqoMncjZ9MIPP%2FMoGOqUBAsnJayHoJOi4V5z6DFxaR8ThEBWmqhMBJArVfcabzjVB6s%2FTKGptpF0SQrMtSDGKpRVM%2F497%2BI6tL2vkdGzkoestoHHQ4tOrc%2BDJi3gjVlHQ5KNni3pCBj46eI%2FYqGX5F3VKFMx6rwWWednlxBFq9VZ78tYeuXGVsrMj%2Be3ciP%2B3SxpTVPnRsPFxliJDtLX%2BCF7PIe5tjF%2Foxaz7OM743lBHSFzh&X-Amz-Signature=d8725188a71bdce646bf1f3d737413930398507be1a0dfcfd4d40e877d4937cd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XHEYHTPQ%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC2%2BfjOL%2B0xzTRJuIthwmENjx8pqRVJ3z3T5bwvL6zE5wIgN3%2FX7iKr%2F8VRYsBxWHb5f%2Flgbg%2FUTTjgYzb2d0ty4yYqiAQIhf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDOYSJ5fd3ouWAOSeCrcA9QOIAs%2F5nxfbQKD5B5grMS7X9ZVqTl8FU7qGPXhgnQmEUx%2FoGKkhTJDLLFPpfCAawzWHgu8atjZDJ1QuRZ3x7pJz%2Bc%2FTiphjBxUQTWPjHAp%2FIam6hely4Y5EA23FpDD06leTfRx2OY%2FHd5KApl1qM9tbhc0%2FCaSt73sGKUl59ViZ%2BZbZkAA2ya7sw6MIdrkLpFxbSv1CSG8zFauF8uHwtFogex2%2B21IbtRKAkIbhBnktneWh0A7PJvCs47zAgxD8iq06tbBO7QHuFf3BEl5x60VCgNddu%2BTj03hbLdJhhV8OVxCFEYOe2I9GYincMFvU6L8051mxuArfh9AAOxXSWMVSij00GoQO002hv5%2Fz1cZDXHP%2Boo%2Fe7rAAJsq4hQr4Zdhq7IKAl2yBjf9eRF1TZlyH7H5B2y9lc%2FzQpRkJBtJ5LtmSdUKpjYQ6lsOGOCnMyUs0ROFcjDthlrdB%2F0OHRyr7lQ43Bsbg89k3E11eKYZEcY1n7cV1wzMQn09P2sLxD84rER5sqGk%2B84kYbZUSXGquWYcmFBJNAbN2uBDmqT7dXR3n2cPDDBZB6JC70luAFDBM7o8%2BGyvI538N5I3bwJw9N%2B9u0sWw7hG8qD17spM%2FTg8nLOPmhrThQXTMOnO%2FMoGOqUBvtaY8zZ%2BMmo2h10hajX6ryyTjfPdUZvrsQE%2FMPO8rBwxJ%2FB3p2o%2BLlkB%2By1h8OOF2Z6edOeMK8WUrzS7c6gD%2FZpMzIqHEcQlfTHf485Q9Ncb9%2FTtEH0jl3Dnhm%2F5FIrHfgRKwjH9mh3KUK0Fdo44LCWtfJx0S88cCtDlEgNH9LcYoRq5JfOkmgBD5OBAlIE6RXPjv7cVSzIgzaJ30N2BTBLOcoRJ&X-Amz-Signature=1bf23bae4774cce35d09ceab83991e9864fb5e75533107f2233f2496e2c4feee&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XHEYHTPQ%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC2%2BfjOL%2B0xzTRJuIthwmENjx8pqRVJ3z3T5bwvL6zE5wIgN3%2FX7iKr%2F8VRYsBxWHb5f%2Flgbg%2FUTTjgYzb2d0ty4yYqiAQIhf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDOYSJ5fd3ouWAOSeCrcA9QOIAs%2F5nxfbQKD5B5grMS7X9ZVqTl8FU7qGPXhgnQmEUx%2FoGKkhTJDLLFPpfCAawzWHgu8atjZDJ1QuRZ3x7pJz%2Bc%2FTiphjBxUQTWPjHAp%2FIam6hely4Y5EA23FpDD06leTfRx2OY%2FHd5KApl1qM9tbhc0%2FCaSt73sGKUl59ViZ%2BZbZkAA2ya7sw6MIdrkLpFxbSv1CSG8zFauF8uHwtFogex2%2B21IbtRKAkIbhBnktneWh0A7PJvCs47zAgxD8iq06tbBO7QHuFf3BEl5x60VCgNddu%2BTj03hbLdJhhV8OVxCFEYOe2I9GYincMFvU6L8051mxuArfh9AAOxXSWMVSij00GoQO002hv5%2Fz1cZDXHP%2Boo%2Fe7rAAJsq4hQr4Zdhq7IKAl2yBjf9eRF1TZlyH7H5B2y9lc%2FzQpRkJBtJ5LtmSdUKpjYQ6lsOGOCnMyUs0ROFcjDthlrdB%2F0OHRyr7lQ43Bsbg89k3E11eKYZEcY1n7cV1wzMQn09P2sLxD84rER5sqGk%2B84kYbZUSXGquWYcmFBJNAbN2uBDmqT7dXR3n2cPDDBZB6JC70luAFDBM7o8%2BGyvI538N5I3bwJw9N%2B9u0sWw7hG8qD17spM%2FTg8nLOPmhrThQXTMOnO%2FMoGOqUBvtaY8zZ%2BMmo2h10hajX6ryyTjfPdUZvrsQE%2FMPO8rBwxJ%2FB3p2o%2BLlkB%2By1h8OOF2Z6edOeMK8WUrzS7c6gD%2FZpMzIqHEcQlfTHf485Q9Ncb9%2FTtEH0jl3Dnhm%2F5FIrHfgRKwjH9mh3KUK0Fdo44LCWtfJx0S88cCtDlEgNH9LcYoRq5JfOkmgBD5OBAlIE6RXPjv7cVSzIgzaJ30N2BTBLOcoRJ&X-Amz-Signature=e02ed3fdcfde766d1894bf6e9a578a8eff722a69b74d01653cf54ee0a6c5c41a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663DMGXUHJ%2F20260108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260108T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjELz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGAfhd8LEgxF2qvxm%2FH6pcSlar1P5Ih3KKfLWWHoOG%2BvAiBjl2IabJTPSJmZlIhEKvxL22JzN%2FGWDiigJ1YnKgWQ2iqIBAiF%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMdDbdFG8rBem8nHvmKtwD4jP1ngep41%2B%2Br8RPwd%2BUBQZuOxixoPnC6hbWTa1d0YbEYDhrRqrkh%2BXyWmC7TTKAqicqTABPReJlwtZMxFH6SoxB1WU%2BoWczOaGVEe%2FH0FWqjWu8ZFbr8z539pZ1XRU5kwKj8teLbrXNujyuS9lXnE%2FR2ST5TqS%2FVSdrulQMAzHkUFTnC5tOzcYDhxhchtXAB2dazf%2FeHFHaQVEN9VAWs5esgSgpni42zTI7V%2FN77GyQcOSs85E6Xo20kKy2cQT5i4Y45FxGMcElEAW88XykmP%2BIwwmdhNY4gN8H3o68A8jMfmVeFZ0BGIDFoDe4E91145rOoK0eL6%2FUFF9XekFnFp103ntnvjQwpKehOENH82pFkrPdBUOZ0Ns0Dz2p627hxNRhdCeCwkJWJZ3JDk%2Fr8MBhFXYUdAEv51M5T9WnEEAiGlfI5Cj3e76lzJOXSCIYWz5QwyKBZ%2B2DzqO1pysbEIyQJnS5o9QmJ0jEXOOkVJVlS1t6fEpb5dofZbQKWmbMp%2FaqgM4CA6ADX2gDjzqia3ZZwrSoFDI%2B%2Fpdnga45YxslEGnNXHJZMRYRfIv0Cesu64nNJ4Mnall9ljEQVDctHIQv0pgTTQS1D4gLXsZ%2Bx9FFFB9BHI7FvpDKqPww4878ygY6pgGx2Pctd0Q%2F%2BFSmPW%2BKvGCR7jCsbc6D%2BgSfT%2Bp%2FVdbM1tP6Ts1Cw3bWhBIgOsW17Yt%2B0rTdxaLs%2BCqZalct73%2BzizgDkU17WtlZFbc2wtCY3PbjV4sV%2FLmlg1%2Fq1lJ4USymrj14%2F1pMnl%2BEXfGDCZxV6oUf5m64GokxVFH4a1wPZlYUOtGLC0ctnVHXAIJPHTdVMDsKYyaUC%2BDE%2FhPLJmJUR0OT8hTF&X-Amz-Signature=93653e9ff8eefbb3421309319eefdd868c94062446f03a25662700665f3f0a06&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
