
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666OJUH4NS%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040408Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDidAK6Ul5m6V5Z2%2FDKvJCkaMhVDARb3TRSn4bA%2BhJQkwIgIn%2FSK4EjxlGUZ6sGR2uoYfjpE2W2hb7AWdZbfGZHq6sqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDD3OQ4vlway2eHNh9ircA2Q7oOGmDazpyHzqt0PSLyG35lYJaYax8Ab%2FSZinrpHr8K5pIaTfQ3J5%2BQJnz7S4WwyUF3AK58orYBiedKoV5yukxDU%2BsFBIL1sEEc5Yp4ySZwrjUp55CBOikeSeirz3iZr%2FbcZxVUukEVaUbfgA%2FGaQZKdlNtuwJs7Xub%2B%2BaulxriD1cEj8VA6le6e55rEQXIx5JlF2dXvnfGxrxfBSpJH3ED4S7qSatUuG20wKvKs%2Fni%2Bb%2FdHlC%2Bi0f%2FAj4S%2B91HINT7g7RO4bVHbLbsNJs79KYtlF8HN1JQSwJ3QRW4OE5%2FD%2F6AtEUOof5xdilGIYwGU4ki4BON8LhDSiCzuiv%2FW0GzlfQfpdLpCYJ4AuiPa7vrxmLj%2FyQC0yyhhmbf7QY8a9IlA%2F13Cd3%2Boin5m3FbsLJDNqkWeCJKj0fgeSId6aSyXK82gQYTvK2WdZMpPITLmEgAW81WTNO9GWwq2nnk5x68ZXLbqP2ZIIV%2FxGs3Xmr6jJ9qx%2FSi1VuTyWDp1yOraJymLdti%2FYh5KpRi159nn39%2F%2FcnpRW4FeGbmb7DnK7ZFBi0cA%2BXaLpgA4vNBBAwb0kbiBqU1gDualtisBZeXSlUVJ8TmuzN3MQK2IIHyasCi58eVSxZG6LSkN%2BMPSD2ckGOqUBtWFfhZKFbfmN1uhrO8dItRbkcZiwGX2aKrHstN5vGsjawIMimwwpeN9S48DMt6olnnhSWb7K%2F3GF4HD%2FuwclRxrSy5Lnztytu%2Fp%2BHm1MbFgNyTQaLacQjsGk%2BhFzslEgRlgUjBR6BofLmbAVI%2FDYq82DMXn%2BO%2F5qQffGGy8k6LHjLk0OyXMN3%2BS86fR1lRG0TImvQO0vkNBmhawH%2B%2FOOCrLTqN0%2F&X-Amz-Signature=efce4f0662b7f278146450f6fc4f421665359d1826406b26fd2473efd4b5bab9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666OJUH4NS%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040408Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDidAK6Ul5m6V5Z2%2FDKvJCkaMhVDARb3TRSn4bA%2BhJQkwIgIn%2FSK4EjxlGUZ6sGR2uoYfjpE2W2hb7AWdZbfGZHq6sqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDD3OQ4vlway2eHNh9ircA2Q7oOGmDazpyHzqt0PSLyG35lYJaYax8Ab%2FSZinrpHr8K5pIaTfQ3J5%2BQJnz7S4WwyUF3AK58orYBiedKoV5yukxDU%2BsFBIL1sEEc5Yp4ySZwrjUp55CBOikeSeirz3iZr%2FbcZxVUukEVaUbfgA%2FGaQZKdlNtuwJs7Xub%2B%2BaulxriD1cEj8VA6le6e55rEQXIx5JlF2dXvnfGxrxfBSpJH3ED4S7qSatUuG20wKvKs%2Fni%2Bb%2FdHlC%2Bi0f%2FAj4S%2B91HINT7g7RO4bVHbLbsNJs79KYtlF8HN1JQSwJ3QRW4OE5%2FD%2F6AtEUOof5xdilGIYwGU4ki4BON8LhDSiCzuiv%2FW0GzlfQfpdLpCYJ4AuiPa7vrxmLj%2FyQC0yyhhmbf7QY8a9IlA%2F13Cd3%2Boin5m3FbsLJDNqkWeCJKj0fgeSId6aSyXK82gQYTvK2WdZMpPITLmEgAW81WTNO9GWwq2nnk5x68ZXLbqP2ZIIV%2FxGs3Xmr6jJ9qx%2FSi1VuTyWDp1yOraJymLdti%2FYh5KpRi159nn39%2F%2FcnpRW4FeGbmb7DnK7ZFBi0cA%2BXaLpgA4vNBBAwb0kbiBqU1gDualtisBZeXSlUVJ8TmuzN3MQK2IIHyasCi58eVSxZG6LSkN%2BMPSD2ckGOqUBtWFfhZKFbfmN1uhrO8dItRbkcZiwGX2aKrHstN5vGsjawIMimwwpeN9S48DMt6olnnhSWb7K%2F3GF4HD%2FuwclRxrSy5Lnztytu%2Fp%2BHm1MbFgNyTQaLacQjsGk%2BhFzslEgRlgUjBR6BofLmbAVI%2FDYq82DMXn%2BO%2F5qQffGGy8k6LHjLk0OyXMN3%2BS86fR1lRG0TImvQO0vkNBmhawH%2B%2FOOCrLTqN0%2F&X-Amz-Signature=c8f69ddfc239e072973cb69f034782d9bdf3c29db935d6ec1f9bfefbd4216922&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666OJUH4NS%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040408Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDidAK6Ul5m6V5Z2%2FDKvJCkaMhVDARb3TRSn4bA%2BhJQkwIgIn%2FSK4EjxlGUZ6sGR2uoYfjpE2W2hb7AWdZbfGZHq6sqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDD3OQ4vlway2eHNh9ircA2Q7oOGmDazpyHzqt0PSLyG35lYJaYax8Ab%2FSZinrpHr8K5pIaTfQ3J5%2BQJnz7S4WwyUF3AK58orYBiedKoV5yukxDU%2BsFBIL1sEEc5Yp4ySZwrjUp55CBOikeSeirz3iZr%2FbcZxVUukEVaUbfgA%2FGaQZKdlNtuwJs7Xub%2B%2BaulxriD1cEj8VA6le6e55rEQXIx5JlF2dXvnfGxrxfBSpJH3ED4S7qSatUuG20wKvKs%2Fni%2Bb%2FdHlC%2Bi0f%2FAj4S%2B91HINT7g7RO4bVHbLbsNJs79KYtlF8HN1JQSwJ3QRW4OE5%2FD%2F6AtEUOof5xdilGIYwGU4ki4BON8LhDSiCzuiv%2FW0GzlfQfpdLpCYJ4AuiPa7vrxmLj%2FyQC0yyhhmbf7QY8a9IlA%2F13Cd3%2Boin5m3FbsLJDNqkWeCJKj0fgeSId6aSyXK82gQYTvK2WdZMpPITLmEgAW81WTNO9GWwq2nnk5x68ZXLbqP2ZIIV%2FxGs3Xmr6jJ9qx%2FSi1VuTyWDp1yOraJymLdti%2FYh5KpRi159nn39%2F%2FcnpRW4FeGbmb7DnK7ZFBi0cA%2BXaLpgA4vNBBAwb0kbiBqU1gDualtisBZeXSlUVJ8TmuzN3MQK2IIHyasCi58eVSxZG6LSkN%2BMPSD2ckGOqUBtWFfhZKFbfmN1uhrO8dItRbkcZiwGX2aKrHstN5vGsjawIMimwwpeN9S48DMt6olnnhSWb7K%2F3GF4HD%2FuwclRxrSy5Lnztytu%2Fp%2BHm1MbFgNyTQaLacQjsGk%2BhFzslEgRlgUjBR6BofLmbAVI%2FDYq82DMXn%2BO%2F5qQffGGy8k6LHjLk0OyXMN3%2BS86fR1lRG0TImvQO0vkNBmhawH%2B%2FOOCrLTqN0%2F&X-Amz-Signature=32d8ef4feec10f4c3fda06cb6dd03abb17509471a8c6a8bd10ec03e9b8a75bf4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH4S6HUV%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDoPaLxtrD8%2Fd2jamsKEu%2Fc%2FlYezjTAHiR3y89TbENQ%2FAiBuMIfoIw823gkDQlFZds0EWy9GtYIZB7luQ1JU8YWiVSqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3xDQZbB8JObaRAyBKtwDqKvbEAXsCoc9v4MavMG8R0uy12xPtDaVvBSjMbd3ixkxo65WdFCmpBqAMLBHPMaSrUSzbER%2BXj9r0X6f8H4U7u16lEGZS%2BUEsYJcx5z8%2FYZeMv3D%2BTnjHjgfrh%2F9elHUjRGxSf02jfofzM52fEr9VTjkFHFXcrgbQszBAYOEDMSDtU9BqOZaIL6AtQz1xF%2B%2Bc8tDLrOxsdw575ynOradyRccxNPPlgAlb0Ep6vRwWo1VtTaoBdbMljsi5JQH1iyzHSOmbDQJ%2FT%2Fhgr6CBNAegzueqlkgnqDrBm%2FsOaxKHPpERID2Q5ProduVrtRwHF1ePd0EcGMBfT6HuUQ5iyvIFLzlVcIC4gBYp%2BbJiAjS%2BkrCsFEJW36pgaOleH0%2FJ9aCvFpA%2BRYroRgaH5lLX4pquRNKsfwOKcnTVgugkq4Xoumrb8jllndNuSM1lUJHctOhnyagbouCk%2B0ks73xKft5ykQOmF%2BzgWqNZ0%2BfLDuxUmXZidS4CK3cb%2FyybbCfsZkPLuGD%2BXrVWKtR2P0nHgcAchAeDjDnY2Sqe4K8JQNDe1WDhWszaj%2FgfV6U3OtKJ1g0tujV87GIKSpGNlKZ8ZEvYwhB7ZbnNg0wjPE0pw2%2FuMWXVnWOAictxbkEhb0wqYPZyQY6pgETu%2BjDJ9LKrHCAjIoxBhptPc3kjcpmpZ6MTYdspO%2FC7E4WQhS6xvePEbuLFqpybT9vPNdWVs0x2eUnetli9imhyLnQbWJ6hIoc57at5FiSelo24OMkW4XUHqqyiWiIzlSfTcxlG6Ly5MNoPi9H5gHMkE5KWxFj5G5p6vnjb5q2J2VMYtBCp0XePRkh6JhJco8RpLB7yIFOHRO%2Fek3w%2FUwoi9LBjOde&X-Amz-Signature=6f1a8bef685f20a3e40914b37013dab22128c5584d4b848d0493eda1c39c2d63&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH4S6HUV%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDoPaLxtrD8%2Fd2jamsKEu%2Fc%2FlYezjTAHiR3y89TbENQ%2FAiBuMIfoIw823gkDQlFZds0EWy9GtYIZB7luQ1JU8YWiVSqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3xDQZbB8JObaRAyBKtwDqKvbEAXsCoc9v4MavMG8R0uy12xPtDaVvBSjMbd3ixkxo65WdFCmpBqAMLBHPMaSrUSzbER%2BXj9r0X6f8H4U7u16lEGZS%2BUEsYJcx5z8%2FYZeMv3D%2BTnjHjgfrh%2F9elHUjRGxSf02jfofzM52fEr9VTjkFHFXcrgbQszBAYOEDMSDtU9BqOZaIL6AtQz1xF%2B%2Bc8tDLrOxsdw575ynOradyRccxNPPlgAlb0Ep6vRwWo1VtTaoBdbMljsi5JQH1iyzHSOmbDQJ%2FT%2Fhgr6CBNAegzueqlkgnqDrBm%2FsOaxKHPpERID2Q5ProduVrtRwHF1ePd0EcGMBfT6HuUQ5iyvIFLzlVcIC4gBYp%2BbJiAjS%2BkrCsFEJW36pgaOleH0%2FJ9aCvFpA%2BRYroRgaH5lLX4pquRNKsfwOKcnTVgugkq4Xoumrb8jllndNuSM1lUJHctOhnyagbouCk%2B0ks73xKft5ykQOmF%2BzgWqNZ0%2BfLDuxUmXZidS4CK3cb%2FyybbCfsZkPLuGD%2BXrVWKtR2P0nHgcAchAeDjDnY2Sqe4K8JQNDe1WDhWszaj%2FgfV6U3OtKJ1g0tujV87GIKSpGNlKZ8ZEvYwhB7ZbnNg0wjPE0pw2%2FuMWXVnWOAictxbkEhb0wqYPZyQY6pgETu%2BjDJ9LKrHCAjIoxBhptPc3kjcpmpZ6MTYdspO%2FC7E4WQhS6xvePEbuLFqpybT9vPNdWVs0x2eUnetli9imhyLnQbWJ6hIoc57at5FiSelo24OMkW4XUHqqyiWiIzlSfTcxlG6Ly5MNoPi9H5gHMkE5KWxFj5G5p6vnjb5q2J2VMYtBCp0XePRkh6JhJco8RpLB7yIFOHRO%2Fek3w%2FUwoi9LBjOde&X-Amz-Signature=646eeb9df23983cf59d6dece5561a05d5bd8f601a4650bcecf1f96612e886e76&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WH4S6HUV%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDoPaLxtrD8%2Fd2jamsKEu%2Fc%2FlYezjTAHiR3y89TbENQ%2FAiBuMIfoIw823gkDQlFZds0EWy9GtYIZB7luQ1JU8YWiVSqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3xDQZbB8JObaRAyBKtwDqKvbEAXsCoc9v4MavMG8R0uy12xPtDaVvBSjMbd3ixkxo65WdFCmpBqAMLBHPMaSrUSzbER%2BXj9r0X6f8H4U7u16lEGZS%2BUEsYJcx5z8%2FYZeMv3D%2BTnjHjgfrh%2F9elHUjRGxSf02jfofzM52fEr9VTjkFHFXcrgbQszBAYOEDMSDtU9BqOZaIL6AtQz1xF%2B%2Bc8tDLrOxsdw575ynOradyRccxNPPlgAlb0Ep6vRwWo1VtTaoBdbMljsi5JQH1iyzHSOmbDQJ%2FT%2Fhgr6CBNAegzueqlkgnqDrBm%2FsOaxKHPpERID2Q5ProduVrtRwHF1ePd0EcGMBfT6HuUQ5iyvIFLzlVcIC4gBYp%2BbJiAjS%2BkrCsFEJW36pgaOleH0%2FJ9aCvFpA%2BRYroRgaH5lLX4pquRNKsfwOKcnTVgugkq4Xoumrb8jllndNuSM1lUJHctOhnyagbouCk%2B0ks73xKft5ykQOmF%2BzgWqNZ0%2BfLDuxUmXZidS4CK3cb%2FyybbCfsZkPLuGD%2BXrVWKtR2P0nHgcAchAeDjDnY2Sqe4K8JQNDe1WDhWszaj%2FgfV6U3OtKJ1g0tujV87GIKSpGNlKZ8ZEvYwhB7ZbnNg0wjPE0pw2%2FuMWXVnWOAictxbkEhb0wqYPZyQY6pgETu%2BjDJ9LKrHCAjIoxBhptPc3kjcpmpZ6MTYdspO%2FC7E4WQhS6xvePEbuLFqpybT9vPNdWVs0x2eUnetli9imhyLnQbWJ6hIoc57at5FiSelo24OMkW4XUHqqyiWiIzlSfTcxlG6Ly5MNoPi9H5gHMkE5KWxFj5G5p6vnjb5q2J2VMYtBCp0XePRkh6JhJco8RpLB7yIFOHRO%2Fek3w%2FUwoi9LBjOde&X-Amz-Signature=c179401c60b752c22065dbbb7170f5a4df8391ff6936a4e3f2ddcaf8dab6cb05&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q27TDSST%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFuPaV0sTbd9G4IIrQd0fL0cgAi462wVruN2YscBq99tAiEA3nedaNKhsMNfmBM3LQnuByL%2BuYj7z4ZOcNVRnwGXTLkqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG2Wvi%2Fa74U2K4dOVSrcA%2FJLgPzs1n3VzpDAZ7gcFwpq4jaQsqCKTB%2BmoMh93NTPDQJhqTYq%2B%2F2IIr72%2FOi475Bg%2FHrDj2ipzfzOtFB8cjfsTsgq%2BLzwwxrXuGNrB4zz2nn4O0UN5yFgQ%2FUQEx%2FcLcXfUkZg7%2BPjOifC7qQwbScGOvuy9xNzYDf%2BjfD9SqAklfWFiybwbvkllZj8bMcur%2FhFZN5qvnCD3nl61X4f5elmKSf7Avo3wxDt23kmSbqmdD21fKWsY6yWX9l8WuKIRN4Jx3KQ4I6grjHD%2ByLp0nXYTq7HuHP0Zz8AFUCsINJ%2Fw3TGAXrgkWD2Gtpb4VoyzEL1YSPB0RRqcovx3Cv5gB3W%2BmymzKIo0xAm%2B73W1eJKzWFi%2Fk3j826jd8vZBD7eDSO1C7AMEYpyjOcd8S8nT%2FXUaBFOWKAWIVj5luxA%2ByfyBZ2UXDVpVetsy%2BwyhI54XaQmmibUsrZ0O2VdvTIo9bUi1plWWqMM2XukhLBipsm2M2P0P3V3zoskIfs2p3olR%2BpDy6lkNYfMCcvBsfqg4V%2BEEnpJXaFsLQ3BWnCWK3%2F%2F0Ave8O8VlDpGJF%2F%2B%2FOIgn2Nfovy2jQ1P0kQIJbBY%2BnKTIX71otaACGAhoEUGqwRFdaeS9sXWQZXIp8GgMOCC2ckGOqUB8FwyLh4F9x3C%2BTduEW0iFpEfX%2F1pdO9hKTVSNDSp50W3HtEPPj9Ch2G88buYyoO4QmBkew7vJaXTi3g5AqAyQg2%2FVdoGlUBOlEqojw4LQI0NEP3bg9honYQZJGOQ7RFvz4xlYQnI87Qkwk4Mu6E7QB8dUAhX4UVEQSqO9fPa1ppFMF%2Fai9e22IJ1F2x%2BBU5wqxxmBgQ4utp1Oa7gTFhTaU5nDSFb&X-Amz-Signature=ceb8f4ec3fcd3365931fe2aea4f5cbc9a3eebff6df725730917c3e1a8f7bbc64&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q27TDSST%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFuPaV0sTbd9G4IIrQd0fL0cgAi462wVruN2YscBq99tAiEA3nedaNKhsMNfmBM3LQnuByL%2BuYj7z4ZOcNVRnwGXTLkqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG2Wvi%2Fa74U2K4dOVSrcA%2FJLgPzs1n3VzpDAZ7gcFwpq4jaQsqCKTB%2BmoMh93NTPDQJhqTYq%2B%2F2IIr72%2FOi475Bg%2FHrDj2ipzfzOtFB8cjfsTsgq%2BLzwwxrXuGNrB4zz2nn4O0UN5yFgQ%2FUQEx%2FcLcXfUkZg7%2BPjOifC7qQwbScGOvuy9xNzYDf%2BjfD9SqAklfWFiybwbvkllZj8bMcur%2FhFZN5qvnCD3nl61X4f5elmKSf7Avo3wxDt23kmSbqmdD21fKWsY6yWX9l8WuKIRN4Jx3KQ4I6grjHD%2ByLp0nXYTq7HuHP0Zz8AFUCsINJ%2Fw3TGAXrgkWD2Gtpb4VoyzEL1YSPB0RRqcovx3Cv5gB3W%2BmymzKIo0xAm%2B73W1eJKzWFi%2Fk3j826jd8vZBD7eDSO1C7AMEYpyjOcd8S8nT%2FXUaBFOWKAWIVj5luxA%2ByfyBZ2UXDVpVetsy%2BwyhI54XaQmmibUsrZ0O2VdvTIo9bUi1plWWqMM2XukhLBipsm2M2P0P3V3zoskIfs2p3olR%2BpDy6lkNYfMCcvBsfqg4V%2BEEnpJXaFsLQ3BWnCWK3%2F%2F0Ave8O8VlDpGJF%2F%2B%2FOIgn2Nfovy2jQ1P0kQIJbBY%2BnKTIX71otaACGAhoEUGqwRFdaeS9sXWQZXIp8GgMOCC2ckGOqUB8FwyLh4F9x3C%2BTduEW0iFpEfX%2F1pdO9hKTVSNDSp50W3HtEPPj9Ch2G88buYyoO4QmBkew7vJaXTi3g5AqAyQg2%2FVdoGlUBOlEqojw4LQI0NEP3bg9honYQZJGOQ7RFvz4xlYQnI87Qkwk4Mu6E7QB8dUAhX4UVEQSqO9fPa1ppFMF%2Fai9e22IJ1F2x%2BBU5wqxxmBgQ4utp1Oa7gTFhTaU5nDSFb&X-Amz-Signature=22c807cb8f4dfdaab23f694ada0af959f1424ca4ec99005cdc274c5bba29cb96&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q27TDSST%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFuPaV0sTbd9G4IIrQd0fL0cgAi462wVruN2YscBq99tAiEA3nedaNKhsMNfmBM3LQnuByL%2BuYj7z4ZOcNVRnwGXTLkqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG2Wvi%2Fa74U2K4dOVSrcA%2FJLgPzs1n3VzpDAZ7gcFwpq4jaQsqCKTB%2BmoMh93NTPDQJhqTYq%2B%2F2IIr72%2FOi475Bg%2FHrDj2ipzfzOtFB8cjfsTsgq%2BLzwwxrXuGNrB4zz2nn4O0UN5yFgQ%2FUQEx%2FcLcXfUkZg7%2BPjOifC7qQwbScGOvuy9xNzYDf%2BjfD9SqAklfWFiybwbvkllZj8bMcur%2FhFZN5qvnCD3nl61X4f5elmKSf7Avo3wxDt23kmSbqmdD21fKWsY6yWX9l8WuKIRN4Jx3KQ4I6grjHD%2ByLp0nXYTq7HuHP0Zz8AFUCsINJ%2Fw3TGAXrgkWD2Gtpb4VoyzEL1YSPB0RRqcovx3Cv5gB3W%2BmymzKIo0xAm%2B73W1eJKzWFi%2Fk3j826jd8vZBD7eDSO1C7AMEYpyjOcd8S8nT%2FXUaBFOWKAWIVj5luxA%2ByfyBZ2UXDVpVetsy%2BwyhI54XaQmmibUsrZ0O2VdvTIo9bUi1plWWqMM2XukhLBipsm2M2P0P3V3zoskIfs2p3olR%2BpDy6lkNYfMCcvBsfqg4V%2BEEnpJXaFsLQ3BWnCWK3%2F%2F0Ave8O8VlDpGJF%2F%2B%2FOIgn2Nfovy2jQ1P0kQIJbBY%2BnKTIX71otaACGAhoEUGqwRFdaeS9sXWQZXIp8GgMOCC2ckGOqUB8FwyLh4F9x3C%2BTduEW0iFpEfX%2F1pdO9hKTVSNDSp50W3HtEPPj9Ch2G88buYyoO4QmBkew7vJaXTi3g5AqAyQg2%2FVdoGlUBOlEqojw4LQI0NEP3bg9honYQZJGOQ7RFvz4xlYQnI87Qkwk4Mu6E7QB8dUAhX4UVEQSqO9fPa1ppFMF%2Fai9e22IJ1F2x%2BBU5wqxxmBgQ4utp1Oa7gTFhTaU5nDSFb&X-Amz-Signature=0857d7ed8926302ffa84e0cd282dcff07bb123fd705cbfc7eeb4705923152310&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Q27TDSST%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIFuPaV0sTbd9G4IIrQd0fL0cgAi462wVruN2YscBq99tAiEA3nedaNKhsMNfmBM3LQnuByL%2BuYj7z4ZOcNVRnwGXTLkqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG2Wvi%2Fa74U2K4dOVSrcA%2FJLgPzs1n3VzpDAZ7gcFwpq4jaQsqCKTB%2BmoMh93NTPDQJhqTYq%2B%2F2IIr72%2FOi475Bg%2FHrDj2ipzfzOtFB8cjfsTsgq%2BLzwwxrXuGNrB4zz2nn4O0UN5yFgQ%2FUQEx%2FcLcXfUkZg7%2BPjOifC7qQwbScGOvuy9xNzYDf%2BjfD9SqAklfWFiybwbvkllZj8bMcur%2FhFZN5qvnCD3nl61X4f5elmKSf7Avo3wxDt23kmSbqmdD21fKWsY6yWX9l8WuKIRN4Jx3KQ4I6grjHD%2ByLp0nXYTq7HuHP0Zz8AFUCsINJ%2Fw3TGAXrgkWD2Gtpb4VoyzEL1YSPB0RRqcovx3Cv5gB3W%2BmymzKIo0xAm%2B73W1eJKzWFi%2Fk3j826jd8vZBD7eDSO1C7AMEYpyjOcd8S8nT%2FXUaBFOWKAWIVj5luxA%2ByfyBZ2UXDVpVetsy%2BwyhI54XaQmmibUsrZ0O2VdvTIo9bUi1plWWqMM2XukhLBipsm2M2P0P3V3zoskIfs2p3olR%2BpDy6lkNYfMCcvBsfqg4V%2BEEnpJXaFsLQ3BWnCWK3%2F%2F0Ave8O8VlDpGJF%2F%2B%2FOIgn2Nfovy2jQ1P0kQIJbBY%2BnKTIX71otaACGAhoEUGqwRFdaeS9sXWQZXIp8GgMOCC2ckGOqUB8FwyLh4F9x3C%2BTduEW0iFpEfX%2F1pdO9hKTVSNDSp50W3HtEPPj9Ch2G88buYyoO4QmBkew7vJaXTi3g5AqAyQg2%2FVdoGlUBOlEqojw4LQI0NEP3bg9honYQZJGOQ7RFvz4xlYQnI87Qkwk4Mu6E7QB8dUAhX4UVEQSqO9fPa1ppFMF%2Fai9e22IJ1F2x%2BBU5wqxxmBgQ4utp1Oa7gTFhTaU5nDSFb&X-Amz-Signature=1fbacdc7074d9fd478c805e256ed25e6f0e4e5f4e9f57e2a7099261fb036ccd9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQOZNRGS%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDBky%2FgAgiqxk2kLFP%2BZ9tLVxGoyISdSKJB6%2FF90zxYsAiBmTXkGoS%2BCBMxtV7GIkyPM90ztmJ8cxIZ8EZ1ypyJ4nCqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMyUZAoywwaFw9xuKjKtwDYa2pHIHR0umSg67w1XwvHGJeSbJFI%2Bi5w1LMTpLklOgRh0MkYkBMcRQBiZL0OWoWuKBiTG8jUZB7j8gfN30INmc4dfDuS%2BgYrHzl%2BsMj3GvHS%2B6P%2FyOC57x5buIjkBLyjyJPri%2BqURjP8RdwbPZ6xExtcGMwhOwLwDhXOxgyLtR8UAifLOx3Oi3UI9IFHZzaPIyDNe%2FZu6f78U44dJBdSrQX2O49VkRTMSvZrVH5bTZHMEzx6c%2FoRChyzDWgbR9lC7beVmS68%2FtgEkTRKUq%2BoZbC3DXT%2Bv84r56oBZWSugsn%2BEDx5hMIuxIUj1dSGPv278t7%2BL4U%2B6IU2ulph9wbQqeHw5VEYvTZVYUIWOBOf%2FaEJiBFlNNXBNeXinTQnro91umtC8kHQ6LtUSdDyxxs1DJqtHCC3h4bkt9znBfgcg8ABbKiU1tAx5fFmo%2F%2FuldrbCrGquX7h%2BT9dgOPi5nLro4AukB%2Fz75iM7hEhILv7hrsQD6y9foK52fRSqPnNBHNXQfDVpr4hmuO%2BZbXxN9l45a71tEWRC4v00J183v4t26F2H2Jpp04CiqSU2FqGPAE0%2B2HYm%2BTzG9X%2FDOKoqA6OdoecEvZVRyLLmXYwHbRhC74pXJ1FOXl2cdFWyEwl4PZyQY6pgGMRiI80Yokz11sDKeOx1iBNbp4z2%2F6Z%2BXxUd55N89WhPTKmE4YJ3SUH8h9pejOBXwibqt%2F%2BD5A2QHhMN1Xy8kEYowrl%2FkbTLqeLZhvHRJkw1Biiw6d2N7XJmS1titu%2BOqut44YRp2RFPhO8G%2F1nEknb%2FUo2ollTD%2BtKFVtC5%2B%2FnVMzS21%2Besz%2B64ecgkVNp2iP0Zrk5SFmZHF8%2FI7cLOfOneC5PZTX&X-Amz-Signature=633a7076a5ef0b1443e52a6cfd3aaf099caaebd8a7e59b4ead8dc0e29e8aae5d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQOZNRGS%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDBky%2FgAgiqxk2kLFP%2BZ9tLVxGoyISdSKJB6%2FF90zxYsAiBmTXkGoS%2BCBMxtV7GIkyPM90ztmJ8cxIZ8EZ1ypyJ4nCqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMyUZAoywwaFw9xuKjKtwDYa2pHIHR0umSg67w1XwvHGJeSbJFI%2Bi5w1LMTpLklOgRh0MkYkBMcRQBiZL0OWoWuKBiTG8jUZB7j8gfN30INmc4dfDuS%2BgYrHzl%2BsMj3GvHS%2B6P%2FyOC57x5buIjkBLyjyJPri%2BqURjP8RdwbPZ6xExtcGMwhOwLwDhXOxgyLtR8UAifLOx3Oi3UI9IFHZzaPIyDNe%2FZu6f78U44dJBdSrQX2O49VkRTMSvZrVH5bTZHMEzx6c%2FoRChyzDWgbR9lC7beVmS68%2FtgEkTRKUq%2BoZbC3DXT%2Bv84r56oBZWSugsn%2BEDx5hMIuxIUj1dSGPv278t7%2BL4U%2B6IU2ulph9wbQqeHw5VEYvTZVYUIWOBOf%2FaEJiBFlNNXBNeXinTQnro91umtC8kHQ6LtUSdDyxxs1DJqtHCC3h4bkt9znBfgcg8ABbKiU1tAx5fFmo%2F%2FuldrbCrGquX7h%2BT9dgOPi5nLro4AukB%2Fz75iM7hEhILv7hrsQD6y9foK52fRSqPnNBHNXQfDVpr4hmuO%2BZbXxN9l45a71tEWRC4v00J183v4t26F2H2Jpp04CiqSU2FqGPAE0%2B2HYm%2BTzG9X%2FDOKoqA6OdoecEvZVRyLLmXYwHbRhC74pXJ1FOXl2cdFWyEwl4PZyQY6pgGMRiI80Yokz11sDKeOx1iBNbp4z2%2F6Z%2BXxUd55N89WhPTKmE4YJ3SUH8h9pejOBXwibqt%2F%2BD5A2QHhMN1Xy8kEYowrl%2FkbTLqeLZhvHRJkw1Biiw6d2N7XJmS1titu%2BOqut44YRp2RFPhO8G%2F1nEknb%2FUo2ollTD%2BtKFVtC5%2B%2FnVMzS21%2Besz%2B64ecgkVNp2iP0Zrk5SFmZHF8%2FI7cLOfOneC5PZTX&X-Amz-Signature=100c9200e6d7e0558fc2244d12708095f37b557576639e65d5f6f48f0c2c693c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQOZNRGS%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDBky%2FgAgiqxk2kLFP%2BZ9tLVxGoyISdSKJB6%2FF90zxYsAiBmTXkGoS%2BCBMxtV7GIkyPM90ztmJ8cxIZ8EZ1ypyJ4nCqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMyUZAoywwaFw9xuKjKtwDYa2pHIHR0umSg67w1XwvHGJeSbJFI%2Bi5w1LMTpLklOgRh0MkYkBMcRQBiZL0OWoWuKBiTG8jUZB7j8gfN30INmc4dfDuS%2BgYrHzl%2BsMj3GvHS%2B6P%2FyOC57x5buIjkBLyjyJPri%2BqURjP8RdwbPZ6xExtcGMwhOwLwDhXOxgyLtR8UAifLOx3Oi3UI9IFHZzaPIyDNe%2FZu6f78U44dJBdSrQX2O49VkRTMSvZrVH5bTZHMEzx6c%2FoRChyzDWgbR9lC7beVmS68%2FtgEkTRKUq%2BoZbC3DXT%2Bv84r56oBZWSugsn%2BEDx5hMIuxIUj1dSGPv278t7%2BL4U%2B6IU2ulph9wbQqeHw5VEYvTZVYUIWOBOf%2FaEJiBFlNNXBNeXinTQnro91umtC8kHQ6LtUSdDyxxs1DJqtHCC3h4bkt9znBfgcg8ABbKiU1tAx5fFmo%2F%2FuldrbCrGquX7h%2BT9dgOPi5nLro4AukB%2Fz75iM7hEhILv7hrsQD6y9foK52fRSqPnNBHNXQfDVpr4hmuO%2BZbXxN9l45a71tEWRC4v00J183v4t26F2H2Jpp04CiqSU2FqGPAE0%2B2HYm%2BTzG9X%2FDOKoqA6OdoecEvZVRyLLmXYwHbRhC74pXJ1FOXl2cdFWyEwl4PZyQY6pgGMRiI80Yokz11sDKeOx1iBNbp4z2%2F6Z%2BXxUd55N89WhPTKmE4YJ3SUH8h9pejOBXwibqt%2F%2BD5A2QHhMN1Xy8kEYowrl%2FkbTLqeLZhvHRJkw1Biiw6d2N7XJmS1titu%2BOqut44YRp2RFPhO8G%2F1nEknb%2FUo2ollTD%2BtKFVtC5%2B%2FnVMzS21%2Besz%2B64ecgkVNp2iP0Zrk5SFmZHF8%2FI7cLOfOneC5PZTX&X-Amz-Signature=4df83be6cf9911a6741ef351247096ae09702a42770727c7b99218834533ec05&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQOZNRGS%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIDBky%2FgAgiqxk2kLFP%2BZ9tLVxGoyISdSKJB6%2FF90zxYsAiBmTXkGoS%2BCBMxtV7GIkyPM90ztmJ8cxIZ8EZ1ypyJ4nCqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMyUZAoywwaFw9xuKjKtwDYa2pHIHR0umSg67w1XwvHGJeSbJFI%2Bi5w1LMTpLklOgRh0MkYkBMcRQBiZL0OWoWuKBiTG8jUZB7j8gfN30INmc4dfDuS%2BgYrHzl%2BsMj3GvHS%2B6P%2FyOC57x5buIjkBLyjyJPri%2BqURjP8RdwbPZ6xExtcGMwhOwLwDhXOxgyLtR8UAifLOx3Oi3UI9IFHZzaPIyDNe%2FZu6f78U44dJBdSrQX2O49VkRTMSvZrVH5bTZHMEzx6c%2FoRChyzDWgbR9lC7beVmS68%2FtgEkTRKUq%2BoZbC3DXT%2Bv84r56oBZWSugsn%2BEDx5hMIuxIUj1dSGPv278t7%2BL4U%2B6IU2ulph9wbQqeHw5VEYvTZVYUIWOBOf%2FaEJiBFlNNXBNeXinTQnro91umtC8kHQ6LtUSdDyxxs1DJqtHCC3h4bkt9znBfgcg8ABbKiU1tAx5fFmo%2F%2FuldrbCrGquX7h%2BT9dgOPi5nLro4AukB%2Fz75iM7hEhILv7hrsQD6y9foK52fRSqPnNBHNXQfDVpr4hmuO%2BZbXxN9l45a71tEWRC4v00J183v4t26F2H2Jpp04CiqSU2FqGPAE0%2B2HYm%2BTzG9X%2FDOKoqA6OdoecEvZVRyLLmXYwHbRhC74pXJ1FOXl2cdFWyEwl4PZyQY6pgGMRiI80Yokz11sDKeOx1iBNbp4z2%2F6Z%2BXxUd55N89WhPTKmE4YJ3SUH8h9pejOBXwibqt%2F%2BD5A2QHhMN1Xy8kEYowrl%2FkbTLqeLZhvHRJkw1Biiw6d2N7XJmS1titu%2BOqut44YRp2RFPhO8G%2F1nEknb%2FUo2ollTD%2BtKFVtC5%2B%2FnVMzS21%2Besz%2B64ecgkVNp2iP0Zrk5SFmZHF8%2FI7cLOfOneC5PZTX&X-Amz-Signature=42623694af70c70321dbd1137416a649984e0c527953caba2371c4a8943cbf55&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z5QSEH7I%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBYvRrmVLf2MJw1lTy%2B18z3pHkQQgaM%2F9XAH6N6X3A6wAiA2Eo0kbXr%2FM0lrU3PdTbf9iAm733pN7AdSJdGegR72%2FiqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMjMmqnCsWS877Nu4HKtwDfZdnGPrh5s5blWjEgEpuTTfkxLmjzZ2erhrT4NXVkv9MzpMheN7b4x6TGQ2guhzcAU%2Bn3waLfkFGvb7C9mhgr2V8ZWH56%2BpTBMf7kilN0mRdlEPv0%2BhKQanRVCfc9tT7x33FZhuhYhuVJjm6HyIBNBs0%2FaI75Z%2BYc9E4xvMEwqQjp5UCvYVJm0tBnWvizXA0CV4rO%2F%2B9okrqVz8OA9O4MoRRwBV4QbyGSLxne%2FE0%2BTurYEK32FuBuNCJ0640BsmnP%2FfuPmtcQek819Qt6fH6MmkbQHySXEts5XJ5PjPJfyMVXq%2BuyCcBVCxlw72T9KMj83OttCvHxW%2BAVm3JGlIYEIm99bE52flaZg5JzidByvqZk%2BzpBwW6MiKm4qXzv0VY6YSjWGXkDw0dxBPPqhJT1Mvtxr4fDIdUzTl4AhjTzRHI%2FbTt8K%2F472JbW0OKDPRX8jxnmeBGiHw21or8sqqJx8Zh5Mk0I4zBZx4DYK3pCXi4EXmkn%2F8FH5Q7fSiIx1lyLFNP4ypxHKFe6ntozkeHSHzwIhcdY9MyqatY%2BNNQPXI7pLNubE0yj8Mh%2F2r5qjhsmkU%2B0eguRCp4Fr9aCU2m2J3Xf8eZQDFqTc5AO6QqTnnjabl1w%2FuoLydP3f0wmoPZyQY6pgGzbECa7zR94EZjyEQZhOaVC9v%2BnpRvA4ygn63jxkw%2FbDWUGrOyo49d%2FWOYSMzpCPSqn1icPUXwVR%2F%2Bd0LEnT8FbJRvFxEVVp32AHhkBzrh85HZ9BHB2s%2BDxvVEjXo0DWHzkZrdt2tbK5zmaMyOFOI4AOhrmzfGBhYd2bl1KaDtR17bjix6JCkZN%2F4RpqrycXPrS%2F5F%2Bf17UYvBi9pOVH5B3i37yn0q&X-Amz-Signature=38228a8205213e15abb14fa5aef9bca83b509736f4a2eb48d42e500ffafb0b3e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z5QSEH7I%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBYvRrmVLf2MJw1lTy%2B18z3pHkQQgaM%2F9XAH6N6X3A6wAiA2Eo0kbXr%2FM0lrU3PdTbf9iAm733pN7AdSJdGegR72%2FiqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMjMmqnCsWS877Nu4HKtwDfZdnGPrh5s5blWjEgEpuTTfkxLmjzZ2erhrT4NXVkv9MzpMheN7b4x6TGQ2guhzcAU%2Bn3waLfkFGvb7C9mhgr2V8ZWH56%2BpTBMf7kilN0mRdlEPv0%2BhKQanRVCfc9tT7x33FZhuhYhuVJjm6HyIBNBs0%2FaI75Z%2BYc9E4xvMEwqQjp5UCvYVJm0tBnWvizXA0CV4rO%2F%2B9okrqVz8OA9O4MoRRwBV4QbyGSLxne%2FE0%2BTurYEK32FuBuNCJ0640BsmnP%2FfuPmtcQek819Qt6fH6MmkbQHySXEts5XJ5PjPJfyMVXq%2BuyCcBVCxlw72T9KMj83OttCvHxW%2BAVm3JGlIYEIm99bE52flaZg5JzidByvqZk%2BzpBwW6MiKm4qXzv0VY6YSjWGXkDw0dxBPPqhJT1Mvtxr4fDIdUzTl4AhjTzRHI%2FbTt8K%2F472JbW0OKDPRX8jxnmeBGiHw21or8sqqJx8Zh5Mk0I4zBZx4DYK3pCXi4EXmkn%2F8FH5Q7fSiIx1lyLFNP4ypxHKFe6ntozkeHSHzwIhcdY9MyqatY%2BNNQPXI7pLNubE0yj8Mh%2F2r5qjhsmkU%2B0eguRCp4Fr9aCU2m2J3Xf8eZQDFqTc5AO6QqTnnjabl1w%2FuoLydP3f0wmoPZyQY6pgGzbECa7zR94EZjyEQZhOaVC9v%2BnpRvA4ygn63jxkw%2FbDWUGrOyo49d%2FWOYSMzpCPSqn1icPUXwVR%2F%2Bd0LEnT8FbJRvFxEVVp32AHhkBzrh85HZ9BHB2s%2BDxvVEjXo0DWHzkZrdt2tbK5zmaMyOFOI4AOhrmzfGBhYd2bl1KaDtR17bjix6JCkZN%2F4RpqrycXPrS%2F5F%2Bf17UYvBi9pOVH5B3i37yn0q&X-Amz-Signature=008f8575d5ba94a13ee0feb700b8d88a1fa055b9e907f3717dd177019b2750be&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z5QSEH7I%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBYvRrmVLf2MJw1lTy%2B18z3pHkQQgaM%2F9XAH6N6X3A6wAiA2Eo0kbXr%2FM0lrU3PdTbf9iAm733pN7AdSJdGegR72%2FiqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMjMmqnCsWS877Nu4HKtwDfZdnGPrh5s5blWjEgEpuTTfkxLmjzZ2erhrT4NXVkv9MzpMheN7b4x6TGQ2guhzcAU%2Bn3waLfkFGvb7C9mhgr2V8ZWH56%2BpTBMf7kilN0mRdlEPv0%2BhKQanRVCfc9tT7x33FZhuhYhuVJjm6HyIBNBs0%2FaI75Z%2BYc9E4xvMEwqQjp5UCvYVJm0tBnWvizXA0CV4rO%2F%2B9okrqVz8OA9O4MoRRwBV4QbyGSLxne%2FE0%2BTurYEK32FuBuNCJ0640BsmnP%2FfuPmtcQek819Qt6fH6MmkbQHySXEts5XJ5PjPJfyMVXq%2BuyCcBVCxlw72T9KMj83OttCvHxW%2BAVm3JGlIYEIm99bE52flaZg5JzidByvqZk%2BzpBwW6MiKm4qXzv0VY6YSjWGXkDw0dxBPPqhJT1Mvtxr4fDIdUzTl4AhjTzRHI%2FbTt8K%2F472JbW0OKDPRX8jxnmeBGiHw21or8sqqJx8Zh5Mk0I4zBZx4DYK3pCXi4EXmkn%2F8FH5Q7fSiIx1lyLFNP4ypxHKFe6ntozkeHSHzwIhcdY9MyqatY%2BNNQPXI7pLNubE0yj8Mh%2F2r5qjhsmkU%2B0eguRCp4Fr9aCU2m2J3Xf8eZQDFqTc5AO6QqTnnjabl1w%2FuoLydP3f0wmoPZyQY6pgGzbECa7zR94EZjyEQZhOaVC9v%2BnpRvA4ygn63jxkw%2FbDWUGrOyo49d%2FWOYSMzpCPSqn1icPUXwVR%2F%2Bd0LEnT8FbJRvFxEVVp32AHhkBzrh85HZ9BHB2s%2BDxvVEjXo0DWHzkZrdt2tbK5zmaMyOFOI4AOhrmzfGBhYd2bl1KaDtR17bjix6JCkZN%2F4RpqrycXPrS%2F5F%2Bf17UYvBi9pOVH5B3i37yn0q&X-Amz-Signature=3dd5506de6600231c7e9305e90f5b9e5b22760078eb5e0b80df1eedef948854a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RUI5WCG6%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040411Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEZm8l6X3ecYBYYBMM%2Fi%2BQjBY%2FI2jo669Xs7SXWFraKAAiBjfCweJ62kXIVcBO6526BF6BKy%2BVB4JUKZ5yv%2B7RZPeSqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMJTlYAC9uerF2a7lCKtwDzWnCwxhGeYlBtJjgdxznAuDOVVdzV5FMAU5VQXRVT7jYwPv0Rs0gn7RUyAK8RJ1Wlu2pCbyJBYTEWACZdg5GLBzrvTyQdw%2BxPH5IFk5uM9TgVDDfC%2F%2BfqHcIlihxAA8ADIrmJ6fhONm779dwTjftBkHU7JroVqiJ9x4kQjHKaneihKLqtbobp60sEeRjlj4wcRkDyP9gNA9pTHWoTebXzBTtfVkLFV4EspuXEpsfxI9hmTxfC3s65Iiv3bKGNwXlMxeAYSPjCUwiye0mD9TRUfZ57KrDo6tJg%2BftgZPLew1wjVf7a6zx9Mj2wiEGUBOQ0nTipTHSsliQAFhuhGqwMxORXuepdJ4mN%2FxRO16ugJPWP9crlfH2Zc6yanU5otgNXwSAiTLFsHDhCjb%2B4H57jOyZEz24m9terZKbqXQgMKH9o0TtIvQk%2BMoO3DhkeYgXCi6ew%2FoBoa3bPyAGnbGyZ2wU%2FnYSPj52VyV6Ftiwh%2FLuiB4np0WGhowx%2FPzEuaJYm9rH7Du%2Fd38p65GusPXZLophX73rP0lo9LSSb%2FqOuzYcv%2BDz%2FQaJEz2XL9J0ulKg%2BYzL2KHbEeTzcbTwrKO8dT%2F8p4%2FnsgYpATLct2K0vbTb%2BeqTWsp8rHQ7bkcws4PZyQY6pgGd3W8cDjLAuUsutdiCDVGetxcl5TZteYxN%2Bc4oZelLgKfCe30gzM3pq3R2lNcYECbVyNp%2FUvhqUSdU%2FXlMpoPpofLRWvlCXXn1n2xfdnRZ%2FblKHhlwK3%2BKvXvLZv9n8PsjwcCBrwuOca5FZEVYgveVSSOmYm4Z9YWHOPm%2FzeDWJihpTDyKAsNXVmOfSG9FvN9zT2PxLe6HxVQemn4UywbFaMJuIOUO&X-Amz-Signature=8df853c8fc1aec70bb32c1101fdf4b59e502f1fec1126c3afa7178cd0508c3f8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RUI5WCG6%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040411Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEZm8l6X3ecYBYYBMM%2Fi%2BQjBY%2FI2jo669Xs7SXWFraKAAiBjfCweJ62kXIVcBO6526BF6BKy%2BVB4JUKZ5yv%2B7RZPeSqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMJTlYAC9uerF2a7lCKtwDzWnCwxhGeYlBtJjgdxznAuDOVVdzV5FMAU5VQXRVT7jYwPv0Rs0gn7RUyAK8RJ1Wlu2pCbyJBYTEWACZdg5GLBzrvTyQdw%2BxPH5IFk5uM9TgVDDfC%2F%2BfqHcIlihxAA8ADIrmJ6fhONm779dwTjftBkHU7JroVqiJ9x4kQjHKaneihKLqtbobp60sEeRjlj4wcRkDyP9gNA9pTHWoTebXzBTtfVkLFV4EspuXEpsfxI9hmTxfC3s65Iiv3bKGNwXlMxeAYSPjCUwiye0mD9TRUfZ57KrDo6tJg%2BftgZPLew1wjVf7a6zx9Mj2wiEGUBOQ0nTipTHSsliQAFhuhGqwMxORXuepdJ4mN%2FxRO16ugJPWP9crlfH2Zc6yanU5otgNXwSAiTLFsHDhCjb%2B4H57jOyZEz24m9terZKbqXQgMKH9o0TtIvQk%2BMoO3DhkeYgXCi6ew%2FoBoa3bPyAGnbGyZ2wU%2FnYSPj52VyV6Ftiwh%2FLuiB4np0WGhowx%2FPzEuaJYm9rH7Du%2Fd38p65GusPXZLophX73rP0lo9LSSb%2FqOuzYcv%2BDz%2FQaJEz2XL9J0ulKg%2BYzL2KHbEeTzcbTwrKO8dT%2F8p4%2FnsgYpATLct2K0vbTb%2BeqTWsp8rHQ7bkcws4PZyQY6pgGd3W8cDjLAuUsutdiCDVGetxcl5TZteYxN%2Bc4oZelLgKfCe30gzM3pq3R2lNcYECbVyNp%2FUvhqUSdU%2FXlMpoPpofLRWvlCXXn1n2xfdnRZ%2FblKHhlwK3%2BKvXvLZv9n8PsjwcCBrwuOca5FZEVYgveVSSOmYm4Z9YWHOPm%2FzeDWJihpTDyKAsNXVmOfSG9FvN9zT2PxLe6HxVQemn4UywbFaMJuIOUO&X-Amz-Signature=42f0b04857bfca7050c7028c66f042861ea52dbbf97e7d5d9434f5fd3a1c5591&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJTQBRZ2%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040411Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDeB6Uuw%2FNf9DHpCmLhRLLW%2BYzoZ7G2nPFT3zllEE89wAiEAkCwjZbu4YWeFP5cTc3TQxzTMIoZ%2Fox5XVzAjg1CISYgqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHm75ahLiLli8BDFvyrcA%2Fg3lsWbc5JszJ50MBliaetJXNiQVHad1cpxuPXHPDnuxMc2%2FHbvlk%2BlTyw%2F1ZENdpIcUYNmUnnWGAbVMsnMOzH1yIsz5tANlZDe5%2BRp2ee%2FRwEsf%2FNThyEPnUVN8GmCo8%2Fj3UVA%2FxhqExkRtlV043ed5dntGXhVwlm7WCMFmaghrqKxrLsjjTSdDwPDz%2B6zsY8sdANW3m9NS2BGxmYP07LWV%2FoVyOZdZtCLKUS0D87rImVrsSLyA4pCsxZe9qOYa2vFovf9S3rxnzb052sFRVCrOZY0uz9Mfgk1Hp8zgKDzh5f41p6m8BfIIvOWSB%2BghZAdXzbJsyZLh%2BLbu2Lfst4rALiT%2F2Km%2FBmNLWWPg%2BQWfcYrcvzT9XV8ppCGgDLMarZOGACBKt9sTA1%2BS%2FyXCDTD9A8mGaHGTIFUWJbyyK6OsRLZDAzPArfSLkZexsl8D2mU7CendECGqcB%2FcpaQQCrKYGiFtTrZjLTDeiYiDR%2Fm%2BUSqzAlqMDKqfYdzorT9fvGQzwGenMS2p2SINUMJAEJ%2BFlLu8u7hyG8ActqSL9iMg0rj%2BYXf%2FTvHDJzyyoQypJYhKIraHz%2Fl5lyauCe5IzyyoR50Fsc9BNKhIeb35k6FcuwunheY1mm0tvyIMPeD2ckGOqUBk8IYfm9T67EfM7SEXZkOOnoFspmpvVmO2ri29K9pnVFxqSPPFuy8FPki3cMdY8vgZ%2FTlUDzPytUBaol17gMuX8iwcxU%2FC4J%2B75PYGh5FfmBrePvT3tiQsyReSqPG6%2Fa050ZDE00p1ecOfOYgI0Hu1%2BTSGhY4Fz1fGZgWxdLPrq%2BNivfzCIy3JLIQqwbBnRCb722nuZhKU7ZrkdnYCbyj0rOnpjZv&X-Amz-Signature=e364c19b8952d6b639f0c17a7f33149d34e50a1c9a7b5db64c706b1c0ae9476e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QJTQBRZ2%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040411Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIDeB6Uuw%2FNf9DHpCmLhRLLW%2BYzoZ7G2nPFT3zllEE89wAiEAkCwjZbu4YWeFP5cTc3TQxzTMIoZ%2Fox5XVzAjg1CISYgqiAQInP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDHm75ahLiLli8BDFvyrcA%2Fg3lsWbc5JszJ50MBliaetJXNiQVHad1cpxuPXHPDnuxMc2%2FHbvlk%2BlTyw%2F1ZENdpIcUYNmUnnWGAbVMsnMOzH1yIsz5tANlZDe5%2BRp2ee%2FRwEsf%2FNThyEPnUVN8GmCo8%2Fj3UVA%2FxhqExkRtlV043ed5dntGXhVwlm7WCMFmaghrqKxrLsjjTSdDwPDz%2B6zsY8sdANW3m9NS2BGxmYP07LWV%2FoVyOZdZtCLKUS0D87rImVrsSLyA4pCsxZe9qOYa2vFovf9S3rxnzb052sFRVCrOZY0uz9Mfgk1Hp8zgKDzh5f41p6m8BfIIvOWSB%2BghZAdXzbJsyZLh%2BLbu2Lfst4rALiT%2F2Km%2FBmNLWWPg%2BQWfcYrcvzT9XV8ppCGgDLMarZOGACBKt9sTA1%2BS%2FyXCDTD9A8mGaHGTIFUWJbyyK6OsRLZDAzPArfSLkZexsl8D2mU7CendECGqcB%2FcpaQQCrKYGiFtTrZjLTDeiYiDR%2Fm%2BUSqzAlqMDKqfYdzorT9fvGQzwGenMS2p2SINUMJAEJ%2BFlLu8u7hyG8ActqSL9iMg0rj%2BYXf%2FTvHDJzyyoQypJYhKIraHz%2Fl5lyauCe5IzyyoR50Fsc9BNKhIeb35k6FcuwunheY1mm0tvyIMPeD2ckGOqUBk8IYfm9T67EfM7SEXZkOOnoFspmpvVmO2ri29K9pnVFxqSPPFuy8FPki3cMdY8vgZ%2FTlUDzPytUBaol17gMuX8iwcxU%2FC4J%2B75PYGh5FfmBrePvT3tiQsyReSqPG6%2Fa050ZDE00p1ecOfOYgI0Hu1%2BTSGhY4Fz1fGZgWxdLPrq%2BNivfzCIy3JLIQqwbBnRCb722nuZhKU7ZrkdnYCbyj0rOnpjZv&X-Amz-Signature=5bcd935b3fa8f6cadfbdb2fc8e3b67e70a88b8823c30950764d69065dd65bfdf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663WRHUGSN%2F20251208%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251208T040413Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjENP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFHB0bnWpwlBycYDbjW%2FQyf%2Bya6mo2h6oc%2FZCrHi6oUwAiAQk%2BdvlPOuhg4WrpoISbBChw4bOQFBkhtNue%2FSIohJfCqIBAic%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMbS37gsZrTAexXH4vKtwDD4SQ6jrHYjUwm98pKaww51BHIDMIsPZVquf25w22oLryz%2BoTuE1KuwPNnP0w36KDJ%2BFZiD%2BqP80dsZRTUa%2FMAb56LiwgT4kLpTTr69ev3ywd6GiRKvSexYKzkvUt6SDz6Ed4Ai77wP6Qkpe7J3avyh6dC%2BGT4N1eGgFpPCTyczTCR9YlGZoK%2BpSs4CVaw1sXT8kjgtuajAvlAk%2FaWkGSRpUjRy1NVyvhUZz4pg8Rxc9JKsgZ7u%2FashHkcHLQfShnKFLw1JIn8h4eoVsV0H49PdiuI8L50sTUcIdlHmd%2BjOrWJUVS%2BP7rpcbBfo5fgh%2B9bnsyV4O1%2BR3ynbzkrJ9Jt1S7vhotc3N4vWThXQR5erh2gm4EeNMq3Jo4cEgmIojqoHQn%2B3JRo7jGmNL4zKFvksMHTxPRdtRTZTx7WlTRBND%2FcHuabc0XDwpc5zxEoqyLuaGdQ1rVAi4A8bWISlMx1Nn1LbByAABxMZUUPzevcOVnnpvc0Mqz0mfDENi%2Brs%2Bh2pXyzgjhaJ78pu596cOQuN5sdXdEXPc0YwF5budMs0g5wydILoCm4yoBCYSSVnu5zq4P2DnG%2BFvARMoJz3sbmXl7oUGRIZ%2FPWJQAz90LfYuN9vfQ9TJMLI%2F%2B0rcw64PZyQY6pgGyHPe3obpOmrDSc6s5i6nRWgOOCT0wlv%2FzZefL%2BnlOnH00PRlzldrjEkoWh42XPgry0%2Bq3PzpKM5FBUwhQwNotSFme81hSeqzQW%2FLvdQJX5Q9HIgpDRd75%2Bja3yk%2F3tYqC%2Brl%2B%2FGcHYiVhYjR8FQKAdDqt0qvZfiEVglYVHWyc09sqoQpqJVQTADIaHb2TUepOZcTEM5W9bVkh2gw%2F7AJ7mVBUE39H&X-Amz-Signature=a3e5ea41d6dcfad44670628153108755ca6e2bc65df3c0b50b1a43524d2439e5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
