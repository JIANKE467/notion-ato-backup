
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UKBYXYFJ%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDZbCQLK%2FOOdXSZ6wHlw%2FAf2%2BA3p%2BXqu5mcH7KOJhJBCgIhAL92oRbfAltPT2LzwAppNDY3e8HlEIZihSx8fVDnU0v%2BKv8DCHQQABoMNjM3NDIzMTgzODA1Igzz3DeIG8iKp1ZiEQoq3AOBD0xX27Jxnq9AFHMZao%2FwBfL3QdWIZuBPdVk5fRYnyrqJpYp3AviCBcuhUW1TcDElrBR9%2FkDcd0W08VtggmvAsHS21LxG9feXiHB4QwegsFPz%2FJGaFoC2AkRKlOeJTAHOrjQHNVtlXdAd8uw%2FowbEzXbvW0oRS%2FX3OV9XdRxEIdI8I3ZS9O17KGi6zYMMpHKqH3UDrAuUt7pF2HiHuZNh%2BvXTTbCaPnfyVN2owuhzUrO1Gab2cs%2FDP3bNjks10wiuawDO%2BuzeVHupenfPzzYuKD2Oll2frt4CMRPY%2FRZcBHg8EDQ21B9POGbzSfmX%2FEaLUBsSARBJRNntWaMaKEthX6B2HAPrdvTeAcjjSGS6zaQWg5MVJsAfYlJZdFQtqGunCYmMrN5DyI84xs6kJOf%2B3L7QskcnCZw193nnJnO1EbKwIpcTeVsZDcvEWz56ys1i1PVlbmm56rBg5REE2uZa6bQbUMmTtLTlZ8ITPDzAJPHOkzRtZlUTVza%2FNsulsQ5SAMzK8M8kx3Nedu%2FoaiNBBtI%2BUa9MMQl%2FyCKWsu%2FWajlt11nDKbFUdrDszo9kSoQEJLvZEGXmZ2WLHv2T4JAIVws1yFCq2w%2B%2BiRMRCdE0Ub8vi85oabX1eDwHbTCtvYjKBjqkAbLb7%2F3%2F8zVcQOpnbHzvftEMZrfTwmbwF34WXssndUdLApXMKHeaBnbmzcgRkycs3Sjum7Bms6%2B0sDiff3iXB%2F6SwRhqKaGSnw817Kv9aVWY2Xtw8VpcOaOZRaN1XsTSEPQexXkkMPUr%2BqU9o4HT7MQya6W4ErYb1aMtCkfNXeoMvhIPy4fulwk783TVggw6TSa0i2MyTfogEK28G2rYXioHqxxd&X-Amz-Signature=d5374d6432a8bac31c6cbe961be0edeccdcbbb02b5696c4ca7f8b46bb3fcf6d5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UKBYXYFJ%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDZbCQLK%2FOOdXSZ6wHlw%2FAf2%2BA3p%2BXqu5mcH7KOJhJBCgIhAL92oRbfAltPT2LzwAppNDY3e8HlEIZihSx8fVDnU0v%2BKv8DCHQQABoMNjM3NDIzMTgzODA1Igzz3DeIG8iKp1ZiEQoq3AOBD0xX27Jxnq9AFHMZao%2FwBfL3QdWIZuBPdVk5fRYnyrqJpYp3AviCBcuhUW1TcDElrBR9%2FkDcd0W08VtggmvAsHS21LxG9feXiHB4QwegsFPz%2FJGaFoC2AkRKlOeJTAHOrjQHNVtlXdAd8uw%2FowbEzXbvW0oRS%2FX3OV9XdRxEIdI8I3ZS9O17KGi6zYMMpHKqH3UDrAuUt7pF2HiHuZNh%2BvXTTbCaPnfyVN2owuhzUrO1Gab2cs%2FDP3bNjks10wiuawDO%2BuzeVHupenfPzzYuKD2Oll2frt4CMRPY%2FRZcBHg8EDQ21B9POGbzSfmX%2FEaLUBsSARBJRNntWaMaKEthX6B2HAPrdvTeAcjjSGS6zaQWg5MVJsAfYlJZdFQtqGunCYmMrN5DyI84xs6kJOf%2B3L7QskcnCZw193nnJnO1EbKwIpcTeVsZDcvEWz56ys1i1PVlbmm56rBg5REE2uZa6bQbUMmTtLTlZ8ITPDzAJPHOkzRtZlUTVza%2FNsulsQ5SAMzK8M8kx3Nedu%2FoaiNBBtI%2BUa9MMQl%2FyCKWsu%2FWajlt11nDKbFUdrDszo9kSoQEJLvZEGXmZ2WLHv2T4JAIVws1yFCq2w%2B%2BiRMRCdE0Ub8vi85oabX1eDwHbTCtvYjKBjqkAbLb7%2F3%2F8zVcQOpnbHzvftEMZrfTwmbwF34WXssndUdLApXMKHeaBnbmzcgRkycs3Sjum7Bms6%2B0sDiff3iXB%2F6SwRhqKaGSnw817Kv9aVWY2Xtw8VpcOaOZRaN1XsTSEPQexXkkMPUr%2BqU9o4HT7MQya6W4ErYb1aMtCkfNXeoMvhIPy4fulwk783TVggw6TSa0i2MyTfogEK28G2rYXioHqxxd&X-Amz-Signature=c234966d7478e1480c4d487764ff1177b364aad9b4828d65b5bfe84663d62158&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UKBYXYFJ%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDZbCQLK%2FOOdXSZ6wHlw%2FAf2%2BA3p%2BXqu5mcH7KOJhJBCgIhAL92oRbfAltPT2LzwAppNDY3e8HlEIZihSx8fVDnU0v%2BKv8DCHQQABoMNjM3NDIzMTgzODA1Igzz3DeIG8iKp1ZiEQoq3AOBD0xX27Jxnq9AFHMZao%2FwBfL3QdWIZuBPdVk5fRYnyrqJpYp3AviCBcuhUW1TcDElrBR9%2FkDcd0W08VtggmvAsHS21LxG9feXiHB4QwegsFPz%2FJGaFoC2AkRKlOeJTAHOrjQHNVtlXdAd8uw%2FowbEzXbvW0oRS%2FX3OV9XdRxEIdI8I3ZS9O17KGi6zYMMpHKqH3UDrAuUt7pF2HiHuZNh%2BvXTTbCaPnfyVN2owuhzUrO1Gab2cs%2FDP3bNjks10wiuawDO%2BuzeVHupenfPzzYuKD2Oll2frt4CMRPY%2FRZcBHg8EDQ21B9POGbzSfmX%2FEaLUBsSARBJRNntWaMaKEthX6B2HAPrdvTeAcjjSGS6zaQWg5MVJsAfYlJZdFQtqGunCYmMrN5DyI84xs6kJOf%2B3L7QskcnCZw193nnJnO1EbKwIpcTeVsZDcvEWz56ys1i1PVlbmm56rBg5REE2uZa6bQbUMmTtLTlZ8ITPDzAJPHOkzRtZlUTVza%2FNsulsQ5SAMzK8M8kx3Nedu%2FoaiNBBtI%2BUa9MMQl%2FyCKWsu%2FWajlt11nDKbFUdrDszo9kSoQEJLvZEGXmZ2WLHv2T4JAIVws1yFCq2w%2B%2BiRMRCdE0Ub8vi85oabX1eDwHbTCtvYjKBjqkAbLb7%2F3%2F8zVcQOpnbHzvftEMZrfTwmbwF34WXssndUdLApXMKHeaBnbmzcgRkycs3Sjum7Bms6%2B0sDiff3iXB%2F6SwRhqKaGSnw817Kv9aVWY2Xtw8VpcOaOZRaN1XsTSEPQexXkkMPUr%2BqU9o4HT7MQya6W4ErYb1aMtCkfNXeoMvhIPy4fulwk783TVggw6TSa0i2MyTfogEK28G2rYXioHqxxd&X-Amz-Signature=690e97acfaab5a6894aaf30213f3e83f67a9ccb6df1399a8a7dff67257157afa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y35ZYONW%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCbF1TEG0Cby06Kay13xRWOsvqWIf4%2FUjMCeQvTeDhNEQIgU80wyg4sUNAkeL2yvL9nK9NtF9q7LK28283s90nTrf0q%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDJga%2BWMRBkkEyQzqcCrcA3h9mONnXJ%2Bid%2FRV9e2YanCxqXwKk42HoEPCcpb%2F%2BxWS5yvXbGcN2x%2FJXZhwPvPJ6GOHOHpwrpFUfaNQbN8D0cNugGQI7Mz%2FB%2F7fmTr%2F%2BNUIgdA4nOiVUgx%2FsWep4jWCjb6DMRRsEXXSpRlhAuRL4E5DGcBTNcLbwHctGfI%2BD0n58lwlt6aa8u44wiTLbmqmUG7STvMBvy%2F5iQKi4AoCPt%2F8ks0GyXCTaa2znzOimt5TEFQ4dvfP0Mm8EH%2FHuSBvrTJNfwSbfepELS%2BM%2F3OyCGMbPl32SuX9SQT9iuElJ98G5tBqYmG%2F2EwKhGE5NexFApVtDetlXBAMHzbiSqiDMQ1IrsWDi4%2FTLMpK6442OlfOxM7SPlJwyB7QRkWW21QCJJmg%2FtkvbxWwxUMFJ67QdNT%2F8%2FX1fQtlE6jqbZGiStYv3fg8q4uTDDV3uZZGeYxR8wSOPrBYn3xcX%2Fse7gJf86nH2EUPgTvNEllOpDBa62yPmTXBiCZ8GAodjLaxe9NLCqd5wXCE%2B1oRBwUH2UkdckDSV8vX0QjXsYvL61pUOZPx%2FhCjjT99J4zD35IwKgx0NpPMxMJz3zUgn5l6uvIZyiZw6xxGJ0dmiGkNHwesNAxcWGVacBjjb%2F2GqFYuMJS8iMoGOqUBW9akvxK6AuX8u639Kdrg90eXJkWEAYxVhatWiHlV6DZG%2BCRNy4gzVJt42vl0PMBlz5thjYx5KqmjS9%2BUncG1KGsEuueuMdSA9frU%2Fqt7Lf7qa02PeuAKzqtFMaX7M1azn6dL4CQ0lgtlszx44PLv9jZzd%2FHALzLqw2CwSAhcajsymnWDZRs4e1MB2SAlQv1JzkNp5bu1ypfiOwx1CADCSW8qYVpT&X-Amz-Signature=9e8f798d610b7843da07d9a5ecf564785384dff676f040b6b349cd4524b347a6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y35ZYONW%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCbF1TEG0Cby06Kay13xRWOsvqWIf4%2FUjMCeQvTeDhNEQIgU80wyg4sUNAkeL2yvL9nK9NtF9q7LK28283s90nTrf0q%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDJga%2BWMRBkkEyQzqcCrcA3h9mONnXJ%2Bid%2FRV9e2YanCxqXwKk42HoEPCcpb%2F%2BxWS5yvXbGcN2x%2FJXZhwPvPJ6GOHOHpwrpFUfaNQbN8D0cNugGQI7Mz%2FB%2F7fmTr%2F%2BNUIgdA4nOiVUgx%2FsWep4jWCjb6DMRRsEXXSpRlhAuRL4E5DGcBTNcLbwHctGfI%2BD0n58lwlt6aa8u44wiTLbmqmUG7STvMBvy%2F5iQKi4AoCPt%2F8ks0GyXCTaa2znzOimt5TEFQ4dvfP0Mm8EH%2FHuSBvrTJNfwSbfepELS%2BM%2F3OyCGMbPl32SuX9SQT9iuElJ98G5tBqYmG%2F2EwKhGE5NexFApVtDetlXBAMHzbiSqiDMQ1IrsWDi4%2FTLMpK6442OlfOxM7SPlJwyB7QRkWW21QCJJmg%2FtkvbxWwxUMFJ67QdNT%2F8%2FX1fQtlE6jqbZGiStYv3fg8q4uTDDV3uZZGeYxR8wSOPrBYn3xcX%2Fse7gJf86nH2EUPgTvNEllOpDBa62yPmTXBiCZ8GAodjLaxe9NLCqd5wXCE%2B1oRBwUH2UkdckDSV8vX0QjXsYvL61pUOZPx%2FhCjjT99J4zD35IwKgx0NpPMxMJz3zUgn5l6uvIZyiZw6xxGJ0dmiGkNHwesNAxcWGVacBjjb%2F2GqFYuMJS8iMoGOqUBW9akvxK6AuX8u639Kdrg90eXJkWEAYxVhatWiHlV6DZG%2BCRNy4gzVJt42vl0PMBlz5thjYx5KqmjS9%2BUncG1KGsEuueuMdSA9frU%2Fqt7Lf7qa02PeuAKzqtFMaX7M1azn6dL4CQ0lgtlszx44PLv9jZzd%2FHALzLqw2CwSAhcajsymnWDZRs4e1MB2SAlQv1JzkNp5bu1ypfiOwx1CADCSW8qYVpT&X-Amz-Signature=ebdc8e4f04952b10c02693bb679630b731d635b9631af44f4bed22a94bf68202&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y35ZYONW%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCbF1TEG0Cby06Kay13xRWOsvqWIf4%2FUjMCeQvTeDhNEQIgU80wyg4sUNAkeL2yvL9nK9NtF9q7LK28283s90nTrf0q%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDJga%2BWMRBkkEyQzqcCrcA3h9mONnXJ%2Bid%2FRV9e2YanCxqXwKk42HoEPCcpb%2F%2BxWS5yvXbGcN2x%2FJXZhwPvPJ6GOHOHpwrpFUfaNQbN8D0cNugGQI7Mz%2FB%2F7fmTr%2F%2BNUIgdA4nOiVUgx%2FsWep4jWCjb6DMRRsEXXSpRlhAuRL4E5DGcBTNcLbwHctGfI%2BD0n58lwlt6aa8u44wiTLbmqmUG7STvMBvy%2F5iQKi4AoCPt%2F8ks0GyXCTaa2znzOimt5TEFQ4dvfP0Mm8EH%2FHuSBvrTJNfwSbfepELS%2BM%2F3OyCGMbPl32SuX9SQT9iuElJ98G5tBqYmG%2F2EwKhGE5NexFApVtDetlXBAMHzbiSqiDMQ1IrsWDi4%2FTLMpK6442OlfOxM7SPlJwyB7QRkWW21QCJJmg%2FtkvbxWwxUMFJ67QdNT%2F8%2FX1fQtlE6jqbZGiStYv3fg8q4uTDDV3uZZGeYxR8wSOPrBYn3xcX%2Fse7gJf86nH2EUPgTvNEllOpDBa62yPmTXBiCZ8GAodjLaxe9NLCqd5wXCE%2B1oRBwUH2UkdckDSV8vX0QjXsYvL61pUOZPx%2FhCjjT99J4zD35IwKgx0NpPMxMJz3zUgn5l6uvIZyiZw6xxGJ0dmiGkNHwesNAxcWGVacBjjb%2F2GqFYuMJS8iMoGOqUBW9akvxK6AuX8u639Kdrg90eXJkWEAYxVhatWiHlV6DZG%2BCRNy4gzVJt42vl0PMBlz5thjYx5KqmjS9%2BUncG1KGsEuueuMdSA9frU%2Fqt7Lf7qa02PeuAKzqtFMaX7M1azn6dL4CQ0lgtlszx44PLv9jZzd%2FHALzLqw2CwSAhcajsymnWDZRs4e1MB2SAlQv1JzkNp5bu1ypfiOwx1CADCSW8qYVpT&X-Amz-Signature=a417c5d2ae8364795f4636f625ef3d374d501e838a20eac632db79c84b319989&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XG6JWHUC%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIB%2BAIOtWY5t3Pb34N6Ds1EOBXmIuN2LDSECLMtQfJbnHAiEAm4zUe%2FuljKLj%2Bgooz7V5%2FycUhGtNgokj%2BCaNbBg%2BCnkq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDLL%2BdrC68k%2BWD%2BkuKSrcA0HDp5stJh6SrzfyRXHa6qXsg4E8HrdpCV6Uo80KORdSFk5YTP4B95Mmp8k9oZvn7lNsUmayKUmBsXUc5YiDZNRjEZwROPxFbDHgpvbEed3AUKGsqUYtq41RN%2FLQxpyruI2GH%2FYUv6r11HoV6OrX3Sudb7HSLS9rXLdModN6TQ2uTeYYXISox4o%2Bm3gZJ58VBrs6K6j0yruWA9ox3RXSEzBVvCeOBpwQwBGMo1EaZD5GCNzd6ZP95uEBulCSmo2GkCdHxeC2SQ8kjYSToKuD5%2BY6N1Ca0kkPveWvCxDG2czPjpdyDWuu391bbDOvwkr8fp1q2npST8Hd1Jbh1%2FFH2i0gAoEfFwJSQm%2Bellg%2Bt%2FB6kf24nH2yr%2BUkbrIe2RKJcGxon5mULf0Ji54%2BxBExwlSLPrc%2B6Xgjpf%2B19sfZ%2FuthLSzGd3rtC5CxJKCVD2WMVzqqTTTdh%2BmcG8yeV%2FQmbUrCOdUVx%2FfNw6AOJ%2F0bM1cWLFqjFtrPFf4JMd%2FUEZDyKzH58IfnJqVUN%2FrsIQBUvF%2FgSDdfQ3VqfdKtCuHeBUxzLu4Ak7h3l5enFrsgD5jhS5VKGCXJuZJW2EKrWWRUf4OUGiwiz6dNtXlksbbVyfRTLQJY0ERttO8OaEuKMJ69iMoGOqUBFuUI%2Bf9MM4bKs8k%2FNGY2t2YN3APfK6tcuuf8vfmFgQAlWWnoBo32nrEjOsHeTlZ2jDSPZjKc8z9jTXkUjuJNzEuvSM6O0rJ8HKsQY6487s7eNg7Im03upJVKNuYORZQ0z6yshVHxg5yEfSWEfsDSP9iDQtbSCCdB0RzHMCdJYJkBlJZA4Z0%2FicCgSkmlJzeT1HGpl9PpclGJBfqkK8wFQfXZisrh&X-Amz-Signature=d3c649bb792629779266d53b079a7d4ee8bb85108967306f5c6a5ba1c486b8b6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XG6JWHUC%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIB%2BAIOtWY5t3Pb34N6Ds1EOBXmIuN2LDSECLMtQfJbnHAiEAm4zUe%2FuljKLj%2Bgooz7V5%2FycUhGtNgokj%2BCaNbBg%2BCnkq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDLL%2BdrC68k%2BWD%2BkuKSrcA0HDp5stJh6SrzfyRXHa6qXsg4E8HrdpCV6Uo80KORdSFk5YTP4B95Mmp8k9oZvn7lNsUmayKUmBsXUc5YiDZNRjEZwROPxFbDHgpvbEed3AUKGsqUYtq41RN%2FLQxpyruI2GH%2FYUv6r11HoV6OrX3Sudb7HSLS9rXLdModN6TQ2uTeYYXISox4o%2Bm3gZJ58VBrs6K6j0yruWA9ox3RXSEzBVvCeOBpwQwBGMo1EaZD5GCNzd6ZP95uEBulCSmo2GkCdHxeC2SQ8kjYSToKuD5%2BY6N1Ca0kkPveWvCxDG2czPjpdyDWuu391bbDOvwkr8fp1q2npST8Hd1Jbh1%2FFH2i0gAoEfFwJSQm%2Bellg%2Bt%2FB6kf24nH2yr%2BUkbrIe2RKJcGxon5mULf0Ji54%2BxBExwlSLPrc%2B6Xgjpf%2B19sfZ%2FuthLSzGd3rtC5CxJKCVD2WMVzqqTTTdh%2BmcG8yeV%2FQmbUrCOdUVx%2FfNw6AOJ%2F0bM1cWLFqjFtrPFf4JMd%2FUEZDyKzH58IfnJqVUN%2FrsIQBUvF%2FgSDdfQ3VqfdKtCuHeBUxzLu4Ak7h3l5enFrsgD5jhS5VKGCXJuZJW2EKrWWRUf4OUGiwiz6dNtXlksbbVyfRTLQJY0ERttO8OaEuKMJ69iMoGOqUBFuUI%2Bf9MM4bKs8k%2FNGY2t2YN3APfK6tcuuf8vfmFgQAlWWnoBo32nrEjOsHeTlZ2jDSPZjKc8z9jTXkUjuJNzEuvSM6O0rJ8HKsQY6487s7eNg7Im03upJVKNuYORZQ0z6yshVHxg5yEfSWEfsDSP9iDQtbSCCdB0RzHMCdJYJkBlJZA4Z0%2FicCgSkmlJzeT1HGpl9PpclGJBfqkK8wFQfXZisrh&X-Amz-Signature=6e538bfd944be38cc478b6b7f99e2d8d27be34178267e1455bd1f3717847c28d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XG6JWHUC%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIB%2BAIOtWY5t3Pb34N6Ds1EOBXmIuN2LDSECLMtQfJbnHAiEAm4zUe%2FuljKLj%2Bgooz7V5%2FycUhGtNgokj%2BCaNbBg%2BCnkq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDLL%2BdrC68k%2BWD%2BkuKSrcA0HDp5stJh6SrzfyRXHa6qXsg4E8HrdpCV6Uo80KORdSFk5YTP4B95Mmp8k9oZvn7lNsUmayKUmBsXUc5YiDZNRjEZwROPxFbDHgpvbEed3AUKGsqUYtq41RN%2FLQxpyruI2GH%2FYUv6r11HoV6OrX3Sudb7HSLS9rXLdModN6TQ2uTeYYXISox4o%2Bm3gZJ58VBrs6K6j0yruWA9ox3RXSEzBVvCeOBpwQwBGMo1EaZD5GCNzd6ZP95uEBulCSmo2GkCdHxeC2SQ8kjYSToKuD5%2BY6N1Ca0kkPveWvCxDG2czPjpdyDWuu391bbDOvwkr8fp1q2npST8Hd1Jbh1%2FFH2i0gAoEfFwJSQm%2Bellg%2Bt%2FB6kf24nH2yr%2BUkbrIe2RKJcGxon5mULf0Ji54%2BxBExwlSLPrc%2B6Xgjpf%2B19sfZ%2FuthLSzGd3rtC5CxJKCVD2WMVzqqTTTdh%2BmcG8yeV%2FQmbUrCOdUVx%2FfNw6AOJ%2F0bM1cWLFqjFtrPFf4JMd%2FUEZDyKzH58IfnJqVUN%2FrsIQBUvF%2FgSDdfQ3VqfdKtCuHeBUxzLu4Ak7h3l5enFrsgD5jhS5VKGCXJuZJW2EKrWWRUf4OUGiwiz6dNtXlksbbVyfRTLQJY0ERttO8OaEuKMJ69iMoGOqUBFuUI%2Bf9MM4bKs8k%2FNGY2t2YN3APfK6tcuuf8vfmFgQAlWWnoBo32nrEjOsHeTlZ2jDSPZjKc8z9jTXkUjuJNzEuvSM6O0rJ8HKsQY6487s7eNg7Im03upJVKNuYORZQ0z6yshVHxg5yEfSWEfsDSP9iDQtbSCCdB0RzHMCdJYJkBlJZA4Z0%2FicCgSkmlJzeT1HGpl9PpclGJBfqkK8wFQfXZisrh&X-Amz-Signature=92e61dfbc60de36834c0433606186d0a917a4ad176f5334453d454db277e830b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XG6JWHUC%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIB%2BAIOtWY5t3Pb34N6Ds1EOBXmIuN2LDSECLMtQfJbnHAiEAm4zUe%2FuljKLj%2Bgooz7V5%2FycUhGtNgokj%2BCaNbBg%2BCnkq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDLL%2BdrC68k%2BWD%2BkuKSrcA0HDp5stJh6SrzfyRXHa6qXsg4E8HrdpCV6Uo80KORdSFk5YTP4B95Mmp8k9oZvn7lNsUmayKUmBsXUc5YiDZNRjEZwROPxFbDHgpvbEed3AUKGsqUYtq41RN%2FLQxpyruI2GH%2FYUv6r11HoV6OrX3Sudb7HSLS9rXLdModN6TQ2uTeYYXISox4o%2Bm3gZJ58VBrs6K6j0yruWA9ox3RXSEzBVvCeOBpwQwBGMo1EaZD5GCNzd6ZP95uEBulCSmo2GkCdHxeC2SQ8kjYSToKuD5%2BY6N1Ca0kkPveWvCxDG2czPjpdyDWuu391bbDOvwkr8fp1q2npST8Hd1Jbh1%2FFH2i0gAoEfFwJSQm%2Bellg%2Bt%2FB6kf24nH2yr%2BUkbrIe2RKJcGxon5mULf0Ji54%2BxBExwlSLPrc%2B6Xgjpf%2B19sfZ%2FuthLSzGd3rtC5CxJKCVD2WMVzqqTTTdh%2BmcG8yeV%2FQmbUrCOdUVx%2FfNw6AOJ%2F0bM1cWLFqjFtrPFf4JMd%2FUEZDyKzH58IfnJqVUN%2FrsIQBUvF%2FgSDdfQ3VqfdKtCuHeBUxzLu4Ak7h3l5enFrsgD5jhS5VKGCXJuZJW2EKrWWRUf4OUGiwiz6dNtXlksbbVyfRTLQJY0ERttO8OaEuKMJ69iMoGOqUBFuUI%2Bf9MM4bKs8k%2FNGY2t2YN3APfK6tcuuf8vfmFgQAlWWnoBo32nrEjOsHeTlZ2jDSPZjKc8z9jTXkUjuJNzEuvSM6O0rJ8HKsQY6487s7eNg7Im03upJVKNuYORZQ0z6yshVHxg5yEfSWEfsDSP9iDQtbSCCdB0RzHMCdJYJkBlJZA4Z0%2FicCgSkmlJzeT1HGpl9PpclGJBfqkK8wFQfXZisrh&X-Amz-Signature=4895dc3542b942de9fb3134d465fa02b7bd9c278b7a3df61a5d9aef133547dce&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WAQ645N3%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040311Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEVWjRLRFyctlSQpNzcBSyO0h%2BmVOE%2BSngnK3S%2BKVdE8AiBUg9MY%2Bq5xSaUD4BaqEpmY5NrwdHJxCrrTZqiElY802ir%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMf9ZY9HI%2FxtSSboR5KtwD493GbHA9B3Swu%2FSzOpF6EhfWULtbxFiSQwp8AJJfGcoJNmIs3jPwpxfgR1ImN5Vnqu7UEM3I00r5pHJjXwaN6FVQNKmDemlOU2MvdgUGSWXTsO5OFAOqdehR7OxIfF7SdrjM27bL9Py8UZV%2FZHcDoELVYoa8FFqIPkIg35aLsJ4LJCGRa%2FKnykQkYAzF4WuQewnNR8hiZNTjiIowTmVxGp6MzpvG6SE8n24%2FmAZNGYulVeCM4zboiLu24TZiXPpqMLOH4OVfn1LS%2B1BwcnFm2NDnGuMJSA0W%2FfLnoL7ljw4xqWiENfb2SGJAXWso10W0daMqWJukEo47rnDMZ%2B%2FVyTT8i%2Blv96%2BBBdsdwKajKAr%2FvDGJqbtwYX4WQc%2FfB%2Fj5BG9PqvHjk0bYkgLjUhRsLjDLflRYSeWn5NDx65JGpVtCnFR4jhYFAH00AAL7nB50YQBQqL3jltP5RHXlQoDRuC%2BwL%2FJWYbUFgpbOeSJaX7xLZoDi%2F0gToegiqh7lcUrMUtUowfFQHDKT47Icu6Aixx7E0vrvNjny5YGKmTRFzDP1Ak9HTVSMW5Ym9s8ThAlJTLy14OWVmBIiRb2LXwD2sdGmwbO1xqtvwm%2FQ7e8wqZ1HkNl4ALB06pMr284wj7yIygY6pgEnuEeSZ9o5j9mFVPHnr1PTtBOrV0E0%2BkYzlsgp0IExq%2BV2pXzmOzMtegMYdgzUR34iegJcfy4qs104jXwRf5QZYmMYYTVi68Ft%2FUF%2FnlmDfZfZbP2mqInhiSxSVin8Ki%2BeMO9qHdDekkRTbkau%2BHGI4todrVBe69Y439BvqLaX8syWv9btRFhXc2grD75KDGBFAT5KBBzlGsWzK%2FmZ%2F1YnGB8xLuUy&X-Amz-Signature=b7da0437ecc39dd1442c84d89539fa73e2a8a17427335244eed315aac8cc4e6e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WAQ645N3%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040311Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEVWjRLRFyctlSQpNzcBSyO0h%2BmVOE%2BSngnK3S%2BKVdE8AiBUg9MY%2Bq5xSaUD4BaqEpmY5NrwdHJxCrrTZqiElY802ir%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMf9ZY9HI%2FxtSSboR5KtwD493GbHA9B3Swu%2FSzOpF6EhfWULtbxFiSQwp8AJJfGcoJNmIs3jPwpxfgR1ImN5Vnqu7UEM3I00r5pHJjXwaN6FVQNKmDemlOU2MvdgUGSWXTsO5OFAOqdehR7OxIfF7SdrjM27bL9Py8UZV%2FZHcDoELVYoa8FFqIPkIg35aLsJ4LJCGRa%2FKnykQkYAzF4WuQewnNR8hiZNTjiIowTmVxGp6MzpvG6SE8n24%2FmAZNGYulVeCM4zboiLu24TZiXPpqMLOH4OVfn1LS%2B1BwcnFm2NDnGuMJSA0W%2FfLnoL7ljw4xqWiENfb2SGJAXWso10W0daMqWJukEo47rnDMZ%2B%2FVyTT8i%2Blv96%2BBBdsdwKajKAr%2FvDGJqbtwYX4WQc%2FfB%2Fj5BG9PqvHjk0bYkgLjUhRsLjDLflRYSeWn5NDx65JGpVtCnFR4jhYFAH00AAL7nB50YQBQqL3jltP5RHXlQoDRuC%2BwL%2FJWYbUFgpbOeSJaX7xLZoDi%2F0gToegiqh7lcUrMUtUowfFQHDKT47Icu6Aixx7E0vrvNjny5YGKmTRFzDP1Ak9HTVSMW5Ym9s8ThAlJTLy14OWVmBIiRb2LXwD2sdGmwbO1xqtvwm%2FQ7e8wqZ1HkNl4ALB06pMr284wj7yIygY6pgEnuEeSZ9o5j9mFVPHnr1PTtBOrV0E0%2BkYzlsgp0IExq%2BV2pXzmOzMtegMYdgzUR34iegJcfy4qs104jXwRf5QZYmMYYTVi68Ft%2FUF%2FnlmDfZfZbP2mqInhiSxSVin8Ki%2BeMO9qHdDekkRTbkau%2BHGI4todrVBe69Y439BvqLaX8syWv9btRFhXc2grD75KDGBFAT5KBBzlGsWzK%2FmZ%2F1YnGB8xLuUy&X-Amz-Signature=39f8595b868f7aeb0bffc72e651519be9cba698627e38f7d71143edd923fc3fc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WAQ645N3%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040311Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEVWjRLRFyctlSQpNzcBSyO0h%2BmVOE%2BSngnK3S%2BKVdE8AiBUg9MY%2Bq5xSaUD4BaqEpmY5NrwdHJxCrrTZqiElY802ir%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMf9ZY9HI%2FxtSSboR5KtwD493GbHA9B3Swu%2FSzOpF6EhfWULtbxFiSQwp8AJJfGcoJNmIs3jPwpxfgR1ImN5Vnqu7UEM3I00r5pHJjXwaN6FVQNKmDemlOU2MvdgUGSWXTsO5OFAOqdehR7OxIfF7SdrjM27bL9Py8UZV%2FZHcDoELVYoa8FFqIPkIg35aLsJ4LJCGRa%2FKnykQkYAzF4WuQewnNR8hiZNTjiIowTmVxGp6MzpvG6SE8n24%2FmAZNGYulVeCM4zboiLu24TZiXPpqMLOH4OVfn1LS%2B1BwcnFm2NDnGuMJSA0W%2FfLnoL7ljw4xqWiENfb2SGJAXWso10W0daMqWJukEo47rnDMZ%2B%2FVyTT8i%2Blv96%2BBBdsdwKajKAr%2FvDGJqbtwYX4WQc%2FfB%2Fj5BG9PqvHjk0bYkgLjUhRsLjDLflRYSeWn5NDx65JGpVtCnFR4jhYFAH00AAL7nB50YQBQqL3jltP5RHXlQoDRuC%2BwL%2FJWYbUFgpbOeSJaX7xLZoDi%2F0gToegiqh7lcUrMUtUowfFQHDKT47Icu6Aixx7E0vrvNjny5YGKmTRFzDP1Ak9HTVSMW5Ym9s8ThAlJTLy14OWVmBIiRb2LXwD2sdGmwbO1xqtvwm%2FQ7e8wqZ1HkNl4ALB06pMr284wj7yIygY6pgEnuEeSZ9o5j9mFVPHnr1PTtBOrV0E0%2BkYzlsgp0IExq%2BV2pXzmOzMtegMYdgzUR34iegJcfy4qs104jXwRf5QZYmMYYTVi68Ft%2FUF%2FnlmDfZfZbP2mqInhiSxSVin8Ki%2BeMO9qHdDekkRTbkau%2BHGI4todrVBe69Y439BvqLaX8syWv9btRFhXc2grD75KDGBFAT5KBBzlGsWzK%2FmZ%2F1YnGB8xLuUy&X-Amz-Signature=d1eab4ad5c1de5fbdce1fe3ea8ac43ea5560be6be5c144e0e509a61eac4d2620&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WAQ645N3%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040311Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIEVWjRLRFyctlSQpNzcBSyO0h%2BmVOE%2BSngnK3S%2BKVdE8AiBUg9MY%2Bq5xSaUD4BaqEpmY5NrwdHJxCrrTZqiElY802ir%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMf9ZY9HI%2FxtSSboR5KtwD493GbHA9B3Swu%2FSzOpF6EhfWULtbxFiSQwp8AJJfGcoJNmIs3jPwpxfgR1ImN5Vnqu7UEM3I00r5pHJjXwaN6FVQNKmDemlOU2MvdgUGSWXTsO5OFAOqdehR7OxIfF7SdrjM27bL9Py8UZV%2FZHcDoELVYoa8FFqIPkIg35aLsJ4LJCGRa%2FKnykQkYAzF4WuQewnNR8hiZNTjiIowTmVxGp6MzpvG6SE8n24%2FmAZNGYulVeCM4zboiLu24TZiXPpqMLOH4OVfn1LS%2B1BwcnFm2NDnGuMJSA0W%2FfLnoL7ljw4xqWiENfb2SGJAXWso10W0daMqWJukEo47rnDMZ%2B%2FVyTT8i%2Blv96%2BBBdsdwKajKAr%2FvDGJqbtwYX4WQc%2FfB%2Fj5BG9PqvHjk0bYkgLjUhRsLjDLflRYSeWn5NDx65JGpVtCnFR4jhYFAH00AAL7nB50YQBQqL3jltP5RHXlQoDRuC%2BwL%2FJWYbUFgpbOeSJaX7xLZoDi%2F0gToegiqh7lcUrMUtUowfFQHDKT47Icu6Aixx7E0vrvNjny5YGKmTRFzDP1Ak9HTVSMW5Ym9s8ThAlJTLy14OWVmBIiRb2LXwD2sdGmwbO1xqtvwm%2FQ7e8wqZ1HkNl4ALB06pMr284wj7yIygY6pgEnuEeSZ9o5j9mFVPHnr1PTtBOrV0E0%2BkYzlsgp0IExq%2BV2pXzmOzMtegMYdgzUR34iegJcfy4qs104jXwRf5QZYmMYYTVi68Ft%2FUF%2FnlmDfZfZbP2mqInhiSxSVin8Ki%2BeMO9qHdDekkRTbkau%2BHGI4todrVBe69Y439BvqLaX8syWv9btRFhXc2grD75KDGBFAT5KBBzlGsWzK%2FmZ%2F1YnGB8xLuUy&X-Amz-Signature=c8c49f17fd80a339c9218573a4bfafcb42bc6ebd8f87e5953c41c3a6acf6342f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662TNBVFFG%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040311Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHJQ7AaJZNpf2DEhK3QM2LH0WhbYIkHW0GIlUAZbMBV0AiEAxpb3R7czqS5IofjUBCl1WjnhbfgLO%2Btw%2FNIgRIMSg8sq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDIbUieKpUFhJz%2FSglSrcA8FZd%2ByvnDjW5qblTHNMT%2FTvAcFmFSK470eXSZLuTwW1SdeELYH%2Fn57bN7fczxY%2FQlZHFJUi%2B%2FSxds%2FP56CBIJE9khcY2S%2B7r%2Fe247x9A372bfFgbODefRsXbNZmDcNp6zQ0CiNAJNofeIuhuB45uE2hP3o9512Df5e%2BNN2FZCIT7t412033YN%2Frf2K2PSxy1F8LuCOceaoVmSo8x0tj7EW7Ac81s4H94yNJiI3IatiNUIQPiukN8zYuV4L2Pm81LmEKl0KZX76tQQqyN5uSPR8kvmuVi3kPVmuW5j4pp8aeknT6pyR2KCBtCUlqKPItzTPBb7pZlRE7yWdRHiGFLUkXH1neweVBCa847QdEn6SRbSIdC8xweu1zudErsek2JB7BWsTGu1fOpXud4%2FQB%2F83Y9%2F%2FQJNHKw9svcm1lieUtlcz9rjcHboyjb6%2Bz0FVMsWgnHsqAlSb3gq7xLXDNQwUVT09qM7RvSn3cdYxYV%2FYJzYR96Cd1c5bOCOyi7Hm1O9nczq2LntZPboSxbec0m1THegYtrn0Chb972Y8BeQzGTvwkpn8aeJP%2FpAI8VVc33p0lKREdbZVT9a%2BpXcbEWShEEU9IvjS0S%2FeWrShHLACoA4pkBrh9Wluztp3PMK29iMoGOqUB3vUmPPkZpSBOPPVAR8IfqgzNWSx3jFpRxNUJ%2FKqi6JT1iKzK6L6%2FDpV0%2BGV2lv8e8hX9iGskQ5enQdNIL%2F2u8uxa1twifwVl9zenGQSYf%2BoJ8LMShKMDlz2cPcLUC6S8nVS1Y6FrUt158%2FkXKhgBWpXUQ5xp6wYFhU6qCKIqWD%2Fwqy9Zl9TuY53ofUCU4asVELCCKmJUoP6Hq07ouVnz1HECv3Uk&X-Amz-Signature=121c269ca3900bf8957ca708ab2abd26bd3d9be017138b6b87b3e506e9e1c9d1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662TNBVFFG%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040311Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHJQ7AaJZNpf2DEhK3QM2LH0WhbYIkHW0GIlUAZbMBV0AiEAxpb3R7czqS5IofjUBCl1WjnhbfgLO%2Btw%2FNIgRIMSg8sq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDIbUieKpUFhJz%2FSglSrcA8FZd%2ByvnDjW5qblTHNMT%2FTvAcFmFSK470eXSZLuTwW1SdeELYH%2Fn57bN7fczxY%2FQlZHFJUi%2B%2FSxds%2FP56CBIJE9khcY2S%2B7r%2Fe247x9A372bfFgbODefRsXbNZmDcNp6zQ0CiNAJNofeIuhuB45uE2hP3o9512Df5e%2BNN2FZCIT7t412033YN%2Frf2K2PSxy1F8LuCOceaoVmSo8x0tj7EW7Ac81s4H94yNJiI3IatiNUIQPiukN8zYuV4L2Pm81LmEKl0KZX76tQQqyN5uSPR8kvmuVi3kPVmuW5j4pp8aeknT6pyR2KCBtCUlqKPItzTPBb7pZlRE7yWdRHiGFLUkXH1neweVBCa847QdEn6SRbSIdC8xweu1zudErsek2JB7BWsTGu1fOpXud4%2FQB%2F83Y9%2F%2FQJNHKw9svcm1lieUtlcz9rjcHboyjb6%2Bz0FVMsWgnHsqAlSb3gq7xLXDNQwUVT09qM7RvSn3cdYxYV%2FYJzYR96Cd1c5bOCOyi7Hm1O9nczq2LntZPboSxbec0m1THegYtrn0Chb972Y8BeQzGTvwkpn8aeJP%2FpAI8VVc33p0lKREdbZVT9a%2BpXcbEWShEEU9IvjS0S%2FeWrShHLACoA4pkBrh9Wluztp3PMK29iMoGOqUB3vUmPPkZpSBOPPVAR8IfqgzNWSx3jFpRxNUJ%2FKqi6JT1iKzK6L6%2FDpV0%2BGV2lv8e8hX9iGskQ5enQdNIL%2F2u8uxa1twifwVl9zenGQSYf%2BoJ8LMShKMDlz2cPcLUC6S8nVS1Y6FrUt158%2FkXKhgBWpXUQ5xp6wYFhU6qCKIqWD%2Fwqy9Zl9TuY53ofUCU4asVELCCKmJUoP6Hq07ouVnz1HECv3Uk&X-Amz-Signature=b8db5e39ce30d1a17c7dc8e1d4233f0e1dd94c78575f37c2d8f25d0c4c7b25c6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662TNBVFFG%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040311Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHJQ7AaJZNpf2DEhK3QM2LH0WhbYIkHW0GIlUAZbMBV0AiEAxpb3R7czqS5IofjUBCl1WjnhbfgLO%2Btw%2FNIgRIMSg8sq%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDIbUieKpUFhJz%2FSglSrcA8FZd%2ByvnDjW5qblTHNMT%2FTvAcFmFSK470eXSZLuTwW1SdeELYH%2Fn57bN7fczxY%2FQlZHFJUi%2B%2FSxds%2FP56CBIJE9khcY2S%2B7r%2Fe247x9A372bfFgbODefRsXbNZmDcNp6zQ0CiNAJNofeIuhuB45uE2hP3o9512Df5e%2BNN2FZCIT7t412033YN%2Frf2K2PSxy1F8LuCOceaoVmSo8x0tj7EW7Ac81s4H94yNJiI3IatiNUIQPiukN8zYuV4L2Pm81LmEKl0KZX76tQQqyN5uSPR8kvmuVi3kPVmuW5j4pp8aeknT6pyR2KCBtCUlqKPItzTPBb7pZlRE7yWdRHiGFLUkXH1neweVBCa847QdEn6SRbSIdC8xweu1zudErsek2JB7BWsTGu1fOpXud4%2FQB%2F83Y9%2F%2FQJNHKw9svcm1lieUtlcz9rjcHboyjb6%2Bz0FVMsWgnHsqAlSb3gq7xLXDNQwUVT09qM7RvSn3cdYxYV%2FYJzYR96Cd1c5bOCOyi7Hm1O9nczq2LntZPboSxbec0m1THegYtrn0Chb972Y8BeQzGTvwkpn8aeJP%2FpAI8VVc33p0lKREdbZVT9a%2BpXcbEWShEEU9IvjS0S%2FeWrShHLACoA4pkBrh9Wluztp3PMK29iMoGOqUB3vUmPPkZpSBOPPVAR8IfqgzNWSx3jFpRxNUJ%2FKqi6JT1iKzK6L6%2FDpV0%2BGV2lv8e8hX9iGskQ5enQdNIL%2F2u8uxa1twifwVl9zenGQSYf%2BoJ8LMShKMDlz2cPcLUC6S8nVS1Y6FrUt158%2FkXKhgBWpXUQ5xp6wYFhU6qCKIqWD%2Fwqy9Zl9TuY53ofUCU4asVELCCKmJUoP6Hq07ouVnz1HECv3Uk&X-Amz-Signature=313953a3bbcb30e1b22d83c0792b748dadff68e5daf67d08d091b99dcee8acf9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46626KT2WK7%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICE9b3fSEltSoG6fGle3g6IfdmYJgAo%2BNgBlwc049k3xAiBDaOxftxNf2XF2v8iIWUt82d8v73ZZqJsLNSE3zDPOICr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMurobgh5wARk0XQN4KtwDVZaf0piuUxRfhfSB2dmwYiBV3c7ICrCarvkqocLk5KK%2BoLeIkc4IoyKkRI7gam8%2FVQRlvOFtefR5DtL0GNkJjeEfpxJgHuhnVQSgxFxxT4JT0x%2Bttc71owrWbyj2LrIj5sac2m3AVtds%2BTiA4RAE%2BM8xwQEGFrXHcW6tyGHf24nlRcAnsrSJQsB9VpX0ddyTuQihxck0jZ5iloMJYZ4DGqheLKQtz3Cgp%2BiMjsgA2OQBMICwoUbN2dRCC%2Bga1uVuexk4iMiSujBp76Z8Z8jCld5zesYdepHDsgJ%2FCjsLy%2Fd7dlztVOMevuc%2BD4N9hlik87gmhtpWbkLDPI6d4Mp6Oje%2Bm%2Fwztf38RTa3BtAHUWdzcol06DuEyLQ4wKMhzIEZV2RumWpoDBm9Q9QaXGsP8VtGZdxQPeigwhtGKLj%2BOfn5NGrL6fgq6c00JOkZCKoLltkdw1yl5JAMGVWGRSOaXoafngLNgnv%2BXyBwbT6rVYuFOMHHHOn5TiPeBdOUe%2FnT2Hlz%2BPb3mfceXzG%2BDCJXucYe4rqW3mqnmRYusMhv%2BRtr%2BxGSMV3ADy56Ur3TBlGrbqqrw9%2F6ZFw65jD08jnUgwBxMHnMH%2BWWeBZuy1heLJt5u4Epd3S3dyMz%2FC8w6LyIygY6pgEoPo1KG0beHW8BWsLaUQeexNQ7TbPfzpSgdSzWaJTM9VDGEsphRDRdZ%2Fdig2PU5e%2B5rwtG96%2Bu49l2je0rmbj9xdi09RlVY1RjagoLVsg3erPs4MBJzxnNb94pHVi7KI8MNV66OpJcF6gDwwc3tWipNhK6T%2Fym08vCAzCi9sN4S7hk%2BdCelNyFRh1vzriJVO%2BIXgq6vEvFxnsOWYupeOxyBRwfUqmo&X-Amz-Signature=b5726608c5346cece74055ae153d0298cb0ed7efa23e7695852ef4ac179bd186&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46626KT2WK7%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040314Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICE9b3fSEltSoG6fGle3g6IfdmYJgAo%2BNgBlwc049k3xAiBDaOxftxNf2XF2v8iIWUt82d8v73ZZqJsLNSE3zDPOICr%2FAwh0EAAaDDYzNzQyMzE4MzgwNSIMurobgh5wARk0XQN4KtwDVZaf0piuUxRfhfSB2dmwYiBV3c7ICrCarvkqocLk5KK%2BoLeIkc4IoyKkRI7gam8%2FVQRlvOFtefR5DtL0GNkJjeEfpxJgHuhnVQSgxFxxT4JT0x%2Bttc71owrWbyj2LrIj5sac2m3AVtds%2BTiA4RAE%2BM8xwQEGFrXHcW6tyGHf24nlRcAnsrSJQsB9VpX0ddyTuQihxck0jZ5iloMJYZ4DGqheLKQtz3Cgp%2BiMjsgA2OQBMICwoUbN2dRCC%2Bga1uVuexk4iMiSujBp76Z8Z8jCld5zesYdepHDsgJ%2FCjsLy%2Fd7dlztVOMevuc%2BD4N9hlik87gmhtpWbkLDPI6d4Mp6Oje%2Bm%2Fwztf38RTa3BtAHUWdzcol06DuEyLQ4wKMhzIEZV2RumWpoDBm9Q9QaXGsP8VtGZdxQPeigwhtGKLj%2BOfn5NGrL6fgq6c00JOkZCKoLltkdw1yl5JAMGVWGRSOaXoafngLNgnv%2BXyBwbT6rVYuFOMHHHOn5TiPeBdOUe%2FnT2Hlz%2BPb3mfceXzG%2BDCJXucYe4rqW3mqnmRYusMhv%2BRtr%2BxGSMV3ADy56Ur3TBlGrbqqrw9%2F6ZFw65jD08jnUgwBxMHnMH%2BWWeBZuy1heLJt5u4Epd3S3dyMz%2FC8w6LyIygY6pgEoPo1KG0beHW8BWsLaUQeexNQ7TbPfzpSgdSzWaJTM9VDGEsphRDRdZ%2Fdig2PU5e%2B5rwtG96%2Bu49l2je0rmbj9xdi09RlVY1RjagoLVsg3erPs4MBJzxnNb94pHVi7KI8MNV66OpJcF6gDwwc3tWipNhK6T%2Fym08vCAzCi9sN4S7hk%2BdCelNyFRh1vzriJVO%2BIXgq6vEvFxnsOWYupeOxyBRwfUqmo&X-Amz-Signature=976f9872ccba4e01285ce7ba11d10f494da87a4a3aad8d30aa30a9a8daf978bd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VUGI33PI%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040315Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCvb9cj%2F%2BM6x9hivaV5WIiqfXyIESXeErviCJLKEYOnjAIgI6I2depVis6UpkIpgrX2UIu7rilFzY5Csc7fhgB%2BUz4q%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDLeEeHTR2uSM%2Fj%2FA7CrcA%2BEjoHwX19Yxs4F5IgcvoH%2B1w7S1cj1VCYelRfjAHGHSv%2BVZfy33xshm22p0AlHYFIWT7eEGt%2Fe%2FwQsglq21ed4SUbW0EIyNiU1qAcfdcxPSV4lEQ7Nm28Jf7Xy%2ByjIPB9xklbv2uFn4j2iD0PME18hKJvczkc0328t4ph7N8OK2UNDVJRohrsWkxbERQyZdA5eLFaF7sTCyB5VR5CUpa9mz%2BB6alPuA%2Bw3R9SUryXrxsLoiibiqprOUGU72WhG6%2BJ5O11r9hH6GWUFwbgzzQTc1B2mo8YSuzJVXy5dbQHObpgp2UrSXVWYu17BkvTetKsU14wKxgHapMhY2%2B065PbGOJXvik3c6B9BZux5xvSdU43LbL4lgDiIsYENoLM0qeXEzqA5VANydZ1ioFAEMMrO3nI7%2FxDj2jM91mb1JdPH6bNsO0RkaXtLc34DiNXfSf8hx14djpcGWw2DRkU3lXoWGZ4TzGXOArMWJCN07p2lf1BdRjBmKuYFPPsLiPjaCMYaiaxeN7D4YMCEKOZc8WNfq2h%2FTRcc%2BthXFQYnFGHrZ9o2c4fI4pEPjtqNM9RBuZspLITT4FT7TaMfGUn7T8jXpHt4y8R6iFwON2riOJ4F%2BtdhqArz8JN%2Fm95BaMOG8iMoGOqUBV6PPP0oM2qBQ3mGWnmS8pGE%2BO%2BEwF1QQuuuUIXya%2FuUT5uC7gXzGjOEAEJpTYJsxtjHaYlOCOX%2B1g36nUdzdvwqzAnMn9OwoECvYKSfFIIDqbWs2dp3MLnGEv4FpWuwz14rdUm2OpgNlEGcUCl48%2FZXIKl8lgzfapERCIZ5WT18ZWVipAkrSeI%2FanK2K1JJuufU0fgYDG4fIqyopHXIRXcZuI8FR&X-Amz-Signature=908e7384e2cc402c0a4b5b69b5dbe40f7caf05a7cfd5708159070d21774a5437&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VUGI33PI%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040315Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCvb9cj%2F%2BM6x9hivaV5WIiqfXyIESXeErviCJLKEYOnjAIgI6I2depVis6UpkIpgrX2UIu7rilFzY5Csc7fhgB%2BUz4q%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDLeEeHTR2uSM%2Fj%2FA7CrcA%2BEjoHwX19Yxs4F5IgcvoH%2B1w7S1cj1VCYelRfjAHGHSv%2BVZfy33xshm22p0AlHYFIWT7eEGt%2Fe%2FwQsglq21ed4SUbW0EIyNiU1qAcfdcxPSV4lEQ7Nm28Jf7Xy%2ByjIPB9xklbv2uFn4j2iD0PME18hKJvczkc0328t4ph7N8OK2UNDVJRohrsWkxbERQyZdA5eLFaF7sTCyB5VR5CUpa9mz%2BB6alPuA%2Bw3R9SUryXrxsLoiibiqprOUGU72WhG6%2BJ5O11r9hH6GWUFwbgzzQTc1B2mo8YSuzJVXy5dbQHObpgp2UrSXVWYu17BkvTetKsU14wKxgHapMhY2%2B065PbGOJXvik3c6B9BZux5xvSdU43LbL4lgDiIsYENoLM0qeXEzqA5VANydZ1ioFAEMMrO3nI7%2FxDj2jM91mb1JdPH6bNsO0RkaXtLc34DiNXfSf8hx14djpcGWw2DRkU3lXoWGZ4TzGXOArMWJCN07p2lf1BdRjBmKuYFPPsLiPjaCMYaiaxeN7D4YMCEKOZc8WNfq2h%2FTRcc%2BthXFQYnFGHrZ9o2c4fI4pEPjtqNM9RBuZspLITT4FT7TaMfGUn7T8jXpHt4y8R6iFwON2riOJ4F%2BtdhqArz8JN%2Fm95BaMOG8iMoGOqUBV6PPP0oM2qBQ3mGWnmS8pGE%2BO%2BEwF1QQuuuUIXya%2FuUT5uC7gXzGjOEAEJpTYJsxtjHaYlOCOX%2B1g36nUdzdvwqzAnMn9OwoECvYKSfFIIDqbWs2dp3MLnGEv4FpWuwz14rdUm2OpgNlEGcUCl48%2FZXIKl8lgzfapERCIZ5WT18ZWVipAkrSeI%2FanK2K1JJuufU0fgYDG4fIqyopHXIRXcZuI8FR&X-Amz-Signature=c65002c6a018e4ff316c0b3613ce59771302d242cf42765b53fbf74293fd6477&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VXJMGQPN%2F20251217%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251217T040315Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEKv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC6vFPf8SqVLa5Rgqz7xQ%2F5YURdbJ5nlcUoxhkiv4RnzgIgOukoLWxEbewJAPVbRcbrOqDKgOTN8G15gEfXNOBlNp8q%2FwMIdBAAGgw2Mzc0MjMxODM4MDUiDIm9PyA1%2F4atU8YovyrcAxV8JgZK%2FkVdjBzWWliThpCv9r0Uh8%2BdNZ2ztmlGIZQDM9RwkpEjrYKcp1CXUSq%2Bm6JzD4rocdatlOWzz3IHbLBTeBb9HC0vRe%2F%2FSNL6AVLIM98t%2FCl%2FngLlZsaNtj3NxpE5c3tYaIqztHpKoUiR87Nrh50H8LXg2z0COX3qheI%2BO148AaWuuuI3PPMnS7dCVBjji%2FIj2%2BJ4vYj0HZXteC5HCqFAv8WsQGYEZC%2Fn84vhJgGPM8GbezwpCO1zGcfVbZ12Q%2F0HHm0Fpzbkv9c870P2gz27L3pd2ixRRoT218Sqeqls8N8fhaa7TXz7IPpKiPypDYpGxZLZYK8vSNokSsJSjiJygWp43cM2aExfG9kqHpfPZp2KfND%2BcN5h%2FxIoxnqPYngEV%2BuQSj9oCyt9Br5catr79DFFklI9GnYCvAPqiF7%2FuWeblyNxW1PY1dgP%2BvLkxlgCSW9lohfaJWNgce%2BLwXknn9zzLnbRmjFZFHe%2B%2FcXzFDG1jzfsBLAnIzwuc1KmzzSsFHpM2S%2Fi%2BlRQy8nEXzQ5g%2B26O%2BVyE%2FZMDcda8XvG7U%2FPdU0c1KjTSbuYGPKEdWdrdpyc8k5geI5czMLjdpbHkFQ3jGnZ%2BXsnpe%2BjljXIUmndBD3LZl0lMK68iMoGOqUBnw8kN53vsvPEySGDM2wvW9xQorDBjyZCSig9gzraAmYdHatThAaKLxULjHeruzQrnuFPobQRV6HI18o3LI006rIiFyqJXU3CdCOUlQ0J1NG5D%2BiCuEaa0uVtco7mQ6oLiQa%2BcNq6HKPkQ97YVRSClMhyw0R4UChcFODwVKnQyNbz%2F74xGd40vg9nSDrIPL2oaFGCx23uDS89yZ5fD3wBSWbweaHL&X-Amz-Signature=30270824b9c85bd252818673d608dc645316a4f50e2390ae89c5c0c97b0ff1a6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
