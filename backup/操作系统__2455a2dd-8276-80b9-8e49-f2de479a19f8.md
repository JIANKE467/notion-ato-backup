
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZBLVWAGC%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIBmAGHLSUPUnHi75i9zBywp0prZtko2kUDV%2F7pTTVgJbAiACwvNku%2BImBqDGgoNIWHU1St9iqeXJ%2F6g7AuYRkZ7QuyqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMSPR0HxSH6huz24YiKtwDHmLLyK4ub%2FoULgqDydmbW71slwShoLOZcqCjSI92v2CpnWmnY7oRz1o4vUU8E2xRMFbI5Yw%2F%2FQBPPSontniNXciRsatfTuMX6nJod8cn2ihRNV7gsVZQcelP5%2FjRedu6L8lIVVbnQFGm04VblZRqycCrfYHgNBaefk3EXwzRFIo4eLuR6WJUo%2FVWjqCRJR%2F0s3lcp6YZl8JzahPtvJ8QVuhqkXiE%2FQYPSuTKaWi%2Bryd8lcQrMPUI9Poh9AuWcahcVnM7%2FtQg2mmS0ZidLwT1iNuf3PCg%2FpbgpVI1n%2Fx0BJh4SzmBTqDPOVIrIbcq7SBKts6tPmgo0Z%2FeigfOl%2BpZye9Qk%2BLJkUc5NlWNv%2BNHgxwgkxW46MgoFPHdzB1wbhQdzMwxacgTeoJJ451dlUnFLWiMdP7x5yxY%2FRDLKiJkHkU8amTZnVgsqyUj8fIRVoxUzWMwh%2BT7E3eHRTzu5bvoxfAbhSoir0u2fbRB9loVhal%2B%2FcXeNY9mKz9ZbAms5wA0mSZOIQ%2FQboPTNB8qoKQA64rtegT%2FUEM0TcELYJBqDcOUrXXjk2ibV5svmos%2F2IfiYjANIS3z1cenEJ40oioK0fCsyGUQUEIw3%2Bv2hTqQm6Ehfo5EZ5Bm5Lsp89kww8bGywY6pgG6xR6PxvuLoeoKDupQqRjNvnhDrFdndbkUejct4xm4i%2FWUfeTV8ODcjaoINwkJzhqaujpT4P81FWAofgbN6qwe2G4tXHGhoVVD2Iy%2BhafOl%2FeR5kGkdWlcgcInOklL9iPtU88ZtPGq7DuJfUTYkmRtWpoAa7L6HFw3YbT3x5SpHVkDULYkCEaeCPeRL39EtF0iEtYXaiOAuvBu5NTvGhOl0YzaCEL7&X-Amz-Signature=63ea3c516df2d5988e1e182d5810bdc1ce7c5eab60aece7173974a4dc22f7c82&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZBLVWAGC%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIBmAGHLSUPUnHi75i9zBywp0prZtko2kUDV%2F7pTTVgJbAiACwvNku%2BImBqDGgoNIWHU1St9iqeXJ%2F6g7AuYRkZ7QuyqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMSPR0HxSH6huz24YiKtwDHmLLyK4ub%2FoULgqDydmbW71slwShoLOZcqCjSI92v2CpnWmnY7oRz1o4vUU8E2xRMFbI5Yw%2F%2FQBPPSontniNXciRsatfTuMX6nJod8cn2ihRNV7gsVZQcelP5%2FjRedu6L8lIVVbnQFGm04VblZRqycCrfYHgNBaefk3EXwzRFIo4eLuR6WJUo%2FVWjqCRJR%2F0s3lcp6YZl8JzahPtvJ8QVuhqkXiE%2FQYPSuTKaWi%2Bryd8lcQrMPUI9Poh9AuWcahcVnM7%2FtQg2mmS0ZidLwT1iNuf3PCg%2FpbgpVI1n%2Fx0BJh4SzmBTqDPOVIrIbcq7SBKts6tPmgo0Z%2FeigfOl%2BpZye9Qk%2BLJkUc5NlWNv%2BNHgxwgkxW46MgoFPHdzB1wbhQdzMwxacgTeoJJ451dlUnFLWiMdP7x5yxY%2FRDLKiJkHkU8amTZnVgsqyUj8fIRVoxUzWMwh%2BT7E3eHRTzu5bvoxfAbhSoir0u2fbRB9loVhal%2B%2FcXeNY9mKz9ZbAms5wA0mSZOIQ%2FQboPTNB8qoKQA64rtegT%2FUEM0TcELYJBqDcOUrXXjk2ibV5svmos%2F2IfiYjANIS3z1cenEJ40oioK0fCsyGUQUEIw3%2Bv2hTqQm6Ehfo5EZ5Bm5Lsp89kww8bGywY6pgG6xR6PxvuLoeoKDupQqRjNvnhDrFdndbkUejct4xm4i%2FWUfeTV8ODcjaoINwkJzhqaujpT4P81FWAofgbN6qwe2G4tXHGhoVVD2Iy%2BhafOl%2FeR5kGkdWlcgcInOklL9iPtU88ZtPGq7DuJfUTYkmRtWpoAa7L6HFw3YbT3x5SpHVkDULYkCEaeCPeRL39EtF0iEtYXaiOAuvBu5NTvGhOl0YzaCEL7&X-Amz-Signature=dc784b39b365446b6932fac91ad6b8ba5bef588176eb3146eed7595f9348c607&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZBLVWAGC%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIBmAGHLSUPUnHi75i9zBywp0prZtko2kUDV%2F7pTTVgJbAiACwvNku%2BImBqDGgoNIWHU1St9iqeXJ%2F6g7AuYRkZ7QuyqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMSPR0HxSH6huz24YiKtwDHmLLyK4ub%2FoULgqDydmbW71slwShoLOZcqCjSI92v2CpnWmnY7oRz1o4vUU8E2xRMFbI5Yw%2F%2FQBPPSontniNXciRsatfTuMX6nJod8cn2ihRNV7gsVZQcelP5%2FjRedu6L8lIVVbnQFGm04VblZRqycCrfYHgNBaefk3EXwzRFIo4eLuR6WJUo%2FVWjqCRJR%2F0s3lcp6YZl8JzahPtvJ8QVuhqkXiE%2FQYPSuTKaWi%2Bryd8lcQrMPUI9Poh9AuWcahcVnM7%2FtQg2mmS0ZidLwT1iNuf3PCg%2FpbgpVI1n%2Fx0BJh4SzmBTqDPOVIrIbcq7SBKts6tPmgo0Z%2FeigfOl%2BpZye9Qk%2BLJkUc5NlWNv%2BNHgxwgkxW46MgoFPHdzB1wbhQdzMwxacgTeoJJ451dlUnFLWiMdP7x5yxY%2FRDLKiJkHkU8amTZnVgsqyUj8fIRVoxUzWMwh%2BT7E3eHRTzu5bvoxfAbhSoir0u2fbRB9loVhal%2B%2FcXeNY9mKz9ZbAms5wA0mSZOIQ%2FQboPTNB8qoKQA64rtegT%2FUEM0TcELYJBqDcOUrXXjk2ibV5svmos%2F2IfiYjANIS3z1cenEJ40oioK0fCsyGUQUEIw3%2Bv2hTqQm6Ehfo5EZ5Bm5Lsp89kww8bGywY6pgG6xR6PxvuLoeoKDupQqRjNvnhDrFdndbkUejct4xm4i%2FWUfeTV8ODcjaoINwkJzhqaujpT4P81FWAofgbN6qwe2G4tXHGhoVVD2Iy%2BhafOl%2FeR5kGkdWlcgcInOklL9iPtU88ZtPGq7DuJfUTYkmRtWpoAa7L6HFw3YbT3x5SpHVkDULYkCEaeCPeRL39EtF0iEtYXaiOAuvBu5NTvGhOl0YzaCEL7&X-Amz-Signature=85d7b10b2dcd8ad29ee7edfcd8ff7547f08104075142788498a04e6fbe382400&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U6JYKL35%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJIMEYCIQCkaYu%2F%2FEqeXOM1gljkg%2B21ViwlTSupUr%2FnkS%2B4vVWMxwIhAN2gB%2FDoU7LE%2BuozhA05CTLimtkT%2BRlmiUeuvK4dcjR0KogECNX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzlTFcnjq0WtKaQJ%2Fkq3AOCclHT%2FfS%2FACeu3p0mLPqTheH1EaDCctCxn9hewB%2FEVc%2BVFhP7nl98wQzogdZFLEUq2Nbn%2Bqnhhiv6Aw6EPe%2B%2BqWayrKt5wM8wC%2Fo78aSf1vra3iitwMRFkochc1m6K9QNx8m9wUtn724UI5KT5e1OfuRL2Q1XQhJh2mPvpHzNVqyy1gDb41nm5AsBAxl6%2Bx6ov5DHpi%2BqtxSE2yZafyXKRQyMIuTlW3sVlHo2hp%2BQHRWx8fLFynG9NCWYg2f7QrHX3zEgRkjPfdDp18IX3HGWRZpAsa9%2FALrs2umuRViLPDqQ1dseY0Ys3csR5A%2Bm0vqUEfz2A%2B2JkvIubnzGEtjVi0%2Bp4t89l%2Ff0SNQ7B8MS0Q7SbDqnvDx1dIeuYp%2F0slmiYIMmjvMB%2FOgEJGKfsDbEiU%2Br9vypTlaKzRazMPHHZgcxsaUGn9ZNjWvJaNp9TWJoMYb9AmyV9ifMMUa8eb7Fjka%2FbKjkiWlDnXteTrq4133EAp%2FEGYV5f0wJo7oh12zZYibsVKO%2F2mQoxcUyV%2FuUnezMCMhAtfQr5lpG1pYOSCHKbGpNsKQkGaqWzrtkLYITvcoiNa%2B%2FvuF861KDktrkm5OmcFEr%2FsnPE0Atk1a1ZXn0clvWOzVc0KkQzjCcxsbLBjqkAVAQREKuTliOBtcXncHf3RYherXDvJXOzDQsnb5uSR6vne%2B9T7DrAbfBMB7M9oWHgtS%2FO1km1iCRv20nPTfYBJ7smzxpvvBH6PF2PDvD2uexXrSHCTt8cWamCQ1stmgYj5XasmdjEaBJYFZbX8FQqmu4rbIPRAlBtxWrevEyD3fULLuhDKvBsGOqa%2FVGfGaRJbNUusgPvHnqaVC7PyZyT5SzLnUM&X-Amz-Signature=115523730f62806d8174ac35d084d84086d7ef1a8b5892e0867e2fbef852c0ae&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U6JYKL35%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJIMEYCIQCkaYu%2F%2FEqeXOM1gljkg%2B21ViwlTSupUr%2FnkS%2B4vVWMxwIhAN2gB%2FDoU7LE%2BuozhA05CTLimtkT%2BRlmiUeuvK4dcjR0KogECNX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzlTFcnjq0WtKaQJ%2Fkq3AOCclHT%2FfS%2FACeu3p0mLPqTheH1EaDCctCxn9hewB%2FEVc%2BVFhP7nl98wQzogdZFLEUq2Nbn%2Bqnhhiv6Aw6EPe%2B%2BqWayrKt5wM8wC%2Fo78aSf1vra3iitwMRFkochc1m6K9QNx8m9wUtn724UI5KT5e1OfuRL2Q1XQhJh2mPvpHzNVqyy1gDb41nm5AsBAxl6%2Bx6ov5DHpi%2BqtxSE2yZafyXKRQyMIuTlW3sVlHo2hp%2BQHRWx8fLFynG9NCWYg2f7QrHX3zEgRkjPfdDp18IX3HGWRZpAsa9%2FALrs2umuRViLPDqQ1dseY0Ys3csR5A%2Bm0vqUEfz2A%2B2JkvIubnzGEtjVi0%2Bp4t89l%2Ff0SNQ7B8MS0Q7SbDqnvDx1dIeuYp%2F0slmiYIMmjvMB%2FOgEJGKfsDbEiU%2Br9vypTlaKzRazMPHHZgcxsaUGn9ZNjWvJaNp9TWJoMYb9AmyV9ifMMUa8eb7Fjka%2FbKjkiWlDnXteTrq4133EAp%2FEGYV5f0wJo7oh12zZYibsVKO%2F2mQoxcUyV%2FuUnezMCMhAtfQr5lpG1pYOSCHKbGpNsKQkGaqWzrtkLYITvcoiNa%2B%2FvuF861KDktrkm5OmcFEr%2FsnPE0Atk1a1ZXn0clvWOzVc0KkQzjCcxsbLBjqkAVAQREKuTliOBtcXncHf3RYherXDvJXOzDQsnb5uSR6vne%2B9T7DrAbfBMB7M9oWHgtS%2FO1km1iCRv20nPTfYBJ7smzxpvvBH6PF2PDvD2uexXrSHCTt8cWamCQ1stmgYj5XasmdjEaBJYFZbX8FQqmu4rbIPRAlBtxWrevEyD3fULLuhDKvBsGOqa%2FVGfGaRJbNUusgPvHnqaVC7PyZyT5SzLnUM&X-Amz-Signature=fd3da72b7c3468c552f7817f480005ea6136140ce4474b2c7354dff3ae2bf7e4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U6JYKL35%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJIMEYCIQCkaYu%2F%2FEqeXOM1gljkg%2B21ViwlTSupUr%2FnkS%2B4vVWMxwIhAN2gB%2FDoU7LE%2BuozhA05CTLimtkT%2BRlmiUeuvK4dcjR0KogECNX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzlTFcnjq0WtKaQJ%2Fkq3AOCclHT%2FfS%2FACeu3p0mLPqTheH1EaDCctCxn9hewB%2FEVc%2BVFhP7nl98wQzogdZFLEUq2Nbn%2Bqnhhiv6Aw6EPe%2B%2BqWayrKt5wM8wC%2Fo78aSf1vra3iitwMRFkochc1m6K9QNx8m9wUtn724UI5KT5e1OfuRL2Q1XQhJh2mPvpHzNVqyy1gDb41nm5AsBAxl6%2Bx6ov5DHpi%2BqtxSE2yZafyXKRQyMIuTlW3sVlHo2hp%2BQHRWx8fLFynG9NCWYg2f7QrHX3zEgRkjPfdDp18IX3HGWRZpAsa9%2FALrs2umuRViLPDqQ1dseY0Ys3csR5A%2Bm0vqUEfz2A%2B2JkvIubnzGEtjVi0%2Bp4t89l%2Ff0SNQ7B8MS0Q7SbDqnvDx1dIeuYp%2F0slmiYIMmjvMB%2FOgEJGKfsDbEiU%2Br9vypTlaKzRazMPHHZgcxsaUGn9ZNjWvJaNp9TWJoMYb9AmyV9ifMMUa8eb7Fjka%2FbKjkiWlDnXteTrq4133EAp%2FEGYV5f0wJo7oh12zZYibsVKO%2F2mQoxcUyV%2FuUnezMCMhAtfQr5lpG1pYOSCHKbGpNsKQkGaqWzrtkLYITvcoiNa%2B%2FvuF861KDktrkm5OmcFEr%2FsnPE0Atk1a1ZXn0clvWOzVc0KkQzjCcxsbLBjqkAVAQREKuTliOBtcXncHf3RYherXDvJXOzDQsnb5uSR6vne%2B9T7DrAbfBMB7M9oWHgtS%2FO1km1iCRv20nPTfYBJ7smzxpvvBH6PF2PDvD2uexXrSHCTt8cWamCQ1stmgYj5XasmdjEaBJYFZbX8FQqmu4rbIPRAlBtxWrevEyD3fULLuhDKvBsGOqa%2FVGfGaRJbNUusgPvHnqaVC7PyZyT5SzLnUM&X-Amz-Signature=5204a99bb44d43e7e838940fcae086a5e9f3773c9de130733346ef2bac2fac5b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WEDGFP5E%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJIMEYCIQCDf6j2r7n5RGyt08qZDu9G2UbyOI0blnV32fnIFLRDJgIhAJa5AwX%2FUsSLCQ1BYqgJ5vLKFZOcnA06w4vZ1enxePyiKogECNX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igy3b6YsKUiwWCxk0gAq3AMh0i860GkSkYbf9htDvd19%2BLyaqThBG4tcVHc7gsZNYHA740McqnflkT2suipCVd9B6NhI46JB8CF2c5BEUMFCE6c8bCiMcClpCzjAC7hwiWnj12XfFjtDNHrh7YYcIlE4JsoqXcUO4Xlu5f0t%2FSMtGqFX0J%2Fi6jN25%2BJhlO8xyzeOTjIIzK1O3Av8Klg4vJi4vjALUznBEtK8gdWy5ffCLX4gJkq2g9Njxv21tq2e47UbtUfVO67h4xjvkwoZ49RZ2vY3b%2FKYgi6%2BsXGok0P9ETfOdMGYynEDAmcKlGZj4cYCnpr3wJfZNzt%2FRxzWde9V57sdidlXCO8m6%2B01xNlHYcesAmysgSLi5sPQfDWit4Tb1GuddmIOxl7R35XdewXiEE7d3Uypio%2BSB3ehCF9UTTv%2F42h34MNOq%2FlH6nAQXMTcxPf9d%2BTKta%2BpcVJAVaavG9rLtrhiFwX8f6DKp2INsppLps4qmiZpmrjPA38G7hIhBdDr5VnhdJs6iAm%2FlgvxgsUlhoLoRQKTZJDur%2F7qjWAjLvbE2ozjjsz93LAIWH7byNTeNE1TcsHzgM4Ctj03rFA%2F5g24ydJRKoG3eWy9wc94fJ8cESlgH1Hlh8B3fLqit48ON0p9AYy%2BbjC7xsbLBjqkAY0JrUW%2FOSia4ViNAsri4kl4bt4kinTeNj8%2FWNU4j8RULfG6GQEd8LF9T3DmdDXW%2BqdKFD8z%2BW1r%2F7%2Fkxx7rjdStDkCL%2F%2F25kTyhdmuL4GYyD1Ab4M1FZO9MXOiaX1Q%2FLrbOnAoyUmfut7IR3NhxpJgkTFHM8LZoj5cgk87%2Fp1PtjInhfcJRsBN7PhLbdw44mahKjAzYNLOQDsHQSoZu7jnVjk7U&X-Amz-Signature=a279e75d63459c1044c5cf4f86d842017f7ca34a8386d8be82b78c52ab7d1319&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WEDGFP5E%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJIMEYCIQCDf6j2r7n5RGyt08qZDu9G2UbyOI0blnV32fnIFLRDJgIhAJa5AwX%2FUsSLCQ1BYqgJ5vLKFZOcnA06w4vZ1enxePyiKogECNX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igy3b6YsKUiwWCxk0gAq3AMh0i860GkSkYbf9htDvd19%2BLyaqThBG4tcVHc7gsZNYHA740McqnflkT2suipCVd9B6NhI46JB8CF2c5BEUMFCE6c8bCiMcClpCzjAC7hwiWnj12XfFjtDNHrh7YYcIlE4JsoqXcUO4Xlu5f0t%2FSMtGqFX0J%2Fi6jN25%2BJhlO8xyzeOTjIIzK1O3Av8Klg4vJi4vjALUznBEtK8gdWy5ffCLX4gJkq2g9Njxv21tq2e47UbtUfVO67h4xjvkwoZ49RZ2vY3b%2FKYgi6%2BsXGok0P9ETfOdMGYynEDAmcKlGZj4cYCnpr3wJfZNzt%2FRxzWde9V57sdidlXCO8m6%2B01xNlHYcesAmysgSLi5sPQfDWit4Tb1GuddmIOxl7R35XdewXiEE7d3Uypio%2BSB3ehCF9UTTv%2F42h34MNOq%2FlH6nAQXMTcxPf9d%2BTKta%2BpcVJAVaavG9rLtrhiFwX8f6DKp2INsppLps4qmiZpmrjPA38G7hIhBdDr5VnhdJs6iAm%2FlgvxgsUlhoLoRQKTZJDur%2F7qjWAjLvbE2ozjjsz93LAIWH7byNTeNE1TcsHzgM4Ctj03rFA%2F5g24ydJRKoG3eWy9wc94fJ8cESlgH1Hlh8B3fLqit48ON0p9AYy%2BbjC7xsbLBjqkAY0JrUW%2FOSia4ViNAsri4kl4bt4kinTeNj8%2FWNU4j8RULfG6GQEd8LF9T3DmdDXW%2BqdKFD8z%2BW1r%2F7%2Fkxx7rjdStDkCL%2F%2F25kTyhdmuL4GYyD1Ab4M1FZO9MXOiaX1Q%2FLrbOnAoyUmfut7IR3NhxpJgkTFHM8LZoj5cgk87%2Fp1PtjInhfcJRsBN7PhLbdw44mahKjAzYNLOQDsHQSoZu7jnVjk7U&X-Amz-Signature=81d32e205d4da5e08818313f0856335d6f6f36b6b636356f150f864e8f4c9547&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WEDGFP5E%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJIMEYCIQCDf6j2r7n5RGyt08qZDu9G2UbyOI0blnV32fnIFLRDJgIhAJa5AwX%2FUsSLCQ1BYqgJ5vLKFZOcnA06w4vZ1enxePyiKogECNX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igy3b6YsKUiwWCxk0gAq3AMh0i860GkSkYbf9htDvd19%2BLyaqThBG4tcVHc7gsZNYHA740McqnflkT2suipCVd9B6NhI46JB8CF2c5BEUMFCE6c8bCiMcClpCzjAC7hwiWnj12XfFjtDNHrh7YYcIlE4JsoqXcUO4Xlu5f0t%2FSMtGqFX0J%2Fi6jN25%2BJhlO8xyzeOTjIIzK1O3Av8Klg4vJi4vjALUznBEtK8gdWy5ffCLX4gJkq2g9Njxv21tq2e47UbtUfVO67h4xjvkwoZ49RZ2vY3b%2FKYgi6%2BsXGok0P9ETfOdMGYynEDAmcKlGZj4cYCnpr3wJfZNzt%2FRxzWde9V57sdidlXCO8m6%2B01xNlHYcesAmysgSLi5sPQfDWit4Tb1GuddmIOxl7R35XdewXiEE7d3Uypio%2BSB3ehCF9UTTv%2F42h34MNOq%2FlH6nAQXMTcxPf9d%2BTKta%2BpcVJAVaavG9rLtrhiFwX8f6DKp2INsppLps4qmiZpmrjPA38G7hIhBdDr5VnhdJs6iAm%2FlgvxgsUlhoLoRQKTZJDur%2F7qjWAjLvbE2ozjjsz93LAIWH7byNTeNE1TcsHzgM4Ctj03rFA%2F5g24ydJRKoG3eWy9wc94fJ8cESlgH1Hlh8B3fLqit48ON0p9AYy%2BbjC7xsbLBjqkAY0JrUW%2FOSia4ViNAsri4kl4bt4kinTeNj8%2FWNU4j8RULfG6GQEd8LF9T3DmdDXW%2BqdKFD8z%2BW1r%2F7%2Fkxx7rjdStDkCL%2F%2F25kTyhdmuL4GYyD1Ab4M1FZO9MXOiaX1Q%2FLrbOnAoyUmfut7IR3NhxpJgkTFHM8LZoj5cgk87%2Fp1PtjInhfcJRsBN7PhLbdw44mahKjAzYNLOQDsHQSoZu7jnVjk7U&X-Amz-Signature=beb2a800a67915b37aeec2293fbe6b01b7d5b07df4d43f5297a1f8089547c3eb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WEDGFP5E%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJIMEYCIQCDf6j2r7n5RGyt08qZDu9G2UbyOI0blnV32fnIFLRDJgIhAJa5AwX%2FUsSLCQ1BYqgJ5vLKFZOcnA06w4vZ1enxePyiKogECNX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igy3b6YsKUiwWCxk0gAq3AMh0i860GkSkYbf9htDvd19%2BLyaqThBG4tcVHc7gsZNYHA740McqnflkT2suipCVd9B6NhI46JB8CF2c5BEUMFCE6c8bCiMcClpCzjAC7hwiWnj12XfFjtDNHrh7YYcIlE4JsoqXcUO4Xlu5f0t%2FSMtGqFX0J%2Fi6jN25%2BJhlO8xyzeOTjIIzK1O3Av8Klg4vJi4vjALUznBEtK8gdWy5ffCLX4gJkq2g9Njxv21tq2e47UbtUfVO67h4xjvkwoZ49RZ2vY3b%2FKYgi6%2BsXGok0P9ETfOdMGYynEDAmcKlGZj4cYCnpr3wJfZNzt%2FRxzWde9V57sdidlXCO8m6%2B01xNlHYcesAmysgSLi5sPQfDWit4Tb1GuddmIOxl7R35XdewXiEE7d3Uypio%2BSB3ehCF9UTTv%2F42h34MNOq%2FlH6nAQXMTcxPf9d%2BTKta%2BpcVJAVaavG9rLtrhiFwX8f6DKp2INsppLps4qmiZpmrjPA38G7hIhBdDr5VnhdJs6iAm%2FlgvxgsUlhoLoRQKTZJDur%2F7qjWAjLvbE2ozjjsz93LAIWH7byNTeNE1TcsHzgM4Ctj03rFA%2F5g24ydJRKoG3eWy9wc94fJ8cESlgH1Hlh8B3fLqit48ON0p9AYy%2BbjC7xsbLBjqkAY0JrUW%2FOSia4ViNAsri4kl4bt4kinTeNj8%2FWNU4j8RULfG6GQEd8LF9T3DmdDXW%2BqdKFD8z%2BW1r%2F7%2Fkxx7rjdStDkCL%2F%2F25kTyhdmuL4GYyD1Ab4M1FZO9MXOiaX1Q%2FLrbOnAoyUmfut7IR3NhxpJgkTFHM8LZoj5cgk87%2Fp1PtjInhfcJRsBN7PhLbdw44mahKjAzYNLOQDsHQSoZu7jnVjk7U&X-Amz-Signature=5e5ed5b0115772f042988a20470d95c834579e7b97d570c813c201576d664663&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z6ZWZNNA%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJHMEUCIQD5tnuOxvGtIJRJKmp9ZvfITpKS5dSG34t7Cr7fwTgenAIgZLP2hsbC%2BOepucxAMDpBXFao1rSmVW6Il06QscDwDx0qiAQI1f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFET6DeQ2Rbbm8t3lircA1wjwEDVY%2B1FgonGYWsGW7NSMTidyNz6wg%2BvGaAHlKUaSsEqcY3T8Su%2Bjhu5FfKy6JVsRjNNbfcdcm7O61whw46lliKj3916gZY0LD%2Fucdxzmut04qw2RYMLJPRPJAtsOuceopa3ONENAk3mJ2ZKlFbZxcx%2FkMQyXQT7A2%2BwwZYFLWonaxl8jx7DWfD21R8VLCPXMHPyyhhYM%2BI8P1tgAzgtCfW9T41If7Rl7ua04ISbQvv%2BAKAyJtrClyLeFgAEsrQMDerxysQXDLEVhELlDo2eaH2HugBV8%2FnkRd5ud5bWLXvy0sttHwU%2FVrTvxtT1H9ngRNWPZXySrkpTuym1jt7tgxs1ApVSHN0VgfaYBZ6431a3KqBjGzmTXH1f98J9kLr4VJq5l0tE1ubaLsoIcfFEweFpWPPKDLMGlpoK%2B0m6aWsoSyNgM%2BGBfZ736eCYPdAJJhmrYDoNPPv1wFAmHW607uH9cfRAx9t3tpEu93tv81lDCsS3B%2BWS5xRdcJGp2KJ5aliPtrASWvvQ%2FCuyKMilKvIIh025MfiwjMXzOWs381HHOr7br0hIw2Z3433xFASA2KqPZBA9iYmFOvltUC4GScgMcmIQK8NL%2B90MTw23Wp4ees7Gi9kjRJb2MJrGxssGOqUBGfS6GmyUfpiFzbLLHu4rjjAgdOti7x7BrBiUXMC3%2BuNywW2jOrZ5xpax88aHW7Y9664jp2uyHvv3MXUH8v9chPDJwKfvE91fILt%2F2qM1LrH14EXVaLQHEva3TiQgCV2PAM08UvNiH%2FhOAJ8x9oHZSDtJSaJE6npKMSU5c5%2Fwu%2BA7vEwt4%2BpIWmVeLYy1BCX4zZIciF3JhiBOqr9wAky6Eoh2S%2Bkz&X-Amz-Signature=85ab6de38e4674f8378672f6a397ede197839cfb6302913bf922118173d97205&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z6ZWZNNA%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJHMEUCIQD5tnuOxvGtIJRJKmp9ZvfITpKS5dSG34t7Cr7fwTgenAIgZLP2hsbC%2BOepucxAMDpBXFao1rSmVW6Il06QscDwDx0qiAQI1f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFET6DeQ2Rbbm8t3lircA1wjwEDVY%2B1FgonGYWsGW7NSMTidyNz6wg%2BvGaAHlKUaSsEqcY3T8Su%2Bjhu5FfKy6JVsRjNNbfcdcm7O61whw46lliKj3916gZY0LD%2Fucdxzmut04qw2RYMLJPRPJAtsOuceopa3ONENAk3mJ2ZKlFbZxcx%2FkMQyXQT7A2%2BwwZYFLWonaxl8jx7DWfD21R8VLCPXMHPyyhhYM%2BI8P1tgAzgtCfW9T41If7Rl7ua04ISbQvv%2BAKAyJtrClyLeFgAEsrQMDerxysQXDLEVhELlDo2eaH2HugBV8%2FnkRd5ud5bWLXvy0sttHwU%2FVrTvxtT1H9ngRNWPZXySrkpTuym1jt7tgxs1ApVSHN0VgfaYBZ6431a3KqBjGzmTXH1f98J9kLr4VJq5l0tE1ubaLsoIcfFEweFpWPPKDLMGlpoK%2B0m6aWsoSyNgM%2BGBfZ736eCYPdAJJhmrYDoNPPv1wFAmHW607uH9cfRAx9t3tpEu93tv81lDCsS3B%2BWS5xRdcJGp2KJ5aliPtrASWvvQ%2FCuyKMilKvIIh025MfiwjMXzOWs381HHOr7br0hIw2Z3433xFASA2KqPZBA9iYmFOvltUC4GScgMcmIQK8NL%2B90MTw23Wp4ees7Gi9kjRJb2MJrGxssGOqUBGfS6GmyUfpiFzbLLHu4rjjAgdOti7x7BrBiUXMC3%2BuNywW2jOrZ5xpax88aHW7Y9664jp2uyHvv3MXUH8v9chPDJwKfvE91fILt%2F2qM1LrH14EXVaLQHEva3TiQgCV2PAM08UvNiH%2FhOAJ8x9oHZSDtJSaJE6npKMSU5c5%2Fwu%2BA7vEwt4%2BpIWmVeLYy1BCX4zZIciF3JhiBOqr9wAky6Eoh2S%2Bkz&X-Amz-Signature=59ef5d43e2f87ff8a0c3eabe5518f6757075362fca13a6fdf2d6a6af7937539b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z6ZWZNNA%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJHMEUCIQD5tnuOxvGtIJRJKmp9ZvfITpKS5dSG34t7Cr7fwTgenAIgZLP2hsbC%2BOepucxAMDpBXFao1rSmVW6Il06QscDwDx0qiAQI1f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFET6DeQ2Rbbm8t3lircA1wjwEDVY%2B1FgonGYWsGW7NSMTidyNz6wg%2BvGaAHlKUaSsEqcY3T8Su%2Bjhu5FfKy6JVsRjNNbfcdcm7O61whw46lliKj3916gZY0LD%2Fucdxzmut04qw2RYMLJPRPJAtsOuceopa3ONENAk3mJ2ZKlFbZxcx%2FkMQyXQT7A2%2BwwZYFLWonaxl8jx7DWfD21R8VLCPXMHPyyhhYM%2BI8P1tgAzgtCfW9T41If7Rl7ua04ISbQvv%2BAKAyJtrClyLeFgAEsrQMDerxysQXDLEVhELlDo2eaH2HugBV8%2FnkRd5ud5bWLXvy0sttHwU%2FVrTvxtT1H9ngRNWPZXySrkpTuym1jt7tgxs1ApVSHN0VgfaYBZ6431a3KqBjGzmTXH1f98J9kLr4VJq5l0tE1ubaLsoIcfFEweFpWPPKDLMGlpoK%2B0m6aWsoSyNgM%2BGBfZ736eCYPdAJJhmrYDoNPPv1wFAmHW607uH9cfRAx9t3tpEu93tv81lDCsS3B%2BWS5xRdcJGp2KJ5aliPtrASWvvQ%2FCuyKMilKvIIh025MfiwjMXzOWs381HHOr7br0hIw2Z3433xFASA2KqPZBA9iYmFOvltUC4GScgMcmIQK8NL%2B90MTw23Wp4ees7Gi9kjRJb2MJrGxssGOqUBGfS6GmyUfpiFzbLLHu4rjjAgdOti7x7BrBiUXMC3%2BuNywW2jOrZ5xpax88aHW7Y9664jp2uyHvv3MXUH8v9chPDJwKfvE91fILt%2F2qM1LrH14EXVaLQHEva3TiQgCV2PAM08UvNiH%2FhOAJ8x9oHZSDtJSaJE6npKMSU5c5%2Fwu%2BA7vEwt4%2BpIWmVeLYy1BCX4zZIciF3JhiBOqr9wAky6Eoh2S%2Bkz&X-Amz-Signature=e0fbb0d37848e08c9e81d1718e07326ff535b45831a3f02e6d63d50e40c4a9be&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z6ZWZNNA%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJHMEUCIQD5tnuOxvGtIJRJKmp9ZvfITpKS5dSG34t7Cr7fwTgenAIgZLP2hsbC%2BOepucxAMDpBXFao1rSmVW6Il06QscDwDx0qiAQI1f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDFET6DeQ2Rbbm8t3lircA1wjwEDVY%2B1FgonGYWsGW7NSMTidyNz6wg%2BvGaAHlKUaSsEqcY3T8Su%2Bjhu5FfKy6JVsRjNNbfcdcm7O61whw46lliKj3916gZY0LD%2Fucdxzmut04qw2RYMLJPRPJAtsOuceopa3ONENAk3mJ2ZKlFbZxcx%2FkMQyXQT7A2%2BwwZYFLWonaxl8jx7DWfD21R8VLCPXMHPyyhhYM%2BI8P1tgAzgtCfW9T41If7Rl7ua04ISbQvv%2BAKAyJtrClyLeFgAEsrQMDerxysQXDLEVhELlDo2eaH2HugBV8%2FnkRd5ud5bWLXvy0sttHwU%2FVrTvxtT1H9ngRNWPZXySrkpTuym1jt7tgxs1ApVSHN0VgfaYBZ6431a3KqBjGzmTXH1f98J9kLr4VJq5l0tE1ubaLsoIcfFEweFpWPPKDLMGlpoK%2B0m6aWsoSyNgM%2BGBfZ736eCYPdAJJhmrYDoNPPv1wFAmHW607uH9cfRAx9t3tpEu93tv81lDCsS3B%2BWS5xRdcJGp2KJ5aliPtrASWvvQ%2FCuyKMilKvIIh025MfiwjMXzOWs381HHOr7br0hIw2Z3433xFASA2KqPZBA9iYmFOvltUC4GScgMcmIQK8NL%2B90MTw23Wp4ees7Gi9kjRJb2MJrGxssGOqUBGfS6GmyUfpiFzbLLHu4rjjAgdOti7x7BrBiUXMC3%2BuNywW2jOrZ5xpax88aHW7Y9664jp2uyHvv3MXUH8v9chPDJwKfvE91fILt%2F2qM1LrH14EXVaLQHEva3TiQgCV2PAM08UvNiH%2FhOAJ8x9oHZSDtJSaJE6npKMSU5c5%2Fwu%2BA7vEwt4%2BpIWmVeLYy1BCX4zZIciF3JhiBOqr9wAky6Eoh2S%2Bkz&X-Amz-Signature=63ab1674cdce3500c74322a2f5e77a42d6ae9dd19e231c989412ec295e1e5df2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466REFBWT7O%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIGyOmhn9ONEJ99jrJWshP%2FBjSxwyYPP9jLH6E91v%2BeUbAiA%2BBr2RMj3ULTRVLUIMDk%2FhXgc4Zu9OP2L%2FqIlg31W8UiqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMh07otHtihsWbHqW7KtwDmwcs4wSgA5LmHUPrv1%2B4j4P5vcB3I1bc8oTQxmRW%2FdphW16AcAKHhCQB6dPLKcLdLCHcoaNKTOfCe7D7VrkJOK14ZBrb%2FoRUwPmmLwChL0uiKG43mnJ8jQ79%2Bp6WFFOA%2B81HNOtf5OJCjifEQCZqwkg8bbBEKQEt6IPfQ10cYWIO1uYDqqYxuxp0EOLVxeBlFmhZ5MypV%2BxWWesa%2Fsw%2Fy5mT%2BFhgAkuBcBQ2HQ5U4WNuc5V8sCa1Ws5u3eH1iZwMyao2E%2B%2Fz2lh0ucxB%2BlKdOppQX4qihmgfaw%2Bgmt60hjRWLs41lphgfc1tqLbloVu5j2%2FP96VS6uE6PkeXgbj53b6UhvLh1ldOozXfg5pve%2BMz8xuGWcKJXqm8ra9jyJC8S4Ig%2B%2BhGkEHXaLfBz4MIcR%2BEfzNgLZustgBd8pw5HCSV7hysZj3M8ZqI1diB1ZqphoMxNN0xhekmBDhODuxDPZfa5gsCMIwSapm1FXC8A9tpbCg3mOcvcR58RffPJo%2Bw%2BrWXBVTW9URHrb6yZgM3lco0xzIWFu85BK2FBDesBdsP9oNn68zFIaCJbw%2FVa2b4a9Z41TY37llEMJwx3iIFLimscJyDUEXpm9cLaHqiW7bgP5vTOQr3Csmyc6QwrcbGywY6pgE0qSb9%2FHG5tLA%2FSojQcjZlZECOWrHe6Fwo09z8yGKLipoE2fAaPXpZ4kQz8lKxETcFqkSuCpZG4%2B3osi89OHcOKF2F%2BRtSC26EREoIeYg0oYbH0%2FW8VArDVX68PJLdeKOHRqsLSoX1eGnYmBgTdxnfY7ug7a0Ea0RfYOdxgflcNq9x4oBRskFKFOnrZbWEREa9PZlH%2BRSQP9I1uGVxRlPiy1109e8z&X-Amz-Signature=aad915a859da92c887f3c5a88f50a8a8afd5f1216412f0d6b57158fc60d359a0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466REFBWT7O%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIGyOmhn9ONEJ99jrJWshP%2FBjSxwyYPP9jLH6E91v%2BeUbAiA%2BBr2RMj3ULTRVLUIMDk%2FhXgc4Zu9OP2L%2FqIlg31W8UiqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMh07otHtihsWbHqW7KtwDmwcs4wSgA5LmHUPrv1%2B4j4P5vcB3I1bc8oTQxmRW%2FdphW16AcAKHhCQB6dPLKcLdLCHcoaNKTOfCe7D7VrkJOK14ZBrb%2FoRUwPmmLwChL0uiKG43mnJ8jQ79%2Bp6WFFOA%2B81HNOtf5OJCjifEQCZqwkg8bbBEKQEt6IPfQ10cYWIO1uYDqqYxuxp0EOLVxeBlFmhZ5MypV%2BxWWesa%2Fsw%2Fy5mT%2BFhgAkuBcBQ2HQ5U4WNuc5V8sCa1Ws5u3eH1iZwMyao2E%2B%2Fz2lh0ucxB%2BlKdOppQX4qihmgfaw%2Bgmt60hjRWLs41lphgfc1tqLbloVu5j2%2FP96VS6uE6PkeXgbj53b6UhvLh1ldOozXfg5pve%2BMz8xuGWcKJXqm8ra9jyJC8S4Ig%2B%2BhGkEHXaLfBz4MIcR%2BEfzNgLZustgBd8pw5HCSV7hysZj3M8ZqI1diB1ZqphoMxNN0xhekmBDhODuxDPZfa5gsCMIwSapm1FXC8A9tpbCg3mOcvcR58RffPJo%2Bw%2BrWXBVTW9URHrb6yZgM3lco0xzIWFu85BK2FBDesBdsP9oNn68zFIaCJbw%2FVa2b4a9Z41TY37llEMJwx3iIFLimscJyDUEXpm9cLaHqiW7bgP5vTOQr3Csmyc6QwrcbGywY6pgE0qSb9%2FHG5tLA%2FSojQcjZlZECOWrHe6Fwo09z8yGKLipoE2fAaPXpZ4kQz8lKxETcFqkSuCpZG4%2B3osi89OHcOKF2F%2BRtSC26EREoIeYg0oYbH0%2FW8VArDVX68PJLdeKOHRqsLSoX1eGnYmBgTdxnfY7ug7a0Ea0RfYOdxgflcNq9x4oBRskFKFOnrZbWEREa9PZlH%2BRSQP9I1uGVxRlPiy1109e8z&X-Amz-Signature=e2eab70888c86288d2ab7495f85c802ec7f3432a1681eef9efa84d394b5fadb9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466REFBWT7O%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIGyOmhn9ONEJ99jrJWshP%2FBjSxwyYPP9jLH6E91v%2BeUbAiA%2BBr2RMj3ULTRVLUIMDk%2FhXgc4Zu9OP2L%2FqIlg31W8UiqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMh07otHtihsWbHqW7KtwDmwcs4wSgA5LmHUPrv1%2B4j4P5vcB3I1bc8oTQxmRW%2FdphW16AcAKHhCQB6dPLKcLdLCHcoaNKTOfCe7D7VrkJOK14ZBrb%2FoRUwPmmLwChL0uiKG43mnJ8jQ79%2Bp6WFFOA%2B81HNOtf5OJCjifEQCZqwkg8bbBEKQEt6IPfQ10cYWIO1uYDqqYxuxp0EOLVxeBlFmhZ5MypV%2BxWWesa%2Fsw%2Fy5mT%2BFhgAkuBcBQ2HQ5U4WNuc5V8sCa1Ws5u3eH1iZwMyao2E%2B%2Fz2lh0ucxB%2BlKdOppQX4qihmgfaw%2Bgmt60hjRWLs41lphgfc1tqLbloVu5j2%2FP96VS6uE6PkeXgbj53b6UhvLh1ldOozXfg5pve%2BMz8xuGWcKJXqm8ra9jyJC8S4Ig%2B%2BhGkEHXaLfBz4MIcR%2BEfzNgLZustgBd8pw5HCSV7hysZj3M8ZqI1diB1ZqphoMxNN0xhekmBDhODuxDPZfa5gsCMIwSapm1FXC8A9tpbCg3mOcvcR58RffPJo%2Bw%2BrWXBVTW9URHrb6yZgM3lco0xzIWFu85BK2FBDesBdsP9oNn68zFIaCJbw%2FVa2b4a9Z41TY37llEMJwx3iIFLimscJyDUEXpm9cLaHqiW7bgP5vTOQr3Csmyc6QwrcbGywY6pgE0qSb9%2FHG5tLA%2FSojQcjZlZECOWrHe6Fwo09z8yGKLipoE2fAaPXpZ4kQz8lKxETcFqkSuCpZG4%2B3osi89OHcOKF2F%2BRtSC26EREoIeYg0oYbH0%2FW8VArDVX68PJLdeKOHRqsLSoX1eGnYmBgTdxnfY7ug7a0Ea0RfYOdxgflcNq9x4oBRskFKFOnrZbWEREa9PZlH%2BRSQP9I1uGVxRlPiy1109e8z&X-Amz-Signature=b5e8b78e34f385fc0f1fc4436476d8191269a09950fb64d806675a2379aa7bc6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YTOW627O%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042034Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJHMEUCIFeEV%2BiX4ax%2BYtWE%2FRDdDDMkoxHg4c9hcx%2Bks44r8aNUAiEAnTCwCtTy6heikgaNvqKnYmhgwnAX88f2HJ1XwLioV1kqiAQI1f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNdrTWOrHxMdBM%2FTkCrcA6wwKftegfPay%2Fb69VoWHxuSNZgCF%2BxuDMOchqU8WnENTnWG%2BoDi3pz2C5xlB4qwjWr93gthpoDfm3EK3zb6dWvZqkuzGqH3wB1CfsFyyMs14LAVnOx10CH073JnSm5xorrxm8vRFp6KY5CvAA40AHFqDnl0rxFrlpAALWKJ9Q5f%2Bg2qsRVS3kUS5YK9%2BRti%2B7fw1B8vtjRPJDLPOGx%2FPuBCuACrZtau%2Fc7%2B22jHKd93DU%2ByO24pAL4RPFdlsCZ5z%2BiJoDv9D4BwI%2B%2Fus6cp8c0SaqIq33M6OTd3BZwhWN6Gfn%2Fd3u3ZLgE7bRKaIN6mqA1J9b3W34Q7PY%2BsS4NHHuh2Tp2GqgBV5y7V2uxRTjDyg0c4bYKHz2Ttlu3day0leoJXHFAeKMIbz6V8YoM%2FIu%2F5yUnSmAyaABTLsed3q13Q3cafGH7yNwkdtV3lREb0Q9zUXKvIHUuMJi8vBmO9xakTLEeo3FyoThntbM%2Bw9eorRnruXginsiEJjiVfmzrXEdtYZvkPzinOhJUpAT3jRiw5OOSRfdugGaEO72O6vjdfzf2S7W6%2BqSC49yuKQmHuAUD80y8Llz9wNRAFzoGXjr4YW5dzUabUaX7B6UJTWOWcB%2BrWQZ8pGICyWwVZMIrHxssGOqUBbH0AgTzSxeLdTH8RWErc6BSeS%2F0YgRMXCqXeonyt8IgEWuymXcyPJZjNPQZ%2BC4TjWI0OgsaCV%2BIgMDnrh1POuTgxY8%2Bt9yyDQ%2BwuKeH0rd35ACaxx%2FieMpz9g4BFZB6vlKQR5Mzf%2BDAwHQVjAXcKPEUq4p7vu%2F%2FbKX3vrmyYayBbJfQMUgOESSNhX4VHY3uqGfMfn1iHtVMnFuXyVZIlcQWBHdV5&X-Amz-Signature=3ecca4945f55f01b0fd1f5b7db144bf1d65b3721bf31f56ed9953a0629234325&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YTOW627O%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042034Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJHMEUCIFeEV%2BiX4ax%2BYtWE%2FRDdDDMkoxHg4c9hcx%2Bks44r8aNUAiEAnTCwCtTy6heikgaNvqKnYmhgwnAX88f2HJ1XwLioV1kqiAQI1f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDNdrTWOrHxMdBM%2FTkCrcA6wwKftegfPay%2Fb69VoWHxuSNZgCF%2BxuDMOchqU8WnENTnWG%2BoDi3pz2C5xlB4qwjWr93gthpoDfm3EK3zb6dWvZqkuzGqH3wB1CfsFyyMs14LAVnOx10CH073JnSm5xorrxm8vRFp6KY5CvAA40AHFqDnl0rxFrlpAALWKJ9Q5f%2Bg2qsRVS3kUS5YK9%2BRti%2B7fw1B8vtjRPJDLPOGx%2FPuBCuACrZtau%2Fc7%2B22jHKd93DU%2ByO24pAL4RPFdlsCZ5z%2BiJoDv9D4BwI%2B%2Fus6cp8c0SaqIq33M6OTd3BZwhWN6Gfn%2Fd3u3ZLgE7bRKaIN6mqA1J9b3W34Q7PY%2BsS4NHHuh2Tp2GqgBV5y7V2uxRTjDyg0c4bYKHz2Ttlu3day0leoJXHFAeKMIbz6V8YoM%2FIu%2F5yUnSmAyaABTLsed3q13Q3cafGH7yNwkdtV3lREb0Q9zUXKvIHUuMJi8vBmO9xakTLEeo3FyoThntbM%2Bw9eorRnruXginsiEJjiVfmzrXEdtYZvkPzinOhJUpAT3jRiw5OOSRfdugGaEO72O6vjdfzf2S7W6%2BqSC49yuKQmHuAUD80y8Llz9wNRAFzoGXjr4YW5dzUabUaX7B6UJTWOWcB%2BrWQZ8pGICyWwVZMIrHxssGOqUBbH0AgTzSxeLdTH8RWErc6BSeS%2F0YgRMXCqXeonyt8IgEWuymXcyPJZjNPQZ%2BC4TjWI0OgsaCV%2BIgMDnrh1POuTgxY8%2Bt9yyDQ%2BwuKeH0rd35ACaxx%2FieMpz9g4BFZB6vlKQR5Mzf%2BDAwHQVjAXcKPEUq4p7vu%2F%2FbKX3vrmyYayBbJfQMUgOESSNhX4VHY3uqGfMfn1iHtVMnFuXyVZIlcQWBHdV5&X-Amz-Signature=df11dd228cbbd0b51966e1cc30a94da17d6659efc9329627840881656fff7ee5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VL7CSVMD%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042036Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIFZ9YloEwD0iSCsWg51hEWMkFJq01YveZRMXhvdUrWQ%2FAiA7KXE%2FUrAGHxZfWgogJkdeJKuV5XC2gH8PrXlGGonZSiqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMa0ZcV4TBLxVyj%2BZcKtwD9frbOO3M3d4CGsIpDzsHB5oNwjKOjAMfNfniuxrM%2FpaFH8csGY6okKRz7QLQXE5ZkELYMI9eaMKrRKiEFA30t9eDrsfWPlzE9%2BB8NIhL7%2F1K5YcmFJ3v1YqzKjP%2BW%2BEBFE8NSZAJZE0RU%2BkXi9M5%2BMaE1jzZPvIbhcK2%2FSRZ9my6E1VXbPeBIFD7eM0cvaUobih32jyikosH42GiiBxPZiu3MSxKmKZh5ZHnerOpKJ%2BgFzO%2FYTOWTP2ZJRF1p%2FCVrnBNj6TuH2CIssWLa1kPNOxbxnqTQ43tAUICiaAELlY%2FAafGtYFwqlMym064waRZA%2BLfGXqAYb%2Brk3gGg3LstasWBARn0AZvW6QMbDdY4vmbRQQozLHUDeos9%2FhMwpWI3q%2FbcZpsQhMLOyxopk4ErqBF0OnWloKlYrXETZK5uz0LLR9UBpXjuiLpHk91DnRh6gc8zfyWkxnev9Gpe6uZwTrLwUzfY4jIHBfsfgQFzyBlOyAjmh%2FSFzAZM3KtARHkP0sApsX0C3mx5v3WwXTUthi%2FHneF8lNgGSkqZTIL8Cr2Hfi71R12dtWNpxCBO44ft93h1o6cV55DPcXS%2B8vFVADpdPbqToX4B79A8Ld3Ei3ZYmeBtYCVDKbeh7UwrsbGywY6pgGbapZN69eMNBJt0vvSmxjPwyCF8BWtcOQC%2FHitpslSMV6TiTNlIVWOv4gOKfZL%2FrmXxspmK3paIsE9XT9iqAxqDayvZpGzuLhkYGzQYpkELO3nPnQKTWQ%2FmFXXxT70VNuuGJNiYPL3YAfyChNkrqttrpvTchy0zPqu6HEopyrkCQVSu0J3E6zhvol%2FK0ufVLr6t6uz1qpfa265gv4ZR3UDqi9Dftrs&X-Amz-Signature=c00fb93c6bd9fd61916d526aba7457029de650ed064ab701e853209a6b95af1e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VL7CSVMD%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042036Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJGMEQCIFZ9YloEwD0iSCsWg51hEWMkFJq01YveZRMXhvdUrWQ%2FAiA7KXE%2FUrAGHxZfWgogJkdeJKuV5XC2gH8PrXlGGonZSiqIBAjV%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMa0ZcV4TBLxVyj%2BZcKtwD9frbOO3M3d4CGsIpDzsHB5oNwjKOjAMfNfniuxrM%2FpaFH8csGY6okKRz7QLQXE5ZkELYMI9eaMKrRKiEFA30t9eDrsfWPlzE9%2BB8NIhL7%2F1K5YcmFJ3v1YqzKjP%2BW%2BEBFE8NSZAJZE0RU%2BkXi9M5%2BMaE1jzZPvIbhcK2%2FSRZ9my6E1VXbPeBIFD7eM0cvaUobih32jyikosH42GiiBxPZiu3MSxKmKZh5ZHnerOpKJ%2BgFzO%2FYTOWTP2ZJRF1p%2FCVrnBNj6TuH2CIssWLa1kPNOxbxnqTQ43tAUICiaAELlY%2FAafGtYFwqlMym064waRZA%2BLfGXqAYb%2Brk3gGg3LstasWBARn0AZvW6QMbDdY4vmbRQQozLHUDeos9%2FhMwpWI3q%2FbcZpsQhMLOyxopk4ErqBF0OnWloKlYrXETZK5uz0LLR9UBpXjuiLpHk91DnRh6gc8zfyWkxnev9Gpe6uZwTrLwUzfY4jIHBfsfgQFzyBlOyAjmh%2FSFzAZM3KtARHkP0sApsX0C3mx5v3WwXTUthi%2FHneF8lNgGSkqZTIL8Cr2Hfi71R12dtWNpxCBO44ft93h1o6cV55DPcXS%2B8vFVADpdPbqToX4B79A8Ld3Ei3ZYmeBtYCVDKbeh7UwrsbGywY6pgGbapZN69eMNBJt0vvSmxjPwyCF8BWtcOQC%2FHitpslSMV6TiTNlIVWOv4gOKfZL%2FrmXxspmK3paIsE9XT9iqAxqDayvZpGzuLhkYGzQYpkELO3nPnQKTWQ%2FmFXXxT70VNuuGJNiYPL3YAfyChNkrqttrpvTchy0zPqu6HEopyrkCQVSu0J3E6zhvol%2FK0ufVLr6t6uz1qpfa265gv4ZR3UDqi9Dftrs&X-Amz-Signature=6ad0b975a32011a05173e16cbc6eee1dc5255dc99d54995274292ef0e1e1e8bd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664U5VZRT2%2F20260122%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260122T042037Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAwaCXVzLXdlc3QtMiJHMEUCIQDmRD%2BTvOYapMO5BuRKcCqBUtIFF8yTG7r2IJfDy%2Br6RAIgO9XtZ973O2lgQzxahAiYkngD%2BN1J6265VhuHy3QDUd8qiAQI1f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDA2rsPb6oufWWsbf4SrcA5MOkZMTex4mEkIM1totVDljy5J8NgUFFucJ8VfbFgNpcPHbV%2FevWuXkia1XZSMlI0DzgdvqPJzvKgol%2FTXT3wBI2YjBnqeo0G8dq8LOKD4CB4s23RBU73lZtWET69G0rDTyVVJu1QoGe%2BcptVfWXkV%2BQn9IIM6yBA4ChLuN2orzm7cuRbXHTInUND%2BE3fgz3PWbYqlF7iKQP8i88YfU1GF%2Fd2PN3RZJFNGBhwdCuvO4okS0r7fpcZhaQp7ECQlfaTHdiTVEVTGRGi8hs8ZQLIGuVbMGimB0pJUrIj4CRSC2LgRwuk47I%2FYPruVboSr7m%2Bxia%2BbOr5Ll2rIrgqRN10zvaTuCE%2FwitCWFnvaKZFs39hrNihHAA%2FvSbxn494z1ejENAcMrz6GgMyfom5WbWpdFHkecaMxrgJB0Rbj9IbGlM6hgV9dT%2BgI7mW2lfRxWmZo0uzC4xS7h%2BwmnIjARyr9vDT6ImJ%2F5uqt3SU689Uqpn2IHRADw9LpjG3pFfezIzcnm2EftfM%2F6z%2F3hNxIkiCHDmTGfzYgRvx%2F7OPknf6k02eyXFpdM24h9cEy7mX5XluoW5dhtATwHBr06iNZQA6p83MBPfASI0pNOat%2Fr9mkwM3Wu0Z%2Fz8I0sjYppMLvHxssGOqUBw9vShtJRqxYDsXpIkTEA44RpWGxPJ2DdtTo1PL%2BBKy8frvz2smsHnUURgIB3%2Bj5QUm3qHu0aSFGzkoP%2BzifRc9z8BQRevKB%2BK0dGACcIY5ASfE3EqlkiAXVu6pb2qnrsaw3o9BTfKlfAww6k1il4WUu3zQErTLRF3njPJBpXTAuGA%2BGQa8dPyuX4x2Nm8inxO5PE8767Qd9rvP4pLwk1TfVoBtMU&X-Amz-Signature=91d3172db076dcdc7d1bcbb034f375f5eed85c715ec96b9f8ac17a4cc3cd7ab5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
