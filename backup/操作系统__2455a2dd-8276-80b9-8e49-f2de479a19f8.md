
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664VJVAW4G%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042551Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCqgOdd49ELTx0f5AAh5Tb2zLYzOQThRt3fMsWC4G0%2BHAIgHGuTVtiu3NMo9ickTVjTMQYHb%2Fs5ptImuuWfCKLCREUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDN%2BMhLzpqWswwo%2Bd7SrcA%2BQbwfSM9ob4pBdTdQE6VFBFERfqnQc%2FnZS9szL9z3lb677Xs3AY9W8hFEVRHSog6S6UnXh5cZY5OLxgVos4GAFv2P14Jnazg%2F1%2FoC3iC160WAMa1MC9yD8B00ziUv7wRNYrnTG6G2MA32tseM04WWL1uXzVTaCLD571sQg7Uehg8eeXp4eDpfJOtqwWJ0a7MX8zDbmbjfELIMWg3%2BjCJkRvU0Xq6XeXCqIf5cGbDkRgrwv%2BPLm0ojCfe2iB8thThiQCflWoJodfSSJc1ECV7f9XTGT5s2idhQkSOt2zDMIQUc3fRLEPa%2FXN5Wt9wBL58jMvpq8TaMFGbwvX3xDZ9zP2NktvVQNOfxJ1hHmTDOexrSztWMCsdblUshGVXBVedZCRPV4FO6TE8TtkXUjx06mK0KwrjL3etNOOILvE1Y3X8MaKlrzPCi1d8aEHVhmRec2i6%2BA1mXMBSCRpNegR2cH9cN41JOlugVLG2AOhNmCp3E%2FiLj3hLspst5IrcJnE%2B2tw6CoUC7MuNni6aghR3zR2foZMyOudo1xftEnjU9pKv5qwNBUnv3dhE3WbCNUfZkRgC7am%2FHcnFJIxPLQHLi7%2FEoNs%2By%2Fi8xLwRYkwojSgsuwgqYmKOij3KQgpMOyw1ssGOqUB2opWLMf2ym20R8wN6d%2BoqDfTzBrI7BboM52UneHX4vAnDOK2ZkXxru6ArEo9ZMDckZvTcyJgEuB6T5O8onBgV7QZ9w4M3R8jg9hUu%2BLFeaf2qnqf0OXCZEWIZvuonUNbvseABp0wxfsZue4FARwVba3wN%2FTZSJ1OTPBczdDgzmuqOmY0cNDPvGhOSO7ephnBB%2FSrjHgqHR6lkiE%2FGJI%2FEw9QvOmf&X-Amz-Signature=029933e9624358af1090687e086d4b6b2d69914fff1cab61a00be8a730cf3589&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664VJVAW4G%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042551Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCqgOdd49ELTx0f5AAh5Tb2zLYzOQThRt3fMsWC4G0%2BHAIgHGuTVtiu3NMo9ickTVjTMQYHb%2Fs5ptImuuWfCKLCREUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDN%2BMhLzpqWswwo%2Bd7SrcA%2BQbwfSM9ob4pBdTdQE6VFBFERfqnQc%2FnZS9szL9z3lb677Xs3AY9W8hFEVRHSog6S6UnXh5cZY5OLxgVos4GAFv2P14Jnazg%2F1%2FoC3iC160WAMa1MC9yD8B00ziUv7wRNYrnTG6G2MA32tseM04WWL1uXzVTaCLD571sQg7Uehg8eeXp4eDpfJOtqwWJ0a7MX8zDbmbjfELIMWg3%2BjCJkRvU0Xq6XeXCqIf5cGbDkRgrwv%2BPLm0ojCfe2iB8thThiQCflWoJodfSSJc1ECV7f9XTGT5s2idhQkSOt2zDMIQUc3fRLEPa%2FXN5Wt9wBL58jMvpq8TaMFGbwvX3xDZ9zP2NktvVQNOfxJ1hHmTDOexrSztWMCsdblUshGVXBVedZCRPV4FO6TE8TtkXUjx06mK0KwrjL3etNOOILvE1Y3X8MaKlrzPCi1d8aEHVhmRec2i6%2BA1mXMBSCRpNegR2cH9cN41JOlugVLG2AOhNmCp3E%2FiLj3hLspst5IrcJnE%2B2tw6CoUC7MuNni6aghR3zR2foZMyOudo1xftEnjU9pKv5qwNBUnv3dhE3WbCNUfZkRgC7am%2FHcnFJIxPLQHLi7%2FEoNs%2By%2Fi8xLwRYkwojSgsuwgqYmKOij3KQgpMOyw1ssGOqUB2opWLMf2ym20R8wN6d%2BoqDfTzBrI7BboM52UneHX4vAnDOK2ZkXxru6ArEo9ZMDckZvTcyJgEuB6T5O8onBgV7QZ9w4M3R8jg9hUu%2BLFeaf2qnqf0OXCZEWIZvuonUNbvseABp0wxfsZue4FARwVba3wN%2FTZSJ1OTPBczdDgzmuqOmY0cNDPvGhOSO7ephnBB%2FSrjHgqHR6lkiE%2FGJI%2FEw9QvOmf&X-Amz-Signature=8563b42415fc09874dead373ddd2844c8a06d7f0fe668b256ba4077d59ced3d2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664VJVAW4G%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042551Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCqgOdd49ELTx0f5AAh5Tb2zLYzOQThRt3fMsWC4G0%2BHAIgHGuTVtiu3NMo9ickTVjTMQYHb%2Fs5ptImuuWfCKLCREUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDN%2BMhLzpqWswwo%2Bd7SrcA%2BQbwfSM9ob4pBdTdQE6VFBFERfqnQc%2FnZS9szL9z3lb677Xs3AY9W8hFEVRHSog6S6UnXh5cZY5OLxgVos4GAFv2P14Jnazg%2F1%2FoC3iC160WAMa1MC9yD8B00ziUv7wRNYrnTG6G2MA32tseM04WWL1uXzVTaCLD571sQg7Uehg8eeXp4eDpfJOtqwWJ0a7MX8zDbmbjfELIMWg3%2BjCJkRvU0Xq6XeXCqIf5cGbDkRgrwv%2BPLm0ojCfe2iB8thThiQCflWoJodfSSJc1ECV7f9XTGT5s2idhQkSOt2zDMIQUc3fRLEPa%2FXN5Wt9wBL58jMvpq8TaMFGbwvX3xDZ9zP2NktvVQNOfxJ1hHmTDOexrSztWMCsdblUshGVXBVedZCRPV4FO6TE8TtkXUjx06mK0KwrjL3etNOOILvE1Y3X8MaKlrzPCi1d8aEHVhmRec2i6%2BA1mXMBSCRpNegR2cH9cN41JOlugVLG2AOhNmCp3E%2FiLj3hLspst5IrcJnE%2B2tw6CoUC7MuNni6aghR3zR2foZMyOudo1xftEnjU9pKv5qwNBUnv3dhE3WbCNUfZkRgC7am%2FHcnFJIxPLQHLi7%2FEoNs%2By%2Fi8xLwRYkwojSgsuwgqYmKOij3KQgpMOyw1ssGOqUB2opWLMf2ym20R8wN6d%2BoqDfTzBrI7BboM52UneHX4vAnDOK2ZkXxru6ArEo9ZMDckZvTcyJgEuB6T5O8onBgV7QZ9w4M3R8jg9hUu%2BLFeaf2qnqf0OXCZEWIZvuonUNbvseABp0wxfsZue4FARwVba3wN%2FTZSJ1OTPBczdDgzmuqOmY0cNDPvGhOSO7ephnBB%2FSrjHgqHR6lkiE%2FGJI%2FEw9QvOmf&X-Amz-Signature=f9545fb3183a1be68ff596616eccc8f9a465aa2426e8e5b3429175e94f5b194a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663YNMLJ2G%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCpxcQ%2BMT5V3OZYCNLC4oZo0gZeZ5PMuW3FlOoxeLDL3wIgOV4LJr7iB%2F3MZtBIVYDuWwEB1oMz%2BswQ1i65zRKmL%2Boq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDNQsbQPGNWFqz4n5ByrcAzs3qw59t77r7yck0JVgXBRv7Edi4y2hVp%2B7JzrLlQC%2BBGCplv8SQMeRuPzBcNyc0oHr9S6QEIT5VmivQsKO0ycRfV%2F4q7rthU4YEgGidAYeRaJVNhgTzpImHXZajRmNvPtqd4UltPXYy3EKanpac2oL0ORh2BE7N60uYTdEZ3ZVKfScVD3%2BT2gjxX%2F9NmXzkGYqiMDQhpVZ7mqhvPX3DxQ22sj91bcq80lR8LUudSluxqlW8AL74PAYJ85FVTDW5TSzCikq7ubwrt0I%2F3vMblO90RkXwfqybPpXu2ThroJIVSqhs6MYRsrTeEom3LjZmiSa6x1EmuIMuWn5BRFdW2ZEZxCRRRp3D7KtiJ0bgEcbqKXynTMLlIfuxutHtvmLeMkgxT7%2FcoGqAK7Z%2Ff8K6%2BaRW2rrzSKRKElVxbrsXtz%2B8rqDrrBV9wLINy3b%2BeSlTooxJjwKsy89x6dBRVlBIrdEWzqUqc4dAaxqumiuf6exSf4iWsrQs%2BWiGzmG6JCe67JPLMPI%2BqYQ9xLhqsZpvw9To9WwBT5tpBBCURvTCRbtpM671MbPwQRYN7Y0nMFw0uP32BC6ZLcw1xwjPn%2BYEEr%2Bp%2BOJHQs68CUty5dUiia%2BVSnnjFLyBdRjzTkHMLSw1ssGOqUB%2B2Yv0cdYKjlZiSKvpMWK9m1CLUV7z59XnZGWof%2FA4wPaJKT9%2BwUqTzlmm2BescXeoXnZDyBzo7qx1z1M7StHLiJhNNSEPQoNCxtHnSbfM8SIVsYJtbvTl5fSK%2BwCjpDAyqbTmmNmaroo4SseDHeMyPX4TXNDlrLzhwe2bEgpIX9YtLwl8%2FwQTAqmS5YIifbbZZtXI%2FNanwZUtTJ3%2Fykc1W6MwD08&X-Amz-Signature=997f7528839a66fbf12f694565d769d9ac51e9e5aba582732bd0315b291123a7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663YNMLJ2G%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCpxcQ%2BMT5V3OZYCNLC4oZo0gZeZ5PMuW3FlOoxeLDL3wIgOV4LJr7iB%2F3MZtBIVYDuWwEB1oMz%2BswQ1i65zRKmL%2Boq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDNQsbQPGNWFqz4n5ByrcAzs3qw59t77r7yck0JVgXBRv7Edi4y2hVp%2B7JzrLlQC%2BBGCplv8SQMeRuPzBcNyc0oHr9S6QEIT5VmivQsKO0ycRfV%2F4q7rthU4YEgGidAYeRaJVNhgTzpImHXZajRmNvPtqd4UltPXYy3EKanpac2oL0ORh2BE7N60uYTdEZ3ZVKfScVD3%2BT2gjxX%2F9NmXzkGYqiMDQhpVZ7mqhvPX3DxQ22sj91bcq80lR8LUudSluxqlW8AL74PAYJ85FVTDW5TSzCikq7ubwrt0I%2F3vMblO90RkXwfqybPpXu2ThroJIVSqhs6MYRsrTeEom3LjZmiSa6x1EmuIMuWn5BRFdW2ZEZxCRRRp3D7KtiJ0bgEcbqKXynTMLlIfuxutHtvmLeMkgxT7%2FcoGqAK7Z%2Ff8K6%2BaRW2rrzSKRKElVxbrsXtz%2B8rqDrrBV9wLINy3b%2BeSlTooxJjwKsy89x6dBRVlBIrdEWzqUqc4dAaxqumiuf6exSf4iWsrQs%2BWiGzmG6JCe67JPLMPI%2BqYQ9xLhqsZpvw9To9WwBT5tpBBCURvTCRbtpM671MbPwQRYN7Y0nMFw0uP32BC6ZLcw1xwjPn%2BYEEr%2Bp%2BOJHQs68CUty5dUiia%2BVSnnjFLyBdRjzTkHMLSw1ssGOqUB%2B2Yv0cdYKjlZiSKvpMWK9m1CLUV7z59XnZGWof%2FA4wPaJKT9%2BwUqTzlmm2BescXeoXnZDyBzo7qx1z1M7StHLiJhNNSEPQoNCxtHnSbfM8SIVsYJtbvTl5fSK%2BwCjpDAyqbTmmNmaroo4SseDHeMyPX4TXNDlrLzhwe2bEgpIX9YtLwl8%2FwQTAqmS5YIifbbZZtXI%2FNanwZUtTJ3%2Fykc1W6MwD08&X-Amz-Signature=5a4be414be347f39ab435b3850fdc83d253e16d79ba68c1f0964d3b00e2c96f0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663YNMLJ2G%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCpxcQ%2BMT5V3OZYCNLC4oZo0gZeZ5PMuW3FlOoxeLDL3wIgOV4LJr7iB%2F3MZtBIVYDuWwEB1oMz%2BswQ1i65zRKmL%2Boq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDNQsbQPGNWFqz4n5ByrcAzs3qw59t77r7yck0JVgXBRv7Edi4y2hVp%2B7JzrLlQC%2BBGCplv8SQMeRuPzBcNyc0oHr9S6QEIT5VmivQsKO0ycRfV%2F4q7rthU4YEgGidAYeRaJVNhgTzpImHXZajRmNvPtqd4UltPXYy3EKanpac2oL0ORh2BE7N60uYTdEZ3ZVKfScVD3%2BT2gjxX%2F9NmXzkGYqiMDQhpVZ7mqhvPX3DxQ22sj91bcq80lR8LUudSluxqlW8AL74PAYJ85FVTDW5TSzCikq7ubwrt0I%2F3vMblO90RkXwfqybPpXu2ThroJIVSqhs6MYRsrTeEom3LjZmiSa6x1EmuIMuWn5BRFdW2ZEZxCRRRp3D7KtiJ0bgEcbqKXynTMLlIfuxutHtvmLeMkgxT7%2FcoGqAK7Z%2Ff8K6%2BaRW2rrzSKRKElVxbrsXtz%2B8rqDrrBV9wLINy3b%2BeSlTooxJjwKsy89x6dBRVlBIrdEWzqUqc4dAaxqumiuf6exSf4iWsrQs%2BWiGzmG6JCe67JPLMPI%2BqYQ9xLhqsZpvw9To9WwBT5tpBBCURvTCRbtpM671MbPwQRYN7Y0nMFw0uP32BC6ZLcw1xwjPn%2BYEEr%2Bp%2BOJHQs68CUty5dUiia%2BVSnnjFLyBdRjzTkHMLSw1ssGOqUB%2B2Yv0cdYKjlZiSKvpMWK9m1CLUV7z59XnZGWof%2FA4wPaJKT9%2BwUqTzlmm2BescXeoXnZDyBzo7qx1z1M7StHLiJhNNSEPQoNCxtHnSbfM8SIVsYJtbvTl5fSK%2BwCjpDAyqbTmmNmaroo4SseDHeMyPX4TXNDlrLzhwe2bEgpIX9YtLwl8%2FwQTAqmS5YIifbbZZtXI%2FNanwZUtTJ3%2Fykc1W6MwD08&X-Amz-Signature=dde3c5ed328343d3d423037a98fde242f3d33aba43412b1c84800b795aa071d3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W4P4PCWU%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJIMEYCIQD90lSv9ePdQS2CxZRIDnde3wA%2FBMYVU4nuIT4EdD5y3AIhAIdwSUh6mLT1B%2FesEryZ%2BMYa1o0uQXv%2BZHOByu%2BT%2BL%2ByKv8DCB0QABoMNjM3NDIzMTgzODA1IgwUhuEaTX%2F6TgWnFIwq3AOiuEGn9GZKQFEVDcKpMiBOzmqkVcT4DZNicnDJG9N7FwwkT5KeiRljj74buCaITNz%2F1367hR4ZlMFUG8KrgM0T4FpL%2BoSsynqAsGA%2BCSNY5cBPolSntau2MZfesXKgXn4vb0TAukIpWMS5GYcURkH9uNSbUHOiZcTlgdwGgD8r%2BZ8fTLkr2VzOuoQfkUovKB4cmS%2BZVzh4O9NbO%2Fq%2FzZBDLBJ16nKGM1lXa6fvD9d%2Frp69eKCOY1LUpYbO1GSW8oLwlYcRV74qE7ujzlSgeqqqf7pVWMib8g4X0eVzrTX1fY9CBgPUCLuq0QoKXvJ%2BsZR168q%2F1TDynhKlbuDffUqasulsF5b9qk4P7II53obJqxBroJT7UxUxneZcdEj6v5JDjgFFbLkY5vbmi9hbyraZhcC9mLoOZYN2v4Ad%2FsZr572m4BxbSgz90JXeVtHJouy0MObbnt8tROhHg%2FRDt1FsghYPKPUl34qXfRpxLBuQI1PYBC8XKtkmoEBmyePD3k2UPyRHxZFs8OVOcDoEfPeWdmQtuA5QpGlH3SSvwXMwNYzXwtd14BhATdLqd%2BXiY5vjelzsKrRLwYqMsRew%2FcHlVZ4%2BnwsFNnJatMViweUlxd70TeMLnVOy4ftyKzDKsNbLBjqkAd0mn54S0h65uxImXt6mGEzEN1jAd81hMPXW9uRYb09QCw6v7Nhp3biVGkfFtwGF%2F5FIh3Zr1gH2aQ0%2FNJ27NiJLu1OH4bHDHpVN73Gq9lhSP0BEKFIUkPnqKBA9DNhws7NNnBAlLAjBWSXf9316%2FoTAv5WXddvGgW0kU2abX3W%2BWSdiPr%2ByBKMBvILzWACQOvren3iO%2BDiJOtCUCbmTjMbEKTd3&X-Amz-Signature=f32d3084ec6038ff2bb425632d63940ca65e6d9b27ce4b7400a49258890439ba&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W4P4PCWU%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJIMEYCIQD90lSv9ePdQS2CxZRIDnde3wA%2FBMYVU4nuIT4EdD5y3AIhAIdwSUh6mLT1B%2FesEryZ%2BMYa1o0uQXv%2BZHOByu%2BT%2BL%2ByKv8DCB0QABoMNjM3NDIzMTgzODA1IgwUhuEaTX%2F6TgWnFIwq3AOiuEGn9GZKQFEVDcKpMiBOzmqkVcT4DZNicnDJG9N7FwwkT5KeiRljj74buCaITNz%2F1367hR4ZlMFUG8KrgM0T4FpL%2BoSsynqAsGA%2BCSNY5cBPolSntau2MZfesXKgXn4vb0TAukIpWMS5GYcURkH9uNSbUHOiZcTlgdwGgD8r%2BZ8fTLkr2VzOuoQfkUovKB4cmS%2BZVzh4O9NbO%2Fq%2FzZBDLBJ16nKGM1lXa6fvD9d%2Frp69eKCOY1LUpYbO1GSW8oLwlYcRV74qE7ujzlSgeqqqf7pVWMib8g4X0eVzrTX1fY9CBgPUCLuq0QoKXvJ%2BsZR168q%2F1TDynhKlbuDffUqasulsF5b9qk4P7II53obJqxBroJT7UxUxneZcdEj6v5JDjgFFbLkY5vbmi9hbyraZhcC9mLoOZYN2v4Ad%2FsZr572m4BxbSgz90JXeVtHJouy0MObbnt8tROhHg%2FRDt1FsghYPKPUl34qXfRpxLBuQI1PYBC8XKtkmoEBmyePD3k2UPyRHxZFs8OVOcDoEfPeWdmQtuA5QpGlH3SSvwXMwNYzXwtd14BhATdLqd%2BXiY5vjelzsKrRLwYqMsRew%2FcHlVZ4%2BnwsFNnJatMViweUlxd70TeMLnVOy4ftyKzDKsNbLBjqkAd0mn54S0h65uxImXt6mGEzEN1jAd81hMPXW9uRYb09QCw6v7Nhp3biVGkfFtwGF%2F5FIh3Zr1gH2aQ0%2FNJ27NiJLu1OH4bHDHpVN73Gq9lhSP0BEKFIUkPnqKBA9DNhws7NNnBAlLAjBWSXf9316%2FoTAv5WXddvGgW0kU2abX3W%2BWSdiPr%2ByBKMBvILzWACQOvren3iO%2BDiJOtCUCbmTjMbEKTd3&X-Amz-Signature=560c3d85d4139dcda8dcac5cb657caf7e3663046276d77a4d236e4a704582996&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W4P4PCWU%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJIMEYCIQD90lSv9ePdQS2CxZRIDnde3wA%2FBMYVU4nuIT4EdD5y3AIhAIdwSUh6mLT1B%2FesEryZ%2BMYa1o0uQXv%2BZHOByu%2BT%2BL%2ByKv8DCB0QABoMNjM3NDIzMTgzODA1IgwUhuEaTX%2F6TgWnFIwq3AOiuEGn9GZKQFEVDcKpMiBOzmqkVcT4DZNicnDJG9N7FwwkT5KeiRljj74buCaITNz%2F1367hR4ZlMFUG8KrgM0T4FpL%2BoSsynqAsGA%2BCSNY5cBPolSntau2MZfesXKgXn4vb0TAukIpWMS5GYcURkH9uNSbUHOiZcTlgdwGgD8r%2BZ8fTLkr2VzOuoQfkUovKB4cmS%2BZVzh4O9NbO%2Fq%2FzZBDLBJ16nKGM1lXa6fvD9d%2Frp69eKCOY1LUpYbO1GSW8oLwlYcRV74qE7ujzlSgeqqqf7pVWMib8g4X0eVzrTX1fY9CBgPUCLuq0QoKXvJ%2BsZR168q%2F1TDynhKlbuDffUqasulsF5b9qk4P7II53obJqxBroJT7UxUxneZcdEj6v5JDjgFFbLkY5vbmi9hbyraZhcC9mLoOZYN2v4Ad%2FsZr572m4BxbSgz90JXeVtHJouy0MObbnt8tROhHg%2FRDt1FsghYPKPUl34qXfRpxLBuQI1PYBC8XKtkmoEBmyePD3k2UPyRHxZFs8OVOcDoEfPeWdmQtuA5QpGlH3SSvwXMwNYzXwtd14BhATdLqd%2BXiY5vjelzsKrRLwYqMsRew%2FcHlVZ4%2BnwsFNnJatMViweUlxd70TeMLnVOy4ftyKzDKsNbLBjqkAd0mn54S0h65uxImXt6mGEzEN1jAd81hMPXW9uRYb09QCw6v7Nhp3biVGkfFtwGF%2F5FIh3Zr1gH2aQ0%2FNJ27NiJLu1OH4bHDHpVN73Gq9lhSP0BEKFIUkPnqKBA9DNhws7NNnBAlLAjBWSXf9316%2FoTAv5WXddvGgW0kU2abX3W%2BWSdiPr%2ByBKMBvILzWACQOvren3iO%2BDiJOtCUCbmTjMbEKTd3&X-Amz-Signature=a89904fca96153f55be5d29660956df943d287fc28f7f0703341a3cc294ae0f5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W4P4PCWU%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJIMEYCIQD90lSv9ePdQS2CxZRIDnde3wA%2FBMYVU4nuIT4EdD5y3AIhAIdwSUh6mLT1B%2FesEryZ%2BMYa1o0uQXv%2BZHOByu%2BT%2BL%2ByKv8DCB0QABoMNjM3NDIzMTgzODA1IgwUhuEaTX%2F6TgWnFIwq3AOiuEGn9GZKQFEVDcKpMiBOzmqkVcT4DZNicnDJG9N7FwwkT5KeiRljj74buCaITNz%2F1367hR4ZlMFUG8KrgM0T4FpL%2BoSsynqAsGA%2BCSNY5cBPolSntau2MZfesXKgXn4vb0TAukIpWMS5GYcURkH9uNSbUHOiZcTlgdwGgD8r%2BZ8fTLkr2VzOuoQfkUovKB4cmS%2BZVzh4O9NbO%2Fq%2FzZBDLBJ16nKGM1lXa6fvD9d%2Frp69eKCOY1LUpYbO1GSW8oLwlYcRV74qE7ujzlSgeqqqf7pVWMib8g4X0eVzrTX1fY9CBgPUCLuq0QoKXvJ%2BsZR168q%2F1TDynhKlbuDffUqasulsF5b9qk4P7II53obJqxBroJT7UxUxneZcdEj6v5JDjgFFbLkY5vbmi9hbyraZhcC9mLoOZYN2v4Ad%2FsZr572m4BxbSgz90JXeVtHJouy0MObbnt8tROhHg%2FRDt1FsghYPKPUl34qXfRpxLBuQI1PYBC8XKtkmoEBmyePD3k2UPyRHxZFs8OVOcDoEfPeWdmQtuA5QpGlH3SSvwXMwNYzXwtd14BhATdLqd%2BXiY5vjelzsKrRLwYqMsRew%2FcHlVZ4%2BnwsFNnJatMViweUlxd70TeMLnVOy4ftyKzDKsNbLBjqkAd0mn54S0h65uxImXt6mGEzEN1jAd81hMPXW9uRYb09QCw6v7Nhp3biVGkfFtwGF%2F5FIh3Zr1gH2aQ0%2FNJ27NiJLu1OH4bHDHpVN73Gq9lhSP0BEKFIUkPnqKBA9DNhws7NNnBAlLAjBWSXf9316%2FoTAv5WXddvGgW0kU2abX3W%2BWSdiPr%2ByBKMBvILzWACQOvren3iO%2BDiJOtCUCbmTjMbEKTd3&X-Amz-Signature=f75c05527a94ca7ceae50d8096d644759801b8c2fcb9930d16ea1922b9e4c2dc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VCWP2D2O%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDg3Dcxh2McnV79ao8Oh6Q04Vw4w%2FeKfEy5dSfux%2BIu1AIge4hEmPrmfqOOJFlKy5kM9EGq6TV6091EB2DkmEIhLbUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDHo1NWHY8Wq0ag0qvSrcA6cbcBLzYTvauAqBtj61FMdvuG5fAPcs6EvPjt0TwuwdJJQKXABGpUHeQbE7XWDh4MoZZTYxegmomMIJbB3J98ba4vVpbIuPeYNgmm23TOKrfiEsBQEHJM9WCg0NSI%2FyAmLCK2d77nw3%2BZzJoz5d8J2v%2BfHL1C1hmPP7Oh5IMuuUkw0DF%2BEgsY277d587%2BxkHZNdtHHcp1oRXhTXP7iyC8BNvfNq6iXgbt680KB8WpDwekMIKpB%2Fn%2B9LcklEMJgElZhSAnaGlzdiOqKSTW4Xqpi56NnwUx6K%2BeVoHSh2fHiAk7hGTkfwYtKAXa2uId4HgWVFBdKjuLtC0oA9lWnlsht9%2BNmG%2FOsEgRc8i5PaRyeifNyrsckUOBL8x1k96KOKPdeZ3K88G2yQARCWf3nysGy86Rdzc1ndRkbOUOMerE5%2FYcNdko5c%2BHmrNivI2ocpSZBEAlT4lPry%2FIw4vCVkv3rU9gPt8SHYrr4Bmh2pXG1B89tsXYUuSkTG7RFZ7zJD5VB7Gd%2FIjOPW9WNGfaMPg7dH6vqwx4Q%2BX%2FLoLmZ5njs6PnvovW6wEmdPVv7sk%2FZGdNELZNtOA3hIn%2FVi8se9knBL1H4J0AB9MMp9HEdjU9YkYqVdtr0SZAkFrPNQMNKv1ssGOqUBK6WdC78F%2BwxIbA4llWiy%2B0G2ZNfdnPLMyUibCBtbGfApQs6yoFznXHV2Lqy26GZXQ3CQIelN%2BS9guOJH%2B7tJqguA0c%2B0Toy05fEeY2Xrf%2BpWzw%2BMVjseQNhZH5I0Y5cONm34V7Z29T6SJ6HS9zBH6C8eMdb7AsTciTrfc6PlBW6CNz0lEjtlvTnI3UCZxxfhFRT7L81ivth4FCp6otUbpGi0CUyk&X-Amz-Signature=976838259507f6cd578b92c2ad64668fa1085f7cf62fc384694da44644346228&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VCWP2D2O%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDg3Dcxh2McnV79ao8Oh6Q04Vw4w%2FeKfEy5dSfux%2BIu1AIge4hEmPrmfqOOJFlKy5kM9EGq6TV6091EB2DkmEIhLbUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDHo1NWHY8Wq0ag0qvSrcA6cbcBLzYTvauAqBtj61FMdvuG5fAPcs6EvPjt0TwuwdJJQKXABGpUHeQbE7XWDh4MoZZTYxegmomMIJbB3J98ba4vVpbIuPeYNgmm23TOKrfiEsBQEHJM9WCg0NSI%2FyAmLCK2d77nw3%2BZzJoz5d8J2v%2BfHL1C1hmPP7Oh5IMuuUkw0DF%2BEgsY277d587%2BxkHZNdtHHcp1oRXhTXP7iyC8BNvfNq6iXgbt680KB8WpDwekMIKpB%2Fn%2B9LcklEMJgElZhSAnaGlzdiOqKSTW4Xqpi56NnwUx6K%2BeVoHSh2fHiAk7hGTkfwYtKAXa2uId4HgWVFBdKjuLtC0oA9lWnlsht9%2BNmG%2FOsEgRc8i5PaRyeifNyrsckUOBL8x1k96KOKPdeZ3K88G2yQARCWf3nysGy86Rdzc1ndRkbOUOMerE5%2FYcNdko5c%2BHmrNivI2ocpSZBEAlT4lPry%2FIw4vCVkv3rU9gPt8SHYrr4Bmh2pXG1B89tsXYUuSkTG7RFZ7zJD5VB7Gd%2FIjOPW9WNGfaMPg7dH6vqwx4Q%2BX%2FLoLmZ5njs6PnvovW6wEmdPVv7sk%2FZGdNELZNtOA3hIn%2FVi8se9knBL1H4J0AB9MMp9HEdjU9YkYqVdtr0SZAkFrPNQMNKv1ssGOqUBK6WdC78F%2BwxIbA4llWiy%2B0G2ZNfdnPLMyUibCBtbGfApQs6yoFznXHV2Lqy26GZXQ3CQIelN%2BS9guOJH%2B7tJqguA0c%2B0Toy05fEeY2Xrf%2BpWzw%2BMVjseQNhZH5I0Y5cONm34V7Z29T6SJ6HS9zBH6C8eMdb7AsTciTrfc6PlBW6CNz0lEjtlvTnI3UCZxxfhFRT7L81ivth4FCp6otUbpGi0CUyk&X-Amz-Signature=436009cf1b31706c94fbe242c1e82e9d094d96dd5fcea6342fd7d2ca014a2373&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VCWP2D2O%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDg3Dcxh2McnV79ao8Oh6Q04Vw4w%2FeKfEy5dSfux%2BIu1AIge4hEmPrmfqOOJFlKy5kM9EGq6TV6091EB2DkmEIhLbUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDHo1NWHY8Wq0ag0qvSrcA6cbcBLzYTvauAqBtj61FMdvuG5fAPcs6EvPjt0TwuwdJJQKXABGpUHeQbE7XWDh4MoZZTYxegmomMIJbB3J98ba4vVpbIuPeYNgmm23TOKrfiEsBQEHJM9WCg0NSI%2FyAmLCK2d77nw3%2BZzJoz5d8J2v%2BfHL1C1hmPP7Oh5IMuuUkw0DF%2BEgsY277d587%2BxkHZNdtHHcp1oRXhTXP7iyC8BNvfNq6iXgbt680KB8WpDwekMIKpB%2Fn%2B9LcklEMJgElZhSAnaGlzdiOqKSTW4Xqpi56NnwUx6K%2BeVoHSh2fHiAk7hGTkfwYtKAXa2uId4HgWVFBdKjuLtC0oA9lWnlsht9%2BNmG%2FOsEgRc8i5PaRyeifNyrsckUOBL8x1k96KOKPdeZ3K88G2yQARCWf3nysGy86Rdzc1ndRkbOUOMerE5%2FYcNdko5c%2BHmrNivI2ocpSZBEAlT4lPry%2FIw4vCVkv3rU9gPt8SHYrr4Bmh2pXG1B89tsXYUuSkTG7RFZ7zJD5VB7Gd%2FIjOPW9WNGfaMPg7dH6vqwx4Q%2BX%2FLoLmZ5njs6PnvovW6wEmdPVv7sk%2FZGdNELZNtOA3hIn%2FVi8se9knBL1H4J0AB9MMp9HEdjU9YkYqVdtr0SZAkFrPNQMNKv1ssGOqUBK6WdC78F%2BwxIbA4llWiy%2B0G2ZNfdnPLMyUibCBtbGfApQs6yoFznXHV2Lqy26GZXQ3CQIelN%2BS9guOJH%2B7tJqguA0c%2B0Toy05fEeY2Xrf%2BpWzw%2BMVjseQNhZH5I0Y5cONm34V7Z29T6SJ6HS9zBH6C8eMdb7AsTciTrfc6PlBW6CNz0lEjtlvTnI3UCZxxfhFRT7L81ivth4FCp6otUbpGi0CUyk&X-Amz-Signature=02404c7d50ab06a9155607054e3e2968212b51f34c3520c45d0a802967ac1d3e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VCWP2D2O%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDg3Dcxh2McnV79ao8Oh6Q04Vw4w%2FeKfEy5dSfux%2BIu1AIge4hEmPrmfqOOJFlKy5kM9EGq6TV6091EB2DkmEIhLbUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDHo1NWHY8Wq0ag0qvSrcA6cbcBLzYTvauAqBtj61FMdvuG5fAPcs6EvPjt0TwuwdJJQKXABGpUHeQbE7XWDh4MoZZTYxegmomMIJbB3J98ba4vVpbIuPeYNgmm23TOKrfiEsBQEHJM9WCg0NSI%2FyAmLCK2d77nw3%2BZzJoz5d8J2v%2BfHL1C1hmPP7Oh5IMuuUkw0DF%2BEgsY277d587%2BxkHZNdtHHcp1oRXhTXP7iyC8BNvfNq6iXgbt680KB8WpDwekMIKpB%2Fn%2B9LcklEMJgElZhSAnaGlzdiOqKSTW4Xqpi56NnwUx6K%2BeVoHSh2fHiAk7hGTkfwYtKAXa2uId4HgWVFBdKjuLtC0oA9lWnlsht9%2BNmG%2FOsEgRc8i5PaRyeifNyrsckUOBL8x1k96KOKPdeZ3K88G2yQARCWf3nysGy86Rdzc1ndRkbOUOMerE5%2FYcNdko5c%2BHmrNivI2ocpSZBEAlT4lPry%2FIw4vCVkv3rU9gPt8SHYrr4Bmh2pXG1B89tsXYUuSkTG7RFZ7zJD5VB7Gd%2FIjOPW9WNGfaMPg7dH6vqwx4Q%2BX%2FLoLmZ5njs6PnvovW6wEmdPVv7sk%2FZGdNELZNtOA3hIn%2FVi8se9knBL1H4J0AB9MMp9HEdjU9YkYqVdtr0SZAkFrPNQMNKv1ssGOqUBK6WdC78F%2BwxIbA4llWiy%2B0G2ZNfdnPLMyUibCBtbGfApQs6yoFznXHV2Lqy26GZXQ3CQIelN%2BS9guOJH%2B7tJqguA0c%2B0Toy05fEeY2Xrf%2BpWzw%2BMVjseQNhZH5I0Y5cONm34V7Z29T6SJ6HS9zBH6C8eMdb7AsTciTrfc6PlBW6CNz0lEjtlvTnI3UCZxxfhFRT7L81ivth4FCp6otUbpGi0CUyk&X-Amz-Signature=0d76940d5bc5b8e865b707724ba7ff67572ce7c47ad674c2b8367e3823b3e146&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S5C7RTUR%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIBUrBkZcub2D%2Fmew%2BtGtFzOcn0aF9evNz%2B3%2F9sKYBRSLAiEA7KESGFFg599edsllWpdwrEA02gV%2FdDXnUaBcvEh%2FT8Iq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDLnf4dmldNu4BtcDbSrcAzHBF0TDoaB%2FlBNoQ%2FiBuA%2BYhbSIbxmCdo0q5Mg1uiLFUDyjV9QqH8g6DtxX7zzqCnq1RgYaxfezLOYwzs%2FCBshWr2SQ2nM08ea1WocXcz%2BrUsMbUKoIUjxrHnst4JJNXRpCkOIcXZNEIa1Jv4f1S3bJ18OO%2Bfo0yPVtb7NzDBTAUholXo2fz42hqo2df0lwc%2F2Wx68AHJlsnnyHDcK1JPpgauiulqjhTdzKJzlDx7Qc9tn6ONzqu%2B7sStNou%2B3RdCHAfNXt14aHZ3EobojY3a6fx%2FyPc4h%2FRH4qDtjqQSI%2FPV40T7QsKLUZ0GoD%2FBOpU92xLXnVr7r30PomFYtAbvY7HX1GVUMKQMtTc3s1iErjqKZ%2BxBNatzDExvO4C1PbAxkK%2BQgOo%2FsB3vzMsOZDRs3w0Oz7GhSfs7RVixcLstmhd3jcsDdkYOls%2B7ZFkXnns8%2Ffs%2BI8LQKO0kPTwlv7qwTC1aii8Axh8ubNpGzDATTmQwrczGK2FU30Jo96y9fVFZcEO1x%2BNm0dOPTXewjstWCpSmr0XMUUB08Wc2FGorGBs3JcKksSBvA%2B9OsgaoSGZjsHgYH1re6iTokorNR42756TS1HJiaD8ItJH4pb5ZOxdB13CVfAsVvWdE2dMMqv1ssGOqUB54AqgktKvvoRN%2FcTJIpRLeDd7ItPmio5tyhGVHyXABOuTB%2BRYnkvdJvAeRlWHdb3p6gnasgaOj%2BAUsn3squYP2x%2FDUfTySwyzZ0QBmuR5bgY7azAt5q12NeHDP2840Zc%2FTezWtmOT3kxmxFhFHd%2B84jcwm7xd1Aecj7vTN47%2BsyaN0Lx1FetGlK9uzJuexeC4irvgWZWLQ8h10uQLupD2iPSFrGq&X-Amz-Signature=f9428d7923cf443c8b120ad7b5425d452034a10aebc8ca3f3989387ba15aafa8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S5C7RTUR%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIBUrBkZcub2D%2Fmew%2BtGtFzOcn0aF9evNz%2B3%2F9sKYBRSLAiEA7KESGFFg599edsllWpdwrEA02gV%2FdDXnUaBcvEh%2FT8Iq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDLnf4dmldNu4BtcDbSrcAzHBF0TDoaB%2FlBNoQ%2FiBuA%2BYhbSIbxmCdo0q5Mg1uiLFUDyjV9QqH8g6DtxX7zzqCnq1RgYaxfezLOYwzs%2FCBshWr2SQ2nM08ea1WocXcz%2BrUsMbUKoIUjxrHnst4JJNXRpCkOIcXZNEIa1Jv4f1S3bJ18OO%2Bfo0yPVtb7NzDBTAUholXo2fz42hqo2df0lwc%2F2Wx68AHJlsnnyHDcK1JPpgauiulqjhTdzKJzlDx7Qc9tn6ONzqu%2B7sStNou%2B3RdCHAfNXt14aHZ3EobojY3a6fx%2FyPc4h%2FRH4qDtjqQSI%2FPV40T7QsKLUZ0GoD%2FBOpU92xLXnVr7r30PomFYtAbvY7HX1GVUMKQMtTc3s1iErjqKZ%2BxBNatzDExvO4C1PbAxkK%2BQgOo%2FsB3vzMsOZDRs3w0Oz7GhSfs7RVixcLstmhd3jcsDdkYOls%2B7ZFkXnns8%2Ffs%2BI8LQKO0kPTwlv7qwTC1aii8Axh8ubNpGzDATTmQwrczGK2FU30Jo96y9fVFZcEO1x%2BNm0dOPTXewjstWCpSmr0XMUUB08Wc2FGorGBs3JcKksSBvA%2B9OsgaoSGZjsHgYH1re6iTokorNR42756TS1HJiaD8ItJH4pb5ZOxdB13CVfAsVvWdE2dMMqv1ssGOqUB54AqgktKvvoRN%2FcTJIpRLeDd7ItPmio5tyhGVHyXABOuTB%2BRYnkvdJvAeRlWHdb3p6gnasgaOj%2BAUsn3squYP2x%2FDUfTySwyzZ0QBmuR5bgY7azAt5q12NeHDP2840Zc%2FTezWtmOT3kxmxFhFHd%2B84jcwm7xd1Aecj7vTN47%2BsyaN0Lx1FetGlK9uzJuexeC4irvgWZWLQ8h10uQLupD2iPSFrGq&X-Amz-Signature=accf8303c005e267022b67ddadfc955f338120e92f44f1a2bf574b6695089b27&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S5C7RTUR%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIBUrBkZcub2D%2Fmew%2BtGtFzOcn0aF9evNz%2B3%2F9sKYBRSLAiEA7KESGFFg599edsllWpdwrEA02gV%2FdDXnUaBcvEh%2FT8Iq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDLnf4dmldNu4BtcDbSrcAzHBF0TDoaB%2FlBNoQ%2FiBuA%2BYhbSIbxmCdo0q5Mg1uiLFUDyjV9QqH8g6DtxX7zzqCnq1RgYaxfezLOYwzs%2FCBshWr2SQ2nM08ea1WocXcz%2BrUsMbUKoIUjxrHnst4JJNXRpCkOIcXZNEIa1Jv4f1S3bJ18OO%2Bfo0yPVtb7NzDBTAUholXo2fz42hqo2df0lwc%2F2Wx68AHJlsnnyHDcK1JPpgauiulqjhTdzKJzlDx7Qc9tn6ONzqu%2B7sStNou%2B3RdCHAfNXt14aHZ3EobojY3a6fx%2FyPc4h%2FRH4qDtjqQSI%2FPV40T7QsKLUZ0GoD%2FBOpU92xLXnVr7r30PomFYtAbvY7HX1GVUMKQMtTc3s1iErjqKZ%2BxBNatzDExvO4C1PbAxkK%2BQgOo%2FsB3vzMsOZDRs3w0Oz7GhSfs7RVixcLstmhd3jcsDdkYOls%2B7ZFkXnns8%2Ffs%2BI8LQKO0kPTwlv7qwTC1aii8Axh8ubNpGzDATTmQwrczGK2FU30Jo96y9fVFZcEO1x%2BNm0dOPTXewjstWCpSmr0XMUUB08Wc2FGorGBs3JcKksSBvA%2B9OsgaoSGZjsHgYH1re6iTokorNR42756TS1HJiaD8ItJH4pb5ZOxdB13CVfAsVvWdE2dMMqv1ssGOqUB54AqgktKvvoRN%2FcTJIpRLeDd7ItPmio5tyhGVHyXABOuTB%2BRYnkvdJvAeRlWHdb3p6gnasgaOj%2BAUsn3squYP2x%2FDUfTySwyzZ0QBmuR5bgY7azAt5q12NeHDP2840Zc%2FTezWtmOT3kxmxFhFHd%2B84jcwm7xd1Aecj7vTN47%2BsyaN0Lx1FetGlK9uzJuexeC4irvgWZWLQ8h10uQLupD2iPSFrGq&X-Amz-Signature=d0ac6be9eb02cef2ad9cec74e3cb67cf3e5312b88c9749ea02d738706a919bc4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RUS5ULXQ%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042554Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCWlP8AiZjXIsPBCaDhi4jok%2FnBAoqWmGq15n9z4M%2FPxgIgAd56j%2Bi5HWlw4%2BllY4Rhokn2xv6gqd4i6OI87Q4hkikq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDHavOgYs2ePzY60gFircA44LFkwDYqeZ0m0lOzG1tCHjIfKupn8nDjaYuOdT24ZT5BZ8DDLpPYJ6%2FFmPqx86uhwS8Y0eD7LzBde22AD37%2BSoAE4JF6Sr5p1xuLn%2FiELbKupST%2FxVImZSWN9vmal6q%2B4dJGMO5fff2Nr5sErrk9MCXn2My5MpEAIKJT1leU%2Fvi6hqGESxc0d0PKx31X%2BfTguEcwbUsG9%2FQZIWhFA5L1cbjQSkhWxIP30oWXUapTXjsWHLRUKrDftzU62cjJuWWTL%2BHTdOXIEhul8v4U3DPAgjGDwB3ceQ5sEtO%2FbbeQa%2B5r52YfG6OjeQnx2vk91vcZMCPHUKl2mSkegou1quVm1NyEXzVgkONn5r2RLztw6GeFr%2BfY13IuPRu1TIhrImIKSGM4PUv1bzRD67uUlPw2sKG2nf9iXPaRG6ULd7bcfg5zSpzKcld%2FVpVQhqLzdpF%2F7h70PT3leaWgbiDyPDoaHMKcm4TluNdqItKHh8la9%2FRSIwMI1g7Nfnoa%2BBny62R9o0Xct%2FucZ%2BeHvSjAA%2FoWkUdJrP%2BzKey1LHANxHa2lAjeRY3d3BqX0dGLAr4pY41NSvL6G7H9NUPNZMWUoxK8u7LhHdcf5XxhqTny4TBBVps02WpiCMwNJgg1RYMNuv1ssGOqUBpthyz5upDo%2FoLqGyy8s3X1yAXJbEVy9%2BcB%2F5mR6jM338pp3jmbFIh1MN%2FrFWQ5WKzaIrDYkF6Zc02M%2FROJ3Se11gbaJAhxXCGshATIdRo4E3d2AV9HczgnwvmbNVDxAgKCSmTSN1s7tkHXwSiJz5MA%2Fre7ladL0rI2B28iafSaGKKNO5HFcNZPTuZLqA5ffuyKtEZ%2BkVJTkmCQS621vJfxbJ4%2BS3&X-Amz-Signature=05259da91649533504a338bac6639e9e1c79f2bef07d0e8ecf28f56d3bc77aaa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RUS5ULXQ%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042554Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCWlP8AiZjXIsPBCaDhi4jok%2FnBAoqWmGq15n9z4M%2FPxgIgAd56j%2Bi5HWlw4%2BllY4Rhokn2xv6gqd4i6OI87Q4hkikq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDHavOgYs2ePzY60gFircA44LFkwDYqeZ0m0lOzG1tCHjIfKupn8nDjaYuOdT24ZT5BZ8DDLpPYJ6%2FFmPqx86uhwS8Y0eD7LzBde22AD37%2BSoAE4JF6Sr5p1xuLn%2FiELbKupST%2FxVImZSWN9vmal6q%2B4dJGMO5fff2Nr5sErrk9MCXn2My5MpEAIKJT1leU%2Fvi6hqGESxc0d0PKx31X%2BfTguEcwbUsG9%2FQZIWhFA5L1cbjQSkhWxIP30oWXUapTXjsWHLRUKrDftzU62cjJuWWTL%2BHTdOXIEhul8v4U3DPAgjGDwB3ceQ5sEtO%2FbbeQa%2B5r52YfG6OjeQnx2vk91vcZMCPHUKl2mSkegou1quVm1NyEXzVgkONn5r2RLztw6GeFr%2BfY13IuPRu1TIhrImIKSGM4PUv1bzRD67uUlPw2sKG2nf9iXPaRG6ULd7bcfg5zSpzKcld%2FVpVQhqLzdpF%2F7h70PT3leaWgbiDyPDoaHMKcm4TluNdqItKHh8la9%2FRSIwMI1g7Nfnoa%2BBny62R9o0Xct%2FucZ%2BeHvSjAA%2FoWkUdJrP%2BzKey1LHANxHa2lAjeRY3d3BqX0dGLAr4pY41NSvL6G7H9NUPNZMWUoxK8u7LhHdcf5XxhqTny4TBBVps02WpiCMwNJgg1RYMNuv1ssGOqUBpthyz5upDo%2FoLqGyy8s3X1yAXJbEVy9%2BcB%2F5mR6jM338pp3jmbFIh1MN%2FrFWQ5WKzaIrDYkF6Zc02M%2FROJ3Se11gbaJAhxXCGshATIdRo4E3d2AV9HczgnwvmbNVDxAgKCSmTSN1s7tkHXwSiJz5MA%2Fre7ladL0rI2B28iafSaGKKNO5HFcNZPTuZLqA5ffuyKtEZ%2BkVJTkmCQS621vJfxbJ4%2BS3&X-Amz-Signature=653d6d9919149e01b060111adf0e2206adf9df088336c691dd46cbada293a846&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S57DTLNM%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042554Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCID2mX4SOwcuci3iLHuioL%2B842u4laqrT1k6%2BstkdqxLqAiBox42ABFMs%2FCew1aq%2BXA%2BKDwvTbl7r1WburAyMsCcu3Sr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMRm6R9towpdontqRuKtwDHABfWug3WRO2MIj5ey4LJTSRlkM99gmWH%2BOjLIID9%2BGQE5H4cIPdpwjfuHZ20kEt4LEcsK%2Brt7jG%2BPm7KBlG470h7Fn65zaI%2Bn%2FXt3Ri%2FnOHAhxFgFy%2FOeJtSh%2FxcE4nsSeha72dnCiI2te%2F9Bh0EqmFpkWFz7%2BCNA9oW4ds4rkVWWS3xF05SUkEC7Otb2QOXGPhfA42mKTmJVDvAxP6wa0AjWHzcayjePvfvM48fKwTQygEew8I7fpUjAy%2FptQBTVe%2BHWATC9AvYVV7sNrfeDYDS%2BkvgT8WtpffHy9BAuOwrk2gO8REseiVYBWcDDyliRp6jZE5nWZvPj7IxXjLdSkNdpYyxL3vst3b4acwQIpglTESZeAveyGWBaabiNUxIbUBFjVPJ5MIu%2FH%2Be6Rmyx4o6Mu34kmwu83ysiCglp5ImDGRFt5nhDCbVMKOQBWPSl%2BHEqVaI9Kf1uZLYP777LPrI%2FFwZVe1C%2BjM8r11ljFYYFZ8y3pPjD4OTp%2BIIyAXcOi7DbWD1TPgs1aoxg2LbiCvkuzauqMiBJHsRZt6PRBavn%2BA107hLwNmT8VW%2F0aRxBxn6VP8N%2BnL6FVo%2FZJucEqi8a8sXiuYcRxNlbBtVYm7H4sWYpv4pPCSjo4wyK%2FWywY6pgFwhHskzhMP%2BRKoA9Ysu4GbaUMRv4iLiVaqgWWPQS4n6d%2FvVHi4WHuyAsbf6doIl7T%2BdSNiFiA7DrW2ENRoLNkWDiZjhwZ%2FxN02YwEozEm96164LTO8idgJ47jG8rvEWx2lAuJ3Ost10a9POQXfJLH%2BODZEq3yg368W5meX%2FcZvaYUj2Abrz%2FyO0QB3L9xyHlNOoYhzOAlx0APAZu7357BvCAheFER7&X-Amz-Signature=735d2cc50d58ba5187a8adbd281e880321d6bb21ce7a50610eaf841eb138f091&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S57DTLNM%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042554Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCID2mX4SOwcuci3iLHuioL%2B842u4laqrT1k6%2BstkdqxLqAiBox42ABFMs%2FCew1aq%2BXA%2BKDwvTbl7r1WburAyMsCcu3Sr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMRm6R9towpdontqRuKtwDHABfWug3WRO2MIj5ey4LJTSRlkM99gmWH%2BOjLIID9%2BGQE5H4cIPdpwjfuHZ20kEt4LEcsK%2Brt7jG%2BPm7KBlG470h7Fn65zaI%2Bn%2FXt3Ri%2FnOHAhxFgFy%2FOeJtSh%2FxcE4nsSeha72dnCiI2te%2F9Bh0EqmFpkWFz7%2BCNA9oW4ds4rkVWWS3xF05SUkEC7Otb2QOXGPhfA42mKTmJVDvAxP6wa0AjWHzcayjePvfvM48fKwTQygEew8I7fpUjAy%2FptQBTVe%2BHWATC9AvYVV7sNrfeDYDS%2BkvgT8WtpffHy9BAuOwrk2gO8REseiVYBWcDDyliRp6jZE5nWZvPj7IxXjLdSkNdpYyxL3vst3b4acwQIpglTESZeAveyGWBaabiNUxIbUBFjVPJ5MIu%2FH%2Be6Rmyx4o6Mu34kmwu83ysiCglp5ImDGRFt5nhDCbVMKOQBWPSl%2BHEqVaI9Kf1uZLYP777LPrI%2FFwZVe1C%2BjM8r11ljFYYFZ8y3pPjD4OTp%2BIIyAXcOi7DbWD1TPgs1aoxg2LbiCvkuzauqMiBJHsRZt6PRBavn%2BA107hLwNmT8VW%2F0aRxBxn6VP8N%2BnL6FVo%2FZJucEqi8a8sXiuYcRxNlbBtVYm7H4sWYpv4pPCSjo4wyK%2FWywY6pgFwhHskzhMP%2BRKoA9Ysu4GbaUMRv4iLiVaqgWWPQS4n6d%2FvVHi4WHuyAsbf6doIl7T%2BdSNiFiA7DrW2ENRoLNkWDiZjhwZ%2FxN02YwEozEm96164LTO8idgJ47jG8rvEWx2lAuJ3Ost10a9POQXfJLH%2BODZEq3yg368W5meX%2FcZvaYUj2Abrz%2FyO0QB3L9xyHlNOoYhzOAlx0APAZu7357BvCAheFER7&X-Amz-Signature=d4d1934ba899e168c05d1ed89ff9c8eb3238229d5886c101d7da44163eeb8544&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46642XNSWZ2%2F20260125%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260125T042554Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIHajbDcouGfaKjscm7Xf7T1LcSmQPYfuP8R0gdQWptKJAiEAnqLfzmAUcHzbGXh09gcZdFpbeeDXUfPzP%2BqpWg7nTCYq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDBnpXGDsLqHzuFW4QSrcA4JPYE0HQDC7nLKNPjOjUG24XahlGwauBCs%2F3v4h01yPuBkwP36XRafvu8uuJGVwIIedw9mjqCESoAK8jsC404VO4IWSkmPZOXKvoX6yFdUmIyBQ8RQolVwDMOSjvKA2J3ylJ5piCinErCqZQgfldjSKEfxnqsA093kOghznw4%2Bje6bls1%2FBU6fel7Kq%2Bifi1F3q3%2FcUrpmhY6%2B8z1W%2F9YrMWxk62oANgZ1dSLgCq3jEbiDmwlZiqdH26eq0gcreNPz84eDb1SvA%2Bp1thMpG63ZBALjY8tljr%2BLSznNZbop0RRL9RiK5yIkudtRYWznnPZeN2WLSA9NkczdeTzEI%2FIZGQJ23sS3NJoz6LNYn5Ji78kBvez1luGGjD2EwuQjTmeYaAVY7102MD%2Bgg%2BESkGfptK8as7XLNi24gjXSBNpH9hrA3I1UTu9Nn%2BEJHMc%2Fru2gRw6bqWO%2BDyVJ9RuTeZR%2B4LsNkY0F4g2wgYBFMBmhgF4e%2Blm4CzMfssRKyPhpPd0HFVPvjSRXtCe4jIF3JQvJ7k%2BxHSlQV%2FyBwXOtDcn1n0HskJJlZZFQyHRBy7Glb%2FtozNl5gFuRC0blmKp1tMLbz%2BTj6diqdNjaJ7KYr7bUSDeuoXVoLcW86Oir6MOOv1ssGOqUBd76D6%2FYtML3KPh2QtZBcHBRoQYveUf7GhLpTQkN0tTGzZuct%2Bcl5lMNisPO%2FQ1q%2B3Xmr0RckgN2JbwTgmE9SY%2FGc%2Bzn98sZ8fT13%2F%2Fo910v9dSYnlfV%2BjbXwS1f4LTUAAwqwv6P3QuxMOdHU66Q2yvi0ixrZGhFKpdp6aEqF5FQUrHs2BNKF5zYcFlsmgH%2Fkm7eP7KrzCi7UUzJwg852WE%2BwDdMG&X-Amz-Signature=9252fae31d05a47fa94df408a85ec5ea210e88fc6f208646aa07917276ccd11c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
