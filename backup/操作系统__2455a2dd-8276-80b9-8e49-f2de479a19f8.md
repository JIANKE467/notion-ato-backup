
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W7VNPVEL%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041054Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIFoa6a2Oeu%2BjGSPP5zP%2F2fdrcoMJj1l2pWgjconNaQduAiEA5PHqncrvPXYixPURkSZmv%2FtiafR3Ln5F%2FAGy4lYbI%2FoqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBN%2BI0t1FWNOlOALiSrcA4MM59cqpJQG6WZ0JtQPcemor5ntxaQ3I59XluHggXxSZty9MKui%2BoQTNtJSM2ZP9U0i68yl%2BWAZQk2BhN9LnuZreXgVAgwgly84QXAhpPvh3Th5momMkozyteZGRxlIzN6ntRPoRGdbCKzbUk2JSfjoUfCn8OLJsG2T2kSkUq4zqNpUoE9%2FbenevWPdDnpzgd24SZdkdFCaIkbHhNlPfOAW343NPCO3%2FP3Tza%2BOiiNTb7G4KAOXm1W%2Bzt2dGxjxlZY%2FROEZOHcuy3lzF6qu4bCxokvMtr5z1aFG6vBJSzBFtUIcCfMkZLCwO4OWPD4JKUBLNFAROXvd4X3PMGzMuETS%2F4abjPmca%2B5kj5V%2BAe9Dx5xQW9I3ptrNiIyCbwKY4gHNgn4WQ4E4qJgUh%2BjZaskhrTABRqT5ODMKlzYCfiBpZgV5xIRWeUFZVg5JmUubD4OCJn%2FKZHwZxr1B7tfroyvut3GU%2FHT7kB3QHsMVvJzwXudSGgAEed8aRVGP0TqwUX%2F6%2FMbILlahQ7fXysfjy4vbPbT1VrAKvpWir%2BIa0xQ5wCj2qKGdmOOJfVWrsW8pSK8vvBRck7CSph7yEsftu1sRoOSwUNVZQGTsxp7fBShsst2MAVldkguqZ09FMN2j3MoGOqUBGke%2Bz2pXq5gwJxMwY%2BVRC3l%2FfrUUVwTmkfqXhrE8eyNapVkG%2FM1i2Lp6Ao3xwio3eXqPvH4Fhltont%2Banb%2B67YU4PwBKSEYMcnw9Ab%2BOvrcMcr3oWn4EBgICSvA3S5UBpp6wz4TOK1MapbkJtDHCXSgngYNLnFE8KyB5Wqd%2FbYBriCj2D%2FMoa4DqhuKxKkzUfh5DkAI%2FzmdZRF6CJL0N%2Fb7Vydjv&X-Amz-Signature=41aedb5addd16ef153063cfe2601c4240941dd8f6444913f016c006710f13825&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W7VNPVEL%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041054Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIFoa6a2Oeu%2BjGSPP5zP%2F2fdrcoMJj1l2pWgjconNaQduAiEA5PHqncrvPXYixPURkSZmv%2FtiafR3Ln5F%2FAGy4lYbI%2FoqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBN%2BI0t1FWNOlOALiSrcA4MM59cqpJQG6WZ0JtQPcemor5ntxaQ3I59XluHggXxSZty9MKui%2BoQTNtJSM2ZP9U0i68yl%2BWAZQk2BhN9LnuZreXgVAgwgly84QXAhpPvh3Th5momMkozyteZGRxlIzN6ntRPoRGdbCKzbUk2JSfjoUfCn8OLJsG2T2kSkUq4zqNpUoE9%2FbenevWPdDnpzgd24SZdkdFCaIkbHhNlPfOAW343NPCO3%2FP3Tza%2BOiiNTb7G4KAOXm1W%2Bzt2dGxjxlZY%2FROEZOHcuy3lzF6qu4bCxokvMtr5z1aFG6vBJSzBFtUIcCfMkZLCwO4OWPD4JKUBLNFAROXvd4X3PMGzMuETS%2F4abjPmca%2B5kj5V%2BAe9Dx5xQW9I3ptrNiIyCbwKY4gHNgn4WQ4E4qJgUh%2BjZaskhrTABRqT5ODMKlzYCfiBpZgV5xIRWeUFZVg5JmUubD4OCJn%2FKZHwZxr1B7tfroyvut3GU%2FHT7kB3QHsMVvJzwXudSGgAEed8aRVGP0TqwUX%2F6%2FMbILlahQ7fXysfjy4vbPbT1VrAKvpWir%2BIa0xQ5wCj2qKGdmOOJfVWrsW8pSK8vvBRck7CSph7yEsftu1sRoOSwUNVZQGTsxp7fBShsst2MAVldkguqZ09FMN2j3MoGOqUBGke%2Bz2pXq5gwJxMwY%2BVRC3l%2FfrUUVwTmkfqXhrE8eyNapVkG%2FM1i2Lp6Ao3xwio3eXqPvH4Fhltont%2Banb%2B67YU4PwBKSEYMcnw9Ab%2BOvrcMcr3oWn4EBgICSvA3S5UBpp6wz4TOK1MapbkJtDHCXSgngYNLnFE8KyB5Wqd%2FbYBriCj2D%2FMoa4DqhuKxKkzUfh5DkAI%2FzmdZRF6CJL0N%2Fb7Vydjv&X-Amz-Signature=127d1ff4405a0a03d69b43a3ff184bf46ec871e5370909eeb75e50a6521e8c8a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W7VNPVEL%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041054Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIFoa6a2Oeu%2BjGSPP5zP%2F2fdrcoMJj1l2pWgjconNaQduAiEA5PHqncrvPXYixPURkSZmv%2FtiafR3Ln5F%2FAGy4lYbI%2FoqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBN%2BI0t1FWNOlOALiSrcA4MM59cqpJQG6WZ0JtQPcemor5ntxaQ3I59XluHggXxSZty9MKui%2BoQTNtJSM2ZP9U0i68yl%2BWAZQk2BhN9LnuZreXgVAgwgly84QXAhpPvh3Th5momMkozyteZGRxlIzN6ntRPoRGdbCKzbUk2JSfjoUfCn8OLJsG2T2kSkUq4zqNpUoE9%2FbenevWPdDnpzgd24SZdkdFCaIkbHhNlPfOAW343NPCO3%2FP3Tza%2BOiiNTb7G4KAOXm1W%2Bzt2dGxjxlZY%2FROEZOHcuy3lzF6qu4bCxokvMtr5z1aFG6vBJSzBFtUIcCfMkZLCwO4OWPD4JKUBLNFAROXvd4X3PMGzMuETS%2F4abjPmca%2B5kj5V%2BAe9Dx5xQW9I3ptrNiIyCbwKY4gHNgn4WQ4E4qJgUh%2BjZaskhrTABRqT5ODMKlzYCfiBpZgV5xIRWeUFZVg5JmUubD4OCJn%2FKZHwZxr1B7tfroyvut3GU%2FHT7kB3QHsMVvJzwXudSGgAEed8aRVGP0TqwUX%2F6%2FMbILlahQ7fXysfjy4vbPbT1VrAKvpWir%2BIa0xQ5wCj2qKGdmOOJfVWrsW8pSK8vvBRck7CSph7yEsftu1sRoOSwUNVZQGTsxp7fBShsst2MAVldkguqZ09FMN2j3MoGOqUBGke%2Bz2pXq5gwJxMwY%2BVRC3l%2FfrUUVwTmkfqXhrE8eyNapVkG%2FM1i2Lp6Ao3xwio3eXqPvH4Fhltont%2Banb%2B67YU4PwBKSEYMcnw9Ab%2BOvrcMcr3oWn4EBgICSvA3S5UBpp6wz4TOK1MapbkJtDHCXSgngYNLnFE8KyB5Wqd%2FbYBriCj2D%2FMoa4DqhuKxKkzUfh5DkAI%2FzmdZRF6CJL0N%2Fb7Vydjv&X-Amz-Signature=34dba53b7e37969d4d2bebbc86a6752a815aa17afd2e8f01195b609b12f1be25&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46622OTKWDJ%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041054Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQDkG8vDU8cpvDtpArS5jWZa0pwSc%2Bj3Ry%2FLrw%2BNDOQ2WAIgURjBA%2Bw%2FZNzNTtd2kwutG93cD%2Fe5lcxxIEP5xAfASEwqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDs2wV4CuPsgq5%2FHEyrcA94oRTpGR8HqPR3%2B49kfq9BOs2B%2FKJBsUqeXEvg4psM%2BMYfd2prbdlP%2FXm0nBOuCepEDOemaGMdDALvEkTrGt6xceFXO0AFqv2LjNdRbhmPoSowpC6bttFImeQPLH3qEJDtX1oKfPyLNZJ2E9Cd%2B6bxMw9OAc1u4LdWKsMK%2FeAwgm9n2oH7PXiakJ03IKU2xLqRiui3twiLUhuTOqs7rCS2PiIXsxE2RoNniT5X%2FQqFgiuRPd1UDIZpIB5NEpsi%2FZpvnwrusR4LCVkMpRKH0w%2F6DP5TvrqBLfHsiNKmUn9NEnUFOCEt%2BCi2kKRrLv4yPzKASi8S30tAtKjDVw%2BSiUgN6X8Kl%2Bp4kvKnbJnQchVxSZhs2zUJwIAAzAzqpPPRRHJYULtE%2FNYgeaiXqK%2FkGpRE%2FTr3XhzOFl6kApEA%2BIY5Pi2HLDo0LSiCTZNbzGqSndKhEj8IqBtgCBIUX56N7z%2BYnHNA2grghnR9fl1I6m1pB5AlGCZdzbRwB4qQ7N06p2fKs16eLxatXhS17vhh%2F%2FvdhM3WlwtoB4G5VvM%2FbZWLIKQWzwmKI3MSHNMEYhsxbzXqHXUwUpHU5h%2Bzkj57447u6hWwUmBaXMnZJ0aT0Yp3Sr2UyWojEOqVxFZaTMOey3MoGOqUBwSrt5b%2FNJtGRNKlIlIanvzsH6Oj2VmsfNlMU%2B2WcoMLn199O6MRBHOWsBKuBEQWpNSYH%2FkO8x29j6hqLRCUn0hPYue6wRb8HI4WSPoOtXKSCI62rpGcfT8bn%2Fxxme1aK2%2F69PojG84FgB8dXpLvn16rjoitwTpYW3kOf4JXmAVrexkJizc5NqViKX9G4YkGTmo9VZQ2TSl4tf44zWWEHzB1DBV%2F%2B&X-Amz-Signature=acfddcc26a1275485b305b83c4a25b32312f16a3d868dd4f4f5bd26088c51f81&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46622OTKWDJ%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041054Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQDkG8vDU8cpvDtpArS5jWZa0pwSc%2Bj3Ry%2FLrw%2BNDOQ2WAIgURjBA%2Bw%2FZNzNTtd2kwutG93cD%2Fe5lcxxIEP5xAfASEwqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDs2wV4CuPsgq5%2FHEyrcA94oRTpGR8HqPR3%2B49kfq9BOs2B%2FKJBsUqeXEvg4psM%2BMYfd2prbdlP%2FXm0nBOuCepEDOemaGMdDALvEkTrGt6xceFXO0AFqv2LjNdRbhmPoSowpC6bttFImeQPLH3qEJDtX1oKfPyLNZJ2E9Cd%2B6bxMw9OAc1u4LdWKsMK%2FeAwgm9n2oH7PXiakJ03IKU2xLqRiui3twiLUhuTOqs7rCS2PiIXsxE2RoNniT5X%2FQqFgiuRPd1UDIZpIB5NEpsi%2FZpvnwrusR4LCVkMpRKH0w%2F6DP5TvrqBLfHsiNKmUn9NEnUFOCEt%2BCi2kKRrLv4yPzKASi8S30tAtKjDVw%2BSiUgN6X8Kl%2Bp4kvKnbJnQchVxSZhs2zUJwIAAzAzqpPPRRHJYULtE%2FNYgeaiXqK%2FkGpRE%2FTr3XhzOFl6kApEA%2BIY5Pi2HLDo0LSiCTZNbzGqSndKhEj8IqBtgCBIUX56N7z%2BYnHNA2grghnR9fl1I6m1pB5AlGCZdzbRwB4qQ7N06p2fKs16eLxatXhS17vhh%2F%2FvdhM3WlwtoB4G5VvM%2FbZWLIKQWzwmKI3MSHNMEYhsxbzXqHXUwUpHU5h%2Bzkj57447u6hWwUmBaXMnZJ0aT0Yp3Sr2UyWojEOqVxFZaTMOey3MoGOqUBwSrt5b%2FNJtGRNKlIlIanvzsH6Oj2VmsfNlMU%2B2WcoMLn199O6MRBHOWsBKuBEQWpNSYH%2FkO8x29j6hqLRCUn0hPYue6wRb8HI4WSPoOtXKSCI62rpGcfT8bn%2Fxxme1aK2%2F69PojG84FgB8dXpLvn16rjoitwTpYW3kOf4JXmAVrexkJizc5NqViKX9G4YkGTmo9VZQ2TSl4tf44zWWEHzB1DBV%2F%2B&X-Amz-Signature=13a3dfb4309de3b689bf7855b39d74447d0c8cec939e2d6c862025c81ebbe6f9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46622OTKWDJ%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041054Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQDkG8vDU8cpvDtpArS5jWZa0pwSc%2Bj3Ry%2FLrw%2BNDOQ2WAIgURjBA%2Bw%2FZNzNTtd2kwutG93cD%2Fe5lcxxIEP5xAfASEwqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDDs2wV4CuPsgq5%2FHEyrcA94oRTpGR8HqPR3%2B49kfq9BOs2B%2FKJBsUqeXEvg4psM%2BMYfd2prbdlP%2FXm0nBOuCepEDOemaGMdDALvEkTrGt6xceFXO0AFqv2LjNdRbhmPoSowpC6bttFImeQPLH3qEJDtX1oKfPyLNZJ2E9Cd%2B6bxMw9OAc1u4LdWKsMK%2FeAwgm9n2oH7PXiakJ03IKU2xLqRiui3twiLUhuTOqs7rCS2PiIXsxE2RoNniT5X%2FQqFgiuRPd1UDIZpIB5NEpsi%2FZpvnwrusR4LCVkMpRKH0w%2F6DP5TvrqBLfHsiNKmUn9NEnUFOCEt%2BCi2kKRrLv4yPzKASi8S30tAtKjDVw%2BSiUgN6X8Kl%2Bp4kvKnbJnQchVxSZhs2zUJwIAAzAzqpPPRRHJYULtE%2FNYgeaiXqK%2FkGpRE%2FTr3XhzOFl6kApEA%2BIY5Pi2HLDo0LSiCTZNbzGqSndKhEj8IqBtgCBIUX56N7z%2BYnHNA2grghnR9fl1I6m1pB5AlGCZdzbRwB4qQ7N06p2fKs16eLxatXhS17vhh%2F%2FvdhM3WlwtoB4G5VvM%2FbZWLIKQWzwmKI3MSHNMEYhsxbzXqHXUwUpHU5h%2Bzkj57447u6hWwUmBaXMnZJ0aT0Yp3Sr2UyWojEOqVxFZaTMOey3MoGOqUBwSrt5b%2FNJtGRNKlIlIanvzsH6Oj2VmsfNlMU%2B2WcoMLn199O6MRBHOWsBKuBEQWpNSYH%2FkO8x29j6hqLRCUn0hPYue6wRb8HI4WSPoOtXKSCI62rpGcfT8bn%2Fxxme1aK2%2F69PojG84FgB8dXpLvn16rjoitwTpYW3kOf4JXmAVrexkJizc5NqViKX9G4YkGTmo9VZQ2TSl4tf44zWWEHzB1DBV%2F%2B&X-Amz-Signature=2836d0c97a9cc56230795e4caf9e3fb8a9f91676196da33609a4eaea582ad82a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666WT42WMT%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJIMEYCIQD5RjFyg3VP%2FBD6kv4r%2Bzv5ekwcz6Fc%2BsJr%2FyypJ0i%2B2wIhANxxFCaAPWww%2FsILo%2FAVfxxDupiBuX8jk%2FPzzbLWGVYaKogECPL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igxr5hkdx1x246jsoVAq3AOj%2F0osyJobXLopNaDLn6k3T3qB%2FsOi51W6RYO4zCRFdxBSgUXV9txOGgL4du8NONitxbC4ojLRKVkc5lLH9FwKBrZBYLwmHp5kYmXgnIIP2Pd3G0lj%2BwT1JalRfCVBPOO3xYzcHZjQvDmaj56ZyRyTohMypcU%2BPPGTgB6k0L0R%2BYdwHTiNiGU10lq%2BShgXFgXmJpRhfpnFm1DQt1zavyhD7tRUF3ge6yNvsXdEkct2OMV28iO4ucHsIfZl0mxszaZVEB%2BlH00dKGE2PL7rk5Iz1JXhCCWtRU6vCXvk3IrTViibRWV4IXvSmYb%2FwNMIzIAznbBhRHioNrrX3L8kK59nmaCwInlYB9dxU904WI7nJYNeAfzojVwNYKUQtd8sFsqZEgBfAJ2dy5HyVZG1TFUvxFaJ9oRYpBTQYYVBgL32uXh8MWierDdkS8WNUjI0SAYFEqZIVlrrNY92ZWRwx9gpYtMVdrtq6mgA2KvPVn0qXBpjyi4Jr2GrrvBaqxh%2BHdG2Y%2F68jbbmxbwJZze3XlJZaeEYjWamuSCpng1whX5GLXwEUj85%2Bi%2FNgJuOmqt%2BbKxelKGapH5wSy2%2FOsss4%2BhyXlfIU%2FfYk9MvQ6F60GzlZKQDxZLIPn61WXh5CzDgrdzKBjqkAaU6yC2hLWApdy7n8R%2Fyj3XVnW1YvHcn3nZyn7yNN3LRoEBwGOpNl7P72HqyBOfui%2FAJOABNn8x2Ylf0e87YT5BcAVMNUI%2BjHUYYmJZ2djBhNAQ0O4h3LiRM%2B4mvZbWTZyq1D%2FKAx1pPxTsirNz64hw%2FXKv4oycdbRpwf5eJDhk7ylXymKUlbZs1F2Dh02SQOwTITTWMCqjmmiZqXgTuFJkLT7QG&X-Amz-Signature=9e402a7980d76b6e2b0f23d09337acdd0a1c9f304ef913af6c45f1fef0d53577&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666WT42WMT%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJIMEYCIQD5RjFyg3VP%2FBD6kv4r%2Bzv5ekwcz6Fc%2BsJr%2FyypJ0i%2B2wIhANxxFCaAPWww%2FsILo%2FAVfxxDupiBuX8jk%2FPzzbLWGVYaKogECPL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igxr5hkdx1x246jsoVAq3AOj%2F0osyJobXLopNaDLn6k3T3qB%2FsOi51W6RYO4zCRFdxBSgUXV9txOGgL4du8NONitxbC4ojLRKVkc5lLH9FwKBrZBYLwmHp5kYmXgnIIP2Pd3G0lj%2BwT1JalRfCVBPOO3xYzcHZjQvDmaj56ZyRyTohMypcU%2BPPGTgB6k0L0R%2BYdwHTiNiGU10lq%2BShgXFgXmJpRhfpnFm1DQt1zavyhD7tRUF3ge6yNvsXdEkct2OMV28iO4ucHsIfZl0mxszaZVEB%2BlH00dKGE2PL7rk5Iz1JXhCCWtRU6vCXvk3IrTViibRWV4IXvSmYb%2FwNMIzIAznbBhRHioNrrX3L8kK59nmaCwInlYB9dxU904WI7nJYNeAfzojVwNYKUQtd8sFsqZEgBfAJ2dy5HyVZG1TFUvxFaJ9oRYpBTQYYVBgL32uXh8MWierDdkS8WNUjI0SAYFEqZIVlrrNY92ZWRwx9gpYtMVdrtq6mgA2KvPVn0qXBpjyi4Jr2GrrvBaqxh%2BHdG2Y%2F68jbbmxbwJZze3XlJZaeEYjWamuSCpng1whX5GLXwEUj85%2Bi%2FNgJuOmqt%2BbKxelKGapH5wSy2%2FOsss4%2BhyXlfIU%2FfYk9MvQ6F60GzlZKQDxZLIPn61WXh5CzDgrdzKBjqkAaU6yC2hLWApdy7n8R%2Fyj3XVnW1YvHcn3nZyn7yNN3LRoEBwGOpNl7P72HqyBOfui%2FAJOABNn8x2Ylf0e87YT5BcAVMNUI%2BjHUYYmJZ2djBhNAQ0O4h3LiRM%2B4mvZbWTZyq1D%2FKAx1pPxTsirNz64hw%2FXKv4oycdbRpwf5eJDhk7ylXymKUlbZs1F2Dh02SQOwTITTWMCqjmmiZqXgTuFJkLT7QG&X-Amz-Signature=5b066583000af5fbb2a87d0384cd700567fcc33688e7d33166b0431c2732c0ed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666WT42WMT%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJIMEYCIQD5RjFyg3VP%2FBD6kv4r%2Bzv5ekwcz6Fc%2BsJr%2FyypJ0i%2B2wIhANxxFCaAPWww%2FsILo%2FAVfxxDupiBuX8jk%2FPzzbLWGVYaKogECPL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igxr5hkdx1x246jsoVAq3AOj%2F0osyJobXLopNaDLn6k3T3qB%2FsOi51W6RYO4zCRFdxBSgUXV9txOGgL4du8NONitxbC4ojLRKVkc5lLH9FwKBrZBYLwmHp5kYmXgnIIP2Pd3G0lj%2BwT1JalRfCVBPOO3xYzcHZjQvDmaj56ZyRyTohMypcU%2BPPGTgB6k0L0R%2BYdwHTiNiGU10lq%2BShgXFgXmJpRhfpnFm1DQt1zavyhD7tRUF3ge6yNvsXdEkct2OMV28iO4ucHsIfZl0mxszaZVEB%2BlH00dKGE2PL7rk5Iz1JXhCCWtRU6vCXvk3IrTViibRWV4IXvSmYb%2FwNMIzIAznbBhRHioNrrX3L8kK59nmaCwInlYB9dxU904WI7nJYNeAfzojVwNYKUQtd8sFsqZEgBfAJ2dy5HyVZG1TFUvxFaJ9oRYpBTQYYVBgL32uXh8MWierDdkS8WNUjI0SAYFEqZIVlrrNY92ZWRwx9gpYtMVdrtq6mgA2KvPVn0qXBpjyi4Jr2GrrvBaqxh%2BHdG2Y%2F68jbbmxbwJZze3XlJZaeEYjWamuSCpng1whX5GLXwEUj85%2Bi%2FNgJuOmqt%2BbKxelKGapH5wSy2%2FOsss4%2BhyXlfIU%2FfYk9MvQ6F60GzlZKQDxZLIPn61WXh5CzDgrdzKBjqkAaU6yC2hLWApdy7n8R%2Fyj3XVnW1YvHcn3nZyn7yNN3LRoEBwGOpNl7P72HqyBOfui%2FAJOABNn8x2Ylf0e87YT5BcAVMNUI%2BjHUYYmJZ2djBhNAQ0O4h3LiRM%2B4mvZbWTZyq1D%2FKAx1pPxTsirNz64hw%2FXKv4oycdbRpwf5eJDhk7ylXymKUlbZs1F2Dh02SQOwTITTWMCqjmmiZqXgTuFJkLT7QG&X-Amz-Signature=0da65dc7ce022fc1155e05016222618774973e8837ccade8608243c91fa79688&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666WT42WMT%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJIMEYCIQD5RjFyg3VP%2FBD6kv4r%2Bzv5ekwcz6Fc%2BsJr%2FyypJ0i%2B2wIhANxxFCaAPWww%2FsILo%2FAVfxxDupiBuX8jk%2FPzzbLWGVYaKogECPL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igxr5hkdx1x246jsoVAq3AOj%2F0osyJobXLopNaDLn6k3T3qB%2FsOi51W6RYO4zCRFdxBSgUXV9txOGgL4du8NONitxbC4ojLRKVkc5lLH9FwKBrZBYLwmHp5kYmXgnIIP2Pd3G0lj%2BwT1JalRfCVBPOO3xYzcHZjQvDmaj56ZyRyTohMypcU%2BPPGTgB6k0L0R%2BYdwHTiNiGU10lq%2BShgXFgXmJpRhfpnFm1DQt1zavyhD7tRUF3ge6yNvsXdEkct2OMV28iO4ucHsIfZl0mxszaZVEB%2BlH00dKGE2PL7rk5Iz1JXhCCWtRU6vCXvk3IrTViibRWV4IXvSmYb%2FwNMIzIAznbBhRHioNrrX3L8kK59nmaCwInlYB9dxU904WI7nJYNeAfzojVwNYKUQtd8sFsqZEgBfAJ2dy5HyVZG1TFUvxFaJ9oRYpBTQYYVBgL32uXh8MWierDdkS8WNUjI0SAYFEqZIVlrrNY92ZWRwx9gpYtMVdrtq6mgA2KvPVn0qXBpjyi4Jr2GrrvBaqxh%2BHdG2Y%2F68jbbmxbwJZze3XlJZaeEYjWamuSCpng1whX5GLXwEUj85%2Bi%2FNgJuOmqt%2BbKxelKGapH5wSy2%2FOsss4%2BhyXlfIU%2FfYk9MvQ6F60GzlZKQDxZLIPn61WXh5CzDgrdzKBjqkAaU6yC2hLWApdy7n8R%2Fyj3XVnW1YvHcn3nZyn7yNN3LRoEBwGOpNl7P72HqyBOfui%2FAJOABNn8x2Ylf0e87YT5BcAVMNUI%2BjHUYYmJZ2djBhNAQ0O4h3LiRM%2B4mvZbWTZyq1D%2FKAx1pPxTsirNz64hw%2FXKv4oycdbRpwf5eJDhk7ylXymKUlbZs1F2Dh02SQOwTITTWMCqjmmiZqXgTuFJkLT7QG&X-Amz-Signature=dd8d410fb9d33f70c209539554c837d397f5ee4a56674dfcc47284598acfa56a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TXMVGIGC%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQDCtQFlBqexUms7sACX%2FjhDRjX1QZrIVCreu4Fu8jO91wIgaTL1ZQu76ekdW4iS%2BYUN1FVVVm4eZ7O9czPUAxqvIbEqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDP90Ggz3kDLXi1i90ircA6A4lV3dLDQk35Jf%2FWaq51Y6GH%2BiNx9JHOppcAvgPqYuJWG7ug7J67DFGgzkzukd4Da1P5WKbHaSvdkxFiyfIe9IWqE1pPTy83UYYtIDzLFbmAoyJwu9nqrM%2BwvQwvp0dLdSvzZ67fKdOH%2FAppXCatXWg21pEdWmClEO3q%2BsASdCea7YdPZgbWaYTY561Exm%2F%2F8H2ndBITJHfTEIJMWjZ8UVPSQyIsL4JTKICbSTEtapzlLezP9WSJ%2BDgGetkF0GXSaNDKoTydNnBWH0nzGGV153jEXQkUsS0S4GI1ZQB%2Bi28uheI4mPnJlbsH9P8AG3vFif9SY9qhnHT%2BiJ63YZ2Z39l8Hi491JYwJ2O1eRJ%2B5qpUDLB7iyFJxNJeLQyHojXMMrXEg5Bq%2B4QDqtQtWB4Qkyva9xLU05YCIvThA2K17oxkqrOHEHf6t%2FxYOR923HUmX9aI5okf%2Bkty3Ud90xksUN91uvvzyS42%2FNkhJF76abbgGdV0Nw20q7aMHudIfiiW7RhA%2FvThVaNl2wA3PpLHdTa%2Fqt3IUxHnDtt1pWnTuEEsbfn8FMvZOV89joDto6u8OsY26FA%2FVkqeo%2FBtYzfXi%2FT0NTKL0YsOj0X06kjCWWq6SGRdmnoZh30lOdMIGt3MoGOqUBtb2DGsQwJe5gR2BzOzQRbAdnNgVcgSsvDXhvRMK63OKWsOZOTwOxceIab8bXDNiOOp%2FIyuhSwAhjc8rr0DQ1ECySzFP%2FYlu2oz%2B67tEXHhRS%2FHY6u1xB3YkDyFpbC6tj5f10T85UpriFw6nZJ3sUHHif2rJvkkOlPeepsx%2B27NIhe13HrPAPfZsbR4%2BM4Ww5kmKdl8%2FS1EKDQHPh%2BBrQ7DrGxP82&X-Amz-Signature=66b4b75bbed81373b32635c8b7423207cb912ef01394d3d3ddc6478685a9f1fa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TXMVGIGC%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQDCtQFlBqexUms7sACX%2FjhDRjX1QZrIVCreu4Fu8jO91wIgaTL1ZQu76ekdW4iS%2BYUN1FVVVm4eZ7O9czPUAxqvIbEqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDP90Ggz3kDLXi1i90ircA6A4lV3dLDQk35Jf%2FWaq51Y6GH%2BiNx9JHOppcAvgPqYuJWG7ug7J67DFGgzkzukd4Da1P5WKbHaSvdkxFiyfIe9IWqE1pPTy83UYYtIDzLFbmAoyJwu9nqrM%2BwvQwvp0dLdSvzZ67fKdOH%2FAppXCatXWg21pEdWmClEO3q%2BsASdCea7YdPZgbWaYTY561Exm%2F%2F8H2ndBITJHfTEIJMWjZ8UVPSQyIsL4JTKICbSTEtapzlLezP9WSJ%2BDgGetkF0GXSaNDKoTydNnBWH0nzGGV153jEXQkUsS0S4GI1ZQB%2Bi28uheI4mPnJlbsH9P8AG3vFif9SY9qhnHT%2BiJ63YZ2Z39l8Hi491JYwJ2O1eRJ%2B5qpUDLB7iyFJxNJeLQyHojXMMrXEg5Bq%2B4QDqtQtWB4Qkyva9xLU05YCIvThA2K17oxkqrOHEHf6t%2FxYOR923HUmX9aI5okf%2Bkty3Ud90xksUN91uvvzyS42%2FNkhJF76abbgGdV0Nw20q7aMHudIfiiW7RhA%2FvThVaNl2wA3PpLHdTa%2Fqt3IUxHnDtt1pWnTuEEsbfn8FMvZOV89joDto6u8OsY26FA%2FVkqeo%2FBtYzfXi%2FT0NTKL0YsOj0X06kjCWWq6SGRdmnoZh30lOdMIGt3MoGOqUBtb2DGsQwJe5gR2BzOzQRbAdnNgVcgSsvDXhvRMK63OKWsOZOTwOxceIab8bXDNiOOp%2FIyuhSwAhjc8rr0DQ1ECySzFP%2FYlu2oz%2B67tEXHhRS%2FHY6u1xB3YkDyFpbC6tj5f10T85UpriFw6nZJ3sUHHif2rJvkkOlPeepsx%2B27NIhe13HrPAPfZsbR4%2BM4Ww5kmKdl8%2FS1EKDQHPh%2BBrQ7DrGxP82&X-Amz-Signature=a4171c057f7a3413595e687a21d59629d5426d99d39ecbd1851f3eac3d990c42&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TXMVGIGC%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQDCtQFlBqexUms7sACX%2FjhDRjX1QZrIVCreu4Fu8jO91wIgaTL1ZQu76ekdW4iS%2BYUN1FVVVm4eZ7O9czPUAxqvIbEqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDP90Ggz3kDLXi1i90ircA6A4lV3dLDQk35Jf%2FWaq51Y6GH%2BiNx9JHOppcAvgPqYuJWG7ug7J67DFGgzkzukd4Da1P5WKbHaSvdkxFiyfIe9IWqE1pPTy83UYYtIDzLFbmAoyJwu9nqrM%2BwvQwvp0dLdSvzZ67fKdOH%2FAppXCatXWg21pEdWmClEO3q%2BsASdCea7YdPZgbWaYTY561Exm%2F%2F8H2ndBITJHfTEIJMWjZ8UVPSQyIsL4JTKICbSTEtapzlLezP9WSJ%2BDgGetkF0GXSaNDKoTydNnBWH0nzGGV153jEXQkUsS0S4GI1ZQB%2Bi28uheI4mPnJlbsH9P8AG3vFif9SY9qhnHT%2BiJ63YZ2Z39l8Hi491JYwJ2O1eRJ%2B5qpUDLB7iyFJxNJeLQyHojXMMrXEg5Bq%2B4QDqtQtWB4Qkyva9xLU05YCIvThA2K17oxkqrOHEHf6t%2FxYOR923HUmX9aI5okf%2Bkty3Ud90xksUN91uvvzyS42%2FNkhJF76abbgGdV0Nw20q7aMHudIfiiW7RhA%2FvThVaNl2wA3PpLHdTa%2Fqt3IUxHnDtt1pWnTuEEsbfn8FMvZOV89joDto6u8OsY26FA%2FVkqeo%2FBtYzfXi%2FT0NTKL0YsOj0X06kjCWWq6SGRdmnoZh30lOdMIGt3MoGOqUBtb2DGsQwJe5gR2BzOzQRbAdnNgVcgSsvDXhvRMK63OKWsOZOTwOxceIab8bXDNiOOp%2FIyuhSwAhjc8rr0DQ1ECySzFP%2FYlu2oz%2B67tEXHhRS%2FHY6u1xB3YkDyFpbC6tj5f10T85UpriFw6nZJ3sUHHif2rJvkkOlPeepsx%2B27NIhe13HrPAPfZsbR4%2BM4Ww5kmKdl8%2FS1EKDQHPh%2BBrQ7DrGxP82&X-Amz-Signature=f31c1783d28598da905f12682f40ac79aa592483ce68c4fd4122bb049c7026bc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TXMVGIGC%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIQDCtQFlBqexUms7sACX%2FjhDRjX1QZrIVCreu4Fu8jO91wIgaTL1ZQu76ekdW4iS%2BYUN1FVVVm4eZ7O9czPUAxqvIbEqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDP90Ggz3kDLXi1i90ircA6A4lV3dLDQk35Jf%2FWaq51Y6GH%2BiNx9JHOppcAvgPqYuJWG7ug7J67DFGgzkzukd4Da1P5WKbHaSvdkxFiyfIe9IWqE1pPTy83UYYtIDzLFbmAoyJwu9nqrM%2BwvQwvp0dLdSvzZ67fKdOH%2FAppXCatXWg21pEdWmClEO3q%2BsASdCea7YdPZgbWaYTY561Exm%2F%2F8H2ndBITJHfTEIJMWjZ8UVPSQyIsL4JTKICbSTEtapzlLezP9WSJ%2BDgGetkF0GXSaNDKoTydNnBWH0nzGGV153jEXQkUsS0S4GI1ZQB%2Bi28uheI4mPnJlbsH9P8AG3vFif9SY9qhnHT%2BiJ63YZ2Z39l8Hi491JYwJ2O1eRJ%2B5qpUDLB7iyFJxNJeLQyHojXMMrXEg5Bq%2B4QDqtQtWB4Qkyva9xLU05YCIvThA2K17oxkqrOHEHf6t%2FxYOR923HUmX9aI5okf%2Bkty3Ud90xksUN91uvvzyS42%2FNkhJF76abbgGdV0Nw20q7aMHudIfiiW7RhA%2FvThVaNl2wA3PpLHdTa%2Fqt3IUxHnDtt1pWnTuEEsbfn8FMvZOV89joDto6u8OsY26FA%2FVkqeo%2FBtYzfXi%2FT0NTKL0YsOj0X06kjCWWq6SGRdmnoZh30lOdMIGt3MoGOqUBtb2DGsQwJe5gR2BzOzQRbAdnNgVcgSsvDXhvRMK63OKWsOZOTwOxceIab8bXDNiOOp%2FIyuhSwAhjc8rr0DQ1ECySzFP%2FYlu2oz%2B67tEXHhRS%2FHY6u1xB3YkDyFpbC6tj5f10T85UpriFw6nZJ3sUHHif2rJvkkOlPeepsx%2B27NIhe13HrPAPfZsbR4%2BM4Ww5kmKdl8%2FS1EKDQHPh%2BBrQ7DrGxP82&X-Amz-Signature=24a6fc8994b78f24e15dc9ea97df6944396967b1ad80d1720d89f9108c8aeea4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466R2JENK57%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIHjoGN7MEiiFCrFae2fi6feqkyIzhDLhJbGm159prjwUAiEAsNP%2BOLuQQLr3TfLMP5LjSFb%2BhT03rOSSFUHIWVyYwAcqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPZR%2Fj4EtsnJw60cryrcA8QZifpP4L97Vgey44%2BnfwMjCMi65PJZS9Ve2vhYc5jGlucE6uNtcJ5kM07DQ%2FJmRhA%2BhAxcXwGtpqr6AC0AUSHw84cX2%2B7dDv0cCzGeYVgwXgPvJZiTPKfqMxAgr42K9%2B89OXTU%2F6LDjR9E5Nu4MW0yVF3sycY6lZU3j0josRUsmCfDTlZwiSbROQjgFUM4prm%2Bu7D7mQUX76W30Jk4YkFkhRKumU0GIqFiy%2FG9U%2BLf9fOkoDoThC1ctlqORTcdWb%2BZ2TfXjyHA%2B2KBi0ndsGyVN340iRaT4yyqytCS2JA%2F%2Bbyw5ask5WqNHJF5sjBlxURo5q0szpgBU85bCS0nlTAtJJhdQLiHtYRD8ujwwWp0F2qypcQxDYLZ%2FRwHQsE6hnwfEJmphaQaxlZYRUUKaRIlRkMba6CB6HqnzRF7K0FezKcLyQnG9JQjffRapSN7u1Cbuv2lDQQvvcPNcXjuSJrUbWLNdDNi9E5FFG1J5sOUZSUuJyyBFnngpxsHg1qRlBQRa2qG7B4R40WYFH945PoD9y%2BrrZJrimld3zP6uozR5eeDdLvpu6H%2BeD9oqQ2%2FACIMrMOppJ%2FykmsmNy%2BUtFXiI5y%2BgafmTWI1%2FKXf69AEcAkfujHE00RJmgv6MJGh3MoGOqUB9UeDp2KkY7u2O1W2FQ5ZQlUTXU5PHrgegRE0dPex1n3RekmB7r2CuPcudhxoaHtAOdlM1MA4Uma6R%2BgOzhrExvw8nbgirzVX2o%2BFwm%2Fz%2FCImwP7sF10YGuBwHgEG2afSsAwTX8dGVFYr11ux8TJHTssZCafvdiQBmS6KSZw4JpSfHDKX9kHZJ8e2Uwgjw98yYPutN6781RL3oFQTaCXkXd3FyBpS&X-Amz-Signature=e1e46ad0a306ba49251e55361ec51699f8e12837cba68cf9b5a3334cdd0e4db4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466R2JENK57%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIHjoGN7MEiiFCrFae2fi6feqkyIzhDLhJbGm159prjwUAiEAsNP%2BOLuQQLr3TfLMP5LjSFb%2BhT03rOSSFUHIWVyYwAcqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPZR%2Fj4EtsnJw60cryrcA8QZifpP4L97Vgey44%2BnfwMjCMi65PJZS9Ve2vhYc5jGlucE6uNtcJ5kM07DQ%2FJmRhA%2BhAxcXwGtpqr6AC0AUSHw84cX2%2B7dDv0cCzGeYVgwXgPvJZiTPKfqMxAgr42K9%2B89OXTU%2F6LDjR9E5Nu4MW0yVF3sycY6lZU3j0josRUsmCfDTlZwiSbROQjgFUM4prm%2Bu7D7mQUX76W30Jk4YkFkhRKumU0GIqFiy%2FG9U%2BLf9fOkoDoThC1ctlqORTcdWb%2BZ2TfXjyHA%2B2KBi0ndsGyVN340iRaT4yyqytCS2JA%2F%2Bbyw5ask5WqNHJF5sjBlxURo5q0szpgBU85bCS0nlTAtJJhdQLiHtYRD8ujwwWp0F2qypcQxDYLZ%2FRwHQsE6hnwfEJmphaQaxlZYRUUKaRIlRkMba6CB6HqnzRF7K0FezKcLyQnG9JQjffRapSN7u1Cbuv2lDQQvvcPNcXjuSJrUbWLNdDNi9E5FFG1J5sOUZSUuJyyBFnngpxsHg1qRlBQRa2qG7B4R40WYFH945PoD9y%2BrrZJrimld3zP6uozR5eeDdLvpu6H%2BeD9oqQ2%2FACIMrMOppJ%2FykmsmNy%2BUtFXiI5y%2BgafmTWI1%2FKXf69AEcAkfujHE00RJmgv6MJGh3MoGOqUB9UeDp2KkY7u2O1W2FQ5ZQlUTXU5PHrgegRE0dPex1n3RekmB7r2CuPcudhxoaHtAOdlM1MA4Uma6R%2BgOzhrExvw8nbgirzVX2o%2BFwm%2Fz%2FCImwP7sF10YGuBwHgEG2afSsAwTX8dGVFYr11ux8TJHTssZCafvdiQBmS6KSZw4JpSfHDKX9kHZJ8e2Uwgjw98yYPutN6781RL3oFQTaCXkXd3FyBpS&X-Amz-Signature=7c21d2ba82009fe8a27a973ba36061c92512b32a81e3a6bfca41aa94473c11f7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466R2JENK57%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041055Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIHjoGN7MEiiFCrFae2fi6feqkyIzhDLhJbGm159prjwUAiEAsNP%2BOLuQQLr3TfLMP5LjSFb%2BhT03rOSSFUHIWVyYwAcqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPZR%2Fj4EtsnJw60cryrcA8QZifpP4L97Vgey44%2BnfwMjCMi65PJZS9Ve2vhYc5jGlucE6uNtcJ5kM07DQ%2FJmRhA%2BhAxcXwGtpqr6AC0AUSHw84cX2%2B7dDv0cCzGeYVgwXgPvJZiTPKfqMxAgr42K9%2B89OXTU%2F6LDjR9E5Nu4MW0yVF3sycY6lZU3j0josRUsmCfDTlZwiSbROQjgFUM4prm%2Bu7D7mQUX76W30Jk4YkFkhRKumU0GIqFiy%2FG9U%2BLf9fOkoDoThC1ctlqORTcdWb%2BZ2TfXjyHA%2B2KBi0ndsGyVN340iRaT4yyqytCS2JA%2F%2Bbyw5ask5WqNHJF5sjBlxURo5q0szpgBU85bCS0nlTAtJJhdQLiHtYRD8ujwwWp0F2qypcQxDYLZ%2FRwHQsE6hnwfEJmphaQaxlZYRUUKaRIlRkMba6CB6HqnzRF7K0FezKcLyQnG9JQjffRapSN7u1Cbuv2lDQQvvcPNcXjuSJrUbWLNdDNi9E5FFG1J5sOUZSUuJyyBFnngpxsHg1qRlBQRa2qG7B4R40WYFH945PoD9y%2BrrZJrimld3zP6uozR5eeDdLvpu6H%2BeD9oqQ2%2FACIMrMOppJ%2FykmsmNy%2BUtFXiI5y%2BgafmTWI1%2FKXf69AEcAkfujHE00RJmgv6MJGh3MoGOqUB9UeDp2KkY7u2O1W2FQ5ZQlUTXU5PHrgegRE0dPex1n3RekmB7r2CuPcudhxoaHtAOdlM1MA4Uma6R%2BgOzhrExvw8nbgirzVX2o%2BFwm%2Fz%2FCImwP7sF10YGuBwHgEG2afSsAwTX8dGVFYr11ux8TJHTssZCafvdiQBmS6KSZw4JpSfHDKX9kHZJ8e2Uwgjw98yYPutN6781RL3oFQTaCXkXd3FyBpS&X-Amz-Signature=9bad2d41ee2d7ef728c6c108f37a3ce1c609ec8cbda5947c2870c0e2339df33e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466THN27XZH%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041056Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJGMEQCIDS%2FTNjKXvJShyjtw%2FNpEwlGk7qWzBJ7Z4EscHf9Uxn6AiBqrQG0D8ulB%2FcJfX5xrXtwXKJeNr3OMrTkonMWSZ7vkyqIBAjy%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMMM1KU1x5KFY61rFlKtwDWWXKKLENRECOUs2NGbZ2l5q9RTH%2FqPq%2BqPNazJ2BqpnNeya3385E%2FsWMKvY0nuyK5UpGvb%2Ffp73eCzWYoSS1BG5DLrfy8bIqZ0Ac71qWU3sxNwDcr93Zf6WbjStOPmFKyhmwgsVplI1scf5Dxr%2FaX1dgxcofgWNauAZ3zNJ4TJvuAb6z0Eu9hwIcDN%2FpOW714KBY4azfDO3kRXqz5VhRVqHCscqgHGpWrNdd6vr2KzyMwmIugFcsafeTTAISanJ3iIUZMQv3FH2EL6l4ObwUHH6%2BNDjp2ENW8ibfJ5yalMY2MxTobY3D1%2FNIjN1s2f4g8N%2BpeLTDwxs%2Fnm%2F%2FPh9J9bqmiy0MO6Y7kCtwrO7c2yEVYg%2F4gzPH4pkEl9Yk9k73d%2Bmk6kF5OIUStvUPIVfx8X3xplre6uFSRI3sjz36D3HkfE6wQE%2FnEAqvSX7w6m7Cfa5tkPFBZaZ5Jj4wSs6mRVsHm8LXqkY6CB9xgN1hQYdlwAqgLGZPFPgSeY7IWTSSzMtsQDKtBK93pC%2BJAJsr0xXApqV7n%2BmAcQXMx4MfiITEX0bPYcaalyOh2DRZW5B0dynfh%2FGfsNyuRyN9jwxPIkL9zSbMAaWudmw0coD8VmHEhtb8hxfpJEg2zlAw1qbcygY6pgHqJK6OtTmHgRNCULzO1UIu6Fa8hOPCYQxOae0l7YyZ3PwRrnuF%2BBBX3HJwWZgsfAag9HazbcKpx3egoQQUqDVq2%2BpxmNWFnvdSv7uYmUN4i7SCb69NWaA2IKSuLn5gxz3PfpyKCCkjSYlY25FkCvVXACoIkUK%2FAuSm8N2X72MRvKCZBKd4HaQb6QAhZE0E0XJx8wDAbiFJQ9LQzOPl9bmT2IJjegiu&X-Amz-Signature=1c52e53d690ac471fa58b2e2e5b73b2c537f76a0a0cf234c2abd54f1db6c0dff&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466THN27XZH%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041056Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJGMEQCIDS%2FTNjKXvJShyjtw%2FNpEwlGk7qWzBJ7Z4EscHf9Uxn6AiBqrQG0D8ulB%2FcJfX5xrXtwXKJeNr3OMrTkonMWSZ7vkyqIBAjy%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMMM1KU1x5KFY61rFlKtwDWWXKKLENRECOUs2NGbZ2l5q9RTH%2FqPq%2BqPNazJ2BqpnNeya3385E%2FsWMKvY0nuyK5UpGvb%2Ffp73eCzWYoSS1BG5DLrfy8bIqZ0Ac71qWU3sxNwDcr93Zf6WbjStOPmFKyhmwgsVplI1scf5Dxr%2FaX1dgxcofgWNauAZ3zNJ4TJvuAb6z0Eu9hwIcDN%2FpOW714KBY4azfDO3kRXqz5VhRVqHCscqgHGpWrNdd6vr2KzyMwmIugFcsafeTTAISanJ3iIUZMQv3FH2EL6l4ObwUHH6%2BNDjp2ENW8ibfJ5yalMY2MxTobY3D1%2FNIjN1s2f4g8N%2BpeLTDwxs%2Fnm%2F%2FPh9J9bqmiy0MO6Y7kCtwrO7c2yEVYg%2F4gzPH4pkEl9Yk9k73d%2Bmk6kF5OIUStvUPIVfx8X3xplre6uFSRI3sjz36D3HkfE6wQE%2FnEAqvSX7w6m7Cfa5tkPFBZaZ5Jj4wSs6mRVsHm8LXqkY6CB9xgN1hQYdlwAqgLGZPFPgSeY7IWTSSzMtsQDKtBK93pC%2BJAJsr0xXApqV7n%2BmAcQXMx4MfiITEX0bPYcaalyOh2DRZW5B0dynfh%2FGfsNyuRyN9jwxPIkL9zSbMAaWudmw0coD8VmHEhtb8hxfpJEg2zlAw1qbcygY6pgHqJK6OtTmHgRNCULzO1UIu6Fa8hOPCYQxOae0l7YyZ3PwRrnuF%2BBBX3HJwWZgsfAag9HazbcKpx3egoQQUqDVq2%2BpxmNWFnvdSv7uYmUN4i7SCb69NWaA2IKSuLn5gxz3PfpyKCCkjSYlY25FkCvVXACoIkUK%2FAuSm8N2X72MRvKCZBKd4HaQb6QAhZE0E0XJx8wDAbiFJQ9LQzOPl9bmT2IJjegiu&X-Amz-Signature=8fce7ce091eff11ba70227827ea9439487259104539248b71cabe23ed9f2dc7e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667Z2R74WG%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041056Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIGOCqKh%2BnabMf0harfIQI6Z9NgBZ0EAsK68aWCob8P%2FBAiEAslYO%2F1kcbipW1HvuTBDKTURt4dmUmiQtiA4GStmgK%2BoqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKcRfp15rFKOa6vjdyrcA%2Frn8mlopR4kjjKNOKe5yNR%2BljG5I55oU2cNKlVxG3KDaeVsAxnZgmzrHb464EgUBgjnART4w4NwY3UGA0iPiebc5L0n6RG6ZWTU3RRoD5XK2CjEpfU25m%2BagMAQVyLzCSLHDVXs92YwcerrgdVk6To76wrryzq8KW95rF3k3%2BKj4OUDZdp8TEGlPB5tf5uANeYwZIlhjQSc%2BYCUhAKFF1d9qbseLs%2F9UJh5ZT1jEDrjqSQaDmJ2mi1EFZf6%2FqYEbC%2BztBWolzlscg6d9X3r7kmlEDC5nyjc%2Fk9PRJuo3wzKnQ7sV7uw5MmiomPtUF589VjOGdMXm5%2FN%2BYdKPLWp3f8JpztAr0TlxYj%2BycVhfh6v5Jy9AA%2Bkq0vsTwywiajcStqpNHhiZH0MDTPIUUMpyRFRUaNoY4KybgngaiYnSuHeahwzOnltAaY%2F1vo%2FpfvyCOKGY8sCyFJ7J5Wrry7C01518HtWl9c2qsxk4URFLDqYfWbTtCacBnLf6%2BjwfY7tOuqMrJR6saMouPTVppD6oT8vH0vtJefer4CR4WFfJ1Bc05odAIEb0xTI5v9B%2BbBFZkKJK6Dixs8alo9je%2FFjcX5gHtN7RlRDTD%2BdBnmiKp6KWEvI5sQV%2FnwNNTGxMMOj3MoGOqUBjmWaFmK86Rd0979UvznKB%2FvWfJuU7Ojf19DXIr8ge%2BHVYrhgo6adZyFyQ6KfEm073qqR1vr2ckKKgiE5nuLBdZsSPgSAgmsGSrYkVG5X3ZdKVr0%2BZNI6%2FjwIo8ciwMK2VtvDetEPoULD9EerjpTTx%2BweymTwGNnECiZ8on7zbjwSoBv0VkV9mv9KUpfUo8J79sZeuqAVb6SfrIWfqF3wRW860Xz5&X-Amz-Signature=2a65971f09ea357d8f68d0b3f8b5d685ea2f46bf5bf919eb8e463282e80fc610&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667Z2R74WG%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041056Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJHMEUCIGOCqKh%2BnabMf0harfIQI6Z9NgBZ0EAsK68aWCob8P%2FBAiEAslYO%2F1kcbipW1HvuTBDKTURt4dmUmiQtiA4GStmgK%2BoqiAQI8v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKcRfp15rFKOa6vjdyrcA%2Frn8mlopR4kjjKNOKe5yNR%2BljG5I55oU2cNKlVxG3KDaeVsAxnZgmzrHb464EgUBgjnART4w4NwY3UGA0iPiebc5L0n6RG6ZWTU3RRoD5XK2CjEpfU25m%2BagMAQVyLzCSLHDVXs92YwcerrgdVk6To76wrryzq8KW95rF3k3%2BKj4OUDZdp8TEGlPB5tf5uANeYwZIlhjQSc%2BYCUhAKFF1d9qbseLs%2F9UJh5ZT1jEDrjqSQaDmJ2mi1EFZf6%2FqYEbC%2BztBWolzlscg6d9X3r7kmlEDC5nyjc%2Fk9PRJuo3wzKnQ7sV7uw5MmiomPtUF589VjOGdMXm5%2FN%2BYdKPLWp3f8JpztAr0TlxYj%2BycVhfh6v5Jy9AA%2Bkq0vsTwywiajcStqpNHhiZH0MDTPIUUMpyRFRUaNoY4KybgngaiYnSuHeahwzOnltAaY%2F1vo%2FpfvyCOKGY8sCyFJ7J5Wrry7C01518HtWl9c2qsxk4URFLDqYfWbTtCacBnLf6%2BjwfY7tOuqMrJR6saMouPTVppD6oT8vH0vtJefer4CR4WFfJ1Bc05odAIEb0xTI5v9B%2BbBFZkKJK6Dixs8alo9je%2FFjcX5gHtN7RlRDTD%2BdBnmiKp6KWEvI5sQV%2FnwNNTGxMMOj3MoGOqUBjmWaFmK86Rd0979UvznKB%2FvWfJuU7Ojf19DXIr8ge%2BHVYrhgo6adZyFyQ6KfEm073qqR1vr2ckKKgiE5nuLBdZsSPgSAgmsGSrYkVG5X3ZdKVr0%2BZNI6%2FjwIo8ciwMK2VtvDetEPoULD9EerjpTTx%2BweymTwGNnECiZ8on7zbjwSoBv0VkV9mv9KUpfUo8J79sZeuqAVb6SfrIWfqF3wRW860Xz5&X-Amz-Signature=a82cad4c45b3f80cad5f6d46c2fbe8484116b4a3700b15e7c2d05073ee3bbfa4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YQ2NXC5C%2F20260102%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260102T041056Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECkaCXVzLXdlc3QtMiJIMEYCIQCJPEbiWY1Vc9A6WTPuSTNDVoD8jf%2BAfhXDecPozP4PMgIhAPYVLujFDZss%2FsKgnRCmSjLQEf95pMHpOpNO7MB3yyn%2BKogECPL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxkEOR5JTcNjlPVpU8q3APuiI56O9CNfuzV3f3nWiNcw0O95G6%2B%2B1hsjpS9mhskfIbnEOo6hQK73bPltgGgKmpQiLp%2Fzclfq6o7fX4nQsja5mO2%2FqnaRdYJyNZ9EoaF7NZ8QRtbuvuynV%2F02B1s0epRh6Rrws%2FJM2iExHdD4hRVCKJweIlOvP72J%2FMtFRInlU1HSlv3hyI2y6W7BuT5q9RBkLhAZbxBhsc%2Bc7CvE8gYCq9GbABzOX7qsncLPdaW%2BgSFEIYrJEyikyaR3p8eKmhtTq2rSEoByCLS6PaxtEcv7RcUnUltwiXQk%2BQPH27D7SkU1hWFrtVGnPz8lnPrN%2FHTYLJK%2FzICLqbmx0958k7F7HCm7Rsbt3Th%2F%2FMtxJphaWTJUw0yYYpq%2Fe3%2F6jbk1eNYN%2FGb2GFnS1rG2lhfcGa0o9qsYqYDbCc%2FInPFlwC0q3nN3YxdhX5yXVmVUOnbcvhfsFLrpwEugH0wZO6Enjko5SEO%2FzyQYmQTCCG96S4SL9Alk8prhZ%2B7mNEvIr23pzZKgVMe9ZJmMVuBlxxB0yenZI8TgGIH4FEQBb%2BsjiJagk0yfcizbjHG5Us7wqOXR2jCfO0uBiJDDipNkxFYNbgzNPucL5il41Kttnt%2FL2CgrS70DH6pcJRbz3iHZjCGotzKBjqkAYARCwjftpCa9yZz%2F0USs88fPf2q%2FfUSsXT707JQ32dCd0YIEeW0XFUce3ow3E6N1LJ9zKFRYBS%2BUH0fGC8RmdLnn%2BDF6QOzHJyTzziF7H774U3PMfC%2FDdINFM%2BEEDzdbvZkY%2BolIA%2BzvjaCYLnxplTI73GR5SKz13ZupX3dASZCpIxd1XtmwIQ6GtLIPkNY3xUwdNQpuYQk6pIhuDD05pTD0xe%2F&X-Amz-Signature=9eda3b100528c63ca23aba70cc6898579876ee946360b03ce91bdbc176c9830c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
