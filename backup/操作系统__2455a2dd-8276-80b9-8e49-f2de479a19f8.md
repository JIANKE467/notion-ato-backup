
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667PHKF56Z%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIGQEo4%2F221UkBcBNpvScZuW8mTI9otOUjB%2F7wGn0Wz7WAiEAnsN4MVcp8c4556VdaAMvjYyQoIfbEl3sVYPyCItf8Asq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDF7N%2FoPWGG2nxxerQircA70YyOakicSLOQPz2VAstkQQHLq1WnzbBHjWpyFHHQdxLeuH91b0PdRoq5SnXoBKO4cGviyehGRrhM1YZMUD1GdKRatEg1zlvE7NepwaqbFIkLX3Fu41uUmLl8bc4u0EButJJS4ox27F7r7Byj%2FC%2B5LGDllTTYEkF6MBTXnTjKiP%2B7oiM1lwqYSgA%2FUnN9lxmQbF0YOeLZ7PmcURIr3CFHqLVY18vy9Q64AGgdWrMGWLiibDAwm0aqE2IpkHAWEOI1D%2Fy4B2v3VVzhq3OybHf0fLWTBvcqefIPxiWkNkqRXRHoKsS6xx0HM50z%2FCkJ89r4N6r00YIgXDJllU3TgoZt2tniymSJ199xf4MmXAiZjWSpFRQV5kYxAZYLjH4UozNa1i%2BgW%2FA6bCdPBJ5xOgF0PTTVQz9in5w5dffpwpshtaPQCCPTvm0kgV4UJShMlSpULlUyOFb0y5yUK3t3LJx%2Fk1aU8IEq7YaNlHV48LUBHmMG157%2FKMy4rU8Osb0G8nb2UoHGxWF0NLP1%2FYmgeXiJDqO6K8%2FJ6W2LTUeXjEuvyn%2BduEXvwIzOwDPqd9vpn8g7FYVAg2EjxnXwRv8%2BWJZtCIFPdF%2F9%2F66%2BlIWDVIL7Q1syCkaK%2BA27%2F8CrX6MIGcnMsGOqUBU0omumVHVNg2XDFMiuhuzyW20nHqCYN4z%2B9GTVHd7JBHLE%2Bq%2BfBIXSlou5xmMraiITTntk5KN94Hinw2xLG64NnzYWXveeQYxfO5fPs2IVC2dI2T4X7PeuM%2BFWDLejlJ8EMhUHj6b5Me29diT30guCc%2Big5ai3y7MhR2awBCh4fqfCQtQNuQMYq2gDN1FJvGtDTBT348pMh%2BiX%2FLgGmNM%2BaMjiZZ&X-Amz-Signature=fadec1cbaf3f45d0dbe0439977515cd072689c42ff7f743bb2b1c92a953e953c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667PHKF56Z%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIGQEo4%2F221UkBcBNpvScZuW8mTI9otOUjB%2F7wGn0Wz7WAiEAnsN4MVcp8c4556VdaAMvjYyQoIfbEl3sVYPyCItf8Asq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDF7N%2FoPWGG2nxxerQircA70YyOakicSLOQPz2VAstkQQHLq1WnzbBHjWpyFHHQdxLeuH91b0PdRoq5SnXoBKO4cGviyehGRrhM1YZMUD1GdKRatEg1zlvE7NepwaqbFIkLX3Fu41uUmLl8bc4u0EButJJS4ox27F7r7Byj%2FC%2B5LGDllTTYEkF6MBTXnTjKiP%2B7oiM1lwqYSgA%2FUnN9lxmQbF0YOeLZ7PmcURIr3CFHqLVY18vy9Q64AGgdWrMGWLiibDAwm0aqE2IpkHAWEOI1D%2Fy4B2v3VVzhq3OybHf0fLWTBvcqefIPxiWkNkqRXRHoKsS6xx0HM50z%2FCkJ89r4N6r00YIgXDJllU3TgoZt2tniymSJ199xf4MmXAiZjWSpFRQV5kYxAZYLjH4UozNa1i%2BgW%2FA6bCdPBJ5xOgF0PTTVQz9in5w5dffpwpshtaPQCCPTvm0kgV4UJShMlSpULlUyOFb0y5yUK3t3LJx%2Fk1aU8IEq7YaNlHV48LUBHmMG157%2FKMy4rU8Osb0G8nb2UoHGxWF0NLP1%2FYmgeXiJDqO6K8%2FJ6W2LTUeXjEuvyn%2BduEXvwIzOwDPqd9vpn8g7FYVAg2EjxnXwRv8%2BWJZtCIFPdF%2F9%2F66%2BlIWDVIL7Q1syCkaK%2BA27%2F8CrX6MIGcnMsGOqUBU0omumVHVNg2XDFMiuhuzyW20nHqCYN4z%2B9GTVHd7JBHLE%2Bq%2BfBIXSlou5xmMraiITTntk5KN94Hinw2xLG64NnzYWXveeQYxfO5fPs2IVC2dI2T4X7PeuM%2BFWDLejlJ8EMhUHj6b5Me29diT30guCc%2Big5ai3y7MhR2awBCh4fqfCQtQNuQMYq2gDN1FJvGtDTBT348pMh%2BiX%2FLgGmNM%2BaMjiZZ&X-Amz-Signature=b602d47caaac97d574267b261f2842c8c8908b8d5c23d2e529c4e54366144e8d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667PHKF56Z%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIGQEo4%2F221UkBcBNpvScZuW8mTI9otOUjB%2F7wGn0Wz7WAiEAnsN4MVcp8c4556VdaAMvjYyQoIfbEl3sVYPyCItf8Asq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDF7N%2FoPWGG2nxxerQircA70YyOakicSLOQPz2VAstkQQHLq1WnzbBHjWpyFHHQdxLeuH91b0PdRoq5SnXoBKO4cGviyehGRrhM1YZMUD1GdKRatEg1zlvE7NepwaqbFIkLX3Fu41uUmLl8bc4u0EButJJS4ox27F7r7Byj%2FC%2B5LGDllTTYEkF6MBTXnTjKiP%2B7oiM1lwqYSgA%2FUnN9lxmQbF0YOeLZ7PmcURIr3CFHqLVY18vy9Q64AGgdWrMGWLiibDAwm0aqE2IpkHAWEOI1D%2Fy4B2v3VVzhq3OybHf0fLWTBvcqefIPxiWkNkqRXRHoKsS6xx0HM50z%2FCkJ89r4N6r00YIgXDJllU3TgoZt2tniymSJ199xf4MmXAiZjWSpFRQV5kYxAZYLjH4UozNa1i%2BgW%2FA6bCdPBJ5xOgF0PTTVQz9in5w5dffpwpshtaPQCCPTvm0kgV4UJShMlSpULlUyOFb0y5yUK3t3LJx%2Fk1aU8IEq7YaNlHV48LUBHmMG157%2FKMy4rU8Osb0G8nb2UoHGxWF0NLP1%2FYmgeXiJDqO6K8%2FJ6W2LTUeXjEuvyn%2BduEXvwIzOwDPqd9vpn8g7FYVAg2EjxnXwRv8%2BWJZtCIFPdF%2F9%2F66%2BlIWDVIL7Q1syCkaK%2BA27%2F8CrX6MIGcnMsGOqUBU0omumVHVNg2XDFMiuhuzyW20nHqCYN4z%2B9GTVHd7JBHLE%2Bq%2BfBIXSlou5xmMraiITTntk5KN94Hinw2xLG64NnzYWXveeQYxfO5fPs2IVC2dI2T4X7PeuM%2BFWDLejlJ8EMhUHj6b5Me29diT30guCc%2Big5ai3y7MhR2awBCh4fqfCQtQNuQMYq2gDN1FJvGtDTBT348pMh%2BiX%2FLgGmNM%2BaMjiZZ&X-Amz-Signature=26dc3543ed3f73344d5b4ca07661ae4b5a5acf59abfb3721b57db47fc81f6638&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y4OR3FRG%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJIMEYCIQDjTOgPu%2FMvGn9dekbNBDweB8%2FE94sKMbDE9jeg%2B45sPQIhAOa4RuIr27e9GSjyRn45deTskK%2F4cTLUQlNgyc9SM3gZKv8DCBUQABoMNjM3NDIzMTgzODA1IgxonZKDFun9DnqS3wkq3AONRAuF0G2pu3p95tTzq2vZNTqJ0NEOuE5e6juv50syWijRtFgiGIW7Woq7HeYpQGGOTlv2xTjzi1a6o%2BDHt9TSI8mTlWou%2FX5SdrzwVfN513pH9moGlwIxtHQO7SdSyBuWLVdcu0o%2BS8dFWTqBxp%2BLj31kZVCtxsXTt9w2GhvvgkHArn5z0AiFA97OS3xCcSjIBwre3a8hgXN0Qu54x0210jeKzenVc1uIEDXLeMh6xo1QyMXPpBEkVliwU5g5AhxCVB7Ng%2BnbBbnPX4HLsP6q4120g7XSHYDJuumFVfwLPPygtGjXcf5F7GHtXe1OIThnQ%2FfNKo5znvA2JIniB0GsmZYyVBVxXEPwtVvg%2B2ACdHFT%2FuBLepAzqQrACT6rNU1ZYqWVqnEOmGGUW6%2BvlDW8yK4Cg3IlvrlbFPFcx8srkVVXelGMfh379WwxxdcVfjPvAh0eZw14OV4Ui308H%2FH9cLLPRS0jh%2FcgYtNJlUtttU737OIR68V5DrhTP6LtX5gPs8WqfTLO%2Besz50o6QZx%2FwJf%2Bekx%2F%2Bf9q5x2xtO5YhPLpFNUu7VDA7LJ4JF39NquGlVEU1SUApPcMCOxptR5lyYPAldjoBVuIoLp%2BlDo9razQsJ0vyJKzd6mJkjDRm5zLBjqkASGyZ2Q7P297FTFD0jBHjdcjbFpTmRQaE2htxFtoQgZsX5N0HCXjE4EPs2DXAXvQd8rOMocuPDQjOW9PaN89J0ulyKY4k5NUjvN4gsouS8OBZX4orT7H0sT%2Fln8OZSYBh%2BwXhIHkAsK2v1Efk%2B0ELYE49FZADS5PVHEBJ4hfrN7Jquci%2Fxy9wHYMSxFLl%2B6zh1gWO9sdN4JuFe%2F%2BnJDcauPVwRQf&X-Amz-Signature=5299faa8deab2e9f1001c87e26b072c56d8a6faf5ab491d6702f4bac25b0d45e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y4OR3FRG%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJIMEYCIQDjTOgPu%2FMvGn9dekbNBDweB8%2FE94sKMbDE9jeg%2B45sPQIhAOa4RuIr27e9GSjyRn45deTskK%2F4cTLUQlNgyc9SM3gZKv8DCBUQABoMNjM3NDIzMTgzODA1IgxonZKDFun9DnqS3wkq3AONRAuF0G2pu3p95tTzq2vZNTqJ0NEOuE5e6juv50syWijRtFgiGIW7Woq7HeYpQGGOTlv2xTjzi1a6o%2BDHt9TSI8mTlWou%2FX5SdrzwVfN513pH9moGlwIxtHQO7SdSyBuWLVdcu0o%2BS8dFWTqBxp%2BLj31kZVCtxsXTt9w2GhvvgkHArn5z0AiFA97OS3xCcSjIBwre3a8hgXN0Qu54x0210jeKzenVc1uIEDXLeMh6xo1QyMXPpBEkVliwU5g5AhxCVB7Ng%2BnbBbnPX4HLsP6q4120g7XSHYDJuumFVfwLPPygtGjXcf5F7GHtXe1OIThnQ%2FfNKo5znvA2JIniB0GsmZYyVBVxXEPwtVvg%2B2ACdHFT%2FuBLepAzqQrACT6rNU1ZYqWVqnEOmGGUW6%2BvlDW8yK4Cg3IlvrlbFPFcx8srkVVXelGMfh379WwxxdcVfjPvAh0eZw14OV4Ui308H%2FH9cLLPRS0jh%2FcgYtNJlUtttU737OIR68V5DrhTP6LtX5gPs8WqfTLO%2Besz50o6QZx%2FwJf%2Bekx%2F%2Bf9q5x2xtO5YhPLpFNUu7VDA7LJ4JF39NquGlVEU1SUApPcMCOxptR5lyYPAldjoBVuIoLp%2BlDo9razQsJ0vyJKzd6mJkjDRm5zLBjqkASGyZ2Q7P297FTFD0jBHjdcjbFpTmRQaE2htxFtoQgZsX5N0HCXjE4EPs2DXAXvQd8rOMocuPDQjOW9PaN89J0ulyKY4k5NUjvN4gsouS8OBZX4orT7H0sT%2Fln8OZSYBh%2BwXhIHkAsK2v1Efk%2B0ELYE49FZADS5PVHEBJ4hfrN7Jquci%2Fxy9wHYMSxFLl%2B6zh1gWO9sdN4JuFe%2F%2BnJDcauPVwRQf&X-Amz-Signature=094955de69cf0a99c6e52b3cce099df2d1157e6f71b8099c3f15d3555742ec6f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Y4OR3FRG%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJIMEYCIQDjTOgPu%2FMvGn9dekbNBDweB8%2FE94sKMbDE9jeg%2B45sPQIhAOa4RuIr27e9GSjyRn45deTskK%2F4cTLUQlNgyc9SM3gZKv8DCBUQABoMNjM3NDIzMTgzODA1IgxonZKDFun9DnqS3wkq3AONRAuF0G2pu3p95tTzq2vZNTqJ0NEOuE5e6juv50syWijRtFgiGIW7Woq7HeYpQGGOTlv2xTjzi1a6o%2BDHt9TSI8mTlWou%2FX5SdrzwVfN513pH9moGlwIxtHQO7SdSyBuWLVdcu0o%2BS8dFWTqBxp%2BLj31kZVCtxsXTt9w2GhvvgkHArn5z0AiFA97OS3xCcSjIBwre3a8hgXN0Qu54x0210jeKzenVc1uIEDXLeMh6xo1QyMXPpBEkVliwU5g5AhxCVB7Ng%2BnbBbnPX4HLsP6q4120g7XSHYDJuumFVfwLPPygtGjXcf5F7GHtXe1OIThnQ%2FfNKo5znvA2JIniB0GsmZYyVBVxXEPwtVvg%2B2ACdHFT%2FuBLepAzqQrACT6rNU1ZYqWVqnEOmGGUW6%2BvlDW8yK4Cg3IlvrlbFPFcx8srkVVXelGMfh379WwxxdcVfjPvAh0eZw14OV4Ui308H%2FH9cLLPRS0jh%2FcgYtNJlUtttU737OIR68V5DrhTP6LtX5gPs8WqfTLO%2Besz50o6QZx%2FwJf%2Bekx%2F%2Bf9q5x2xtO5YhPLpFNUu7VDA7LJ4JF39NquGlVEU1SUApPcMCOxptR5lyYPAldjoBVuIoLp%2BlDo9razQsJ0vyJKzd6mJkjDRm5zLBjqkASGyZ2Q7P297FTFD0jBHjdcjbFpTmRQaE2htxFtoQgZsX5N0HCXjE4EPs2DXAXvQd8rOMocuPDQjOW9PaN89J0ulyKY4k5NUjvN4gsouS8OBZX4orT7H0sT%2Fln8OZSYBh%2BwXhIHkAsK2v1Efk%2B0ELYE49FZADS5PVHEBJ4hfrN7Jquci%2Fxy9wHYMSxFLl%2B6zh1gWO9sdN4JuFe%2F%2BnJDcauPVwRQf&X-Amz-Signature=c6ca9b348dbdc479b07c15784e86804e127fadf1c062826dfffd9c33906c1970&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z277Z4DH%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIQCl7ZYRF1UYMDg%2FnFG1MbahpSE4KTYFebF2%2B%2Fhd1A2kPAIgd6tn9U20DANrMcaFryDj6bgUyVcNUeN1r%2FaU2pcTg04q%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDKXg2YB88R0q3JhVfyrcA%2FTUX%2FSoLxqHIra1u6%2FAiP3YvL12Va0YwGhwz%2FlWHJrix0vvgl5g8JnNx4Q8kGRyx2Zeyx4tmUidEYUyhTq%2F2UJflHO1x26w64Zy37264YLXbAjnUUH6%2FNvMhjwlTGi6s5qFekJ%2BZXfJQ0Uvgyg0VwNuKUXOJnQ0JiCi%2F3rt6ytpAXYw9dN4Jm0VsLn24CId1lDb1lwvN5XRChCfTveVEts4u60vVvtMID1LFawhgKz2iHAA7Jq7IpUHfYBQv5smr9RIBYDz9C6zr6Vlfwh5gXG4eRzpBKtwwg3AuCEXH8CTvHHjWEQu0DLeeiISU13iAeFUbiiANVNLe4%2BA2HR13fRQBmUzXO5X4yRiohm48%2F2VId%2BR%2B%2Bb6TREk72bp94jjBM1dPnFiQrv6AdgAxMiv2lw5CkefFwayda0hJZ5LC1CQ0DDggQzMooZr41gEOrcEG5qCO6kuzFInphTZvBw9X31iFvNtgN%2FEDwD2vRtVZkb8fva3MEdExdBJsdTYs2I0qPaVx%2BB1ZpMvA3%2Fshu1sTeeKd6rR56hUV7faPD00RJFHu2KB921bcFzVd0e59Idsa7urRX0PH2RCUQdE9vjGFo9WmtR9K99LgfCEISL5bS9QG%2BlJ5SkDAvSguVm6MN%2BbnMsGOqUBriIUbf8zmp5MgVzazQXm%2BOuTuIPwbOec%2FGFWzSqbih%2BVywJbRWJTu16KmhkgAXNevaTw1%2F3LIynFROCO97ztHaITqAE94LtcGl2wA1O%2BPLT67ZzcUg%2FRMBw9%2FBww8sV3rYlMqpHyIydmx9IqvwG7cpb1tsmhqGTT6OJm87QO2sIz3mzWsoSNST59rOMMPQAnhSuezrUjQqyMPDLq0u%2BGwsS5W5xw&X-Amz-Signature=bbd152ec6228a0749a6fddeff74ce2d6e2c02c2d520f520b711a10f6a2471511&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z277Z4DH%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIQCl7ZYRF1UYMDg%2FnFG1MbahpSE4KTYFebF2%2B%2Fhd1A2kPAIgd6tn9U20DANrMcaFryDj6bgUyVcNUeN1r%2FaU2pcTg04q%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDKXg2YB88R0q3JhVfyrcA%2FTUX%2FSoLxqHIra1u6%2FAiP3YvL12Va0YwGhwz%2FlWHJrix0vvgl5g8JnNx4Q8kGRyx2Zeyx4tmUidEYUyhTq%2F2UJflHO1x26w64Zy37264YLXbAjnUUH6%2FNvMhjwlTGi6s5qFekJ%2BZXfJQ0Uvgyg0VwNuKUXOJnQ0JiCi%2F3rt6ytpAXYw9dN4Jm0VsLn24CId1lDb1lwvN5XRChCfTveVEts4u60vVvtMID1LFawhgKz2iHAA7Jq7IpUHfYBQv5smr9RIBYDz9C6zr6Vlfwh5gXG4eRzpBKtwwg3AuCEXH8CTvHHjWEQu0DLeeiISU13iAeFUbiiANVNLe4%2BA2HR13fRQBmUzXO5X4yRiohm48%2F2VId%2BR%2B%2Bb6TREk72bp94jjBM1dPnFiQrv6AdgAxMiv2lw5CkefFwayda0hJZ5LC1CQ0DDggQzMooZr41gEOrcEG5qCO6kuzFInphTZvBw9X31iFvNtgN%2FEDwD2vRtVZkb8fva3MEdExdBJsdTYs2I0qPaVx%2BB1ZpMvA3%2Fshu1sTeeKd6rR56hUV7faPD00RJFHu2KB921bcFzVd0e59Idsa7urRX0PH2RCUQdE9vjGFo9WmtR9K99LgfCEISL5bS9QG%2BlJ5SkDAvSguVm6MN%2BbnMsGOqUBriIUbf8zmp5MgVzazQXm%2BOuTuIPwbOec%2FGFWzSqbih%2BVywJbRWJTu16KmhkgAXNevaTw1%2F3LIynFROCO97ztHaITqAE94LtcGl2wA1O%2BPLT67ZzcUg%2FRMBw9%2FBww8sV3rYlMqpHyIydmx9IqvwG7cpb1tsmhqGTT6OJm87QO2sIz3mzWsoSNST59rOMMPQAnhSuezrUjQqyMPDLq0u%2BGwsS5W5xw&X-Amz-Signature=ef97393e0dc165e3a6f0270eedc89ccc553d2e2ab1d4c48496a40a5e9d9f88ab&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z277Z4DH%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIQCl7ZYRF1UYMDg%2FnFG1MbahpSE4KTYFebF2%2B%2Fhd1A2kPAIgd6tn9U20DANrMcaFryDj6bgUyVcNUeN1r%2FaU2pcTg04q%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDKXg2YB88R0q3JhVfyrcA%2FTUX%2FSoLxqHIra1u6%2FAiP3YvL12Va0YwGhwz%2FlWHJrix0vvgl5g8JnNx4Q8kGRyx2Zeyx4tmUidEYUyhTq%2F2UJflHO1x26w64Zy37264YLXbAjnUUH6%2FNvMhjwlTGi6s5qFekJ%2BZXfJQ0Uvgyg0VwNuKUXOJnQ0JiCi%2F3rt6ytpAXYw9dN4Jm0VsLn24CId1lDb1lwvN5XRChCfTveVEts4u60vVvtMID1LFawhgKz2iHAA7Jq7IpUHfYBQv5smr9RIBYDz9C6zr6Vlfwh5gXG4eRzpBKtwwg3AuCEXH8CTvHHjWEQu0DLeeiISU13iAeFUbiiANVNLe4%2BA2HR13fRQBmUzXO5X4yRiohm48%2F2VId%2BR%2B%2Bb6TREk72bp94jjBM1dPnFiQrv6AdgAxMiv2lw5CkefFwayda0hJZ5LC1CQ0DDggQzMooZr41gEOrcEG5qCO6kuzFInphTZvBw9X31iFvNtgN%2FEDwD2vRtVZkb8fva3MEdExdBJsdTYs2I0qPaVx%2BB1ZpMvA3%2Fshu1sTeeKd6rR56hUV7faPD00RJFHu2KB921bcFzVd0e59Idsa7urRX0PH2RCUQdE9vjGFo9WmtR9K99LgfCEISL5bS9QG%2BlJ5SkDAvSguVm6MN%2BbnMsGOqUBriIUbf8zmp5MgVzazQXm%2BOuTuIPwbOec%2FGFWzSqbih%2BVywJbRWJTu16KmhkgAXNevaTw1%2F3LIynFROCO97ztHaITqAE94LtcGl2wA1O%2BPLT67ZzcUg%2FRMBw9%2FBww8sV3rYlMqpHyIydmx9IqvwG7cpb1tsmhqGTT6OJm87QO2sIz3mzWsoSNST59rOMMPQAnhSuezrUjQqyMPDLq0u%2BGwsS5W5xw&X-Amz-Signature=94ce0d93aa48170dc90c752e38406e2f317dc3924a100838bce999d6ef164d5d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466Z277Z4DH%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042023Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIQCl7ZYRF1UYMDg%2FnFG1MbahpSE4KTYFebF2%2B%2Fhd1A2kPAIgd6tn9U20DANrMcaFryDj6bgUyVcNUeN1r%2FaU2pcTg04q%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDKXg2YB88R0q3JhVfyrcA%2FTUX%2FSoLxqHIra1u6%2FAiP3YvL12Va0YwGhwz%2FlWHJrix0vvgl5g8JnNx4Q8kGRyx2Zeyx4tmUidEYUyhTq%2F2UJflHO1x26w64Zy37264YLXbAjnUUH6%2FNvMhjwlTGi6s5qFekJ%2BZXfJQ0Uvgyg0VwNuKUXOJnQ0JiCi%2F3rt6ytpAXYw9dN4Jm0VsLn24CId1lDb1lwvN5XRChCfTveVEts4u60vVvtMID1LFawhgKz2iHAA7Jq7IpUHfYBQv5smr9RIBYDz9C6zr6Vlfwh5gXG4eRzpBKtwwg3AuCEXH8CTvHHjWEQu0DLeeiISU13iAeFUbiiANVNLe4%2BA2HR13fRQBmUzXO5X4yRiohm48%2F2VId%2BR%2B%2Bb6TREk72bp94jjBM1dPnFiQrv6AdgAxMiv2lw5CkefFwayda0hJZ5LC1CQ0DDggQzMooZr41gEOrcEG5qCO6kuzFInphTZvBw9X31iFvNtgN%2FEDwD2vRtVZkb8fva3MEdExdBJsdTYs2I0qPaVx%2BB1ZpMvA3%2Fshu1sTeeKd6rR56hUV7faPD00RJFHu2KB921bcFzVd0e59Idsa7urRX0PH2RCUQdE9vjGFo9WmtR9K99LgfCEISL5bS9QG%2BlJ5SkDAvSguVm6MN%2BbnMsGOqUBriIUbf8zmp5MgVzazQXm%2BOuTuIPwbOec%2FGFWzSqbih%2BVywJbRWJTu16KmhkgAXNevaTw1%2F3LIynFROCO97ztHaITqAE94LtcGl2wA1O%2BPLT67ZzcUg%2FRMBw9%2FBww8sV3rYlMqpHyIydmx9IqvwG7cpb1tsmhqGTT6OJm87QO2sIz3mzWsoSNST59rOMMPQAnhSuezrUjQqyMPDLq0u%2BGwsS5W5xw&X-Amz-Signature=124bebdaf9b350a5166c6bdd1d251574fc66502dfe22dafb85fe3b22f6ac857c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WHVJJZOA%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIA0fGryO4qCHquqK0sESLixXjKYy7EPC%2FACvybYrhSpUAiBII7zbHun80prK5gvZWqSSPY%2FVNPaZukgDE60djKHGDyr%2FAwgVEAAaDDYzNzQyMzE4MzgwNSIMUsaZkMbqOAxaK0QtKtwD4h7fgw4ulMfPF%2BnAdKZoBzKtKqqRdz32qIkavrsoJGwIxKJif0gmRqxATBm6lFwxg%2FMauN4NJ26NIQc%2BJjBhveP0q4B%2FBfGw55PfssfEfmmw0fdBpez2AEDItnHIPsS0%2Fgn5PmjwlQShvrYuTzBQQMsY%2BecWeYkzDhonN012QHwfP57lf1oCgPGOn9gq%2BKvldT7avzBt7SkcPnO%2BUOvMdpERn221u2HwVpfHql5INk6kq9SFGTFZkBx10pD4RIKJNrC2McYlB300vjEJ9JhFUIokX2aGTjABazDRxsdwpFdsC2GnGP019AF1OKlXIi33nsAzV3hqCaHo%2Ba34FoVENinsSN0CnPymxcXITwsfqjADhVbMpUoeR7dOBXnBiiCQ6nnCvhVpFsdtkywzimPmOJqm1s7LhpwdYA9OIrwMACoSL6Zq9uTL8IiaPLGZLe5D1WK%2FB696brB%2Fjhi3DNn4ckR2MuQCCpeWanBvbVDL0X5imX%2BgvEcrLOHAjnXVgOc44hZTUihiqdabURdSKIaHUFoAMLJbDMF8fL9aRLcMW%2BOjILgXi3SPWGlIPKeBJXbcgd9JnkkpVpUcgoqjAx6hieMBtCXgRc%2F7j%2Fr7%2F70gLODop%2FrgujzhMCalk70w85ucywY6pgF94omYRuAsAWeMFvBsZcaOKJxjhl875RTYYtTfEWl84yYTPs0mYclv6DCzwfG5vuCM9ya%2F8ns%2BdaC%2FD4Zs5yzbFiishqdkj2YPouqL8QEYMh0KPXyY5O3cOtrSypeLR%2BvMRbn7TWSfjmyQb21PRcmUlTcJAogeJ2IcsfIyJSzgJzrZPuXWl4yRfjmsDRx0rdQ3YhR4N0CcJfpWM%2FLRIfitTK4Up2pH&X-Amz-Signature=ad23699dcbd207bfe59db2f9696713330c98e73d27c05f515b7d059712ca83f0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WHVJJZOA%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIA0fGryO4qCHquqK0sESLixXjKYy7EPC%2FACvybYrhSpUAiBII7zbHun80prK5gvZWqSSPY%2FVNPaZukgDE60djKHGDyr%2FAwgVEAAaDDYzNzQyMzE4MzgwNSIMUsaZkMbqOAxaK0QtKtwD4h7fgw4ulMfPF%2BnAdKZoBzKtKqqRdz32qIkavrsoJGwIxKJif0gmRqxATBm6lFwxg%2FMauN4NJ26NIQc%2BJjBhveP0q4B%2FBfGw55PfssfEfmmw0fdBpez2AEDItnHIPsS0%2Fgn5PmjwlQShvrYuTzBQQMsY%2BecWeYkzDhonN012QHwfP57lf1oCgPGOn9gq%2BKvldT7avzBt7SkcPnO%2BUOvMdpERn221u2HwVpfHql5INk6kq9SFGTFZkBx10pD4RIKJNrC2McYlB300vjEJ9JhFUIokX2aGTjABazDRxsdwpFdsC2GnGP019AF1OKlXIi33nsAzV3hqCaHo%2Ba34FoVENinsSN0CnPymxcXITwsfqjADhVbMpUoeR7dOBXnBiiCQ6nnCvhVpFsdtkywzimPmOJqm1s7LhpwdYA9OIrwMACoSL6Zq9uTL8IiaPLGZLe5D1WK%2FB696brB%2Fjhi3DNn4ckR2MuQCCpeWanBvbVDL0X5imX%2BgvEcrLOHAjnXVgOc44hZTUihiqdabURdSKIaHUFoAMLJbDMF8fL9aRLcMW%2BOjILgXi3SPWGlIPKeBJXbcgd9JnkkpVpUcgoqjAx6hieMBtCXgRc%2F7j%2Fr7%2F70gLODop%2FrgujzhMCalk70w85ucywY6pgF94omYRuAsAWeMFvBsZcaOKJxjhl875RTYYtTfEWl84yYTPs0mYclv6DCzwfG5vuCM9ya%2F8ns%2BdaC%2FD4Zs5yzbFiishqdkj2YPouqL8QEYMh0KPXyY5O3cOtrSypeLR%2BvMRbn7TWSfjmyQb21PRcmUlTcJAogeJ2IcsfIyJSzgJzrZPuXWl4yRfjmsDRx0rdQ3YhR4N0CcJfpWM%2FLRIfitTK4Up2pH&X-Amz-Signature=a0eea851d6091def6c8cf49138b3610b67e6c0d1847e382d37de5acbcd568175&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WHVJJZOA%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIA0fGryO4qCHquqK0sESLixXjKYy7EPC%2FACvybYrhSpUAiBII7zbHun80prK5gvZWqSSPY%2FVNPaZukgDE60djKHGDyr%2FAwgVEAAaDDYzNzQyMzE4MzgwNSIMUsaZkMbqOAxaK0QtKtwD4h7fgw4ulMfPF%2BnAdKZoBzKtKqqRdz32qIkavrsoJGwIxKJif0gmRqxATBm6lFwxg%2FMauN4NJ26NIQc%2BJjBhveP0q4B%2FBfGw55PfssfEfmmw0fdBpez2AEDItnHIPsS0%2Fgn5PmjwlQShvrYuTzBQQMsY%2BecWeYkzDhonN012QHwfP57lf1oCgPGOn9gq%2BKvldT7avzBt7SkcPnO%2BUOvMdpERn221u2HwVpfHql5INk6kq9SFGTFZkBx10pD4RIKJNrC2McYlB300vjEJ9JhFUIokX2aGTjABazDRxsdwpFdsC2GnGP019AF1OKlXIi33nsAzV3hqCaHo%2Ba34FoVENinsSN0CnPymxcXITwsfqjADhVbMpUoeR7dOBXnBiiCQ6nnCvhVpFsdtkywzimPmOJqm1s7LhpwdYA9OIrwMACoSL6Zq9uTL8IiaPLGZLe5D1WK%2FB696brB%2Fjhi3DNn4ckR2MuQCCpeWanBvbVDL0X5imX%2BgvEcrLOHAjnXVgOc44hZTUihiqdabURdSKIaHUFoAMLJbDMF8fL9aRLcMW%2BOjILgXi3SPWGlIPKeBJXbcgd9JnkkpVpUcgoqjAx6hieMBtCXgRc%2F7j%2Fr7%2F70gLODop%2FrgujzhMCalk70w85ucywY6pgF94omYRuAsAWeMFvBsZcaOKJxjhl875RTYYtTfEWl84yYTPs0mYclv6DCzwfG5vuCM9ya%2F8ns%2BdaC%2FD4Zs5yzbFiishqdkj2YPouqL8QEYMh0KPXyY5O3cOtrSypeLR%2BvMRbn7TWSfjmyQb21PRcmUlTcJAogeJ2IcsfIyJSzgJzrZPuXWl4yRfjmsDRx0rdQ3YhR4N0CcJfpWM%2FLRIfitTK4Up2pH&X-Amz-Signature=d2cd5da8a2a5f0b5053f6f1f5a0878412ab278a79e774a3d1940ff39dbf1a671&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WHVJJZOA%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIA0fGryO4qCHquqK0sESLixXjKYy7EPC%2FACvybYrhSpUAiBII7zbHun80prK5gvZWqSSPY%2FVNPaZukgDE60djKHGDyr%2FAwgVEAAaDDYzNzQyMzE4MzgwNSIMUsaZkMbqOAxaK0QtKtwD4h7fgw4ulMfPF%2BnAdKZoBzKtKqqRdz32qIkavrsoJGwIxKJif0gmRqxATBm6lFwxg%2FMauN4NJ26NIQc%2BJjBhveP0q4B%2FBfGw55PfssfEfmmw0fdBpez2AEDItnHIPsS0%2Fgn5PmjwlQShvrYuTzBQQMsY%2BecWeYkzDhonN012QHwfP57lf1oCgPGOn9gq%2BKvldT7avzBt7SkcPnO%2BUOvMdpERn221u2HwVpfHql5INk6kq9SFGTFZkBx10pD4RIKJNrC2McYlB300vjEJ9JhFUIokX2aGTjABazDRxsdwpFdsC2GnGP019AF1OKlXIi33nsAzV3hqCaHo%2Ba34FoVENinsSN0CnPymxcXITwsfqjADhVbMpUoeR7dOBXnBiiCQ6nnCvhVpFsdtkywzimPmOJqm1s7LhpwdYA9OIrwMACoSL6Zq9uTL8IiaPLGZLe5D1WK%2FB696brB%2Fjhi3DNn4ckR2MuQCCpeWanBvbVDL0X5imX%2BgvEcrLOHAjnXVgOc44hZTUihiqdabURdSKIaHUFoAMLJbDMF8fL9aRLcMW%2BOjILgXi3SPWGlIPKeBJXbcgd9JnkkpVpUcgoqjAx6hieMBtCXgRc%2F7j%2Fr7%2F70gLODop%2FrgujzhMCalk70w85ucywY6pgF94omYRuAsAWeMFvBsZcaOKJxjhl875RTYYtTfEWl84yYTPs0mYclv6DCzwfG5vuCM9ya%2F8ns%2BdaC%2FD4Zs5yzbFiishqdkj2YPouqL8QEYMh0KPXyY5O3cOtrSypeLR%2BvMRbn7TWSfjmyQb21PRcmUlTcJAogeJ2IcsfIyJSzgJzrZPuXWl4yRfjmsDRx0rdQ3YhR4N0CcJfpWM%2FLRIfitTK4Up2pH&X-Amz-Signature=cb99eccaee55cc5a2fcd554ffaeb341ca6f67acd8d4740416525039e1d0572fb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662QLZN37S%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIBl28tiEBBeDBhpUTWxbZEcLrDMZDadZQzdtMfUJrhviAiEAvThxNu6fK8qNtYPRen15O0UjyAkHXwZjKXnptgfiWoEq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDCYXriBClMZzBo3%2B5yrcAxQvZ8Se%2BqqAADLf7sY4GtWdqQDlieIxm2UMemLVXByBdfw9%2F0W1sHcJbiUWthRIuTfdVnWg5yTKXID6oU%2FiJ8V%2Bl9y90%2FodlfEafm1JBBHKv7pPIpRDcRCjuH89eICsjpKes7rTX2EEfPnF%2FllaQ6TJcKtABeJ637lj3gzmzc7ouePlB1R%2FN5sYHd8ixBa18nh6%2FRJYhWmGx2jrpAkCf37%2BSf6Rb%2FnV199mx3rL%2FNvq0E7X637t3S6jY1mlM3R7arOXD48y%2BOqnLal30BEbqUc16fbh6bcOD07SflNVy%2BGRFdqqBUOKt3znurySTV04%2FTIR3pYPMjWdqtR7DpIk9dXJkmB1sS3DYayarQ2YC4fAAT3NorSCUTrmq%2B1EOLpe6IJrN68%2Fq7M5aHWMMmE7j0tGiMMamrltPHqWWlnInTtZ5qkv3FGUTindAVjy1%2FRkq8TAVHUXFfy%2BY%2BZseEhNdB8BvslLzCE8ldVHTQ5dmDS4GYrfbAcUouJpNtf%2F7rYfoJwNMEcxKG7afUX4dnN6GTK973GGSwB3%2FTpgRPOQsubJbV95uN7%2BZttyCGAFWHVYb9%2BoWWJEzdcIbMQDX9oc%2BMfHOcjgmg4as3LUksjaOGk%2FPBtnlB1EwXvW24EYMMicnMsGOqUBFREdbcNL8eSKzFmFOyNCnxvPWhg5WKPdbOws1S7HAwyS8AnSdsVeWxYpsn8enfsGsW3oLl0o87DpodT3Pid%2FcFUJh5xSC2iTgUtudiFGpgCIrD7w8Owxupht1Lnk7e0GQ1LfpQ53H5UcQ8CrbF8yRx%2F3%2BiGtSLvm9fpC0GspIjVQNLJarsoUMhrl0yfNk6FJQKXnkqAFfWZzOHDx8sZSK7W%2BY4bP&X-Amz-Signature=4ef9250dfde447ca64841e841ac1c7728012b377bbf633c0c13718a10d42f54f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662QLZN37S%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIBl28tiEBBeDBhpUTWxbZEcLrDMZDadZQzdtMfUJrhviAiEAvThxNu6fK8qNtYPRen15O0UjyAkHXwZjKXnptgfiWoEq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDCYXriBClMZzBo3%2B5yrcAxQvZ8Se%2BqqAADLf7sY4GtWdqQDlieIxm2UMemLVXByBdfw9%2F0W1sHcJbiUWthRIuTfdVnWg5yTKXID6oU%2FiJ8V%2Bl9y90%2FodlfEafm1JBBHKv7pPIpRDcRCjuH89eICsjpKes7rTX2EEfPnF%2FllaQ6TJcKtABeJ637lj3gzmzc7ouePlB1R%2FN5sYHd8ixBa18nh6%2FRJYhWmGx2jrpAkCf37%2BSf6Rb%2FnV199mx3rL%2FNvq0E7X637t3S6jY1mlM3R7arOXD48y%2BOqnLal30BEbqUc16fbh6bcOD07SflNVy%2BGRFdqqBUOKt3znurySTV04%2FTIR3pYPMjWdqtR7DpIk9dXJkmB1sS3DYayarQ2YC4fAAT3NorSCUTrmq%2B1EOLpe6IJrN68%2Fq7M5aHWMMmE7j0tGiMMamrltPHqWWlnInTtZ5qkv3FGUTindAVjy1%2FRkq8TAVHUXFfy%2BY%2BZseEhNdB8BvslLzCE8ldVHTQ5dmDS4GYrfbAcUouJpNtf%2F7rYfoJwNMEcxKG7afUX4dnN6GTK973GGSwB3%2FTpgRPOQsubJbV95uN7%2BZttyCGAFWHVYb9%2BoWWJEzdcIbMQDX9oc%2BMfHOcjgmg4as3LUksjaOGk%2FPBtnlB1EwXvW24EYMMicnMsGOqUBFREdbcNL8eSKzFmFOyNCnxvPWhg5WKPdbOws1S7HAwyS8AnSdsVeWxYpsn8enfsGsW3oLl0o87DpodT3Pid%2FcFUJh5xSC2iTgUtudiFGpgCIrD7w8Owxupht1Lnk7e0GQ1LfpQ53H5UcQ8CrbF8yRx%2F3%2BiGtSLvm9fpC0GspIjVQNLJarsoUMhrl0yfNk6FJQKXnkqAFfWZzOHDx8sZSK7W%2BY4bP&X-Amz-Signature=882c58339515d588f7052617bfce87d20fd8c9824f644118ac0ae671746b84fe&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662QLZN37S%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042024Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIBl28tiEBBeDBhpUTWxbZEcLrDMZDadZQzdtMfUJrhviAiEAvThxNu6fK8qNtYPRen15O0UjyAkHXwZjKXnptgfiWoEq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDCYXriBClMZzBo3%2B5yrcAxQvZ8Se%2BqqAADLf7sY4GtWdqQDlieIxm2UMemLVXByBdfw9%2F0W1sHcJbiUWthRIuTfdVnWg5yTKXID6oU%2FiJ8V%2Bl9y90%2FodlfEafm1JBBHKv7pPIpRDcRCjuH89eICsjpKes7rTX2EEfPnF%2FllaQ6TJcKtABeJ637lj3gzmzc7ouePlB1R%2FN5sYHd8ixBa18nh6%2FRJYhWmGx2jrpAkCf37%2BSf6Rb%2FnV199mx3rL%2FNvq0E7X637t3S6jY1mlM3R7arOXD48y%2BOqnLal30BEbqUc16fbh6bcOD07SflNVy%2BGRFdqqBUOKt3znurySTV04%2FTIR3pYPMjWdqtR7DpIk9dXJkmB1sS3DYayarQ2YC4fAAT3NorSCUTrmq%2B1EOLpe6IJrN68%2Fq7M5aHWMMmE7j0tGiMMamrltPHqWWlnInTtZ5qkv3FGUTindAVjy1%2FRkq8TAVHUXFfy%2BY%2BZseEhNdB8BvslLzCE8ldVHTQ5dmDS4GYrfbAcUouJpNtf%2F7rYfoJwNMEcxKG7afUX4dnN6GTK973GGSwB3%2FTpgRPOQsubJbV95uN7%2BZttyCGAFWHVYb9%2BoWWJEzdcIbMQDX9oc%2BMfHOcjgmg4as3LUksjaOGk%2FPBtnlB1EwXvW24EYMMicnMsGOqUBFREdbcNL8eSKzFmFOyNCnxvPWhg5WKPdbOws1S7HAwyS8AnSdsVeWxYpsn8enfsGsW3oLl0o87DpodT3Pid%2FcFUJh5xSC2iTgUtudiFGpgCIrD7w8Owxupht1Lnk7e0GQ1LfpQ53H5UcQ8CrbF8yRx%2F3%2BiGtSLvm9fpC0GspIjVQNLJarsoUMhrl0yfNk6FJQKXnkqAFfWZzOHDx8sZSK7W%2BY4bP&X-Amz-Signature=fc2639dac47f11627613fbadce7bb05a5dab9da930556bb9a61c13dd8590ba2d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QQTGRSM7%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042025Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIANpDCW9u7IAQiyYQEtN2A%2BgfhMoCWZDtEixV2OGmZ%2FyAiEA89cvgFbKmOLiUW2auNRGA%2BSXpH4vyYjLp2W%2FSzb4C%2Fwq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDPAy02gYsUoA%2BIkUnyrcA7NB%2FccNb0RPnJ%2FYvR9yOrJbHv2Hk1EHvgShsFNOVb5TX1s6G3VnNZ07L2hRkUJtXOF0TklDodFt9ItclsL45m710O3OIHQ8EHGX4THHTE2FTFH5beLIrkSWXAq0fIyYh41uR3jKJHZ5T2NnbEF4Rd32OvP%2F28mx9teBKXaIH2LdTWJGpILwdy%2FRbLrRAYmzOEMyviOcrzD1HGcgakAOguGWHoDgGJiz43ges2HxNm9TxCVAnbsoAcC1fFBw%2FzDr8X%2B9SdPXrva80Sa%2Fn90UU9Sng5eT8kdZBXnBaxnGlRRlQxuNow9KipA9fm6KkgWD7wBF7E%2BQLsoh%2B0yuLCOnYGIBZDwcWPdBnAOZNgdYQiRH97fjwmhr%2FBPzzwNJnPJVIK%2FOrGeuzg3mOl7pmLDOhcNzNenxYgK9CEpVRhwHuqjLfiDsM%2FFFzHg1zuMNyzOC7ReiJ7CRWOpJ2tOv0QNdqnL5%2ByOmZG9j4SQh6wBCjruFhRte85xq5yCIWhZUm1qthWjK7cdnSeQRQonIvjJ1TlpWHyqyBVEUUHzDhsGPWFO%2Bs8fL0KyKNAIaFsbnyiKXSXyn1vGqJH6MbdgBzU7vXLechh8jS3E5oEUm8JzGvp2KkJAD1%2B853SUyQiE%2BMNqbnMsGOqUBTcOmIlZOPhUDLdn%2BZA%2FFO0p0LKIfCLMINrkaUh1j87yNTMQo2A%2BD5o8BVHEeb8rlM7VaH4kfjxLkttr36EF32izEahgANI4e90U0UHVQPSOb773TIeEZaJAj%2BeLAUdU%2BpMF%2FUSsoxzYvMeuI3jITZAefu7oVuueZebnnRj%2B1fqsz6HT%2Be3mecphUqfE%2FqlxAads4%2BWak9vGoBw0uY1XhTd6zs74E&X-Amz-Signature=e45ac6980344b5daef3040a938d35fa3186d32767be31978ba504a5afbb70ee8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QQTGRSM7%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042025Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIANpDCW9u7IAQiyYQEtN2A%2BgfhMoCWZDtEixV2OGmZ%2FyAiEA89cvgFbKmOLiUW2auNRGA%2BSXpH4vyYjLp2W%2FSzb4C%2Fwq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDPAy02gYsUoA%2BIkUnyrcA7NB%2FccNb0RPnJ%2FYvR9yOrJbHv2Hk1EHvgShsFNOVb5TX1s6G3VnNZ07L2hRkUJtXOF0TklDodFt9ItclsL45m710O3OIHQ8EHGX4THHTE2FTFH5beLIrkSWXAq0fIyYh41uR3jKJHZ5T2NnbEF4Rd32OvP%2F28mx9teBKXaIH2LdTWJGpILwdy%2FRbLrRAYmzOEMyviOcrzD1HGcgakAOguGWHoDgGJiz43ges2HxNm9TxCVAnbsoAcC1fFBw%2FzDr8X%2B9SdPXrva80Sa%2Fn90UU9Sng5eT8kdZBXnBaxnGlRRlQxuNow9KipA9fm6KkgWD7wBF7E%2BQLsoh%2B0yuLCOnYGIBZDwcWPdBnAOZNgdYQiRH97fjwmhr%2FBPzzwNJnPJVIK%2FOrGeuzg3mOl7pmLDOhcNzNenxYgK9CEpVRhwHuqjLfiDsM%2FFFzHg1zuMNyzOC7ReiJ7CRWOpJ2tOv0QNdqnL5%2ByOmZG9j4SQh6wBCjruFhRte85xq5yCIWhZUm1qthWjK7cdnSeQRQonIvjJ1TlpWHyqyBVEUUHzDhsGPWFO%2Bs8fL0KyKNAIaFsbnyiKXSXyn1vGqJH6MbdgBzU7vXLechh8jS3E5oEUm8JzGvp2KkJAD1%2B853SUyQiE%2BMNqbnMsGOqUBTcOmIlZOPhUDLdn%2BZA%2FFO0p0LKIfCLMINrkaUh1j87yNTMQo2A%2BD5o8BVHEeb8rlM7VaH4kfjxLkttr36EF32izEahgANI4e90U0UHVQPSOb773TIeEZaJAj%2BeLAUdU%2BpMF%2FUSsoxzYvMeuI3jITZAefu7oVuueZebnnRj%2B1fqsz6HT%2Be3mecphUqfE%2FqlxAads4%2BWak9vGoBw0uY1XhTd6zs74E&X-Amz-Signature=29f1da3294f4ac061af6f9d94cab40b2b9e21d8f2f21ce335188e99574019e7e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664GHVPTMI%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042025Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIQDtfGKljIKUXn7ajaXTmyT%2FTKcVXrYY%2BcHbZRjx2o9%2BwQIgFvDS9Exjoq2hu0BzFgRsevfr7WNocL3NtCxFSgRm%2FPUq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDNmBiXzhucRg5QAh2yrcAzWtWOzYdKGzEPxRUZxm0XKBUaPlpO8%2FeH55J%2FS21nbXjuC7VUjblXcwA8%2FgyOSaWoKk%2FU01rDUYLAng7DLYIDNTaQWaMI5gdejtcbNeFehxGgXmufRbtpsovW04yxoJYao%2BmTw3gwGTMWtpiss7TIQ8GQSwkVjeQ69trCQ1dUUPAhAtSRMmWBnxIpRYrq8dKMWGWfsGPZGtTYhe5537lziRgFiTmshxHQA%2F0olpIMZGuTxxFKh7wr8dcjot9Chubb8lQVdGxIlQCl0GSo8s61CFM3oSYrhuvIx%2FIYgqUJiOy2fQ7n%2FUJw0Jk77e4IdDwlxyqAFft3Lc96eCMQzHXofK4Uq0E7YNKlOFibWIRNKowJwmkvIoCbP30G2BLxKLtovKMSTo2ZT7YnriQmNX3KrKwJj2oCuZlwRPAHBVcpW1QtR2DyzmRzAsINS0XscNiglWnxyDuTWavkvHsvMSLx%2Bpz1SU2eqP8LL92TROfQGJPgKqgZ%2FvX4%2Ff4wpej3cWaKXWS4foh3j8xtacdwlOcRcLJquIQSx3A%2FBXcEhV%2FO6Lp85yhGp%2FBtjXZS3KvEFM01wx8S6YoxOVNKiEZiNcJRCdnYokKs7uJqVol2fEcDzj4SCTPEAD4pkqPxcDMMWbnMsGOqUBOnzv7Oc8xqhh2wSZvCDyfKUNjJPHUrQuXP%2FVALXpgwsE30ZoubM9nGRT2PCCsKGWRf08LC7t9iUQi5BSF5BftMm6X2u5Vin2XImOIKlxnDMANyMQd8MDgJSSR7t6IlffCbHKuDbeEN9g1caH34gXn9jq7FHJVVCko3emtuQ7ZjSZycklgZRfiBbRQ5SsYpZIQly9k6ZKwgFfWz6MG9bhvsx%2BapUs&X-Amz-Signature=6da238da8b91c19267284b3ef1f230253c079a21ef719e3b3d4d1302df52ae46&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664GHVPTMI%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042025Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJHMEUCIQDtfGKljIKUXn7ajaXTmyT%2FTKcVXrYY%2BcHbZRjx2o9%2BwQIgFvDS9Exjoq2hu0BzFgRsevfr7WNocL3NtCxFSgRm%2FPUq%2FwMIFRAAGgw2Mzc0MjMxODM4MDUiDNmBiXzhucRg5QAh2yrcAzWtWOzYdKGzEPxRUZxm0XKBUaPlpO8%2FeH55J%2FS21nbXjuC7VUjblXcwA8%2FgyOSaWoKk%2FU01rDUYLAng7DLYIDNTaQWaMI5gdejtcbNeFehxGgXmufRbtpsovW04yxoJYao%2BmTw3gwGTMWtpiss7TIQ8GQSwkVjeQ69trCQ1dUUPAhAtSRMmWBnxIpRYrq8dKMWGWfsGPZGtTYhe5537lziRgFiTmshxHQA%2F0olpIMZGuTxxFKh7wr8dcjot9Chubb8lQVdGxIlQCl0GSo8s61CFM3oSYrhuvIx%2FIYgqUJiOy2fQ7n%2FUJw0Jk77e4IdDwlxyqAFft3Lc96eCMQzHXofK4Uq0E7YNKlOFibWIRNKowJwmkvIoCbP30G2BLxKLtovKMSTo2ZT7YnriQmNX3KrKwJj2oCuZlwRPAHBVcpW1QtR2DyzmRzAsINS0XscNiglWnxyDuTWavkvHsvMSLx%2Bpz1SU2eqP8LL92TROfQGJPgKqgZ%2FvX4%2Ff4wpej3cWaKXWS4foh3j8xtacdwlOcRcLJquIQSx3A%2FBXcEhV%2FO6Lp85yhGp%2FBtjXZS3KvEFM01wx8S6YoxOVNKiEZiNcJRCdnYokKs7uJqVol2fEcDzj4SCTPEAD4pkqPxcDMMWbnMsGOqUBOnzv7Oc8xqhh2wSZvCDyfKUNjJPHUrQuXP%2FVALXpgwsE30ZoubM9nGRT2PCCsKGWRf08LC7t9iUQi5BSF5BftMm6X2u5Vin2XImOIKlxnDMANyMQd8MDgJSSR7t6IlffCbHKuDbeEN9g1caH34gXn9jq7FHJVVCko3emtuQ7ZjSZycklgZRfiBbRQ5SsYpZIQly9k6ZKwgFfWz6MG9bhvsx%2BapUs&X-Amz-Signature=ecc638d0782993ed610185ba2e71dee13acb57cd9edb9a4bd406834de7fbb3d9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UUX5VADD%2F20260114%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260114T042027Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEEwaCXVzLXdlc3QtMiJGMEQCIDWGHfp5JVf863oWejDqK1cHkLTwK6tzb%2Ff2DieDsWC5AiBxsSc63PSRKlk1endfJHyXATvha7KPoPASZMp1SRs4Gir%2FAwgVEAAaDDYzNzQyMzE4MzgwNSIMN%2BIHPpYoSha44iJbKtwDu1L4lsX17zTlJfrSUzMVzSWF%2BPi90SoafY2Km6gr0zk4ZG6mcAjA8bfvXMFhfSY91pmGXUYYu1EO46Xi0namamCTHmrNK8eEIrnUr3Y1uQYI2AzQ4yFXRwjybfRJj7EXUdiqOVtCDmXWqoIqCVXcd%2BOyECVZqrDr8gJmTB%2FC0c7HEtrTtockGXv6c8Fbg7OjKRUsbcXQo7aJqV06Y9Vn2MKI5OuCq9%2Bu%2FZnzaROb4u3T2aA2Q7CNgj3VI8Q%2Bobj4TECpfoe6oADdqvkpKioqs7e6UC5qs%2BfQJr8vucHYMZA3R6MPzs9xvHRnWu3nJ7hdYmalNFJQx9QxV%2BzoGd%2F90ixAgTLd3UzhGPPc59b3qQdWlC7tc0s5ZVG3%2F6lvAtP9400ihx36zaTr%2Fjlgh4sZNVHBtXrWki%2Fi3oLe0dy%2BefQ%2BD%2B7l6Dd5%2FXUOciD57Qd45JL8BInrN4V6NzN9TETtBnQ9j3LbI7PqyQTpT%2B3Sj40g4Aw%2BEsJZuKDxTmvkWbK2Ya9EzOt7MvK2bQw3W5uTHnxKuyPWdjfJ3mlxxg%2BEMfmQOUyPcsx7enok15%2B%2F6ep8Ffwh1DCnUYhf0k%2BI5PxTBRwwxP2aUegflkpoyQa%2FfsAwBZmSC1qq9AGNL98wx5ycywY6pgHNjwAYZsY5YJPQrbsWl9WmCXU63ORG%2Fcm7yRXZVtjbt57aiFl9kHxNgW97KDxI7dtaxrEjiTYkBW4Ovoq7VN%2B7s%2FouAo1ZHTpp3HjNIAPIepxm7K3pV02Ave2Gb4lZ8iKAYJA3eOLb7PlNWM5rGWjBv%2FxG2ocWW3K0ElqvEpqSFetOAJmgN9y8YN5eeP2mdf4RU8i6UZd%2FcDq6xWBDTYDzlSumxp9g&X-Amz-Signature=c0ca9137e2abb92784438e604026517ab6117bb74d9b4e8d04e8e90cea61008c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
