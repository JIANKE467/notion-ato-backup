
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNWQGP5Q%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042306Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIGxxQ6yhXqfXCEBKGEDRmOaqH6S0xl0Rt%2BOJHnL8qmykAiBckv3EENziJo9vtDiATtocIZAycbGGQbMYwaSbs9%2BdEyqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMS0Sg1BZpAzD6pNzuKtwDv8rm%2BT3eSANkL0S8uK3QT0m7x1Usf%2BdzV2xYqF2mdxGpHvv5z1Kb5hhALJcTElwDZQ7fVZBhGP0JSBMaWgbmRZUbL61f%2BC%2BoxxIoxCkJB%2FjadX7XYl97asxCrhNyFDE8ig48wohDctDiJeNdnweqZxEf0iUOmqls3fsYNxzZ0UZjhxcPXAaUtoFdq34m6Si0w0sCSY83gU1x825uEju5SRRMp6JZG0PLGinrMdgAgIumhEWP17mXsSWIiovbkPh6rHpd2gs8xbHOuDXe29cN7%2BOsJQIsEy%2BtrO7jmBmNII%2Blb9P26%2Bp9jPaUf2JZOuXS7uUDhwEXa2AypT%2FGi%2FyAEyXzQFANeTJij3HRDXmoyU8yMmuJC5p9V%2FMcGkXcgqX1rM46XIpA3BBchSyxfiRmwU39Dz8VHYxJUTKz4EGqbipaAukJgwZNrem0KSJt%2B0L4QLEWkJOn04Qx%2BGixliqlvs0JapP1Ii9dqLMUNp29aErRjGK26lR1mVqKDWCpi2Q1mmw1trqB%2Br%2FHcsfOe9iauFIHSyfzy109A09SOtCUjFm3oLmBO9qolpCtVHP8uMX7MaknGXH8TABVpw%2FTwXA1Sezo9xlJtPefQ%2FPYXg1UdimO862t6nB0Lw8Ort4w%2BuiRywY6pgGFyhvHOjHTVSotT%2BmhkJxYJUM%2FRczULCy%2FAta%2B6sttZ2dOjXCIMWLmOQkgCbfxWvZqr%2FkCe%2BKkiCYcZHPM2txVbMYzMs8DaqGvlGs%2B7mF%2BMvoXtONE4W0dyUJpd%2BWajXw8tg%2F%2BKHYzeMV8tV5GHu56GMrZsWZFSa54oMtlqd3anL3PpyFLn4rXkof%2FI%2Bi%2FGB2wnCl4A1aaG35%2F7pUhRWfU7mBspm8q&X-Amz-Signature=486b0abe2d5d15e8f26e37e56aa61d8cfb6a2058affb3a76fbc6adcfab174af7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNWQGP5Q%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042306Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIGxxQ6yhXqfXCEBKGEDRmOaqH6S0xl0Rt%2BOJHnL8qmykAiBckv3EENziJo9vtDiATtocIZAycbGGQbMYwaSbs9%2BdEyqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMS0Sg1BZpAzD6pNzuKtwDv8rm%2BT3eSANkL0S8uK3QT0m7x1Usf%2BdzV2xYqF2mdxGpHvv5z1Kb5hhALJcTElwDZQ7fVZBhGP0JSBMaWgbmRZUbL61f%2BC%2BoxxIoxCkJB%2FjadX7XYl97asxCrhNyFDE8ig48wohDctDiJeNdnweqZxEf0iUOmqls3fsYNxzZ0UZjhxcPXAaUtoFdq34m6Si0w0sCSY83gU1x825uEju5SRRMp6JZG0PLGinrMdgAgIumhEWP17mXsSWIiovbkPh6rHpd2gs8xbHOuDXe29cN7%2BOsJQIsEy%2BtrO7jmBmNII%2Blb9P26%2Bp9jPaUf2JZOuXS7uUDhwEXa2AypT%2FGi%2FyAEyXzQFANeTJij3HRDXmoyU8yMmuJC5p9V%2FMcGkXcgqX1rM46XIpA3BBchSyxfiRmwU39Dz8VHYxJUTKz4EGqbipaAukJgwZNrem0KSJt%2B0L4QLEWkJOn04Qx%2BGixliqlvs0JapP1Ii9dqLMUNp29aErRjGK26lR1mVqKDWCpi2Q1mmw1trqB%2Br%2FHcsfOe9iauFIHSyfzy109A09SOtCUjFm3oLmBO9qolpCtVHP8uMX7MaknGXH8TABVpw%2FTwXA1Sezo9xlJtPefQ%2FPYXg1UdimO862t6nB0Lw8Ort4w%2BuiRywY6pgGFyhvHOjHTVSotT%2BmhkJxYJUM%2FRczULCy%2FAta%2B6sttZ2dOjXCIMWLmOQkgCbfxWvZqr%2FkCe%2BKkiCYcZHPM2txVbMYzMs8DaqGvlGs%2B7mF%2BMvoXtONE4W0dyUJpd%2BWajXw8tg%2F%2BKHYzeMV8tV5GHu56GMrZsWZFSa54oMtlqd3anL3PpyFLn4rXkof%2FI%2Bi%2FGB2wnCl4A1aaG35%2F7pUhRWfU7mBspm8q&X-Amz-Signature=04a5c2cb769907ab3d772c1688364def631a79beb3253f0d38e354982e9b3cce&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNWQGP5Q%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042306Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIGxxQ6yhXqfXCEBKGEDRmOaqH6S0xl0Rt%2BOJHnL8qmykAiBckv3EENziJo9vtDiATtocIZAycbGGQbMYwaSbs9%2BdEyqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMS0Sg1BZpAzD6pNzuKtwDv8rm%2BT3eSANkL0S8uK3QT0m7x1Usf%2BdzV2xYqF2mdxGpHvv5z1Kb5hhALJcTElwDZQ7fVZBhGP0JSBMaWgbmRZUbL61f%2BC%2BoxxIoxCkJB%2FjadX7XYl97asxCrhNyFDE8ig48wohDctDiJeNdnweqZxEf0iUOmqls3fsYNxzZ0UZjhxcPXAaUtoFdq34m6Si0w0sCSY83gU1x825uEju5SRRMp6JZG0PLGinrMdgAgIumhEWP17mXsSWIiovbkPh6rHpd2gs8xbHOuDXe29cN7%2BOsJQIsEy%2BtrO7jmBmNII%2Blb9P26%2Bp9jPaUf2JZOuXS7uUDhwEXa2AypT%2FGi%2FyAEyXzQFANeTJij3HRDXmoyU8yMmuJC5p9V%2FMcGkXcgqX1rM46XIpA3BBchSyxfiRmwU39Dz8VHYxJUTKz4EGqbipaAukJgwZNrem0KSJt%2B0L4QLEWkJOn04Qx%2BGixliqlvs0JapP1Ii9dqLMUNp29aErRjGK26lR1mVqKDWCpi2Q1mmw1trqB%2Br%2FHcsfOe9iauFIHSyfzy109A09SOtCUjFm3oLmBO9qolpCtVHP8uMX7MaknGXH8TABVpw%2FTwXA1Sezo9xlJtPefQ%2FPYXg1UdimO862t6nB0Lw8Ort4w%2BuiRywY6pgGFyhvHOjHTVSotT%2BmhkJxYJUM%2FRczULCy%2FAta%2B6sttZ2dOjXCIMWLmOQkgCbfxWvZqr%2FkCe%2BKkiCYcZHPM2txVbMYzMs8DaqGvlGs%2B7mF%2BMvoXtONE4W0dyUJpd%2BWajXw8tg%2F%2BKHYzeMV8tV5GHu56GMrZsWZFSa54oMtlqd3anL3PpyFLn4rXkof%2FI%2Bi%2FGB2wnCl4A1aaG35%2F7pUhRWfU7mBspm8q&X-Amz-Signature=fd5db6bfa4b28e2fdae40763703d7ef593a82b7ddcdd3442a03bf952d4de49b3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWJJCBSC%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042307Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIA%2B6pqqZqlCQVktSaDdalnSGUEmq44WDCBQ6GhcFXFqHAiBcVLzg8Wtbsj2r3kTiTCQICbb6Au7DWKV3o5Wtkxx5biqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM2A0Y2geb6ymj3SiHKtwDe7tkfLg48rKLqYtzkTw8J4fOuvOnFojmVH%2F8YkC8IEqlg9y18UEgOIIKasFeKywQ6s%2FrtQ31TNmVr6wTeWCFSeyMWBk583PVRZxwoTEs6EGL3BmRSOiYbxWwwgeM7rDL%2B%2BebcTmmNQHStlS2FZpj8I2CdXi0awhKQ%2Bl6YFNsiqk5wjW1Rm7Kcv5aIIuvKCrrsSjri4uYNscHwhg%2Btt5PD8O%2F0LHpFIvSEHHFoqAGU2lvCA8vr8sTRsn6lHHyS%2FZux8HKw3dLGTdJvThVXJ8kIcHnoFWs08eSa4OEyYmwSLVpnmfCGyp2ejYkqddOUZMhahjMYadrRtrBrYui7eUf%2Fgo7PA0loU39Ksv7HIg%2FgZPRf%2Fi72vyMFoxJeKcn5RpfMOML9YoAo8o5rzXKoDkrG2B6fu5RKcaQucfriLAXXxKu6cjvRUIXuI9EtvoWSaaizqUGbxv730tklywKCSjQaGvT7g6mdmx6fapuKqRbWMCnsyN%2FVtVv3NQc6BOKfGJ62YNHqGyrUhfk3FK7MizfVKNyC2DyvBB%2FcTby%2BaeOdWeHRwVrpt2OmE%2FNKoQacYvvXubgF5z1x%2BEYQwxk7ishjjWukjQUk15R3WLRPgvynLfrkIUev12WvvkMGqQwgemRywY6pgGWVtmdDiYwzJpcNNHYsyVoQo%2FFEwquSvwE9W5nYkPM%2FRk5W5RcEIFreoi1E6uJVJppw1gGBxrWxuwg5aChgEAsEaukE6jKDExkcZR2SoPHq%2BSg3jbnLnMnGAamrdD996BIzFgzkeUPgrp35etUK4El%2BPadgBXT8dmsLsSMGBXfrJwZPaeX%2BEqerNIdafcuw7%2FCWoeeNQql5Q1nr5Q9mRg4pD0i9RIF&X-Amz-Signature=7de0f696c75a2ed453c099a90300b4930ab2e21b04d91a266aecb4cea0354964&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWJJCBSC%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042307Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIA%2B6pqqZqlCQVktSaDdalnSGUEmq44WDCBQ6GhcFXFqHAiBcVLzg8Wtbsj2r3kTiTCQICbb6Au7DWKV3o5Wtkxx5biqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM2A0Y2geb6ymj3SiHKtwDe7tkfLg48rKLqYtzkTw8J4fOuvOnFojmVH%2F8YkC8IEqlg9y18UEgOIIKasFeKywQ6s%2FrtQ31TNmVr6wTeWCFSeyMWBk583PVRZxwoTEs6EGL3BmRSOiYbxWwwgeM7rDL%2B%2BebcTmmNQHStlS2FZpj8I2CdXi0awhKQ%2Bl6YFNsiqk5wjW1Rm7Kcv5aIIuvKCrrsSjri4uYNscHwhg%2Btt5PD8O%2F0LHpFIvSEHHFoqAGU2lvCA8vr8sTRsn6lHHyS%2FZux8HKw3dLGTdJvThVXJ8kIcHnoFWs08eSa4OEyYmwSLVpnmfCGyp2ejYkqddOUZMhahjMYadrRtrBrYui7eUf%2Fgo7PA0loU39Ksv7HIg%2FgZPRf%2Fi72vyMFoxJeKcn5RpfMOML9YoAo8o5rzXKoDkrG2B6fu5RKcaQucfriLAXXxKu6cjvRUIXuI9EtvoWSaaizqUGbxv730tklywKCSjQaGvT7g6mdmx6fapuKqRbWMCnsyN%2FVtVv3NQc6BOKfGJ62YNHqGyrUhfk3FK7MizfVKNyC2DyvBB%2FcTby%2BaeOdWeHRwVrpt2OmE%2FNKoQacYvvXubgF5z1x%2BEYQwxk7ishjjWukjQUk15R3WLRPgvynLfrkIUev12WvvkMGqQwgemRywY6pgGWVtmdDiYwzJpcNNHYsyVoQo%2FFEwquSvwE9W5nYkPM%2FRk5W5RcEIFreoi1E6uJVJppw1gGBxrWxuwg5aChgEAsEaukE6jKDExkcZR2SoPHq%2BSg3jbnLnMnGAamrdD996BIzFgzkeUPgrp35etUK4El%2BPadgBXT8dmsLsSMGBXfrJwZPaeX%2BEqerNIdafcuw7%2FCWoeeNQql5Q1nr5Q9mRg4pD0i9RIF&X-Amz-Signature=c52226092bb66e2ca47015a5526f39ad4fbc52d8ff1336378bbdef178628b0b9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWJJCBSC%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042307Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIA%2B6pqqZqlCQVktSaDdalnSGUEmq44WDCBQ6GhcFXFqHAiBcVLzg8Wtbsj2r3kTiTCQICbb6Au7DWKV3o5Wtkxx5biqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM2A0Y2geb6ymj3SiHKtwDe7tkfLg48rKLqYtzkTw8J4fOuvOnFojmVH%2F8YkC8IEqlg9y18UEgOIIKasFeKywQ6s%2FrtQ31TNmVr6wTeWCFSeyMWBk583PVRZxwoTEs6EGL3BmRSOiYbxWwwgeM7rDL%2B%2BebcTmmNQHStlS2FZpj8I2CdXi0awhKQ%2Bl6YFNsiqk5wjW1Rm7Kcv5aIIuvKCrrsSjri4uYNscHwhg%2Btt5PD8O%2F0LHpFIvSEHHFoqAGU2lvCA8vr8sTRsn6lHHyS%2FZux8HKw3dLGTdJvThVXJ8kIcHnoFWs08eSa4OEyYmwSLVpnmfCGyp2ejYkqddOUZMhahjMYadrRtrBrYui7eUf%2Fgo7PA0loU39Ksv7HIg%2FgZPRf%2Fi72vyMFoxJeKcn5RpfMOML9YoAo8o5rzXKoDkrG2B6fu5RKcaQucfriLAXXxKu6cjvRUIXuI9EtvoWSaaizqUGbxv730tklywKCSjQaGvT7g6mdmx6fapuKqRbWMCnsyN%2FVtVv3NQc6BOKfGJ62YNHqGyrUhfk3FK7MizfVKNyC2DyvBB%2FcTby%2BaeOdWeHRwVrpt2OmE%2FNKoQacYvvXubgF5z1x%2BEYQwxk7ishjjWukjQUk15R3WLRPgvynLfrkIUev12WvvkMGqQwgemRywY6pgGWVtmdDiYwzJpcNNHYsyVoQo%2FFEwquSvwE9W5nYkPM%2FRk5W5RcEIFreoi1E6uJVJppw1gGBxrWxuwg5aChgEAsEaukE6jKDExkcZR2SoPHq%2BSg3jbnLnMnGAamrdD996BIzFgzkeUPgrp35etUK4El%2BPadgBXT8dmsLsSMGBXfrJwZPaeX%2BEqerNIdafcuw7%2FCWoeeNQql5Q1nr5Q9mRg4pD0i9RIF&X-Amz-Signature=2b0f27eb02e543bfebf14dbb47323ad099228cd4cd02b525f7728e06dfb358d0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667O6D5GWV%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042307Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDlBHlrSVpz4dX2eZgSNdkKcG1F7BYJEklOn2v%2BMbvbAAIgINcTwlgs%2BlUN2TE4jCp%2BQbcx1C5XEndixdAckUOqEYsqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPzz45jRoDfJCkI7xircA00LPX71O1nWZiB58S5%2F%2FSLBsLzyFKP5F8A42502HQaMnvDCPASOWi1jzQL8ahYuESKi%2B2jTXAldkIERnhdB2hsLJIn6usNOfE%2B4YZz4vewJ%2Fe%2FTWFNrA%2B0DZsKdAwAm9BH%2FsfigjJfsV3QKy93eXFo3eIHhCHRMMd%2B5asVUI06QCVbsHeqbrNAnf3UGNERslirKbG0v%2Bx121w55Y8Dc3A7%2Bkt1Gp3DaThDoqsUSyp45A40UowE4gqFKMW1ezOYDdhpb0ytLfqGxb2QQNaKIk7JxTbtB2aajjRVmo7ypqqLMr%2BU7utyPZORmYeHrgP5yP9HRQN48Wd51Ni2vZICZ%2FyDFWCLv6ebg6DPUwyd8sqGVI8m58yHlAtLcpRlV0GNYXaXpj2XV4ldO6zMgRTR5gxgE1%2B82ZrqmfTuCd8pq4CoxEXcMhjStkZkzRj7Y9N7RN%2BlTx%2BknnPxe4vD86OuEwxv%2FekibkwOCuyBhTZfqgTFnZrWy0WBu%2FCzAlo0MIh44fobPpfewUSzSCiqJNCh%2FA%2FDxd54QXMUvkC8GUXxXu4D10QgclFgOgDUX%2FOero9J7UIAeN%2FOma0Eavp5sbGP6O6ej8QzvQ0CYbE0JrKtSh455LiONBj66jrPLfR84MIDpkcsGOqUByGJB9SoKH94DiWJcfbWYLwwHtS2rDdJAXNjhSNQDie%2Fo02iKeZigKit94sF2dIDiyxQegDUkhP%2F06ET0A6Yc04skpUP4W35y77agnZpwzJjlQylCSwREtEll50a6x%2BWMkquu9IzMqxiRa%2BMJOos5M%2BiSM%2BKAb0%2FNrZ0%2FHberd1S7dT3QUXr3QpT3E9ZdskPCv9rttjU25eSZI7sA9RRi7vxtR6Ny&X-Amz-Signature=0882a46074ddcc184c4752479534823d421b44fbddbbbe1de595eba7b6406810&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667O6D5GWV%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042307Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDlBHlrSVpz4dX2eZgSNdkKcG1F7BYJEklOn2v%2BMbvbAAIgINcTwlgs%2BlUN2TE4jCp%2BQbcx1C5XEndixdAckUOqEYsqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPzz45jRoDfJCkI7xircA00LPX71O1nWZiB58S5%2F%2FSLBsLzyFKP5F8A42502HQaMnvDCPASOWi1jzQL8ahYuESKi%2B2jTXAldkIERnhdB2hsLJIn6usNOfE%2B4YZz4vewJ%2Fe%2FTWFNrA%2B0DZsKdAwAm9BH%2FsfigjJfsV3QKy93eXFo3eIHhCHRMMd%2B5asVUI06QCVbsHeqbrNAnf3UGNERslirKbG0v%2Bx121w55Y8Dc3A7%2Bkt1Gp3DaThDoqsUSyp45A40UowE4gqFKMW1ezOYDdhpb0ytLfqGxb2QQNaKIk7JxTbtB2aajjRVmo7ypqqLMr%2BU7utyPZORmYeHrgP5yP9HRQN48Wd51Ni2vZICZ%2FyDFWCLv6ebg6DPUwyd8sqGVI8m58yHlAtLcpRlV0GNYXaXpj2XV4ldO6zMgRTR5gxgE1%2B82ZrqmfTuCd8pq4CoxEXcMhjStkZkzRj7Y9N7RN%2BlTx%2BknnPxe4vD86OuEwxv%2FekibkwOCuyBhTZfqgTFnZrWy0WBu%2FCzAlo0MIh44fobPpfewUSzSCiqJNCh%2FA%2FDxd54QXMUvkC8GUXxXu4D10QgclFgOgDUX%2FOero9J7UIAeN%2FOma0Eavp5sbGP6O6ej8QzvQ0CYbE0JrKtSh455LiONBj66jrPLfR84MIDpkcsGOqUByGJB9SoKH94DiWJcfbWYLwwHtS2rDdJAXNjhSNQDie%2Fo02iKeZigKit94sF2dIDiyxQegDUkhP%2F06ET0A6Yc04skpUP4W35y77agnZpwzJjlQylCSwREtEll50a6x%2BWMkquu9IzMqxiRa%2BMJOos5M%2BiSM%2BKAb0%2FNrZ0%2FHberd1S7dT3QUXr3QpT3E9ZdskPCv9rttjU25eSZI7sA9RRi7vxtR6Ny&X-Amz-Signature=60e46396f68af6c1fc74e489e2245c2e9fc0948f62cfe965fa7420424e1a368e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667O6D5GWV%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042307Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDlBHlrSVpz4dX2eZgSNdkKcG1F7BYJEklOn2v%2BMbvbAAIgINcTwlgs%2BlUN2TE4jCp%2BQbcx1C5XEndixdAckUOqEYsqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPzz45jRoDfJCkI7xircA00LPX71O1nWZiB58S5%2F%2FSLBsLzyFKP5F8A42502HQaMnvDCPASOWi1jzQL8ahYuESKi%2B2jTXAldkIERnhdB2hsLJIn6usNOfE%2B4YZz4vewJ%2Fe%2FTWFNrA%2B0DZsKdAwAm9BH%2FsfigjJfsV3QKy93eXFo3eIHhCHRMMd%2B5asVUI06QCVbsHeqbrNAnf3UGNERslirKbG0v%2Bx121w55Y8Dc3A7%2Bkt1Gp3DaThDoqsUSyp45A40UowE4gqFKMW1ezOYDdhpb0ytLfqGxb2QQNaKIk7JxTbtB2aajjRVmo7ypqqLMr%2BU7utyPZORmYeHrgP5yP9HRQN48Wd51Ni2vZICZ%2FyDFWCLv6ebg6DPUwyd8sqGVI8m58yHlAtLcpRlV0GNYXaXpj2XV4ldO6zMgRTR5gxgE1%2B82ZrqmfTuCd8pq4CoxEXcMhjStkZkzRj7Y9N7RN%2BlTx%2BknnPxe4vD86OuEwxv%2FekibkwOCuyBhTZfqgTFnZrWy0WBu%2FCzAlo0MIh44fobPpfewUSzSCiqJNCh%2FA%2FDxd54QXMUvkC8GUXxXu4D10QgclFgOgDUX%2FOero9J7UIAeN%2FOma0Eavp5sbGP6O6ej8QzvQ0CYbE0JrKtSh455LiONBj66jrPLfR84MIDpkcsGOqUByGJB9SoKH94DiWJcfbWYLwwHtS2rDdJAXNjhSNQDie%2Fo02iKeZigKit94sF2dIDiyxQegDUkhP%2F06ET0A6Yc04skpUP4W35y77agnZpwzJjlQylCSwREtEll50a6x%2BWMkquu9IzMqxiRa%2BMJOos5M%2BiSM%2BKAb0%2FNrZ0%2FHberd1S7dT3QUXr3QpT3E9ZdskPCv9rttjU25eSZI7sA9RRi7vxtR6Ny&X-Amz-Signature=ff9bb3fbd2f41da48474986f957934d827f924421f1685b18c3a899829641778&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667O6D5GWV%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042307Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDlBHlrSVpz4dX2eZgSNdkKcG1F7BYJEklOn2v%2BMbvbAAIgINcTwlgs%2BlUN2TE4jCp%2BQbcx1C5XEndixdAckUOqEYsqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDPzz45jRoDfJCkI7xircA00LPX71O1nWZiB58S5%2F%2FSLBsLzyFKP5F8A42502HQaMnvDCPASOWi1jzQL8ahYuESKi%2B2jTXAldkIERnhdB2hsLJIn6usNOfE%2B4YZz4vewJ%2Fe%2FTWFNrA%2B0DZsKdAwAm9BH%2FsfigjJfsV3QKy93eXFo3eIHhCHRMMd%2B5asVUI06QCVbsHeqbrNAnf3UGNERslirKbG0v%2Bx121w55Y8Dc3A7%2Bkt1Gp3DaThDoqsUSyp45A40UowE4gqFKMW1ezOYDdhpb0ytLfqGxb2QQNaKIk7JxTbtB2aajjRVmo7ypqqLMr%2BU7utyPZORmYeHrgP5yP9HRQN48Wd51Ni2vZICZ%2FyDFWCLv6ebg6DPUwyd8sqGVI8m58yHlAtLcpRlV0GNYXaXpj2XV4ldO6zMgRTR5gxgE1%2B82ZrqmfTuCd8pq4CoxEXcMhjStkZkzRj7Y9N7RN%2BlTx%2BknnPxe4vD86OuEwxv%2FekibkwOCuyBhTZfqgTFnZrWy0WBu%2FCzAlo0MIh44fobPpfewUSzSCiqJNCh%2FA%2FDxd54QXMUvkC8GUXxXu4D10QgclFgOgDUX%2FOero9J7UIAeN%2FOma0Eavp5sbGP6O6ej8QzvQ0CYbE0JrKtSh455LiONBj66jrPLfR84MIDpkcsGOqUByGJB9SoKH94DiWJcfbWYLwwHtS2rDdJAXNjhSNQDie%2Fo02iKeZigKit94sF2dIDiyxQegDUkhP%2F06ET0A6Yc04skpUP4W35y77agnZpwzJjlQylCSwREtEll50a6x%2BWMkquu9IzMqxiRa%2BMJOos5M%2BiSM%2BKAb0%2FNrZ0%2FHberd1S7dT3QUXr3QpT3E9ZdskPCv9rttjU25eSZI7sA9RRi7vxtR6Ny&X-Amz-Signature=92a80d97147b8c67f0cc20a5d2e393ec4e00c31e587b3e2ec2a170f6d1322f46&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SRP3FPYX%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDq7wcPbVA7%2FRmLhDKQpGEdo0ohugwzw1vcjZOdItIDpwIgVCWTsC%2BJPbUXo9DyY7fzzX6zxmr0b2LWUqqXNCoj%2B1YqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG6GdDeeQOwLCY1tJyrcA052Y6%2BnwFU04h2h2thmtk0x%2BLicUsikET7Oe0jjn3r0qpu7jiYJkmvQgNsGoNd3ygKBfWdbhsdPihsNnoQEDKIvmkv7wYaZAWUQ3zK37mEiU6gcu7q6bQW8PjcKpcr91KinO09NyJpRVKulkkJBdLPjcMu%2FzrkK2XqKu8VnbkzGQw0vlV0GWJg4u%2Bh6ZVM%2BDUfTJ8IllcO5sr7w3EUlQOUaybV4e5iCmjkhtcDs7JEfhPZielsk9BvGdpd6s2ni17tccrsB0%2FVJ25VhbKw%2BEDL2SKTn39414Zf40OddTiEoD7MooBQSOlrxjcfcwVyV38EljaRQPvKNwtCw4%2Bc9%2Be9jqgUEMMSJwgXAR9wiSKejfP07WSQZxOa3U54%2B%2BCaP%2BIeD1GQaFDM2v9CasSB65CrvZCgA5HPhQFcRPzrtqSKetHlYypfDolWB3gtlVwM%2FFCWElxEDUzQSgCw1wZrpbtNVCOm10wzB3OHLUnAqz6hT7jZRsnVbBchkcun4S1kZCcgu%2B3jT86yCYmeZzFsbtwuzYDyb%2BHXhUbWZpPKDd9tl8n9uD%2FuwE7yyoXicBrEDpknIgDu%2BHyLxEzNn7ESG4vNIpGq2uUzoeID6gx3W00BCkqLqoyp5PNaQXLg9MProkcsGOqUByzpukIvZdpx7IMEp9xIdAlNCRnmpUg39%2FRXEd%2Fss%2B4Hoz4SUYLdQkhlcSXZYZQ4YO3pLpY1HpUeitmphB5GkwZPqwhLvUE1fEUOCUVFYqFOVJT7Uz%2BBLjGPD8ehnf7oWs7G%2FcgLaBFz1yA7UO2tNy4l9LSvcIUU76EK1aGz2ks7kWTQQbgXJ9mgOU2VjbNayE9mERSR1ZNuA02imxbAnPwrO7wjv&X-Amz-Signature=3fd224761da0d169b9e579dcc4e9b8d4aae277620df141b63f99f0c68d0b33e1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SRP3FPYX%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDq7wcPbVA7%2FRmLhDKQpGEdo0ohugwzw1vcjZOdItIDpwIgVCWTsC%2BJPbUXo9DyY7fzzX6zxmr0b2LWUqqXNCoj%2B1YqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG6GdDeeQOwLCY1tJyrcA052Y6%2BnwFU04h2h2thmtk0x%2BLicUsikET7Oe0jjn3r0qpu7jiYJkmvQgNsGoNd3ygKBfWdbhsdPihsNnoQEDKIvmkv7wYaZAWUQ3zK37mEiU6gcu7q6bQW8PjcKpcr91KinO09NyJpRVKulkkJBdLPjcMu%2FzrkK2XqKu8VnbkzGQw0vlV0GWJg4u%2Bh6ZVM%2BDUfTJ8IllcO5sr7w3EUlQOUaybV4e5iCmjkhtcDs7JEfhPZielsk9BvGdpd6s2ni17tccrsB0%2FVJ25VhbKw%2BEDL2SKTn39414Zf40OddTiEoD7MooBQSOlrxjcfcwVyV38EljaRQPvKNwtCw4%2Bc9%2Be9jqgUEMMSJwgXAR9wiSKejfP07WSQZxOa3U54%2B%2BCaP%2BIeD1GQaFDM2v9CasSB65CrvZCgA5HPhQFcRPzrtqSKetHlYypfDolWB3gtlVwM%2FFCWElxEDUzQSgCw1wZrpbtNVCOm10wzB3OHLUnAqz6hT7jZRsnVbBchkcun4S1kZCcgu%2B3jT86yCYmeZzFsbtwuzYDyb%2BHXhUbWZpPKDd9tl8n9uD%2FuwE7yyoXicBrEDpknIgDu%2BHyLxEzNn7ESG4vNIpGq2uUzoeID6gx3W00BCkqLqoyp5PNaQXLg9MProkcsGOqUByzpukIvZdpx7IMEp9xIdAlNCRnmpUg39%2FRXEd%2Fss%2B4Hoz4SUYLdQkhlcSXZYZQ4YO3pLpY1HpUeitmphB5GkwZPqwhLvUE1fEUOCUVFYqFOVJT7Uz%2BBLjGPD8ehnf7oWs7G%2FcgLaBFz1yA7UO2tNy4l9LSvcIUU76EK1aGz2ks7kWTQQbgXJ9mgOU2VjbNayE9mERSR1ZNuA02imxbAnPwrO7wjv&X-Amz-Signature=64bdb804ebe3694067d571240bc0da3b25f83766b9d053a58c03d6a7c0b5e98e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SRP3FPYX%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDq7wcPbVA7%2FRmLhDKQpGEdo0ohugwzw1vcjZOdItIDpwIgVCWTsC%2BJPbUXo9DyY7fzzX6zxmr0b2LWUqqXNCoj%2B1YqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG6GdDeeQOwLCY1tJyrcA052Y6%2BnwFU04h2h2thmtk0x%2BLicUsikET7Oe0jjn3r0qpu7jiYJkmvQgNsGoNd3ygKBfWdbhsdPihsNnoQEDKIvmkv7wYaZAWUQ3zK37mEiU6gcu7q6bQW8PjcKpcr91KinO09NyJpRVKulkkJBdLPjcMu%2FzrkK2XqKu8VnbkzGQw0vlV0GWJg4u%2Bh6ZVM%2BDUfTJ8IllcO5sr7w3EUlQOUaybV4e5iCmjkhtcDs7JEfhPZielsk9BvGdpd6s2ni17tccrsB0%2FVJ25VhbKw%2BEDL2SKTn39414Zf40OddTiEoD7MooBQSOlrxjcfcwVyV38EljaRQPvKNwtCw4%2Bc9%2Be9jqgUEMMSJwgXAR9wiSKejfP07WSQZxOa3U54%2B%2BCaP%2BIeD1GQaFDM2v9CasSB65CrvZCgA5HPhQFcRPzrtqSKetHlYypfDolWB3gtlVwM%2FFCWElxEDUzQSgCw1wZrpbtNVCOm10wzB3OHLUnAqz6hT7jZRsnVbBchkcun4S1kZCcgu%2B3jT86yCYmeZzFsbtwuzYDyb%2BHXhUbWZpPKDd9tl8n9uD%2FuwE7yyoXicBrEDpknIgDu%2BHyLxEzNn7ESG4vNIpGq2uUzoeID6gx3W00BCkqLqoyp5PNaQXLg9MProkcsGOqUByzpukIvZdpx7IMEp9xIdAlNCRnmpUg39%2FRXEd%2Fss%2B4Hoz4SUYLdQkhlcSXZYZQ4YO3pLpY1HpUeitmphB5GkwZPqwhLvUE1fEUOCUVFYqFOVJT7Uz%2BBLjGPD8ehnf7oWs7G%2FcgLaBFz1yA7UO2tNy4l9LSvcIUU76EK1aGz2ks7kWTQQbgXJ9mgOU2VjbNayE9mERSR1ZNuA02imxbAnPwrO7wjv&X-Amz-Signature=bb0ffea9427a26c3296e14d59e520a7f409a84f9adaeb89072feb42815850870&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SRP3FPYX%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQDq7wcPbVA7%2FRmLhDKQpGEdo0ohugwzw1vcjZOdItIDpwIgVCWTsC%2BJPbUXo9DyY7fzzX6zxmr0b2LWUqqXNCoj%2B1YqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDG6GdDeeQOwLCY1tJyrcA052Y6%2BnwFU04h2h2thmtk0x%2BLicUsikET7Oe0jjn3r0qpu7jiYJkmvQgNsGoNd3ygKBfWdbhsdPihsNnoQEDKIvmkv7wYaZAWUQ3zK37mEiU6gcu7q6bQW8PjcKpcr91KinO09NyJpRVKulkkJBdLPjcMu%2FzrkK2XqKu8VnbkzGQw0vlV0GWJg4u%2Bh6ZVM%2BDUfTJ8IllcO5sr7w3EUlQOUaybV4e5iCmjkhtcDs7JEfhPZielsk9BvGdpd6s2ni17tccrsB0%2FVJ25VhbKw%2BEDL2SKTn39414Zf40OddTiEoD7MooBQSOlrxjcfcwVyV38EljaRQPvKNwtCw4%2Bc9%2Be9jqgUEMMSJwgXAR9wiSKejfP07WSQZxOa3U54%2B%2BCaP%2BIeD1GQaFDM2v9CasSB65CrvZCgA5HPhQFcRPzrtqSKetHlYypfDolWB3gtlVwM%2FFCWElxEDUzQSgCw1wZrpbtNVCOm10wzB3OHLUnAqz6hT7jZRsnVbBchkcun4S1kZCcgu%2B3jT86yCYmeZzFsbtwuzYDyb%2BHXhUbWZpPKDd9tl8n9uD%2FuwE7yyoXicBrEDpknIgDu%2BHyLxEzNn7ESG4vNIpGq2uUzoeID6gx3W00BCkqLqoyp5PNaQXLg9MProkcsGOqUByzpukIvZdpx7IMEp9xIdAlNCRnmpUg39%2FRXEd%2Fss%2B4Hoz4SUYLdQkhlcSXZYZQ4YO3pLpY1HpUeitmphB5GkwZPqwhLvUE1fEUOCUVFYqFOVJT7Uz%2BBLjGPD8ehnf7oWs7G%2FcgLaBFz1yA7UO2tNy4l9LSvcIUU76EK1aGz2ks7kWTQQbgXJ9mgOU2VjbNayE9mERSR1ZNuA02imxbAnPwrO7wjv&X-Amz-Signature=2d86207b04f44b0fe8036e34a05d17a2e6d66f2062d3910563d1a895af234b51&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YCRACNKB%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQCyf533AA8CyMq0dYZmdI%2FIf7hgz8OYMZa3YHASjf1hJwIhAMQyWzNz1B%2BdLFV5e3zxcn72xfYfHqN8pDL2PZZofY48KogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzenmliHRHooEuDxWEq3AMSRpPF4lb9AntoS54ReaWHw2thJUNQcZGkX84FNGi2umh%2FfZ338smWYzAKmD8Lp6%2BWZHQ%2BhgV2pzegWdwJ6zI2gpnb1A8uJWL20Z2ljveqTuD8uOHBy6YeyCj82JvuXJ4JeRaPqUI%2BW93KNdPsvdFukmxhcG5RwyCoIPeNvEkav1fexd295QhJyy8KNYT7CKkOuvGBdRBqujd2FtfPAQPS%2FVOPeNiwmiKpoqakFYSIXRQWVEdCllL%2F3OmIjd4as0qegtt47fax3knsAYY%2FE38U97d%2B6DdCLanmWm3lP4nEXFWT%2Fc%2B0VGZaBbd6uzFXahH8Z%2BihVZ1%2FCV5DpE%2Bb27TqrYwDovWh1IFXoj%2Bh8ke4YxIl4Yi3jZ43zlWxtWykkj%2ByWnPTiwhlLXIvp%2BvmoVD53wSGZCndzCz4GrVr%2F%2FXcti%2BNbRBrmP6fq8ckmKL39kPJTTD9I7wNsDskczNfaZ35KoxuXzNEsy%2B8DsTZ9goZvWX6YJJMG7WfBj6OoypnVVy15%2Bafd7iLLuNW2jDXpHmLua33AJ4EGZd%2FExLTTDc9sUq9jpg%2Ft4RCuiqlPoGYnIJH3EhGBIZAaC5d%2FiB9JJjAZKTWjsVxmZXFY%2Bqxv5d%2BdYEh61zn7W4j4wdSdTD66JHLBjqkARaUi8L%2FvkCtMzybE1txkOYlPIqNlohKidSUTphecFLheEvTlwR8DfIk6IQjdIzEgbMOOFScyZh6kGR1HHszAS%2B5Jocbv5O9hB1yk9oSsVIFmhGBwjiX1rm8nHmYo%2FVgNvr2KfwnyKCkEgcXzPCg7qIe0uNRMI5nVM0UH0Z%2Bj1WF2Xxj6vSEVVRuwP11bFplNRsgkJLH%2FC4IU897pQU6a8wRfVa1&X-Amz-Signature=781eec14611658cce7a71a8ffb4c0de9a139207586eb5f7f3bac311b44863883&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YCRACNKB%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQCyf533AA8CyMq0dYZmdI%2FIf7hgz8OYMZa3YHASjf1hJwIhAMQyWzNz1B%2BdLFV5e3zxcn72xfYfHqN8pDL2PZZofY48KogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzenmliHRHooEuDxWEq3AMSRpPF4lb9AntoS54ReaWHw2thJUNQcZGkX84FNGi2umh%2FfZ338smWYzAKmD8Lp6%2BWZHQ%2BhgV2pzegWdwJ6zI2gpnb1A8uJWL20Z2ljveqTuD8uOHBy6YeyCj82JvuXJ4JeRaPqUI%2BW93KNdPsvdFukmxhcG5RwyCoIPeNvEkav1fexd295QhJyy8KNYT7CKkOuvGBdRBqujd2FtfPAQPS%2FVOPeNiwmiKpoqakFYSIXRQWVEdCllL%2F3OmIjd4as0qegtt47fax3knsAYY%2FE38U97d%2B6DdCLanmWm3lP4nEXFWT%2Fc%2B0VGZaBbd6uzFXahH8Z%2BihVZ1%2FCV5DpE%2Bb27TqrYwDovWh1IFXoj%2Bh8ke4YxIl4Yi3jZ43zlWxtWykkj%2ByWnPTiwhlLXIvp%2BvmoVD53wSGZCndzCz4GrVr%2F%2FXcti%2BNbRBrmP6fq8ckmKL39kPJTTD9I7wNsDskczNfaZ35KoxuXzNEsy%2B8DsTZ9goZvWX6YJJMG7WfBj6OoypnVVy15%2Bafd7iLLuNW2jDXpHmLua33AJ4EGZd%2FExLTTDc9sUq9jpg%2Ft4RCuiqlPoGYnIJH3EhGBIZAaC5d%2FiB9JJjAZKTWjsVxmZXFY%2Bqxv5d%2BdYEh61zn7W4j4wdSdTD66JHLBjqkARaUi8L%2FvkCtMzybE1txkOYlPIqNlohKidSUTphecFLheEvTlwR8DfIk6IQjdIzEgbMOOFScyZh6kGR1HHszAS%2B5Jocbv5O9hB1yk9oSsVIFmhGBwjiX1rm8nHmYo%2FVgNvr2KfwnyKCkEgcXzPCg7qIe0uNRMI5nVM0UH0Z%2Bj1WF2Xxj6vSEVVRuwP11bFplNRsgkJLH%2FC4IU897pQU6a8wRfVa1&X-Amz-Signature=07eb35ae7196a7ebf224699f3f3385f31aeb99571b9878da9638a5aaa1adac34&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YCRACNKB%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQCyf533AA8CyMq0dYZmdI%2FIf7hgz8OYMZa3YHASjf1hJwIhAMQyWzNz1B%2BdLFV5e3zxcn72xfYfHqN8pDL2PZZofY48KogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzenmliHRHooEuDxWEq3AMSRpPF4lb9AntoS54ReaWHw2thJUNQcZGkX84FNGi2umh%2FfZ338smWYzAKmD8Lp6%2BWZHQ%2BhgV2pzegWdwJ6zI2gpnb1A8uJWL20Z2ljveqTuD8uOHBy6YeyCj82JvuXJ4JeRaPqUI%2BW93KNdPsvdFukmxhcG5RwyCoIPeNvEkav1fexd295QhJyy8KNYT7CKkOuvGBdRBqujd2FtfPAQPS%2FVOPeNiwmiKpoqakFYSIXRQWVEdCllL%2F3OmIjd4as0qegtt47fax3knsAYY%2FE38U97d%2B6DdCLanmWm3lP4nEXFWT%2Fc%2B0VGZaBbd6uzFXahH8Z%2BihVZ1%2FCV5DpE%2Bb27TqrYwDovWh1IFXoj%2Bh8ke4YxIl4Yi3jZ43zlWxtWykkj%2ByWnPTiwhlLXIvp%2BvmoVD53wSGZCndzCz4GrVr%2F%2FXcti%2BNbRBrmP6fq8ckmKL39kPJTTD9I7wNsDskczNfaZ35KoxuXzNEsy%2B8DsTZ9goZvWX6YJJMG7WfBj6OoypnVVy15%2Bafd7iLLuNW2jDXpHmLua33AJ4EGZd%2FExLTTDc9sUq9jpg%2Ft4RCuiqlPoGYnIJH3EhGBIZAaC5d%2FiB9JJjAZKTWjsVxmZXFY%2Bqxv5d%2BdYEh61zn7W4j4wdSdTD66JHLBjqkARaUi8L%2FvkCtMzybE1txkOYlPIqNlohKidSUTphecFLheEvTlwR8DfIk6IQjdIzEgbMOOFScyZh6kGR1HHszAS%2B5Jocbv5O9hB1yk9oSsVIFmhGBwjiX1rm8nHmYo%2FVgNvr2KfwnyKCkEgcXzPCg7qIe0uNRMI5nVM0UH0Z%2Bj1WF2Xxj6vSEVVRuwP11bFplNRsgkJLH%2FC4IU897pQU6a8wRfVa1&X-Amz-Signature=c6b99cbc07a0060ba90cf7c2435eef18ff49b3925f5002f1131bd6aa3310da41&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S2EISR5D%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIHbEifF49bOEbq9z0%2FO6cG0WNyMVF2t581SKiXyMidVLAiA%2B1XuJ3kmduNYeHq7cZsZW8aUX48ElX3XQefop69yyXCqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMTGcm2cBSIdy83%2FhnKtwD91n%2FFE455W2yIseM%2B%2BiOgbOTzKtu42Jcds1ADuFxE9xFNjtKAbEgT0ebFM3aUWApQFiOPmGD2P%2FD3B1oQmjmMTXFnFUXprtI9ZJRiFvytkh4SuzVE2ihZGLOoVekEAJ2FaWdI2j7x0YS6hRJLYc4O1jPz6Il2eNHtcVt8XjEbHNVIAvFkb8x4TgEDMMGFCVPrvpqzDHtQXWVlmj2KYA%2FyVRA6SNpB1aiFEidLdVCzoHHwE4w4S9NkoAJz%2FRSczfdj96GwJgkbbfcjhFrmfwb2s8HyA0llnR86EWIGWT83J4J95%2Ff942e1q0PtU3HQ23CdHxE%2BbEju8jUClCA1knhWwj5OGEOTshGxK88sY15YPQzAtq7PNHZi5jqq1avgOtVvzmAQonzBGNve%2BiEH2lHKxGtz7pwGEcBK4bAcGEAHe9FS%2FtTdjUqYrWkigHbDq%2BDIKls25WPQYlKxRs3YBvDCFTbpTDUc3sUFbn5fiOscGZFK50WvM%2FErA5SgpdF6fR5HwDnTRNFAcLdnfKG9FUZ4yoBO1%2F9JuRXRKFYB2NJxE6b295R4B8mEm0aQQHQjDOb3dwH9GU7YzKdGOUYDH4FeBHUb8GGCAON1Tqq7XP8T1xDLKDt0nz6ceiTedMw4umRywY6pgETOyHgwwFAFJWccSR910jgZ5Lk2tCg7ae8VuazkrMaGyfN3BnfWvGJ5Xquc9vRXiFQU6KUZLnnet7VhbcYl8SNm6WDxhtEcahpeE2vD%2FlHkE3w6yJ8SuIporYZMDy7VNUZSg4iu%2F5XNWeDIWFfDxuJcU0utkxl2sTc2zyH3BS89rK3FUuZCfDpz8BinERMEnroVdmQ%2B2hFJXmMIAb3EccuSP6WYPjj&X-Amz-Signature=09faed981363ce633cf249a236827772e14a9515b8bff29b784da75f3c3f9f2f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466S2EISR5D%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJGMEQCIHbEifF49bOEbq9z0%2FO6cG0WNyMVF2t581SKiXyMidVLAiA%2B1XuJ3kmduNYeHq7cZsZW8aUX48ElX3XQefop69yyXCqIBAjl%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMTGcm2cBSIdy83%2FhnKtwD91n%2FFE455W2yIseM%2B%2BiOgbOTzKtu42Jcds1ADuFxE9xFNjtKAbEgT0ebFM3aUWApQFiOPmGD2P%2FD3B1oQmjmMTXFnFUXprtI9ZJRiFvytkh4SuzVE2ihZGLOoVekEAJ2FaWdI2j7x0YS6hRJLYc4O1jPz6Il2eNHtcVt8XjEbHNVIAvFkb8x4TgEDMMGFCVPrvpqzDHtQXWVlmj2KYA%2FyVRA6SNpB1aiFEidLdVCzoHHwE4w4S9NkoAJz%2FRSczfdj96GwJgkbbfcjhFrmfwb2s8HyA0llnR86EWIGWT83J4J95%2Ff942e1q0PtU3HQ23CdHxE%2BbEju8jUClCA1knhWwj5OGEOTshGxK88sY15YPQzAtq7PNHZi5jqq1avgOtVvzmAQonzBGNve%2BiEH2lHKxGtz7pwGEcBK4bAcGEAHe9FS%2FtTdjUqYrWkigHbDq%2BDIKls25WPQYlKxRs3YBvDCFTbpTDUc3sUFbn5fiOscGZFK50WvM%2FErA5SgpdF6fR5HwDnTRNFAcLdnfKG9FUZ4yoBO1%2F9JuRXRKFYB2NJxE6b295R4B8mEm0aQQHQjDOb3dwH9GU7YzKdGOUYDH4FeBHUb8GGCAON1Tqq7XP8T1xDLKDt0nz6ceiTedMw4umRywY6pgETOyHgwwFAFJWccSR910jgZ5Lk2tCg7ae8VuazkrMaGyfN3BnfWvGJ5Xquc9vRXiFQU6KUZLnnet7VhbcYl8SNm6WDxhtEcahpeE2vD%2FlHkE3w6yJ8SuIporYZMDy7VNUZSg4iu%2F5XNWeDIWFfDxuJcU0utkxl2sTc2zyH3BS89rK3FUuZCfDpz8BinERMEnroVdmQ%2B2hFJXmMIAb3EccuSP6WYPjj&X-Amz-Signature=0d0dcbd266429434891fffd50cb1cc2a98a24c13510affa867d1a4657497ab96&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YPJR2LZG%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQDZs3jMhR1sOSudqlMgJNUe%2F4zmuB4fkQkO4MS1lqEoyQIhAOYQW%2B3Mwroov%2B2G5S1%2FnGUoQUtQu9%2Bw2behVjED6wIhKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igyx9%2BIGG8qTSloxWCYq3AP5UlH%2BRGfCk8ICgC4y0kUA9C3SSDTluDnq3BbwAlosWvRDQ4BFvFfvEpZpTr%2BJ8zfBD0P%2BrK%2FAcTplv7u4yXsVN95vrbZlV3aTTAL424fMD31T8qetqaXGd%2FrfSUFRADOSb%2Brcx%2FxAL8%2F7WWDjjSJifm8K%2Bh27K989hKycrc3kZ59mvQDfVlYts24lRhiTiUDiMRLLdVlHM8WdkZvvsVw4uawbNmXLxiVPMpGlJmBeqtxHkdHvvibceyA4X91z5oknZ7Fw9ulM%2B97ITPm3%2FBC4Dy4EhIPwepwN8oYV0uNJMKJL5mEnoUIsQpc2myDY6utkfEt5cUxQ%2BzDE7IPYJ1o4ZJMdevn%2BESHcn4Dkb3QZSkolCWthbENJsvMJHl1y5HgkyogOJGkTrZDs46BrgHjQ%2FPQJYchoTLgzrr%2FUn154BTLoiV3vOIW5QuLdmUOGUbic23HZ3CwDsosQHauPypWul%2FLcNjphmCWezXt8s%2Fuq5dVPyuG%2BngmaTh7VdBh7YIOAOvel%2FGE0s7JThR7n6t5M8LeXgwd9Zei7WxzFDX1qVhDGNKODZ%2F6XFNizIETsTF3ZxGUweFGsYfWvZ2OtjfKBWfDiEeOjQdtP3J685N7c2xuIcvqOnXP%2BNEGudTD36ZHLBjqkAeZq7K6z4EYh8FzG4Qp%2Fm0VKFiRIWDn8M5f%2FAKND59PliFo9NNQXfvq5%2BIip8up3HgzIRRH9d%2F%2FSD%2B8Q%2BfMLZbMAbwO0tX%2BvmDxesHVE%2FnW0T5H3p5p2btEIprOWivaqyo725ePGeNG7FfkzM5VJvnuRg2lIfI9%2BtNeqyV%2BNCmLH7eziv9OhDJP%2BAY9ubQaMRjieAze3k33HrZRYZUuUB1ZrOf%2B4&X-Amz-Signature=63a7748c98b6d701848c8c6af11e2ccce63b5d9c5c1b55a41ed7974830060f78&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YPJR2LZG%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042308Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJIMEYCIQDZs3jMhR1sOSudqlMgJNUe%2F4zmuB4fkQkO4MS1lqEoyQIhAOYQW%2B3Mwroov%2B2G5S1%2FnGUoQUtQu9%2Bw2behVjED6wIhKogECOX%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igyx9%2BIGG8qTSloxWCYq3AP5UlH%2BRGfCk8ICgC4y0kUA9C3SSDTluDnq3BbwAlosWvRDQ4BFvFfvEpZpTr%2BJ8zfBD0P%2BrK%2FAcTplv7u4yXsVN95vrbZlV3aTTAL424fMD31T8qetqaXGd%2FrfSUFRADOSb%2Brcx%2FxAL8%2F7WWDjjSJifm8K%2Bh27K989hKycrc3kZ59mvQDfVlYts24lRhiTiUDiMRLLdVlHM8WdkZvvsVw4uawbNmXLxiVPMpGlJmBeqtxHkdHvvibceyA4X91z5oknZ7Fw9ulM%2B97ITPm3%2FBC4Dy4EhIPwepwN8oYV0uNJMKJL5mEnoUIsQpc2myDY6utkfEt5cUxQ%2BzDE7IPYJ1o4ZJMdevn%2BESHcn4Dkb3QZSkolCWthbENJsvMJHl1y5HgkyogOJGkTrZDs46BrgHjQ%2FPQJYchoTLgzrr%2FUn154BTLoiV3vOIW5QuLdmUOGUbic23HZ3CwDsosQHauPypWul%2FLcNjphmCWezXt8s%2Fuq5dVPyuG%2BngmaTh7VdBh7YIOAOvel%2FGE0s7JThR7n6t5M8LeXgwd9Zei7WxzFDX1qVhDGNKODZ%2F6XFNizIETsTF3ZxGUweFGsYfWvZ2OtjfKBWfDiEeOjQdtP3J685N7c2xuIcvqOnXP%2BNEGudTD36ZHLBjqkAeZq7K6z4EYh8FzG4Qp%2Fm0VKFiRIWDn8M5f%2FAKND59PliFo9NNQXfvq5%2BIip8up3HgzIRRH9d%2F%2FSD%2B8Q%2BfMLZbMAbwO0tX%2BvmDxesHVE%2FnW0T5H3p5p2btEIprOWivaqyo725ePGeNG7FfkzM5VJvnuRg2lIfI9%2BtNeqyV%2BNCmLH7eziv9OhDJP%2BAY9ubQaMRjieAze3k33HrZRYZUuUB1ZrOf%2B4&X-Amz-Signature=4609001aa4107900df2c1eeeb5daa4d92fa3afdb942de36de9ac223a4c8fcd0a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZTPTURHT%2F20260112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260112T042309Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBwaCXVzLXdlc3QtMiJHMEUCIQCOp%2BMbEbyCr3rihXF19PpA%2F%2BBuVJOHZjnb%2FnvcfJdFRwIgJiLOgoQV6J3oXML%2F3zaAcA%2F%2BAOS5ToMt24ERZsPNJUIqiAQI5f%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKkVMeomeE%2FVFi3VWSrcAz3bvqLA4cqSEUJ2JHtD%2ByiOi5cee1D7B3R9IrEuBMOUZAzP%2BrNm%2B%2FgzI%2FGz1LjxNBtn862a3j4Wl8ujQOYWhIlcl5qMH3jfv1iBzSvAFMqg%2BIGB5HKL3LsdqrGR3KBLQ1%2F5MpHIOfbtP6jPnHAQYNk4pQvUXEIFuRAlLF7ZOz4ln5mj%2BBDE7tzQlqYqWacQdoR3AXaeLGYS5L4PHidTgm8Kli6PEKCG1J%2Fe345cWFo8PXNmdgqxmB1th0v%2B3l4IkY1droh5N0Ixc%2FBpdFR5tKB6kD8jWC6x%2F0Pig6G8YzK551APYAmxcq7t71brDcJeEtzlpTjwOVTLqEtb%2BVgxQg9qvrErlV2jSm1YL7dNceX%2BI6FIs%2Bn4GA6hkiMdj20mDklika8HLLdToIPs%2FD1OweRw8raXL6fYZZAiLxxXjqsrVk69xlhEIBLMB6bx2WSJIrXal3MHcgpewcgeSqSx2bmv349CJACf%2BNFfUCD1Eact5ObldWs8ZMbeLBeYLHJiIebGAUQSbOF78G2e5rn%2BkLpFpjggKHNvSIXqEdxY3QOXdIXpCTFmzkjORPzMbv8YbdLEMQfj%2B60qPtC%2FZfjMY7UH%2FubX2Mu%2FHwiFoKyba7sH4oXBDDMn4urdhpoJMKXpkcsGOqUBvoHTfCyWK439YefLKCwyNEx09k4TFnKUl9NltJHgFZz8hV3kCwAWeefOgFv1kQDW%2BvV6ZgDtpyV9BgjSkFOfRS8rHKeqaybVmo78XVoSHyv%2BxmT7ahAU0oFuBsoUW24U28namOXQIVNvan%2FL2p4f0hWvQv4XKhYfJHfawE3XpzHXK0OxmzyOlmTVUPQXeoXghH8Kdgw45edqlXHVBAm%2BQc4J7Im5&X-Amz-Signature=dac98a963032dadbb323cba4b626371859949a64c25f93acb5daeb9def69634c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
