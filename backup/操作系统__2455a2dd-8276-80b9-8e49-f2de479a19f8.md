
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664GUFQ4LW%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040519Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCL4zm%2FQLhdUDyPSNb%2F62Zvq5cO8dPR0eiXxi6%2FT3k1KAIgeg4R1ENmehUTi8FNI31fNzP3HOqJQqdAeJIMTykUt1cq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDJif8368vuMw3L%2FEBircAw4Yz%2BMVBP6lCF1xsPrnS%2B3kDFDM5FxpV7zARBOx6np4UF9K8ArFU52J6SK%2B8zqjx%2BZqSzuGkFbZ75BOMvaj8j4Q3dWkTKi6W5%2FIQBIy6AsdBQXwPVSAQ6DCevYt9QJcSt4wwip7hDoq8I7ZWHI4IrFcfXu4YRLwYeKYo6okBdAtjmqOpIdq6Tzf73dYUZshJ%2F8KoP67fRa1yfHynGEtwVq5G2655gUonVayU6fuEf4sEbJBjRJzUrM573lnka8jlIkXXNciEJzEEDSgrsxfhJjMCs%2BVlI9%2BF25c9pKd7ynHzUZ4qaoT36zHwxl%2FK2ZikklPS5hZGxTSkKTV%2F98uQCWXZCEHVS71uUQ2M0v8e6a51mrL2pdZFpVwdbbAUD0Cx6InpmF7msJFUe3mV%2BYEedRP9qPJGaWqdSO3ubwfL9003PKp1ZeDjoPD0kjkL%2BmD5%2BC0k8pcF6Z9ZPcMpayrQVt9lFnfHFo3Zjp7jDWKWyssEuMKbzh2nE0qmr%2FiK%2FIgTYx5yv7bO4MhJOsOI2DQ0c%2BriugdLwbI90qq%2BgQ9%2B3IJn84I63%2FabN93hFshbCEmdQZifWWZddBPMCxRI19%2BhC2QERiIjKKj5aiAFSv8tpp3%2BJS1L9aT1lKuVQhrMOyXg8oGOqUBHokxqAK91ezMJses8w0Hl3ambzyb7OKWaEFk0cwyKX7xrCW2hBXgaFaqNycCIxbOQRk8V4mERxM3sxNM5UhW55qc2PnoTWLU96QvWhUwGRRH70dsJ2N5zAKGyptAcSi8iyj6FUs7SBB6BrAOG0oMszj2gIM035UFWu%2FAkD9DgaqMtZzQn2mNR9pK9l7r1MahixFH9d9r1sGYnSZD3Rxs%2BavlhtJT&X-Amz-Signature=fc8db8792ec7e953d7c6510f2d1262f93df8855d52cca900a985a9395617da04&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664GUFQ4LW%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040519Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCL4zm%2FQLhdUDyPSNb%2F62Zvq5cO8dPR0eiXxi6%2FT3k1KAIgeg4R1ENmehUTi8FNI31fNzP3HOqJQqdAeJIMTykUt1cq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDJif8368vuMw3L%2FEBircAw4Yz%2BMVBP6lCF1xsPrnS%2B3kDFDM5FxpV7zARBOx6np4UF9K8ArFU52J6SK%2B8zqjx%2BZqSzuGkFbZ75BOMvaj8j4Q3dWkTKi6W5%2FIQBIy6AsdBQXwPVSAQ6DCevYt9QJcSt4wwip7hDoq8I7ZWHI4IrFcfXu4YRLwYeKYo6okBdAtjmqOpIdq6Tzf73dYUZshJ%2F8KoP67fRa1yfHynGEtwVq5G2655gUonVayU6fuEf4sEbJBjRJzUrM573lnka8jlIkXXNciEJzEEDSgrsxfhJjMCs%2BVlI9%2BF25c9pKd7ynHzUZ4qaoT36zHwxl%2FK2ZikklPS5hZGxTSkKTV%2F98uQCWXZCEHVS71uUQ2M0v8e6a51mrL2pdZFpVwdbbAUD0Cx6InpmF7msJFUe3mV%2BYEedRP9qPJGaWqdSO3ubwfL9003PKp1ZeDjoPD0kjkL%2BmD5%2BC0k8pcF6Z9ZPcMpayrQVt9lFnfHFo3Zjp7jDWKWyssEuMKbzh2nE0qmr%2FiK%2FIgTYx5yv7bO4MhJOsOI2DQ0c%2BriugdLwbI90qq%2BgQ9%2B3IJn84I63%2FabN93hFshbCEmdQZifWWZddBPMCxRI19%2BhC2QERiIjKKj5aiAFSv8tpp3%2BJS1L9aT1lKuVQhrMOyXg8oGOqUBHokxqAK91ezMJses8w0Hl3ambzyb7OKWaEFk0cwyKX7xrCW2hBXgaFaqNycCIxbOQRk8V4mERxM3sxNM5UhW55qc2PnoTWLU96QvWhUwGRRH70dsJ2N5zAKGyptAcSi8iyj6FUs7SBB6BrAOG0oMszj2gIM035UFWu%2FAkD9DgaqMtZzQn2mNR9pK9l7r1MahixFH9d9r1sGYnSZD3Rxs%2BavlhtJT&X-Amz-Signature=792c29237f2b767e12537bd3ac3a8b8c047238423a476f62820a14f3a2e6726e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664GUFQ4LW%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040519Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCL4zm%2FQLhdUDyPSNb%2F62Zvq5cO8dPR0eiXxi6%2FT3k1KAIgeg4R1ENmehUTi8FNI31fNzP3HOqJQqdAeJIMTykUt1cq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDJif8368vuMw3L%2FEBircAw4Yz%2BMVBP6lCF1xsPrnS%2B3kDFDM5FxpV7zARBOx6np4UF9K8ArFU52J6SK%2B8zqjx%2BZqSzuGkFbZ75BOMvaj8j4Q3dWkTKi6W5%2FIQBIy6AsdBQXwPVSAQ6DCevYt9QJcSt4wwip7hDoq8I7ZWHI4IrFcfXu4YRLwYeKYo6okBdAtjmqOpIdq6Tzf73dYUZshJ%2F8KoP67fRa1yfHynGEtwVq5G2655gUonVayU6fuEf4sEbJBjRJzUrM573lnka8jlIkXXNciEJzEEDSgrsxfhJjMCs%2BVlI9%2BF25c9pKd7ynHzUZ4qaoT36zHwxl%2FK2ZikklPS5hZGxTSkKTV%2F98uQCWXZCEHVS71uUQ2M0v8e6a51mrL2pdZFpVwdbbAUD0Cx6InpmF7msJFUe3mV%2BYEedRP9qPJGaWqdSO3ubwfL9003PKp1ZeDjoPD0kjkL%2BmD5%2BC0k8pcF6Z9ZPcMpayrQVt9lFnfHFo3Zjp7jDWKWyssEuMKbzh2nE0qmr%2FiK%2FIgTYx5yv7bO4MhJOsOI2DQ0c%2BriugdLwbI90qq%2BgQ9%2B3IJn84I63%2FabN93hFshbCEmdQZifWWZddBPMCxRI19%2BhC2QERiIjKKj5aiAFSv8tpp3%2BJS1L9aT1lKuVQhrMOyXg8oGOqUBHokxqAK91ezMJses8w0Hl3ambzyb7OKWaEFk0cwyKX7xrCW2hBXgaFaqNycCIxbOQRk8V4mERxM3sxNM5UhW55qc2PnoTWLU96QvWhUwGRRH70dsJ2N5zAKGyptAcSi8iyj6FUs7SBB6BrAOG0oMszj2gIM035UFWu%2FAkD9DgaqMtZzQn2mNR9pK9l7r1MahixFH9d9r1sGYnSZD3Rxs%2BavlhtJT&X-Amz-Signature=db761ecc20206669da50b7ab5f530fff599b94716c6f3aa2f52175d691400021&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T5WN3SBG%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG25i9D%2BI2noAo6QK10F%2Bpfkxa7anjEdK6bK156AYz18AiBvZtrxvLLHmjmwWwyijJe8E2cmRL4O92NA4pI0xsnjMir%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMR%2BGl6WAR6SMudxoeKtwDORQjh2o44srsVN6NkJyoc%2Ba1KON31MLEFb1cikocKaVi0zijnf24E8VMH6s5nUGNZglYlg0ILduFFiu0FEPuWPa%2FGiu0e49zrbwDvk%2B8rI6IGvZDCz72qPQyigk7HrD75HMZJ9MLf%2B6cavKO3W4kiYnj1dSvHwLNr2BehJok4CQnLS9Edv909SFOpKBtKY4McXXgDv%2BjcUtqX%2F0GSFjRyrP2x8VnEtLnR%2FBx7eW5mCt8fMcD9jgAt63iHxTxc%2BdLXF2YvVC%2FEvemy6aY4qG%2FQslasK44Nkfgxr65TtGi8B5409QZ0CAPYBrjJhGE0PK%2BAFSBsDH41yOjgsublHtVhRQFHjhOpB4BwfkPiq%2BEPTmylVFja2NDcWOSFmxnf%2F1VXm1T6LDGG8Lw2jBOnKpEA%2BugH0omCnY%2BrKVS3eU3gdN1qGh63Fixa01%2BiI%2Fy7NTGijTLMUYdQBB97cI2E9P5tDHxMTSF%2BzWqmfS%2FZ96TEZfBrij4dK1QjC2VH5bEmTP3GFb6Ost%2FiFXzhNpCM%2F%2BmsgHpi%2Bgre5y1yRHfmSZBrgo8FsKNQcuRA%2Fbd41J49h9j2gskWsq5p%2FmGQJcE16S35x6VfbUkGeexR9s0Sq7Zbq8LHXfwIvHa2O%2Fqu6Yw0JyDygY6pgEeylBEC5TEthoD1ZuvZo5UuSwDg13I7VqygoRGYbC%2BBRshzWzN%2FJW9wSqv%2BD2QjcHMqJkr6Yoz50b7wZwnu710zw73s8PpV1noGdlRUwU%2Fxca6MO7Lh%2BOMYwe2J1FXeuOVJPvHe2wpOrwWJrXQLpEnFTAYsj2YfHCw%2BjSYisuWciicyQv%2FBHMiF3rg%2BMI4P2c5cDqyCfvSujyKCrzvpN85pvRpLxWp&X-Amz-Signature=c9ced17f5e66e338ffa7c19cc17c0c3611093f782ff35c1f644a06b8883bd23d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T5WN3SBG%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG25i9D%2BI2noAo6QK10F%2Bpfkxa7anjEdK6bK156AYz18AiBvZtrxvLLHmjmwWwyijJe8E2cmRL4O92NA4pI0xsnjMir%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMR%2BGl6WAR6SMudxoeKtwDORQjh2o44srsVN6NkJyoc%2Ba1KON31MLEFb1cikocKaVi0zijnf24E8VMH6s5nUGNZglYlg0ILduFFiu0FEPuWPa%2FGiu0e49zrbwDvk%2B8rI6IGvZDCz72qPQyigk7HrD75HMZJ9MLf%2B6cavKO3W4kiYnj1dSvHwLNr2BehJok4CQnLS9Edv909SFOpKBtKY4McXXgDv%2BjcUtqX%2F0GSFjRyrP2x8VnEtLnR%2FBx7eW5mCt8fMcD9jgAt63iHxTxc%2BdLXF2YvVC%2FEvemy6aY4qG%2FQslasK44Nkfgxr65TtGi8B5409QZ0CAPYBrjJhGE0PK%2BAFSBsDH41yOjgsublHtVhRQFHjhOpB4BwfkPiq%2BEPTmylVFja2NDcWOSFmxnf%2F1VXm1T6LDGG8Lw2jBOnKpEA%2BugH0omCnY%2BrKVS3eU3gdN1qGh63Fixa01%2BiI%2Fy7NTGijTLMUYdQBB97cI2E9P5tDHxMTSF%2BzWqmfS%2FZ96TEZfBrij4dK1QjC2VH5bEmTP3GFb6Ost%2FiFXzhNpCM%2F%2BmsgHpi%2Bgre5y1yRHfmSZBrgo8FsKNQcuRA%2Fbd41J49h9j2gskWsq5p%2FmGQJcE16S35x6VfbUkGeexR9s0Sq7Zbq8LHXfwIvHa2O%2Fqu6Yw0JyDygY6pgEeylBEC5TEthoD1ZuvZo5UuSwDg13I7VqygoRGYbC%2BBRshzWzN%2FJW9wSqv%2BD2QjcHMqJkr6Yoz50b7wZwnu710zw73s8PpV1noGdlRUwU%2Fxca6MO7Lh%2BOMYwe2J1FXeuOVJPvHe2wpOrwWJrXQLpEnFTAYsj2YfHCw%2BjSYisuWciicyQv%2FBHMiF3rg%2BMI4P2c5cDqyCfvSujyKCrzvpN85pvRpLxWp&X-Amz-Signature=82b2f6b9c39bece3c7d74cea2735de682399fc68710283555a64e924c6a6c1da&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T5WN3SBG%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG25i9D%2BI2noAo6QK10F%2Bpfkxa7anjEdK6bK156AYz18AiBvZtrxvLLHmjmwWwyijJe8E2cmRL4O92NA4pI0xsnjMir%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMR%2BGl6WAR6SMudxoeKtwDORQjh2o44srsVN6NkJyoc%2Ba1KON31MLEFb1cikocKaVi0zijnf24E8VMH6s5nUGNZglYlg0ILduFFiu0FEPuWPa%2FGiu0e49zrbwDvk%2B8rI6IGvZDCz72qPQyigk7HrD75HMZJ9MLf%2B6cavKO3W4kiYnj1dSvHwLNr2BehJok4CQnLS9Edv909SFOpKBtKY4McXXgDv%2BjcUtqX%2F0GSFjRyrP2x8VnEtLnR%2FBx7eW5mCt8fMcD9jgAt63iHxTxc%2BdLXF2YvVC%2FEvemy6aY4qG%2FQslasK44Nkfgxr65TtGi8B5409QZ0CAPYBrjJhGE0PK%2BAFSBsDH41yOjgsublHtVhRQFHjhOpB4BwfkPiq%2BEPTmylVFja2NDcWOSFmxnf%2F1VXm1T6LDGG8Lw2jBOnKpEA%2BugH0omCnY%2BrKVS3eU3gdN1qGh63Fixa01%2BiI%2Fy7NTGijTLMUYdQBB97cI2E9P5tDHxMTSF%2BzWqmfS%2FZ96TEZfBrij4dK1QjC2VH5bEmTP3GFb6Ost%2FiFXzhNpCM%2F%2BmsgHpi%2Bgre5y1yRHfmSZBrgo8FsKNQcuRA%2Fbd41J49h9j2gskWsq5p%2FmGQJcE16S35x6VfbUkGeexR9s0Sq7Zbq8LHXfwIvHa2O%2Fqu6Yw0JyDygY6pgEeylBEC5TEthoD1ZuvZo5UuSwDg13I7VqygoRGYbC%2BBRshzWzN%2FJW9wSqv%2BD2QjcHMqJkr6Yoz50b7wZwnu710zw73s8PpV1noGdlRUwU%2Fxca6MO7Lh%2BOMYwe2J1FXeuOVJPvHe2wpOrwWJrXQLpEnFTAYsj2YfHCw%2BjSYisuWciicyQv%2FBHMiF3rg%2BMI4P2c5cDqyCfvSujyKCrzvpN85pvRpLxWp&X-Amz-Signature=db58da8cfd964fab8670f91e72e2513a38e796463106f3ed843622b935832cc6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VLYFELC5%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGWOWj4EtQ76zZsZVXkciSHxxZkVDxn5Y8%2BxyBPL2L5VAiEAxEL5KE9qCMQ%2BER3ovjM%2BHTGzFWfEcQ1JNEmiDz49lLQq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDM0oycjLW6v0VoAqfyrcA8zrSVw%2Fi%2FV6VLpe3MrR1uYZ6jS4kRIHWNH5XzQe3NVZegfD3A9bNh0aJJ1f%2FNWcB97Ip5aGaNJzFx%2FAgsX6vU2Xwk4qpPnMoIdBNrFXMW8nScVBM2juWI8Q5zMweVZ3lh7X1oeSEgNups9%2Bvzgozy4PkkLOeqsumQFlf12q%2BwUA3KhePURvl9%2FUWZbf7jwr30c4PmFWMgKn%2B%2B0qG%2BjLAstvfVfITDADtFj6aJLMdJdYAaq8ot0dXx61GshHyXwyAqUa6566O1NGb9dDZtebqJ%2FR%2FD5%2F1guBw07GsCapbPLOuH4Xm2VKROwC%2FmmXOXOt9DYDH2Xe31Az5ClH0ol%2FMLgDmAeMzLfuSAI5lsetEAllYqWAtOCugOLML8mp0m6YvLrFWw8zQLTgtGvT4OtjnhEchBZNNx7POk%2B3fFRE5XgzIxw8SoYyw5T6jG6qURItr45kkyeBq1qn5Fxkx7NuxeBXi3VB91V2%2FgTxuuD6zg0bmY5z1Zclr%2FLqez2aKfhkHyx%2BQmzHGWCXtfDGyTADF8nY2yDCpDgjuMKIatNTsGV12%2BrP2Zrb1lvftFjYkeH8BxsSVMyRpT7hHTwQKIhUoLzYxo92SeolgyNIebtObj6jKn%2FhpXuZiNjJEpshMPCWg8oGOqUB3XCGH36CXTOe%2B2FLy3KByousDhtxUwW7f6q2DHBrZsh0zOj58ZV0k88rcgjerhcOsxUjJjzzAC84OdV4quMqUEfUrPShUKn3LG8he8GqGMjrwOMhlw77Npt4YcI70CV3dgC2TynzDg5wwc6TwIi19Cga4X4v%2FLQg9jWkDTcZnon4oBYqMvrpFex8kCpghFW7KcC6xAL1a5tK1I6BBUlux2h44dpd&X-Amz-Signature=6839d4d2bddb198cbfed94e60ac90555cd0ea452aa5a87aadd0f42714b116d31&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VLYFELC5%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGWOWj4EtQ76zZsZVXkciSHxxZkVDxn5Y8%2BxyBPL2L5VAiEAxEL5KE9qCMQ%2BER3ovjM%2BHTGzFWfEcQ1JNEmiDz49lLQq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDM0oycjLW6v0VoAqfyrcA8zrSVw%2Fi%2FV6VLpe3MrR1uYZ6jS4kRIHWNH5XzQe3NVZegfD3A9bNh0aJJ1f%2FNWcB97Ip5aGaNJzFx%2FAgsX6vU2Xwk4qpPnMoIdBNrFXMW8nScVBM2juWI8Q5zMweVZ3lh7X1oeSEgNups9%2Bvzgozy4PkkLOeqsumQFlf12q%2BwUA3KhePURvl9%2FUWZbf7jwr30c4PmFWMgKn%2B%2B0qG%2BjLAstvfVfITDADtFj6aJLMdJdYAaq8ot0dXx61GshHyXwyAqUa6566O1NGb9dDZtebqJ%2FR%2FD5%2F1guBw07GsCapbPLOuH4Xm2VKROwC%2FmmXOXOt9DYDH2Xe31Az5ClH0ol%2FMLgDmAeMzLfuSAI5lsetEAllYqWAtOCugOLML8mp0m6YvLrFWw8zQLTgtGvT4OtjnhEchBZNNx7POk%2B3fFRE5XgzIxw8SoYyw5T6jG6qURItr45kkyeBq1qn5Fxkx7NuxeBXi3VB91V2%2FgTxuuD6zg0bmY5z1Zclr%2FLqez2aKfhkHyx%2BQmzHGWCXtfDGyTADF8nY2yDCpDgjuMKIatNTsGV12%2BrP2Zrb1lvftFjYkeH8BxsSVMyRpT7hHTwQKIhUoLzYxo92SeolgyNIebtObj6jKn%2FhpXuZiNjJEpshMPCWg8oGOqUB3XCGH36CXTOe%2B2FLy3KByousDhtxUwW7f6q2DHBrZsh0zOj58ZV0k88rcgjerhcOsxUjJjzzAC84OdV4quMqUEfUrPShUKn3LG8he8GqGMjrwOMhlw77Npt4YcI70CV3dgC2TynzDg5wwc6TwIi19Cga4X4v%2FLQg9jWkDTcZnon4oBYqMvrpFex8kCpghFW7KcC6xAL1a5tK1I6BBUlux2h44dpd&X-Amz-Signature=d33a01c97d9b1988842418f328eafb953af1945a792256d4da1b4e510b36e3d8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VLYFELC5%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGWOWj4EtQ76zZsZVXkciSHxxZkVDxn5Y8%2BxyBPL2L5VAiEAxEL5KE9qCMQ%2BER3ovjM%2BHTGzFWfEcQ1JNEmiDz49lLQq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDM0oycjLW6v0VoAqfyrcA8zrSVw%2Fi%2FV6VLpe3MrR1uYZ6jS4kRIHWNH5XzQe3NVZegfD3A9bNh0aJJ1f%2FNWcB97Ip5aGaNJzFx%2FAgsX6vU2Xwk4qpPnMoIdBNrFXMW8nScVBM2juWI8Q5zMweVZ3lh7X1oeSEgNups9%2Bvzgozy4PkkLOeqsumQFlf12q%2BwUA3KhePURvl9%2FUWZbf7jwr30c4PmFWMgKn%2B%2B0qG%2BjLAstvfVfITDADtFj6aJLMdJdYAaq8ot0dXx61GshHyXwyAqUa6566O1NGb9dDZtebqJ%2FR%2FD5%2F1guBw07GsCapbPLOuH4Xm2VKROwC%2FmmXOXOt9DYDH2Xe31Az5ClH0ol%2FMLgDmAeMzLfuSAI5lsetEAllYqWAtOCugOLML8mp0m6YvLrFWw8zQLTgtGvT4OtjnhEchBZNNx7POk%2B3fFRE5XgzIxw8SoYyw5T6jG6qURItr45kkyeBq1qn5Fxkx7NuxeBXi3VB91V2%2FgTxuuD6zg0bmY5z1Zclr%2FLqez2aKfhkHyx%2BQmzHGWCXtfDGyTADF8nY2yDCpDgjuMKIatNTsGV12%2BrP2Zrb1lvftFjYkeH8BxsSVMyRpT7hHTwQKIhUoLzYxo92SeolgyNIebtObj6jKn%2FhpXuZiNjJEpshMPCWg8oGOqUB3XCGH36CXTOe%2B2FLy3KByousDhtxUwW7f6q2DHBrZsh0zOj58ZV0k88rcgjerhcOsxUjJjzzAC84OdV4quMqUEfUrPShUKn3LG8he8GqGMjrwOMhlw77Npt4YcI70CV3dgC2TynzDg5wwc6TwIi19Cga4X4v%2FLQg9jWkDTcZnon4oBYqMvrpFex8kCpghFW7KcC6xAL1a5tK1I6BBUlux2h44dpd&X-Amz-Signature=668a32043eafe9c8c3d517ce15723553a2dba30bb4ab72b2f45998f7328e6d1f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VLYFELC5%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGWOWj4EtQ76zZsZVXkciSHxxZkVDxn5Y8%2BxyBPL2L5VAiEAxEL5KE9qCMQ%2BER3ovjM%2BHTGzFWfEcQ1JNEmiDz49lLQq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDM0oycjLW6v0VoAqfyrcA8zrSVw%2Fi%2FV6VLpe3MrR1uYZ6jS4kRIHWNH5XzQe3NVZegfD3A9bNh0aJJ1f%2FNWcB97Ip5aGaNJzFx%2FAgsX6vU2Xwk4qpPnMoIdBNrFXMW8nScVBM2juWI8Q5zMweVZ3lh7X1oeSEgNups9%2Bvzgozy4PkkLOeqsumQFlf12q%2BwUA3KhePURvl9%2FUWZbf7jwr30c4PmFWMgKn%2B%2B0qG%2BjLAstvfVfITDADtFj6aJLMdJdYAaq8ot0dXx61GshHyXwyAqUa6566O1NGb9dDZtebqJ%2FR%2FD5%2F1guBw07GsCapbPLOuH4Xm2VKROwC%2FmmXOXOt9DYDH2Xe31Az5ClH0ol%2FMLgDmAeMzLfuSAI5lsetEAllYqWAtOCugOLML8mp0m6YvLrFWw8zQLTgtGvT4OtjnhEchBZNNx7POk%2B3fFRE5XgzIxw8SoYyw5T6jG6qURItr45kkyeBq1qn5Fxkx7NuxeBXi3VB91V2%2FgTxuuD6zg0bmY5z1Zclr%2FLqez2aKfhkHyx%2BQmzHGWCXtfDGyTADF8nY2yDCpDgjuMKIatNTsGV12%2BrP2Zrb1lvftFjYkeH8BxsSVMyRpT7hHTwQKIhUoLzYxo92SeolgyNIebtObj6jKn%2FhpXuZiNjJEpshMPCWg8oGOqUB3XCGH36CXTOe%2B2FLy3KByousDhtxUwW7f6q2DHBrZsh0zOj58ZV0k88rcgjerhcOsxUjJjzzAC84OdV4quMqUEfUrPShUKn3LG8he8GqGMjrwOMhlw77Npt4YcI70CV3dgC2TynzDg5wwc6TwIi19Cga4X4v%2FLQg9jWkDTcZnon4oBYqMvrpFex8kCpghFW7KcC6xAL1a5tK1I6BBUlux2h44dpd&X-Amz-Signature=16220235610fdd3edfa754a5e8a5532d5bfd8b5b0133da123e31f1a597c04c0f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662I3KVEPF%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCeIDMj3W%2BhLszfxGPvTNEBZcmgNudR97WFzZ0SO7WfoQIhAOt2YLaa%2B7GDn8Vcbfj4xcSD5WscF2ss8ZWiFViba9UzKv8DCFwQABoMNjM3NDIzMTgzODA1Igw3lRJKSigzleyf9Okq3AOYAoARCUW3xrRMbiJOl6waiZt1%2BQ5%2BODSFxrX6%2BnTq5mA%2FzIdY1gkin5tM5D5yskuYj16B6RhVqXI6dELvb3SvbNtsRS%2FSYfxYTFPYdCQeB7UVaxnDpB6aZwbVPJ%2B7FJqTRh%2BBQA7Gxxkmzvai4YcQ2vhF4qsaiQS1aAlCq6FYpZgeTixcsaG15%2BeSttUEU6Dt4Pm4qImfGzZRFdl53l%2FbsxFI5UMTrJ4MfbVMQpcaWUkw9Cckt5TMF6h63EGBmgq0sNHaEtXT2arupFgymch26vuEXYgsTfvaPWdB0X3LKT5I8l3gnO%2F9KB%2B96mPc%2BTcNf9VRhlKciTlccccfZrAEUe3H3zRpWOIKJvKdtMPjWsdcPh6oTrnk4U%2BVvzAoEtx7X9zn7f27bdhm8A7P6N%2BhvN3TZAR51ck04gaUmGVPi0XOG5Rdj7rZVdF2v%2FTn02nY1JOnqgfO4DcyOPhCuZXCIiT7tRWNk2qGcg5jtLSQwgY8Eqn9iE5VbYRBy0MN9g08TeKtYvYx%2FhDx1A%2FeM5WYRGgDuuX4E5rfJJmbtsCJm7gq1hDWSqXyeR2vgAc0Yc9kHLhYtJWA7Lc1aSNEWZwbGKsEdDrJfOVBzoe6vLmaPSBNqzF3A6mtm6UeRTD1l4PKBjqkAeNIp1LzJ6Y8g2Hq2v9lPEzvEDWCbg7y%2Fo%2BW30d3e%2BGhDpvj%2FL0CksWIQfa32XZCsGzJKyhoDrBd2y6z7m91IlwZL05Uicp9Ctr2FbGnnQA%2FeIPIr2zv7NQxLfGmHNyXt7vEaSpFvbVvo%2FOYJwMH62ePFt8TRWeWeltO7RTuVTYz8Po2RDNuhjBhwG059fn3BJIMIFd4drMz9d9uNAoWx3sJl1Pf&X-Amz-Signature=36c7ab86ca5786e15bdec2fece95c94354b236b4f301118d7d153484f54abb4b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662I3KVEPF%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCeIDMj3W%2BhLszfxGPvTNEBZcmgNudR97WFzZ0SO7WfoQIhAOt2YLaa%2B7GDn8Vcbfj4xcSD5WscF2ss8ZWiFViba9UzKv8DCFwQABoMNjM3NDIzMTgzODA1Igw3lRJKSigzleyf9Okq3AOYAoARCUW3xrRMbiJOl6waiZt1%2BQ5%2BODSFxrX6%2BnTq5mA%2FzIdY1gkin5tM5D5yskuYj16B6RhVqXI6dELvb3SvbNtsRS%2FSYfxYTFPYdCQeB7UVaxnDpB6aZwbVPJ%2B7FJqTRh%2BBQA7Gxxkmzvai4YcQ2vhF4qsaiQS1aAlCq6FYpZgeTixcsaG15%2BeSttUEU6Dt4Pm4qImfGzZRFdl53l%2FbsxFI5UMTrJ4MfbVMQpcaWUkw9Cckt5TMF6h63EGBmgq0sNHaEtXT2arupFgymch26vuEXYgsTfvaPWdB0X3LKT5I8l3gnO%2F9KB%2B96mPc%2BTcNf9VRhlKciTlccccfZrAEUe3H3zRpWOIKJvKdtMPjWsdcPh6oTrnk4U%2BVvzAoEtx7X9zn7f27bdhm8A7P6N%2BhvN3TZAR51ck04gaUmGVPi0XOG5Rdj7rZVdF2v%2FTn02nY1JOnqgfO4DcyOPhCuZXCIiT7tRWNk2qGcg5jtLSQwgY8Eqn9iE5VbYRBy0MN9g08TeKtYvYx%2FhDx1A%2FeM5WYRGgDuuX4E5rfJJmbtsCJm7gq1hDWSqXyeR2vgAc0Yc9kHLhYtJWA7Lc1aSNEWZwbGKsEdDrJfOVBzoe6vLmaPSBNqzF3A6mtm6UeRTD1l4PKBjqkAeNIp1LzJ6Y8g2Hq2v9lPEzvEDWCbg7y%2Fo%2BW30d3e%2BGhDpvj%2FL0CksWIQfa32XZCsGzJKyhoDrBd2y6z7m91IlwZL05Uicp9Ctr2FbGnnQA%2FeIPIr2zv7NQxLfGmHNyXt7vEaSpFvbVvo%2FOYJwMH62ePFt8TRWeWeltO7RTuVTYz8Po2RDNuhjBhwG059fn3BJIMIFd4drMz9d9uNAoWx3sJl1Pf&X-Amz-Signature=63cc325904b88fc2b97ea4517d2651c951c7e6817c667fb1c89b8749a9421a80&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662I3KVEPF%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCeIDMj3W%2BhLszfxGPvTNEBZcmgNudR97WFzZ0SO7WfoQIhAOt2YLaa%2B7GDn8Vcbfj4xcSD5WscF2ss8ZWiFViba9UzKv8DCFwQABoMNjM3NDIzMTgzODA1Igw3lRJKSigzleyf9Okq3AOYAoARCUW3xrRMbiJOl6waiZt1%2BQ5%2BODSFxrX6%2BnTq5mA%2FzIdY1gkin5tM5D5yskuYj16B6RhVqXI6dELvb3SvbNtsRS%2FSYfxYTFPYdCQeB7UVaxnDpB6aZwbVPJ%2B7FJqTRh%2BBQA7Gxxkmzvai4YcQ2vhF4qsaiQS1aAlCq6FYpZgeTixcsaG15%2BeSttUEU6Dt4Pm4qImfGzZRFdl53l%2FbsxFI5UMTrJ4MfbVMQpcaWUkw9Cckt5TMF6h63EGBmgq0sNHaEtXT2arupFgymch26vuEXYgsTfvaPWdB0X3LKT5I8l3gnO%2F9KB%2B96mPc%2BTcNf9VRhlKciTlccccfZrAEUe3H3zRpWOIKJvKdtMPjWsdcPh6oTrnk4U%2BVvzAoEtx7X9zn7f27bdhm8A7P6N%2BhvN3TZAR51ck04gaUmGVPi0XOG5Rdj7rZVdF2v%2FTn02nY1JOnqgfO4DcyOPhCuZXCIiT7tRWNk2qGcg5jtLSQwgY8Eqn9iE5VbYRBy0MN9g08TeKtYvYx%2FhDx1A%2FeM5WYRGgDuuX4E5rfJJmbtsCJm7gq1hDWSqXyeR2vgAc0Yc9kHLhYtJWA7Lc1aSNEWZwbGKsEdDrJfOVBzoe6vLmaPSBNqzF3A6mtm6UeRTD1l4PKBjqkAeNIp1LzJ6Y8g2Hq2v9lPEzvEDWCbg7y%2Fo%2BW30d3e%2BGhDpvj%2FL0CksWIQfa32XZCsGzJKyhoDrBd2y6z7m91IlwZL05Uicp9Ctr2FbGnnQA%2FeIPIr2zv7NQxLfGmHNyXt7vEaSpFvbVvo%2FOYJwMH62ePFt8TRWeWeltO7RTuVTYz8Po2RDNuhjBhwG059fn3BJIMIFd4drMz9d9uNAoWx3sJl1Pf&X-Amz-Signature=c119b38759364b474a6082575a7aef551d41daf614765e68f3a6c5158275badb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662I3KVEPF%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040520Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCeIDMj3W%2BhLszfxGPvTNEBZcmgNudR97WFzZ0SO7WfoQIhAOt2YLaa%2B7GDn8Vcbfj4xcSD5WscF2ss8ZWiFViba9UzKv8DCFwQABoMNjM3NDIzMTgzODA1Igw3lRJKSigzleyf9Okq3AOYAoARCUW3xrRMbiJOl6waiZt1%2BQ5%2BODSFxrX6%2BnTq5mA%2FzIdY1gkin5tM5D5yskuYj16B6RhVqXI6dELvb3SvbNtsRS%2FSYfxYTFPYdCQeB7UVaxnDpB6aZwbVPJ%2B7FJqTRh%2BBQA7Gxxkmzvai4YcQ2vhF4qsaiQS1aAlCq6FYpZgeTixcsaG15%2BeSttUEU6Dt4Pm4qImfGzZRFdl53l%2FbsxFI5UMTrJ4MfbVMQpcaWUkw9Cckt5TMF6h63EGBmgq0sNHaEtXT2arupFgymch26vuEXYgsTfvaPWdB0X3LKT5I8l3gnO%2F9KB%2B96mPc%2BTcNf9VRhlKciTlccccfZrAEUe3H3zRpWOIKJvKdtMPjWsdcPh6oTrnk4U%2BVvzAoEtx7X9zn7f27bdhm8A7P6N%2BhvN3TZAR51ck04gaUmGVPi0XOG5Rdj7rZVdF2v%2FTn02nY1JOnqgfO4DcyOPhCuZXCIiT7tRWNk2qGcg5jtLSQwgY8Eqn9iE5VbYRBy0MN9g08TeKtYvYx%2FhDx1A%2FeM5WYRGgDuuX4E5rfJJmbtsCJm7gq1hDWSqXyeR2vgAc0Yc9kHLhYtJWA7Lc1aSNEWZwbGKsEdDrJfOVBzoe6vLmaPSBNqzF3A6mtm6UeRTD1l4PKBjqkAeNIp1LzJ6Y8g2Hq2v9lPEzvEDWCbg7y%2Fo%2BW30d3e%2BGhDpvj%2FL0CksWIQfa32XZCsGzJKyhoDrBd2y6z7m91IlwZL05Uicp9Ctr2FbGnnQA%2FeIPIr2zv7NQxLfGmHNyXt7vEaSpFvbVvo%2FOYJwMH62ePFt8TRWeWeltO7RTuVTYz8Po2RDNuhjBhwG059fn3BJIMIFd4drMz9d9uNAoWx3sJl1Pf&X-Amz-Signature=5161da7950da7276dc83ff1fd13a048de8d1092091fe0f7e638227863c6adb43&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZDX7QJWX%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040521Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG8v9obN%2BryxOvzA6jDItkt7Sdf0lPoSeH%2BnHEivdpyaAiAgyec1saObWW%2F55765cUbfvKDHTgk2%2BPiE6lgVhjH1nir%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMdhY50Gwbd5i8E%2BbnKtwDMPfzYZ7J%2Fhb4dAa%2B%2BIZQi1BFONpF45U3GX7mbcA9kzr0R74rTntPi0NJTecxoMnqrqaYlFoQSUlk8MEf5aHGiIByovrEPG6FwWzwntY%2FP8csfUe%2BzI0bcXiu1pUBlAF96zcS2U3x%2BA%2FZ080Ud3456jLHERSY1Vr6FUxkN8GSeHh3e941yhbAr8Z8QbwLc0mIUbBnnlIUTQK9xEOwujIHG%2F422mtEnQ7I7doHFb8gWWTtSVG3oSFqJ6fFyiQAhw1K8WuMLTj30q%2F5072rTSDK3NPC7EgxuaY3BqTt37DsAPzCHptHAviVUj7%2BRy%2FfwVw7nEvwRn9fXERL0qM5Rw%2B1VjLxJg0c8zxMp8EMF7HdJbPXxtHgNaEEaHSlis9lQqEhTXy9dbhbEvkb%2FNdBoQC79ElF1fYlyFlfZZzJR4iwMrWvwNSSjbmrQaio%2FEmlQXg51gPm%2BjOL29ajv2vyBOu%2BMQEZ3L%2BuvHhbtgvx8sWey5%2BpTBH8v45IjjK%2Ft9CjcgM43Yi36GZGFLfSQAAFYhTaCsd1f61W04n%2FgfO1A%2FxMESWBbq8K486yfzHnsWrPiZ%2BXwH5XF023Risf5kz%2FHgV%2F6gutHl0axdVX1V5NCO%2BCASwxzMTEzBKnozJbOJcwpZeDygY6pgEVTaLkvAnlipRbh4mRZBGLYagZv6P5Pk1quGv2MMrahP%2FEHbPrIVImx%2BjS7W6pJPgppY0whDa6h1JhLrcg9fVEY5HVFg5sXxrnOAfyk4COC%2FC2eZDZjsQmW%2F9v3aUI%2FfIgOy4SZqUAbpF8Qq8WtY1Jwww9E2RmtF7liXBIOe1Hj2BHB17Ykp1It4F2%2FBPJZ5oEhgEsiZzulcwRvtlado5ywu0k2wrq&X-Amz-Signature=83b1e2a6867b576becc9da7fcfd89e6e6f270573a4689ccdee40a42c649580c4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZDX7QJWX%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040521Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG8v9obN%2BryxOvzA6jDItkt7Sdf0lPoSeH%2BnHEivdpyaAiAgyec1saObWW%2F55765cUbfvKDHTgk2%2BPiE6lgVhjH1nir%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMdhY50Gwbd5i8E%2BbnKtwDMPfzYZ7J%2Fhb4dAa%2B%2BIZQi1BFONpF45U3GX7mbcA9kzr0R74rTntPi0NJTecxoMnqrqaYlFoQSUlk8MEf5aHGiIByovrEPG6FwWzwntY%2FP8csfUe%2BzI0bcXiu1pUBlAF96zcS2U3x%2BA%2FZ080Ud3456jLHERSY1Vr6FUxkN8GSeHh3e941yhbAr8Z8QbwLc0mIUbBnnlIUTQK9xEOwujIHG%2F422mtEnQ7I7doHFb8gWWTtSVG3oSFqJ6fFyiQAhw1K8WuMLTj30q%2F5072rTSDK3NPC7EgxuaY3BqTt37DsAPzCHptHAviVUj7%2BRy%2FfwVw7nEvwRn9fXERL0qM5Rw%2B1VjLxJg0c8zxMp8EMF7HdJbPXxtHgNaEEaHSlis9lQqEhTXy9dbhbEvkb%2FNdBoQC79ElF1fYlyFlfZZzJR4iwMrWvwNSSjbmrQaio%2FEmlQXg51gPm%2BjOL29ajv2vyBOu%2BMQEZ3L%2BuvHhbtgvx8sWey5%2BpTBH8v45IjjK%2Ft9CjcgM43Yi36GZGFLfSQAAFYhTaCsd1f61W04n%2FgfO1A%2FxMESWBbq8K486yfzHnsWrPiZ%2BXwH5XF023Risf5kz%2FHgV%2F6gutHl0axdVX1V5NCO%2BCASwxzMTEzBKnozJbOJcwpZeDygY6pgEVTaLkvAnlipRbh4mRZBGLYagZv6P5Pk1quGv2MMrahP%2FEHbPrIVImx%2BjS7W6pJPgppY0whDa6h1JhLrcg9fVEY5HVFg5sXxrnOAfyk4COC%2FC2eZDZjsQmW%2F9v3aUI%2FfIgOy4SZqUAbpF8Qq8WtY1Jwww9E2RmtF7liXBIOe1Hj2BHB17Ykp1It4F2%2FBPJZ5oEhgEsiZzulcwRvtlado5ywu0k2wrq&X-Amz-Signature=e5540401f46c440e0f9d464994f4fc0854af11592117abf57077f1d8718fd927&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZDX7QJWX%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040521Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIG8v9obN%2BryxOvzA6jDItkt7Sdf0lPoSeH%2BnHEivdpyaAiAgyec1saObWW%2F55765cUbfvKDHTgk2%2BPiE6lgVhjH1nir%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMdhY50Gwbd5i8E%2BbnKtwDMPfzYZ7J%2Fhb4dAa%2B%2BIZQi1BFONpF45U3GX7mbcA9kzr0R74rTntPi0NJTecxoMnqrqaYlFoQSUlk8MEf5aHGiIByovrEPG6FwWzwntY%2FP8csfUe%2BzI0bcXiu1pUBlAF96zcS2U3x%2BA%2FZ080Ud3456jLHERSY1Vr6FUxkN8GSeHh3e941yhbAr8Z8QbwLc0mIUbBnnlIUTQK9xEOwujIHG%2F422mtEnQ7I7doHFb8gWWTtSVG3oSFqJ6fFyiQAhw1K8WuMLTj30q%2F5072rTSDK3NPC7EgxuaY3BqTt37DsAPzCHptHAviVUj7%2BRy%2FfwVw7nEvwRn9fXERL0qM5Rw%2B1VjLxJg0c8zxMp8EMF7HdJbPXxtHgNaEEaHSlis9lQqEhTXy9dbhbEvkb%2FNdBoQC79ElF1fYlyFlfZZzJR4iwMrWvwNSSjbmrQaio%2FEmlQXg51gPm%2BjOL29ajv2vyBOu%2BMQEZ3L%2BuvHhbtgvx8sWey5%2BpTBH8v45IjjK%2Ft9CjcgM43Yi36GZGFLfSQAAFYhTaCsd1f61W04n%2FgfO1A%2FxMESWBbq8K486yfzHnsWrPiZ%2BXwH5XF023Risf5kz%2FHgV%2F6gutHl0axdVX1V5NCO%2BCASwxzMTEzBKnozJbOJcwpZeDygY6pgEVTaLkvAnlipRbh4mRZBGLYagZv6P5Pk1quGv2MMrahP%2FEHbPrIVImx%2BjS7W6pJPgppY0whDa6h1JhLrcg9fVEY5HVFg5sXxrnOAfyk4COC%2FC2eZDZjsQmW%2F9v3aUI%2FfIgOy4SZqUAbpF8Qq8WtY1Jwww9E2RmtF7liXBIOe1Hj2BHB17Ykp1It4F2%2FBPJZ5oEhgEsiZzulcwRvtlado5ywu0k2wrq&X-Amz-Signature=8e1018875ba025c5d073749250b5e641413d230a2508fa503b8eaf8c573211e3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZBU7RGJ%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040521Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAInPDRh9ZBSrsvSeefFy7twMAHXQXBOWB8p%2Bm6SdhIGAiAF0UIBIEOC2feiNs%2F7%2BQ4ptRiRyDMgydnT2c%2BvXJR5qSr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMu6JBrZFCddbKpqyDKtwDaLn8cxa004uVtS1e3Z83bVJcidjz52k%2FMjz00SGipiy6hfOUhRZS0JY7LIHp08QAsQS9xsb7AaJP8t0oyueS4gRn3tM2wZ9VPeBstNoVFPMwzL0b8APMOBN4sxUCL3b7vDLoJlEwSUBcRHl7b3w5Ex1rJZ8LrW0rTpRBQ%2F2kJZYiSWis1DF7Zuyd3ZGzOyBwFNTXWFksKcm8uyZ4ccBI%2B3uDtEpCmVglO60fM%2BRcDRMoRcEl2%2FaQtpC9cOe5z0WJcR7GpEK4dKPeg2KXFB3iJJG9gaIxsuTAvH%2Flb1YHXwZ7jbApDt98LOtiDfYOJRkhTrVp3JEYTt5a0%2BD4GXFWt86%2FpCrPJwsKPZqLLnvFpvpjuZs1UXIDUnQp%2FlnRVOcrqYpbfp2v8yMWVGK0FV1TKJQmW2l3Si1bjruHaO%2FY9%2FYj38PLjzpWcAZmi7gt1Sqip0aOTbJwVisJb0LpjlDVPF4NLWiK1%2FH%2BWKsnb6ZJLUMTCdEfQLcN6vtROgPXPHcIDO2EDPNgH2TOrsPAuj0Vphy0y%2Brl4lDLH3%2FmL%2F5lZbcBZ2yu2gBpMicM%2Fx9sUUPrnm4DEnQppTmXftsYbWSKue05%2B8TVSKF94FXVxWUPQBZlGLdtv3sqIcRkwUcw%2F5aDygY6pgGRKk3%2FhkyOQdT3ih2owiNLZY%2FajTbvFUdntoY9KfSBqHXMhn2K%2BICGTNTSbY%2B5slPYx3XS7XP4mnYDcWK5%2F302jfjjTtYx5KPwh3jmRiqXG51UhZh5UZWr44yQiPj824qU5mFzu%2FsJm5rtaxBsTW3P7gPK0EYt21r%2BRuRUl3yo3h%2B68XTGdUBLVXkl9WLkxkg98jAcopHAMRFPtZBe8AQ1%2F5%2BSdZjL&X-Amz-Signature=d1ce5b596ced84ef36a18ef77f2c83ccdc18c46f1fe0baae411c9d79aca882bc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZBU7RGJ%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040521Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIAInPDRh9ZBSrsvSeefFy7twMAHXQXBOWB8p%2Bm6SdhIGAiAF0UIBIEOC2feiNs%2F7%2BQ4ptRiRyDMgydnT2c%2BvXJR5qSr%2FAwhcEAAaDDYzNzQyMzE4MzgwNSIMu6JBrZFCddbKpqyDKtwDaLn8cxa004uVtS1e3Z83bVJcidjz52k%2FMjz00SGipiy6hfOUhRZS0JY7LIHp08QAsQS9xsb7AaJP8t0oyueS4gRn3tM2wZ9VPeBstNoVFPMwzL0b8APMOBN4sxUCL3b7vDLoJlEwSUBcRHl7b3w5Ex1rJZ8LrW0rTpRBQ%2F2kJZYiSWis1DF7Zuyd3ZGzOyBwFNTXWFksKcm8uyZ4ccBI%2B3uDtEpCmVglO60fM%2BRcDRMoRcEl2%2FaQtpC9cOe5z0WJcR7GpEK4dKPeg2KXFB3iJJG9gaIxsuTAvH%2Flb1YHXwZ7jbApDt98LOtiDfYOJRkhTrVp3JEYTt5a0%2BD4GXFWt86%2FpCrPJwsKPZqLLnvFpvpjuZs1UXIDUnQp%2FlnRVOcrqYpbfp2v8yMWVGK0FV1TKJQmW2l3Si1bjruHaO%2FY9%2FYj38PLjzpWcAZmi7gt1Sqip0aOTbJwVisJb0LpjlDVPF4NLWiK1%2FH%2BWKsnb6ZJLUMTCdEfQLcN6vtROgPXPHcIDO2EDPNgH2TOrsPAuj0Vphy0y%2Brl4lDLH3%2FmL%2F5lZbcBZ2yu2gBpMicM%2Fx9sUUPrnm4DEnQppTmXftsYbWSKue05%2B8TVSKF94FXVxWUPQBZlGLdtv3sqIcRkwUcw%2F5aDygY6pgGRKk3%2FhkyOQdT3ih2owiNLZY%2FajTbvFUdntoY9KfSBqHXMhn2K%2BICGTNTSbY%2B5slPYx3XS7XP4mnYDcWK5%2F302jfjjTtYx5KPwh3jmRiqXG51UhZh5UZWr44yQiPj824qU5mFzu%2FsJm5rtaxBsTW3P7gPK0EYt21r%2BRuRUl3yo3h%2B68XTGdUBLVXkl9WLkxkg98jAcopHAMRFPtZBe8AQ1%2F5%2BSdZjL&X-Amz-Signature=0b950e859b286ebea3b721d08db3b19e14ec52f74c0a1864c1fa272cd46ff47a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YODZEZYT%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040522Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC7VL%2BdHUXezH3HTOnoIwc5I1kvnaqI6GnQjsDuFAlcUgIgQnh8tvx8nBh9VsUYghNMybhmhAwMPYU8lp4ekDnIlSIq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDJp1zmr76s%2FQMNDz6SrcAxmwP%2Fvwq1AnKbw4qMD3j95rSt9Hhi4LGaJlXt6kzd4JLUP8I6bACRthJypydacUNbh0ZbELcskRzg75A5xAI4NHqJpnwV091nBd1Q8ZX31HsJmZ1mAsnXKBUA3dI5yBsQF8a%2BNMG%2FuDA0NInAy9ZaVufLslRtKHQCEWuerfLkHGs007fAXRsW9MauBHC0AvmxaQskz15GhI5%2FH1YTIXg4Q7jwQiF4j4ytWrIwtIQm7tE4voWq1VYCoc5OQG56%2BBpBdqwXIbMviVbF06887k7dv5BZJ5RdOMy5qos%2FRsjImDC%2BJ1bzwhsJM8IpXPD5WM8A0TRjthY7cRkeGUWeNsXoTbuSsckfeqJAJY7FgZVybwVLRw1OFlug0n0E70ISieNMlo7L%2BwMC%2B4SGkpWGBqKs5DjLVxiZzRkBJs9El%2F3zUlivVRkFCzyGxGCQok0yUXQic6CWdKFDHDERdaqAURYrotkAOKnp7fnO0vZcr1WjQhGTSvWDfmfG6Z4W6F9yF3Jp4klgdiShsAGpnVNEzk0b5yJlTv8KU9dpROGUgOudJceit2buU9WvtPXtHzmfrAFBo2vqSGeor%2Bpzw6PlMFM6VjvNhuzjvBsvYa%2BT0fhlEMJuTRqcPs9aTMk6%2BEMPOWg8oGOqUBoY7fzsKA%2BvflS1Qc6h32Zn%2BB6ZY6try5l7Uy1NsrljoICUcWqOHiL9vwUKxTqYiIH69dF0fnkVWcoOImzOMropFofyMEc5oJfJuLUfN0%2FdTpkRXUxAWw0UOPJoD63z03sA%2FgN9ee0X6Fg0eY6OJ4VQRRyUKJ40N55v%2FVgCaWoksbSWzIoSznSjs3e1M599XnjbPu%2Fy9KdIer1nZxk1BfG6%2BvZnu1&X-Amz-Signature=dcf40e2eb99090b206b4f6ecb779a77d6fc8cb27b8bcd19802f374d10eff64cd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YODZEZYT%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040522Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC7VL%2BdHUXezH3HTOnoIwc5I1kvnaqI6GnQjsDuFAlcUgIgQnh8tvx8nBh9VsUYghNMybhmhAwMPYU8lp4ekDnIlSIq%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDJp1zmr76s%2FQMNDz6SrcAxmwP%2Fvwq1AnKbw4qMD3j95rSt9Hhi4LGaJlXt6kzd4JLUP8I6bACRthJypydacUNbh0ZbELcskRzg75A5xAI4NHqJpnwV091nBd1Q8ZX31HsJmZ1mAsnXKBUA3dI5yBsQF8a%2BNMG%2FuDA0NInAy9ZaVufLslRtKHQCEWuerfLkHGs007fAXRsW9MauBHC0AvmxaQskz15GhI5%2FH1YTIXg4Q7jwQiF4j4ytWrIwtIQm7tE4voWq1VYCoc5OQG56%2BBpBdqwXIbMviVbF06887k7dv5BZJ5RdOMy5qos%2FRsjImDC%2BJ1bzwhsJM8IpXPD5WM8A0TRjthY7cRkeGUWeNsXoTbuSsckfeqJAJY7FgZVybwVLRw1OFlug0n0E70ISieNMlo7L%2BwMC%2B4SGkpWGBqKs5DjLVxiZzRkBJs9El%2F3zUlivVRkFCzyGxGCQok0yUXQic6CWdKFDHDERdaqAURYrotkAOKnp7fnO0vZcr1WjQhGTSvWDfmfG6Z4W6F9yF3Jp4klgdiShsAGpnVNEzk0b5yJlTv8KU9dpROGUgOudJceit2buU9WvtPXtHzmfrAFBo2vqSGeor%2Bpzw6PlMFM6VjvNhuzjvBsvYa%2BT0fhlEMJuTRqcPs9aTMk6%2BEMPOWg8oGOqUBoY7fzsKA%2BvflS1Qc6h32Zn%2BB6ZY6try5l7Uy1NsrljoICUcWqOHiL9vwUKxTqYiIH69dF0fnkVWcoOImzOMropFofyMEc5oJfJuLUfN0%2FdTpkRXUxAWw0UOPJoD63z03sA%2FgN9ee0X6Fg0eY6OJ4VQRRyUKJ40N55v%2FVgCaWoksbSWzIoSznSjs3e1M599XnjbPu%2Fy9KdIer1nZxk1BfG6%2BvZnu1&X-Amz-Signature=dd929ffb1e259320075c34d39ee9eca2a4d12fb456a7792cc182ee056708a32e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TMA3WEDN%2F20251216%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251216T040522Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDY74XuuN2I4TUvjXQGY2R6iGPXfOH8Yv9hRBj3%2FY6s1AIhAMq847ydj8XkMBDjrTj5VZZLHU3hoNlNFrANV8uOU%2BG0Kv8DCFwQABoMNjM3NDIzMTgzODA1IgwR2upuEZ1tukeYBgUq3AMr7vPz5c2GNberABsvK2%2FqzDSiHBbz8vwy5SJld%2FgGIrt0bjstThRWkw0hzpH99DAMON1ap5O8jWqWKYFPuB8eW2pb5FGiW4zxiV6GiWLu4nm5VrxOAbzxEH5uWc4IxNOcoubsEqiSeC9Yu7vtIMpkIvayYRuJNjHJfvW34IT%2BZiyRS2N37Nhens7ni4vS6uzeu3SJXIsgm6Y1j91LbRRsua%2F45cgw%2B5Z4OFf7n7CjG2S5p%2BVAnkUBSeMJ8PWzS8K%2BUZVORkJvSq2xGUUWkoG4320Ms760hReUXhrOWkjPBemC1oyfuY1mvQzK2Mpmnc%2BI3kMTfyfYNarEFA8DSyDdN25fFaG%2FcB6LsMZmLWL3IGoKBkJ99%2FCqPj5uqfQSki%2FO6j9k6UlG29BHOGs1tRnvXG4VxqiqwhPPlDtqp%2FV93t8cq7LvOuVehMg7z3f5eLP94fJgfh7FzSxVUMaEDVnDTbZQgkFOQY7auqYA2qsWbFwGr%2F2ciA%2F73fcB3vDhZHUjlCdA1%2BptaRQ366qdSB%2F7GS4H1RVgr5zAeluF3glIdU3jNizqzyvXMt0YQ3aREsw4SW%2BXv7eMkOfZVZea7puA7uruZKf5fPNccy5e5Qj2Jgg8k7HDY9xjQ5K6RDD1l4PKBjqkAS0DT1dTSkt6g04W7S7NPPPI6zoYhfAACHUmTQCs4ydjuUCa9CasPF%2F99YbJhb7KxjkErB0fEeK5G4bTwIIt8yfSHJJVSMGedycHAe8cUDTBzHXS8gjlTUxjpkfWqlYM%2BVUhDWDfrpFNxvbeH2kbmN5EWn0p1OpS1NNoJAnwa7MnOfZWL44PiSYnl6tWrO9dPN%2BdtmrruCNZT87WBbJyz02RFba7&X-Amz-Signature=7868a52b4a168f7a70161ae841fa170aec92dd0a6ee01208af3e58f49894c8d0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
