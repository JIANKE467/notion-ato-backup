
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666OUSEQNN%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC2giiSAPmKi9AMvCK1GI7wqw%2Ft%2BE9wR8EacbCON3FBIQIgCjKJDQR2n6HLQQTO1czNWUC2g55xVOYMhbDjD%2Fnut6YqiAQIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEBw0X%2B%2BAw2jbxWthSrcAxbKVnHPmM99nXiQFQ5qxQq0GYuMYkT40YcyRyia%2FuDsxzwGxO3vc6C53GSp0amb%2FCC60pPoNvNKUyrVkxpJTaNi8bLoGDBQBOw0SpVcRrss9igEBYC2vTeIOwp7CV5kqfbHkPeGpT9a4aLrHxPX5NlAiwNPZn1VfnQ3cbvq5V%2BKFofPw%2Fdjh2yFw54BxqoJ%2BI6wd9s36d6c3hMZ%2FUw3%2BJ1pYYiXXKq%2F0Ousnx08ISo02dFyauFlyiNOtZyM2mj%2Fgp6EXjbm%2BC%2FvVJnjMOQrkb9nQkagVaQzvB0o0JpwUE86M3tP7R77rD%2BkK5O3Y1Ac5%2FSVUmwxqkFu3JepkM3oPEh1rdgzoErqTl8IFl9%2BHIG5Us70jSx%2FoA2xJ5pxAQEXlQw5XpBNAduYk4xfHPahNqT8BKRhYpKbXGK95%2F%2BouyXchfSj2PxchfsTYKWFHPQ6xykA9bFcPhTz8zsWMr6tqrdY%2FPzmtFtfQPTc9j5iRnCrh6OS0LkdRcyM7bdG%2BCl7VQzGxFVxFep6JpOS3MyKZIufotmfnma3PuNo%2FfqQ7ZI9pPhhq1a5BbcNuAnf%2BmmLIQyehgJKjV4FZndqaN2IfXpQbUmyqyeT1u6Inhw2FnB%2FaBCqAwrrPr7HhEgwMJShzcoGOqUBzze1QgxS2ZGopZchec%2Bekyad4MusUjyTfNAoz28C8kldSf0hRieja1tu5vGCKiCkxKk%2FEdDmnY58Q1%2FSeTGUJYZGRXKmYrWRdqqmj3O7%2BfLOtSA26%2Bb4%2BhjZLsXCPLUA4dCfwq3oMjuKK4GzW%2Bq78%2BUjneP0PE5S6%2B3YWxWZMTxjyzoMoQEKfrWFj8RQhs462fOU%2BwiA854ByeYpyEDcPjyfXQGb&X-Amz-Signature=32771e7e4a5a2f67642387a1b32c115f8487027f9261d95263146f8abcf47f37&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666OUSEQNN%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC2giiSAPmKi9AMvCK1GI7wqw%2Ft%2BE9wR8EacbCON3FBIQIgCjKJDQR2n6HLQQTO1czNWUC2g55xVOYMhbDjD%2Fnut6YqiAQIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEBw0X%2B%2BAw2jbxWthSrcAxbKVnHPmM99nXiQFQ5qxQq0GYuMYkT40YcyRyia%2FuDsxzwGxO3vc6C53GSp0amb%2FCC60pPoNvNKUyrVkxpJTaNi8bLoGDBQBOw0SpVcRrss9igEBYC2vTeIOwp7CV5kqfbHkPeGpT9a4aLrHxPX5NlAiwNPZn1VfnQ3cbvq5V%2BKFofPw%2Fdjh2yFw54BxqoJ%2BI6wd9s36d6c3hMZ%2FUw3%2BJ1pYYiXXKq%2F0Ousnx08ISo02dFyauFlyiNOtZyM2mj%2Fgp6EXjbm%2BC%2FvVJnjMOQrkb9nQkagVaQzvB0o0JpwUE86M3tP7R77rD%2BkK5O3Y1Ac5%2FSVUmwxqkFu3JepkM3oPEh1rdgzoErqTl8IFl9%2BHIG5Us70jSx%2FoA2xJ5pxAQEXlQw5XpBNAduYk4xfHPahNqT8BKRhYpKbXGK95%2F%2BouyXchfSj2PxchfsTYKWFHPQ6xykA9bFcPhTz8zsWMr6tqrdY%2FPzmtFtfQPTc9j5iRnCrh6OS0LkdRcyM7bdG%2BCl7VQzGxFVxFep6JpOS3MyKZIufotmfnma3PuNo%2FfqQ7ZI9pPhhq1a5BbcNuAnf%2BmmLIQyehgJKjV4FZndqaN2IfXpQbUmyqyeT1u6Inhw2FnB%2FaBCqAwrrPr7HhEgwMJShzcoGOqUBzze1QgxS2ZGopZchec%2Bekyad4MusUjyTfNAoz28C8kldSf0hRieja1tu5vGCKiCkxKk%2FEdDmnY58Q1%2FSeTGUJYZGRXKmYrWRdqqmj3O7%2BfLOtSA26%2Bb4%2BhjZLsXCPLUA4dCfwq3oMjuKK4GzW%2Bq78%2BUjneP0PE5S6%2B3YWxWZMTxjyzoMoQEKfrWFj8RQhs462fOU%2BwiA854ByeYpyEDcPjyfXQGb&X-Amz-Signature=8e7b428362ceeb753125faf162d1ec0731742cd369971e52fca320d309f0c7f1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666OUSEQNN%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041148Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQC2giiSAPmKi9AMvCK1GI7wqw%2Ft%2BE9wR8EacbCON3FBIQIgCjKJDQR2n6HLQQTO1czNWUC2g55xVOYMhbDjD%2Fnut6YqiAQIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEBw0X%2B%2BAw2jbxWthSrcAxbKVnHPmM99nXiQFQ5qxQq0GYuMYkT40YcyRyia%2FuDsxzwGxO3vc6C53GSp0amb%2FCC60pPoNvNKUyrVkxpJTaNi8bLoGDBQBOw0SpVcRrss9igEBYC2vTeIOwp7CV5kqfbHkPeGpT9a4aLrHxPX5NlAiwNPZn1VfnQ3cbvq5V%2BKFofPw%2Fdjh2yFw54BxqoJ%2BI6wd9s36d6c3hMZ%2FUw3%2BJ1pYYiXXKq%2F0Ousnx08ISo02dFyauFlyiNOtZyM2mj%2Fgp6EXjbm%2BC%2FvVJnjMOQrkb9nQkagVaQzvB0o0JpwUE86M3tP7R77rD%2BkK5O3Y1Ac5%2FSVUmwxqkFu3JepkM3oPEh1rdgzoErqTl8IFl9%2BHIG5Us70jSx%2FoA2xJ5pxAQEXlQw5XpBNAduYk4xfHPahNqT8BKRhYpKbXGK95%2F%2BouyXchfSj2PxchfsTYKWFHPQ6xykA9bFcPhTz8zsWMr6tqrdY%2FPzmtFtfQPTc9j5iRnCrh6OS0LkdRcyM7bdG%2BCl7VQzGxFVxFep6JpOS3MyKZIufotmfnma3PuNo%2FfqQ7ZI9pPhhq1a5BbcNuAnf%2BmmLIQyehgJKjV4FZndqaN2IfXpQbUmyqyeT1u6Inhw2FnB%2FaBCqAwrrPr7HhEgwMJShzcoGOqUBzze1QgxS2ZGopZchec%2Bekyad4MusUjyTfNAoz28C8kldSf0hRieja1tu5vGCKiCkxKk%2FEdDmnY58Q1%2FSeTGUJYZGRXKmYrWRdqqmj3O7%2BfLOtSA26%2Bb4%2BhjZLsXCPLUA4dCfwq3oMjuKK4GzW%2Bq78%2BUjneP0PE5S6%2B3YWxWZMTxjyzoMoQEKfrWFj8RQhs462fOU%2BwiA854ByeYpyEDcPjyfXQGb&X-Amz-Signature=29e2f68c9dfafa6ce670bea6bbd707d6128ac88325726f61b3837a56e19feb88&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RF72JK6I%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBCQtClkIrYiVGZfyT%2FzAbutEehaI%2BMFmfRRNfyisT03AiBMIqZD1huNDAusUblwlNR7D%2BEEPpHuSluzxvnPI5OojSqIBAiq%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMoomJ4xTilmaQFbK2KtwDZmkxUpIyjSZUywXZ0v39g72E1pT%2BLfoMEZ%2BIcFCGS5xN2g69tMJ2laX2%2BFcJCmLiED9mrmdjnajwG10gyEsS3saoK0pB0JlYgvz%2FARGjIHFJnp2CTsZvZNWDxGOGfuiVuOEVrOnbTD99JvZLbQrXx3ypzFDwTMlR7kVJqNbfelComgjbBkE6uy8AwmmpTWbJtOTD2T6GBoAw42KzzJk29XXwCYUc3AKL0Mvpn6DWWZyJQAdpzIRM%2FKh%2B3mOnJ%2BfqxPcKtLzRAqlmaXoCOEksFmgo4u7ESzcqI3tgJV1lSegNF9%2Frb7fwWUcYOxzPidEmInyn4HC%2BAbDl%2FkLfhC%2FhXDz0IfCMwIPYRBuU8cJ3G3%2FBeS3mwqx%2F%2FIvBRLNrSYypu%2Fcs5OCLYDGbYL8xXFw4J2YLT7OvInT6PRtlrM7TsOuzRTA5i%2BUmzU7p8Z98iP%2BvcEq3uElj8caAc51CgnswWmDoJv%2B80NXX37U%2FlFvvD9DJmayG2JMeuNVcPHncVsx6QJr%2F2BblBsy43aNTcYQCDCvT0QkGN1pOH1Affc7Z6N9Nf2BNvgYqGuHUDH9ckiofAnDIfN%2BoLP%2BgysbNVtgs%2F19qAeuejc6QhpnBhEE9Up8DGWHR56GwDrwXlaMwmMjMygY6pgFUu7L%2FuYiao%2Buxv4WAFAg0FAiSGn4dysDyuHOFmOahJTprLXsTfNn8wuKLDGT0vW%2BxeT1Xvd3ErvsOcuW%2FViNhVxtbvj%2F8F%2FXg1Ewn3oSVqK6BWU2Gy0KkegOsEdRt1VJuEMz1wn%2BNzO2zruq0viBwPgl9mkBO75KZ4PHrDkE68T1VRiP6Mgi5Vmr3etxNtXcS5sEirEZ%2F4WLYKLPvrYyeJE0AKFUe&X-Amz-Signature=8399d3039b95060919d0e310d8a18324b97ef5c745cd27cf89eea8129f94f949&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RF72JK6I%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBCQtClkIrYiVGZfyT%2FzAbutEehaI%2BMFmfRRNfyisT03AiBMIqZD1huNDAusUblwlNR7D%2BEEPpHuSluzxvnPI5OojSqIBAiq%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMoomJ4xTilmaQFbK2KtwDZmkxUpIyjSZUywXZ0v39g72E1pT%2BLfoMEZ%2BIcFCGS5xN2g69tMJ2laX2%2BFcJCmLiED9mrmdjnajwG10gyEsS3saoK0pB0JlYgvz%2FARGjIHFJnp2CTsZvZNWDxGOGfuiVuOEVrOnbTD99JvZLbQrXx3ypzFDwTMlR7kVJqNbfelComgjbBkE6uy8AwmmpTWbJtOTD2T6GBoAw42KzzJk29XXwCYUc3AKL0Mvpn6DWWZyJQAdpzIRM%2FKh%2B3mOnJ%2BfqxPcKtLzRAqlmaXoCOEksFmgo4u7ESzcqI3tgJV1lSegNF9%2Frb7fwWUcYOxzPidEmInyn4HC%2BAbDl%2FkLfhC%2FhXDz0IfCMwIPYRBuU8cJ3G3%2FBeS3mwqx%2F%2FIvBRLNrSYypu%2Fcs5OCLYDGbYL8xXFw4J2YLT7OvInT6PRtlrM7TsOuzRTA5i%2BUmzU7p8Z98iP%2BvcEq3uElj8caAc51CgnswWmDoJv%2B80NXX37U%2FlFvvD9DJmayG2JMeuNVcPHncVsx6QJr%2F2BblBsy43aNTcYQCDCvT0QkGN1pOH1Affc7Z6N9Nf2BNvgYqGuHUDH9ckiofAnDIfN%2BoLP%2BgysbNVtgs%2F19qAeuejc6QhpnBhEE9Up8DGWHR56GwDrwXlaMwmMjMygY6pgFUu7L%2FuYiao%2Buxv4WAFAg0FAiSGn4dysDyuHOFmOahJTprLXsTfNn8wuKLDGT0vW%2BxeT1Xvd3ErvsOcuW%2FViNhVxtbvj%2F8F%2FXg1Ewn3oSVqK6BWU2Gy0KkegOsEdRt1VJuEMz1wn%2BNzO2zruq0viBwPgl9mkBO75KZ4PHrDkE68T1VRiP6Mgi5Vmr3etxNtXcS5sEirEZ%2F4WLYKLPvrYyeJE0AKFUe&X-Amz-Signature=ac5720493781b39cc4a9ce9c458b7ae069ad44840e70bddd2d34136c61b88b65&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RF72JK6I%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBCQtClkIrYiVGZfyT%2FzAbutEehaI%2BMFmfRRNfyisT03AiBMIqZD1huNDAusUblwlNR7D%2BEEPpHuSluzxvnPI5OojSqIBAiq%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMoomJ4xTilmaQFbK2KtwDZmkxUpIyjSZUywXZ0v39g72E1pT%2BLfoMEZ%2BIcFCGS5xN2g69tMJ2laX2%2BFcJCmLiED9mrmdjnajwG10gyEsS3saoK0pB0JlYgvz%2FARGjIHFJnp2CTsZvZNWDxGOGfuiVuOEVrOnbTD99JvZLbQrXx3ypzFDwTMlR7kVJqNbfelComgjbBkE6uy8AwmmpTWbJtOTD2T6GBoAw42KzzJk29XXwCYUc3AKL0Mvpn6DWWZyJQAdpzIRM%2FKh%2B3mOnJ%2BfqxPcKtLzRAqlmaXoCOEksFmgo4u7ESzcqI3tgJV1lSegNF9%2Frb7fwWUcYOxzPidEmInyn4HC%2BAbDl%2FkLfhC%2FhXDz0IfCMwIPYRBuU8cJ3G3%2FBeS3mwqx%2F%2FIvBRLNrSYypu%2Fcs5OCLYDGbYL8xXFw4J2YLT7OvInT6PRtlrM7TsOuzRTA5i%2BUmzU7p8Z98iP%2BvcEq3uElj8caAc51CgnswWmDoJv%2B80NXX37U%2FlFvvD9DJmayG2JMeuNVcPHncVsx6QJr%2F2BblBsy43aNTcYQCDCvT0QkGN1pOH1Affc7Z6N9Nf2BNvgYqGuHUDH9ckiofAnDIfN%2BoLP%2BgysbNVtgs%2F19qAeuejc6QhpnBhEE9Up8DGWHR56GwDrwXlaMwmMjMygY6pgFUu7L%2FuYiao%2Buxv4WAFAg0FAiSGn4dysDyuHOFmOahJTprLXsTfNn8wuKLDGT0vW%2BxeT1Xvd3ErvsOcuW%2FViNhVxtbvj%2F8F%2FXg1Ewn3oSVqK6BWU2Gy0KkegOsEdRt1VJuEMz1wn%2BNzO2zruq0viBwPgl9mkBO75KZ4PHrDkE68T1VRiP6Mgi5Vmr3etxNtXcS5sEirEZ%2F4WLYKLPvrYyeJE0AKFUe&X-Amz-Signature=45e6cfd7a180c4728d36bc5e9a01e66d52d2330193f27a9481127a42813f7cf8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VW6Y45NS%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCQ8E9AKLJ%2FjVIYnQG9OT5SUrWrQoSdO9%2FvTWzVUwgF%2BwIhAKSHwT5XcibRgZg5wRjKbYNimqBBpaoRT47M4e7GjXTIKogECKr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igw3jdIseQ%2BP9cQAihQq3AOi6%2FnH6F2aDxuybAG4pbYBMSfO7K8J089HsceawkGFFGZ4DecEmmgK8sidLYK%2FwsGvKmUqTMou%2B3GnjAIS6cwEEPZqAX7jCl%2FjT%2F3wdLODHKa%2FzVsXbefdtYQxo7lLu7eGSgWriTF1NvWFWtAYXMC0L0dHrefEheOI5KOwfKnFnyjm%2FSvVozTRrTABXUw7QLHarsoz%2BGZ36x3gs1YA7%2Bkj3kYVgt4XyshKXs6g5JpY1q4IfJpDDTU55HbWHx1Hse%2FvB0HEk7OnOafuvKhwprrTB6eGksRefFv3AjmaPtkTnTWtWy5wZkWEV6%2FSV1C8xi%2FZbLkTq4xS73Ues%2FtpC5sD%2FnqkHxnhW%2FFkdceEF3arup1o19%2BFskEdAZfKR1fhaLhExSDzUq3s31RTEger0Kj%2BP4G3pUbqv2hpoaho3BANupQnYV0Ymfv%2BHYJGcR3Jl4f9hua5W7%2Fs7JCNXdqOe8u0SkfYEcJGOwZE4WUc%2BcckbtNordcen0eBYlhYTYSofrTy6UqZTQha3KltmYUSByWnn%2F7w%2FB%2FihcFQVC46GBkf1DZ%2F7VxV%2F9OCchWoGzmW%2FuuIoz2vakZFdRC6WYwkK%2FzbD96kXTnuSGBCWtWJmbhP%2B%2BBrrb24VC23ejJwqTDgxczKBjqkAfEHe01kFOvNtU4RbzHY56eGUU%2FnmgKSwOsafvRS48Tr1zXBYl6FjW%2BwZwUIVBEMTvyTQiWJwOvFh6WvpKp3E12iX6%2B23sv69sR%2F8vGqWKUpQP3AHaeXxeayCnGENSOuKko0Cl3XubgUxDUoCfmTZk9Gy%2FXSCIqWL7AOWI3tPjjtLg7GwDTdTRKnUyoRh2mtvn50b%2B2O6ZPfYZlD%2Bj5Cw%2Bo%2B2Av8&X-Amz-Signature=4ce762e3887e350e7f5ef69c13e9d02432212986b1513001654d26f8911a1d50&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VW6Y45NS%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCQ8E9AKLJ%2FjVIYnQG9OT5SUrWrQoSdO9%2FvTWzVUwgF%2BwIhAKSHwT5XcibRgZg5wRjKbYNimqBBpaoRT47M4e7GjXTIKogECKr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igw3jdIseQ%2BP9cQAihQq3AOi6%2FnH6F2aDxuybAG4pbYBMSfO7K8J089HsceawkGFFGZ4DecEmmgK8sidLYK%2FwsGvKmUqTMou%2B3GnjAIS6cwEEPZqAX7jCl%2FjT%2F3wdLODHKa%2FzVsXbefdtYQxo7lLu7eGSgWriTF1NvWFWtAYXMC0L0dHrefEheOI5KOwfKnFnyjm%2FSvVozTRrTABXUw7QLHarsoz%2BGZ36x3gs1YA7%2Bkj3kYVgt4XyshKXs6g5JpY1q4IfJpDDTU55HbWHx1Hse%2FvB0HEk7OnOafuvKhwprrTB6eGksRefFv3AjmaPtkTnTWtWy5wZkWEV6%2FSV1C8xi%2FZbLkTq4xS73Ues%2FtpC5sD%2FnqkHxnhW%2FFkdceEF3arup1o19%2BFskEdAZfKR1fhaLhExSDzUq3s31RTEger0Kj%2BP4G3pUbqv2hpoaho3BANupQnYV0Ymfv%2BHYJGcR3Jl4f9hua5W7%2Fs7JCNXdqOe8u0SkfYEcJGOwZE4WUc%2BcckbtNordcen0eBYlhYTYSofrTy6UqZTQha3KltmYUSByWnn%2F7w%2FB%2FihcFQVC46GBkf1DZ%2F7VxV%2F9OCchWoGzmW%2FuuIoz2vakZFdRC6WYwkK%2FzbD96kXTnuSGBCWtWJmbhP%2B%2BBrrb24VC23ejJwqTDgxczKBjqkAfEHe01kFOvNtU4RbzHY56eGUU%2FnmgKSwOsafvRS48Tr1zXBYl6FjW%2BwZwUIVBEMTvyTQiWJwOvFh6WvpKp3E12iX6%2B23sv69sR%2F8vGqWKUpQP3AHaeXxeayCnGENSOuKko0Cl3XubgUxDUoCfmTZk9Gy%2FXSCIqWL7AOWI3tPjjtLg7GwDTdTRKnUyoRh2mtvn50b%2B2O6ZPfYZlD%2Bj5Cw%2Bo%2B2Av8&X-Amz-Signature=9b3f84946795dfc3ccfeee4cc4dcb098d9c8a38aec14bb0b3d9ade199da6cde8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VW6Y45NS%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCQ8E9AKLJ%2FjVIYnQG9OT5SUrWrQoSdO9%2FvTWzVUwgF%2BwIhAKSHwT5XcibRgZg5wRjKbYNimqBBpaoRT47M4e7GjXTIKogECKr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igw3jdIseQ%2BP9cQAihQq3AOi6%2FnH6F2aDxuybAG4pbYBMSfO7K8J089HsceawkGFFGZ4DecEmmgK8sidLYK%2FwsGvKmUqTMou%2B3GnjAIS6cwEEPZqAX7jCl%2FjT%2F3wdLODHKa%2FzVsXbefdtYQxo7lLu7eGSgWriTF1NvWFWtAYXMC0L0dHrefEheOI5KOwfKnFnyjm%2FSvVozTRrTABXUw7QLHarsoz%2BGZ36x3gs1YA7%2Bkj3kYVgt4XyshKXs6g5JpY1q4IfJpDDTU55HbWHx1Hse%2FvB0HEk7OnOafuvKhwprrTB6eGksRefFv3AjmaPtkTnTWtWy5wZkWEV6%2FSV1C8xi%2FZbLkTq4xS73Ues%2FtpC5sD%2FnqkHxnhW%2FFkdceEF3arup1o19%2BFskEdAZfKR1fhaLhExSDzUq3s31RTEger0Kj%2BP4G3pUbqv2hpoaho3BANupQnYV0Ymfv%2BHYJGcR3Jl4f9hua5W7%2Fs7JCNXdqOe8u0SkfYEcJGOwZE4WUc%2BcckbtNordcen0eBYlhYTYSofrTy6UqZTQha3KltmYUSByWnn%2F7w%2FB%2FihcFQVC46GBkf1DZ%2F7VxV%2F9OCchWoGzmW%2FuuIoz2vakZFdRC6WYwkK%2FzbD96kXTnuSGBCWtWJmbhP%2B%2BBrrb24VC23ejJwqTDgxczKBjqkAfEHe01kFOvNtU4RbzHY56eGUU%2FnmgKSwOsafvRS48Tr1zXBYl6FjW%2BwZwUIVBEMTvyTQiWJwOvFh6WvpKp3E12iX6%2B23sv69sR%2F8vGqWKUpQP3AHaeXxeayCnGENSOuKko0Cl3XubgUxDUoCfmTZk9Gy%2FXSCIqWL7AOWI3tPjjtLg7GwDTdTRKnUyoRh2mtvn50b%2B2O6ZPfYZlD%2Bj5Cw%2Bo%2B2Av8&X-Amz-Signature=890947323f36b25fc4cc70b685d776c900d29f6914d5285b4d95f1c961d1386a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VW6Y45NS%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041149Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCQ8E9AKLJ%2FjVIYnQG9OT5SUrWrQoSdO9%2FvTWzVUwgF%2BwIhAKSHwT5XcibRgZg5wRjKbYNimqBBpaoRT47M4e7GjXTIKogECKr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igw3jdIseQ%2BP9cQAihQq3AOi6%2FnH6F2aDxuybAG4pbYBMSfO7K8J089HsceawkGFFGZ4DecEmmgK8sidLYK%2FwsGvKmUqTMou%2B3GnjAIS6cwEEPZqAX7jCl%2FjT%2F3wdLODHKa%2FzVsXbefdtYQxo7lLu7eGSgWriTF1NvWFWtAYXMC0L0dHrefEheOI5KOwfKnFnyjm%2FSvVozTRrTABXUw7QLHarsoz%2BGZ36x3gs1YA7%2Bkj3kYVgt4XyshKXs6g5JpY1q4IfJpDDTU55HbWHx1Hse%2FvB0HEk7OnOafuvKhwprrTB6eGksRefFv3AjmaPtkTnTWtWy5wZkWEV6%2FSV1C8xi%2FZbLkTq4xS73Ues%2FtpC5sD%2FnqkHxnhW%2FFkdceEF3arup1o19%2BFskEdAZfKR1fhaLhExSDzUq3s31RTEger0Kj%2BP4G3pUbqv2hpoaho3BANupQnYV0Ymfv%2BHYJGcR3Jl4f9hua5W7%2Fs7JCNXdqOe8u0SkfYEcJGOwZE4WUc%2BcckbtNordcen0eBYlhYTYSofrTy6UqZTQha3KltmYUSByWnn%2F7w%2FB%2FihcFQVC46GBkf1DZ%2F7VxV%2F9OCchWoGzmW%2FuuIoz2vakZFdRC6WYwkK%2FzbD96kXTnuSGBCWtWJmbhP%2B%2BBrrb24VC23ejJwqTDgxczKBjqkAfEHe01kFOvNtU4RbzHY56eGUU%2FnmgKSwOsafvRS48Tr1zXBYl6FjW%2BwZwUIVBEMTvyTQiWJwOvFh6WvpKp3E12iX6%2B23sv69sR%2F8vGqWKUpQP3AHaeXxeayCnGENSOuKko0Cl3XubgUxDUoCfmTZk9Gy%2FXSCIqWL7AOWI3tPjjtLg7GwDTdTRKnUyoRh2mtvn50b%2B2O6ZPfYZlD%2Bj5Cw%2Bo%2B2Av8&X-Amz-Signature=4d4067f6423c6b0d10d9aa47fd7b528b934015989933a04de6831cbbc387429c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YBQBZQBU%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDOd5j8%2BZDb0M%2BGkmY420QWyV4MOgnD%2FK1KHqQtb8gS9gIhAK1pPnmznfeS3GTDKXM74o0eTos2KkAhHnKHZCWcUVewKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igyb%2B3kegcSjLAyE5bkq3APrLahFEn7yCvhpCUVFI%2Fk8KLBGwbhaB8CI50AyVu1bx9babT2ysunnqCQhGFCOtgqToS5mWiZY%2FOrnFzsxNDidhejzp6Db3hWJbOrfCGP%2BxxZ7YZAEao%2BDWDuvBG7RZtM27JZlzeQHFdnRny1YvtTXYuM%2BkUtKnCUhtw6C23vFPGhk%2BSLMVQnkMjdEU5mu6zjeC4E4I0A5Q3pInUbkgrEHZnzzfqGJ6iFegZ7a4X6czKhtQHkza3s1GyXVqAnmEh72GLoX4nHE7Gski7MNeC0wCCYHEikx773iXyUi36NnYD%2BBbrmSyv4qd3EpXu9K%2FiBbcMbvKvePdQHfoki3%2B3Va34sJ4Iep2WuB6CaJkiXEfLauIkR0Q%2FCKWuz3GbSqMOArR6cfihc3ydT28iNLfCAXRFqBsu5vb%2FBoKekCQ5iI%2B3Z9wQtPn9H7c4WQ93aZZt7a1mRdVeYv17yx2cCjmw%2FWho%2FncpDd56d2yMP716aGiIw%2BQ40XCUj5dPbVOgPzSQMCNSb3BNet6UkBowCmZW735uC4mmk1steFbFMAFPe%2Br8lFbU570U0p8yBTwRi4YZ67ryddHZMZEzzsTLgnk5nc%2F2JBvy9r5rHSRDnLcEhmEFEieyVFBeXyqm496jCGoc3KBjqkAVAZZ3mH7FnpKsLuElzO7DLb4nh%2BELaJM%2Bti3lV7Wpt39mIH1p1ouVsttGxH1MMj3fHaevKgpPHckr%2BNFEsvXgCGunpItVJqgDEacznX1L7HoLFlEr%2F1BeOArv%2BGiBe10u%2BHC6e5%2BEs%2FueWgpwQqRLdQN%2BR33Eo%2BTigOq3VEHSDOFm%2FLOQ6HvV1fHjYvx7IycazBjwo63a1VUweV9m5Nw83nxBDA&X-Amz-Signature=39022b10ada7174fbee2c48675fbf813232fa824ce5de594734db63903f6506e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YBQBZQBU%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDOd5j8%2BZDb0M%2BGkmY420QWyV4MOgnD%2FK1KHqQtb8gS9gIhAK1pPnmznfeS3GTDKXM74o0eTos2KkAhHnKHZCWcUVewKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igyb%2B3kegcSjLAyE5bkq3APrLahFEn7yCvhpCUVFI%2Fk8KLBGwbhaB8CI50AyVu1bx9babT2ysunnqCQhGFCOtgqToS5mWiZY%2FOrnFzsxNDidhejzp6Db3hWJbOrfCGP%2BxxZ7YZAEao%2BDWDuvBG7RZtM27JZlzeQHFdnRny1YvtTXYuM%2BkUtKnCUhtw6C23vFPGhk%2BSLMVQnkMjdEU5mu6zjeC4E4I0A5Q3pInUbkgrEHZnzzfqGJ6iFegZ7a4X6czKhtQHkza3s1GyXVqAnmEh72GLoX4nHE7Gski7MNeC0wCCYHEikx773iXyUi36NnYD%2BBbrmSyv4qd3EpXu9K%2FiBbcMbvKvePdQHfoki3%2B3Va34sJ4Iep2WuB6CaJkiXEfLauIkR0Q%2FCKWuz3GbSqMOArR6cfihc3ydT28iNLfCAXRFqBsu5vb%2FBoKekCQ5iI%2B3Z9wQtPn9H7c4WQ93aZZt7a1mRdVeYv17yx2cCjmw%2FWho%2FncpDd56d2yMP716aGiIw%2BQ40XCUj5dPbVOgPzSQMCNSb3BNet6UkBowCmZW735uC4mmk1steFbFMAFPe%2Br8lFbU570U0p8yBTwRi4YZ67ryddHZMZEzzsTLgnk5nc%2F2JBvy9r5rHSRDnLcEhmEFEieyVFBeXyqm496jCGoc3KBjqkAVAZZ3mH7FnpKsLuElzO7DLb4nh%2BELaJM%2Bti3lV7Wpt39mIH1p1ouVsttGxH1MMj3fHaevKgpPHckr%2BNFEsvXgCGunpItVJqgDEacznX1L7HoLFlEr%2F1BeOArv%2BGiBe10u%2BHC6e5%2BEs%2FueWgpwQqRLdQN%2BR33Eo%2BTigOq3VEHSDOFm%2FLOQ6HvV1fHjYvx7IycazBjwo63a1VUweV9m5Nw83nxBDA&X-Amz-Signature=b66f49cfe6fbb42872a83b6c9cbb8eb6e620e578e863a02646e9329240362fa7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YBQBZQBU%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDOd5j8%2BZDb0M%2BGkmY420QWyV4MOgnD%2FK1KHqQtb8gS9gIhAK1pPnmznfeS3GTDKXM74o0eTos2KkAhHnKHZCWcUVewKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igyb%2B3kegcSjLAyE5bkq3APrLahFEn7yCvhpCUVFI%2Fk8KLBGwbhaB8CI50AyVu1bx9babT2ysunnqCQhGFCOtgqToS5mWiZY%2FOrnFzsxNDidhejzp6Db3hWJbOrfCGP%2BxxZ7YZAEao%2BDWDuvBG7RZtM27JZlzeQHFdnRny1YvtTXYuM%2BkUtKnCUhtw6C23vFPGhk%2BSLMVQnkMjdEU5mu6zjeC4E4I0A5Q3pInUbkgrEHZnzzfqGJ6iFegZ7a4X6czKhtQHkza3s1GyXVqAnmEh72GLoX4nHE7Gski7MNeC0wCCYHEikx773iXyUi36NnYD%2BBbrmSyv4qd3EpXu9K%2FiBbcMbvKvePdQHfoki3%2B3Va34sJ4Iep2WuB6CaJkiXEfLauIkR0Q%2FCKWuz3GbSqMOArR6cfihc3ydT28iNLfCAXRFqBsu5vb%2FBoKekCQ5iI%2B3Z9wQtPn9H7c4WQ93aZZt7a1mRdVeYv17yx2cCjmw%2FWho%2FncpDd56d2yMP716aGiIw%2BQ40XCUj5dPbVOgPzSQMCNSb3BNet6UkBowCmZW735uC4mmk1steFbFMAFPe%2Br8lFbU570U0p8yBTwRi4YZ67ryddHZMZEzzsTLgnk5nc%2F2JBvy9r5rHSRDnLcEhmEFEieyVFBeXyqm496jCGoc3KBjqkAVAZZ3mH7FnpKsLuElzO7DLb4nh%2BELaJM%2Bti3lV7Wpt39mIH1p1ouVsttGxH1MMj3fHaevKgpPHckr%2BNFEsvXgCGunpItVJqgDEacznX1L7HoLFlEr%2F1BeOArv%2BGiBe10u%2BHC6e5%2BEs%2FueWgpwQqRLdQN%2BR33Eo%2BTigOq3VEHSDOFm%2FLOQ6HvV1fHjYvx7IycazBjwo63a1VUweV9m5Nw83nxBDA&X-Amz-Signature=049993cb89e2535ae3d8b4b2b167c2e9869ffe728c08ab8602a30caa3e44f114&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YBQBZQBU%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDOd5j8%2BZDb0M%2BGkmY420QWyV4MOgnD%2FK1KHqQtb8gS9gIhAK1pPnmznfeS3GTDKXM74o0eTos2KkAhHnKHZCWcUVewKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igyb%2B3kegcSjLAyE5bkq3APrLahFEn7yCvhpCUVFI%2Fk8KLBGwbhaB8CI50AyVu1bx9babT2ysunnqCQhGFCOtgqToS5mWiZY%2FOrnFzsxNDidhejzp6Db3hWJbOrfCGP%2BxxZ7YZAEao%2BDWDuvBG7RZtM27JZlzeQHFdnRny1YvtTXYuM%2BkUtKnCUhtw6C23vFPGhk%2BSLMVQnkMjdEU5mu6zjeC4E4I0A5Q3pInUbkgrEHZnzzfqGJ6iFegZ7a4X6czKhtQHkza3s1GyXVqAnmEh72GLoX4nHE7Gski7MNeC0wCCYHEikx773iXyUi36NnYD%2BBbrmSyv4qd3EpXu9K%2FiBbcMbvKvePdQHfoki3%2B3Va34sJ4Iep2WuB6CaJkiXEfLauIkR0Q%2FCKWuz3GbSqMOArR6cfihc3ydT28iNLfCAXRFqBsu5vb%2FBoKekCQ5iI%2B3Z9wQtPn9H7c4WQ93aZZt7a1mRdVeYv17yx2cCjmw%2FWho%2FncpDd56d2yMP716aGiIw%2BQ40XCUj5dPbVOgPzSQMCNSb3BNet6UkBowCmZW735uC4mmk1steFbFMAFPe%2Br8lFbU570U0p8yBTwRi4YZ67ryddHZMZEzzsTLgnk5nc%2F2JBvy9r5rHSRDnLcEhmEFEieyVFBeXyqm496jCGoc3KBjqkAVAZZ3mH7FnpKsLuElzO7DLb4nh%2BELaJM%2Bti3lV7Wpt39mIH1p1ouVsttGxH1MMj3fHaevKgpPHckr%2BNFEsvXgCGunpItVJqgDEacznX1L7HoLFlEr%2F1BeOArv%2BGiBe10u%2BHC6e5%2BEs%2FueWgpwQqRLdQN%2BR33Eo%2BTigOq3VEHSDOFm%2FLOQ6HvV1fHjYvx7IycazBjwo63a1VUweV9m5Nw83nxBDA&X-Amz-Signature=268817e6a5f7742c03df5492bbfc12a1495992fa2bb9b3592311838f11004185&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XVTL42BX%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDIlp%2BWTnM%2BLqO4gtXNTbuaDWrz6YwjiRXQTodB8RyrOgIgNHuAE%2FapvpDjQcdvf8nstqaW2cTiKIqWp0R2kWtMoj0qiAQIqv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDON%2FXvaLjzCpHCvSYSrcA8l4SqMZ6GqGqlwW3N9wyY4pRd9sRdhbuFzrdDkoGvPccLLA9VPc%2Fq2LutONr44bboL2a0v4FNQOh0kAhBH%2F806y%2B2AJWs%2FDHdmN3ZOPif6VWkeMv393wZVCRYdtqDi00yWD8nEqw3JAQAj47U5Tk1SDLXMMkC5Bq06TbYnzL6UEAMdD9EuDDTGfBzvdXU9XZYl2Tp8qN%2FV0WZxmQONBoNDpXRnVDf43OUNacOrO%2FDEfOGxTCCJj8cPG%2BoL61Smq3B764K2RvEZa8QYVHyt6wpeCvhhGbfQ%2FU9A2x4bvf3BYs672NrLcPfW4kJzQrr7Th5d4v9QwpDa2W9utAmvYbpu8RdCvcqU6KwUa7Odq47LRN6CZeCKUhLhn5JieKV0e4%2BvY%2FamUnGsUWarzUksMDrlWuMpRJmydkmtgKCrvJaak%2FOqnVwTDUsHuvR0GhQmW479ArwEF11BFXLUvUZR56vgzdwQLlOuDTkk2VTK1N85mXxk5ux8txme1D4BJhWMmsr12DPFOwYpev0VGa4OqdpS0NHtPhXD9IBoOgR2xHtmulMYJ3M8dEZl%2Fmz6wymXGa4IfFMcS93ZWIFYvqeLz4xzLzlS%2BvGeWyUAEzPWH8ITzixvlPxJvBK22FebAML%2FLzMoGOqUB2ZsFMVHuVN02gaY9oZNQWpeq7qbu2q8An5eUSugVei2y3o056iTh9762BiJ572SSDcjKl%2FcuJWkY4oRW73AsEMpGDmNCZar7jvh0b13nd7dvowdZTQ970QnIWHSfcHbIe%2FLy%2BISgpjnnbsjtWkIdhAHtwJ4QTd1rW7eXDAGIOAmHLsUxKhzUZ38JCzpCr5durz1Y4UQQp1Jr5E5tJEQfzEuino0Z&X-Amz-Signature=a018aa53491f9f80addd0bc407e4587288af6304ce46375a2f26947111dfeef3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XVTL42BX%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDIlp%2BWTnM%2BLqO4gtXNTbuaDWrz6YwjiRXQTodB8RyrOgIgNHuAE%2FapvpDjQcdvf8nstqaW2cTiKIqWp0R2kWtMoj0qiAQIqv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDON%2FXvaLjzCpHCvSYSrcA8l4SqMZ6GqGqlwW3N9wyY4pRd9sRdhbuFzrdDkoGvPccLLA9VPc%2Fq2LutONr44bboL2a0v4FNQOh0kAhBH%2F806y%2B2AJWs%2FDHdmN3ZOPif6VWkeMv393wZVCRYdtqDi00yWD8nEqw3JAQAj47U5Tk1SDLXMMkC5Bq06TbYnzL6UEAMdD9EuDDTGfBzvdXU9XZYl2Tp8qN%2FV0WZxmQONBoNDpXRnVDf43OUNacOrO%2FDEfOGxTCCJj8cPG%2BoL61Smq3B764K2RvEZa8QYVHyt6wpeCvhhGbfQ%2FU9A2x4bvf3BYs672NrLcPfW4kJzQrr7Th5d4v9QwpDa2W9utAmvYbpu8RdCvcqU6KwUa7Odq47LRN6CZeCKUhLhn5JieKV0e4%2BvY%2FamUnGsUWarzUksMDrlWuMpRJmydkmtgKCrvJaak%2FOqnVwTDUsHuvR0GhQmW479ArwEF11BFXLUvUZR56vgzdwQLlOuDTkk2VTK1N85mXxk5ux8txme1D4BJhWMmsr12DPFOwYpev0VGa4OqdpS0NHtPhXD9IBoOgR2xHtmulMYJ3M8dEZl%2Fmz6wymXGa4IfFMcS93ZWIFYvqeLz4xzLzlS%2BvGeWyUAEzPWH8ITzixvlPxJvBK22FebAML%2FLzMoGOqUB2ZsFMVHuVN02gaY9oZNQWpeq7qbu2q8An5eUSugVei2y3o056iTh9762BiJ572SSDcjKl%2FcuJWkY4oRW73AsEMpGDmNCZar7jvh0b13nd7dvowdZTQ970QnIWHSfcHbIe%2FLy%2BISgpjnnbsjtWkIdhAHtwJ4QTd1rW7eXDAGIOAmHLsUxKhzUZ38JCzpCr5durz1Y4UQQp1Jr5E5tJEQfzEuino0Z&X-Amz-Signature=46bec42cd82cde6ba1f7ff440e2b2e5ebb2f3e8072c2e53263bc5ed1009b630b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XVTL42BX%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDIlp%2BWTnM%2BLqO4gtXNTbuaDWrz6YwjiRXQTodB8RyrOgIgNHuAE%2FapvpDjQcdvf8nstqaW2cTiKIqWp0R2kWtMoj0qiAQIqv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDON%2FXvaLjzCpHCvSYSrcA8l4SqMZ6GqGqlwW3N9wyY4pRd9sRdhbuFzrdDkoGvPccLLA9VPc%2Fq2LutONr44bboL2a0v4FNQOh0kAhBH%2F806y%2B2AJWs%2FDHdmN3ZOPif6VWkeMv393wZVCRYdtqDi00yWD8nEqw3JAQAj47U5Tk1SDLXMMkC5Bq06TbYnzL6UEAMdD9EuDDTGfBzvdXU9XZYl2Tp8qN%2FV0WZxmQONBoNDpXRnVDf43OUNacOrO%2FDEfOGxTCCJj8cPG%2BoL61Smq3B764K2RvEZa8QYVHyt6wpeCvhhGbfQ%2FU9A2x4bvf3BYs672NrLcPfW4kJzQrr7Th5d4v9QwpDa2W9utAmvYbpu8RdCvcqU6KwUa7Odq47LRN6CZeCKUhLhn5JieKV0e4%2BvY%2FamUnGsUWarzUksMDrlWuMpRJmydkmtgKCrvJaak%2FOqnVwTDUsHuvR0GhQmW479ArwEF11BFXLUvUZR56vgzdwQLlOuDTkk2VTK1N85mXxk5ux8txme1D4BJhWMmsr12DPFOwYpev0VGa4OqdpS0NHtPhXD9IBoOgR2xHtmulMYJ3M8dEZl%2Fmz6wymXGa4IfFMcS93ZWIFYvqeLz4xzLzlS%2BvGeWyUAEzPWH8ITzixvlPxJvBK22FebAML%2FLzMoGOqUB2ZsFMVHuVN02gaY9oZNQWpeq7qbu2q8An5eUSugVei2y3o056iTh9762BiJ572SSDcjKl%2FcuJWkY4oRW73AsEMpGDmNCZar7jvh0b13nd7dvowdZTQ970QnIWHSfcHbIe%2FLy%2BISgpjnnbsjtWkIdhAHtwJ4QTd1rW7eXDAGIOAmHLsUxKhzUZ38JCzpCr5durz1Y4UQQp1Jr5E5tJEQfzEuino0Z&X-Amz-Signature=2f30e17e516425b7d1117515cfeda1b348d4ec2a44a30be0033199b99c988529&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YOJLQZVU%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIH9HFsFQN4NNMwp79UDYJREo9SMeBZ1tgD0YiJhjtE39AiBgVXaFvIpmvb3FxzG35THgSbp3XdR%2BP%2B4X90EgP%2ByiZyqIBAiq%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMWh6kjIDas4utzRzdKtwDx2%2BvdIU0ZXJ0%2BXCnITNic1eutOcWC0eohGRnUubYCG28nFQP5WF5AOPd%2Ba6vwC8iqyLUTDbHqcmB06EYhSwvJFGSsPih81oDDRyCNmQOBtAyR%2FXxiEIml1eG1BffXHyg1N124MxN4lwcxmcntBFUAe4mWSalJ9fh00jx95Ebr%2BTozAzOxunoCEUIN1KeBP94dj1RGQlXhhJcFrbJbgA3NFsLHOtMoCmHNJQva%2FhOCXtNklsUcKvjo4Z77fo2ilOzLk97Y2cpvWNOJP%2F24iK%2BZMW7odSyiARI0g33YnHss7T3YiOW2BQqU%2FEF%2BscYl8mUnR4Cz5cALiGXDITqgb9TSD%2BNJ047WR88OFRgE3clmff%2FLLB7wVsbIaGTFzgOOCAtoCn%2FhdS4MnLP3JvpYgGoXVKpMSCcwmM9X%2F6ylEHfp7ZOmsUcF3mGBN0b0Q3a5RcpbRu%2F5weNisFzF29PhQaqefIkToMAQO%2BD7t2%2BSZsQebSOKOkhasg%2Fg9m1zy4RFHTIEdNDMD61z8DmEVSx%2Feb%2Bxfb6coIzHBkn9WLmUqkVbalmpm27ITaDH%2FdN1Sp9qHJ6DVGOb%2Bj2AA4%2BNxRMO%2FQm18iC4BXj9jyIZ%2B5o4OWeMmoIuHH3mczDl0DdqZQwr83MygY6pgGh6nYB7InB7i8Yd9MostKGHweK3Xt0Vpyd4J97aq9a00vn9DmpA279fpHkJ8SpcbfBEt7pKy3HXR36rWGTRujMdaP5NOpZiJhVqF4e7wvjEz56u1Q%2BuPmqGSIg3slY7awJwy5ms%2BwfLvC5T1GQVn%2Be8vt01Py256hS5FyL1Pm2knK9%2Fi3m9%2F3kwnRLNQ9lLqR5lEf4PkVzK4giIOoEKt%2BuFwyIRpop&X-Amz-Signature=3a95ac34b6ae5b15405091e2e32edd765207d35fa45a79ae3c1e7df8c88d2bd9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YOJLQZVU%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOH%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIH9HFsFQN4NNMwp79UDYJREo9SMeBZ1tgD0YiJhjtE39AiBgVXaFvIpmvb3FxzG35THgSbp3XdR%2BP%2B4X90EgP%2ByiZyqIBAiq%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMWh6kjIDas4utzRzdKtwDx2%2BvdIU0ZXJ0%2BXCnITNic1eutOcWC0eohGRnUubYCG28nFQP5WF5AOPd%2Ba6vwC8iqyLUTDbHqcmB06EYhSwvJFGSsPih81oDDRyCNmQOBtAyR%2FXxiEIml1eG1BffXHyg1N124MxN4lwcxmcntBFUAe4mWSalJ9fh00jx95Ebr%2BTozAzOxunoCEUIN1KeBP94dj1RGQlXhhJcFrbJbgA3NFsLHOtMoCmHNJQva%2FhOCXtNklsUcKvjo4Z77fo2ilOzLk97Y2cpvWNOJP%2F24iK%2BZMW7odSyiARI0g33YnHss7T3YiOW2BQqU%2FEF%2BscYl8mUnR4Cz5cALiGXDITqgb9TSD%2BNJ047WR88OFRgE3clmff%2FLLB7wVsbIaGTFzgOOCAtoCn%2FhdS4MnLP3JvpYgGoXVKpMSCcwmM9X%2F6ylEHfp7ZOmsUcF3mGBN0b0Q3a5RcpbRu%2F5weNisFzF29PhQaqefIkToMAQO%2BD7t2%2BSZsQebSOKOkhasg%2Fg9m1zy4RFHTIEdNDMD61z8DmEVSx%2Feb%2Bxfb6coIzHBkn9WLmUqkVbalmpm27ITaDH%2FdN1Sp9qHJ6DVGOb%2Bj2AA4%2BNxRMO%2FQm18iC4BXj9jyIZ%2B5o4OWeMmoIuHH3mczDl0DdqZQwr83MygY6pgGh6nYB7InB7i8Yd9MostKGHweK3Xt0Vpyd4J97aq9a00vn9DmpA279fpHkJ8SpcbfBEt7pKy3HXR36rWGTRujMdaP5NOpZiJhVqF4e7wvjEz56u1Q%2BuPmqGSIg3slY7awJwy5ms%2BwfLvC5T1GQVn%2Be8vt01Py256hS5FyL1Pm2knK9%2Fi3m9%2F3kwnRLNQ9lLqR5lEf4PkVzK4giIOoEKt%2BuFwyIRpop&X-Amz-Signature=0a2d02cb90c5f3de910c3961e95775e3d6aa936093d25ad24ea27de5caea9c20&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWOJDLW4%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD3tZvS9DET9a24ZFZ2VfcR0i5jGU9QzN4ql1%2BeENIQ0gIhAIzmG7GLT56u%2BP0YIi2MjVkWYczwdbVNlrrTFrNise2nKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igy9auV%2BKPpQTSq530Eq3AOK1GdbRI71Ia10%2FmKso7CTvRmUD6IUhaZLlfciupcQz5aTKCXAl5cAEE7gZvtorTOZgszb%2B%2F3qCeucqhYLQawHhhUZS5t10u7bfnK2149gSm%2F7tAryTiIBzwssXmDtzvbnT6pZiIq%2BOKfUNUxhmk6rnb%2B049gBQWFM8HENAgQRsTbvI4aud9HEyh3h4KQzbf5fFC7443CEt%2BfrZLit1j8yiGcOhw4oDHXNkFOgN9hDo27OK7HzcDqN4%2BKCls%2FpGznn7eJVdI2UM7oSSpeuj2znHmqdhCpB%2FZa%2BWAPW%2FaJWdv1i1NHxkqRRoUzL5d66LdsKkp8Uz00oicAQLNbfJQhOEVzVDU85ewWPLsqFb1Lh%2FMJMUGyGO62F3sQySojqyHw%2Fc2FqFrfi6KYFeIw7TAYwkhFPHQ97TGuK9EVerVgSsuoo9IJ0c4fd0LFZkvPbGaTY8jJnvBNqLDzBJvfoRO9z7MxjC5q9W3v5lDAu%2BHlwf3relPFVQuRmkxZ1txMYyvj%2Bo4O79yDPOwZKsw%2B4E4HjdQudwnZCrA13sn4vzTAldVgKqK6YcdQdqi8pq8SEz8H306Y3h1%2F0k%2BFgWHKwdZ5F4z4y46CiR7DgNzKpRaJJoahak4Z3cRPIAjyDbTCaoc3KBjqkAVv6KrEyejfYJsThkjTS8sFKbEqAI%2BECLhxaQ28Y%2BF5LaRUhtkQHdGJyrg22eJNUgrIDstUHBNrlkuDjjMrZcnfPgI4aCw4AIZJpk1LLUxImhxzJQdRi36oiYjG6XwNyLcLrpTmszVx1ygBD0L4DMVg6AFBz%2Fv8dvE1S9ulbVEgW7N2hVuGsAuatB18mU67wRo6h4CkWTdbfZb%2FmuaUmvBMyd7bH&X-Amz-Signature=3f3d74e460ae6a9c627432e9b6f841e375555e161d63a7311b6d730887121fef&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VWOJDLW4%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041150Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD3tZvS9DET9a24ZFZ2VfcR0i5jGU9QzN4ql1%2BeENIQ0gIhAIzmG7GLT56u%2BP0YIi2MjVkWYczwdbVNlrrTFrNise2nKogECK3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igy9auV%2BKPpQTSq530Eq3AOK1GdbRI71Ia10%2FmKso7CTvRmUD6IUhaZLlfciupcQz5aTKCXAl5cAEE7gZvtorTOZgszb%2B%2F3qCeucqhYLQawHhhUZS5t10u7bfnK2149gSm%2F7tAryTiIBzwssXmDtzvbnT6pZiIq%2BOKfUNUxhmk6rnb%2B049gBQWFM8HENAgQRsTbvI4aud9HEyh3h4KQzbf5fFC7443CEt%2BfrZLit1j8yiGcOhw4oDHXNkFOgN9hDo27OK7HzcDqN4%2BKCls%2FpGznn7eJVdI2UM7oSSpeuj2znHmqdhCpB%2FZa%2BWAPW%2FaJWdv1i1NHxkqRRoUzL5d66LdsKkp8Uz00oicAQLNbfJQhOEVzVDU85ewWPLsqFb1Lh%2FMJMUGyGO62F3sQySojqyHw%2Fc2FqFrfi6KYFeIw7TAYwkhFPHQ97TGuK9EVerVgSsuoo9IJ0c4fd0LFZkvPbGaTY8jJnvBNqLDzBJvfoRO9z7MxjC5q9W3v5lDAu%2BHlwf3relPFVQuRmkxZ1txMYyvj%2Bo4O79yDPOwZKsw%2B4E4HjdQudwnZCrA13sn4vzTAldVgKqK6YcdQdqi8pq8SEz8H306Y3h1%2F0k%2BFgWHKwdZ5F4z4y46CiR7DgNzKpRaJJoahak4Z3cRPIAjyDbTCaoc3KBjqkAVv6KrEyejfYJsThkjTS8sFKbEqAI%2BECLhxaQ28Y%2BF5LaRUhtkQHdGJyrg22eJNUgrIDstUHBNrlkuDjjMrZcnfPgI4aCw4AIZJpk1LLUxImhxzJQdRi36oiYjG6XwNyLcLrpTmszVx1ygBD0L4DMVg6AFBz%2Fv8dvE1S9ulbVEgW7N2hVuGsAuatB18mU67wRo6h4CkWTdbfZb%2FmuaUmvBMyd7bH&X-Amz-Signature=6203cb897bf7cabe9f940e8ff2e07a97ee760ac9ced875ecb9d486259849d886&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RE37KCIO%2F20251230%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251230T041151Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIC2QTsNEWIuB7BRU9F5mL%2Fc9Townn8zMNQJMYmw3SrfWAiAZpl6KXyUszqtz0%2FRdTEg5eHpAUhCM2nNkCv6hkU6g4SqIBAit%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMGFdMUoSr69mN72c4KtwDj581mjqk0tX5ShIrgpQg11t4m71IPeBvpfD34f%2FAR9H9JEzTh7hCUcPMpVICeT4CBmsRIuAvAO%2FD3kmHmKe7gGbeip7%2BivhHcAZbwDjrUiZ%2FmhpClHuoM5wZF2Upm%2F31531PVOBoRteA%2BP05MVOGMCVcRVYMBJ902uiP5v%2Fu6Rh1wrLnFUdYy1Xlv%2BPbRHZ08tZGf1y4IY7UWGAAvVVpAe4VtsteubUrs%2FTzUnMcZQ5JfVQMaSZk0SXh%2BwWcn%2B%2BngvFjId6Rcl488Yw48uFB%2FCpI7gb34AAYeuWOs5JjZL4ofpxmUgwqU1x71J3ELOLjq%2F6mw8qLCYRf9IVb2eunIkR97lbQjSVIj2nrylBT35rPVgTDznFeIhs9zEUfyBeA%2FxEp49rBpWy3VpRntCmZnzPmsZd3%2Bh9giftED8zp8BS0NskOxqQ%2Fvmy%2Br1a65xvR%2BfcnxSi5iEEEi7xGk9dEJ06aBWjnxp1F8fos2pmai%2FX67JWFPJ7IaF5146hPsf%2FIHNUTSI0Imb4p9fwp3a9I0L%2FPwbTzZCLnX5jjT0a0wKKx15RovXvz%2F%2BY3BLLWKBoHng8gvgYq2xXJjgNqrfdU2CqRxu8%2BaVzIt51cMDTCz5eqttHalnCVeepj5CswnaHNygY6pgGWwSnhvTBY0kQKmrckgqUKwcg6e5l%2F7JcvXEoqvO0UFNGSTfhYlMW51pFa4AQYtRNA%2Bf02sKgSCUGNpf4M1jMIpmLTZMrS16bioODWV48oahB%2Bn%2Fq%2B5VGvZ5N%2B1vGr1Flg8%2FB5nQVXBBZVe4xXAhKsEYfrCxJjyQNNpp4J3a5bbPdKSVndo%2FCN%2FhCDjw4o1KFj7Xva5BKXtWSeLXV%2B4hWj68I4QFlv&X-Amz-Signature=9e20eda128c87d33e3ebc5323f24da2e83cb8a2b27cc601f0c2e6f10ccdc8569&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
