
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665O6AREWI%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040433Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD5Hs3ZIMFiEzdQwSaL%2FV0EW4KKxEiIB76TMVEd6AqoLAIgIFPHjZOCsA%2FdeJtQIwFBR4sRRaPSZbDRWtkHhUnzAmAq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDDzS1SkXq2LKpDX5QSrcA8aEcq4Q7xCQ2CrDrpKwIT1KVbqksjDY%2FSB4Ak9VH8F2VQtSIjh8yOuOChESdKs9Ay3yjbYqHHeR9vV9aF0dUK5eelj8DN9eR9mxfXJ0SHrJr%2BrO2heBdBw3dJcUDLFC4mKV0pvSRgeN3FFJg6p0EGJBdpEksHZbhxUOu2Sb3jybfpCuCGkf%2FUZ1540Nb4zbWcUej5gloegGpon061h1KWEWVpClEDZ8lMisT%2BDpQaaNhAgdkK6skLGAL5vusd4zSnET6uUJoxRfqw%2BbWYzvsENOZfoi%2FPPsU%2FBG0mIBXQrg%2BS1ytYrjhi7XDn5gxk8RUrS9b%2BByidj0goaHeug9TjXDlFN6lj%2FOCb1Pvz2xWID5PxfCneh1x7sYj4EJcNIQU5ugCbTuvpLparRGIjzHem3OAUHvfmOFz%2BWE1%2Fc8DE8%2B%2BVIGgirBIUibuxkPsicnPD%2FwAR%2B3Ltpqp3etML3m8YccrnAQsumahaZyiWlTuI0DKp9e0PZcnZHJmvamCuhrbewq6nyFIguY4bx7f2kRhNFc%2BFro7PCJ9klqhrdk7Pve9%2Fkm6UUbdQtDbq6qIfFnTi6oi8q1%2F45X2uYUB%2FiuqCp9l8zA%2FR%2BX9yy2uC6CWvoR8F0Yyg1JXbjrGYjuMLXRvMoGOqUBDp2UfckcTswZpFbnPegYN%2BUJWhr4Uhw5vuEu3BmsP6%2BPNUVT6NRsAvi6KDSL%2Bu3xnU%2FLdcylPGpft6BdX7qzqG5hBeK1qXQYuaZyeQ3QTch8WxPnllnktiR%2FkuB4%2ByRkFgqb5P0XQNBMnKl1%2Bi5FcUGqQzG%2BGFC5e4mr79oc2aZqNnbCl8NDjQWFbGKlQ9rgTsxs%2BtGifhA6AYaGhmZkGR%2BIACZ0&X-Amz-Signature=f3896d52c299b9dc461d5b3f530d101981cce49abb23c416bfae9ffdf60fbfcc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665O6AREWI%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040433Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD5Hs3ZIMFiEzdQwSaL%2FV0EW4KKxEiIB76TMVEd6AqoLAIgIFPHjZOCsA%2FdeJtQIwFBR4sRRaPSZbDRWtkHhUnzAmAq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDDzS1SkXq2LKpDX5QSrcA8aEcq4Q7xCQ2CrDrpKwIT1KVbqksjDY%2FSB4Ak9VH8F2VQtSIjh8yOuOChESdKs9Ay3yjbYqHHeR9vV9aF0dUK5eelj8DN9eR9mxfXJ0SHrJr%2BrO2heBdBw3dJcUDLFC4mKV0pvSRgeN3FFJg6p0EGJBdpEksHZbhxUOu2Sb3jybfpCuCGkf%2FUZ1540Nb4zbWcUej5gloegGpon061h1KWEWVpClEDZ8lMisT%2BDpQaaNhAgdkK6skLGAL5vusd4zSnET6uUJoxRfqw%2BbWYzvsENOZfoi%2FPPsU%2FBG0mIBXQrg%2BS1ytYrjhi7XDn5gxk8RUrS9b%2BByidj0goaHeug9TjXDlFN6lj%2FOCb1Pvz2xWID5PxfCneh1x7sYj4EJcNIQU5ugCbTuvpLparRGIjzHem3OAUHvfmOFz%2BWE1%2Fc8DE8%2B%2BVIGgirBIUibuxkPsicnPD%2FwAR%2B3Ltpqp3etML3m8YccrnAQsumahaZyiWlTuI0DKp9e0PZcnZHJmvamCuhrbewq6nyFIguY4bx7f2kRhNFc%2BFro7PCJ9klqhrdk7Pve9%2Fkm6UUbdQtDbq6qIfFnTi6oi8q1%2F45X2uYUB%2FiuqCp9l8zA%2FR%2BX9yy2uC6CWvoR8F0Yyg1JXbjrGYjuMLXRvMoGOqUBDp2UfckcTswZpFbnPegYN%2BUJWhr4Uhw5vuEu3BmsP6%2BPNUVT6NRsAvi6KDSL%2Bu3xnU%2FLdcylPGpft6BdX7qzqG5hBeK1qXQYuaZyeQ3QTch8WxPnllnktiR%2FkuB4%2ByRkFgqb5P0XQNBMnKl1%2Bi5FcUGqQzG%2BGFC5e4mr79oc2aZqNnbCl8NDjQWFbGKlQ9rgTsxs%2BtGifhA6AYaGhmZkGR%2BIACZ0&X-Amz-Signature=913b5b4da6899dad3e71c9e9a706ac62bb55da54e09e475fe4f7834f3fdf5859&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665O6AREWI%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040433Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD5Hs3ZIMFiEzdQwSaL%2FV0EW4KKxEiIB76TMVEd6AqoLAIgIFPHjZOCsA%2FdeJtQIwFBR4sRRaPSZbDRWtkHhUnzAmAq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDDzS1SkXq2LKpDX5QSrcA8aEcq4Q7xCQ2CrDrpKwIT1KVbqksjDY%2FSB4Ak9VH8F2VQtSIjh8yOuOChESdKs9Ay3yjbYqHHeR9vV9aF0dUK5eelj8DN9eR9mxfXJ0SHrJr%2BrO2heBdBw3dJcUDLFC4mKV0pvSRgeN3FFJg6p0EGJBdpEksHZbhxUOu2Sb3jybfpCuCGkf%2FUZ1540Nb4zbWcUej5gloegGpon061h1KWEWVpClEDZ8lMisT%2BDpQaaNhAgdkK6skLGAL5vusd4zSnET6uUJoxRfqw%2BbWYzvsENOZfoi%2FPPsU%2FBG0mIBXQrg%2BS1ytYrjhi7XDn5gxk8RUrS9b%2BByidj0goaHeug9TjXDlFN6lj%2FOCb1Pvz2xWID5PxfCneh1x7sYj4EJcNIQU5ugCbTuvpLparRGIjzHem3OAUHvfmOFz%2BWE1%2Fc8DE8%2B%2BVIGgirBIUibuxkPsicnPD%2FwAR%2B3Ltpqp3etML3m8YccrnAQsumahaZyiWlTuI0DKp9e0PZcnZHJmvamCuhrbewq6nyFIguY4bx7f2kRhNFc%2BFro7PCJ9klqhrdk7Pve9%2Fkm6UUbdQtDbq6qIfFnTi6oi8q1%2F45X2uYUB%2FiuqCp9l8zA%2FR%2BX9yy2uC6CWvoR8F0Yyg1JXbjrGYjuMLXRvMoGOqUBDp2UfckcTswZpFbnPegYN%2BUJWhr4Uhw5vuEu3BmsP6%2BPNUVT6NRsAvi6KDSL%2Bu3xnU%2FLdcylPGpft6BdX7qzqG5hBeK1qXQYuaZyeQ3QTch8WxPnllnktiR%2FkuB4%2ByRkFgqb5P0XQNBMnKl1%2Bi5FcUGqQzG%2BGFC5e4mr79oc2aZqNnbCl8NDjQWFbGKlQ9rgTsxs%2BtGifhA6AYaGhmZkGR%2BIACZ0&X-Amz-Signature=dd0014c534a9df66cb28962f6d54501cb05316711b128deb87143d64b552d6ca&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YVPDM7ZL%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040434Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGNFWrydmIPAury8Zbv6vIY%2Btb9hyEj8DhPKSSIiE%2BOmAiEA7hAs%2BHvz1e9fVvX91FVccOEM92lxXELU9tfAIFmUIcgq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDKD0krS4O99YVo4tECrcAxv%2BNX3io0USokCcCeFKnWxliFjYgXKxAmP%2FQKn49tnhHbgPNSKxJakWYJap3qbJmnXHMYu3wXoGGEyk5b4zSMSjFxygD1RF6IrTvurziuH%2FRsHUMR0VKB%2BmE0eicxTaxCdp7ooYPvefpczwdW8TQGJ2VVuNw51dsdTVfJkKjAzwG%2B18xAADkfzoWtJyHsPFA4BzK7WtTICaJki1I33is7kmz8Yu9J2A34URz0idhRfGSEVz65axkUs9Nsn1dtTpEeQsCu8yr6SpFJ%2FxRLkU7MDBxHV%2FkA%2FZX2DsKoCz%2BMViEFYFq603QdYqQ4rk1wGM3jj8J348xrjqYKhh5vxrI5ishmPlgD875nPfoJi5tlT05JiuBJBvFbdCOHD6sKEGg8Xx5oagFNmBnMirFW0d8Q5FojwXej26FEyTPzuTFptqbzURnfp3m4ZRe0qebwHtgDykcQw4UaN8zf0i3gR7euU3QxYhIUL96HWuZQlfS06pk%2FYZaTsSaUyZ7YXkzvDN9f%2BI2lSt7WwO7kAKuknuy%2FvmCKB%2FUcMFbea0nM75k9pr01CMlBkUABcxv%2F57ckucjbnjNQHBNFcTX9FHrFfx5B58rS%2Bpn0j6ztjBupu6xNXrOXjPENo6WcZys6knMMzUvMoGOqUBTcNmHb96ybKmRu4PDUZU%2Baa%2Bgysgts%2BOJswnRl80d6LGrKJ6xuAvjU6fkuX8Rp1VkFwBGRdgJm9FNWRSvLW%2BvHDkwRXr2jjX8KEc%2Bsr1X4SuEDQeK7DF4eOEBpZfOSn1a%2B9m5O%2BPrBfESKcOqJBAonqVQaJmK2WlaUZD2%2BSToNfDjr8yu0k7fbmlW9n97ZZzX1QB1xX6W0xdzR%2Bk5NWNdF%2FA5vte&X-Amz-Signature=e35036fd45fa7c51d6b412f6f97975c469a9a3fd401c062448250362f0c7e155&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YVPDM7ZL%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040434Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGNFWrydmIPAury8Zbv6vIY%2Btb9hyEj8DhPKSSIiE%2BOmAiEA7hAs%2BHvz1e9fVvX91FVccOEM92lxXELU9tfAIFmUIcgq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDKD0krS4O99YVo4tECrcAxv%2BNX3io0USokCcCeFKnWxliFjYgXKxAmP%2FQKn49tnhHbgPNSKxJakWYJap3qbJmnXHMYu3wXoGGEyk5b4zSMSjFxygD1RF6IrTvurziuH%2FRsHUMR0VKB%2BmE0eicxTaxCdp7ooYPvefpczwdW8TQGJ2VVuNw51dsdTVfJkKjAzwG%2B18xAADkfzoWtJyHsPFA4BzK7WtTICaJki1I33is7kmz8Yu9J2A34URz0idhRfGSEVz65axkUs9Nsn1dtTpEeQsCu8yr6SpFJ%2FxRLkU7MDBxHV%2FkA%2FZX2DsKoCz%2BMViEFYFq603QdYqQ4rk1wGM3jj8J348xrjqYKhh5vxrI5ishmPlgD875nPfoJi5tlT05JiuBJBvFbdCOHD6sKEGg8Xx5oagFNmBnMirFW0d8Q5FojwXej26FEyTPzuTFptqbzURnfp3m4ZRe0qebwHtgDykcQw4UaN8zf0i3gR7euU3QxYhIUL96HWuZQlfS06pk%2FYZaTsSaUyZ7YXkzvDN9f%2BI2lSt7WwO7kAKuknuy%2FvmCKB%2FUcMFbea0nM75k9pr01CMlBkUABcxv%2F57ckucjbnjNQHBNFcTX9FHrFfx5B58rS%2Bpn0j6ztjBupu6xNXrOXjPENo6WcZys6knMMzUvMoGOqUBTcNmHb96ybKmRu4PDUZU%2Baa%2Bgysgts%2BOJswnRl80d6LGrKJ6xuAvjU6fkuX8Rp1VkFwBGRdgJm9FNWRSvLW%2BvHDkwRXr2jjX8KEc%2Bsr1X4SuEDQeK7DF4eOEBpZfOSn1a%2B9m5O%2BPrBfESKcOqJBAonqVQaJmK2WlaUZD2%2BSToNfDjr8yu0k7fbmlW9n97ZZzX1QB1xX6W0xdzR%2Bk5NWNdF%2FA5vte&X-Amz-Signature=5b4f5ffc5e55d837279a424e7f939177b3ffa89fc03f290d3ddab47e32009d19&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YVPDM7ZL%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040434Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGNFWrydmIPAury8Zbv6vIY%2Btb9hyEj8DhPKSSIiE%2BOmAiEA7hAs%2BHvz1e9fVvX91FVccOEM92lxXELU9tfAIFmUIcgq%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDKD0krS4O99YVo4tECrcAxv%2BNX3io0USokCcCeFKnWxliFjYgXKxAmP%2FQKn49tnhHbgPNSKxJakWYJap3qbJmnXHMYu3wXoGGEyk5b4zSMSjFxygD1RF6IrTvurziuH%2FRsHUMR0VKB%2BmE0eicxTaxCdp7ooYPvefpczwdW8TQGJ2VVuNw51dsdTVfJkKjAzwG%2B18xAADkfzoWtJyHsPFA4BzK7WtTICaJki1I33is7kmz8Yu9J2A34URz0idhRfGSEVz65axkUs9Nsn1dtTpEeQsCu8yr6SpFJ%2FxRLkU7MDBxHV%2FkA%2FZX2DsKoCz%2BMViEFYFq603QdYqQ4rk1wGM3jj8J348xrjqYKhh5vxrI5ishmPlgD875nPfoJi5tlT05JiuBJBvFbdCOHD6sKEGg8Xx5oagFNmBnMirFW0d8Q5FojwXej26FEyTPzuTFptqbzURnfp3m4ZRe0qebwHtgDykcQw4UaN8zf0i3gR7euU3QxYhIUL96HWuZQlfS06pk%2FYZaTsSaUyZ7YXkzvDN9f%2BI2lSt7WwO7kAKuknuy%2FvmCKB%2FUcMFbea0nM75k9pr01CMlBkUABcxv%2F57ckucjbnjNQHBNFcTX9FHrFfx5B58rS%2Bpn0j6ztjBupu6xNXrOXjPENo6WcZys6knMMzUvMoGOqUBTcNmHb96ybKmRu4PDUZU%2Baa%2Bgysgts%2BOJswnRl80d6LGrKJ6xuAvjU6fkuX8Rp1VkFwBGRdgJm9FNWRSvLW%2BvHDkwRXr2jjX8KEc%2Bsr1X4SuEDQeK7DF4eOEBpZfOSn1a%2B9m5O%2BPrBfESKcOqJBAonqVQaJmK2WlaUZD2%2BSToNfDjr8yu0k7fbmlW9n97ZZzX1QB1xX6W0xdzR%2Bk5NWNdF%2FA5vte&X-Amz-Signature=b207cea477c88a04b1e6ec86844cad8caf57b4d4770ac361fc0c727ecbfae8fe&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664BOXENZ4%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAY36urDBlK9Rp4IalzB4mzLkRAmjGhpitSa4YqG3gDfAiEA0kRZaFr9UNRXPFUkAp0GNwF11rzECSTzx0k2sAAUeh8q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDDGUwa%2BAiehimbpDjyrcA%2BUfpomruNWlKjtmWfSs%2BNVm4aTZlzHQ3rLUNvL78k8IS9HeacNbghjervGrP%2Fu5WLu6Tut6N5l%2F9GL7SFS7u1d0JWf%2BImsYBKA%2BTj1ETtfUZnFUA0oIgDsOoEb48A8%2BrWd9XEfub4Qp4xmofCj3WeZjNf0NCcG2cuDV4qfaOVFmgQqxuLjUOoL2IBd7bm%2F9x2eXXwVDUKQRYNS8%2FeQqtK%2FBGq3wetPOzkxfiXV%2FLZiKprErzOuyWkidrSp7k3H9MAAyLjqcQk7cBK%2BVNgi4hnKbfJQMgAzJig0bpjY4zXtR0kJDo0tACAmt7%2FciO%2FYVlz0ZsMn2Ha6ECVBr5PLqtv6ruX2L4ascG3ZzlrZoP7VZcq9XYLThsArkonayskgxhWlyS4TManexBU8p3mqcXr9F%2FjcrZpeZawV6QzbwU2HWPBUTSrDlhfouLMFgDHI5zSSOer448cGvZ1mkX3dTpCKoueWuvjpBMzdsDVhJSHAb7p1BPX977dKDNeqSEysHfuNAP79rs%2FI62NkMF9AeS2NhcT7Tqx6BU96deihgeyy9TT8O%2F2yI5oWHKKS5d8ExV9FvHcM1S1UGxnc0dSZp9TS78mEbHUqu1%2Fn0irJHQJyymH8mWJBLVWRYfp7oMOPTvMoGOqUBl%2B%2BkigO93jCaWNcay%2FVdgkEibEQe%2BwZJCFnSAZ0u6GGgB57rKo5OerDi4UpteFC%2BVJdkRkDAxTMrDvPz9MzXrZzpcTPZUEHC7yBmBjVdX4nwjZ4hpufYjDE%2FLvtQcn20%2FliBy4V8Zc6og08Z06muBsxhHeUuKspVOf0C1WBqJ4BbSozrJwNjJoyS9SOceY%2BN6v15YFt2SptUnPTmYfMucncxp%2Ft2&X-Amz-Signature=14d2d62bb0a415d762e5a39604135748104ef7791ff0c3e169df6333c3749ca6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664BOXENZ4%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAY36urDBlK9Rp4IalzB4mzLkRAmjGhpitSa4YqG3gDfAiEA0kRZaFr9UNRXPFUkAp0GNwF11rzECSTzx0k2sAAUeh8q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDDGUwa%2BAiehimbpDjyrcA%2BUfpomruNWlKjtmWfSs%2BNVm4aTZlzHQ3rLUNvL78k8IS9HeacNbghjervGrP%2Fu5WLu6Tut6N5l%2F9GL7SFS7u1d0JWf%2BImsYBKA%2BTj1ETtfUZnFUA0oIgDsOoEb48A8%2BrWd9XEfub4Qp4xmofCj3WeZjNf0NCcG2cuDV4qfaOVFmgQqxuLjUOoL2IBd7bm%2F9x2eXXwVDUKQRYNS8%2FeQqtK%2FBGq3wetPOzkxfiXV%2FLZiKprErzOuyWkidrSp7k3H9MAAyLjqcQk7cBK%2BVNgi4hnKbfJQMgAzJig0bpjY4zXtR0kJDo0tACAmt7%2FciO%2FYVlz0ZsMn2Ha6ECVBr5PLqtv6ruX2L4ascG3ZzlrZoP7VZcq9XYLThsArkonayskgxhWlyS4TManexBU8p3mqcXr9F%2FjcrZpeZawV6QzbwU2HWPBUTSrDlhfouLMFgDHI5zSSOer448cGvZ1mkX3dTpCKoueWuvjpBMzdsDVhJSHAb7p1BPX977dKDNeqSEysHfuNAP79rs%2FI62NkMF9AeS2NhcT7Tqx6BU96deihgeyy9TT8O%2F2yI5oWHKKS5d8ExV9FvHcM1S1UGxnc0dSZp9TS78mEbHUqu1%2Fn0irJHQJyymH8mWJBLVWRYfp7oMOPTvMoGOqUBl%2B%2BkigO93jCaWNcay%2FVdgkEibEQe%2BwZJCFnSAZ0u6GGgB57rKo5OerDi4UpteFC%2BVJdkRkDAxTMrDvPz9MzXrZzpcTPZUEHC7yBmBjVdX4nwjZ4hpufYjDE%2FLvtQcn20%2FliBy4V8Zc6og08Z06muBsxhHeUuKspVOf0C1WBqJ4BbSozrJwNjJoyS9SOceY%2BN6v15YFt2SptUnPTmYfMucncxp%2Ft2&X-Amz-Signature=5d987018384f49ffb53233b26b5f6f0c6ecf6a8f41006d001938e0e7cbce003d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664BOXENZ4%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAY36urDBlK9Rp4IalzB4mzLkRAmjGhpitSa4YqG3gDfAiEA0kRZaFr9UNRXPFUkAp0GNwF11rzECSTzx0k2sAAUeh8q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDDGUwa%2BAiehimbpDjyrcA%2BUfpomruNWlKjtmWfSs%2BNVm4aTZlzHQ3rLUNvL78k8IS9HeacNbghjervGrP%2Fu5WLu6Tut6N5l%2F9GL7SFS7u1d0JWf%2BImsYBKA%2BTj1ETtfUZnFUA0oIgDsOoEb48A8%2BrWd9XEfub4Qp4xmofCj3WeZjNf0NCcG2cuDV4qfaOVFmgQqxuLjUOoL2IBd7bm%2F9x2eXXwVDUKQRYNS8%2FeQqtK%2FBGq3wetPOzkxfiXV%2FLZiKprErzOuyWkidrSp7k3H9MAAyLjqcQk7cBK%2BVNgi4hnKbfJQMgAzJig0bpjY4zXtR0kJDo0tACAmt7%2FciO%2FYVlz0ZsMn2Ha6ECVBr5PLqtv6ruX2L4ascG3ZzlrZoP7VZcq9XYLThsArkonayskgxhWlyS4TManexBU8p3mqcXr9F%2FjcrZpeZawV6QzbwU2HWPBUTSrDlhfouLMFgDHI5zSSOer448cGvZ1mkX3dTpCKoueWuvjpBMzdsDVhJSHAb7p1BPX977dKDNeqSEysHfuNAP79rs%2FI62NkMF9AeS2NhcT7Tqx6BU96deihgeyy9TT8O%2F2yI5oWHKKS5d8ExV9FvHcM1S1UGxnc0dSZp9TS78mEbHUqu1%2Fn0irJHQJyymH8mWJBLVWRYfp7oMOPTvMoGOqUBl%2B%2BkigO93jCaWNcay%2FVdgkEibEQe%2BwZJCFnSAZ0u6GGgB57rKo5OerDi4UpteFC%2BVJdkRkDAxTMrDvPz9MzXrZzpcTPZUEHC7yBmBjVdX4nwjZ4hpufYjDE%2FLvtQcn20%2FliBy4V8Zc6og08Z06muBsxhHeUuKspVOf0C1WBqJ4BbSozrJwNjJoyS9SOceY%2BN6v15YFt2SptUnPTmYfMucncxp%2Ft2&X-Amz-Signature=d98b70f71b989294f389b73e032ff434b537280966d0a61ee079cf524b9edc8d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664BOXENZ4%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIAY36urDBlK9Rp4IalzB4mzLkRAmjGhpitSa4YqG3gDfAiEA0kRZaFr9UNRXPFUkAp0GNwF11rzECSTzx0k2sAAUeh8q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDDGUwa%2BAiehimbpDjyrcA%2BUfpomruNWlKjtmWfSs%2BNVm4aTZlzHQ3rLUNvL78k8IS9HeacNbghjervGrP%2Fu5WLu6Tut6N5l%2F9GL7SFS7u1d0JWf%2BImsYBKA%2BTj1ETtfUZnFUA0oIgDsOoEb48A8%2BrWd9XEfub4Qp4xmofCj3WeZjNf0NCcG2cuDV4qfaOVFmgQqxuLjUOoL2IBd7bm%2F9x2eXXwVDUKQRYNS8%2FeQqtK%2FBGq3wetPOzkxfiXV%2FLZiKprErzOuyWkidrSp7k3H9MAAyLjqcQk7cBK%2BVNgi4hnKbfJQMgAzJig0bpjY4zXtR0kJDo0tACAmt7%2FciO%2FYVlz0ZsMn2Ha6ECVBr5PLqtv6ruX2L4ascG3ZzlrZoP7VZcq9XYLThsArkonayskgxhWlyS4TManexBU8p3mqcXr9F%2FjcrZpeZawV6QzbwU2HWPBUTSrDlhfouLMFgDHI5zSSOer448cGvZ1mkX3dTpCKoueWuvjpBMzdsDVhJSHAb7p1BPX977dKDNeqSEysHfuNAP79rs%2FI62NkMF9AeS2NhcT7Tqx6BU96deihgeyy9TT8O%2F2yI5oWHKKS5d8ExV9FvHcM1S1UGxnc0dSZp9TS78mEbHUqu1%2Fn0irJHQJyymH8mWJBLVWRYfp7oMOPTvMoGOqUBl%2B%2BkigO93jCaWNcay%2FVdgkEibEQe%2BwZJCFnSAZ0u6GGgB57rKo5OerDi4UpteFC%2BVJdkRkDAxTMrDvPz9MzXrZzpcTPZUEHC7yBmBjVdX4nwjZ4hpufYjDE%2FLvtQcn20%2FliBy4V8Zc6og08Z06muBsxhHeUuKspVOf0C1WBqJ4BbSozrJwNjJoyS9SOceY%2BN6v15YFt2SptUnPTmYfMucncxp%2Ft2&X-Amz-Signature=75cc048bab4375a5c6ac4876431fec0489be651b95bd8fa42fe4a974cd200938&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JH5CMRE%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGGvVYa6sKwU9Zlmw6cCumCEfY%2FVc9qFB%2BYKgOXboJuGAiEAzUvkwlF4Zqj5%2BUE5BI6Z5mr3l1DI7G4mr5dT195yk00q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDHjPJGuvgMgCuOdkkSrcA9IL7dSBYGkk4kutKFGoaSnJO5wQXDHNoblPR%2FjG48WiQQB9CccWwzBxjlNTBQ5KYFcfi7dUA%2BzK%2BfH%2FG8KhwJDHgL%2FP6V6hX%2BMOh7zAHhyvw6G4MoFqgwgtma2ac%2FpHKoz4BxRGrtfxjptC6N1a9Bb4hOULN9Rs7XNv0OISlsBCdr8NRRWIH0Exxa3TUuJE1n0OfRNROwYJ%2BsCbQsNa2smGxRX6Ejc0go0wN2FRDMKbXjxsvEA6pl64r7bknLdQ%2F%2BOwf7PqD1bjvimKmlolc%2BSFpJlZXpi5exRSo1hSf5rmvIYHDHDU1KR7CfSGQv4sjQaLs%2Bpgbo5z%2FusNZcZSfOvGkAYvCO4nuGUwVuliKslyWDEJ8Ckpphrlk2Anif9fgciXZiAttA2SH4lznE51iqpHWlnYc0RBtpRe7oENGoGxLKn6Nb%2FB02PBd1z1MhLSko6ux84t6MQ1yIg5UzKzGf84j2OJnNsIbvzAQABAlLHiX9a12tRKesAyLpQQibJ8UqEyyrO1J3pNkSN9WK41aAdAH8Mx6MBzYk78Eh5N01NcAllAzDKMYFOo7jX14K8fwEZWWwm1h7mpEPRC9cODWQ%2FC%2BC6K8QhFJbc4JxAWVCFhish8VuTNBQ%2FmH6%2FxMJHUvMoGOqUBwsoT6YoX%2B29dNK5Zh%2BCU08ODxMo8ewt%2B5sXNy0JiH%2BzJd3aP801CGZg4gTZV9etE7iAOgD5ACd49%2FqKs23VsRXKSRVZk6STz8A7uTn6vcwo7vAd8hyNGoSr4Mx5PKer8EtjHIK%2BHwQ8Nc5BaijGzGczhUWpFSGIffiiafwyJ5rqQCb0r5QpK31jeEfmPdfwjo8sb1lB4WEgiUenbT%2FSVqclXNAtb&X-Amz-Signature=f454b129af91401f2da12f0ba7a85bd2032994713289af08512b278cd8a240f1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JH5CMRE%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGGvVYa6sKwU9Zlmw6cCumCEfY%2FVc9qFB%2BYKgOXboJuGAiEAzUvkwlF4Zqj5%2BUE5BI6Z5mr3l1DI7G4mr5dT195yk00q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDHjPJGuvgMgCuOdkkSrcA9IL7dSBYGkk4kutKFGoaSnJO5wQXDHNoblPR%2FjG48WiQQB9CccWwzBxjlNTBQ5KYFcfi7dUA%2BzK%2BfH%2FG8KhwJDHgL%2FP6V6hX%2BMOh7zAHhyvw6G4MoFqgwgtma2ac%2FpHKoz4BxRGrtfxjptC6N1a9Bb4hOULN9Rs7XNv0OISlsBCdr8NRRWIH0Exxa3TUuJE1n0OfRNROwYJ%2BsCbQsNa2smGxRX6Ejc0go0wN2FRDMKbXjxsvEA6pl64r7bknLdQ%2F%2BOwf7PqD1bjvimKmlolc%2BSFpJlZXpi5exRSo1hSf5rmvIYHDHDU1KR7CfSGQv4sjQaLs%2Bpgbo5z%2FusNZcZSfOvGkAYvCO4nuGUwVuliKslyWDEJ8Ckpphrlk2Anif9fgciXZiAttA2SH4lznE51iqpHWlnYc0RBtpRe7oENGoGxLKn6Nb%2FB02PBd1z1MhLSko6ux84t6MQ1yIg5UzKzGf84j2OJnNsIbvzAQABAlLHiX9a12tRKesAyLpQQibJ8UqEyyrO1J3pNkSN9WK41aAdAH8Mx6MBzYk78Eh5N01NcAllAzDKMYFOo7jX14K8fwEZWWwm1h7mpEPRC9cODWQ%2FC%2BC6K8QhFJbc4JxAWVCFhish8VuTNBQ%2FmH6%2FxMJHUvMoGOqUBwsoT6YoX%2B29dNK5Zh%2BCU08ODxMo8ewt%2B5sXNy0JiH%2BzJd3aP801CGZg4gTZV9etE7iAOgD5ACd49%2FqKs23VsRXKSRVZk6STz8A7uTn6vcwo7vAd8hyNGoSr4Mx5PKer8EtjHIK%2BHwQ8Nc5BaijGzGczhUWpFSGIffiiafwyJ5rqQCb0r5QpK31jeEfmPdfwjo8sb1lB4WEgiUenbT%2FSVqclXNAtb&X-Amz-Signature=9e56c7aca3512281cf5e82cb972927ea9962dd5de88a3ef2cf5bec25977d134c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JH5CMRE%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGGvVYa6sKwU9Zlmw6cCumCEfY%2FVc9qFB%2BYKgOXboJuGAiEAzUvkwlF4Zqj5%2BUE5BI6Z5mr3l1DI7G4mr5dT195yk00q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDHjPJGuvgMgCuOdkkSrcA9IL7dSBYGkk4kutKFGoaSnJO5wQXDHNoblPR%2FjG48WiQQB9CccWwzBxjlNTBQ5KYFcfi7dUA%2BzK%2BfH%2FG8KhwJDHgL%2FP6V6hX%2BMOh7zAHhyvw6G4MoFqgwgtma2ac%2FpHKoz4BxRGrtfxjptC6N1a9Bb4hOULN9Rs7XNv0OISlsBCdr8NRRWIH0Exxa3TUuJE1n0OfRNROwYJ%2BsCbQsNa2smGxRX6Ejc0go0wN2FRDMKbXjxsvEA6pl64r7bknLdQ%2F%2BOwf7PqD1bjvimKmlolc%2BSFpJlZXpi5exRSo1hSf5rmvIYHDHDU1KR7CfSGQv4sjQaLs%2Bpgbo5z%2FusNZcZSfOvGkAYvCO4nuGUwVuliKslyWDEJ8Ckpphrlk2Anif9fgciXZiAttA2SH4lznE51iqpHWlnYc0RBtpRe7oENGoGxLKn6Nb%2FB02PBd1z1MhLSko6ux84t6MQ1yIg5UzKzGf84j2OJnNsIbvzAQABAlLHiX9a12tRKesAyLpQQibJ8UqEyyrO1J3pNkSN9WK41aAdAH8Mx6MBzYk78Eh5N01NcAllAzDKMYFOo7jX14K8fwEZWWwm1h7mpEPRC9cODWQ%2FC%2BC6K8QhFJbc4JxAWVCFhish8VuTNBQ%2FmH6%2FxMJHUvMoGOqUBwsoT6YoX%2B29dNK5Zh%2BCU08ODxMo8ewt%2B5sXNy0JiH%2BzJd3aP801CGZg4gTZV9etE7iAOgD5ACd49%2FqKs23VsRXKSRVZk6STz8A7uTn6vcwo7vAd8hyNGoSr4Mx5PKer8EtjHIK%2BHwQ8Nc5BaijGzGczhUWpFSGIffiiafwyJ5rqQCb0r5QpK31jeEfmPdfwjo8sb1lB4WEgiUenbT%2FSVqclXNAtb&X-Amz-Signature=7cbcf3e6d391bf67bbe8e7ed69da7b985b8a29963edf07399bda0e3564cef007&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663JH5CMRE%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGGvVYa6sKwU9Zlmw6cCumCEfY%2FVc9qFB%2BYKgOXboJuGAiEAzUvkwlF4Zqj5%2BUE5BI6Z5mr3l1DI7G4mr5dT195yk00q%2FwMIYhAAGgw2Mzc0MjMxODM4MDUiDHjPJGuvgMgCuOdkkSrcA9IL7dSBYGkk4kutKFGoaSnJO5wQXDHNoblPR%2FjG48WiQQB9CccWwzBxjlNTBQ5KYFcfi7dUA%2BzK%2BfH%2FG8KhwJDHgL%2FP6V6hX%2BMOh7zAHhyvw6G4MoFqgwgtma2ac%2FpHKoz4BxRGrtfxjptC6N1a9Bb4hOULN9Rs7XNv0OISlsBCdr8NRRWIH0Exxa3TUuJE1n0OfRNROwYJ%2BsCbQsNa2smGxRX6Ejc0go0wN2FRDMKbXjxsvEA6pl64r7bknLdQ%2F%2BOwf7PqD1bjvimKmlolc%2BSFpJlZXpi5exRSo1hSf5rmvIYHDHDU1KR7CfSGQv4sjQaLs%2Bpgbo5z%2FusNZcZSfOvGkAYvCO4nuGUwVuliKslyWDEJ8Ckpphrlk2Anif9fgciXZiAttA2SH4lznE51iqpHWlnYc0RBtpRe7oENGoGxLKn6Nb%2FB02PBd1z1MhLSko6ux84t6MQ1yIg5UzKzGf84j2OJnNsIbvzAQABAlLHiX9a12tRKesAyLpQQibJ8UqEyyrO1J3pNkSN9WK41aAdAH8Mx6MBzYk78Eh5N01NcAllAzDKMYFOo7jX14K8fwEZWWwm1h7mpEPRC9cODWQ%2FC%2BC6K8QhFJbc4JxAWVCFhish8VuTNBQ%2FmH6%2FxMJHUvMoGOqUBwsoT6YoX%2B29dNK5Zh%2BCU08ODxMo8ewt%2B5sXNy0JiH%2BzJd3aP801CGZg4gTZV9etE7iAOgD5ACd49%2FqKs23VsRXKSRVZk6STz8A7uTn6vcwo7vAd8hyNGoSr4Mx5PKer8EtjHIK%2BHwQ8Nc5BaijGzGczhUWpFSGIffiiafwyJ5rqQCb0r5QpK31jeEfmPdfwjo8sb1lB4WEgiUenbT%2FSVqclXNAtb&X-Amz-Signature=b262f877f82e62d496929753514f7112e54be3fcea828fc61bdfba89e6699d49&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YDZAQQLC%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC1h3x2%2FA%2FhUTJBuLxRgE2zauU%2B8XKqLlWNIgxHx%2BxK2wIhAJiIZyOjGxNyiJJJpUMgdS6%2F1dBySY%2B7W7BhE%2FvqMSTHKv8DCGIQABoMNjM3NDIzMTgzODA1IgwLPKgTSOAhJZ%2Bhhd0q3ANJ4zzx937QliQn%2F2oYEk7hUZI9E%2BwKfa4VRm%2FCMi7jk15sc0d%2BnTiI5vZ1OVklGI3De5rzNufyk5kTK368VD2Z2GUyYg2YZaAz4jzgsFEB1HvEGTbxwTZ5PftOQvoesom66PeEca7RvxdhDcP0ijXkHm4ksuM8hVLUC8%2F9jAd5roSLJicGPaiXp9ixp7HDP3Dq3YegkPe%2BqYt6Rf5GMivhA557lDmWrKMAS5QsHthFyKLLnm5jVY4AcRngicBiK%2BaPAw91%2By7zmxbkxDTfmW2TCK5bp5NY8vnwg%2FDzzwGophvKRY5HjyKnQJuNEwDHGiqc20dkjdbM60KNJGK4r9f9NqI4nR0J%2Fx1oWXIWHTFjQOzRCC2Ukvum6BikLjpMmmirHMv7H0%2Bfz2GOf0xhjdaXgS9wl02kcVWRPCz28I%2Fq9gMgfWrS86L6iGyNJ1VmzdNr4wr6omuVXri3VhxBZH31JP4TPUBVYv7eNGCp%2BOPNRqdciW7O5jSbbbnFO6wl7CuZeSJ14LxmqseaJ3im90yqJimxavdyF3yA78E1dg%2BPcUD7ygcKOMzLZFM%2Fg%2FHJ2qtkUTkD8%2BYMUzx18TTxtnO%2B27gcjfWg6Tqm8nB9Gbto%2FFqQ6EIYmBBtrcjl0jDm37zKBjqkAXmTugJD0byAu0UTKvlV7IOPFzzYg6VmhAQivotnc%2FfzCGbtERJd%2B8Kl4x7kUSJpuPZb2hX9x28aIONyFrMMCyz83lu2QE9OXD0AN%2BAbnr4J18eYg1yKTq6ydkcXBuMuQad%2B1xbgegbPCznDYhHwoGaXogddie9WxTGlLOjBh7WX3oMPEkqNPZIAqfztZPiFp5GiVXlFhJj0XxI64LTsPCAeXeF5&X-Amz-Signature=91bf42dad0f73c72e865515b15dce5744eb656037a32fef3eb3fe3f5f052949b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YDZAQQLC%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC1h3x2%2FA%2FhUTJBuLxRgE2zauU%2B8XKqLlWNIgxHx%2BxK2wIhAJiIZyOjGxNyiJJJpUMgdS6%2F1dBySY%2B7W7BhE%2FvqMSTHKv8DCGIQABoMNjM3NDIzMTgzODA1IgwLPKgTSOAhJZ%2Bhhd0q3ANJ4zzx937QliQn%2F2oYEk7hUZI9E%2BwKfa4VRm%2FCMi7jk15sc0d%2BnTiI5vZ1OVklGI3De5rzNufyk5kTK368VD2Z2GUyYg2YZaAz4jzgsFEB1HvEGTbxwTZ5PftOQvoesom66PeEca7RvxdhDcP0ijXkHm4ksuM8hVLUC8%2F9jAd5roSLJicGPaiXp9ixp7HDP3Dq3YegkPe%2BqYt6Rf5GMivhA557lDmWrKMAS5QsHthFyKLLnm5jVY4AcRngicBiK%2BaPAw91%2By7zmxbkxDTfmW2TCK5bp5NY8vnwg%2FDzzwGophvKRY5HjyKnQJuNEwDHGiqc20dkjdbM60KNJGK4r9f9NqI4nR0J%2Fx1oWXIWHTFjQOzRCC2Ukvum6BikLjpMmmirHMv7H0%2Bfz2GOf0xhjdaXgS9wl02kcVWRPCz28I%2Fq9gMgfWrS86L6iGyNJ1VmzdNr4wr6omuVXri3VhxBZH31JP4TPUBVYv7eNGCp%2BOPNRqdciW7O5jSbbbnFO6wl7CuZeSJ14LxmqseaJ3im90yqJimxavdyF3yA78E1dg%2BPcUD7ygcKOMzLZFM%2Fg%2FHJ2qtkUTkD8%2BYMUzx18TTxtnO%2B27gcjfWg6Tqm8nB9Gbto%2FFqQ6EIYmBBtrcjl0jDm37zKBjqkAXmTugJD0byAu0UTKvlV7IOPFzzYg6VmhAQivotnc%2FfzCGbtERJd%2B8Kl4x7kUSJpuPZb2hX9x28aIONyFrMMCyz83lu2QE9OXD0AN%2BAbnr4J18eYg1yKTq6ydkcXBuMuQad%2B1xbgegbPCznDYhHwoGaXogddie9WxTGlLOjBh7WX3oMPEkqNPZIAqfztZPiFp5GiVXlFhJj0XxI64LTsPCAeXeF5&X-Amz-Signature=b36e4f25cbe7fc269ed7306b1cf430bb4143b3e24055dc7422eb0a81dee603af&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YDZAQQLC%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040435Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC1h3x2%2FA%2FhUTJBuLxRgE2zauU%2B8XKqLlWNIgxHx%2BxK2wIhAJiIZyOjGxNyiJJJpUMgdS6%2F1dBySY%2B7W7BhE%2FvqMSTHKv8DCGIQABoMNjM3NDIzMTgzODA1IgwLPKgTSOAhJZ%2Bhhd0q3ANJ4zzx937QliQn%2F2oYEk7hUZI9E%2BwKfa4VRm%2FCMi7jk15sc0d%2BnTiI5vZ1OVklGI3De5rzNufyk5kTK368VD2Z2GUyYg2YZaAz4jzgsFEB1HvEGTbxwTZ5PftOQvoesom66PeEca7RvxdhDcP0ijXkHm4ksuM8hVLUC8%2F9jAd5roSLJicGPaiXp9ixp7HDP3Dq3YegkPe%2BqYt6Rf5GMivhA557lDmWrKMAS5QsHthFyKLLnm5jVY4AcRngicBiK%2BaPAw91%2By7zmxbkxDTfmW2TCK5bp5NY8vnwg%2FDzzwGophvKRY5HjyKnQJuNEwDHGiqc20dkjdbM60KNJGK4r9f9NqI4nR0J%2Fx1oWXIWHTFjQOzRCC2Ukvum6BikLjpMmmirHMv7H0%2Bfz2GOf0xhjdaXgS9wl02kcVWRPCz28I%2Fq9gMgfWrS86L6iGyNJ1VmzdNr4wr6omuVXri3VhxBZH31JP4TPUBVYv7eNGCp%2BOPNRqdciW7O5jSbbbnFO6wl7CuZeSJ14LxmqseaJ3im90yqJimxavdyF3yA78E1dg%2BPcUD7ygcKOMzLZFM%2Fg%2FHJ2qtkUTkD8%2BYMUzx18TTxtnO%2B27gcjfWg6Tqm8nB9Gbto%2FFqQ6EIYmBBtrcjl0jDm37zKBjqkAXmTugJD0byAu0UTKvlV7IOPFzzYg6VmhAQivotnc%2FfzCGbtERJd%2B8Kl4x7kUSJpuPZb2hX9x28aIONyFrMMCyz83lu2QE9OXD0AN%2BAbnr4J18eYg1yKTq6ydkcXBuMuQad%2B1xbgegbPCznDYhHwoGaXogddie9WxTGlLOjBh7WX3oMPEkqNPZIAqfztZPiFp5GiVXlFhJj0XxI64LTsPCAeXeF5&X-Amz-Signature=61af43b70fdcb68faf4c5b325b40e64a2337712fda0986f39f6331b5c016ee4e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662BJR35RY%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGHJ65BytO1QkUhlmM6ImjOOl0SydpyyGFCfoIqY3nawAiEA7LF7XZO40pfhiPXBYrNvaOo4vL5x%2BjHA99qxANuziOQq%2FwMIYRAAGgw2Mzc0MjMxODM4MDUiDOz5PddI5tBS9xHBGyrcA5CXQLI2nYTQ2JxwTjppRC97GO1mlftZwhnp4RXHHIxU0cyY6%2Fk3%2B2F8fY6B7vCgjWW6zqsMwIDWMVbJgnQ3UeSqhFa%2Fg9ct5ltRdqr1%2BPyeZMUzZ%2FfOyBT5wd35mIuP28iwjkWV8GGh1MuMqRbbXBaK0dPPVZBq8woRlAa3TUjPl44vAANL5MkEF8P%2BvgZHDmJL2hRxZKCYUdvLSEdKie2h%2BP7hwRpXyXEQUfQ3H9BnGuHNpWfwlwTkxdzinXUhS4reR5poWgzl1BAe2m1SqHbUgOuSrIyBj1TmtuZO9cwcQjlqmaFysx%2Bsn9BnvEoDAlsN1nRK7gSIydYbk5T8s7zAeg8cPy%2Fv3D6peOCZdRfji%2FvbMZuJUe5xixBRHegZBm43qK6516KaTtiPvW%2FLSrwG8c2u89QJjZtTBPetT1bQR5bU4%2BO%2FTkCieEio9GWfrA5kBa5WqPxRx0Eus2AABvCW%2BgYPSz7Y4va%2BkLO6sG943fb47VnHdLo%2BBe6YbforIWI5%2B%2FxyCF0fDD7ESkfSE%2FsnmvbKGDkOxNafYB7Vx113g7VCWGz3IldJ6%2FeJZhTZBXD0%2Buw0u%2F%2BuXNKqzz6kBj470gSNJtrbGnTW45tpyco4YYUXG80zvcprSCuEML3OvMoGOqUBwFrdkTsLjUnIULM0KDEXlzzlJQ%2FxN%2F%2B58KxoLWKp4HL6LQo%2B6Hf%2BB%2B%2F24Uuh3Ba07XDjMqAzYfI4d7XbPLLoHwyY9GMk3qtvA34JyJUDLV6tucwKQe7VoMcnZe9whRyChCBFAhDf8BuyvPC4XyyXnR1E94lx1wBbHydiLGLNTKXdc16A3Ym74JmVXK91CPWAWGqP%2FcGBvWH3zobOFRZEex55bnVH&X-Amz-Signature=c1c865fbc7ff78803fe3d40e2c88908b6f2634c232424ea525fb16fc02eee85b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662BJR35RY%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIGHJ65BytO1QkUhlmM6ImjOOl0SydpyyGFCfoIqY3nawAiEA7LF7XZO40pfhiPXBYrNvaOo4vL5x%2BjHA99qxANuziOQq%2FwMIYRAAGgw2Mzc0MjMxODM4MDUiDOz5PddI5tBS9xHBGyrcA5CXQLI2nYTQ2JxwTjppRC97GO1mlftZwhnp4RXHHIxU0cyY6%2Fk3%2B2F8fY6B7vCgjWW6zqsMwIDWMVbJgnQ3UeSqhFa%2Fg9ct5ltRdqr1%2BPyeZMUzZ%2FfOyBT5wd35mIuP28iwjkWV8GGh1MuMqRbbXBaK0dPPVZBq8woRlAa3TUjPl44vAANL5MkEF8P%2BvgZHDmJL2hRxZKCYUdvLSEdKie2h%2BP7hwRpXyXEQUfQ3H9BnGuHNpWfwlwTkxdzinXUhS4reR5poWgzl1BAe2m1SqHbUgOuSrIyBj1TmtuZO9cwcQjlqmaFysx%2Bsn9BnvEoDAlsN1nRK7gSIydYbk5T8s7zAeg8cPy%2Fv3D6peOCZdRfji%2FvbMZuJUe5xixBRHegZBm43qK6516KaTtiPvW%2FLSrwG8c2u89QJjZtTBPetT1bQR5bU4%2BO%2FTkCieEio9GWfrA5kBa5WqPxRx0Eus2AABvCW%2BgYPSz7Y4va%2BkLO6sG943fb47VnHdLo%2BBe6YbforIWI5%2B%2FxyCF0fDD7ESkfSE%2FsnmvbKGDkOxNafYB7Vx113g7VCWGz3IldJ6%2FeJZhTZBXD0%2Buw0u%2F%2BuXNKqzz6kBj470gSNJtrbGnTW45tpyco4YYUXG80zvcprSCuEML3OvMoGOqUBwFrdkTsLjUnIULM0KDEXlzzlJQ%2FxN%2F%2B58KxoLWKp4HL6LQo%2B6Hf%2BB%2B%2F24Uuh3Ba07XDjMqAzYfI4d7XbPLLoHwyY9GMk3qtvA34JyJUDLV6tucwKQe7VoMcnZe9whRyChCBFAhDf8BuyvPC4XyyXnR1E94lx1wBbHydiLGLNTKXdc16A3Ym74JmVXK91CPWAWGqP%2FcGBvWH3zobOFRZEex55bnVH&X-Amz-Signature=bf1631b8818c19d03022a47fb359061138e25820ce433fe201672f6fcb8b2e0a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667EB4R7J3%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC0vuI37V%2BLcYJIFbaUS0GpPZMbyPQyQ75IY7f1k0uUoAIhAJrRykWLM5dwRdZIIIwCt0bU5mRVn1KlKPTXRhUnllHfKv8DCGIQABoMNjM3NDIzMTgzODA1IgzKaAA90Sowsy1BNhQq3APUjQ2QZQbK7uLI3rKIOVhaRUXQ8kFbkwhrBy1zkSlGt9M8xOTpTKxzGqUarUI8sF0Qz%2BMsGFBBvf4ExK%2BRkKtcLP1T8L%2BSMzBl4bshYIYdaPVJibXzr4HB53XtSVnVoB95fis3u0Uuh3g3xiscWB%2BP6vo5wIGqipWmTcTQBUtQnOskorjxpZHIwApHSGml1RdEdNxfVjtjXM3Mz3DNTm6eDk2PQk1DahTOziKzIQKiJnv8A2%2FWHI%2BSBz%2BtUC8wciSaPrzwGIrW3QeFCQ1U%2Bldv55XesfMtXdl%2BjVWBDJntpXcFAnXFYYgiEzt2fngkugXXwXXIWiy39uqMrdR23kfVmNn3mO3pimeckm%2FypBiCXpLAAnAk0wzvkdRKMNAsqtozb%2F%2BgObTV0mkoGtlRlsvo5GGr6oHtnn2rcnaRMoYu5%2FSEB4o6n3W%2FW2zpssa9YmotUcfQvbqzzhqaEvx%2FfIw%2Fl5BV1Ju1wvgalGDeiT0tJzs%2FzQ%2FH01dt74sTLRBnb6lc5ucdWqnShcshd3YNhScRsLXFJfImlxOoiw%2Bgba%2BHikR3CajA%2B5DCu9z7qSG4LRfBHvWynB3TTohYXu8Qp7f%2FnnL9DqMfSXyNZUT%2BKC7tg2lT%2BcGLLRbBilL0wTC32rzKBjqkAT89q9%2F4AzLHzRCDmz6XvMFdKLY1YvglOmP%2B7X6nVYSOsw94XU12gBZkED5MJcYZdDgbHPfDKaEWSVGvLSYzn1lPnwCwsMMYbgP4xHtcidBBXpxt5srZa8RgTToJ87T8OfgjRNnY3jEYkEkc%2BCO1zGBIs%2BrV075Te%2FwQDx48d0ApTPtchZjLKzirNZADYwPV61vK%2FwsItxZr5YKNmROjT3NjVMuu&X-Amz-Signature=a082a874e6d1b7b4b6b7b0e2faad71d0b2ad9c2175c92ef1972a1e222435a026&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667EB4R7J3%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQC0vuI37V%2BLcYJIFbaUS0GpPZMbyPQyQ75IY7f1k0uUoAIhAJrRykWLM5dwRdZIIIwCt0bU5mRVn1KlKPTXRhUnllHfKv8DCGIQABoMNjM3NDIzMTgzODA1IgzKaAA90Sowsy1BNhQq3APUjQ2QZQbK7uLI3rKIOVhaRUXQ8kFbkwhrBy1zkSlGt9M8xOTpTKxzGqUarUI8sF0Qz%2BMsGFBBvf4ExK%2BRkKtcLP1T8L%2BSMzBl4bshYIYdaPVJibXzr4HB53XtSVnVoB95fis3u0Uuh3g3xiscWB%2BP6vo5wIGqipWmTcTQBUtQnOskorjxpZHIwApHSGml1RdEdNxfVjtjXM3Mz3DNTm6eDk2PQk1DahTOziKzIQKiJnv8A2%2FWHI%2BSBz%2BtUC8wciSaPrzwGIrW3QeFCQ1U%2Bldv55XesfMtXdl%2BjVWBDJntpXcFAnXFYYgiEzt2fngkugXXwXXIWiy39uqMrdR23kfVmNn3mO3pimeckm%2FypBiCXpLAAnAk0wzvkdRKMNAsqtozb%2F%2BgObTV0mkoGtlRlsvo5GGr6oHtnn2rcnaRMoYu5%2FSEB4o6n3W%2FW2zpssa9YmotUcfQvbqzzhqaEvx%2FfIw%2Fl5BV1Ju1wvgalGDeiT0tJzs%2FzQ%2FH01dt74sTLRBnb6lc5ucdWqnShcshd3YNhScRsLXFJfImlxOoiw%2Bgba%2BHikR3CajA%2B5DCu9z7qSG4LRfBHvWynB3TTohYXu8Qp7f%2FnnL9DqMfSXyNZUT%2BKC7tg2lT%2BcGLLRbBilL0wTC32rzKBjqkAT89q9%2F4AzLHzRCDmz6XvMFdKLY1YvglOmP%2B7X6nVYSOsw94XU12gBZkED5MJcYZdDgbHPfDKaEWSVGvLSYzn1lPnwCwsMMYbgP4xHtcidBBXpxt5srZa8RgTToJ87T8OfgjRNnY3jEYkEkc%2BCO1zGBIs%2BrV075Te%2FwQDx48d0ApTPtchZjLKzirNZADYwPV61vK%2FwsItxZr5YKNmROjT3NjVMuu&X-Amz-Signature=9fdf7d28c72805a69a69f1591279f13a61186a304a794bfcf06b00dc7d294944&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666MVNKHUE%2F20251227%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251227T040436Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJn%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCz29jmOUHSro2j0LzN0q3saaDYniwcF9uSZtLvtb5BIgIhAIbQt1JflYyVD5qgC5jUsV2F5vZ9DXnYENNgtNC%2BUCV8Kv8DCGIQABoMNjM3NDIzMTgzODA1IgxS47L2JQ9TrFG1zcoq3APqhwIirhu8D215t%2FzSRUelPIY%2FkJto0JB%2BmiU54IwXE7jKDd9TOX3Wa7IeHnb%2FUUHm6awhmFFdMD5h5vZzLJxSFb7FVrUQ1jCArv9xpBl2y5t%2Fe3ivkVENxW2zZFEESZLsRm0%2F5Gr3NlYmXjHJvXOd0qpYO8pr5uexzuO5mB4n5U%2FrtmaTJNigrzZqIuG7FPUHEkFg08zn5fsjGl%2FUZYYaOE8Q3kPRf184HOufMSBrCFLB5sVNT9Sq7J42K4fqCrTZtkKRLSQPfDn8O2OArj5j%2BzeEiEEXCnCu1l1Rp95CYvtLIGrbTByz1ZUdKIhVJGaDGVm%2F5XYvRUDrqmgYJjHoZZXmUeEVUeU5NlBbjGg%2FfRgfKo5DCDIqArL2MfJnIsWvA7h%2BNZFeLKonWmNXhN76ck56d8dK%2Fh5RhioAnYB%2FxpEV01ZhXnPvbO7WXmEpXQLsbQmDqIOkGwWevs%2BhV0n%2FvlTA7l7%2FqnKKBo1e4XeGI%2FWE66etaOdXOgrJjnwRaCAQ4N5o4iKQsAnk9vUoOjHOCe70EjTZLRq3TTNd%2F4UoB%2BAXIq6K1%2FPz%2FP7ZD2dCXnFn6htyayB7%2B9lNWuEBHHRM2IVCd54YS86%2B0JeYn60ZcJJBquooJcVXmS2JsTCc1LzKBjqkAUmCZd7D4DFbItGSp%2BVyJINHjlC2SYjXRd5tu9ECaMeAa212pH0ayMRjz98sz6OJ%2BpolC2JzugSM38N2HP7M98%2FxaIpezzEt3OH3pLMC6oeNVJPNfNm5860Rb00lgGjS1UZP6Et3Fbpfvfnr0RQRKOUSHv8rQ9H5acvbX8l76jvq20hlB89UbsI6Ql4r1AZ6MbN%2B8mDyU5hCrjIInQvM6p6fA3Eb&X-Amz-Signature=975001eaa0c3235780246acd397313c8b180a8ccd3f5e20266b7d76c72803c26&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
