
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U3USBZPI%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIELzFflSrC%2Foqm%2Bj%2BeS5hIiRiPEsZfvVo9Hf3oppJ%2BpkAiBg2bVGoHDqz4e8aDX15iiFTqtQejfmfpI4oJlOx8gUjSr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMDVL%2Ffll0atos8ZMbKtwDlyn7zpiMkVKMwOmIAjritbOACxAlo31GTOfdqf8ITiGsk4yv9mNQKdjFUMBiPUEngj%2FT1peyimE1WdGEELKSNvmIOAQ0YFvmuPlgXwHz%2FrKP9OxvKNJrqGQR8MShUWCokltzA7oiq8%2FG1FeBYMM1ypIIkxvDSsDJr0sAJVBNrQ5tkQZ6w4yOy4rOJsLBADXQOzLJvjdDfms1AMekP8l4tje0xXMqH8SwWZiInctLIryqKH5Q1pmfmGi8tCiQtraDZv80aSiYS6ZWZaJOtISymiz%2FDKZKxEFAs8agWE3unGICh4K7yqubRHdP2EU6H1N%2FJ97YcVjA58xcPnFrXZgmYFxyjGXO0F9dBRukYxWrlH09MKOiNN7yObHUO%2BDIt7cgyexy%2FNz8FSlaDIu%2B1DXBoo824w3BLi29zfpE3y4K1Oxs7nlXpu1H8%2BD2A6ga0KUCLTgLtLwsVpTnflrNyM5Syu1hzAGQk%2FRe2Obf27Jyj5SAn%2BjJ6Ht%2FZeQwMbJlfos5LUsEZd9P6zvux6H7%2BpCeSm1rc3SOOPI9olHYEFrQMcO6Rvwe0bIRvuKDM6qIpcLLuIo1%2BukDnIOBcNmsuA3WgsEFP8W6IH20NQmYRxEY9tG0nADax8493T7B798wisytygY6pgFebLr0PHzhND9vN%2BydUMQfyTsR2vpJ8zBzW0oP1o2aAbovJ%2BiDwnbsYNArfrsWeBGSGKdze%2Bzi7EDDld92HPun3VkG6vBwHPiT%2F9AGbbNc9wK6xBkO3MdCqHYe1xJUonCXkeWk0oybNnFE%2BD%2F66rNcMt%2FZS%2FwtG9ZQGoXVq%2FCy0JhlQysxr6FDh2PCp1hk8P0WAkyjVmGOjfFDivXZ9JOVDfW7aA8X&X-Amz-Signature=d7f6ce7e950ae7dfe504c7a355b1d1b3807df598ea167c6632e42f6b61e442f8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U3USBZPI%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIELzFflSrC%2Foqm%2Bj%2BeS5hIiRiPEsZfvVo9Hf3oppJ%2BpkAiBg2bVGoHDqz4e8aDX15iiFTqtQejfmfpI4oJlOx8gUjSr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMDVL%2Ffll0atos8ZMbKtwDlyn7zpiMkVKMwOmIAjritbOACxAlo31GTOfdqf8ITiGsk4yv9mNQKdjFUMBiPUEngj%2FT1peyimE1WdGEELKSNvmIOAQ0YFvmuPlgXwHz%2FrKP9OxvKNJrqGQR8MShUWCokltzA7oiq8%2FG1FeBYMM1ypIIkxvDSsDJr0sAJVBNrQ5tkQZ6w4yOy4rOJsLBADXQOzLJvjdDfms1AMekP8l4tje0xXMqH8SwWZiInctLIryqKH5Q1pmfmGi8tCiQtraDZv80aSiYS6ZWZaJOtISymiz%2FDKZKxEFAs8agWE3unGICh4K7yqubRHdP2EU6H1N%2FJ97YcVjA58xcPnFrXZgmYFxyjGXO0F9dBRukYxWrlH09MKOiNN7yObHUO%2BDIt7cgyexy%2FNz8FSlaDIu%2B1DXBoo824w3BLi29zfpE3y4K1Oxs7nlXpu1H8%2BD2A6ga0KUCLTgLtLwsVpTnflrNyM5Syu1hzAGQk%2FRe2Obf27Jyj5SAn%2BjJ6Ht%2FZeQwMbJlfos5LUsEZd9P6zvux6H7%2BpCeSm1rc3SOOPI9olHYEFrQMcO6Rvwe0bIRvuKDM6qIpcLLuIo1%2BukDnIOBcNmsuA3WgsEFP8W6IH20NQmYRxEY9tG0nADax8493T7B798wisytygY6pgFebLr0PHzhND9vN%2BydUMQfyTsR2vpJ8zBzW0oP1o2aAbovJ%2BiDwnbsYNArfrsWeBGSGKdze%2Bzi7EDDld92HPun3VkG6vBwHPiT%2F9AGbbNc9wK6xBkO3MdCqHYe1xJUonCXkeWk0oybNnFE%2BD%2F66rNcMt%2FZS%2FwtG9ZQGoXVq%2FCy0JhlQysxr6FDh2PCp1hk8P0WAkyjVmGOjfFDivXZ9JOVDfW7aA8X&X-Amz-Signature=e5f9c14acc12cd8d63931c6e54abbb4348ee3f8c36a6f39f9b9b189ea92b4286&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466U3USBZPI%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIELzFflSrC%2Foqm%2Bj%2BeS5hIiRiPEsZfvVo9Hf3oppJ%2BpkAiBg2bVGoHDqz4e8aDX15iiFTqtQejfmfpI4oJlOx8gUjSr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMDVL%2Ffll0atos8ZMbKtwDlyn7zpiMkVKMwOmIAjritbOACxAlo31GTOfdqf8ITiGsk4yv9mNQKdjFUMBiPUEngj%2FT1peyimE1WdGEELKSNvmIOAQ0YFvmuPlgXwHz%2FrKP9OxvKNJrqGQR8MShUWCokltzA7oiq8%2FG1FeBYMM1ypIIkxvDSsDJr0sAJVBNrQ5tkQZ6w4yOy4rOJsLBADXQOzLJvjdDfms1AMekP8l4tje0xXMqH8SwWZiInctLIryqKH5Q1pmfmGi8tCiQtraDZv80aSiYS6ZWZaJOtISymiz%2FDKZKxEFAs8agWE3unGICh4K7yqubRHdP2EU6H1N%2FJ97YcVjA58xcPnFrXZgmYFxyjGXO0F9dBRukYxWrlH09MKOiNN7yObHUO%2BDIt7cgyexy%2FNz8FSlaDIu%2B1DXBoo824w3BLi29zfpE3y4K1Oxs7nlXpu1H8%2BD2A6ga0KUCLTgLtLwsVpTnflrNyM5Syu1hzAGQk%2FRe2Obf27Jyj5SAn%2BjJ6Ht%2FZeQwMbJlfos5LUsEZd9P6zvux6H7%2BpCeSm1rc3SOOPI9olHYEFrQMcO6Rvwe0bIRvuKDM6qIpcLLuIo1%2BukDnIOBcNmsuA3WgsEFP8W6IH20NQmYRxEY9tG0nADax8493T7B798wisytygY6pgFebLr0PHzhND9vN%2BydUMQfyTsR2vpJ8zBzW0oP1o2aAbovJ%2BiDwnbsYNArfrsWeBGSGKdze%2Bzi7EDDld92HPun3VkG6vBwHPiT%2F9AGbbNc9wK6xBkO3MdCqHYe1xJUonCXkeWk0oybNnFE%2BD%2F66rNcMt%2FZS%2FwtG9ZQGoXVq%2FCy0JhlQysxr6FDh2PCp1hk8P0WAkyjVmGOjfFDivXZ9JOVDfW7aA8X&X-Amz-Signature=93a7428c0f2898de55e6b75630dac087ea815a989736de4e84ff30a032b0b40f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X4DHTKSS%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIHHhoNhEIVwOb%2BA25Kw36B9SQN6xDPmPWEu8GMO1mMUQAiAOSI3sk9BLxrqTbs5N4CwRmrAT8Qbt00u06VJpiqKI5yr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIML4h2b4MobYlxzXCnKtwD7kqcIrWz6MBBnFyxm1u%2FhsM0%2BTK7klCl4dNu9De%2BVbN414en99lAWKWcWp9ySN7JTZS5%2BIp4avqivflpDPLkspqNAa%2FVc%2Bd4b4K7IuMxXN4K4oowdhz4IdLZoPaWnZR9XEDVBesC4R7lDJB0IzvQ6mSMkDiJpQg1GtBUijlxEUiAnxjgWhPyGgBeF5nWkGNp8ZYzcFlThgaMu%2FxUwfslsFS%2FJED2%2F9UFcaSm4U6r12jsNIaWpOO%2B6uc5XQN0Mhile4VYBSKrPCy1q0wLj7jZFm1sN1ob50d8C%2BOpxJAOwKq5bC%2BDvnVi8hDasd1Q5D2aRJnOkoIny8DzCsTn8PKQgR2GUpSQ1fDDc901kYJJOea4nHB1o9AsAfmYmv7fWGkpeC%2FE8J2tjEVpa190oJ7tTWOMfzxlIGrfYKASz3WhdHX17Y4shTXKWPyRkrsdfm90OX%2BVERXB9IGkV5yIHbd4O5xw6ZSQAXxgubVqPo9tmwIuqljWB8svdl3sXz%2BBpI8u%2FXseKk6LIIGzW4SDZJMICPTWKntUESEICXfhM4qDyZ6nVDQwOacBSt6rsNU%2BYUkVEw3JFBeU1urIJrj2%2BP2UKmWKpAee6QCLtdIdw4pED2V9LZV1x2SqFcUlBlUw3sutygY6pgHvUbyZw7AMWAnMAVtxM1N5Ih4gArHjFB0f314FixTEHiXLEvWsBD8%2B9yxyDbeAymjAOqaubptOvtcqR74%2Fcll8boj2uOX0ByB59kUUkr3Nwrp%2Fzb1zJ%2BXdgC%2ByNai7Xt7TjO8gmw0fYGonDbvS2lx71vLxV%2B3fzEFPMSsGCSv0I2wfzrSePB%2B04zg3DQl%2B2jlS1%2BTk8euV%2FsnscVhcC93e1zCGPzXE&X-Amz-Signature=c183cdb9ea9731873d75cd510a89e231b1d94f9b5864c2eeb04e5b2290e0eabd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X4DHTKSS%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIHHhoNhEIVwOb%2BA25Kw36B9SQN6xDPmPWEu8GMO1mMUQAiAOSI3sk9BLxrqTbs5N4CwRmrAT8Qbt00u06VJpiqKI5yr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIML4h2b4MobYlxzXCnKtwD7kqcIrWz6MBBnFyxm1u%2FhsM0%2BTK7klCl4dNu9De%2BVbN414en99lAWKWcWp9ySN7JTZS5%2BIp4avqivflpDPLkspqNAa%2FVc%2Bd4b4K7IuMxXN4K4oowdhz4IdLZoPaWnZR9XEDVBesC4R7lDJB0IzvQ6mSMkDiJpQg1GtBUijlxEUiAnxjgWhPyGgBeF5nWkGNp8ZYzcFlThgaMu%2FxUwfslsFS%2FJED2%2F9UFcaSm4U6r12jsNIaWpOO%2B6uc5XQN0Mhile4VYBSKrPCy1q0wLj7jZFm1sN1ob50d8C%2BOpxJAOwKq5bC%2BDvnVi8hDasd1Q5D2aRJnOkoIny8DzCsTn8PKQgR2GUpSQ1fDDc901kYJJOea4nHB1o9AsAfmYmv7fWGkpeC%2FE8J2tjEVpa190oJ7tTWOMfzxlIGrfYKASz3WhdHX17Y4shTXKWPyRkrsdfm90OX%2BVERXB9IGkV5yIHbd4O5xw6ZSQAXxgubVqPo9tmwIuqljWB8svdl3sXz%2BBpI8u%2FXseKk6LIIGzW4SDZJMICPTWKntUESEICXfhM4qDyZ6nVDQwOacBSt6rsNU%2BYUkVEw3JFBeU1urIJrj2%2BP2UKmWKpAee6QCLtdIdw4pED2V9LZV1x2SqFcUlBlUw3sutygY6pgHvUbyZw7AMWAnMAVtxM1N5Ih4gArHjFB0f314FixTEHiXLEvWsBD8%2B9yxyDbeAymjAOqaubptOvtcqR74%2Fcll8boj2uOX0ByB59kUUkr3Nwrp%2Fzb1zJ%2BXdgC%2ByNai7Xt7TjO8gmw0fYGonDbvS2lx71vLxV%2B3fzEFPMSsGCSv0I2wfzrSePB%2B04zg3DQl%2B2jlS1%2BTk8euV%2FsnscVhcC93e1zCGPzXE&X-Amz-Signature=2f602c571322db7ae3c5c35ed3270ade5804f99d759eb5ed1e3d5294a7e9aa16&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466X4DHTKSS%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIHHhoNhEIVwOb%2BA25Kw36B9SQN6xDPmPWEu8GMO1mMUQAiAOSI3sk9BLxrqTbs5N4CwRmrAT8Qbt00u06VJpiqKI5yr%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIML4h2b4MobYlxzXCnKtwD7kqcIrWz6MBBnFyxm1u%2FhsM0%2BTK7klCl4dNu9De%2BVbN414en99lAWKWcWp9ySN7JTZS5%2BIp4avqivflpDPLkspqNAa%2FVc%2Bd4b4K7IuMxXN4K4oowdhz4IdLZoPaWnZR9XEDVBesC4R7lDJB0IzvQ6mSMkDiJpQg1GtBUijlxEUiAnxjgWhPyGgBeF5nWkGNp8ZYzcFlThgaMu%2FxUwfslsFS%2FJED2%2F9UFcaSm4U6r12jsNIaWpOO%2B6uc5XQN0Mhile4VYBSKrPCy1q0wLj7jZFm1sN1ob50d8C%2BOpxJAOwKq5bC%2BDvnVi8hDasd1Q5D2aRJnOkoIny8DzCsTn8PKQgR2GUpSQ1fDDc901kYJJOea4nHB1o9AsAfmYmv7fWGkpeC%2FE8J2tjEVpa190oJ7tTWOMfzxlIGrfYKASz3WhdHX17Y4shTXKWPyRkrsdfm90OX%2BVERXB9IGkV5yIHbd4O5xw6ZSQAXxgubVqPo9tmwIuqljWB8svdl3sXz%2BBpI8u%2FXseKk6LIIGzW4SDZJMICPTWKntUESEICXfhM4qDyZ6nVDQwOacBSt6rsNU%2BYUkVEw3JFBeU1urIJrj2%2BP2UKmWKpAee6QCLtdIdw4pED2V9LZV1x2SqFcUlBlUw3sutygY6pgHvUbyZw7AMWAnMAVtxM1N5Ih4gArHjFB0f314FixTEHiXLEvWsBD8%2B9yxyDbeAymjAOqaubptOvtcqR74%2Fcll8boj2uOX0ByB59kUUkr3Nwrp%2Fzb1zJ%2BXdgC%2ByNai7Xt7TjO8gmw0fYGonDbvS2lx71vLxV%2B3fzEFPMSsGCSv0I2wfzrSePB%2B04zg3DQl%2B2jlS1%2BTk8euV%2FsnscVhcC93e1zCGPzXE&X-Amz-Signature=444c7522f671a2cbbb30094cce7328b75d7fa4be0c8ab90c93c4564bbba2db22&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662V5CPV7Y%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIFA1vvsQ4GYwora3RzJS%2B0RHKkUJc9vwTf3eMQemSCDcAiAX9qNTApmujn7FrUqe0bIfbjRxxibezF1jrO8t1In2hir%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMaeSjGVOEezu7MoOYKtwD%2FLcIduFsEjQ3cTdWsIunKNMRt5hIUFqw3wNcepnqvd%2F7lr7dzjMXESpVfYRu%2FWYnFZxCF0NIRwv8NmXDmyr%2BgDzW6%2BO%2FEuKtHQotwUYL%2FXZx370PpPOJTeWWPl%2BJMcV3Qu0%2FU75QeVmdkn8WVq%2BDaDwNGnQC4synwlLlvnDz9NCQjl08xL0PWn0E3RuSiJ7goYdqDRIu%2BnoNISJHwMUGu%2BLMtoDENsosSV5%2FfJ63H8AAy1WjgMh1NlQSwo8ipTKCxNTpgwKXDSSNb2VYLMkN2ZbBcAz5HhKB9xnSXhoQlTn2ij4kJ1kCpGPqYbWxR0GK0a%2FPq0jZ85HDVRVxTrZrx5Oto0UKFb2KYpeISw9FfpwwQMuhZUet7%2B7yLJ9N%2Br9uow%2B2bXWQVKdSO%2By5LdyMx5jvvZru0YOO%2FqfjT8WCwKzvFrKa2RLhtJYcFzcXnetJHv9GEjQTQsMzvvOP970PHMnwGd8oXejeU8nZNCMf2Niuw4yzbp%2FeJeM8GDXWeDpEYdDuIykpr5SVoiP6kmh36B84%2BOuxIOUGxARz224c8s%2BBtU35Mckwf4p8ECW9uBmDCzD6TpfDMYI%2F7umRvdw%2BuYyopoNFVmprSLu97UeTldh7SCectw%2BsYDtB9uwwq8utygY6pgHTOufKTclHF0f4kvx8dLEWWEL18VS35blGAyfFmHahEa1Ut32Iv1AU4VfV3%2BYG6fviOnJ58MSfW87rKBNuVaU%2FOr3tbHclAHeOoyGc7Yf6Lb4xfpLbzKjtrzhKkOB1n6U%2FNhzDqfiErMpl1GXz%2FOlxe1QXZtiIvm6mu9sTn%2BqRUoR4deaX7LHJC8%2BJ%2FpvtOq6TF7s2CdQb176W3AOSOSvFM5eBERnU&X-Amz-Signature=fecaa073c9d0e4817ba347bf4c384ddcf40cccd92a778a0ed3487f8a4f327e17&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662V5CPV7Y%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIFA1vvsQ4GYwora3RzJS%2B0RHKkUJc9vwTf3eMQemSCDcAiAX9qNTApmujn7FrUqe0bIfbjRxxibezF1jrO8t1In2hir%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMaeSjGVOEezu7MoOYKtwD%2FLcIduFsEjQ3cTdWsIunKNMRt5hIUFqw3wNcepnqvd%2F7lr7dzjMXESpVfYRu%2FWYnFZxCF0NIRwv8NmXDmyr%2BgDzW6%2BO%2FEuKtHQotwUYL%2FXZx370PpPOJTeWWPl%2BJMcV3Qu0%2FU75QeVmdkn8WVq%2BDaDwNGnQC4synwlLlvnDz9NCQjl08xL0PWn0E3RuSiJ7goYdqDRIu%2BnoNISJHwMUGu%2BLMtoDENsosSV5%2FfJ63H8AAy1WjgMh1NlQSwo8ipTKCxNTpgwKXDSSNb2VYLMkN2ZbBcAz5HhKB9xnSXhoQlTn2ij4kJ1kCpGPqYbWxR0GK0a%2FPq0jZ85HDVRVxTrZrx5Oto0UKFb2KYpeISw9FfpwwQMuhZUet7%2B7yLJ9N%2Br9uow%2B2bXWQVKdSO%2By5LdyMx5jvvZru0YOO%2FqfjT8WCwKzvFrKa2RLhtJYcFzcXnetJHv9GEjQTQsMzvvOP970PHMnwGd8oXejeU8nZNCMf2Niuw4yzbp%2FeJeM8GDXWeDpEYdDuIykpr5SVoiP6kmh36B84%2BOuxIOUGxARz224c8s%2BBtU35Mckwf4p8ECW9uBmDCzD6TpfDMYI%2F7umRvdw%2BuYyopoNFVmprSLu97UeTldh7SCectw%2BsYDtB9uwwq8utygY6pgHTOufKTclHF0f4kvx8dLEWWEL18VS35blGAyfFmHahEa1Ut32Iv1AU4VfV3%2BYG6fviOnJ58MSfW87rKBNuVaU%2FOr3tbHclAHeOoyGc7Yf6Lb4xfpLbzKjtrzhKkOB1n6U%2FNhzDqfiErMpl1GXz%2FOlxe1QXZtiIvm6mu9sTn%2BqRUoR4deaX7LHJC8%2BJ%2FpvtOq6TF7s2CdQb176W3AOSOSvFM5eBERnU&X-Amz-Signature=de2aba29a04f3c2018c197560b433b363d6e7b1caceec47a8b1ee1599e71fdb0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662V5CPV7Y%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIFA1vvsQ4GYwora3RzJS%2B0RHKkUJc9vwTf3eMQemSCDcAiAX9qNTApmujn7FrUqe0bIfbjRxxibezF1jrO8t1In2hir%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMaeSjGVOEezu7MoOYKtwD%2FLcIduFsEjQ3cTdWsIunKNMRt5hIUFqw3wNcepnqvd%2F7lr7dzjMXESpVfYRu%2FWYnFZxCF0NIRwv8NmXDmyr%2BgDzW6%2BO%2FEuKtHQotwUYL%2FXZx370PpPOJTeWWPl%2BJMcV3Qu0%2FU75QeVmdkn8WVq%2BDaDwNGnQC4synwlLlvnDz9NCQjl08xL0PWn0E3RuSiJ7goYdqDRIu%2BnoNISJHwMUGu%2BLMtoDENsosSV5%2FfJ63H8AAy1WjgMh1NlQSwo8ipTKCxNTpgwKXDSSNb2VYLMkN2ZbBcAz5HhKB9xnSXhoQlTn2ij4kJ1kCpGPqYbWxR0GK0a%2FPq0jZ85HDVRVxTrZrx5Oto0UKFb2KYpeISw9FfpwwQMuhZUet7%2B7yLJ9N%2Br9uow%2B2bXWQVKdSO%2By5LdyMx5jvvZru0YOO%2FqfjT8WCwKzvFrKa2RLhtJYcFzcXnetJHv9GEjQTQsMzvvOP970PHMnwGd8oXejeU8nZNCMf2Niuw4yzbp%2FeJeM8GDXWeDpEYdDuIykpr5SVoiP6kmh36B84%2BOuxIOUGxARz224c8s%2BBtU35Mckwf4p8ECW9uBmDCzD6TpfDMYI%2F7umRvdw%2BuYyopoNFVmprSLu97UeTldh7SCectw%2BsYDtB9uwwq8utygY6pgHTOufKTclHF0f4kvx8dLEWWEL18VS35blGAyfFmHahEa1Ut32Iv1AU4VfV3%2BYG6fviOnJ58MSfW87rKBNuVaU%2FOr3tbHclAHeOoyGc7Yf6Lb4xfpLbzKjtrzhKkOB1n6U%2FNhzDqfiErMpl1GXz%2FOlxe1QXZtiIvm6mu9sTn%2BqRUoR4deaX7LHJC8%2BJ%2FpvtOq6TF7s2CdQb176W3AOSOSvFM5eBERnU&X-Amz-Signature=7639f2a5ac5253be93c7abbd211768eeef9c38c1a33a76041aa7c0f208e464db&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662V5CPV7Y%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040834Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIFA1vvsQ4GYwora3RzJS%2B0RHKkUJc9vwTf3eMQemSCDcAiAX9qNTApmujn7FrUqe0bIfbjRxxibezF1jrO8t1In2hir%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMaeSjGVOEezu7MoOYKtwD%2FLcIduFsEjQ3cTdWsIunKNMRt5hIUFqw3wNcepnqvd%2F7lr7dzjMXESpVfYRu%2FWYnFZxCF0NIRwv8NmXDmyr%2BgDzW6%2BO%2FEuKtHQotwUYL%2FXZx370PpPOJTeWWPl%2BJMcV3Qu0%2FU75QeVmdkn8WVq%2BDaDwNGnQC4synwlLlvnDz9NCQjl08xL0PWn0E3RuSiJ7goYdqDRIu%2BnoNISJHwMUGu%2BLMtoDENsosSV5%2FfJ63H8AAy1WjgMh1NlQSwo8ipTKCxNTpgwKXDSSNb2VYLMkN2ZbBcAz5HhKB9xnSXhoQlTn2ij4kJ1kCpGPqYbWxR0GK0a%2FPq0jZ85HDVRVxTrZrx5Oto0UKFb2KYpeISw9FfpwwQMuhZUet7%2B7yLJ9N%2Br9uow%2B2bXWQVKdSO%2By5LdyMx5jvvZru0YOO%2FqfjT8WCwKzvFrKa2RLhtJYcFzcXnetJHv9GEjQTQsMzvvOP970PHMnwGd8oXejeU8nZNCMf2Niuw4yzbp%2FeJeM8GDXWeDpEYdDuIykpr5SVoiP6kmh36B84%2BOuxIOUGxARz224c8s%2BBtU35Mckwf4p8ECW9uBmDCzD6TpfDMYI%2F7umRvdw%2BuYyopoNFVmprSLu97UeTldh7SCectw%2BsYDtB9uwwq8utygY6pgHTOufKTclHF0f4kvx8dLEWWEL18VS35blGAyfFmHahEa1Ut32Iv1AU4VfV3%2BYG6fviOnJ58MSfW87rKBNuVaU%2FOr3tbHclAHeOoyGc7Yf6Lb4xfpLbzKjtrzhKkOB1n6U%2FNhzDqfiErMpl1GXz%2FOlxe1QXZtiIvm6mu9sTn%2BqRUoR4deaX7LHJC8%2BJ%2FpvtOq6TF7s2CdQb176W3AOSOSvFM5eBERnU&X-Amz-Signature=3312b975406ba3194a3ae1d5f37ec532ba30fb622fe0d5a12b6267fb26cc4065&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663VKGLJTE%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040835Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIBVjZdaytw1DyGylBxmw2W4iQzaoxwcV3VEitQIuNXs7AiEAo%2BETAMghnJ0%2FtW%2FPk%2FeV2%2FSQafsuKaWwo2CWN964v9Yq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDKckJ6rFRvElXeeXTircA57xqqsebvGZMZXpdp6gzugwmdY9jPQjXtbvlakRosx%2BdynDCY2vZLO3moW3bJEy2d3eqYRhXUANAv14BZj2JMuCFj65XE2rQ3%2BZelVBeOOyh5Td%2BZfB8quMJSn0bIEJgQI1%2FZcG%2BC%2F%2FJlr6UI0WizF7GvWDPjsSJHj5ry%2FGugWKZjsnDkj6k3SQyG8n1JpgwGoUmAJnXjbYEp%2BVDXmAznME8%2FMnD6lEdxwW81VnV2JulNWXl3IyYWLiKlZMyzGynhcrSOnxd84z5%2BumSm1iKtxb3L%2BXLZ%2FTqmPBFjlp8nDrw0l0BfzDaALXVntZmhiWkvzf30EZmU8vQ66Z9fqQgIe8sKr9b5CHHl8Ok0C8wwdaJdmwfmtO2s9nIeMO5ez0wPCNhTWIMhFEJ%2ButyrbrWX9%2BeyFGAavZLo0a6CxgD4KzAK6fx4bUoWiqcsNrOe6UXvMuUrCEJvoGxEPcbm7fdN15qQXJjEuR%2FK48DUcXJWjtVNTW3noi5psclKFeuN72LoplSv2DYDPEQmCXtavlgoF8Hr4ZIqiegXqoU4E3E8WqIys6Vw2hXUbHF6Q0ioue1IFFfyTpdnjtwuHNDSVVXc8nn%2F7PDLnnYsJimT4s0jcDqAYPH2oO9CxFU2GZMP%2FLrcoGOqUBnSAlwPjQ7C%2BVxGOu%2FQvXdfIVOSOLtQaZ%2BGwLNJD0lPi8e23l0TZkaBwI9%2F%2FYJ0SbOU1n1prq0oKeNXPmhzSs5CloiDUvuc7trRLBYHMTolVaJWqGL5exiY9ksSndI%2Bwi0onajKRE%2FU4VqT0Do8R1K1odZ1TVlb%2FdSMVKDOnTnu8cRYMxGvM3z7ukNZ6BkTH%2F0RZsrQn6lYQBBdnELHY2k2XbkP6a&X-Amz-Signature=7529e0d667ee16ee43f3754fd06c87e6781ddc18731cd95face5144774ae9a33&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663VKGLJTE%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040835Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIBVjZdaytw1DyGylBxmw2W4iQzaoxwcV3VEitQIuNXs7AiEAo%2BETAMghnJ0%2FtW%2FPk%2FeV2%2FSQafsuKaWwo2CWN964v9Yq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDKckJ6rFRvElXeeXTircA57xqqsebvGZMZXpdp6gzugwmdY9jPQjXtbvlakRosx%2BdynDCY2vZLO3moW3bJEy2d3eqYRhXUANAv14BZj2JMuCFj65XE2rQ3%2BZelVBeOOyh5Td%2BZfB8quMJSn0bIEJgQI1%2FZcG%2BC%2F%2FJlr6UI0WizF7GvWDPjsSJHj5ry%2FGugWKZjsnDkj6k3SQyG8n1JpgwGoUmAJnXjbYEp%2BVDXmAznME8%2FMnD6lEdxwW81VnV2JulNWXl3IyYWLiKlZMyzGynhcrSOnxd84z5%2BumSm1iKtxb3L%2BXLZ%2FTqmPBFjlp8nDrw0l0BfzDaALXVntZmhiWkvzf30EZmU8vQ66Z9fqQgIe8sKr9b5CHHl8Ok0C8wwdaJdmwfmtO2s9nIeMO5ez0wPCNhTWIMhFEJ%2ButyrbrWX9%2BeyFGAavZLo0a6CxgD4KzAK6fx4bUoWiqcsNrOe6UXvMuUrCEJvoGxEPcbm7fdN15qQXJjEuR%2FK48DUcXJWjtVNTW3noi5psclKFeuN72LoplSv2DYDPEQmCXtavlgoF8Hr4ZIqiegXqoU4E3E8WqIys6Vw2hXUbHF6Q0ioue1IFFfyTpdnjtwuHNDSVVXc8nn%2F7PDLnnYsJimT4s0jcDqAYPH2oO9CxFU2GZMP%2FLrcoGOqUBnSAlwPjQ7C%2BVxGOu%2FQvXdfIVOSOLtQaZ%2BGwLNJD0lPi8e23l0TZkaBwI9%2F%2FYJ0SbOU1n1prq0oKeNXPmhzSs5CloiDUvuc7trRLBYHMTolVaJWqGL5exiY9ksSndI%2Bwi0onajKRE%2FU4VqT0Do8R1K1odZ1TVlb%2FdSMVKDOnTnu8cRYMxGvM3z7ukNZ6BkTH%2F0RZsrQn6lYQBBdnELHY2k2XbkP6a&X-Amz-Signature=c3cb77eb91c6168c4187a7a2bdac419d4f27ccfc1345376ff49740ac8982cd6c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663VKGLJTE%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040835Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIBVjZdaytw1DyGylBxmw2W4iQzaoxwcV3VEitQIuNXs7AiEAo%2BETAMghnJ0%2FtW%2FPk%2FeV2%2FSQafsuKaWwo2CWN964v9Yq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDKckJ6rFRvElXeeXTircA57xqqsebvGZMZXpdp6gzugwmdY9jPQjXtbvlakRosx%2BdynDCY2vZLO3moW3bJEy2d3eqYRhXUANAv14BZj2JMuCFj65XE2rQ3%2BZelVBeOOyh5Td%2BZfB8quMJSn0bIEJgQI1%2FZcG%2BC%2F%2FJlr6UI0WizF7GvWDPjsSJHj5ry%2FGugWKZjsnDkj6k3SQyG8n1JpgwGoUmAJnXjbYEp%2BVDXmAznME8%2FMnD6lEdxwW81VnV2JulNWXl3IyYWLiKlZMyzGynhcrSOnxd84z5%2BumSm1iKtxb3L%2BXLZ%2FTqmPBFjlp8nDrw0l0BfzDaALXVntZmhiWkvzf30EZmU8vQ66Z9fqQgIe8sKr9b5CHHl8Ok0C8wwdaJdmwfmtO2s9nIeMO5ez0wPCNhTWIMhFEJ%2ButyrbrWX9%2BeyFGAavZLo0a6CxgD4KzAK6fx4bUoWiqcsNrOe6UXvMuUrCEJvoGxEPcbm7fdN15qQXJjEuR%2FK48DUcXJWjtVNTW3noi5psclKFeuN72LoplSv2DYDPEQmCXtavlgoF8Hr4ZIqiegXqoU4E3E8WqIys6Vw2hXUbHF6Q0ioue1IFFfyTpdnjtwuHNDSVVXc8nn%2F7PDLnnYsJimT4s0jcDqAYPH2oO9CxFU2GZMP%2FLrcoGOqUBnSAlwPjQ7C%2BVxGOu%2FQvXdfIVOSOLtQaZ%2BGwLNJD0lPi8e23l0TZkaBwI9%2F%2FYJ0SbOU1n1prq0oKeNXPmhzSs5CloiDUvuc7trRLBYHMTolVaJWqGL5exiY9ksSndI%2Bwi0onajKRE%2FU4VqT0Do8R1K1odZ1TVlb%2FdSMVKDOnTnu8cRYMxGvM3z7ukNZ6BkTH%2F0RZsrQn6lYQBBdnELHY2k2XbkP6a&X-Amz-Signature=ad8c7d76e54b16b48af2eafa1dbf714342e9bb788622c018b43b3fc5dac116cd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663VKGLJTE%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040835Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIBVjZdaytw1DyGylBxmw2W4iQzaoxwcV3VEitQIuNXs7AiEAo%2BETAMghnJ0%2FtW%2FPk%2FeV2%2FSQafsuKaWwo2CWN964v9Yq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDKckJ6rFRvElXeeXTircA57xqqsebvGZMZXpdp6gzugwmdY9jPQjXtbvlakRosx%2BdynDCY2vZLO3moW3bJEy2d3eqYRhXUANAv14BZj2JMuCFj65XE2rQ3%2BZelVBeOOyh5Td%2BZfB8quMJSn0bIEJgQI1%2FZcG%2BC%2F%2FJlr6UI0WizF7GvWDPjsSJHj5ry%2FGugWKZjsnDkj6k3SQyG8n1JpgwGoUmAJnXjbYEp%2BVDXmAznME8%2FMnD6lEdxwW81VnV2JulNWXl3IyYWLiKlZMyzGynhcrSOnxd84z5%2BumSm1iKtxb3L%2BXLZ%2FTqmPBFjlp8nDrw0l0BfzDaALXVntZmhiWkvzf30EZmU8vQ66Z9fqQgIe8sKr9b5CHHl8Ok0C8wwdaJdmwfmtO2s9nIeMO5ez0wPCNhTWIMhFEJ%2ButyrbrWX9%2BeyFGAavZLo0a6CxgD4KzAK6fx4bUoWiqcsNrOe6UXvMuUrCEJvoGxEPcbm7fdN15qQXJjEuR%2FK48DUcXJWjtVNTW3noi5psclKFeuN72LoplSv2DYDPEQmCXtavlgoF8Hr4ZIqiegXqoU4E3E8WqIys6Vw2hXUbHF6Q0ioue1IFFfyTpdnjtwuHNDSVVXc8nn%2F7PDLnnYsJimT4s0jcDqAYPH2oO9CxFU2GZMP%2FLrcoGOqUBnSAlwPjQ7C%2BVxGOu%2FQvXdfIVOSOLtQaZ%2BGwLNJD0lPi8e23l0TZkaBwI9%2F%2FYJ0SbOU1n1prq0oKeNXPmhzSs5CloiDUvuc7trRLBYHMTolVaJWqGL5exiY9ksSndI%2Bwi0onajKRE%2FU4VqT0Do8R1K1odZ1TVlb%2FdSMVKDOnTnu8cRYMxGvM3z7ukNZ6BkTH%2F0RZsrQn6lYQBBdnELHY2k2XbkP6a&X-Amz-Signature=42f274d4c8cb34e71c9b5d281076bac78157913e585ecd05e7300ac6857eadd6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWXTVBSG%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040836Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDPjHffRfhLB55Un4UpH3jr%2BSDhdpGdGti2UFhg95B%2BNAIgEvtAQa6j4lsD2y2A7EZXPgX4sL4vbQJ6NxkpVgd0yRMq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDNA4OragLZM1WMERQircA7NfrBUvv7TAjRUonqSNRvmbGrJelyDNN6oXq0mDilveQw66DezX8SsqSIi0yplKf4KlJNBZmJzGdcgqpNK3mibaBfcGlD5sEKwMCzgWrTc4FHv4yElhBmiIbWp19qhLoERWs7gAffAjRSwzEhJ0PC87UGT8HE77MsJ6WrrFzuUTpG0aAKqeRlwHSRI8M5KW0LxZN0FrQvy4NqZsYFpD0Bl2kKNdhoHqX0trUVheEQbXhpK8OSc0BlcBiZlz3B7M7C9pxdqf6doFfiq2Esg4G61f0ToBrZLYC3bCQNshmsS6cqkcAAVzpqKpmhozaswh06a%2FxBxkQ%2F%2B2egwjkdUIs0%2FrfcmTGNVe0oqRQQ1k5hZrJHzYNpqho7jdKqSmKDtpzly67zDCKca8JBsPd52D5LfdyAf6YJeD%2B7IR1fL5agW%2FtDajkfR1lW6u92%2FnEeY%2FNm1U7gh76%2FNgZ15eDCNP%2FNo4lGKdkoaiJqt2o7l4zQ9DQIBpXq0HEEhC4%2BL9UoBRyO%2FXR99Mw97BUwLKPzy0wHmRdYPFy0ugEt6SdlPdv3uUetiTi%2BlCnj8czpva4hBQuA6eJCnw6Fpgu5pWGkjMlXUb0%2BwsyX5q2oqh6P6MlHWg9YJrYFnPhxzaGd0mMOnLrcoGOqUBwzTiAXY14tUEkL81iBb1C0In8GBgdG0fc4zo805ar1Je%2FvF19dQzBYjWTX%2FG28Tm94SqqW4fN6MbrWuz6%2FmhQHNyKM%2FTW8dzwrhbzEdIe2iNrhJEVsT%2BU4Fi7fw7zrFBJ5CQRtEYacta4Fu0AkSoRLLLe5npCXSyein8AFK7LX5JSO1D5Plcx6um39LkTeWwRfCSF11pZ%2BMmBDvMM1Jpzs7tymXw&X-Amz-Signature=4a4762078c4bdf4f8d1e4876d489ef09ede7e0011c660faf6737c8876bc8a8be&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWXTVBSG%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040836Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDPjHffRfhLB55Un4UpH3jr%2BSDhdpGdGti2UFhg95B%2BNAIgEvtAQa6j4lsD2y2A7EZXPgX4sL4vbQJ6NxkpVgd0yRMq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDNA4OragLZM1WMERQircA7NfrBUvv7TAjRUonqSNRvmbGrJelyDNN6oXq0mDilveQw66DezX8SsqSIi0yplKf4KlJNBZmJzGdcgqpNK3mibaBfcGlD5sEKwMCzgWrTc4FHv4yElhBmiIbWp19qhLoERWs7gAffAjRSwzEhJ0PC87UGT8HE77MsJ6WrrFzuUTpG0aAKqeRlwHSRI8M5KW0LxZN0FrQvy4NqZsYFpD0Bl2kKNdhoHqX0trUVheEQbXhpK8OSc0BlcBiZlz3B7M7C9pxdqf6doFfiq2Esg4G61f0ToBrZLYC3bCQNshmsS6cqkcAAVzpqKpmhozaswh06a%2FxBxkQ%2F%2B2egwjkdUIs0%2FrfcmTGNVe0oqRQQ1k5hZrJHzYNpqho7jdKqSmKDtpzly67zDCKca8JBsPd52D5LfdyAf6YJeD%2B7IR1fL5agW%2FtDajkfR1lW6u92%2FnEeY%2FNm1U7gh76%2FNgZ15eDCNP%2FNo4lGKdkoaiJqt2o7l4zQ9DQIBpXq0HEEhC4%2BL9UoBRyO%2FXR99Mw97BUwLKPzy0wHmRdYPFy0ugEt6SdlPdv3uUetiTi%2BlCnj8czpva4hBQuA6eJCnw6Fpgu5pWGkjMlXUb0%2BwsyX5q2oqh6P6MlHWg9YJrYFnPhxzaGd0mMOnLrcoGOqUBwzTiAXY14tUEkL81iBb1C0In8GBgdG0fc4zo805ar1Je%2FvF19dQzBYjWTX%2FG28Tm94SqqW4fN6MbrWuz6%2FmhQHNyKM%2FTW8dzwrhbzEdIe2iNrhJEVsT%2BU4Fi7fw7zrFBJ5CQRtEYacta4Fu0AkSoRLLLe5npCXSyein8AFK7LX5JSO1D5Plcx6um39LkTeWwRfCSF11pZ%2BMmBDvMM1Jpzs7tymXw&X-Amz-Signature=013163db443f595c6fc28dc10fbdb66a0a17779224b8a9f87d2457175da126bc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWXTVBSG%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040836Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDPjHffRfhLB55Un4UpH3jr%2BSDhdpGdGti2UFhg95B%2BNAIgEvtAQa6j4lsD2y2A7EZXPgX4sL4vbQJ6NxkpVgd0yRMq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDNA4OragLZM1WMERQircA7NfrBUvv7TAjRUonqSNRvmbGrJelyDNN6oXq0mDilveQw66DezX8SsqSIi0yplKf4KlJNBZmJzGdcgqpNK3mibaBfcGlD5sEKwMCzgWrTc4FHv4yElhBmiIbWp19qhLoERWs7gAffAjRSwzEhJ0PC87UGT8HE77MsJ6WrrFzuUTpG0aAKqeRlwHSRI8M5KW0LxZN0FrQvy4NqZsYFpD0Bl2kKNdhoHqX0trUVheEQbXhpK8OSc0BlcBiZlz3B7M7C9pxdqf6doFfiq2Esg4G61f0ToBrZLYC3bCQNshmsS6cqkcAAVzpqKpmhozaswh06a%2FxBxkQ%2F%2B2egwjkdUIs0%2FrfcmTGNVe0oqRQQ1k5hZrJHzYNpqho7jdKqSmKDtpzly67zDCKca8JBsPd52D5LfdyAf6YJeD%2B7IR1fL5agW%2FtDajkfR1lW6u92%2FnEeY%2FNm1U7gh76%2FNgZ15eDCNP%2FNo4lGKdkoaiJqt2o7l4zQ9DQIBpXq0HEEhC4%2BL9UoBRyO%2FXR99Mw97BUwLKPzy0wHmRdYPFy0ugEt6SdlPdv3uUetiTi%2BlCnj8czpva4hBQuA6eJCnw6Fpgu5pWGkjMlXUb0%2BwsyX5q2oqh6P6MlHWg9YJrYFnPhxzaGd0mMOnLrcoGOqUBwzTiAXY14tUEkL81iBb1C0In8GBgdG0fc4zo805ar1Je%2FvF19dQzBYjWTX%2FG28Tm94SqqW4fN6MbrWuz6%2FmhQHNyKM%2FTW8dzwrhbzEdIe2iNrhJEVsT%2BU4Fi7fw7zrFBJ5CQRtEYacta4Fu0AkSoRLLLe5npCXSyein8AFK7LX5JSO1D5Plcx6um39LkTeWwRfCSF11pZ%2BMmBDvMM1Jpzs7tymXw&X-Amz-Signature=d6331ace8d4d4aba2de1ac9761dcd70aca3b7390c86df705afdebaba362f1fcf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VCDNMXBY%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040836Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCHASuTKE9t%2BU1YDEw9IgwxNgEhHNPMAE6ApS67XRpomgIgYSHRg9Kjgm59h5esLvLzAtzxClNVlhbGuInvqo477t8q%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDC1Qg5m%2BWA5bC4409ircA9Gq6iGS%2BxoTbEnnwWT3Z4djPRgP9yc1Umr%2BS5VuLo%2Fe27%2BCIJ5caTZXtG6kHakYkwLaV%2Fl3F1pGNlZ%2Fjxwddq0BlnpqBbWSObLX8Qv2d%2Fdu%2BGp%2BWhshRB49E1JcWhfmbi%2BdMXF%2FUohBmUxQOqZac54a%2Feb2Aa4KXeMdm0fQH2th2BBqnz3L1Fy8Mbxr3F3i9YYiUEYvg5UqfFmrVtDx8RmLrswAHdgXxB39SswPngL23KoDbKZM89RAuKkVF0kwDWxAdLhkdLEEFWpcfLdj3Dgq5Tp9mXE6bcWKIAIsvKyOzOc1%2FmSS2VrjTdVht6noqGIwuKs62xdelmq2qik%2FRRNML2sIchSb8IIYA4sVgwnuVysBMFkuF%2FBI7fqjTFrB8I4Mge%2BvH16hP8149zxy3K97VnLRBPmMbi5Cqm1myud57n6cYdAXvCdTDRfAUax6uupM8LrUlEr14DC4lDa5g4LgmulpVWJ42xtveO5pGPXhlf4GSXMGGA5kjGfDae%2FCL5n8nhaqzgOvFX1voCMBucfSOChyeGiN%2BJTfrqZ1rD431YaATZ%2BzWmRxX1azT5Mpdrtt3lLE3YgxbEZkGMLGMlKlLLFnNJVLF2A4ys6r9nRH2JXERVRZortnPAFmMM7LrcoGOqUBNtGHIUsfsWpytvkZHGKtrNn8h54iGCCQzhYeHrcigMM7lDnw4L3J2AIJEl4Uk0HugbgumVPbyEqu4t9J8inWPS9NLy5JYDnj%2B6lP%2F8cID6vWFbqWWq5SEOXAxz16DZFsizlDZMPHTQRztL7agu9p7%2F%2FXR7sAdV0Pk5ASBxiy1Yghuvuf3Fh3QzVOKSV4x67I0Km5%2FpnFI0M%2FZx1EQynhoKrabqEA&X-Amz-Signature=8b261b92a9278df96ff6d548b5c52db7d0c0f311bd56acec3a41b88f10d6ddea&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VCDNMXBY%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040836Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQCHASuTKE9t%2BU1YDEw9IgwxNgEhHNPMAE6ApS67XRpomgIgYSHRg9Kjgm59h5esLvLzAtzxClNVlhbGuInvqo477t8q%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDC1Qg5m%2BWA5bC4409ircA9Gq6iGS%2BxoTbEnnwWT3Z4djPRgP9yc1Umr%2BS5VuLo%2Fe27%2BCIJ5caTZXtG6kHakYkwLaV%2Fl3F1pGNlZ%2Fjxwddq0BlnpqBbWSObLX8Qv2d%2Fdu%2BGp%2BWhshRB49E1JcWhfmbi%2BdMXF%2FUohBmUxQOqZac54a%2Feb2Aa4KXeMdm0fQH2th2BBqnz3L1Fy8Mbxr3F3i9YYiUEYvg5UqfFmrVtDx8RmLrswAHdgXxB39SswPngL23KoDbKZM89RAuKkVF0kwDWxAdLhkdLEEFWpcfLdj3Dgq5Tp9mXE6bcWKIAIsvKyOzOc1%2FmSS2VrjTdVht6noqGIwuKs62xdelmq2qik%2FRRNML2sIchSb8IIYA4sVgwnuVysBMFkuF%2FBI7fqjTFrB8I4Mge%2BvH16hP8149zxy3K97VnLRBPmMbi5Cqm1myud57n6cYdAXvCdTDRfAUax6uupM8LrUlEr14DC4lDa5g4LgmulpVWJ42xtveO5pGPXhlf4GSXMGGA5kjGfDae%2FCL5n8nhaqzgOvFX1voCMBucfSOChyeGiN%2BJTfrqZ1rD431YaATZ%2BzWmRxX1azT5Mpdrtt3lLE3YgxbEZkGMLGMlKlLLFnNJVLF2A4ys6r9nRH2JXERVRZortnPAFmMM7LrcoGOqUBNtGHIUsfsWpytvkZHGKtrNn8h54iGCCQzhYeHrcigMM7lDnw4L3J2AIJEl4Uk0HugbgumVPbyEqu4t9J8inWPS9NLy5JYDnj%2B6lP%2F8cID6vWFbqWWq5SEOXAxz16DZFsizlDZMPHTQRztL7agu9p7%2F%2FXR7sAdV0Pk5ASBxiy1Yghuvuf3Fh3QzVOKSV4x67I0Km5%2FpnFI0M%2FZx1EQynhoKrabqEA&X-Amz-Signature=21265673acafabb4fef41e75f5abd56a26cee039f3b3cf38ad4debd59655c50a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TEXFYRYQ%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040837Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDHTU6hBst1haTRRP%2FCnsIyZDWmIsTj1EaAwIcq0Cg%2BSwIgcVC3DLDrFlDsoOBdTOz6QFzOBqR2zgSDFVi7SfafnDUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDKB9wtRKCU%2FcHc2WsCrcA7bAFL1qIXRbEfqYJ%2BJxlLLJ%2FwdZ4X0QQEnOs2lTaOy42R9mIxXa31dG7wXpSH84IF02pW4aVq%2BHt8rJBEqLf4l8RqfiEqO0YlmMWMX%2BWbVluSPrLlbfmGJmILk50VvBiEy6dkle1mXXNHiVOaRodd6Mjq6ixtnv9CxwgKhlccgQZlVb%2FzGtFyp8xUC53jKymYSK09smcQ0uvmblgbC9H7ShjxH4j6gdDcrGJ80jacR9P7XNogpeT3z%2FTscOF8tBG3QvC2%2BsugzulRA2VhOjG%2FLDpMfMwIwMOko0c1kzChgHT6mxpQ7w0DqIYkkgl2aYunX73PV7SdjwlwXYFGxl6HPTWCZU2eL90xTj%2F39pLBMb2Gt%2BkzDcByTTRqiPQ%2BlMgxA%2BibB8HVj8C2N16pbB4M7lVZ4Y1lMm%2Feovb70L%2FjjZjV70%2FxinO8%2F5TQVRLhUMl0kOOfztQleG4bER9C96tAMU6Rskek4brE97NHOxIrrLYLoTc03ad5BP0dzmKcW55BvGL8m5en0u7Xnft8n%2FQq9tqVfSWjKRlMcveglaRrgSvXP63Fyu3JAcQXuf30DYURwYvnhCe32Le7SOOzwhxQ5mwO%2FJPxcGtesglUzVEF1IqCSGfE2tpnJp8tbqMLvLrcoGOqUBhIe%2F5UmIE%2FH12pLV7%2F2CpowjeL51FhzQfYhAHCruDGrCBpuK1VPhFcVWuL2xXRc2wRkx2i3Oku7S0W2kqh46990J%2Fm1knH8%2Fh0KjNAFpJKlgSHNPD61ZdlU%2FluE4FOVbtjiWDf3F7nssfBDzygPOjhVT%2BqOsQp8QtI%2FHvGgqIpRR%2BHzyT5Ttn7dFiuROL%2BiEPEg%2FE24XkoRBOXXc7FghhsBeLXjr&X-Amz-Signature=b361d052a76e9b1bb8db9940c258f4328a8ace7b552afce096be1bb8a6334fed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TEXFYRYQ%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040837Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJHMEUCIQDHTU6hBst1haTRRP%2FCnsIyZDWmIsTj1EaAwIcq0Cg%2BSwIgcVC3DLDrFlDsoOBdTOz6QFzOBqR2zgSDFVi7SfafnDUq%2FwMIHRAAGgw2Mzc0MjMxODM4MDUiDKB9wtRKCU%2FcHc2WsCrcA7bAFL1qIXRbEfqYJ%2BJxlLLJ%2FwdZ4X0QQEnOs2lTaOy42R9mIxXa31dG7wXpSH84IF02pW4aVq%2BHt8rJBEqLf4l8RqfiEqO0YlmMWMX%2BWbVluSPrLlbfmGJmILk50VvBiEy6dkle1mXXNHiVOaRodd6Mjq6ixtnv9CxwgKhlccgQZlVb%2FzGtFyp8xUC53jKymYSK09smcQ0uvmblgbC9H7ShjxH4j6gdDcrGJ80jacR9P7XNogpeT3z%2FTscOF8tBG3QvC2%2BsugzulRA2VhOjG%2FLDpMfMwIwMOko0c1kzChgHT6mxpQ7w0DqIYkkgl2aYunX73PV7SdjwlwXYFGxl6HPTWCZU2eL90xTj%2F39pLBMb2Gt%2BkzDcByTTRqiPQ%2BlMgxA%2BibB8HVj8C2N16pbB4M7lVZ4Y1lMm%2Feovb70L%2FjjZjV70%2FxinO8%2F5TQVRLhUMl0kOOfztQleG4bER9C96tAMU6Rskek4brE97NHOxIrrLYLoTc03ad5BP0dzmKcW55BvGL8m5en0u7Xnft8n%2FQq9tqVfSWjKRlMcveglaRrgSvXP63Fyu3JAcQXuf30DYURwYvnhCe32Le7SOOzwhxQ5mwO%2FJPxcGtesglUzVEF1IqCSGfE2tpnJp8tbqMLvLrcoGOqUBhIe%2F5UmIE%2FH12pLV7%2F2CpowjeL51FhzQfYhAHCruDGrCBpuK1VPhFcVWuL2xXRc2wRkx2i3Oku7S0W2kqh46990J%2Fm1knH8%2Fh0KjNAFpJKlgSHNPD61ZdlU%2FluE4FOVbtjiWDf3F7nssfBDzygPOjhVT%2BqOsQp8QtI%2FHvGgqIpRR%2BHzyT5Ttn7dFiuROL%2BiEPEg%2FE24XkoRBOXXc7FghhsBeLXjr&X-Amz-Signature=2f826dc63e6c297a4e592f8fbb465a934e11f0ab3c62bf02793701c88af328fd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YJSFKKBT%2F20251224%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251224T040837Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFQaCXVzLXdlc3QtMiJGMEQCIFSB5an91QdMjdHPIZC8mDQxSBY5nmc7sU9ASqIBnFC2AiAL5GxLpKzNonRLe8xPdcYAWAQ5Zy34iENtr6JCqQ0nPir%2FAwgdEAAaDDYzNzQyMzE4MzgwNSIMdAATkC1yUL73psP7KtwDi9f9UWQXddGz9irUTX8oXgNDC%2BfdFfTzIeEN4hGxQtK%2FCqSRzfFbCVoMzvfZCQDFl94EXyq3hYhuFv7ABpO%2BadebAGvcHKHtnJw%2FfVwRwa7bneunL0fVYoizT3OJlxd2E4Tn%2BOD%2F%2F3SBVYquRCCB4F4GZFaQjr2URhEGOjYK18dPFehPitmHbO2ENQj9qgArt4sVLJ8W8OlfDin8skjncWIrQ%2BReVVNBcMuNMzGfgCEBMjzbuQc0%2BDrHodOYSY2YQZa1nsmQVjcKKX%2F9nRpp6gPbvdyl5%2FkTrqjmRl4iFP4TfTEkA0s9vvhG2dqPKzm%2BMG5IvnrYpzAgc5FETRct0ljKjlec99aSJ4p29WCIqANjFo5ZUQROSU6xC7%2BxFhfSy7kMJJhUDOEUYj42CqsWOoysjT6jNI6Go0MpbqLfLEkJ73EOWNGtAzjtlObdR0SUafDV8gOuG1a7QgpC0E%2BDdJe%2F6xVBD2WRDfMfCxvuRuvrvMHNPmPZzFJEc6I7B3h5WifJfLkVVdCLsiKHAa2Dw6yAN91T8TbmZM95R6tImlMG7fQvAJd19qlVA4%2FCwFOQviRzjMHnlPLUL5QKJ0otnn0frOWmpdIcTPMd2xwDF8RDVqMKcw%2FOT4M1onowqcutygY6pgF0hOSkf9t24zNVBWVQ5rxIRioDAO5UQn7%2FsenqK%2FdlpwG1a6PvaOeUZ5HC7hKh%2B9HlAwcI9OHgt7s8iIyce4QlwYFX5HKqaWJQWJHfB8sVKxZI1HsN42YHxQgPsDyQlCQ6JarLv1KphkJaZ3ALNnB9ZnSpOPNEptyyRlWKwPBg1fOUC5LmE03JHjVOD1EeL8sRy4W5bCNuuoO%2FRl7mtK0bW9nY7Gdd&X-Amz-Signature=06150daf787740170bb3ce0eeea0a64d5de48b97f66bcd743fd0ccf31ac4813a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
