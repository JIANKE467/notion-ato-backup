
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KRHYI6B%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042321Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHHHjreCn80Gs1yZJxsrPlUhOtTEzuAU%2B7Xg1pWHdhrQAiEAqdNFPD71isX89GaT4DeFaCezLSsjE1yJ2T1fNPA6tlIqiAQIjf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLIfN8pqmhJBocYZrCrcA4nUpaNlEsKI6qvp35FaJy%2BhQr8BBzAb9oIBcv%2FKjJN4XsWtdJ1pRcfBZezRtAHyuyqsd3p%2Fs3207fzov3jWGFAi00bPMifXQrPlgjqyQdYt%2BIw0YNEYEyjNVSi5U1ao7dzg4OCJq0CDfjvkMp06UjtRuT3Vu2wGOSJsQ5on9rVixjU3f6qwocE4otFaNUnr1mRHMv%2BGiUUC6JqAGWi0YAvyflqPjblSlQAfuZVNY463v8aCTl1L3bFGgymjTeOJwJezCjIpbCbxgNH2Qh7g6dvWr3OUt3V1AoZUzEIL6bk6eCm4HaUUU3RTjQjbkAkbWIS9BO6ZOdUzIhpViQwqON4lvVEAflCIUzk4GlYxuNvixpfrg%2Bz5Ig%2FQAIpd60%2FWX1tqVs0Lr7Fu2unWevWHcRqhSo7O2z6lNHkJ6NMRWWAgy%2FixKPGa11siMC6IregjYOv9wOxry%2Bxyke99xmEKg5APeAPVyboscGe8aL0c%2FgAjyiKy6pq1KaxnSCbAeOLFYN%2BFCGNNPQtD4AOfzYPS80UtplJIkf%2Ft6%2FusCvxOVk9G8hMAqGYE4v4HLRzVRJzLGSXX9C%2F5xuunRwVkNL6ABoyytTgOmzohPRFFhUi9gpw7vOIg1qvQoSidKDnlMIzgtssGOqUBA82l9tRZdz2jhGCYUrYG3kB0jVpxe8%2Bf0Dj5teOsRPa5x3uHNRICTX70zUz%2BvMXqMQa3G5kfhNAhN%2B4gq3A6TqBqNyRJL22JAq3g5ug95rjZ8%2BFSdazRku3g03IjDWNiygg%2FWB2Pt2%2BDXeRoeCN1j0kyYS4DB8WNoEKLYgmbRfcHxGw97J6NBfqxcD6jqlGgudjxpc1qg7bMjKMyD8JqP9p6TeQQ&X-Amz-Signature=e003aceaf59e35f9c3ff21be7b5a818d919e749b93e10e0b21382134dade3eae&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KRHYI6B%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042321Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHHHjreCn80Gs1yZJxsrPlUhOtTEzuAU%2B7Xg1pWHdhrQAiEAqdNFPD71isX89GaT4DeFaCezLSsjE1yJ2T1fNPA6tlIqiAQIjf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLIfN8pqmhJBocYZrCrcA4nUpaNlEsKI6qvp35FaJy%2BhQr8BBzAb9oIBcv%2FKjJN4XsWtdJ1pRcfBZezRtAHyuyqsd3p%2Fs3207fzov3jWGFAi00bPMifXQrPlgjqyQdYt%2BIw0YNEYEyjNVSi5U1ao7dzg4OCJq0CDfjvkMp06UjtRuT3Vu2wGOSJsQ5on9rVixjU3f6qwocE4otFaNUnr1mRHMv%2BGiUUC6JqAGWi0YAvyflqPjblSlQAfuZVNY463v8aCTl1L3bFGgymjTeOJwJezCjIpbCbxgNH2Qh7g6dvWr3OUt3V1AoZUzEIL6bk6eCm4HaUUU3RTjQjbkAkbWIS9BO6ZOdUzIhpViQwqON4lvVEAflCIUzk4GlYxuNvixpfrg%2Bz5Ig%2FQAIpd60%2FWX1tqVs0Lr7Fu2unWevWHcRqhSo7O2z6lNHkJ6NMRWWAgy%2FixKPGa11siMC6IregjYOv9wOxry%2Bxyke99xmEKg5APeAPVyboscGe8aL0c%2FgAjyiKy6pq1KaxnSCbAeOLFYN%2BFCGNNPQtD4AOfzYPS80UtplJIkf%2Ft6%2FusCvxOVk9G8hMAqGYE4v4HLRzVRJzLGSXX9C%2F5xuunRwVkNL6ABoyytTgOmzohPRFFhUi9gpw7vOIg1qvQoSidKDnlMIzgtssGOqUBA82l9tRZdz2jhGCYUrYG3kB0jVpxe8%2Bf0Dj5teOsRPa5x3uHNRICTX70zUz%2BvMXqMQa3G5kfhNAhN%2B4gq3A6TqBqNyRJL22JAq3g5ug95rjZ8%2BFSdazRku3g03IjDWNiygg%2FWB2Pt2%2BDXeRoeCN1j0kyYS4DB8WNoEKLYgmbRfcHxGw97J6NBfqxcD6jqlGgudjxpc1qg7bMjKMyD8JqP9p6TeQQ&X-Amz-Signature=32627de12ac7d616c104ad97584005c448d632fa390c33ea8b632a1dbf3c0f45&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KRHYI6B%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042321Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIHHHjreCn80Gs1yZJxsrPlUhOtTEzuAU%2B7Xg1pWHdhrQAiEAqdNFPD71isX89GaT4DeFaCezLSsjE1yJ2T1fNPA6tlIqiAQIjf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLIfN8pqmhJBocYZrCrcA4nUpaNlEsKI6qvp35FaJy%2BhQr8BBzAb9oIBcv%2FKjJN4XsWtdJ1pRcfBZezRtAHyuyqsd3p%2Fs3207fzov3jWGFAi00bPMifXQrPlgjqyQdYt%2BIw0YNEYEyjNVSi5U1ao7dzg4OCJq0CDfjvkMp06UjtRuT3Vu2wGOSJsQ5on9rVixjU3f6qwocE4otFaNUnr1mRHMv%2BGiUUC6JqAGWi0YAvyflqPjblSlQAfuZVNY463v8aCTl1L3bFGgymjTeOJwJezCjIpbCbxgNH2Qh7g6dvWr3OUt3V1AoZUzEIL6bk6eCm4HaUUU3RTjQjbkAkbWIS9BO6ZOdUzIhpViQwqON4lvVEAflCIUzk4GlYxuNvixpfrg%2Bz5Ig%2FQAIpd60%2FWX1tqVs0Lr7Fu2unWevWHcRqhSo7O2z6lNHkJ6NMRWWAgy%2FixKPGa11siMC6IregjYOv9wOxry%2Bxyke99xmEKg5APeAPVyboscGe8aL0c%2FgAjyiKy6pq1KaxnSCbAeOLFYN%2BFCGNNPQtD4AOfzYPS80UtplJIkf%2Ft6%2FusCvxOVk9G8hMAqGYE4v4HLRzVRJzLGSXX9C%2F5xuunRwVkNL6ABoyytTgOmzohPRFFhUi9gpw7vOIg1qvQoSidKDnlMIzgtssGOqUBA82l9tRZdz2jhGCYUrYG3kB0jVpxe8%2Bf0Dj5teOsRPa5x3uHNRICTX70zUz%2BvMXqMQa3G5kfhNAhN%2B4gq3A6TqBqNyRJL22JAq3g5ug95rjZ8%2BFSdazRku3g03IjDWNiygg%2FWB2Pt2%2BDXeRoeCN1j0kyYS4DB8WNoEKLYgmbRfcHxGw97J6NBfqxcD6jqlGgudjxpc1qg7bMjKMyD8JqP9p6TeQQ&X-Amz-Signature=489db21087607401b69b0ddca00f0817a5719ad974b43575ff2947c44014c7e4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QAKYUXLW%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCPtmr7iN8JaV8Qtjfasv9RRq00J%2B4sXKQZqGIuOy6M5AIhAPdqBi7Sc1v2XFtO04rFlkBVtWOJACFYhR7PqpTR7RsaKogECI3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxSIAh7ab7mznaImNwq3AOFj3TDgCF1T02D%2FZfdpKhjaOypbDyMueqn06WREzP7iqr%2BdIv8RbLVkkfDyJrczBE2b5Q1cucLfhAQyZNI2NDXoHWn7PSRXwyxiVUFhl0JU1tf840W2YRYhpCqvCfvxBFbFnkOC6086iUntL0XEUVnuB0JBsmi29hlAMhjhuGfgqTnapjfLlwDTlG2m1HREFnzzINEmym7Z7P3WsdILnOgJ5y6qTWP6Ye5BwPtYCXAQi0WLrr8reIO3YNJqUd0vAGYw3ELosYpnGNjLFDXR9ExnvSuJFRkjYFO%2Bboi4JjtwdmI1Wi2MjtnbNW1wR1K%2BM5nGSO6%2F7Y3MVf4LcXbQqVgSoV1o5Cz8UMOEW1FRSqAa3vm2JNsm%2FHi3IgfpfJC5h9rv6y9aGzNTZoFTjG2xWH9TVF%2FHfqeCgnmRuWgXbnyIvy6NeiBSWVblnQ6XKAvhTSito1TBBC1fJ6sSYVrkVkiRqkWvanNk8g3yVpVbGHkf6sqKuRy7%2FXH4KJMqF1x0DhmzwqyQ6LKRmQH1dp%2Fmf8GoZU39TZmEVO9sZ08BJqVLehLnewRTsVq0lo6kyUbdwbO1v8fv8W49%2BYgcEqRB%2B8cJNjjFM8SfbKOBb523HqW5tEFyuvh5nWSW6JrZDDF37bLBjqkAc%2FQnaWIGRXpCwT7fEDQWkinFiw6u2dJcymYNfeb5WBVTCb9dJqnM0ffyzeTJfG1nfHAz4P330FecuztcjLmVZHWuzeZMRdvWIPRWh%2B0K7pat5lNiqjDehrDNnTb2154uf2%2B02qk%2B%2FWYbjS39MQAnZKsiivQ5VdQ1GkKSKQIhuMetuewjHuu%2BFudCX737cXjH2hLgzCD8LprrRhBsSqmjUBxXYCZ&X-Amz-Signature=156bc27d4717884e545c07891a3973b250c24a458acd250eabbad2f4ecd3dedc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QAKYUXLW%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCPtmr7iN8JaV8Qtjfasv9RRq00J%2B4sXKQZqGIuOy6M5AIhAPdqBi7Sc1v2XFtO04rFlkBVtWOJACFYhR7PqpTR7RsaKogECI3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxSIAh7ab7mznaImNwq3AOFj3TDgCF1T02D%2FZfdpKhjaOypbDyMueqn06WREzP7iqr%2BdIv8RbLVkkfDyJrczBE2b5Q1cucLfhAQyZNI2NDXoHWn7PSRXwyxiVUFhl0JU1tf840W2YRYhpCqvCfvxBFbFnkOC6086iUntL0XEUVnuB0JBsmi29hlAMhjhuGfgqTnapjfLlwDTlG2m1HREFnzzINEmym7Z7P3WsdILnOgJ5y6qTWP6Ye5BwPtYCXAQi0WLrr8reIO3YNJqUd0vAGYw3ELosYpnGNjLFDXR9ExnvSuJFRkjYFO%2Bboi4JjtwdmI1Wi2MjtnbNW1wR1K%2BM5nGSO6%2F7Y3MVf4LcXbQqVgSoV1o5Cz8UMOEW1FRSqAa3vm2JNsm%2FHi3IgfpfJC5h9rv6y9aGzNTZoFTjG2xWH9TVF%2FHfqeCgnmRuWgXbnyIvy6NeiBSWVblnQ6XKAvhTSito1TBBC1fJ6sSYVrkVkiRqkWvanNk8g3yVpVbGHkf6sqKuRy7%2FXH4KJMqF1x0DhmzwqyQ6LKRmQH1dp%2Fmf8GoZU39TZmEVO9sZ08BJqVLehLnewRTsVq0lo6kyUbdwbO1v8fv8W49%2BYgcEqRB%2B8cJNjjFM8SfbKOBb523HqW5tEFyuvh5nWSW6JrZDDF37bLBjqkAc%2FQnaWIGRXpCwT7fEDQWkinFiw6u2dJcymYNfeb5WBVTCb9dJqnM0ffyzeTJfG1nfHAz4P330FecuztcjLmVZHWuzeZMRdvWIPRWh%2B0K7pat5lNiqjDehrDNnTb2154uf2%2B02qk%2B%2FWYbjS39MQAnZKsiivQ5VdQ1GkKSKQIhuMetuewjHuu%2BFudCX737cXjH2hLgzCD8LprrRhBsSqmjUBxXYCZ&X-Amz-Signature=92f85fff6204785fb1d39496958ed85aae147947eda8c342b413c1ef71e72d1b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QAKYUXLW%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCPtmr7iN8JaV8Qtjfasv9RRq00J%2B4sXKQZqGIuOy6M5AIhAPdqBi7Sc1v2XFtO04rFlkBVtWOJACFYhR7PqpTR7RsaKogECI3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgxSIAh7ab7mznaImNwq3AOFj3TDgCF1T02D%2FZfdpKhjaOypbDyMueqn06WREzP7iqr%2BdIv8RbLVkkfDyJrczBE2b5Q1cucLfhAQyZNI2NDXoHWn7PSRXwyxiVUFhl0JU1tf840W2YRYhpCqvCfvxBFbFnkOC6086iUntL0XEUVnuB0JBsmi29hlAMhjhuGfgqTnapjfLlwDTlG2m1HREFnzzINEmym7Z7P3WsdILnOgJ5y6qTWP6Ye5BwPtYCXAQi0WLrr8reIO3YNJqUd0vAGYw3ELosYpnGNjLFDXR9ExnvSuJFRkjYFO%2Bboi4JjtwdmI1Wi2MjtnbNW1wR1K%2BM5nGSO6%2F7Y3MVf4LcXbQqVgSoV1o5Cz8UMOEW1FRSqAa3vm2JNsm%2FHi3IgfpfJC5h9rv6y9aGzNTZoFTjG2xWH9TVF%2FHfqeCgnmRuWgXbnyIvy6NeiBSWVblnQ6XKAvhTSito1TBBC1fJ6sSYVrkVkiRqkWvanNk8g3yVpVbGHkf6sqKuRy7%2FXH4KJMqF1x0DhmzwqyQ6LKRmQH1dp%2Fmf8GoZU39TZmEVO9sZ08BJqVLehLnewRTsVq0lo6kyUbdwbO1v8fv8W49%2BYgcEqRB%2B8cJNjjFM8SfbKOBb523HqW5tEFyuvh5nWSW6JrZDDF37bLBjqkAc%2FQnaWIGRXpCwT7fEDQWkinFiw6u2dJcymYNfeb5WBVTCb9dJqnM0ffyzeTJfG1nfHAz4P330FecuztcjLmVZHWuzeZMRdvWIPRWh%2B0K7pat5lNiqjDehrDNnTb2154uf2%2B02qk%2B%2FWYbjS39MQAnZKsiivQ5VdQ1GkKSKQIhuMetuewjHuu%2BFudCX737cXjH2hLgzCD8LprrRhBsSqmjUBxXYCZ&X-Amz-Signature=59095aa8e1f2189d98b553bef5a56469201e4658fecfffff3ac6c7f0108f663d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNA3GHSW%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBviHGDhj%2BqiRalJ6sRyODd43cQikuQgYfObnRIam5gCAiBG2lNn3yM6gWBWSCjXfOh4J1vwzHxYzWJeL442iPNrPiqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMVBu58VT%2Fr4oMy7KfKtwDjY7%2FVK7CMlyLtPNpxr%2FeHnBbwy0R7rDInmmX4B7foeUxpK6VSZfGsxjnZhcN7fmKdLGUZEieAh4gyJR3sFt60dbOezi%2FExo4Kl%2F7%2BZ6FvPx3NwQsUMpLFYED%2BSWCb9anwEIbTCyfiJo9scnWARaAyq0QqNeTIBWHd6Ngt%2F2YZqzdNXATi7WF4%2B36txM6e3yJPKewT03R%2BLFysio45IpTeNrRc80SKprZTHJYVWg2xUjwie9eJ5GUiG0gK28U2QexTV6J8OHZdENhsTeipd6Vi7Dez920dOJEhnMcKtBup%2FsdRjDlEAs8fRNWZ%2BbGqSiP%2Bvsey13rT2NO9ZHXyq8HVfEmhbuQnRaAF0iVYyehp8xXe3QlBQRwG0Su2ZRUzrq84x0agUMf9EXrO951dOzqFC6T8rEzwsV5VtPAD%2BWCbG%2BePTBGAsYzTZaB8XV8rTk6bWt5KrpS%2B%2BYOTcgLiewjj1a4htIfboO3GDfhpxMWjmPJKrek%2FJeCvebmZjEta8zzLVSDEWwv5AGfzdoeV5SXbZIetA9J3IlNRMfjeaaUPrUhxZs08OJJf9%2FJ%2BxtmZwYe0aQT3xiHowZn1ke0qE0tBE8YuGGqre57FU4sZfkIzmcD3m0wErWzYjiL0bkwmeC2ywY6pgF6Znl%2F0oF2TUo4ZQ8R9hFcKpWMkKVWdElgJqazAaHAAd0d8LqlhvK2w2bCI6uZ7k7AqpTg28ybQu%2B8yOVJR24BicbW1GVd2jYhuba9z8PZarF%2F%2B%2BDRCIJk6QWgFDe0bKhxrAyg7RtrdylDMiRCZ9JSkT6YIlZvHi1E9VBOJzQU1IZiHOPhTWxxFerD8tDl0yrqg0aqCPbUXAv4iDWKCT81iaYX3QBY&X-Amz-Signature=c160958f314a43d4362a39713bc56adf61dae17a3153f7772d502805647b4891&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNA3GHSW%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBviHGDhj%2BqiRalJ6sRyODd43cQikuQgYfObnRIam5gCAiBG2lNn3yM6gWBWSCjXfOh4J1vwzHxYzWJeL442iPNrPiqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMVBu58VT%2Fr4oMy7KfKtwDjY7%2FVK7CMlyLtPNpxr%2FeHnBbwy0R7rDInmmX4B7foeUxpK6VSZfGsxjnZhcN7fmKdLGUZEieAh4gyJR3sFt60dbOezi%2FExo4Kl%2F7%2BZ6FvPx3NwQsUMpLFYED%2BSWCb9anwEIbTCyfiJo9scnWARaAyq0QqNeTIBWHd6Ngt%2F2YZqzdNXATi7WF4%2B36txM6e3yJPKewT03R%2BLFysio45IpTeNrRc80SKprZTHJYVWg2xUjwie9eJ5GUiG0gK28U2QexTV6J8OHZdENhsTeipd6Vi7Dez920dOJEhnMcKtBup%2FsdRjDlEAs8fRNWZ%2BbGqSiP%2Bvsey13rT2NO9ZHXyq8HVfEmhbuQnRaAF0iVYyehp8xXe3QlBQRwG0Su2ZRUzrq84x0agUMf9EXrO951dOzqFC6T8rEzwsV5VtPAD%2BWCbG%2BePTBGAsYzTZaB8XV8rTk6bWt5KrpS%2B%2BYOTcgLiewjj1a4htIfboO3GDfhpxMWjmPJKrek%2FJeCvebmZjEta8zzLVSDEWwv5AGfzdoeV5SXbZIetA9J3IlNRMfjeaaUPrUhxZs08OJJf9%2FJ%2BxtmZwYe0aQT3xiHowZn1ke0qE0tBE8YuGGqre57FU4sZfkIzmcD3m0wErWzYjiL0bkwmeC2ywY6pgF6Znl%2F0oF2TUo4ZQ8R9hFcKpWMkKVWdElgJqazAaHAAd0d8LqlhvK2w2bCI6uZ7k7AqpTg28ybQu%2B8yOVJR24BicbW1GVd2jYhuba9z8PZarF%2F%2B%2BDRCIJk6QWgFDe0bKhxrAyg7RtrdylDMiRCZ9JSkT6YIlZvHi1E9VBOJzQU1IZiHOPhTWxxFerD8tDl0yrqg0aqCPbUXAv4iDWKCT81iaYX3QBY&X-Amz-Signature=20e5a9e384a8a67db001d640fbb3c0e590816f6a870aaedecd224672bf356169&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNA3GHSW%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBviHGDhj%2BqiRalJ6sRyODd43cQikuQgYfObnRIam5gCAiBG2lNn3yM6gWBWSCjXfOh4J1vwzHxYzWJeL442iPNrPiqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMVBu58VT%2Fr4oMy7KfKtwDjY7%2FVK7CMlyLtPNpxr%2FeHnBbwy0R7rDInmmX4B7foeUxpK6VSZfGsxjnZhcN7fmKdLGUZEieAh4gyJR3sFt60dbOezi%2FExo4Kl%2F7%2BZ6FvPx3NwQsUMpLFYED%2BSWCb9anwEIbTCyfiJo9scnWARaAyq0QqNeTIBWHd6Ngt%2F2YZqzdNXATi7WF4%2B36txM6e3yJPKewT03R%2BLFysio45IpTeNrRc80SKprZTHJYVWg2xUjwie9eJ5GUiG0gK28U2QexTV6J8OHZdENhsTeipd6Vi7Dez920dOJEhnMcKtBup%2FsdRjDlEAs8fRNWZ%2BbGqSiP%2Bvsey13rT2NO9ZHXyq8HVfEmhbuQnRaAF0iVYyehp8xXe3QlBQRwG0Su2ZRUzrq84x0agUMf9EXrO951dOzqFC6T8rEzwsV5VtPAD%2BWCbG%2BePTBGAsYzTZaB8XV8rTk6bWt5KrpS%2B%2BYOTcgLiewjj1a4htIfboO3GDfhpxMWjmPJKrek%2FJeCvebmZjEta8zzLVSDEWwv5AGfzdoeV5SXbZIetA9J3IlNRMfjeaaUPrUhxZs08OJJf9%2FJ%2BxtmZwYe0aQT3xiHowZn1ke0qE0tBE8YuGGqre57FU4sZfkIzmcD3m0wErWzYjiL0bkwmeC2ywY6pgF6Znl%2F0oF2TUo4ZQ8R9hFcKpWMkKVWdElgJqazAaHAAd0d8LqlhvK2w2bCI6uZ7k7AqpTg28ybQu%2B8yOVJR24BicbW1GVd2jYhuba9z8PZarF%2F%2B%2BDRCIJk6QWgFDe0bKhxrAyg7RtrdylDMiRCZ9JSkT6YIlZvHi1E9VBOJzQU1IZiHOPhTWxxFerD8tDl0yrqg0aqCPbUXAv4iDWKCT81iaYX3QBY&X-Amz-Signature=d764cb05778aac1f821b92957527f9a34a4ea07e2f5055451cff322176989d2b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNA3GHSW%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIBviHGDhj%2BqiRalJ6sRyODd43cQikuQgYfObnRIam5gCAiBG2lNn3yM6gWBWSCjXfOh4J1vwzHxYzWJeL442iPNrPiqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMVBu58VT%2Fr4oMy7KfKtwDjY7%2FVK7CMlyLtPNpxr%2FeHnBbwy0R7rDInmmX4B7foeUxpK6VSZfGsxjnZhcN7fmKdLGUZEieAh4gyJR3sFt60dbOezi%2FExo4Kl%2F7%2BZ6FvPx3NwQsUMpLFYED%2BSWCb9anwEIbTCyfiJo9scnWARaAyq0QqNeTIBWHd6Ngt%2F2YZqzdNXATi7WF4%2B36txM6e3yJPKewT03R%2BLFysio45IpTeNrRc80SKprZTHJYVWg2xUjwie9eJ5GUiG0gK28U2QexTV6J8OHZdENhsTeipd6Vi7Dez920dOJEhnMcKtBup%2FsdRjDlEAs8fRNWZ%2BbGqSiP%2Bvsey13rT2NO9ZHXyq8HVfEmhbuQnRaAF0iVYyehp8xXe3QlBQRwG0Su2ZRUzrq84x0agUMf9EXrO951dOzqFC6T8rEzwsV5VtPAD%2BWCbG%2BePTBGAsYzTZaB8XV8rTk6bWt5KrpS%2B%2BYOTcgLiewjj1a4htIfboO3GDfhpxMWjmPJKrek%2FJeCvebmZjEta8zzLVSDEWwv5AGfzdoeV5SXbZIetA9J3IlNRMfjeaaUPrUhxZs08OJJf9%2FJ%2BxtmZwYe0aQT3xiHowZn1ke0qE0tBE8YuGGqre57FU4sZfkIzmcD3m0wErWzYjiL0bkwmeC2ywY6pgF6Znl%2F0oF2TUo4ZQ8R9hFcKpWMkKVWdElgJqazAaHAAd0d8LqlhvK2w2bCI6uZ7k7AqpTg28ybQu%2B8yOVJR24BicbW1GVd2jYhuba9z8PZarF%2F%2B%2BDRCIJk6QWgFDe0bKhxrAyg7RtrdylDMiRCZ9JSkT6YIlZvHi1E9VBOJzQU1IZiHOPhTWxxFerD8tDl0yrqg0aqCPbUXAv4iDWKCT81iaYX3QBY&X-Amz-Signature=135430ca9171f193b0017692426c390d0ce45a61e877caed233134458c2c814e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W2XKRDUS%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHkUWf%2BvYHazfiBraeHfU5THOhuqMNcqml5SFfc%2FMU%2B4AiBiN9D3BkuCZjFsxGn9DvmybmK1dvw99iUn9gSOCG1cnCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM67cdY39cg36Sr6ArKtwDm2u%2Fm2stPRQ3sZX6ePH3LXsPDZJtQkm4gwi9o6pT2pBOd3Wf2Xd9VzAz3hJbiChDGG2cpxcQJ00ga%2FGVt3MsvGI%2FCFSNSelBaQfYiendOHmP3dfnBFCIGfA%2FzsKcXmB6qmPSpdVd7idFBqHQUg5NlRXhQswK42ttsFxMJUx6kf1NBRiTC1vTW3Z8qD0aTXwDi%2FYny4Vpq8BUYKYmCWkn8cVb1AIUusho6yETUE3mvLXLF3Dz349tFJ3CkdAZglpMQFo%2B7w%2BMiERlAtSy9hCFcIOut7x9nO3sXtoUlSWZSzrEJAfY6KBbX8yUQ%2FlPwMJsp7n1WycVTDJP2ylfajG7dOxK%2FKFrr5oHZWMz28UzbnRMvFnK%2B4F7MgnjN4EmXMyJ2Ez7nQHfH9nr%2B%2F9TgxbsuOb1ypPlB4XPCMajXhulYGoP7b4xPX0BTGpIKChd1omlETWzUY9Y%2FEPSEgihRmbeYFvOFqOeDbUWvYww4QY2UIOgQwyJTva%2B%2BcuiXYkeo9CqmYxh8R0qwQ4vWFSyjQq9JClytk5fxFknTEUNzM%2BjLcggVtduFJl8UgMmwAK%2BEpj9tvOKKiuV8f1eX0NZiLS6v05cY7%2F617SShU96gY%2FpTkvkyInjg0lg4XWaPbUwmuC2ywY6pgF%2BupND7EmQhlS0mbP2aocfCrCSRY1PqvQe%2By2Lj2qgxf4qpnyIJzW4rGTHH%2BXZ3DnCFn%2FoHbXDfKJ8Fh0FdZgmZssw5gI%2FFBdowFNvXpWEn831%2FCdC9RqOmYqhrGBd4tEPTRUHmzOkn58SU59YTjDMFo7SoU2S5aMQlb87ClRJ1mSmbRZAFuCHpkE22GTeKelTeOVTfRfh5LijUt1kAXZgUdFVwPvL&X-Amz-Signature=9dfdc1c87b5972814df6db99bcf736c17fca55bc11f7d2d2406ab2fd7489e710&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W2XKRDUS%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHkUWf%2BvYHazfiBraeHfU5THOhuqMNcqml5SFfc%2FMU%2B4AiBiN9D3BkuCZjFsxGn9DvmybmK1dvw99iUn9gSOCG1cnCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM67cdY39cg36Sr6ArKtwDm2u%2Fm2stPRQ3sZX6ePH3LXsPDZJtQkm4gwi9o6pT2pBOd3Wf2Xd9VzAz3hJbiChDGG2cpxcQJ00ga%2FGVt3MsvGI%2FCFSNSelBaQfYiendOHmP3dfnBFCIGfA%2FzsKcXmB6qmPSpdVd7idFBqHQUg5NlRXhQswK42ttsFxMJUx6kf1NBRiTC1vTW3Z8qD0aTXwDi%2FYny4Vpq8BUYKYmCWkn8cVb1AIUusho6yETUE3mvLXLF3Dz349tFJ3CkdAZglpMQFo%2B7w%2BMiERlAtSy9hCFcIOut7x9nO3sXtoUlSWZSzrEJAfY6KBbX8yUQ%2FlPwMJsp7n1WycVTDJP2ylfajG7dOxK%2FKFrr5oHZWMz28UzbnRMvFnK%2B4F7MgnjN4EmXMyJ2Ez7nQHfH9nr%2B%2F9TgxbsuOb1ypPlB4XPCMajXhulYGoP7b4xPX0BTGpIKChd1omlETWzUY9Y%2FEPSEgihRmbeYFvOFqOeDbUWvYww4QY2UIOgQwyJTva%2B%2BcuiXYkeo9CqmYxh8R0qwQ4vWFSyjQq9JClytk5fxFknTEUNzM%2BjLcggVtduFJl8UgMmwAK%2BEpj9tvOKKiuV8f1eX0NZiLS6v05cY7%2F617SShU96gY%2FpTkvkyInjg0lg4XWaPbUwmuC2ywY6pgF%2BupND7EmQhlS0mbP2aocfCrCSRY1PqvQe%2By2Lj2qgxf4qpnyIJzW4rGTHH%2BXZ3DnCFn%2FoHbXDfKJ8Fh0FdZgmZssw5gI%2FFBdowFNvXpWEn831%2FCdC9RqOmYqhrGBd4tEPTRUHmzOkn58SU59YTjDMFo7SoU2S5aMQlb87ClRJ1mSmbRZAFuCHpkE22GTeKelTeOVTfRfh5LijUt1kAXZgUdFVwPvL&X-Amz-Signature=f4200b85b48175062f65347fb93a9dcaac17eeab5687083852c47c7b9589381b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W2XKRDUS%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHkUWf%2BvYHazfiBraeHfU5THOhuqMNcqml5SFfc%2FMU%2B4AiBiN9D3BkuCZjFsxGn9DvmybmK1dvw99iUn9gSOCG1cnCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM67cdY39cg36Sr6ArKtwDm2u%2Fm2stPRQ3sZX6ePH3LXsPDZJtQkm4gwi9o6pT2pBOd3Wf2Xd9VzAz3hJbiChDGG2cpxcQJ00ga%2FGVt3MsvGI%2FCFSNSelBaQfYiendOHmP3dfnBFCIGfA%2FzsKcXmB6qmPSpdVd7idFBqHQUg5NlRXhQswK42ttsFxMJUx6kf1NBRiTC1vTW3Z8qD0aTXwDi%2FYny4Vpq8BUYKYmCWkn8cVb1AIUusho6yETUE3mvLXLF3Dz349tFJ3CkdAZglpMQFo%2B7w%2BMiERlAtSy9hCFcIOut7x9nO3sXtoUlSWZSzrEJAfY6KBbX8yUQ%2FlPwMJsp7n1WycVTDJP2ylfajG7dOxK%2FKFrr5oHZWMz28UzbnRMvFnK%2B4F7MgnjN4EmXMyJ2Ez7nQHfH9nr%2B%2F9TgxbsuOb1ypPlB4XPCMajXhulYGoP7b4xPX0BTGpIKChd1omlETWzUY9Y%2FEPSEgihRmbeYFvOFqOeDbUWvYww4QY2UIOgQwyJTva%2B%2BcuiXYkeo9CqmYxh8R0qwQ4vWFSyjQq9JClytk5fxFknTEUNzM%2BjLcggVtduFJl8UgMmwAK%2BEpj9tvOKKiuV8f1eX0NZiLS6v05cY7%2F617SShU96gY%2FpTkvkyInjg0lg4XWaPbUwmuC2ywY6pgF%2BupND7EmQhlS0mbP2aocfCrCSRY1PqvQe%2By2Lj2qgxf4qpnyIJzW4rGTHH%2BXZ3DnCFn%2FoHbXDfKJ8Fh0FdZgmZssw5gI%2FFBdowFNvXpWEn831%2FCdC9RqOmYqhrGBd4tEPTRUHmzOkn58SU59YTjDMFo7SoU2S5aMQlb87ClRJ1mSmbRZAFuCHpkE22GTeKelTeOVTfRfh5LijUt1kAXZgUdFVwPvL&X-Amz-Signature=550c05d88448e70fac39335e0327c6c3b87b9535e540fe26f75b7ccd08f57815&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W2XKRDUS%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042324Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIHkUWf%2BvYHazfiBraeHfU5THOhuqMNcqml5SFfc%2FMU%2B4AiBiN9D3BkuCZjFsxGn9DvmybmK1dvw99iUn9gSOCG1cnCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM67cdY39cg36Sr6ArKtwDm2u%2Fm2stPRQ3sZX6ePH3LXsPDZJtQkm4gwi9o6pT2pBOd3Wf2Xd9VzAz3hJbiChDGG2cpxcQJ00ga%2FGVt3MsvGI%2FCFSNSelBaQfYiendOHmP3dfnBFCIGfA%2FzsKcXmB6qmPSpdVd7idFBqHQUg5NlRXhQswK42ttsFxMJUx6kf1NBRiTC1vTW3Z8qD0aTXwDi%2FYny4Vpq8BUYKYmCWkn8cVb1AIUusho6yETUE3mvLXLF3Dz349tFJ3CkdAZglpMQFo%2B7w%2BMiERlAtSy9hCFcIOut7x9nO3sXtoUlSWZSzrEJAfY6KBbX8yUQ%2FlPwMJsp7n1WycVTDJP2ylfajG7dOxK%2FKFrr5oHZWMz28UzbnRMvFnK%2B4F7MgnjN4EmXMyJ2Ez7nQHfH9nr%2B%2F9TgxbsuOb1ypPlB4XPCMajXhulYGoP7b4xPX0BTGpIKChd1omlETWzUY9Y%2FEPSEgihRmbeYFvOFqOeDbUWvYww4QY2UIOgQwyJTva%2B%2BcuiXYkeo9CqmYxh8R0qwQ4vWFSyjQq9JClytk5fxFknTEUNzM%2BjLcggVtduFJl8UgMmwAK%2BEpj9tvOKKiuV8f1eX0NZiLS6v05cY7%2F617SShU96gY%2FpTkvkyInjg0lg4XWaPbUwmuC2ywY6pgF%2BupND7EmQhlS0mbP2aocfCrCSRY1PqvQe%2By2Lj2qgxf4qpnyIJzW4rGTHH%2BXZ3DnCFn%2FoHbXDfKJ8Fh0FdZgmZssw5gI%2FFBdowFNvXpWEn831%2FCdC9RqOmYqhrGBd4tEPTRUHmzOkn58SU59YTjDMFo7SoU2S5aMQlb87ClRJ1mSmbRZAFuCHpkE22GTeKelTeOVTfRfh5LijUt1kAXZgUdFVwPvL&X-Amz-Signature=5899e990cbb679bb33cb32d853df92a7f974e0138b1338e7a1d949f0e4d9c7f6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46627A4UEOB%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGhJDCllxwPkycARrrMvn%2B2Lw6HG1GLtCEVdS5iCDTYyAiABkKMRibizybRDbricmHP33F%2BF6CdCw%2B6SPffQ8kcRQyqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM9ksm7%2F%2Fxkl4gIbYCKtwDvsHAOwJnx4hUhdkIhlcVjrS7zPAIY54CrQehWHyV3LkXrXdOjU9%2FxWbNixU7K3hREnZE2vA4tD5ETbQ0KvVKoR%2Bpze7VXEbRF53WLbEIl5zrjcvL%2BFCOCICfL2RlY68jUWjQUDY0j9WA329%2Fyme6HK4EByk0Tjq6AXvmo9I%2BjOlmo4KH3bdJ0A%2FUgNmptJVaVG8mq52%2BFC1kHOZ1J7ONM5gGrVJ3ZLeU%2BYGhWK3SE1l56Rn7TzzJq2qP7vZOz3TmbY0FTctSVFo1xGKCSLSKSfq5mAVj2LN9R2YiCDwNbk%2Fwyz0%2FoxqtCfz8wlSaibOhIx5OCMMVn7JlHgcxSYsfmIH%2BJjPErP1Evi%2B%2F%2B9K3s6n%2Fj5US7Vclsh7FGguu%2FSK2BtWhJ0uHhY%2FybZbNTTfePnUoOSK9IM7iSh9me%2FCJH50utRTJobZFFqzhdrJs4noS9Wkm%2BbjQhFxYKY2u2o4tlNWigY9scbc41dAMejzMOlyn6hDU2H7sy5%2FwJgXYO%2B9j40YfJ5KZuDRoHSXyBAGq3nicO5FVHdLH5ufCl%2Bd%2B%2BSXsAY%2B4UsR7uim5TeAjYm0bRml0juzVPG13cpe1ZxMM%2Fdf7RqTBszizV3kAsrigqywx9CXOgB4%2Frm8gdzEwkOC2ywY6pgFIcjJicqBMB%2FpXWWO4XLJRZYqxb8R97HWo2YX2KgTz5qcGjY3i38A3qUch2PmwwjTN%2Bazj9%2FUklOUSY3w32AM6ozWq34UjoDPFz2M%2BL%2BejxT1fDtmxU2SiwSi1DpWBxlCYNuUfcEczhO7IBBWsdiXNrPTAwXn76TuMTeQsCNvglruK%2B3IYQS%2BQwK8ogi8UJlR8VmSXo4eBZRoif0mGqlzsyrl1w16u&X-Amz-Signature=f6d9cfffdbbea9e3e6ea951580879f6c98371f51d0fc872d78a74fa6bc7c3695&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46627A4UEOB%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGhJDCllxwPkycARrrMvn%2B2Lw6HG1GLtCEVdS5iCDTYyAiABkKMRibizybRDbricmHP33F%2BF6CdCw%2B6SPffQ8kcRQyqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM9ksm7%2F%2Fxkl4gIbYCKtwDvsHAOwJnx4hUhdkIhlcVjrS7zPAIY54CrQehWHyV3LkXrXdOjU9%2FxWbNixU7K3hREnZE2vA4tD5ETbQ0KvVKoR%2Bpze7VXEbRF53WLbEIl5zrjcvL%2BFCOCICfL2RlY68jUWjQUDY0j9WA329%2Fyme6HK4EByk0Tjq6AXvmo9I%2BjOlmo4KH3bdJ0A%2FUgNmptJVaVG8mq52%2BFC1kHOZ1J7ONM5gGrVJ3ZLeU%2BYGhWK3SE1l56Rn7TzzJq2qP7vZOz3TmbY0FTctSVFo1xGKCSLSKSfq5mAVj2LN9R2YiCDwNbk%2Fwyz0%2FoxqtCfz8wlSaibOhIx5OCMMVn7JlHgcxSYsfmIH%2BJjPErP1Evi%2B%2F%2B9K3s6n%2Fj5US7Vclsh7FGguu%2FSK2BtWhJ0uHhY%2FybZbNTTfePnUoOSK9IM7iSh9me%2FCJH50utRTJobZFFqzhdrJs4noS9Wkm%2BbjQhFxYKY2u2o4tlNWigY9scbc41dAMejzMOlyn6hDU2H7sy5%2FwJgXYO%2B9j40YfJ5KZuDRoHSXyBAGq3nicO5FVHdLH5ufCl%2Bd%2B%2BSXsAY%2B4UsR7uim5TeAjYm0bRml0juzVPG13cpe1ZxMM%2Fdf7RqTBszizV3kAsrigqywx9CXOgB4%2Frm8gdzEwkOC2ywY6pgFIcjJicqBMB%2FpXWWO4XLJRZYqxb8R97HWo2YX2KgTz5qcGjY3i38A3qUch2PmwwjTN%2Bazj9%2FUklOUSY3w32AM6ozWq34UjoDPFz2M%2BL%2BejxT1fDtmxU2SiwSi1DpWBxlCYNuUfcEczhO7IBBWsdiXNrPTAwXn76TuMTeQsCNvglruK%2B3IYQS%2BQwK8ogi8UJlR8VmSXo4eBZRoif0mGqlzsyrl1w16u&X-Amz-Signature=57f10297a3ddbc14df6901e77a8cf07c957a9214aae5090cac9892d25ad7f69f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46627A4UEOB%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGhJDCllxwPkycARrrMvn%2B2Lw6HG1GLtCEVdS5iCDTYyAiABkKMRibizybRDbricmHP33F%2BF6CdCw%2B6SPffQ8kcRQyqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM9ksm7%2F%2Fxkl4gIbYCKtwDvsHAOwJnx4hUhdkIhlcVjrS7zPAIY54CrQehWHyV3LkXrXdOjU9%2FxWbNixU7K3hREnZE2vA4tD5ETbQ0KvVKoR%2Bpze7VXEbRF53WLbEIl5zrjcvL%2BFCOCICfL2RlY68jUWjQUDY0j9WA329%2Fyme6HK4EByk0Tjq6AXvmo9I%2BjOlmo4KH3bdJ0A%2FUgNmptJVaVG8mq52%2BFC1kHOZ1J7ONM5gGrVJ3ZLeU%2BYGhWK3SE1l56Rn7TzzJq2qP7vZOz3TmbY0FTctSVFo1xGKCSLSKSfq5mAVj2LN9R2YiCDwNbk%2Fwyz0%2FoxqtCfz8wlSaibOhIx5OCMMVn7JlHgcxSYsfmIH%2BJjPErP1Evi%2B%2F%2B9K3s6n%2Fj5US7Vclsh7FGguu%2FSK2BtWhJ0uHhY%2FybZbNTTfePnUoOSK9IM7iSh9me%2FCJH50utRTJobZFFqzhdrJs4noS9Wkm%2BbjQhFxYKY2u2o4tlNWigY9scbc41dAMejzMOlyn6hDU2H7sy5%2FwJgXYO%2B9j40YfJ5KZuDRoHSXyBAGq3nicO5FVHdLH5ufCl%2Bd%2B%2BSXsAY%2B4UsR7uim5TeAjYm0bRml0juzVPG13cpe1ZxMM%2Fdf7RqTBszizV3kAsrigqywx9CXOgB4%2Frm8gdzEwkOC2ywY6pgFIcjJicqBMB%2FpXWWO4XLJRZYqxb8R97HWo2YX2KgTz5qcGjY3i38A3qUch2PmwwjTN%2Bazj9%2FUklOUSY3w32AM6ozWq34UjoDPFz2M%2BL%2BejxT1fDtmxU2SiwSi1DpWBxlCYNuUfcEczhO7IBBWsdiXNrPTAwXn76TuMTeQsCNvglruK%2B3IYQS%2BQwK8ogi8UJlR8VmSXo4eBZRoif0mGqlzsyrl1w16u&X-Amz-Signature=69e62f6f7973857c1f80e975594133240441f979668efe4310f194c98a47c837&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RPYNXTWD%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD2Zdu8Itje5HpwOfHJ6jo%2B1CoWlMVn6expXToThZr9NwIhAIZAe5UibMBYb98RbT5OYIak5mHP6cR%2BTp8PgQuHXx9TKogECI3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx0xe0GhfeEpvYiYSIq3ANrPnOqge7TtCGGn7aYVjmW8nos6b0GodfNB0%2BEztzLiYO3O2gxE7JOkvGJmV1t3CexFGkValCB9%2BDi87laJ7FQ9WFpObJCMWN1yeE4ycZ6M%2FL3%2BboO3uP0TsTcEtiQTsVcMLNlxVvyPudpiXWMB2Ny79DxvON4sVn6DikAb61rIv8U%2BcK4yMvIkfY83OWvJe38Ao0leYuzYskbUglr0BOtbPb5i13nqzrrqY%2Bn686zC2faK0M5YIncssLUzob8C4%2B1AkWrGPdrlm%2BIQXP%2F9Bn9oLquONj1B4X8GbUjMJEIEs2o9IlSOwuOntkTP%2FkKi%2BhN259ktGFZDDD5IM2Qfj9Cgx7o5rImSmTH%2B5GzgDm014GVVw%2BwEaPHMOQTGxjy8h3wkgeiD4VAHMVBhb78jhxtES2FC0UV%2Fcv%2FF8MnTjU34qa%2BlUDl%2B9w8wVhZAVnI9bWJlIXk79Vfa6uoUjc1o23nqJmZWzoB8VeZrx1d05lk4DVFJtxze8AF1Ui5e%2Fq6rh5gJz7S%2F26%2BJM9wYJE63Jb%2B7vlegFjDGuqKHKFWUEFGSxtlGyEooqCT610OWqrihcTYmzkXGTj90SWRl6KSm7TzFA4UnwvqMuwS6Jb890ipPZkT3PnyoqDBGf1RYzDT37bLBjqkAcTko7b9cSE4SLNU6L2s8r2Lt3CGwxxX%2BTZpiM8lc%2BCTSfqZfUsLeRh7itYCIArmFXi%2FRZAFeWP4IVX25%2FysTg9jRg1rJvFFN%2Ft8zN83BeSNzisdf2ydeKciXJoZ5btPyUyp1CvNfflDJiiNf1wsGSliUp%2FYsoSyOCuZvpeZNuqPsxJyQdufbRe628%2FQie5kIFnra1Kb483LYlAVABhvcK9fk2FC&X-Amz-Signature=7db9f9d20c23057219b66f55a1494171296af8a6b46fb5607dce51af9c00bd79&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RPYNXTWD%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042325Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQD2Zdu8Itje5HpwOfHJ6jo%2B1CoWlMVn6expXToThZr9NwIhAIZAe5UibMBYb98RbT5OYIak5mHP6cR%2BTp8PgQuHXx9TKogECI3%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igx0xe0GhfeEpvYiYSIq3ANrPnOqge7TtCGGn7aYVjmW8nos6b0GodfNB0%2BEztzLiYO3O2gxE7JOkvGJmV1t3CexFGkValCB9%2BDi87laJ7FQ9WFpObJCMWN1yeE4ycZ6M%2FL3%2BboO3uP0TsTcEtiQTsVcMLNlxVvyPudpiXWMB2Ny79DxvON4sVn6DikAb61rIv8U%2BcK4yMvIkfY83OWvJe38Ao0leYuzYskbUglr0BOtbPb5i13nqzrrqY%2Bn686zC2faK0M5YIncssLUzob8C4%2B1AkWrGPdrlm%2BIQXP%2F9Bn9oLquONj1B4X8GbUjMJEIEs2o9IlSOwuOntkTP%2FkKi%2BhN259ktGFZDDD5IM2Qfj9Cgx7o5rImSmTH%2B5GzgDm014GVVw%2BwEaPHMOQTGxjy8h3wkgeiD4VAHMVBhb78jhxtES2FC0UV%2Fcv%2FF8MnTjU34qa%2BlUDl%2B9w8wVhZAVnI9bWJlIXk79Vfa6uoUjc1o23nqJmZWzoB8VeZrx1d05lk4DVFJtxze8AF1Ui5e%2Fq6rh5gJz7S%2F26%2BJM9wYJE63Jb%2B7vlegFjDGuqKHKFWUEFGSxtlGyEooqCT610OWqrihcTYmzkXGTj90SWRl6KSm7TzFA4UnwvqMuwS6Jb890ipPZkT3PnyoqDBGf1RYzDT37bLBjqkAcTko7b9cSE4SLNU6L2s8r2Lt3CGwxxX%2BTZpiM8lc%2BCTSfqZfUsLeRh7itYCIArmFXi%2FRZAFeWP4IVX25%2FysTg9jRg1rJvFFN%2Ft8zN83BeSNzisdf2ydeKciXJoZ5btPyUyp1CvNfflDJiiNf1wsGSliUp%2FYsoSyOCuZvpeZNuqPsxJyQdufbRe628%2FQie5kIFnra1Kb483LYlAVABhvcK9fk2FC&X-Amz-Signature=1e872091d4615bca1ff50a93b9d2aec210afa3a116997d4ecc75581585e38f52&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMEPV7YR%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042326Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGCbfJNh%2B5HbBlUmog77hIKfTTyXjP91325DR%2FNa%2FrSJAiBU4QDucTDmiIZashO7IDuAaJaNnwfjTOOccpTBZgutyCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMExUsh50BIh%2BFiWbzKtwD274dqMgizrSqpj1k9661jA575n2i7DYduHclm9hQtXKB6Znb%2BzxS4Nz5akA5trrI6mdVohn5I9%2FGS7cORvmJeuWK7PPD61W6ZWxy7EmUyQCGxWh313hB5L%2FL0YxBHAZhxx9bkj%2BSa18A0cN20UN%2FZ41TgezXXi4XUPaNW76V0gqonnDKvtJn1mQ0oH%2BdaCDmJMnvGNNMyTlzXk7zIsMWNrCHd2VaIs85EBSOYGK8mSHgmLdKXefKiSlvlWbzQPELdlGlznfz6YrgnfmTCSTd2MR0LBzXapjBeSXPWMBaEz5b8bXkIVPyeLkUz9hS96eaFrN9XaWiakc%2Fj1b92jyq5c%2BskkMiq56X%2FBj%2Ba8maBSvavTEfWFwCpLE9mlYDtpRt5YadMxy4kj6bNh1don3zuGmqGSxw%2Fd1UQRN1dGafLyUILWJ4I2bPSBki87Yk%2B8a7SLm9FQb9lqxltKcgxB9efbdPW4IrYm%2BGECu%2FRuggwRio125BGde1tJ236HvnmqRg4kqKfD3Lv4wJo9GRqUYNLqBywip%2B1MVCxL97pQEN7JQreAhhkM66t%2BqgLm77Dc0Sp3DG8buMupMIH6rpp4xJNyjtAuDdjlhinSDvIX9rq8VrVkc9cqlIol%2BmCLswu%2BC2ywY6pgHn%2FQ0hUnAU0Roms5bIQ1hgoFl6KbqhqoyBfuMW6u94JYCkDFkGARBp26d6DH0sP%2BxzWtF6Tk7a4wMoqiixSs2GyLQTDjegSCX4GiXdiKxlAXg2GbHxMaMP%2Ba%2BKqQCliFPvTBEanW2GD%2FpI479gwmrq2RlTLONvpWgLYdYLEJbpUHTfsm5Tkpdivs7OjshWQkY800r2iizbg6hybhYImpOMV0LDt4hr&X-Amz-Signature=dd1c1aec8e425c3f2efda65c306ad3abb90bb9240473f003f47937c056fc58e6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466QMEPV7YR%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042326Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIGCbfJNh%2B5HbBlUmog77hIKfTTyXjP91325DR%2FNa%2FrSJAiBU4QDucTDmiIZashO7IDuAaJaNnwfjTOOccpTBZgutyCqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMExUsh50BIh%2BFiWbzKtwD274dqMgizrSqpj1k9661jA575n2i7DYduHclm9hQtXKB6Znb%2BzxS4Nz5akA5trrI6mdVohn5I9%2FGS7cORvmJeuWK7PPD61W6ZWxy7EmUyQCGxWh313hB5L%2FL0YxBHAZhxx9bkj%2BSa18A0cN20UN%2FZ41TgezXXi4XUPaNW76V0gqonnDKvtJn1mQ0oH%2BdaCDmJMnvGNNMyTlzXk7zIsMWNrCHd2VaIs85EBSOYGK8mSHgmLdKXefKiSlvlWbzQPELdlGlznfz6YrgnfmTCSTd2MR0LBzXapjBeSXPWMBaEz5b8bXkIVPyeLkUz9hS96eaFrN9XaWiakc%2Fj1b92jyq5c%2BskkMiq56X%2FBj%2Ba8maBSvavTEfWFwCpLE9mlYDtpRt5YadMxy4kj6bNh1don3zuGmqGSxw%2Fd1UQRN1dGafLyUILWJ4I2bPSBki87Yk%2B8a7SLm9FQb9lqxltKcgxB9efbdPW4IrYm%2BGECu%2FRuggwRio125BGde1tJ236HvnmqRg4kqKfD3Lv4wJo9GRqUYNLqBywip%2B1MVCxL97pQEN7JQreAhhkM66t%2BqgLm77Dc0Sp3DG8buMupMIH6rpp4xJNyjtAuDdjlhinSDvIX9rq8VrVkc9cqlIol%2BmCLswu%2BC2ywY6pgHn%2FQ0hUnAU0Roms5bIQ1hgoFl6KbqhqoyBfuMW6u94JYCkDFkGARBp26d6DH0sP%2BxzWtF6Tk7a4wMoqiixSs2GyLQTDjegSCX4GiXdiKxlAXg2GbHxMaMP%2Ba%2BKqQCliFPvTBEanW2GD%2FpI479gwmrq2RlTLONvpWgLYdYLEJbpUHTfsm5Tkpdivs7OjshWQkY800r2iizbg6hybhYImpOMV0LDt4hr&X-Amz-Signature=32472cfe9c7000e425e882027d6bf84c521e69976ee51ed5e8b62242094b91b7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664R4DEMQB%2F20260119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260119T042326Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIH8gX%2Fgi0P8VAZ3bg5ROVMOssV7rqOivsSOOYC4R1Dh6AiB6jEzIVS%2FGoPaJV5EMdkcYHaXwrtfAvxfFQNzH9gWsfyqIBAiN%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM5BoU%2Br7xRClmLZwfKtwDP5bgTLjYMOWKrzwXD95%2BvqztiEqCA96pK9ZcrUW7QNKOclqTn8mYh65dy8z7kqwIWwfFQp2o8uhF45t6%2BW4Sq8kUbfK505%2BOnkv9rkf2liUHcRifo45hQgtmPSp%2FC%2BAxC3mNBJOAlA2QKcSpduIWEYDhN3jYArdKZR2GwdiUQ9aR9pQiKmp%2BnAbo2pRZrVT%2F7SFdHz9gMn5eHYU30ntzPQS7Nd2fH6qjal3cDVrEVHTxJfzH2mmyl%2B%2BqjHi4S1AwfeI3RTShCXFqUcm8NH8nEquF0F2WeCk%2BJp9ep9w422vVXg16XdftNbijZPMMoqmjE1sCPZB16h0W9ijsp8TI2hJdawHusb65e8d8E94%2BK0TM2pmMN01Nub21OnOQzzmKpHpMqAomA5wW6DU9fVOVLj2vorPBpuaBGtPtF74JkPuaws3x3MW3IBemXMz4%2B%2F5Td1N%2B54YjAr00Gjjv4Pr47xZyg8gKTnPkkZoHIwmlKNQHz5CF%2FcaMiZlCa1ZdxSvMn7Xyx90U%2B0z5vllZIbi41SIbBv%2FrIyFTgt3GKfLSI1KEsaHoL%2BrbBjJx1N%2B5rjXZF9fYlH3Pcoug7QQXU9mWr65h0ALVmRtZcR9ZxzSJ31YVCMVgOpQs8YPK7aowjeC2ywY6pgE%2Fy6zE5Uq6yaPlmx4U37lr2EWfJ3ISbKUB2x8940ZA0zQa49cbZmG1BbN9ga7dOkvg2fgYQGwKvBSsgzwVx3JUYPjhw%2FQ8z6lxICS6jjlkY0Q8B%2F2bb2dkXs%2FBtxDTH1iSS9LUg6Vl6s4Bs26cSu3wP04TGgnmpl%2BCBWB%2BczPs5FVAwNxvXIOVfa%2F7nRshXAp3PSxBw6Fn%2BYOX1GG6nFCoRhcceiSX&X-Amz-Signature=3ca5d4ad779970ab2057df63d6008406a9dfd1a095c9acef50402858e5b973ec&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
