
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667IF3YBN3%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T040959Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCE%2BAAmU5jM8ple%2Fq2B3d6DZyC76Xk9Klle1Rt%2FibrtGAIhAPao5tkBdIDdaKTK8K3NtjNpHpkVArt77DlYoptPnpbQKv8DCDUQABoMNjM3NDIzMTgzODA1IgxDtaqYT%2FgBSqcukEsq3AN5EKdBiGnwm4qdnRKfZQ79aeAgco%2FzVccQfn1QzaTwB3w4GDCGmTPf5K5uOn33ujF34qzkn8JpHKIVnc2Xae2Fji0pVfwUsAOSgowYvC4nZHqL1XyISLAQq9i38X%2BrTBExTu%2FCRKcpI8Dj2DOfg%2FdzAu38XQQgp12MVTXorKTKn55L3A0ynGP%2BDYUNIbt5vedJW2acS37X4aULsaW2Al2rzFeftxigmXOmWGOFbZQ66CvxopsxqmgcKI88vMQ9CSs7xq8Zan1X8l1WVQ7G8M6MiiBVkdx5JwHFA4y0rR9GMLIKgzOL9YYr50QWw5UwKm7y%2BgUg55obx1Blgs5lcFdIzOadnQTPPBDNjTeW2H9xK3Bc62ZNN9e7qrEUjb8TDYrOEn9vCEBxl55EWop4J9BZji7fjJyicvzPTHMuVDouGYsJ92rv9lSUq8uUsEJWd9B90WwiU4mPjxC7%2BY24z7lTiVoBm54hPg9hVOHD8ZGHYANtA%2BzVfkDTi27ySYuQq8Ygb9%2BqbMCTn5lHXOURv%2FL3xQ%2BCgu5lAkAeYSnNpTS4lbnWa4dtUVmALCdaZLlLpV0U9qwBAe35ldKbP8gAvsqLOuKpRWOcu%2FrJr5H1%2FOTnntyUJRZxQhm4QaaSlzDN8LLKBjqkAXm3UVAahNUt3y7TpsrnvYFLl89sym9QNPrPeC62L3LiPy%2FrSxULvi9KxdgKpAfXzbD%2BA2F4brWvnGMDIfd%2BYeHaY0qmrUW4AVEKsRKxZKrwiBKZJ1SQ%2FlrJqds9B2w%2ByTfwoUtPQ2MXZs6T2LPoFvKvEgpkd2eOdiGKMeTS0QbskEM92aRLejZDtv4cvbycwOPINNkkMD58%2FQu7L%2B4O%2BeXporY2&X-Amz-Signature=901c68464dfacf1ddae500c68eee80792da75803f54afd0080b9d3edd80cba2d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667IF3YBN3%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T040959Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCE%2BAAmU5jM8ple%2Fq2B3d6DZyC76Xk9Klle1Rt%2FibrtGAIhAPao5tkBdIDdaKTK8K3NtjNpHpkVArt77DlYoptPnpbQKv8DCDUQABoMNjM3NDIzMTgzODA1IgxDtaqYT%2FgBSqcukEsq3AN5EKdBiGnwm4qdnRKfZQ79aeAgco%2FzVccQfn1QzaTwB3w4GDCGmTPf5K5uOn33ujF34qzkn8JpHKIVnc2Xae2Fji0pVfwUsAOSgowYvC4nZHqL1XyISLAQq9i38X%2BrTBExTu%2FCRKcpI8Dj2DOfg%2FdzAu38XQQgp12MVTXorKTKn55L3A0ynGP%2BDYUNIbt5vedJW2acS37X4aULsaW2Al2rzFeftxigmXOmWGOFbZQ66CvxopsxqmgcKI88vMQ9CSs7xq8Zan1X8l1WVQ7G8M6MiiBVkdx5JwHFA4y0rR9GMLIKgzOL9YYr50QWw5UwKm7y%2BgUg55obx1Blgs5lcFdIzOadnQTPPBDNjTeW2H9xK3Bc62ZNN9e7qrEUjb8TDYrOEn9vCEBxl55EWop4J9BZji7fjJyicvzPTHMuVDouGYsJ92rv9lSUq8uUsEJWd9B90WwiU4mPjxC7%2BY24z7lTiVoBm54hPg9hVOHD8ZGHYANtA%2BzVfkDTi27ySYuQq8Ygb9%2BqbMCTn5lHXOURv%2FL3xQ%2BCgu5lAkAeYSnNpTS4lbnWa4dtUVmALCdaZLlLpV0U9qwBAe35ldKbP8gAvsqLOuKpRWOcu%2FrJr5H1%2FOTnntyUJRZxQhm4QaaSlzDN8LLKBjqkAXm3UVAahNUt3y7TpsrnvYFLl89sym9QNPrPeC62L3LiPy%2FrSxULvi9KxdgKpAfXzbD%2BA2F4brWvnGMDIfd%2BYeHaY0qmrUW4AVEKsRKxZKrwiBKZJ1SQ%2FlrJqds9B2w%2ByTfwoUtPQ2MXZs6T2LPoFvKvEgpkd2eOdiGKMeTS0QbskEM92aRLejZDtv4cvbycwOPINNkkMD58%2FQu7L%2B4O%2BeXporY2&X-Amz-Signature=5c1b5b2ca2de1922cf5272bcd284f92e14c53c76724a1ad3d7631601c6b14121&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667IF3YBN3%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T040959Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCE%2BAAmU5jM8ple%2Fq2B3d6DZyC76Xk9Klle1Rt%2FibrtGAIhAPao5tkBdIDdaKTK8K3NtjNpHpkVArt77DlYoptPnpbQKv8DCDUQABoMNjM3NDIzMTgzODA1IgxDtaqYT%2FgBSqcukEsq3AN5EKdBiGnwm4qdnRKfZQ79aeAgco%2FzVccQfn1QzaTwB3w4GDCGmTPf5K5uOn33ujF34qzkn8JpHKIVnc2Xae2Fji0pVfwUsAOSgowYvC4nZHqL1XyISLAQq9i38X%2BrTBExTu%2FCRKcpI8Dj2DOfg%2FdzAu38XQQgp12MVTXorKTKn55L3A0ynGP%2BDYUNIbt5vedJW2acS37X4aULsaW2Al2rzFeftxigmXOmWGOFbZQ66CvxopsxqmgcKI88vMQ9CSs7xq8Zan1X8l1WVQ7G8M6MiiBVkdx5JwHFA4y0rR9GMLIKgzOL9YYr50QWw5UwKm7y%2BgUg55obx1Blgs5lcFdIzOadnQTPPBDNjTeW2H9xK3Bc62ZNN9e7qrEUjb8TDYrOEn9vCEBxl55EWop4J9BZji7fjJyicvzPTHMuVDouGYsJ92rv9lSUq8uUsEJWd9B90WwiU4mPjxC7%2BY24z7lTiVoBm54hPg9hVOHD8ZGHYANtA%2BzVfkDTi27ySYuQq8Ygb9%2BqbMCTn5lHXOURv%2FL3xQ%2BCgu5lAkAeYSnNpTS4lbnWa4dtUVmALCdaZLlLpV0U9qwBAe35ldKbP8gAvsqLOuKpRWOcu%2FrJr5H1%2FOTnntyUJRZxQhm4QaaSlzDN8LLKBjqkAXm3UVAahNUt3y7TpsrnvYFLl89sym9QNPrPeC62L3LiPy%2FrSxULvi9KxdgKpAfXzbD%2BA2F4brWvnGMDIfd%2BYeHaY0qmrUW4AVEKsRKxZKrwiBKZJ1SQ%2FlrJqds9B2w%2ByTfwoUtPQ2MXZs6T2LPoFvKvEgpkd2eOdiGKMeTS0QbskEM92aRLejZDtv4cvbycwOPINNkkMD58%2FQu7L%2B4O%2BeXporY2&X-Amz-Signature=1600cff6d6ec86cd3f0de28aebce7b67b339d5d49bd38b2cafd04de001caca5a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664H6OHGE4%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIFQYnc8%2FzqwKaqyCrqPSA9naq66JDfNRvARD%2BRp9et1XAiEAr%2FHC%2BG%2FjroiFRtOYtS7iIta9UbH%2B2Zes9mr8uBioSxUq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDG5BHWP0nM%2FTiLQYhyrcAzwsIAwmdPtYJDtE4hA%2F%2BKOeqnIDNYDB7%2BpC7xO7DpKAmwXR3J%2B8bvgRJVBedds%2B8jTzet%2BzOj3Go5ZvjHuxhTVFgI45t7Rl%2BT0EgRDjwp%2FX5M0nDPtkudpzXO%2BqGZVwAHyjyXcgZ%2BSp11qCY63pwUOk3nUxJyL6OpfzgfN63u96eXcNox1BfhBWhs4Udq%2Bw7E%2BLKKRdH%2BM1aNt4ROAH2DnwkrGEQvFt%2FJUW96YwCIOdrYBaRecEZcJOp0Bp8HrqijW4vSJ8z3a5M5bwf6Y1EzZA9mNSXmqx%2Bdfuzc8dQlrxoF9NqcPXHerX5loDzBfq%2FxUlwFL7mWCfX%2FeN7K7hgqG%2FM8lrSlrnE8M5ZCGpfNCBgiyO4ws7mDrcT6hGa6hgMQv5Qm%2Btr1MMNeU%2FcDvGl3NwkB1aAJy82Q5yvy9Dyb7A9jEz7LrXeM3%2FUiX8yy5GuL%2B7EJbB8dZFyIgfy5sQrHnZcjLislAHgtghjx8tDWrMkXO3R7Fs7vNlM25AGQExLRRcgsJKmVeBkWuK6Hl53eTNld9k4p8bZZroHiEImFLRvGne3R%2FRKAbW5KtgcW9N%2BJyHT153OpONlehBOjTFyDEV1wlMiKvaQ82LNc32hiqJTVM8sdBoM7gAOwruMMHvssoGOqUBGFI9YbZHrR6bNSy98MX5kjviiljzeQWVlBt6leMo5ipxTt6yKeuULG0DUN047A9nQwB4c%2BoECCXbjegA7uCab2bU7fme0%2FalcYNlPrl%2FVTIIq4AfI8t7ElC6rNYY5BlwkUqC3ZizifF4t7QfU6O5VcTjUaLIbJ4h8kGZlXuSuc7uuVriszNPBJc6HH4WPDJUDynnVQMS%2BrR1ameIcwIZXVjUzOaI&X-Amz-Signature=c7d6ca5fbf7fa88e6cdcb9857114ad3e06d6ca4e6dc15154833febc4fe2a47df&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664H6OHGE4%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIFQYnc8%2FzqwKaqyCrqPSA9naq66JDfNRvARD%2BRp9et1XAiEAr%2FHC%2BG%2FjroiFRtOYtS7iIta9UbH%2B2Zes9mr8uBioSxUq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDG5BHWP0nM%2FTiLQYhyrcAzwsIAwmdPtYJDtE4hA%2F%2BKOeqnIDNYDB7%2BpC7xO7DpKAmwXR3J%2B8bvgRJVBedds%2B8jTzet%2BzOj3Go5ZvjHuxhTVFgI45t7Rl%2BT0EgRDjwp%2FX5M0nDPtkudpzXO%2BqGZVwAHyjyXcgZ%2BSp11qCY63pwUOk3nUxJyL6OpfzgfN63u96eXcNox1BfhBWhs4Udq%2Bw7E%2BLKKRdH%2BM1aNt4ROAH2DnwkrGEQvFt%2FJUW96YwCIOdrYBaRecEZcJOp0Bp8HrqijW4vSJ8z3a5M5bwf6Y1EzZA9mNSXmqx%2Bdfuzc8dQlrxoF9NqcPXHerX5loDzBfq%2FxUlwFL7mWCfX%2FeN7K7hgqG%2FM8lrSlrnE8M5ZCGpfNCBgiyO4ws7mDrcT6hGa6hgMQv5Qm%2Btr1MMNeU%2FcDvGl3NwkB1aAJy82Q5yvy9Dyb7A9jEz7LrXeM3%2FUiX8yy5GuL%2B7EJbB8dZFyIgfy5sQrHnZcjLislAHgtghjx8tDWrMkXO3R7Fs7vNlM25AGQExLRRcgsJKmVeBkWuK6Hl53eTNld9k4p8bZZroHiEImFLRvGne3R%2FRKAbW5KtgcW9N%2BJyHT153OpONlehBOjTFyDEV1wlMiKvaQ82LNc32hiqJTVM8sdBoM7gAOwruMMHvssoGOqUBGFI9YbZHrR6bNSy98MX5kjviiljzeQWVlBt6leMo5ipxTt6yKeuULG0DUN047A9nQwB4c%2BoECCXbjegA7uCab2bU7fme0%2FalcYNlPrl%2FVTIIq4AfI8t7ElC6rNYY5BlwkUqC3ZizifF4t7QfU6O5VcTjUaLIbJ4h8kGZlXuSuc7uuVriszNPBJc6HH4WPDJUDynnVQMS%2BrR1ameIcwIZXVjUzOaI&X-Amz-Signature=acd7630e54fa2ba6ab556b882ce7c6199c54868d79bdeef58d67d14bfaf7b18f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664H6OHGE4%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIFQYnc8%2FzqwKaqyCrqPSA9naq66JDfNRvARD%2BRp9et1XAiEAr%2FHC%2BG%2FjroiFRtOYtS7iIta9UbH%2B2Zes9mr8uBioSxUq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDG5BHWP0nM%2FTiLQYhyrcAzwsIAwmdPtYJDtE4hA%2F%2BKOeqnIDNYDB7%2BpC7xO7DpKAmwXR3J%2B8bvgRJVBedds%2B8jTzet%2BzOj3Go5ZvjHuxhTVFgI45t7Rl%2BT0EgRDjwp%2FX5M0nDPtkudpzXO%2BqGZVwAHyjyXcgZ%2BSp11qCY63pwUOk3nUxJyL6OpfzgfN63u96eXcNox1BfhBWhs4Udq%2Bw7E%2BLKKRdH%2BM1aNt4ROAH2DnwkrGEQvFt%2FJUW96YwCIOdrYBaRecEZcJOp0Bp8HrqijW4vSJ8z3a5M5bwf6Y1EzZA9mNSXmqx%2Bdfuzc8dQlrxoF9NqcPXHerX5loDzBfq%2FxUlwFL7mWCfX%2FeN7K7hgqG%2FM8lrSlrnE8M5ZCGpfNCBgiyO4ws7mDrcT6hGa6hgMQv5Qm%2Btr1MMNeU%2FcDvGl3NwkB1aAJy82Q5yvy9Dyb7A9jEz7LrXeM3%2FUiX8yy5GuL%2B7EJbB8dZFyIgfy5sQrHnZcjLislAHgtghjx8tDWrMkXO3R7Fs7vNlM25AGQExLRRcgsJKmVeBkWuK6Hl53eTNld9k4p8bZZroHiEImFLRvGne3R%2FRKAbW5KtgcW9N%2BJyHT153OpONlehBOjTFyDEV1wlMiKvaQ82LNc32hiqJTVM8sdBoM7gAOwruMMHvssoGOqUBGFI9YbZHrR6bNSy98MX5kjviiljzeQWVlBt6leMo5ipxTt6yKeuULG0DUN047A9nQwB4c%2BoECCXbjegA7uCab2bU7fme0%2FalcYNlPrl%2FVTIIq4AfI8t7ElC6rNYY5BlwkUqC3ZizifF4t7QfU6O5VcTjUaLIbJ4h8kGZlXuSuc7uuVriszNPBJc6HH4WPDJUDynnVQMS%2BrR1ameIcwIZXVjUzOaI&X-Amz-Signature=cb81d3a0e55a486a59232eea62e8cbd3840208dc373d0b90801024fd359b1570&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466REILRT3W%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCKTj1NtD86SEQPfujyqA1s7znzZ%2BnOb4bLJyAm9XYaHgIhAOAkBIV9DBSz1ohVGC901HcJ0bnLDl5zuyxTcBGF2iuAKv8DCDUQABoMNjM3NDIzMTgzODA1IgxWI5qrea9%2FjCKFoPgq3APzN1zC2SzfNYyYJRcql%2BdjS4gmR09QkC8FXBUYofAjwR5vV5jfjCKRDwKIitLg9vmd0fiHt4JFvhxenaLTz9XEZw7hLDgfZ44KGNuuYZAgv5iG5ramJne9RzhaiR2dOaNQ4bOSCFKvFosZSxIaM22WjlED3z4QxtRZkGiF2xZ1or4wuUvwz8nkbEEU%2BdxdsizVeiW%2BwfU1iyStJlL%2FNfRvf40ozINsd7ksECvOuNfVDwVdyyG%2Ff1Ti9nvd8jjk9n5sCRJVeMbx2zaobPLA1oTurxIKeODiVlwhkdodObF4IJkC0uZc4xSX6hvXJxjKoDkEhszf%2FyHKvSAYLRgBVlD8uJg0DoGBea36mCQ5mqw7hyuhW9o1opjnlj9H%2ByW7NzFZUmwto0UeGNWz5Yq5Ggioe2RT4YOTOiMvxVMI1VKKe9HVa8rmog0p6NMiRluW3GqljodenQqqgUATYZe9PaN6l9G7tl7uMEn3n6VNNNrLfykMvA4i6li614e3TLqF3JGQtvpWqlhvI5TVsfmyQULTPI0J8v3nca%2FQN0p%2FNL0XlbiF8dsCBUZkpgOM2j97i3WEcmYKVA3oUP%2FwThmHnMXuWEh%2BGSkA%2Fy48rwF06WZvjzNejhhN2YQ%2BWYM4qzC%2B77LKBjqkAfQgHKeqDkeikL7HPHhqCALpAX%2F7ViHN3SzmhzTQ89a7P6BkhAOjalYwoqHgRXOFK8HnKza%2BkeAHfBSHrGcqr3Wo0FfKW7Cclz3E%2BLftbU0elAYTCCM5Tjpe53ZGEjkCRGCMKxsonWdjJROz0%2FvhT2Zbyi%2BHViPLKubT%2FBu7x65b%2BkjCyHi%2BpZqmQfGfXrKqghx1odRzXPop8oSkmnbhSo7y85D8&X-Amz-Signature=bec7d3516fb99a7d3639f76c22deb878123e433afec3ed1211d5d131e4edba3e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466REILRT3W%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCKTj1NtD86SEQPfujyqA1s7znzZ%2BnOb4bLJyAm9XYaHgIhAOAkBIV9DBSz1ohVGC901HcJ0bnLDl5zuyxTcBGF2iuAKv8DCDUQABoMNjM3NDIzMTgzODA1IgxWI5qrea9%2FjCKFoPgq3APzN1zC2SzfNYyYJRcql%2BdjS4gmR09QkC8FXBUYofAjwR5vV5jfjCKRDwKIitLg9vmd0fiHt4JFvhxenaLTz9XEZw7hLDgfZ44KGNuuYZAgv5iG5ramJne9RzhaiR2dOaNQ4bOSCFKvFosZSxIaM22WjlED3z4QxtRZkGiF2xZ1or4wuUvwz8nkbEEU%2BdxdsizVeiW%2BwfU1iyStJlL%2FNfRvf40ozINsd7ksECvOuNfVDwVdyyG%2Ff1Ti9nvd8jjk9n5sCRJVeMbx2zaobPLA1oTurxIKeODiVlwhkdodObF4IJkC0uZc4xSX6hvXJxjKoDkEhszf%2FyHKvSAYLRgBVlD8uJg0DoGBea36mCQ5mqw7hyuhW9o1opjnlj9H%2ByW7NzFZUmwto0UeGNWz5Yq5Ggioe2RT4YOTOiMvxVMI1VKKe9HVa8rmog0p6NMiRluW3GqljodenQqqgUATYZe9PaN6l9G7tl7uMEn3n6VNNNrLfykMvA4i6li614e3TLqF3JGQtvpWqlhvI5TVsfmyQULTPI0J8v3nca%2FQN0p%2FNL0XlbiF8dsCBUZkpgOM2j97i3WEcmYKVA3oUP%2FwThmHnMXuWEh%2BGSkA%2Fy48rwF06WZvjzNejhhN2YQ%2BWYM4qzC%2B77LKBjqkAfQgHKeqDkeikL7HPHhqCALpAX%2F7ViHN3SzmhzTQ89a7P6BkhAOjalYwoqHgRXOFK8HnKza%2BkeAHfBSHrGcqr3Wo0FfKW7Cclz3E%2BLftbU0elAYTCCM5Tjpe53ZGEjkCRGCMKxsonWdjJROz0%2FvhT2Zbyi%2BHViPLKubT%2FBu7x65b%2BkjCyHi%2BpZqmQfGfXrKqghx1odRzXPop8oSkmnbhSo7y85D8&X-Amz-Signature=8a529863f28289a645adb9913eb2ecb0efc0f1d873c0b522c69db3e8009d7b15&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466REILRT3W%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCKTj1NtD86SEQPfujyqA1s7znzZ%2BnOb4bLJyAm9XYaHgIhAOAkBIV9DBSz1ohVGC901HcJ0bnLDl5zuyxTcBGF2iuAKv8DCDUQABoMNjM3NDIzMTgzODA1IgxWI5qrea9%2FjCKFoPgq3APzN1zC2SzfNYyYJRcql%2BdjS4gmR09QkC8FXBUYofAjwR5vV5jfjCKRDwKIitLg9vmd0fiHt4JFvhxenaLTz9XEZw7hLDgfZ44KGNuuYZAgv5iG5ramJne9RzhaiR2dOaNQ4bOSCFKvFosZSxIaM22WjlED3z4QxtRZkGiF2xZ1or4wuUvwz8nkbEEU%2BdxdsizVeiW%2BwfU1iyStJlL%2FNfRvf40ozINsd7ksECvOuNfVDwVdyyG%2Ff1Ti9nvd8jjk9n5sCRJVeMbx2zaobPLA1oTurxIKeODiVlwhkdodObF4IJkC0uZc4xSX6hvXJxjKoDkEhszf%2FyHKvSAYLRgBVlD8uJg0DoGBea36mCQ5mqw7hyuhW9o1opjnlj9H%2ByW7NzFZUmwto0UeGNWz5Yq5Ggioe2RT4YOTOiMvxVMI1VKKe9HVa8rmog0p6NMiRluW3GqljodenQqqgUATYZe9PaN6l9G7tl7uMEn3n6VNNNrLfykMvA4i6li614e3TLqF3JGQtvpWqlhvI5TVsfmyQULTPI0J8v3nca%2FQN0p%2FNL0XlbiF8dsCBUZkpgOM2j97i3WEcmYKVA3oUP%2FwThmHnMXuWEh%2BGSkA%2Fy48rwF06WZvjzNejhhN2YQ%2BWYM4qzC%2B77LKBjqkAfQgHKeqDkeikL7HPHhqCALpAX%2F7ViHN3SzmhzTQ89a7P6BkhAOjalYwoqHgRXOFK8HnKza%2BkeAHfBSHrGcqr3Wo0FfKW7Cclz3E%2BLftbU0elAYTCCM5Tjpe53ZGEjkCRGCMKxsonWdjJROz0%2FvhT2Zbyi%2BHViPLKubT%2FBu7x65b%2BkjCyHi%2BpZqmQfGfXrKqghx1odRzXPop8oSkmnbhSo7y85D8&X-Amz-Signature=9d1460e0bf4340a50b21b55e0ade2d5705ce91ec7c555398ece518a98f692e5b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466REILRT3W%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJIMEYCIQCKTj1NtD86SEQPfujyqA1s7znzZ%2BnOb4bLJyAm9XYaHgIhAOAkBIV9DBSz1ohVGC901HcJ0bnLDl5zuyxTcBGF2iuAKv8DCDUQABoMNjM3NDIzMTgzODA1IgxWI5qrea9%2FjCKFoPgq3APzN1zC2SzfNYyYJRcql%2BdjS4gmR09QkC8FXBUYofAjwR5vV5jfjCKRDwKIitLg9vmd0fiHt4JFvhxenaLTz9XEZw7hLDgfZ44KGNuuYZAgv5iG5ramJne9RzhaiR2dOaNQ4bOSCFKvFosZSxIaM22WjlED3z4QxtRZkGiF2xZ1or4wuUvwz8nkbEEU%2BdxdsizVeiW%2BwfU1iyStJlL%2FNfRvf40ozINsd7ksECvOuNfVDwVdyyG%2Ff1Ti9nvd8jjk9n5sCRJVeMbx2zaobPLA1oTurxIKeODiVlwhkdodObF4IJkC0uZc4xSX6hvXJxjKoDkEhszf%2FyHKvSAYLRgBVlD8uJg0DoGBea36mCQ5mqw7hyuhW9o1opjnlj9H%2ByW7NzFZUmwto0UeGNWz5Yq5Ggioe2RT4YOTOiMvxVMI1VKKe9HVa8rmog0p6NMiRluW3GqljodenQqqgUATYZe9PaN6l9G7tl7uMEn3n6VNNNrLfykMvA4i6li614e3TLqF3JGQtvpWqlhvI5TVsfmyQULTPI0J8v3nca%2FQN0p%2FNL0XlbiF8dsCBUZkpgOM2j97i3WEcmYKVA3oUP%2FwThmHnMXuWEh%2BGSkA%2Fy48rwF06WZvjzNejhhN2YQ%2BWYM4qzC%2B77LKBjqkAfQgHKeqDkeikL7HPHhqCALpAX%2F7ViHN3SzmhzTQ89a7P6BkhAOjalYwoqHgRXOFK8HnKza%2BkeAHfBSHrGcqr3Wo0FfKW7Cclz3E%2BLftbU0elAYTCCM5Tjpe53ZGEjkCRGCMKxsonWdjJROz0%2FvhT2Zbyi%2BHViPLKubT%2FBu7x65b%2BkjCyHi%2BpZqmQfGfXrKqghx1odRzXPop8oSkmnbhSo7y85D8&X-Amz-Signature=039aaaf24acf260d10deb406038d4aa7cf53bfca8808a2a783074e946990794b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VIHKJBP7%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIF7O1FrqnU0krGbO%2BA4BJOecftFQKfbFQl01cO03HJM3AiEA7x2BkpituzEY%2BVx3fDdgQMi51%2BsC3S0FIHixHswt11sq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDFIvYzVpTNVlWO1uLyrcA2wPAWcKMpyTKZWa8UUaoCyDTqikb%2BZttPRDd3GSECakIoU6HDNwJxN%2F4pUYF4F6tBUlJmYGaAWw2sEcXWNmRXXSD23n39XCsHkh%2Fqtj8ZWwTchORh7Jw%2FBqQSz26QleYFI1%2FHrhKMBX5cSrmRx8qJHENQ%2ByulXDVWDP4Yuf%2F5ZZVCOnpW5gB9wAJdD17ZQBiwRS%2BQ2ksUZJEEr6%2BKgSsH%2FS4MjesP0t9G%2B9GJqySzq9ZKbXbN3mAJ5Os1pIsCIZ%2FifQ5rzYj%2BIcLEDE%2BkCjLHg8a0I2QPwFWd2T6LW0LKmH7Rb1CGIwil%2B9NxUSEvHUBzBVCJYwCKWyz6RWOokdGpEOGKOTvS7jTy1VFqFAdM7w9AyebWIs6cgTdadnYMr2Q%2BOIfAIszTw2BmmQhE%2BJHVXLJ52Jejw4oZjHWAyJAj36mNE6ea7uKJCLQLFN06ffnSLsSrcNh7i1tlL5WgL7UCRJssteFAL7DAZeMTA9DRc1giZkpmqgkL8tKbSjO30MxJdGXSNq3QPzeth%2FWA5sxQu9BS%2FH0YFI9RFxUCXVNvSnwCB47HjYSyUOJlM6x7S2%2FH7C55iExHST7fsin2xdrQnnVf2oLNqqEU7gT5fhhzlvCG%2BBLu8TFeG07muEMMzvssoGOqUBo8hAIXS0K3FzVO99K0ywXIwwa4%2FPgPlYxHH77zt20L2P%2BPAkoAWC2dtbKuet7NlmDJUPmmUDQuQaa4FxYeh9RgYdA%2BcLhJng6MsQJhYjdjepUjwCyHI6K9XLUqAR9Hmwh20epwJrojqrhsRbIMeE6fmqPuXdXgYhJuGhSxjAcixpGGX0RW%2FgCQHmp4VRV4ArxqZIKUS825zzJY6WJ3VA5RZVVX0o&X-Amz-Signature=caf21b968f46103588a4084dacbe01d3b3d2dc7c4327023ea8939aababf46705&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VIHKJBP7%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIF7O1FrqnU0krGbO%2BA4BJOecftFQKfbFQl01cO03HJM3AiEA7x2BkpituzEY%2BVx3fDdgQMi51%2BsC3S0FIHixHswt11sq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDFIvYzVpTNVlWO1uLyrcA2wPAWcKMpyTKZWa8UUaoCyDTqikb%2BZttPRDd3GSECakIoU6HDNwJxN%2F4pUYF4F6tBUlJmYGaAWw2sEcXWNmRXXSD23n39XCsHkh%2Fqtj8ZWwTchORh7Jw%2FBqQSz26QleYFI1%2FHrhKMBX5cSrmRx8qJHENQ%2ByulXDVWDP4Yuf%2F5ZZVCOnpW5gB9wAJdD17ZQBiwRS%2BQ2ksUZJEEr6%2BKgSsH%2FS4MjesP0t9G%2B9GJqySzq9ZKbXbN3mAJ5Os1pIsCIZ%2FifQ5rzYj%2BIcLEDE%2BkCjLHg8a0I2QPwFWd2T6LW0LKmH7Rb1CGIwil%2B9NxUSEvHUBzBVCJYwCKWyz6RWOokdGpEOGKOTvS7jTy1VFqFAdM7w9AyebWIs6cgTdadnYMr2Q%2BOIfAIszTw2BmmQhE%2BJHVXLJ52Jejw4oZjHWAyJAj36mNE6ea7uKJCLQLFN06ffnSLsSrcNh7i1tlL5WgL7UCRJssteFAL7DAZeMTA9DRc1giZkpmqgkL8tKbSjO30MxJdGXSNq3QPzeth%2FWA5sxQu9BS%2FH0YFI9RFxUCXVNvSnwCB47HjYSyUOJlM6x7S2%2FH7C55iExHST7fsin2xdrQnnVf2oLNqqEU7gT5fhhzlvCG%2BBLu8TFeG07muEMMzvssoGOqUBo8hAIXS0K3FzVO99K0ywXIwwa4%2FPgPlYxHH77zt20L2P%2BPAkoAWC2dtbKuet7NlmDJUPmmUDQuQaa4FxYeh9RgYdA%2BcLhJng6MsQJhYjdjepUjwCyHI6K9XLUqAR9Hmwh20epwJrojqrhsRbIMeE6fmqPuXdXgYhJuGhSxjAcixpGGX0RW%2FgCQHmp4VRV4ArxqZIKUS825zzJY6WJ3VA5RZVVX0o&X-Amz-Signature=c954a90b3067d16f2c6f73c3731670352ca8202b9c0f0ff749d86cf33bbc81e4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VIHKJBP7%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIF7O1FrqnU0krGbO%2BA4BJOecftFQKfbFQl01cO03HJM3AiEA7x2BkpituzEY%2BVx3fDdgQMi51%2BsC3S0FIHixHswt11sq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDFIvYzVpTNVlWO1uLyrcA2wPAWcKMpyTKZWa8UUaoCyDTqikb%2BZttPRDd3GSECakIoU6HDNwJxN%2F4pUYF4F6tBUlJmYGaAWw2sEcXWNmRXXSD23n39XCsHkh%2Fqtj8ZWwTchORh7Jw%2FBqQSz26QleYFI1%2FHrhKMBX5cSrmRx8qJHENQ%2ByulXDVWDP4Yuf%2F5ZZVCOnpW5gB9wAJdD17ZQBiwRS%2BQ2ksUZJEEr6%2BKgSsH%2FS4MjesP0t9G%2B9GJqySzq9ZKbXbN3mAJ5Os1pIsCIZ%2FifQ5rzYj%2BIcLEDE%2BkCjLHg8a0I2QPwFWd2T6LW0LKmH7Rb1CGIwil%2B9NxUSEvHUBzBVCJYwCKWyz6RWOokdGpEOGKOTvS7jTy1VFqFAdM7w9AyebWIs6cgTdadnYMr2Q%2BOIfAIszTw2BmmQhE%2BJHVXLJ52Jejw4oZjHWAyJAj36mNE6ea7uKJCLQLFN06ffnSLsSrcNh7i1tlL5WgL7UCRJssteFAL7DAZeMTA9DRc1giZkpmqgkL8tKbSjO30MxJdGXSNq3QPzeth%2FWA5sxQu9BS%2FH0YFI9RFxUCXVNvSnwCB47HjYSyUOJlM6x7S2%2FH7C55iExHST7fsin2xdrQnnVf2oLNqqEU7gT5fhhzlvCG%2BBLu8TFeG07muEMMzvssoGOqUBo8hAIXS0K3FzVO99K0ywXIwwa4%2FPgPlYxHH77zt20L2P%2BPAkoAWC2dtbKuet7NlmDJUPmmUDQuQaa4FxYeh9RgYdA%2BcLhJng6MsQJhYjdjepUjwCyHI6K9XLUqAR9Hmwh20epwJrojqrhsRbIMeE6fmqPuXdXgYhJuGhSxjAcixpGGX0RW%2FgCQHmp4VRV4ArxqZIKUS825zzJY6WJ3VA5RZVVX0o&X-Amz-Signature=e894c6f23a4fd96d8667c15eb6d0f7aa146417a8a9bacac40b8bd864d1372bec&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VIHKJBP7%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041000Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIF7O1FrqnU0krGbO%2BA4BJOecftFQKfbFQl01cO03HJM3AiEA7x2BkpituzEY%2BVx3fDdgQMi51%2BsC3S0FIHixHswt11sq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDFIvYzVpTNVlWO1uLyrcA2wPAWcKMpyTKZWa8UUaoCyDTqikb%2BZttPRDd3GSECakIoU6HDNwJxN%2F4pUYF4F6tBUlJmYGaAWw2sEcXWNmRXXSD23n39XCsHkh%2Fqtj8ZWwTchORh7Jw%2FBqQSz26QleYFI1%2FHrhKMBX5cSrmRx8qJHENQ%2ByulXDVWDP4Yuf%2F5ZZVCOnpW5gB9wAJdD17ZQBiwRS%2BQ2ksUZJEEr6%2BKgSsH%2FS4MjesP0t9G%2B9GJqySzq9ZKbXbN3mAJ5Os1pIsCIZ%2FifQ5rzYj%2BIcLEDE%2BkCjLHg8a0I2QPwFWd2T6LW0LKmH7Rb1CGIwil%2B9NxUSEvHUBzBVCJYwCKWyz6RWOokdGpEOGKOTvS7jTy1VFqFAdM7w9AyebWIs6cgTdadnYMr2Q%2BOIfAIszTw2BmmQhE%2BJHVXLJ52Jejw4oZjHWAyJAj36mNE6ea7uKJCLQLFN06ffnSLsSrcNh7i1tlL5WgL7UCRJssteFAL7DAZeMTA9DRc1giZkpmqgkL8tKbSjO30MxJdGXSNq3QPzeth%2FWA5sxQu9BS%2FH0YFI9RFxUCXVNvSnwCB47HjYSyUOJlM6x7S2%2FH7C55iExHST7fsin2xdrQnnVf2oLNqqEU7gT5fhhzlvCG%2BBLu8TFeG07muEMMzvssoGOqUBo8hAIXS0K3FzVO99K0ywXIwwa4%2FPgPlYxHH77zt20L2P%2BPAkoAWC2dtbKuet7NlmDJUPmmUDQuQaa4FxYeh9RgYdA%2BcLhJng6MsQJhYjdjepUjwCyHI6K9XLUqAR9Hmwh20epwJrojqrhsRbIMeE6fmqPuXdXgYhJuGhSxjAcixpGGX0RW%2FgCQHmp4VRV4ArxqZIKUS825zzJY6WJ3VA5RZVVX0o&X-Amz-Signature=b081f2b4e201145cffdb1d7dbf2f0457d86e53a6d83dc42fb49d71c7f82a0220&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WHTQGI34%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041001Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCICiFmx3CUVGfA7qHcXBxT8baGuzrrczYe7A5wqazhJk%2FAiEApMIpo6f3Za25G9nPCqDGEK%2Bb%2FCh19jUHZSKHCZaSBRsq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDE6pQdDsWogowM1eByrcA0LZQVaY6BpUsZ%2FSS6JECdKoK5J7zr0GkVjumtiJm5Ch9VoDY0kRl0lVg%2FOWxTqjUJjik65mnkjZke0XCDVM2TbADrwQnVtK63U%2BGQ9zd2oRxl5lYj0Ohfb3FGVlfRPBqlWd7aljDuZCg4aBzaHmTPUOJr8TURrllbqqn1HVtKoT5rq0c5JdnxTjD%2FZnPd8HGBLUPVKmq9RGR%2FUow3OWaIJ4bdJ9uV0JmDLYlsr1ZnDhAci7IWFqF%2BxvkKnBqfFfIB1rrQjARAMpTgOtgDQgfi7dRYcjv3b9IikaA%2FWidZMTudlRK9xOzg7wgL5abvJgwgf6C%2Bx%2BlfXaYdCxHgc6tf%2Fumyispuoo8rat43Yw5jRbolC%2BK%2FCUvtNOurcHxU3LO58mmFvh3mX93b66QBB1unw24wp2JhzXeny%2FZj0UUxFJw%2FMGhpvQ%2FZlngecl1%2FiDWQBsc0wrKs8dV6Z5DOIk3FMm9a6Qm%2BhlW78bdokyqkEhCfkIGKVofCpmBPuV0HdluzxgmoHlqVxj0XEoNpF%2FjVD19LvXw%2BZ3jQNGKcelLmn%2FiRbOhGXUVeum%2BGrgPe5qnVBl5%2Fh8xSpxaD5AbisqCyMfFvuCexOZJDWdvT0y1veTuQoHI%2Bi8gCzreb7XMN3vssoGOqUB9QhAqYpkc9r3ByOTBl7W%2BPYFRputNiW9vmSuiwbUKHrlctktI%2FfFahQV4JWKYa%2Fvq2oOfIUbMy4mMTqp1XMUyBMpO43X%2BhbC2qWBtCsjop%2FihvFZuopUPzCOcrKR5swQgX4zUW9Rne7jimqS2J2qT70E7RAVBdauCHuP4hjdCU%2BkRwgJMmxYVA41RKuNOgR%2FOfwLw%2BwsvmIj75jQPeWpPdKlnA%2BO&X-Amz-Signature=89906804b51411a8311e6bb48399576a0c9c5a1d06886c2c166ee51b4587dc6b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WHTQGI34%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041001Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCICiFmx3CUVGfA7qHcXBxT8baGuzrrczYe7A5wqazhJk%2FAiEApMIpo6f3Za25G9nPCqDGEK%2Bb%2FCh19jUHZSKHCZaSBRsq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDE6pQdDsWogowM1eByrcA0LZQVaY6BpUsZ%2FSS6JECdKoK5J7zr0GkVjumtiJm5Ch9VoDY0kRl0lVg%2FOWxTqjUJjik65mnkjZke0XCDVM2TbADrwQnVtK63U%2BGQ9zd2oRxl5lYj0Ohfb3FGVlfRPBqlWd7aljDuZCg4aBzaHmTPUOJr8TURrllbqqn1HVtKoT5rq0c5JdnxTjD%2FZnPd8HGBLUPVKmq9RGR%2FUow3OWaIJ4bdJ9uV0JmDLYlsr1ZnDhAci7IWFqF%2BxvkKnBqfFfIB1rrQjARAMpTgOtgDQgfi7dRYcjv3b9IikaA%2FWidZMTudlRK9xOzg7wgL5abvJgwgf6C%2Bx%2BlfXaYdCxHgc6tf%2Fumyispuoo8rat43Yw5jRbolC%2BK%2FCUvtNOurcHxU3LO58mmFvh3mX93b66QBB1unw24wp2JhzXeny%2FZj0UUxFJw%2FMGhpvQ%2FZlngecl1%2FiDWQBsc0wrKs8dV6Z5DOIk3FMm9a6Qm%2BhlW78bdokyqkEhCfkIGKVofCpmBPuV0HdluzxgmoHlqVxj0XEoNpF%2FjVD19LvXw%2BZ3jQNGKcelLmn%2FiRbOhGXUVeum%2BGrgPe5qnVBl5%2Fh8xSpxaD5AbisqCyMfFvuCexOZJDWdvT0y1veTuQoHI%2Bi8gCzreb7XMN3vssoGOqUB9QhAqYpkc9r3ByOTBl7W%2BPYFRputNiW9vmSuiwbUKHrlctktI%2FfFahQV4JWKYa%2Fvq2oOfIUbMy4mMTqp1XMUyBMpO43X%2BhbC2qWBtCsjop%2FihvFZuopUPzCOcrKR5swQgX4zUW9Rne7jimqS2J2qT70E7RAVBdauCHuP4hjdCU%2BkRwgJMmxYVA41RKuNOgR%2FOfwLw%2BwsvmIj75jQPeWpPdKlnA%2BO&X-Amz-Signature=82cac0b54b8e3a3f02731c269bf54a1ebe30c60422fb8b9471e3976a43728cb3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WHTQGI34%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041001Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCICiFmx3CUVGfA7qHcXBxT8baGuzrrczYe7A5wqazhJk%2FAiEApMIpo6f3Za25G9nPCqDGEK%2Bb%2FCh19jUHZSKHCZaSBRsq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDE6pQdDsWogowM1eByrcA0LZQVaY6BpUsZ%2FSS6JECdKoK5J7zr0GkVjumtiJm5Ch9VoDY0kRl0lVg%2FOWxTqjUJjik65mnkjZke0XCDVM2TbADrwQnVtK63U%2BGQ9zd2oRxl5lYj0Ohfb3FGVlfRPBqlWd7aljDuZCg4aBzaHmTPUOJr8TURrllbqqn1HVtKoT5rq0c5JdnxTjD%2FZnPd8HGBLUPVKmq9RGR%2FUow3OWaIJ4bdJ9uV0JmDLYlsr1ZnDhAci7IWFqF%2BxvkKnBqfFfIB1rrQjARAMpTgOtgDQgfi7dRYcjv3b9IikaA%2FWidZMTudlRK9xOzg7wgL5abvJgwgf6C%2Bx%2BlfXaYdCxHgc6tf%2Fumyispuoo8rat43Yw5jRbolC%2BK%2FCUvtNOurcHxU3LO58mmFvh3mX93b66QBB1unw24wp2JhzXeny%2FZj0UUxFJw%2FMGhpvQ%2FZlngecl1%2FiDWQBsc0wrKs8dV6Z5DOIk3FMm9a6Qm%2BhlW78bdokyqkEhCfkIGKVofCpmBPuV0HdluzxgmoHlqVxj0XEoNpF%2FjVD19LvXw%2BZ3jQNGKcelLmn%2FiRbOhGXUVeum%2BGrgPe5qnVBl5%2Fh8xSpxaD5AbisqCyMfFvuCexOZJDWdvT0y1veTuQoHI%2Bi8gCzreb7XMN3vssoGOqUB9QhAqYpkc9r3ByOTBl7W%2BPYFRputNiW9vmSuiwbUKHrlctktI%2FfFahQV4JWKYa%2Fvq2oOfIUbMy4mMTqp1XMUyBMpO43X%2BhbC2qWBtCsjop%2FihvFZuopUPzCOcrKR5swQgX4zUW9Rne7jimqS2J2qT70E7RAVBdauCHuP4hjdCU%2BkRwgJMmxYVA41RKuNOgR%2FOfwLw%2BwsvmIj75jQPeWpPdKlnA%2BO&X-Amz-Signature=f19ecec7660e8d7bb514551c91f1aebcca6f0a29257f5e1bf56ef3282da8d10d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662M6MT4AZ%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041001Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIDF8uSsE2UoPC%2BDZnVNdbxkFmSzADkAkSrNb%2FcA8CfrlAiAr%2F4THPZ1vPVVPw8Do7a1TnulYQFviePwd%2F7Tzxlcnsir%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIM9oB9VESPzy9tRcc1KtwDofS2PsF6kwe05rEYrNzPJy%2B5PYrZ1DIqUKXy497bW73HFost0fvZDVscxZlsiLo2nLURyV3gD9qCqDnLol9ZLiZUBUNdjMxffSXlAD99WMlhoZ4T9P7DiLSe4ZNWAccHVI7xpfu%2F4FBhJu3BP4p44GoQhRdojtjQI1ZDcCTBey4qZ%2FJfM%2BJMrxIVOWZKuinLC7a3FbFpwyCJrCeQHmnzf5Kyl5Gj86HBF3hxNtv%2Fq%2BNCQ6BScZ50MgmrlyXVDb47z%2Fu4PhsFYantLkqaKJqG%2FntlF6uslca7opFjA%2Bhhpc2%2FObtJ0xjuY9KPclSQ2UT6dk3LKB3ACgln8JgulOTwNpC2TVjgZuFhbxevZ1VEieRF36N4xTNRSxa0pVezxniyIAp5xBFYLG8J7K%2Bb2cmnHsRRSxQt%2BPEx0%2FHIfdq%2BxisO2dFgLP4FDTcOHSPlR%2BqUci8mC8t9OteKPCxThn%2F41Q1qYFQ2Wx%2BMG0zek3P2wutN3X%2BVX74qYp%2B7dHPAv%2Boq1y5SC%2BmFhVE9iOgPDmtcrAEkZAI3n%2BVdd70maOEGtGBtvSaLfwsyshhzuuIuwz6gfdtDqkJSI9oQ2Wuc8lEILSZ%2BDZ8AX%2F8uo0zwjWn6nQb4grMYr%2B32gKB1%2FegwivCyygY6pgGsmX54KsSJ4%2BSx5mnShkyaNTeOJprONUO52QuuHOqIMrmTmLEjmrHSMHg8falhSqN63cgriC1K4dmQrjXe%2BhdcxOJFghxVUv4fCShdPVgk%2BhE%2FfNooKeGX8tNJ20FLhHkc1aSyJoXNffSFOsoNbkSivShi9QQ8bn7tsF4ydR6U%2BQvXp8gTFMrKJJPOTtRSPpW9ZnCi84NTbeQQjp0AxbSwDG6%2Bjnqv&X-Amz-Signature=455ce7961109d006b214926569fdabe37c555fc5d76630a54669130fc2335905&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662M6MT4AZ%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041001Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIDF8uSsE2UoPC%2BDZnVNdbxkFmSzADkAkSrNb%2FcA8CfrlAiAr%2F4THPZ1vPVVPw8Do7a1TnulYQFviePwd%2F7Tzxlcnsir%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIM9oB9VESPzy9tRcc1KtwDofS2PsF6kwe05rEYrNzPJy%2B5PYrZ1DIqUKXy497bW73HFost0fvZDVscxZlsiLo2nLURyV3gD9qCqDnLol9ZLiZUBUNdjMxffSXlAD99WMlhoZ4T9P7DiLSe4ZNWAccHVI7xpfu%2F4FBhJu3BP4p44GoQhRdojtjQI1ZDcCTBey4qZ%2FJfM%2BJMrxIVOWZKuinLC7a3FbFpwyCJrCeQHmnzf5Kyl5Gj86HBF3hxNtv%2Fq%2BNCQ6BScZ50MgmrlyXVDb47z%2Fu4PhsFYantLkqaKJqG%2FntlF6uslca7opFjA%2Bhhpc2%2FObtJ0xjuY9KPclSQ2UT6dk3LKB3ACgln8JgulOTwNpC2TVjgZuFhbxevZ1VEieRF36N4xTNRSxa0pVezxniyIAp5xBFYLG8J7K%2Bb2cmnHsRRSxQt%2BPEx0%2FHIfdq%2BxisO2dFgLP4FDTcOHSPlR%2BqUci8mC8t9OteKPCxThn%2F41Q1qYFQ2Wx%2BMG0zek3P2wutN3X%2BVX74qYp%2B7dHPAv%2Boq1y5SC%2BmFhVE9iOgPDmtcrAEkZAI3n%2BVdd70maOEGtGBtvSaLfwsyshhzuuIuwz6gfdtDqkJSI9oQ2Wuc8lEILSZ%2BDZ8AX%2F8uo0zwjWn6nQb4grMYr%2B32gKB1%2FegwivCyygY6pgGsmX54KsSJ4%2BSx5mnShkyaNTeOJprONUO52QuuHOqIMrmTmLEjmrHSMHg8falhSqN63cgriC1K4dmQrjXe%2BhdcxOJFghxVUv4fCShdPVgk%2BhE%2FfNooKeGX8tNJ20FLhHkc1aSyJoXNffSFOsoNbkSivShi9QQ8bn7tsF4ydR6U%2BQvXp8gTFMrKJJPOTtRSPpW9ZnCi84NTbeQQjp0AxbSwDG6%2Bjnqv&X-Amz-Signature=55ce4b5ac5c2a0d906feffcd45b0fc7ee4b9fd4e078fb7a394e03e84110d23ff&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WUKO6F5S%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041002Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCaqKpSvSrbe1Q1lBCZCaNWW8Ax3UTz7mtX1x%2BKxlJG9gIgckq2LXoShWuATgdHusvUqEcB9Oa5i9%2B7c8xCLWAkEiUq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDA3o2cHjAco6R6Ed4SrcA1as02kZq1KrSBZNZ92Sah3fMuehtpagCB1nROEimdlSLUZitLuzESAL8BD1Npmttfyn6hKbWCo9BmRBbaHonlzQvEJOt2G2snCI1rxaEchk0IUv21JxPf7dtBWYi3AkCMgNDWa5Am4Vq3Oi1Vpi10TYtxfvm5mh3FMnnXx3bawe0J9nVtNEbIliblFOYUyRkFuTvuvKsI2dgO5ddsFCZw9mD2v%2B5y%2BtFZ4rXreUNceD%2BK3MKZUUnfqKeArKBTCcI0s002TBZrDM0Ydi2A5n%2FA%2FA2aEhYRHz%2Bzf6XTp2kGvQjSYKEE91OexGFZiG9ttA5XLzN%2B8CDZIjj2t0hkKp9cfq%2FAa%2FIyU5ZlnE%2FqHEaBKixvdyqjNVlnDDA0R3GZ6A%2B2f3V%2FRuHZ9yKUz3qwI%2BYzFTrnSdAkt1g%2FGxQM9kKQ0Ou2nr0vjwFdbGJmbtKcJ4AwZm%2B5pie%2B3HSE3uyF0qaevtizsaUqa%2BUcKDKQla9GGoz%2BJF49gjAGf%2BanR22%2BqHi5pzkdzJ9x8GEowk07LrgtUcTcjsJAaROhXmpNH7bJt9RagZaHYLGVNIyC3AjSKVsaCEwsdPhQzNuUmrKfE2uLNgy0cqxj07xuJMw%2Bpvn5OJwvPs449Dl1u5jR8rMNTvssoGOqUBogK3uBML97YETptlLyzFVJScTucyER5vIblHIoTx4EhW7iMe%2B6usaMVx7WYIMBjL5szFJPIyWTF%2FRpJ1fvLUuyVmnvi6QS127jiStyca2pTRihdhXEIIcc2cgCu1s045peSx0IJL6hNAhsJbUTw8rnKi6u7SaCgg70U1diYZ9fdn24xsbRYLhGzzKS5YqSCApiHvm8YQhWv0T%2F%2FBnn9mcrSU8Ghh&X-Amz-Signature=2b9263febc22f11cffe37b5ac1b4e7ebaff6df3d9cd717778a6f4873ca3350a7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WUKO6F5S%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041002Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJHMEUCIQCaqKpSvSrbe1Q1lBCZCaNWW8Ax3UTz7mtX1x%2BKxlJG9gIgckq2LXoShWuATgdHusvUqEcB9Oa5i9%2B7c8xCLWAkEiUq%2FwMINRAAGgw2Mzc0MjMxODM4MDUiDA3o2cHjAco6R6Ed4SrcA1as02kZq1KrSBZNZ92Sah3fMuehtpagCB1nROEimdlSLUZitLuzESAL8BD1Npmttfyn6hKbWCo9BmRBbaHonlzQvEJOt2G2snCI1rxaEchk0IUv21JxPf7dtBWYi3AkCMgNDWa5Am4Vq3Oi1Vpi10TYtxfvm5mh3FMnnXx3bawe0J9nVtNEbIliblFOYUyRkFuTvuvKsI2dgO5ddsFCZw9mD2v%2B5y%2BtFZ4rXreUNceD%2BK3MKZUUnfqKeArKBTCcI0s002TBZrDM0Ydi2A5n%2FA%2FA2aEhYRHz%2Bzf6XTp2kGvQjSYKEE91OexGFZiG9ttA5XLzN%2B8CDZIjj2t0hkKp9cfq%2FAa%2FIyU5ZlnE%2FqHEaBKixvdyqjNVlnDDA0R3GZ6A%2B2f3V%2FRuHZ9yKUz3qwI%2BYzFTrnSdAkt1g%2FGxQM9kKQ0Ou2nr0vjwFdbGJmbtKcJ4AwZm%2B5pie%2B3HSE3uyF0qaevtizsaUqa%2BUcKDKQla9GGoz%2BJF49gjAGf%2BanR22%2BqHi5pzkdzJ9x8GEowk07LrgtUcTcjsJAaROhXmpNH7bJt9RagZaHYLGVNIyC3AjSKVsaCEwsdPhQzNuUmrKfE2uLNgy0cqxj07xuJMw%2Bpvn5OJwvPs449Dl1u5jR8rMNTvssoGOqUBogK3uBML97YETptlLyzFVJScTucyER5vIblHIoTx4EhW7iMe%2B6usaMVx7WYIMBjL5szFJPIyWTF%2FRpJ1fvLUuyVmnvi6QS127jiStyca2pTRihdhXEIIcc2cgCu1s045peSx0IJL6hNAhsJbUTw8rnKi6u7SaCgg70U1diYZ9fdn24xsbRYLhGzzKS5YqSCApiHvm8YQhWv0T%2F%2FBnn9mcrSU8Ghh&X-Amz-Signature=40a421d6a44b055481720253ba2f5c561c538c0d0cca0349773d75c419cbd44b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667LOQKCGN%2F20251225%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251225T041002Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEGwaCXVzLXdlc3QtMiJGMEQCIB8JB5FDyXM3WSo2SEW3E7%2BS7tADnescNDWdeUZr6Fo%2BAiBPmqkvTUNrzABhlQCopGREmaKP78skiYFBFtYI89UhZir%2FAwg1EAAaDDYzNzQyMzE4MzgwNSIMuk00W8LXhW0WU7dqKtwDcHNWCVNXXYYFVzmzY4L9Z%2BOUBdkD8ccaIuhldxQX2gXBgBVqXfby3kN%2FRjDdjXTyyMhxodN7EAD9YuLmBKA%2B%2Bk4zGNJBqIm%2Bg2bNAjsHztVIDdiUvXymhhufDYWDmdH%2BJbg84Eik9FOGGyNY8eSNya8zGGQca%2Bd0PhSraU7%2FyMD%2BkaXfnUq0GgT7BBzxjm5AqTZNHq%2BnwYRvB9sSmn0UGk919a8I7MOg04sEnk2HLdTybRdUx4zIr3qIHeMEmltOADDR13rxizzjtnOY50l6UZMIH4iA%2F17U9H9q1fEtvfFCpv0ZwQdE%2FOBPvEHW1RmTS4cOkOpqaklYnOHFezoQm2loVO4Z814fMQXHoCo7nkfJahBuJWGIVGcbmCnkZHAu96f7y6JzNdYWGmeeLZhuu1DXinvkPTkdt8PIqf%2BmTuddOlFEQLsAiTOjzJBXXaJWqpcxH6BOlAyv0XFCNBtCtcssBDGB12SUgv%2Bb07jMZ0nLUKZxFuiBDGtUIK33%2BJVDLTUknmzr262r5%2F9IB6nqbeYperhz2fzXOCq22zPA4B9IaqPtRXRXsqg5NQX4QigThQxhfLmQeixXAszIDhMOxC7%2BFBupxbx8AKbL4pCvahzMQ%2F8rbN0Dd7fsD1wwx%2B%2ByygY6pgFaO%2BQ%2BQjHzyE6xFQXLVXr13sEoVbJX1T66DI1QSEffAzbC1%2Bz%2FEDxFHr9Bn2ukVspqC%2F4nPgzroO9xH5dyZK14FolyS8WW6VJW%2FaicPBH%2FjS7%2FxehPH8hWccjuq1ChxTCqNAqdFEZLNhqYf3W4dXEv9BTNfAjGUBKO8%2BgwBo%2Fd2BVsuNV9vn3RYO1yGwj%2F6qHIVjl%2Fzc7lY60FbuSVCYxE7PXfAIZl&X-Amz-Signature=f66e218a8005000bfb386e4bc631fb2c540bed117229e93e0ba8b935e6af3f71&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
