
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZ6CNI66%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041753Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICV7xUlXZ%2FEtHnoMU4fv19Rn3e52iAKzox3Edxgp1jMsAiBt7mZHKU%2BfxCES6enDBFkRZAMppAzSuLMoGRjC7QAl4iqIBAi9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMA9m4QDjrFJGmnopCKtwDhY%2BIoAWiS4oYaFfHfcXrPAYsMjBdFj4WABoU4KottyNkZHBtrTA1lNpdm3z%2FoCe8FYL5vEyNH3do4mnr0ffvkJgcF%2BEPShLUuq5FSdHT3DnhzIyIIWXfynUReL%2FCXPepJOPjUEFx0wnsHTPsUzLJMgY986o9CrQ80SOBhLE2NqmCCP5KfXaNmHRXYgD1B0gJIhQPm2Tia7xQ8%2BkoWGUMf5JrtPf3jYIJwE%2BO41l0rYarcwYRgOHL9vEZyWq67YrXhr2CzdqFUDmTb0lZLgw0PVy0ceJ8M2S%2BEo9SNpKhgmsfOIysxmzj6FofUE%2FSjk1l1yWY%2Fj0pfegfhKTL%2FcD%2FUonV%2B%2BqbUUzld8jYYCbqrGPqd9So20gQdcr0VaY7awWMfn4y42r53%2F4IVQiWQ37IsJj4SKaCVed8PpKVOgTk1CYkHzzuENzSdZl9ZlHUDpbavr5t1ctAtma652tlCeFyUJ7kyZCcTNexXhS38noguL1M5x3cO1v961AEPS07zBhOPWwW%2BOavULGgEwiq%2BaxAvotjT7JEaRmTXacAJ3GEGlHxAAUQjJYGsVcM8Xd%2BbBH%2Fua4TJdK6h76rfX1PSjGtEHN5DlIeUCdErNzV%2FLe4KTMKZeWqdhEHpAhaHBYwvJDBywY6pgG7ICwPilR0Sw4jD7EZOhIStELza6MaDDd3PKBIpRL2wkmWD7N83NQ6DFGqQAC%2FhXZl5KA0pT6LfI8EQX3Y6BxCA4oMzZADi4idsk8eRXtNHAQkMXK94%2B37caDH9ZE27uUn3iVq3MvtsnmJ5Egi4ZXncg5sbQHZp8MWeYpSAdINRzDDbT2MtUA5PRibVFORQIkPnXc%2Bajd7rEmm%2BNCRBAldhdQ3hC1p&X-Amz-Signature=f7cf38a9174a80b1b04ee02beefcdbb8848f7a63192548c42ac80989a7c2923f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZ6CNI66%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041753Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICV7xUlXZ%2FEtHnoMU4fv19Rn3e52iAKzox3Edxgp1jMsAiBt7mZHKU%2BfxCES6enDBFkRZAMppAzSuLMoGRjC7QAl4iqIBAi9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMA9m4QDjrFJGmnopCKtwDhY%2BIoAWiS4oYaFfHfcXrPAYsMjBdFj4WABoU4KottyNkZHBtrTA1lNpdm3z%2FoCe8FYL5vEyNH3do4mnr0ffvkJgcF%2BEPShLUuq5FSdHT3DnhzIyIIWXfynUReL%2FCXPepJOPjUEFx0wnsHTPsUzLJMgY986o9CrQ80SOBhLE2NqmCCP5KfXaNmHRXYgD1B0gJIhQPm2Tia7xQ8%2BkoWGUMf5JrtPf3jYIJwE%2BO41l0rYarcwYRgOHL9vEZyWq67YrXhr2CzdqFUDmTb0lZLgw0PVy0ceJ8M2S%2BEo9SNpKhgmsfOIysxmzj6FofUE%2FSjk1l1yWY%2Fj0pfegfhKTL%2FcD%2FUonV%2B%2BqbUUzld8jYYCbqrGPqd9So20gQdcr0VaY7awWMfn4y42r53%2F4IVQiWQ37IsJj4SKaCVed8PpKVOgTk1CYkHzzuENzSdZl9ZlHUDpbavr5t1ctAtma652tlCeFyUJ7kyZCcTNexXhS38noguL1M5x3cO1v961AEPS07zBhOPWwW%2BOavULGgEwiq%2BaxAvotjT7JEaRmTXacAJ3GEGlHxAAUQjJYGsVcM8Xd%2BbBH%2Fua4TJdK6h76rfX1PSjGtEHN5DlIeUCdErNzV%2FLe4KTMKZeWqdhEHpAhaHBYwvJDBywY6pgG7ICwPilR0Sw4jD7EZOhIStELza6MaDDd3PKBIpRL2wkmWD7N83NQ6DFGqQAC%2FhXZl5KA0pT6LfI8EQX3Y6BxCA4oMzZADi4idsk8eRXtNHAQkMXK94%2B37caDH9ZE27uUn3iVq3MvtsnmJ5Egi4ZXncg5sbQHZp8MWeYpSAdINRzDDbT2MtUA5PRibVFORQIkPnXc%2Bajd7rEmm%2BNCRBAldhdQ3hC1p&X-Amz-Signature=0b69489813afa28e8f1871b5b4bfa039a26c6030796b96c68e6581b8213a59c2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RZ6CNI66%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041753Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICV7xUlXZ%2FEtHnoMU4fv19Rn3e52iAKzox3Edxgp1jMsAiBt7mZHKU%2BfxCES6enDBFkRZAMppAzSuLMoGRjC7QAl4iqIBAi9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMA9m4QDjrFJGmnopCKtwDhY%2BIoAWiS4oYaFfHfcXrPAYsMjBdFj4WABoU4KottyNkZHBtrTA1lNpdm3z%2FoCe8FYL5vEyNH3do4mnr0ffvkJgcF%2BEPShLUuq5FSdHT3DnhzIyIIWXfynUReL%2FCXPepJOPjUEFx0wnsHTPsUzLJMgY986o9CrQ80SOBhLE2NqmCCP5KfXaNmHRXYgD1B0gJIhQPm2Tia7xQ8%2BkoWGUMf5JrtPf3jYIJwE%2BO41l0rYarcwYRgOHL9vEZyWq67YrXhr2CzdqFUDmTb0lZLgw0PVy0ceJ8M2S%2BEo9SNpKhgmsfOIysxmzj6FofUE%2FSjk1l1yWY%2Fj0pfegfhKTL%2FcD%2FUonV%2B%2BqbUUzld8jYYCbqrGPqd9So20gQdcr0VaY7awWMfn4y42r53%2F4IVQiWQ37IsJj4SKaCVed8PpKVOgTk1CYkHzzuENzSdZl9ZlHUDpbavr5t1ctAtma652tlCeFyUJ7kyZCcTNexXhS38noguL1M5x3cO1v961AEPS07zBhOPWwW%2BOavULGgEwiq%2BaxAvotjT7JEaRmTXacAJ3GEGlHxAAUQjJYGsVcM8Xd%2BbBH%2Fua4TJdK6h76rfX1PSjGtEHN5DlIeUCdErNzV%2FLe4KTMKZeWqdhEHpAhaHBYwvJDBywY6pgG7ICwPilR0Sw4jD7EZOhIStELza6MaDDd3PKBIpRL2wkmWD7N83NQ6DFGqQAC%2FhXZl5KA0pT6LfI8EQX3Y6BxCA4oMzZADi4idsk8eRXtNHAQkMXK94%2B37caDH9ZE27uUn3iVq3MvtsnmJ5Egi4ZXncg5sbQHZp8MWeYpSAdINRzDDbT2MtUA5PRibVFORQIkPnXc%2Bajd7rEmm%2BNCRBAldhdQ3hC1p&X-Amz-Signature=168e3d1387c7d9add380993f0d159ea56f27190e97504da69c2ebad0ae705cc0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UTRRM3ZO%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCzgRh35c0eP6IZ7Tl0g05OHu203G2oySlfMdu0p3yYfwIgNTi1W0KpZv8VaIxZWNBWQEeYmdylgjqNZ4thvvqwJCMqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEDz9kYn44bzbqBJcSrcAxP122OLG0r0jgrbJEnzqAMwIfXZ3LzjMKWrn%2BeLbIPk0O9YcOQRJKH1AJS6Uvy4Cprsykj6Q%2FANdQw0N2Rb5Y7iTktZkvpQ1PgRBaqkNL60MNiwmX%2B8LfDsPucbCCwdNg%2BdKeQpcOEtLLfE%2Fmojkr9NGv8SejGdx31%2Ba6Lj1eLZfA4lUI4502c3eR1PD%2B7KePjwEwMpXe%2FvS%2BLTrK0aoP68Act9TRJ10I1a%2BZUxK9XwTORYvnnWI5kaKYSbV6m52%2BzF36521upNWerFxBu84f7pIuzQBLEzXqEfIhQ0vEw%2FKxhG3Ln%2FV0y%2FaD3KQr29on2sS6%2BtDitZ1y%2FOi5NJ5XWIJBGyfQMT4O%2B%2B3opzkjEKd%2B9h1yN7cKsw29dlCB%2FtLPzrmK0Gj8x0kGhW0pMb02aVrO7LSF7CuLmrBbKPkPyaSHoztlrSJIHzoVVNbpyN27Tu0TabxS401idpzug2vLUEhjCqdmpOqO0dG73orRQpsxnMLHQ1J3X010WlhYNrftFmLG8seFb2XmF6aYPWUjBTNWE8sJm3Isa5kceLbEaBWBrgtQEckuAHGgAFovqkpGGm9FBkXkY5uE23PLZNIaPQvhOU2Z1CykBoB6nmRiDJZzV79iKQ0WuM08nxMM%2BPwcsGOqUBRzP%2FoZcBRwdNUofkabri5FqKVUzfJ86Bu6amZqEMyuC3rmJtCqDSn5ecMaYOiD7OPYbMwHd1%2FD8heKJNqpQ2tYtiDbePwe3CgS1647fzpZgG9z28QbfWw3dQFHGSJcVpLgaiYVXyv%2FskLx2abfuQRFtFk2q51uQjZlYJNNC74ny32VcfEAfo3vwacLuNkwkasUIIrhLhTW3Dx6S9J6OGHUEkrXRa&X-Amz-Signature=06e4ca35945d56b3788ee947259b02a60aa8a28461182f6a72a1083bdf10faf5&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UTRRM3ZO%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCzgRh35c0eP6IZ7Tl0g05OHu203G2oySlfMdu0p3yYfwIgNTi1W0KpZv8VaIxZWNBWQEeYmdylgjqNZ4thvvqwJCMqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEDz9kYn44bzbqBJcSrcAxP122OLG0r0jgrbJEnzqAMwIfXZ3LzjMKWrn%2BeLbIPk0O9YcOQRJKH1AJS6Uvy4Cprsykj6Q%2FANdQw0N2Rb5Y7iTktZkvpQ1PgRBaqkNL60MNiwmX%2B8LfDsPucbCCwdNg%2BdKeQpcOEtLLfE%2Fmojkr9NGv8SejGdx31%2Ba6Lj1eLZfA4lUI4502c3eR1PD%2B7KePjwEwMpXe%2FvS%2BLTrK0aoP68Act9TRJ10I1a%2BZUxK9XwTORYvnnWI5kaKYSbV6m52%2BzF36521upNWerFxBu84f7pIuzQBLEzXqEfIhQ0vEw%2FKxhG3Ln%2FV0y%2FaD3KQr29on2sS6%2BtDitZ1y%2FOi5NJ5XWIJBGyfQMT4O%2B%2B3opzkjEKd%2B9h1yN7cKsw29dlCB%2FtLPzrmK0Gj8x0kGhW0pMb02aVrO7LSF7CuLmrBbKPkPyaSHoztlrSJIHzoVVNbpyN27Tu0TabxS401idpzug2vLUEhjCqdmpOqO0dG73orRQpsxnMLHQ1J3X010WlhYNrftFmLG8seFb2XmF6aYPWUjBTNWE8sJm3Isa5kceLbEaBWBrgtQEckuAHGgAFovqkpGGm9FBkXkY5uE23PLZNIaPQvhOU2Z1CykBoB6nmRiDJZzV79iKQ0WuM08nxMM%2BPwcsGOqUBRzP%2FoZcBRwdNUofkabri5FqKVUzfJ86Bu6amZqEMyuC3rmJtCqDSn5ecMaYOiD7OPYbMwHd1%2FD8heKJNqpQ2tYtiDbePwe3CgS1647fzpZgG9z28QbfWw3dQFHGSJcVpLgaiYVXyv%2FskLx2abfuQRFtFk2q51uQjZlYJNNC74ny32VcfEAfo3vwacLuNkwkasUIIrhLhTW3Dx6S9J6OGHUEkrXRa&X-Amz-Signature=d8c04b46eeef09b2c003ad7fc83d404ffcfe3fb3e6efbc16e7d1e65a0b8c8d1c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UTRRM3ZO%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCzgRh35c0eP6IZ7Tl0g05OHu203G2oySlfMdu0p3yYfwIgNTi1W0KpZv8VaIxZWNBWQEeYmdylgjqNZ4thvvqwJCMqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDEDz9kYn44bzbqBJcSrcAxP122OLG0r0jgrbJEnzqAMwIfXZ3LzjMKWrn%2BeLbIPk0O9YcOQRJKH1AJS6Uvy4Cprsykj6Q%2FANdQw0N2Rb5Y7iTktZkvpQ1PgRBaqkNL60MNiwmX%2B8LfDsPucbCCwdNg%2BdKeQpcOEtLLfE%2Fmojkr9NGv8SejGdx31%2Ba6Lj1eLZfA4lUI4502c3eR1PD%2B7KePjwEwMpXe%2FvS%2BLTrK0aoP68Act9TRJ10I1a%2BZUxK9XwTORYvnnWI5kaKYSbV6m52%2BzF36521upNWerFxBu84f7pIuzQBLEzXqEfIhQ0vEw%2FKxhG3Ln%2FV0y%2FaD3KQr29on2sS6%2BtDitZ1y%2FOi5NJ5XWIJBGyfQMT4O%2B%2B3opzkjEKd%2B9h1yN7cKsw29dlCB%2FtLPzrmK0Gj8x0kGhW0pMb02aVrO7LSF7CuLmrBbKPkPyaSHoztlrSJIHzoVVNbpyN27Tu0TabxS401idpzug2vLUEhjCqdmpOqO0dG73orRQpsxnMLHQ1J3X010WlhYNrftFmLG8seFb2XmF6aYPWUjBTNWE8sJm3Isa5kceLbEaBWBrgtQEckuAHGgAFovqkpGGm9FBkXkY5uE23PLZNIaPQvhOU2Z1CykBoB6nmRiDJZzV79iKQ0WuM08nxMM%2BPwcsGOqUBRzP%2FoZcBRwdNUofkabri5FqKVUzfJ86Bu6amZqEMyuC3rmJtCqDSn5ecMaYOiD7OPYbMwHd1%2FD8heKJNqpQ2tYtiDbePwe3CgS1647fzpZgG9z28QbfWw3dQFHGSJcVpLgaiYVXyv%2FskLx2abfuQRFtFk2q51uQjZlYJNNC74ny32VcfEAfo3vwacLuNkwkasUIIrhLhTW3Dx6S9J6OGHUEkrXRa&X-Amz-Signature=2b29ba31628ea56243b9a64a759521a52cf6f02fad6a4b01820c42f7df2b0af6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UVAY4CDJ%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBBrBc%2F6Ndq3P%2FNanTB4%2B2bMfnAOcwlquRjlOpJ8rYb%2FAiEAuTYkKDnN3O6B19k6FRgHwATc1ivkrXl%2FrLzQx%2F8hsTgqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJa2oAg0%2F81U8KUB5CrcA6183Yi3vDki7xlN8UhZhC2ShjLj2E8hGAHmVk4vAo3b%2FzyRYLTqE30J4xjkzwkiFvrPDhSXMStwIgkhv6WJGgRrj0HS2%2B3Up3Bmmuo%2Bp%2Fafms5n5M7wU1xk7SrvbK1T6G3IUaKjp9DTjFfAz%2BXwVrygK53hwWb5vGq9PiRcLxC5tRuRHkwpvCG6nz6%2BkkeJffC%2B%2FzqxEt10ajTW4wQR99WVZFAXX1XHkVMrBxhBaUd9vvP0yzynoF7PL1CLs1RXQmb5%2B3TERYAup3TAkkx%2B%2FPuKM85Vt0%2Fzuo0cl21ciyfYyrphAwHZXllvb8St525uYw3f9jhNJQd9Zyao5AmiPs0XYtKmwcmEJ6aYR%2FsvRCc27hgVgDEDOJchYXdW3H8uw44N6bMeHY4A9ySIb3SbBWC%2BXKYr4bgEnrkHANkoNymPS0x4XBYV0Fn%2BQYfaCzmJdnnMTes2f28zFUuUcbXw%2FmGSRwgGVg0J3%2FCboKhDIBWWQZqOujilkR8kpufvygB5UBBHHwrMx4vlGLniafAbhPC3S6Pp9Ym27KS3rkTJuPcBg2AnnxjutNCieHymwVhZOz33CTrs2BPAWhKmtce%2FGh54qL8n23LucPK5oDkawK1oydVDnjS1%2BWerdY2RMI2QwcsGOqUBOAKA3rj8%2BwHerBU7SvUM%2F4bdlLY2JR5d4anlAKo6hFRIZ1tpq%2BO7Jvsm9gSvCflS8zx%2BfS9vpGTGCsgX4n1Q%2Be2%2FCZRsu6jds0pqYQ3Bf%2BrYeqvr%2F5VbB6MVZkvlj0NHFpiFOclylw8XXr5Hi04y5910UV4mElS2nMhOE%2FdtUmaaU%2BcR%2FNMBfmT5kW9%2BDPrpvxuKdIkwAnKHALMk8UoUpKhccSfo&X-Amz-Signature=8979c5009f1ddcc8cf47c50c3068eb2cbbf3b2acca227aaadf17bb020d0a78d7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UVAY4CDJ%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBBrBc%2F6Ndq3P%2FNanTB4%2B2bMfnAOcwlquRjlOpJ8rYb%2FAiEAuTYkKDnN3O6B19k6FRgHwATc1ivkrXl%2FrLzQx%2F8hsTgqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJa2oAg0%2F81U8KUB5CrcA6183Yi3vDki7xlN8UhZhC2ShjLj2E8hGAHmVk4vAo3b%2FzyRYLTqE30J4xjkzwkiFvrPDhSXMStwIgkhv6WJGgRrj0HS2%2B3Up3Bmmuo%2Bp%2Fafms5n5M7wU1xk7SrvbK1T6G3IUaKjp9DTjFfAz%2BXwVrygK53hwWb5vGq9PiRcLxC5tRuRHkwpvCG6nz6%2BkkeJffC%2B%2FzqxEt10ajTW4wQR99WVZFAXX1XHkVMrBxhBaUd9vvP0yzynoF7PL1CLs1RXQmb5%2B3TERYAup3TAkkx%2B%2FPuKM85Vt0%2Fzuo0cl21ciyfYyrphAwHZXllvb8St525uYw3f9jhNJQd9Zyao5AmiPs0XYtKmwcmEJ6aYR%2FsvRCc27hgVgDEDOJchYXdW3H8uw44N6bMeHY4A9ySIb3SbBWC%2BXKYr4bgEnrkHANkoNymPS0x4XBYV0Fn%2BQYfaCzmJdnnMTes2f28zFUuUcbXw%2FmGSRwgGVg0J3%2FCboKhDIBWWQZqOujilkR8kpufvygB5UBBHHwrMx4vlGLniafAbhPC3S6Pp9Ym27KS3rkTJuPcBg2AnnxjutNCieHymwVhZOz33CTrs2BPAWhKmtce%2FGh54qL8n23LucPK5oDkawK1oydVDnjS1%2BWerdY2RMI2QwcsGOqUBOAKA3rj8%2BwHerBU7SvUM%2F4bdlLY2JR5d4anlAKo6hFRIZ1tpq%2BO7Jvsm9gSvCflS8zx%2BfS9vpGTGCsgX4n1Q%2Be2%2FCZRsu6jds0pqYQ3Bf%2BrYeqvr%2F5VbB6MVZkvlj0NHFpiFOclylw8XXr5Hi04y5910UV4mElS2nMhOE%2FdtUmaaU%2BcR%2FNMBfmT5kW9%2BDPrpvxuKdIkwAnKHALMk8UoUpKhccSfo&X-Amz-Signature=3128548d81a0f5162c9464ed8837a0f1185d16009cf17678c2e864d187f189d8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UVAY4CDJ%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBBrBc%2F6Ndq3P%2FNanTB4%2B2bMfnAOcwlquRjlOpJ8rYb%2FAiEAuTYkKDnN3O6B19k6FRgHwATc1ivkrXl%2FrLzQx%2F8hsTgqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJa2oAg0%2F81U8KUB5CrcA6183Yi3vDki7xlN8UhZhC2ShjLj2E8hGAHmVk4vAo3b%2FzyRYLTqE30J4xjkzwkiFvrPDhSXMStwIgkhv6WJGgRrj0HS2%2B3Up3Bmmuo%2Bp%2Fafms5n5M7wU1xk7SrvbK1T6G3IUaKjp9DTjFfAz%2BXwVrygK53hwWb5vGq9PiRcLxC5tRuRHkwpvCG6nz6%2BkkeJffC%2B%2FzqxEt10ajTW4wQR99WVZFAXX1XHkVMrBxhBaUd9vvP0yzynoF7PL1CLs1RXQmb5%2B3TERYAup3TAkkx%2B%2FPuKM85Vt0%2Fzuo0cl21ciyfYyrphAwHZXllvb8St525uYw3f9jhNJQd9Zyao5AmiPs0XYtKmwcmEJ6aYR%2FsvRCc27hgVgDEDOJchYXdW3H8uw44N6bMeHY4A9ySIb3SbBWC%2BXKYr4bgEnrkHANkoNymPS0x4XBYV0Fn%2BQYfaCzmJdnnMTes2f28zFUuUcbXw%2FmGSRwgGVg0J3%2FCboKhDIBWWQZqOujilkR8kpufvygB5UBBHHwrMx4vlGLniafAbhPC3S6Pp9Ym27KS3rkTJuPcBg2AnnxjutNCieHymwVhZOz33CTrs2BPAWhKmtce%2FGh54qL8n23LucPK5oDkawK1oydVDnjS1%2BWerdY2RMI2QwcsGOqUBOAKA3rj8%2BwHerBU7SvUM%2F4bdlLY2JR5d4anlAKo6hFRIZ1tpq%2BO7Jvsm9gSvCflS8zx%2BfS9vpGTGCsgX4n1Q%2Be2%2FCZRsu6jds0pqYQ3Bf%2BrYeqvr%2F5VbB6MVZkvlj0NHFpiFOclylw8XXr5Hi04y5910UV4mElS2nMhOE%2FdtUmaaU%2BcR%2FNMBfmT5kW9%2BDPrpvxuKdIkwAnKHALMk8UoUpKhccSfo&X-Amz-Signature=dbe4edd5be94a1a6412960e38d5ff176ad7720e2d867d000aeec868734646863&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UVAY4CDJ%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIBBrBc%2F6Ndq3P%2FNanTB4%2B2bMfnAOcwlquRjlOpJ8rYb%2FAiEAuTYkKDnN3O6B19k6FRgHwATc1ivkrXl%2FrLzQx%2F8hsTgqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJa2oAg0%2F81U8KUB5CrcA6183Yi3vDki7xlN8UhZhC2ShjLj2E8hGAHmVk4vAo3b%2FzyRYLTqE30J4xjkzwkiFvrPDhSXMStwIgkhv6WJGgRrj0HS2%2B3Up3Bmmuo%2Bp%2Fafms5n5M7wU1xk7SrvbK1T6G3IUaKjp9DTjFfAz%2BXwVrygK53hwWb5vGq9PiRcLxC5tRuRHkwpvCG6nz6%2BkkeJffC%2B%2FzqxEt10ajTW4wQR99WVZFAXX1XHkVMrBxhBaUd9vvP0yzynoF7PL1CLs1RXQmb5%2B3TERYAup3TAkkx%2B%2FPuKM85Vt0%2Fzuo0cl21ciyfYyrphAwHZXllvb8St525uYw3f9jhNJQd9Zyao5AmiPs0XYtKmwcmEJ6aYR%2FsvRCc27hgVgDEDOJchYXdW3H8uw44N6bMeHY4A9ySIb3SbBWC%2BXKYr4bgEnrkHANkoNymPS0x4XBYV0Fn%2BQYfaCzmJdnnMTes2f28zFUuUcbXw%2FmGSRwgGVg0J3%2FCboKhDIBWWQZqOujilkR8kpufvygB5UBBHHwrMx4vlGLniafAbhPC3S6Pp9Ym27KS3rkTJuPcBg2AnnxjutNCieHymwVhZOz33CTrs2BPAWhKmtce%2FGh54qL8n23LucPK5oDkawK1oydVDnjS1%2BWerdY2RMI2QwcsGOqUBOAKA3rj8%2BwHerBU7SvUM%2F4bdlLY2JR5d4anlAKo6hFRIZ1tpq%2BO7Jvsm9gSvCflS8zx%2BfS9vpGTGCsgX4n1Q%2Be2%2FCZRsu6jds0pqYQ3Bf%2BrYeqvr%2F5VbB6MVZkvlj0NHFpiFOclylw8XXr5Hi04y5910UV4mElS2nMhOE%2FdtUmaaU%2BcR%2FNMBfmT5kW9%2BDPrpvxuKdIkwAnKHALMk8UoUpKhccSfo&X-Amz-Signature=ad0634700a01c0b226f0b44a92324fce1f7ffbc7bfffbb3ff6bd78f20d33afa0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W74NUR4G%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDs0qJSTwy9rHNDegj%2FX13smkBdtWkXD6Fdm%2FeCqAq2KgIgSJx1LKYMjeLHpSWsqLFm3sbbLzhNdo72orck6i3j4gcqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLqzaohsWOdBt2hH8SrcAxQOsAjNkGFzIg22Ph2V0O4ZTKdI77q3v0LHCBpiuYdViaM6EPzk3ZdUNaX9Sm0iAgA0RuqscnYIPi3XdKci8bmXeSB3eeBrUBTb9yk5YTYSfzQghD0Vojbfsmd8r6SJvLPn64R1ukmKu7z7KQYVKq%2B%2BhTx9Vqqvo7eot4E%2BeMjYquYkKF0%2BpbXgu1aywQrl4TPBeF2LedU5Oz3G1bcJ8X%2FYsoJrXkRdFJNHkLJ3qesMPSCF1lkxZK0VjJdP%2Bjx%2F7XMcpI%2B10XUS2qtL2d3lEfjzCJxoBUilkNjpvzvwcwMxsZpOaRs%2FWHzYs9%2BR5vXLDMNx3A8Ph6n9xBmBgxgMAR%2FjKhYjBHCsXgNKZ3ZhsY109Ts0EMB9XlHyRXTYlWd8VpnBqQoV9RzhO1PFoSLi2puInM2247k6TO0n%2FQFL%2FO3FP9DxIpV5jfx452dnrl6daiWay2kD244XKy4xL2Tg3gkdnujdsoJTkYzVmzCy5HyecyrjpYWFnGWVsGuEBfVE3PbKqRk%2B%2BFoOLSM38MLWoqNZZHL%2FXND18yZn3C7saS%2FqYN0tvV1Dxk%2FW5K%2B8R6SRx52uix69751POarqGpuUGJ2nLUwRnjblhyjuA8SEeXKKqClkO78JBeF2EL1SMOaPwcsGOqUB%2Bb34u5AZZiAC63RkgWYMyz98r7VQLadejRW7xlaAU2EGhvX6NsulHb4R71zydHGuTnn1tR9ndTpydkaumOeGyEHGnfaKe%2F2U7NLmj2wspk1YG6m%2BrUBhtaLkso4n9BiAIpkMWM23PPkEdT5CCMbLY42ks4mJff8Fr%2BfFYavCdPUWO%2Bdmd2KQTVnYbqHuQ5h5ONiDaJUzEradMEZrK65wI7M96R29&X-Amz-Signature=2571123c9c640e14801a7de0e412ae6b88fa9c636ae21c3f7756b0eb42d5b5dd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W74NUR4G%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDs0qJSTwy9rHNDegj%2FX13smkBdtWkXD6Fdm%2FeCqAq2KgIgSJx1LKYMjeLHpSWsqLFm3sbbLzhNdo72orck6i3j4gcqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLqzaohsWOdBt2hH8SrcAxQOsAjNkGFzIg22Ph2V0O4ZTKdI77q3v0LHCBpiuYdViaM6EPzk3ZdUNaX9Sm0iAgA0RuqscnYIPi3XdKci8bmXeSB3eeBrUBTb9yk5YTYSfzQghD0Vojbfsmd8r6SJvLPn64R1ukmKu7z7KQYVKq%2B%2BhTx9Vqqvo7eot4E%2BeMjYquYkKF0%2BpbXgu1aywQrl4TPBeF2LedU5Oz3G1bcJ8X%2FYsoJrXkRdFJNHkLJ3qesMPSCF1lkxZK0VjJdP%2Bjx%2F7XMcpI%2B10XUS2qtL2d3lEfjzCJxoBUilkNjpvzvwcwMxsZpOaRs%2FWHzYs9%2BR5vXLDMNx3A8Ph6n9xBmBgxgMAR%2FjKhYjBHCsXgNKZ3ZhsY109Ts0EMB9XlHyRXTYlWd8VpnBqQoV9RzhO1PFoSLi2puInM2247k6TO0n%2FQFL%2FO3FP9DxIpV5jfx452dnrl6daiWay2kD244XKy4xL2Tg3gkdnujdsoJTkYzVmzCy5HyecyrjpYWFnGWVsGuEBfVE3PbKqRk%2B%2BFoOLSM38MLWoqNZZHL%2FXND18yZn3C7saS%2FqYN0tvV1Dxk%2FW5K%2B8R6SRx52uix69751POarqGpuUGJ2nLUwRnjblhyjuA8SEeXKKqClkO78JBeF2EL1SMOaPwcsGOqUB%2Bb34u5AZZiAC63RkgWYMyz98r7VQLadejRW7xlaAU2EGhvX6NsulHb4R71zydHGuTnn1tR9ndTpydkaumOeGyEHGnfaKe%2F2U7NLmj2wspk1YG6m%2BrUBhtaLkso4n9BiAIpkMWM23PPkEdT5CCMbLY42ks4mJff8Fr%2BfFYavCdPUWO%2Bdmd2KQTVnYbqHuQ5h5ONiDaJUzEradMEZrK65wI7M96R29&X-Amz-Signature=f267698f2d5c949099127c3c1c531cb0a989f81ce0a7cedaafbf712f2fc4adc3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W74NUR4G%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDs0qJSTwy9rHNDegj%2FX13smkBdtWkXD6Fdm%2FeCqAq2KgIgSJx1LKYMjeLHpSWsqLFm3sbbLzhNdo72orck6i3j4gcqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLqzaohsWOdBt2hH8SrcAxQOsAjNkGFzIg22Ph2V0O4ZTKdI77q3v0LHCBpiuYdViaM6EPzk3ZdUNaX9Sm0iAgA0RuqscnYIPi3XdKci8bmXeSB3eeBrUBTb9yk5YTYSfzQghD0Vojbfsmd8r6SJvLPn64R1ukmKu7z7KQYVKq%2B%2BhTx9Vqqvo7eot4E%2BeMjYquYkKF0%2BpbXgu1aywQrl4TPBeF2LedU5Oz3G1bcJ8X%2FYsoJrXkRdFJNHkLJ3qesMPSCF1lkxZK0VjJdP%2Bjx%2F7XMcpI%2B10XUS2qtL2d3lEfjzCJxoBUilkNjpvzvwcwMxsZpOaRs%2FWHzYs9%2BR5vXLDMNx3A8Ph6n9xBmBgxgMAR%2FjKhYjBHCsXgNKZ3ZhsY109Ts0EMB9XlHyRXTYlWd8VpnBqQoV9RzhO1PFoSLi2puInM2247k6TO0n%2FQFL%2FO3FP9DxIpV5jfx452dnrl6daiWay2kD244XKy4xL2Tg3gkdnujdsoJTkYzVmzCy5HyecyrjpYWFnGWVsGuEBfVE3PbKqRk%2B%2BFoOLSM38MLWoqNZZHL%2FXND18yZn3C7saS%2FqYN0tvV1Dxk%2FW5K%2B8R6SRx52uix69751POarqGpuUGJ2nLUwRnjblhyjuA8SEeXKKqClkO78JBeF2EL1SMOaPwcsGOqUB%2Bb34u5AZZiAC63RkgWYMyz98r7VQLadejRW7xlaAU2EGhvX6NsulHb4R71zydHGuTnn1tR9ndTpydkaumOeGyEHGnfaKe%2F2U7NLmj2wspk1YG6m%2BrUBhtaLkso4n9BiAIpkMWM23PPkEdT5CCMbLY42ks4mJff8Fr%2BfFYavCdPUWO%2Bdmd2KQTVnYbqHuQ5h5ONiDaJUzEradMEZrK65wI7M96R29&X-Amz-Signature=ad9dd2c3e539f767030df777c1fe9f56b03f089bdd809c34ebe86d313dc87756&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466W74NUR4G%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDs0qJSTwy9rHNDegj%2FX13smkBdtWkXD6Fdm%2FeCqAq2KgIgSJx1LKYMjeLHpSWsqLFm3sbbLzhNdo72orck6i3j4gcqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDLqzaohsWOdBt2hH8SrcAxQOsAjNkGFzIg22Ph2V0O4ZTKdI77q3v0LHCBpiuYdViaM6EPzk3ZdUNaX9Sm0iAgA0RuqscnYIPi3XdKci8bmXeSB3eeBrUBTb9yk5YTYSfzQghD0Vojbfsmd8r6SJvLPn64R1ukmKu7z7KQYVKq%2B%2BhTx9Vqqvo7eot4E%2BeMjYquYkKF0%2BpbXgu1aywQrl4TPBeF2LedU5Oz3G1bcJ8X%2FYsoJrXkRdFJNHkLJ3qesMPSCF1lkxZK0VjJdP%2Bjx%2F7XMcpI%2B10XUS2qtL2d3lEfjzCJxoBUilkNjpvzvwcwMxsZpOaRs%2FWHzYs9%2BR5vXLDMNx3A8Ph6n9xBmBgxgMAR%2FjKhYjBHCsXgNKZ3ZhsY109Ts0EMB9XlHyRXTYlWd8VpnBqQoV9RzhO1PFoSLi2puInM2247k6TO0n%2FQFL%2FO3FP9DxIpV5jfx452dnrl6daiWay2kD244XKy4xL2Tg3gkdnujdsoJTkYzVmzCy5HyecyrjpYWFnGWVsGuEBfVE3PbKqRk%2B%2BFoOLSM38MLWoqNZZHL%2FXND18yZn3C7saS%2FqYN0tvV1Dxk%2FW5K%2B8R6SRx52uix69751POarqGpuUGJ2nLUwRnjblhyjuA8SEeXKKqClkO78JBeF2EL1SMOaPwcsGOqUB%2Bb34u5AZZiAC63RkgWYMyz98r7VQLadejRW7xlaAU2EGhvX6NsulHb4R71zydHGuTnn1tR9ndTpydkaumOeGyEHGnfaKe%2F2U7NLmj2wspk1YG6m%2BrUBhtaLkso4n9BiAIpkMWM23PPkEdT5CCMbLY42ks4mJff8Fr%2BfFYavCdPUWO%2Bdmd2KQTVnYbqHuQ5h5ONiDaJUzEradMEZrK65wI7M96R29&X-Amz-Signature=befd0e379ad5425c0ca55fdb4dc81d0334ac0c483fdc29859dfb4bd6bc09a957&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46622KIHCD4%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCHaZVC6uODKl6WJ7YmBTL0EjVbKIeu%2BvI8koA2Qf7pMgIgF8Q6KHP4uW4Y9cnIYIY0D94H9z%2FFdmKWJCoNapB1rR4qiAQIvP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDE3pJrUovw4qcmQr4CrcA2TZ3lo8APuB%2BypJOSUk5OFyTNLjfW7XQ%2FkpKdtJ3I3%2BhGCWa41XbR24a5e29839sYFkpmCOl3x2COpXqlCEAekiZ5IKFAVQeDsFJWpKqk5ukHUPkPaBQmGmO4rcbnm81ixMbJ7RUb9gT5pU49I1hijvr4yCz2%2BHg3fwKwtoY1yfZheL32oMVxMQeu884v6lsx7yLaVGsmI29IahHE0SAYkgExGrMWHd6PlgPfMLs1eXwZ0m5IAk%2BQayJv27d%2Fxom1EmCCRdTeMzBig4xUdknotVxFaMHe2jMTQS2dkSIqRjxF7g1O64r6dJfgRQEEAi5EWiD%2FI9hfeWEIWTN2mfWYX6Uf4%2Bv9U9hCf0qLzynCnpxbvteBFOiCYYIMeZ47%2BFz%2FFuMIvNtW1qXTtUb%2BrerAuJJ4Fia1Vhzk8tgGZPYIan%2BDsrsiZqY15y74j8ocsQoEelMhetts2Jbx1NWYlgu%2BZ3gfXxVsIb70Mjp2QqLMKt%2Beh%2BvA%2FcbQQnyO8%2F9YK7OlIFMr60JME94xzLVe49OocZhmXrKhhgytEmNf5RNl8OxH2wadKwcaOKHUkqXiiPumi7ihtlC%2Bmk%2B0vWhrvtkILHUWtbPifEQ4hUBbflAcu2ITWEryN5oykXhztEMPWPwcsGOqUBYkb6BTe%2BUUL9OY9p2rwCDtW58AO%2BtqV7fS5Kpfxh1bhFJwoQtY%2Be2%2Bmg3sTph8JOCGMxuUX8W61lEvmE%2F5d8OuJcFIDpIomDUz%2Fo2T6joFfEgaOMsKebqQChU0GxhGF%2BfR%2FRBB2PInq10DJXgNp1GI1RkhIWQpi3dr%2FIDJPMZoBI4GfUjk88h2D9Dqjr7A%2FUdwk6jFFXNPoQ9uHgkPCEKwo6sW7K&X-Amz-Signature=b044ad4288709027a1474ce77d861ffa8aa2520cd9c0e5863eb5cf0cc58fcafb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46622KIHCD4%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCHaZVC6uODKl6WJ7YmBTL0EjVbKIeu%2BvI8koA2Qf7pMgIgF8Q6KHP4uW4Y9cnIYIY0D94H9z%2FFdmKWJCoNapB1rR4qiAQIvP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDE3pJrUovw4qcmQr4CrcA2TZ3lo8APuB%2BypJOSUk5OFyTNLjfW7XQ%2FkpKdtJ3I3%2BhGCWa41XbR24a5e29839sYFkpmCOl3x2COpXqlCEAekiZ5IKFAVQeDsFJWpKqk5ukHUPkPaBQmGmO4rcbnm81ixMbJ7RUb9gT5pU49I1hijvr4yCz2%2BHg3fwKwtoY1yfZheL32oMVxMQeu884v6lsx7yLaVGsmI29IahHE0SAYkgExGrMWHd6PlgPfMLs1eXwZ0m5IAk%2BQayJv27d%2Fxom1EmCCRdTeMzBig4xUdknotVxFaMHe2jMTQS2dkSIqRjxF7g1O64r6dJfgRQEEAi5EWiD%2FI9hfeWEIWTN2mfWYX6Uf4%2Bv9U9hCf0qLzynCnpxbvteBFOiCYYIMeZ47%2BFz%2FFuMIvNtW1qXTtUb%2BrerAuJJ4Fia1Vhzk8tgGZPYIan%2BDsrsiZqY15y74j8ocsQoEelMhetts2Jbx1NWYlgu%2BZ3gfXxVsIb70Mjp2QqLMKt%2Beh%2BvA%2FcbQQnyO8%2F9YK7OlIFMr60JME94xzLVe49OocZhmXrKhhgytEmNf5RNl8OxH2wadKwcaOKHUkqXiiPumi7ihtlC%2Bmk%2B0vWhrvtkILHUWtbPifEQ4hUBbflAcu2ITWEryN5oykXhztEMPWPwcsGOqUBYkb6BTe%2BUUL9OY9p2rwCDtW58AO%2BtqV7fS5Kpfxh1bhFJwoQtY%2Be2%2Bmg3sTph8JOCGMxuUX8W61lEvmE%2F5d8OuJcFIDpIomDUz%2Fo2T6joFfEgaOMsKebqQChU0GxhGF%2BfR%2FRBB2PInq10DJXgNp1GI1RkhIWQpi3dr%2FIDJPMZoBI4GfUjk88h2D9Dqjr7A%2FUdwk6jFFXNPoQ9uHgkPCEKwo6sW7K&X-Amz-Signature=81bf1cb567674c96b1f69a3ed34abb01cb774fb1153eaf07adc8068a58b7547b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46622KIHCD4%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041754Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCHaZVC6uODKl6WJ7YmBTL0EjVbKIeu%2BvI8koA2Qf7pMgIgF8Q6KHP4uW4Y9cnIYIY0D94H9z%2FFdmKWJCoNapB1rR4qiAQIvP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDE3pJrUovw4qcmQr4CrcA2TZ3lo8APuB%2BypJOSUk5OFyTNLjfW7XQ%2FkpKdtJ3I3%2BhGCWa41XbR24a5e29839sYFkpmCOl3x2COpXqlCEAekiZ5IKFAVQeDsFJWpKqk5ukHUPkPaBQmGmO4rcbnm81ixMbJ7RUb9gT5pU49I1hijvr4yCz2%2BHg3fwKwtoY1yfZheL32oMVxMQeu884v6lsx7yLaVGsmI29IahHE0SAYkgExGrMWHd6PlgPfMLs1eXwZ0m5IAk%2BQayJv27d%2Fxom1EmCCRdTeMzBig4xUdknotVxFaMHe2jMTQS2dkSIqRjxF7g1O64r6dJfgRQEEAi5EWiD%2FI9hfeWEIWTN2mfWYX6Uf4%2Bv9U9hCf0qLzynCnpxbvteBFOiCYYIMeZ47%2BFz%2FFuMIvNtW1qXTtUb%2BrerAuJJ4Fia1Vhzk8tgGZPYIan%2BDsrsiZqY15y74j8ocsQoEelMhetts2Jbx1NWYlgu%2BZ3gfXxVsIb70Mjp2QqLMKt%2Beh%2BvA%2FcbQQnyO8%2F9YK7OlIFMr60JME94xzLVe49OocZhmXrKhhgytEmNf5RNl8OxH2wadKwcaOKHUkqXiiPumi7ihtlC%2Bmk%2B0vWhrvtkILHUWtbPifEQ4hUBbflAcu2ITWEryN5oykXhztEMPWPwcsGOqUBYkb6BTe%2BUUL9OY9p2rwCDtW58AO%2BtqV7fS5Kpfxh1bhFJwoQtY%2Be2%2Bmg3sTph8JOCGMxuUX8W61lEvmE%2F5d8OuJcFIDpIomDUz%2Fo2T6joFfEgaOMsKebqQChU0GxhGF%2BfR%2FRBB2PInq10DJXgNp1GI1RkhIWQpi3dr%2FIDJPMZoBI4GfUjk88h2D9Dqjr7A%2FUdwk6jFFXNPoQ9uHgkPCEKwo6sW7K&X-Amz-Signature=5bec298fa838048e4f55a2323e8ddcac5f6603e554292b604273923e9f55956e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VUF7D3XI%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041755Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDDHzoiAdl7RjkOHchNJwnf%2B%2B9KATkcATPeF9mdZOmHPAIgc0SmtW%2F%2FG78d3146u5SkQiDZEGPg4fhfHDMyH%2B%2FDH64qiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOMJC2bCrn0LJhB%2FeircA3wjNNQlmUEVOtKBunZsi%2BqpZ97H%2BGphfA6ZnBpqawALyEr%2Bl5ItZh1altNhcR43ia7JvWZad9Fx%2F%2BWEDdAl8gEZg%2FYr7%2FrE%2BAvL1h58aGG63ZYC3BNbq9l0CplHNUGRcVfnEY8ZV1Tdwd4qXV2fD8pu1d1tqU1VWuRQg8%2BZn7nlRYbWDIkv3AuM8aCH941msxd5KP6lmA8fPcQExnSdj60iIZpbanF51G9nBBArLhmE3n6Zq2PNMrXpQiIE6yTeyoP2bwHRUvA2aNrwaCi5JDLdjIN0iNSElK94LsO9GCZgXtNSU6%2F0N%2FNZGpAaipUv1KmFuWpjq3c6cznEnu3nqpLUax4LlLuoej7rfGZnVStjk2yp9eo%2FAfusrwEzjXOKEoq8YdJfIgIHGlMzZl78DVpOWqQpbLi8ill9k3%2F84beGmQY7YjwHo6JePQz%2BPdDJZzA7EafRvKuKr84zdo9dMgrswRSfMKsQUsir0f3%2BBZ7chMjnA3XJKCW1eSvOk%2BKw%2Fdfk6HMEg6a8eN4Y4IR5kqNbWFfy0avWdG4DHCPzlhbgUDtPm8EKPsl4V7fdS3W8x52QwKm%2BkBGCw%2FiTkuc2IULniYpQO9hE7rsQD5oMsUntJ3kieLj%2FQ1BvuCyiMI2QwcsGOqUBVhaNhN3byjMQ5bML9UXrrpqwYljnTFVNeJ4n1E2ynK9d4oXJUwK0FWWdhQZufAjieDVHwDxotN2AXvrXaLBftUlKDK%2Bf6CeeQUXK2VG620D6oeGwWPaxCzIa1gWYhdJJXaK6N9X5weqIPQzFFBrsC44ctKAgAgFqZklAHRZF2lA6qTA995RCNZNOT0nezZ36bqTQr1YaEltKGyNewOkIIfzmtY5w&X-Amz-Signature=e9fb196ecd59119279df239153bb23773c56bc3ac903ffb95cef81c4a1815ef4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VUF7D3XI%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041755Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDDHzoiAdl7RjkOHchNJwnf%2B%2B9KATkcATPeF9mdZOmHPAIgc0SmtW%2F%2FG78d3146u5SkQiDZEGPg4fhfHDMyH%2B%2FDH64qiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDOMJC2bCrn0LJhB%2FeircA3wjNNQlmUEVOtKBunZsi%2BqpZ97H%2BGphfA6ZnBpqawALyEr%2Bl5ItZh1altNhcR43ia7JvWZad9Fx%2F%2BWEDdAl8gEZg%2FYr7%2FrE%2BAvL1h58aGG63ZYC3BNbq9l0CplHNUGRcVfnEY8ZV1Tdwd4qXV2fD8pu1d1tqU1VWuRQg8%2BZn7nlRYbWDIkv3AuM8aCH941msxd5KP6lmA8fPcQExnSdj60iIZpbanF51G9nBBArLhmE3n6Zq2PNMrXpQiIE6yTeyoP2bwHRUvA2aNrwaCi5JDLdjIN0iNSElK94LsO9GCZgXtNSU6%2F0N%2FNZGpAaipUv1KmFuWpjq3c6cznEnu3nqpLUax4LlLuoej7rfGZnVStjk2yp9eo%2FAfusrwEzjXOKEoq8YdJfIgIHGlMzZl78DVpOWqQpbLi8ill9k3%2F84beGmQY7YjwHo6JePQz%2BPdDJZzA7EafRvKuKr84zdo9dMgrswRSfMKsQUsir0f3%2BBZ7chMjnA3XJKCW1eSvOk%2BKw%2Fdfk6HMEg6a8eN4Y4IR5kqNbWFfy0avWdG4DHCPzlhbgUDtPm8EKPsl4V7fdS3W8x52QwKm%2BkBGCw%2FiTkuc2IULniYpQO9hE7rsQD5oMsUntJ3kieLj%2FQ1BvuCyiMI2QwcsGOqUBVhaNhN3byjMQ5bML9UXrrpqwYljnTFVNeJ4n1E2ynK9d4oXJUwK0FWWdhQZufAjieDVHwDxotN2AXvrXaLBftUlKDK%2Bf6CeeQUXK2VG620D6oeGwWPaxCzIa1gWYhdJJXaK6N9X5weqIPQzFFBrsC44ctKAgAgFqZklAHRZF2lA6qTA995RCNZNOT0nezZ36bqTQr1YaEltKGyNewOkIIfzmtY5w&X-Amz-Signature=95b262c64f894d488755dd7ff5c55ec9e9b53588d5d01ffec5b041b42a73b78a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHL3XC66%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041755Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFXHJcqsh5qjDZHww9A9ljmig6UIVI8FUibQgyHyqfjxAiBmt%2FiePg%2FDjcB3s%2FPJ7eQE30tKMiuht%2FIY3M0h8REKECqIBAi9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2BqH9wnMt0A5rSf4PKtwDuGvz%2F%2FsxXOpNmfNkR04KdxQEBQOdAbtOz%2FbP1wTeIFhrIycn9sYkzKxbcofcCim8yprvP8Dn0y2wEm%2BrNFx1xXlxkp8TJegvhDe1l4HzYIww2KgZ3JGpfGjc59d%2BB2NXpPnFWLtPo%2BcfKPZ4wslnNmI9n9YdurEgKqOP1p38dDMoQzllZ4Gw5Sl086iSsadBMvjvN19xhwl%2FN7uoihzbAfFBRhxQtX84QYvYzuRbPdzq44Uc2FTWbY1NbgIn43GBr2tQHQBrKV6TAcbhOEJGmy%2B6dUtvZzxI7aH6EEzn4gI%2FmJy5orW%2FJPOix4gWXwu9wnM793uIP1Wg%2BNY2MiS0HNcatFcydyxa9OnuMCJw4xQg4FrFmosyfsQfzoZ%2Bfn3SlTz748k1FnPWwxDEAQlopNZRIVg7jUpIThbb9briz8s9jZCoUudFp0q0MFGnsYpEzJixxDIwpqvVRh23PqHz4vFYWSbl41JCu7EacWH8zVQCmKAkXDqtlI00iaVuVQiBwyBCRxkD6pEr2Dm53iRc8lYWpSeZAeHlsoH0IOHljgmkxGuNeYsS5n8mwG1wJkRwKpC0TnQ%2BJA8i83AosgvMrDpv7VDMRXfsIWqcLuOxow9yIMKxykadTp4NYe4w9Y%2FBywY6pgFkyWrJOfSUG4fkskaRPHM3aQzlrrEY8uwYdZlq5veTl4%2FBjsptBk08N7zr1brs%2B67%2BAnU9fPhPH0eUR5vOeFBhoJ%2BSCCiuLQjkulSSBVwsT7mwMc5DtpV8pfgLgMDy9WOkU%2FfT22DvMU1ZHGNy4qrwFB%2BX%2F4YbkQVI14NT68TZKL8h5Ia1Yitds4EKe1uTrCWzu1oIHAf%2B9HDVBplNoBL0zaMVKUS%2B&X-Amz-Signature=b203599b487b5058b69f90d1a0da30d2599af5c3d1ee29345806cd32db257c60&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHL3XC66%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041755Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFXHJcqsh5qjDZHww9A9ljmig6UIVI8FUibQgyHyqfjxAiBmt%2FiePg%2FDjcB3s%2FPJ7eQE30tKMiuht%2FIY3M0h8REKECqIBAi9%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM%2BqH9wnMt0A5rSf4PKtwDuGvz%2F%2FsxXOpNmfNkR04KdxQEBQOdAbtOz%2FbP1wTeIFhrIycn9sYkzKxbcofcCim8yprvP8Dn0y2wEm%2BrNFx1xXlxkp8TJegvhDe1l4HzYIww2KgZ3JGpfGjc59d%2BB2NXpPnFWLtPo%2BcfKPZ4wslnNmI9n9YdurEgKqOP1p38dDMoQzllZ4Gw5Sl086iSsadBMvjvN19xhwl%2FN7uoihzbAfFBRhxQtX84QYvYzuRbPdzq44Uc2FTWbY1NbgIn43GBr2tQHQBrKV6TAcbhOEJGmy%2B6dUtvZzxI7aH6EEzn4gI%2FmJy5orW%2FJPOix4gWXwu9wnM793uIP1Wg%2BNY2MiS0HNcatFcydyxa9OnuMCJw4xQg4FrFmosyfsQfzoZ%2Bfn3SlTz748k1FnPWwxDEAQlopNZRIVg7jUpIThbb9briz8s9jZCoUudFp0q0MFGnsYpEzJixxDIwpqvVRh23PqHz4vFYWSbl41JCu7EacWH8zVQCmKAkXDqtlI00iaVuVQiBwyBCRxkD6pEr2Dm53iRc8lYWpSeZAeHlsoH0IOHljgmkxGuNeYsS5n8mwG1wJkRwKpC0TnQ%2BJA8i83AosgvMrDpv7VDMRXfsIWqcLuOxow9yIMKxykadTp4NYe4w9Y%2FBywY6pgFkyWrJOfSUG4fkskaRPHM3aQzlrrEY8uwYdZlq5veTl4%2FBjsptBk08N7zr1brs%2B67%2BAnU9fPhPH0eUR5vOeFBhoJ%2BSCCiuLQjkulSSBVwsT7mwMc5DtpV8pfgLgMDy9WOkU%2FfT22DvMU1ZHGNy4qrwFB%2BX%2F4YbkQVI14NT68TZKL8h5Ia1Yitds4EKe1uTrCWzu1oIHAf%2B9HDVBplNoBL0zaMVKUS%2B&X-Amz-Signature=50b2af03af55e89a8e5d6af2224975886561c7be1738937f7c7df7903ade280f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VAFAMUXD%2F20260121%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260121T041757Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIE19BK05avVL%2FVLOBvI5d9BKoAUFM9Mw2egAAV5pNy4JAiEA%2F3GnbBNaFMblhmU0KQ9iona97t5Av3x8hIvt%2Bp%2FzVDYqiAQIvf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBhbwY%2FeffkQ8tMEfSrcA4zn8mAr7Y6G8aFpMurZIHFbz%2FHzoG2vvHNVGFaIfgKavd5mPHeusvTOlimhOuDvln4fw1U145HzYXj%2FCSLpg5J8LjrF4mwGf4zbaEGYk88IeLDz0itA4dsZe1LSTY9XJ90AQ%2FliBi8UAJDZODG%2B7nFlvAgXjsiyDWuQnbToTOJVTXt9tiDdPF9Ceh0eGNCiqyWp%2BOYRbw2R5scPabrKWWybmCRzFi3pAGQhsbuS2KJz9hEdj2ljTVhFLyLXpTmtvWB9FFK0rifKzipcZXd8n6UcBtao%2FoTzYHrYcBjIkkwZt%2B1AaoPHYrvFDbeS%2FnTPfI%2F52%2FFlLUbRNhV%2FJjR87WYeUKuJwV%2BLHMZMkgn2BCE9NR7C3noSM5sPTwme18PKgKZ68yvvDCHq%2F5WeyurhVtER%2B7AJQ7HG3M52L6QQRf7cQrZeuRlpGcQCFFVeY9PYf8dFj9UaAJRJEV%2BsVEH3fthQ2JBIjALqEaDrm%2BfubpaX18NNMKKF6uKeYb3knPV07R57CcwM667n7F97dpXx9UYPopY6ZcUMPD4u%2BN8HTaNj0X6OX7xt8JdQgq6aFoANdguc63fcLdcq%2FAddkThW7OSS9tg7ueKo4wlq0xZadSgy7f7w4NodnQcbnEaSMMOPwcsGOqUBd%2BpNaKQHCL5SZAW8Nf81ygo13fmUXVChQFFxPsYn8ycNrTjO83p3NGkmvBmrREHIneDpDvgB8w1cAxVm%2FBg5akvJGuL6GFsGeWE4rhpmseRJPC%2F3GGRH7hLD3ZmIaosNi82%2BndIq1ZSIr2bWo7ae77UK7ieQADHwLFAWaBiBCP4g0vrW7wAizvZ3MR6v7SIM%2FwtSTqee%2BLfKw8To9aTIwh0rrs7f&X-Amz-Signature=636d722f7bc9299a1019e7fb06c8e76e5e200c13842bf87fd3dc68cf9f26ea9f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
