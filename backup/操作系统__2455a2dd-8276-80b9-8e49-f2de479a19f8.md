
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667QVNP24S%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIA5RZ%2Ffee6JNbcnaiU0G7aEgz276cuNd6KgH8Je3S6wuAiEAzIhULwiV8j6eDfFyFHqCiUBqK1%2Bs4JG7FSEl%2FVa19k8qiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDM4nulmewG3GpGVWaCrcAyp9JewSOkyPvDe%2Fd3tgwY48PwQUTt1jM9qdR8NqDeFXLhQnMRejVxvgYGpPKTTfc3zjQ16DZ6ivUBWbWsn2ISNuUY8%2FuTqTBiWG3EBTZXtlp3dkRWvRo%2B8iBsotM2bP1i4hniu%2B5Ex2mzWxYc0giWXDPzj0jtMBod0UIP1OCvMb%2F2CscIAZqcBSrKRLOVWxrMKHj2i%2FoEYLLll4TROebDwxmG3IxJzPBbNvFI2NtTH5ja58BSc7pWzusT%2B8roVFUMbFO346Af2CtRqNY438KEv%2Bk4byu6iHvDQGxL5LYXxaJQV1KeUW5NHaFVhbqnJElpVnn%2BX%2F21%2BIh%2Fv827mzwjxCjbm1icDPKA2kYwtoOgf%2FWFGgqJWnbnn0pliOVtTVWDnbT91dWCzW9Ug9KFf%2Bg3HJII4AbLmygn1B629j0zUTMseWq%2F6D%2BGVxRj495CnWygWahpM%2FbUdETjE0wj2s2%2FqVoclxUobpGLgEAmQKNAN8qN3bP%2BTHHjkbel8cPuVWqMxKIoMIR2DdjsYyCB6TlKX%2FkmHOpPz3FJ3xc4FJhzJPKgJmqfhjZP8Q3kfHp3WsbQnmAEtlAOcbYFfDu4M331%2Be5APzCH0GluKhZjg6RgWCwhDuuWmkaTAVnvPFMK6F18oGOqUBrrqhbsdvNpdkg3WuGBdm3KDRp13U0Mcv%2F%2BDP73GlOlnnAqOfSzS%2FCssnwMKrZ3nZiGG716tfNHaQJle%2BG3rVICyqLOdFSSqYveRZIsA8l6lZ%2BmW01OFxnb6XtB0qlx%2BpwDo9eTdX1X%2BfRUU4v7kmTj7aZ8fR08B68Gp9%2F%2Be4HOZCB5LQ%2Bf%2FNMLnoqrlI1oECoBSpu4n%2FDxJnxhXLB8NjxDmMpRbN&X-Amz-Signature=592acb5b2bfa0c5ef9739aa96b20a554f00b64f4c385473fae5eae969ab300bc&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667QVNP24S%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIA5RZ%2Ffee6JNbcnaiU0G7aEgz276cuNd6KgH8Je3S6wuAiEAzIhULwiV8j6eDfFyFHqCiUBqK1%2Bs4JG7FSEl%2FVa19k8qiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDM4nulmewG3GpGVWaCrcAyp9JewSOkyPvDe%2Fd3tgwY48PwQUTt1jM9qdR8NqDeFXLhQnMRejVxvgYGpPKTTfc3zjQ16DZ6ivUBWbWsn2ISNuUY8%2FuTqTBiWG3EBTZXtlp3dkRWvRo%2B8iBsotM2bP1i4hniu%2B5Ex2mzWxYc0giWXDPzj0jtMBod0UIP1OCvMb%2F2CscIAZqcBSrKRLOVWxrMKHj2i%2FoEYLLll4TROebDwxmG3IxJzPBbNvFI2NtTH5ja58BSc7pWzusT%2B8roVFUMbFO346Af2CtRqNY438KEv%2Bk4byu6iHvDQGxL5LYXxaJQV1KeUW5NHaFVhbqnJElpVnn%2BX%2F21%2BIh%2Fv827mzwjxCjbm1icDPKA2kYwtoOgf%2FWFGgqJWnbnn0pliOVtTVWDnbT91dWCzW9Ug9KFf%2Bg3HJII4AbLmygn1B629j0zUTMseWq%2F6D%2BGVxRj495CnWygWahpM%2FbUdETjE0wj2s2%2FqVoclxUobpGLgEAmQKNAN8qN3bP%2BTHHjkbel8cPuVWqMxKIoMIR2DdjsYyCB6TlKX%2FkmHOpPz3FJ3xc4FJhzJPKgJmqfhjZP8Q3kfHp3WsbQnmAEtlAOcbYFfDu4M331%2Be5APzCH0GluKhZjg6RgWCwhDuuWmkaTAVnvPFMK6F18oGOqUBrrqhbsdvNpdkg3WuGBdm3KDRp13U0Mcv%2F%2BDP73GlOlnnAqOfSzS%2FCssnwMKrZ3nZiGG716tfNHaQJle%2BG3rVICyqLOdFSSqYveRZIsA8l6lZ%2BmW01OFxnb6XtB0qlx%2BpwDo9eTdX1X%2BfRUU4v7kmTj7aZ8fR08B68Gp9%2F%2Be4HOZCB5LQ%2Bf%2FNMLnoqrlI1oECoBSpu4n%2FDxJnxhXLB8NjxDmMpRbN&X-Amz-Signature=3f18bddc1c52f69df5d342d70fa54e144bfaaa01acacf26c41a8af5a58b84414&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667QVNP24S%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIA5RZ%2Ffee6JNbcnaiU0G7aEgz276cuNd6KgH8Je3S6wuAiEAzIhULwiV8j6eDfFyFHqCiUBqK1%2Bs4JG7FSEl%2FVa19k8qiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDM4nulmewG3GpGVWaCrcAyp9JewSOkyPvDe%2Fd3tgwY48PwQUTt1jM9qdR8NqDeFXLhQnMRejVxvgYGpPKTTfc3zjQ16DZ6ivUBWbWsn2ISNuUY8%2FuTqTBiWG3EBTZXtlp3dkRWvRo%2B8iBsotM2bP1i4hniu%2B5Ex2mzWxYc0giWXDPzj0jtMBod0UIP1OCvMb%2F2CscIAZqcBSrKRLOVWxrMKHj2i%2FoEYLLll4TROebDwxmG3IxJzPBbNvFI2NtTH5ja58BSc7pWzusT%2B8roVFUMbFO346Af2CtRqNY438KEv%2Bk4byu6iHvDQGxL5LYXxaJQV1KeUW5NHaFVhbqnJElpVnn%2BX%2F21%2BIh%2Fv827mzwjxCjbm1icDPKA2kYwtoOgf%2FWFGgqJWnbnn0pliOVtTVWDnbT91dWCzW9Ug9KFf%2Bg3HJII4AbLmygn1B629j0zUTMseWq%2F6D%2BGVxRj495CnWygWahpM%2FbUdETjE0wj2s2%2FqVoclxUobpGLgEAmQKNAN8qN3bP%2BTHHjkbel8cPuVWqMxKIoMIR2DdjsYyCB6TlKX%2FkmHOpPz3FJ3xc4FJhzJPKgJmqfhjZP8Q3kfHp3WsbQnmAEtlAOcbYFfDu4M331%2Be5APzCH0GluKhZjg6RgWCwhDuuWmkaTAVnvPFMK6F18oGOqUBrrqhbsdvNpdkg3WuGBdm3KDRp13U0Mcv%2F%2BDP73GlOlnnAqOfSzS%2FCssnwMKrZ3nZiGG716tfNHaQJle%2BG3rVICyqLOdFSSqYveRZIsA8l6lZ%2BmW01OFxnb6XtB0qlx%2BpwDo9eTdX1X%2BfRUU4v7kmTj7aZ8fR08B68Gp9%2F%2Be4HOZCB5LQ%2Bf%2FNMLnoqrlI1oECoBSpu4n%2FDxJnxhXLB8NjxDmMpRbN&X-Amz-Signature=4bb2d7ba5083e5a0dcb14b464f96daa5eb411a1d6cfef71ac11c391cb8b4f320&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YVTRTQVL%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIQD3DLSkn8w7f8ScuFGeELSs0C%2FgC3ey0OJ%2BBOC4T3WD%2BAIgfig%2FTp7EwAHlRFM4Z5XcxCCqCNOwxQGtNfFfycO50ngqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ71EK8dx4TWnZZDEyrcA2pfgQnCW%2FU2JE7pUErS8NZuU3%2BxS4rFuUtK3ewg%2FjBbvAtjZZ%2Fu39k9iiG4Vmx4D2OO12Xn7GAgj5B7Y6oFftGe1RgO6rDsDcJiWeSdtkYW%2Fox%2F1oTHsVwEZy%2BbyB4wzZUEd7fQK3YCK62XNVvl2KN3QnY9qBIUk6OY%2F4QwYyhIeh%2FX%2Fv6DV%2FpKnfuCjCQGfEDDfLNGybCl2QyKx6aILvR9LqbRT7%2Fm5Te%2BcTGmu3BRk1dDy2bgyjwioHVIFkBXco8KlSRP1Kri%2BWzeG5CYItaDcSNGQLsPvMqawe3anGXxcEbO5m0Oa49CFjMaqdSJhcjfERCA8hh7OdvQaDEYY6y%2BbVmStAdRfybxCzW1vFVIzXTpr5wyaXYBhE9jefb7WfJXoPBj7vGO24QQlX6Vi2BdTG564p8oLx8ZFzJLntD0t7cbHAf%2B4%2BG3Ir5mByoq6f9WHWX23fm4ujJvqtAWXeLx9Ekzk6uRvr9CK9yUNLBDNiJ6lNMBO2BQTfcH7xUZF7NgaJLOBqn8pg0EgZxWiSrV3o%2FCrlkjG8zcFsHDWP3uHFJkbkE7ZGiMwJI6nhIUf9QNPMaWVQVnPwciZzkVM801unkA8sdPXuZ8G6s5ZbkbEH6%2Ba1TEVuzpJLu1MLeP18oGOqUBJhb8Gew%2F7VGrRS905sQXcz157ExN%2F8xKYRNZW0e4kwLK2YWSq8FbE07sp%2BGq3nx1K6SnCWow693kFu9aA5jgVMkj900vvRiiO%2F5RKqhx4C2DqOp6R9lcGPwmo0U3WNIX1KlXp2To3AhRj9v12vcD3paXRoj1OaPxh53UdIxkP5QKFAkHptemIR4Ke13ymtM0zLFj7qpSC%2BU9YraqCJtbkjY0TZPN&X-Amz-Signature=73ce4db31ea42c0c1bac8cbc5e7afcd51f2dc3cd59b563bcb48c163471aab25a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YVTRTQVL%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIQD3DLSkn8w7f8ScuFGeELSs0C%2FgC3ey0OJ%2BBOC4T3WD%2BAIgfig%2FTp7EwAHlRFM4Z5XcxCCqCNOwxQGtNfFfycO50ngqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ71EK8dx4TWnZZDEyrcA2pfgQnCW%2FU2JE7pUErS8NZuU3%2BxS4rFuUtK3ewg%2FjBbvAtjZZ%2Fu39k9iiG4Vmx4D2OO12Xn7GAgj5B7Y6oFftGe1RgO6rDsDcJiWeSdtkYW%2Fox%2F1oTHsVwEZy%2BbyB4wzZUEd7fQK3YCK62XNVvl2KN3QnY9qBIUk6OY%2F4QwYyhIeh%2FX%2Fv6DV%2FpKnfuCjCQGfEDDfLNGybCl2QyKx6aILvR9LqbRT7%2Fm5Te%2BcTGmu3BRk1dDy2bgyjwioHVIFkBXco8KlSRP1Kri%2BWzeG5CYItaDcSNGQLsPvMqawe3anGXxcEbO5m0Oa49CFjMaqdSJhcjfERCA8hh7OdvQaDEYY6y%2BbVmStAdRfybxCzW1vFVIzXTpr5wyaXYBhE9jefb7WfJXoPBj7vGO24QQlX6Vi2BdTG564p8oLx8ZFzJLntD0t7cbHAf%2B4%2BG3Ir5mByoq6f9WHWX23fm4ujJvqtAWXeLx9Ekzk6uRvr9CK9yUNLBDNiJ6lNMBO2BQTfcH7xUZF7NgaJLOBqn8pg0EgZxWiSrV3o%2FCrlkjG8zcFsHDWP3uHFJkbkE7ZGiMwJI6nhIUf9QNPMaWVQVnPwciZzkVM801unkA8sdPXuZ8G6s5ZbkbEH6%2Ba1TEVuzpJLu1MLeP18oGOqUBJhb8Gew%2F7VGrRS905sQXcz157ExN%2F8xKYRNZW0e4kwLK2YWSq8FbE07sp%2BGq3nx1K6SnCWow693kFu9aA5jgVMkj900vvRiiO%2F5RKqhx4C2DqOp6R9lcGPwmo0U3WNIX1KlXp2To3AhRj9v12vcD3paXRoj1OaPxh53UdIxkP5QKFAkHptemIR4Ke13ymtM0zLFj7qpSC%2BU9YraqCJtbkjY0TZPN&X-Amz-Signature=9208c849351ecc94f76ad41be6e821961578ef2f30916b9ddac4bfc6c047005c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466YVTRTQVL%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIQD3DLSkn8w7f8ScuFGeELSs0C%2FgC3ey0OJ%2BBOC4T3WD%2BAIgfig%2FTp7EwAHlRFM4Z5XcxCCqCNOwxQGtNfFfycO50ngqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDJ71EK8dx4TWnZZDEyrcA2pfgQnCW%2FU2JE7pUErS8NZuU3%2BxS4rFuUtK3ewg%2FjBbvAtjZZ%2Fu39k9iiG4Vmx4D2OO12Xn7GAgj5B7Y6oFftGe1RgO6rDsDcJiWeSdtkYW%2Fox%2F1oTHsVwEZy%2BbyB4wzZUEd7fQK3YCK62XNVvl2KN3QnY9qBIUk6OY%2F4QwYyhIeh%2FX%2Fv6DV%2FpKnfuCjCQGfEDDfLNGybCl2QyKx6aILvR9LqbRT7%2Fm5Te%2BcTGmu3BRk1dDy2bgyjwioHVIFkBXco8KlSRP1Kri%2BWzeG5CYItaDcSNGQLsPvMqawe3anGXxcEbO5m0Oa49CFjMaqdSJhcjfERCA8hh7OdvQaDEYY6y%2BbVmStAdRfybxCzW1vFVIzXTpr5wyaXYBhE9jefb7WfJXoPBj7vGO24QQlX6Vi2BdTG564p8oLx8ZFzJLntD0t7cbHAf%2B4%2BG3Ir5mByoq6f9WHWX23fm4ujJvqtAWXeLx9Ekzk6uRvr9CK9yUNLBDNiJ6lNMBO2BQTfcH7xUZF7NgaJLOBqn8pg0EgZxWiSrV3o%2FCrlkjG8zcFsHDWP3uHFJkbkE7ZGiMwJI6nhIUf9QNPMaWVQVnPwciZzkVM801unkA8sdPXuZ8G6s5ZbkbEH6%2Ba1TEVuzpJLu1MLeP18oGOqUBJhb8Gew%2F7VGrRS905sQXcz157ExN%2F8xKYRNZW0e4kwLK2YWSq8FbE07sp%2BGq3nx1K6SnCWow693kFu9aA5jgVMkj900vvRiiO%2F5RKqhx4C2DqOp6R9lcGPwmo0U3WNIX1KlXp2To3AhRj9v12vcD3paXRoj1OaPxh53UdIxkP5QKFAkHptemIR4Ke13ymtM0zLFj7qpSC%2BU9YraqCJtbkjY0TZPN&X-Amz-Signature=188f7b600fbf98cff4a2415bf2f2f955033b8a03dc3813c078b2d7d761b3c57f&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JX6KBBO%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCICSK2i%2BVzLIRAyvclPUMRNrsqZA%2FxRo75X35jE%2F2Eg%2FmAiBkR%2BM0kmnaw77%2BajtTOY5xmKV2sSh9O%2FeQbkLjtxGLZyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMhHVVahp564Nv3vTUKtwD9sacCQt%2BfT%2FY6Fpxc5e9M6li73vPV5mQgA2wmKS%2FhzCIJi%2F0qEw0dfJibKXYpcdt2nGqKjypQugmh0KlI%2B8gDSgcIk4lgrDCIcJtzbrHjt9U4wiPUZUhsEzqTlfDsayN%2BANKOj7Uyvlbtv86Z153xC3TcU94jCK%2F5dGH2brkm2y8ygck9jWxmJfL6q0cIbAiU8wHqIK%2FaihjkNMNQzDo030UsX7pbLjkZIABLeZ1wGpcvHt6E8Vqb%2FocMk162BVjXU913m3%2B1yXZAwac5NX4YccviSKPye2kMCyqwESNABigLQ%2FtvSQ6toGCA%2FdQ7V6Ixdn2JsHemMpHlj9DAo%2BKYVyqFlNjJ7MbqvPomjXf2NldOlX%2Bufp1BeM5E5oaidIjimjIsgI2CQfI1e%2B0lKNvwgagn5O87rut3im6ph1hvwKgai0ajtDX%2BtVyRfCZHOLOBf8%2Bv228Dqf%2BGH2AXUcTmlnSncT3qdI4Inkxaqy%2Bboy%2BRit35dtJ6m1Y%2BDMoI6smMwJXRbaPhGlP8pMU%2BghJFr%2FOuooQ1jA8sIKXr%2FGXSCIkSPEd2SdHYqnIByVVYFKt%2F9hLEFc1yi4ad4VTB3NkFYrwFul9VTsumqfYo4sAjDFelgOCKt%2F5GM7Ol%2FYwr4XXygY6pgHWkTdD54pbFzUjZfF%2FcC2KwuosXF6jI4YUBWGRKGWoIY%2FbrfaiA9h%2B7%2FNmoyCZ6KQPX8AcaBMFAR0FPbWPvQavRQwF0UEMd6Ghd3D7jtbIcdzZfsuuIAOh%2BV5Cklw1NXuNNbmE1PUxU6oLTHHhogl%2FNWZdYVt3kvuFu%2FVFVuW4sfZy19va5%2B3tFytMM58WTDa89PvgtHI5Bz6fl%2FixXgpsthgvYjj4&X-Amz-Signature=4401c29cc519a37bf9f70a4903df969df85686fa87d20eec2b0a2d85f4b96396&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JX6KBBO%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCICSK2i%2BVzLIRAyvclPUMRNrsqZA%2FxRo75X35jE%2F2Eg%2FmAiBkR%2BM0kmnaw77%2BajtTOY5xmKV2sSh9O%2FeQbkLjtxGLZyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMhHVVahp564Nv3vTUKtwD9sacCQt%2BfT%2FY6Fpxc5e9M6li73vPV5mQgA2wmKS%2FhzCIJi%2F0qEw0dfJibKXYpcdt2nGqKjypQugmh0KlI%2B8gDSgcIk4lgrDCIcJtzbrHjt9U4wiPUZUhsEzqTlfDsayN%2BANKOj7Uyvlbtv86Z153xC3TcU94jCK%2F5dGH2brkm2y8ygck9jWxmJfL6q0cIbAiU8wHqIK%2FaihjkNMNQzDo030UsX7pbLjkZIABLeZ1wGpcvHt6E8Vqb%2FocMk162BVjXU913m3%2B1yXZAwac5NX4YccviSKPye2kMCyqwESNABigLQ%2FtvSQ6toGCA%2FdQ7V6Ixdn2JsHemMpHlj9DAo%2BKYVyqFlNjJ7MbqvPomjXf2NldOlX%2Bufp1BeM5E5oaidIjimjIsgI2CQfI1e%2B0lKNvwgagn5O87rut3im6ph1hvwKgai0ajtDX%2BtVyRfCZHOLOBf8%2Bv228Dqf%2BGH2AXUcTmlnSncT3qdI4Inkxaqy%2Bboy%2BRit35dtJ6m1Y%2BDMoI6smMwJXRbaPhGlP8pMU%2BghJFr%2FOuooQ1jA8sIKXr%2FGXSCIkSPEd2SdHYqnIByVVYFKt%2F9hLEFc1yi4ad4VTB3NkFYrwFul9VTsumqfYo4sAjDFelgOCKt%2F5GM7Ol%2FYwr4XXygY6pgHWkTdD54pbFzUjZfF%2FcC2KwuosXF6jI4YUBWGRKGWoIY%2FbrfaiA9h%2B7%2FNmoyCZ6KQPX8AcaBMFAR0FPbWPvQavRQwF0UEMd6Ghd3D7jtbIcdzZfsuuIAOh%2BV5Cklw1NXuNNbmE1PUxU6oLTHHhogl%2FNWZdYVt3kvuFu%2FVFVuW4sfZy19va5%2B3tFytMM58WTDa89PvgtHI5Bz6fl%2FixXgpsthgvYjj4&X-Amz-Signature=bfd035d1812af4eca123e3131f78913985159e1fd14873fd671b8606164dac2e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JX6KBBO%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCICSK2i%2BVzLIRAyvclPUMRNrsqZA%2FxRo75X35jE%2F2Eg%2FmAiBkR%2BM0kmnaw77%2BajtTOY5xmKV2sSh9O%2FeQbkLjtxGLZyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMhHVVahp564Nv3vTUKtwD9sacCQt%2BfT%2FY6Fpxc5e9M6li73vPV5mQgA2wmKS%2FhzCIJi%2F0qEw0dfJibKXYpcdt2nGqKjypQugmh0KlI%2B8gDSgcIk4lgrDCIcJtzbrHjt9U4wiPUZUhsEzqTlfDsayN%2BANKOj7Uyvlbtv86Z153xC3TcU94jCK%2F5dGH2brkm2y8ygck9jWxmJfL6q0cIbAiU8wHqIK%2FaihjkNMNQzDo030UsX7pbLjkZIABLeZ1wGpcvHt6E8Vqb%2FocMk162BVjXU913m3%2B1yXZAwac5NX4YccviSKPye2kMCyqwESNABigLQ%2FtvSQ6toGCA%2FdQ7V6Ixdn2JsHemMpHlj9DAo%2BKYVyqFlNjJ7MbqvPomjXf2NldOlX%2Bufp1BeM5E5oaidIjimjIsgI2CQfI1e%2B0lKNvwgagn5O87rut3im6ph1hvwKgai0ajtDX%2BtVyRfCZHOLOBf8%2Bv228Dqf%2BGH2AXUcTmlnSncT3qdI4Inkxaqy%2Bboy%2BRit35dtJ6m1Y%2BDMoI6smMwJXRbaPhGlP8pMU%2BghJFr%2FOuooQ1jA8sIKXr%2FGXSCIkSPEd2SdHYqnIByVVYFKt%2F9hLEFc1yi4ad4VTB3NkFYrwFul9VTsumqfYo4sAjDFelgOCKt%2F5GM7Ol%2FYwr4XXygY6pgHWkTdD54pbFzUjZfF%2FcC2KwuosXF6jI4YUBWGRKGWoIY%2FbrfaiA9h%2B7%2FNmoyCZ6KQPX8AcaBMFAR0FPbWPvQavRQwF0UEMd6Ghd3D7jtbIcdzZfsuuIAOh%2BV5Cklw1NXuNNbmE1PUxU6oLTHHhogl%2FNWZdYVt3kvuFu%2FVFVuW4sfZy19va5%2B3tFytMM58WTDa89PvgtHI5Bz6fl%2FixXgpsthgvYjj4&X-Amz-Signature=5e6d8dcd4aa02ce8b178fab322ebc9e229cfdd326af6175465c87443a3e9c584&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JX6KBBO%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041956Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCICSK2i%2BVzLIRAyvclPUMRNrsqZA%2FxRo75X35jE%2F2Eg%2FmAiBkR%2BM0kmnaw77%2BajtTOY5xmKV2sSh9O%2FeQbkLjtxGLZyqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMhHVVahp564Nv3vTUKtwD9sacCQt%2BfT%2FY6Fpxc5e9M6li73vPV5mQgA2wmKS%2FhzCIJi%2F0qEw0dfJibKXYpcdt2nGqKjypQugmh0KlI%2B8gDSgcIk4lgrDCIcJtzbrHjt9U4wiPUZUhsEzqTlfDsayN%2BANKOj7Uyvlbtv86Z153xC3TcU94jCK%2F5dGH2brkm2y8ygck9jWxmJfL6q0cIbAiU8wHqIK%2FaihjkNMNQzDo030UsX7pbLjkZIABLeZ1wGpcvHt6E8Vqb%2FocMk162BVjXU913m3%2B1yXZAwac5NX4YccviSKPye2kMCyqwESNABigLQ%2FtvSQ6toGCA%2FdQ7V6Ixdn2JsHemMpHlj9DAo%2BKYVyqFlNjJ7MbqvPomjXf2NldOlX%2Bufp1BeM5E5oaidIjimjIsgI2CQfI1e%2B0lKNvwgagn5O87rut3im6ph1hvwKgai0ajtDX%2BtVyRfCZHOLOBf8%2Bv228Dqf%2BGH2AXUcTmlnSncT3qdI4Inkxaqy%2Bboy%2BRit35dtJ6m1Y%2BDMoI6smMwJXRbaPhGlP8pMU%2BghJFr%2FOuooQ1jA8sIKXr%2FGXSCIkSPEd2SdHYqnIByVVYFKt%2F9hLEFc1yi4ad4VTB3NkFYrwFul9VTsumqfYo4sAjDFelgOCKt%2F5GM7Ol%2FYwr4XXygY6pgHWkTdD54pbFzUjZfF%2FcC2KwuosXF6jI4YUBWGRKGWoIY%2FbrfaiA9h%2B7%2FNmoyCZ6KQPX8AcaBMFAR0FPbWPvQavRQwF0UEMd6Ghd3D7jtbIcdzZfsuuIAOh%2BV5Cklw1NXuNNbmE1PUxU6oLTHHhogl%2FNWZdYVt3kvuFu%2FVFVuW4sfZy19va5%2B3tFytMM58WTDa89PvgtHI5Bz6fl%2FixXgpsthgvYjj4&X-Amz-Signature=e3e948bb7b5f7ce9b807d778e7c6741bc2b2053cfed09696b3393ccc40b25f15&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662IXQUIVF%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQCZ8aMXQtddQXU7moTAIgBhOoGB1g5gzKDDIEMRQ%2FuTDQIhALnkuopp7GItdKWlAlDc%2B2G6pca97lu4CIEJSix9YWNjKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz1DM8y2sgJeaJPNnQq3APvqn6JArF1lkhVn3P9ubSs5oBP4S8NIRc9NAABBNRpQM5ooaAMyE9tjpu7cNup9BpuKrvll%2BAZ8KX6ha1GkoENvoMFsSK4fruuTz6BxPqZ1%2Fdc2n8UyFvr0N62oTiUE9hDhuQsb%2BBqyKQfPrQJRG9G4BegyC002VI9DiDfFGe%2BbSo9UNRF8aOIY5BZ9xgqEz3SsSugQGv6cVkKgO%2BSuE2HakxXy5ZfAEg3wK2fBiPQSbHpLy7bl1NsP5eLKoId4QM5XdKBPrnPzInNEgm1YaRWrlndRtsOf9RF1S94aR0B9ykRbr05c7WJiQi1mCpI%2BtXUPFOVl9iZ%2FijcTTv52RFWcroXjrTSo%2BwIZ94gOh%2Fk3VWYt%2FbymhDBa9gnXNt7xvCbHvl2Y290K73Rm%2Bc4%2FM669cmYZXTSh7DfjHrGVeejDbhZK6OZi6uh%2Fh%2BxrCQcL2NZX6ke%2FY5zqx4RbNkOHXIpKI8KpflOUA7FeL%2BmLZwn2GmMD%2FoKDEbjGg1HTaokiFyPNH84AtoqnP4KMCUTZXch%2BbpVPOnUj8TorYEf888Jx2UaIVAbQQSzZEjd9CMdKG3ZAznJ9zsQrV7Bx7%2B6pIPH8p3MnH2lTY3RbFuXjSj8cA%2F7OKkuML48yVE1XTDq%2F9bKBjqkAa649lv5xSEobT%2FLbCTDZSnwH8yq24Os10HbF%2BDLdX%2FfvCbzJYx5Mz8J51adTu%2FCWpyn3uw6aaaOLm4dNl1Cg7kCrxScz5eiFaOAx1Iv96XjQWnSq8RkvBBscFdAq%2BcWTBVrAf%2FzfhtF9DKAJ8SiDIJOsnoSdh%2FLyCHLB5%2Fm3fmbKibi6yYWSBoWnjkEUrW%2F6%2F1QwIbAc6kBxhDy%2BLPHlx0%2Br7ZA&X-Amz-Signature=c031c0aa5ac8718a9e2be01748d0add85db52a176bc28e5cdddfea347be39b14&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662IXQUIVF%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQCZ8aMXQtddQXU7moTAIgBhOoGB1g5gzKDDIEMRQ%2FuTDQIhALnkuopp7GItdKWlAlDc%2B2G6pca97lu4CIEJSix9YWNjKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz1DM8y2sgJeaJPNnQq3APvqn6JArF1lkhVn3P9ubSs5oBP4S8NIRc9NAABBNRpQM5ooaAMyE9tjpu7cNup9BpuKrvll%2BAZ8KX6ha1GkoENvoMFsSK4fruuTz6BxPqZ1%2Fdc2n8UyFvr0N62oTiUE9hDhuQsb%2BBqyKQfPrQJRG9G4BegyC002VI9DiDfFGe%2BbSo9UNRF8aOIY5BZ9xgqEz3SsSugQGv6cVkKgO%2BSuE2HakxXy5ZfAEg3wK2fBiPQSbHpLy7bl1NsP5eLKoId4QM5XdKBPrnPzInNEgm1YaRWrlndRtsOf9RF1S94aR0B9ykRbr05c7WJiQi1mCpI%2BtXUPFOVl9iZ%2FijcTTv52RFWcroXjrTSo%2BwIZ94gOh%2Fk3VWYt%2FbymhDBa9gnXNt7xvCbHvl2Y290K73Rm%2Bc4%2FM669cmYZXTSh7DfjHrGVeejDbhZK6OZi6uh%2Fh%2BxrCQcL2NZX6ke%2FY5zqx4RbNkOHXIpKI8KpflOUA7FeL%2BmLZwn2GmMD%2FoKDEbjGg1HTaokiFyPNH84AtoqnP4KMCUTZXch%2BbpVPOnUj8TorYEf888Jx2UaIVAbQQSzZEjd9CMdKG3ZAznJ9zsQrV7Bx7%2B6pIPH8p3MnH2lTY3RbFuXjSj8cA%2F7OKkuML48yVE1XTDq%2F9bKBjqkAa649lv5xSEobT%2FLbCTDZSnwH8yq24Os10HbF%2BDLdX%2FfvCbzJYx5Mz8J51adTu%2FCWpyn3uw6aaaOLm4dNl1Cg7kCrxScz5eiFaOAx1Iv96XjQWnSq8RkvBBscFdAq%2BcWTBVrAf%2FzfhtF9DKAJ8SiDIJOsnoSdh%2FLyCHLB5%2Fm3fmbKibi6yYWSBoWnjkEUrW%2F6%2F1QwIbAc6kBxhDy%2BLPHlx0%2Br7ZA&X-Amz-Signature=c81393ca1c2082b9997fd51a19c5a0f74034abe821d72ec70c94dd2fbade1c89&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662IXQUIVF%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQCZ8aMXQtddQXU7moTAIgBhOoGB1g5gzKDDIEMRQ%2FuTDQIhALnkuopp7GItdKWlAlDc%2B2G6pca97lu4CIEJSix9YWNjKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz1DM8y2sgJeaJPNnQq3APvqn6JArF1lkhVn3P9ubSs5oBP4S8NIRc9NAABBNRpQM5ooaAMyE9tjpu7cNup9BpuKrvll%2BAZ8KX6ha1GkoENvoMFsSK4fruuTz6BxPqZ1%2Fdc2n8UyFvr0N62oTiUE9hDhuQsb%2BBqyKQfPrQJRG9G4BegyC002VI9DiDfFGe%2BbSo9UNRF8aOIY5BZ9xgqEz3SsSugQGv6cVkKgO%2BSuE2HakxXy5ZfAEg3wK2fBiPQSbHpLy7bl1NsP5eLKoId4QM5XdKBPrnPzInNEgm1YaRWrlndRtsOf9RF1S94aR0B9ykRbr05c7WJiQi1mCpI%2BtXUPFOVl9iZ%2FijcTTv52RFWcroXjrTSo%2BwIZ94gOh%2Fk3VWYt%2FbymhDBa9gnXNt7xvCbHvl2Y290K73Rm%2Bc4%2FM669cmYZXTSh7DfjHrGVeejDbhZK6OZi6uh%2Fh%2BxrCQcL2NZX6ke%2FY5zqx4RbNkOHXIpKI8KpflOUA7FeL%2BmLZwn2GmMD%2FoKDEbjGg1HTaokiFyPNH84AtoqnP4KMCUTZXch%2BbpVPOnUj8TorYEf888Jx2UaIVAbQQSzZEjd9CMdKG3ZAznJ9zsQrV7Bx7%2B6pIPH8p3MnH2lTY3RbFuXjSj8cA%2F7OKkuML48yVE1XTDq%2F9bKBjqkAa649lv5xSEobT%2FLbCTDZSnwH8yq24Os10HbF%2BDLdX%2FfvCbzJYx5Mz8J51adTu%2FCWpyn3uw6aaaOLm4dNl1Cg7kCrxScz5eiFaOAx1Iv96XjQWnSq8RkvBBscFdAq%2BcWTBVrAf%2FzfhtF9DKAJ8SiDIJOsnoSdh%2FLyCHLB5%2Fm3fmbKibi6yYWSBoWnjkEUrW%2F6%2F1QwIbAc6kBxhDy%2BLPHlx0%2Br7ZA&X-Amz-Signature=15d5ddf2d53603cef065df1c3bada9317bb1255dc15eccebc468018648c4a92d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662IXQUIVF%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJIMEYCIQCZ8aMXQtddQXU7moTAIgBhOoGB1g5gzKDDIEMRQ%2FuTDQIhALnkuopp7GItdKWlAlDc%2B2G6pca97lu4CIEJSix9YWNjKogECNr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1Igz1DM8y2sgJeaJPNnQq3APvqn6JArF1lkhVn3P9ubSs5oBP4S8NIRc9NAABBNRpQM5ooaAMyE9tjpu7cNup9BpuKrvll%2BAZ8KX6ha1GkoENvoMFsSK4fruuTz6BxPqZ1%2Fdc2n8UyFvr0N62oTiUE9hDhuQsb%2BBqyKQfPrQJRG9G4BegyC002VI9DiDfFGe%2BbSo9UNRF8aOIY5BZ9xgqEz3SsSugQGv6cVkKgO%2BSuE2HakxXy5ZfAEg3wK2fBiPQSbHpLy7bl1NsP5eLKoId4QM5XdKBPrnPzInNEgm1YaRWrlndRtsOf9RF1S94aR0B9ykRbr05c7WJiQi1mCpI%2BtXUPFOVl9iZ%2FijcTTv52RFWcroXjrTSo%2BwIZ94gOh%2Fk3VWYt%2FbymhDBa9gnXNt7xvCbHvl2Y290K73Rm%2Bc4%2FM669cmYZXTSh7DfjHrGVeejDbhZK6OZi6uh%2Fh%2BxrCQcL2NZX6ke%2FY5zqx4RbNkOHXIpKI8KpflOUA7FeL%2BmLZwn2GmMD%2FoKDEbjGg1HTaokiFyPNH84AtoqnP4KMCUTZXch%2BbpVPOnUj8TorYEf888Jx2UaIVAbQQSzZEjd9CMdKG3ZAznJ9zsQrV7Bx7%2B6pIPH8p3MnH2lTY3RbFuXjSj8cA%2F7OKkuML48yVE1XTDq%2F9bKBjqkAa649lv5xSEobT%2FLbCTDZSnwH8yq24Os10HbF%2BDLdX%2FfvCbzJYx5Mz8J51adTu%2FCWpyn3uw6aaaOLm4dNl1Cg7kCrxScz5eiFaOAx1Iv96XjQWnSq8RkvBBscFdAq%2BcWTBVrAf%2FzfhtF9DKAJ8SiDIJOsnoSdh%2FLyCHLB5%2Fm3fmbKibi6yYWSBoWnjkEUrW%2F6%2F1QwIbAc6kBxhDy%2BLPHlx0%2Br7ZA&X-Amz-Signature=266183fa488ddd12e63cc65b21f5762898d91add2eab435c453fd1756aa08fa4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZPSWRWWF%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIQC5QE7wp35eKqxWV4okqppDpdyOSREhnnZAHm%2BhTYkgvgIgN8wl3cuQMQm9a9b%2FFfM3x7Z14Sbks7MzxPCb01%2BfB%2FMqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDGuZ7U3cEjfPkOyfZircA3aYhUqaa%2BxwSZW1y5PslFLbvT5Yyt8euH%2Ffqa%2BJr5k7jJY5%2BA829aS1Tl%2By%2FJY8%2FpGGnQo6bR3C2rfR6jCur5K%2FbTMfmVexJVujKwxlugQKrTsKuhxx9DjPSwFMM4C6yHbvOxsRDDRytUyAcYBEautGcbCntI3D6JgjPjIEzJIYEWXhg6Og%2BE%2BM6z4WJX36EdoaB8iKgj%2BQoZe8KUhWWb1%2F29WfQ2djOmHNtPnqFmFzL0fAUwDgVg6BbdBkDFwN6YK%2Fkn%2BF6AeixAiq4iFDwc0OYs1RyDF0NSRJ%2FkPoe8x1u76l4iqrSC9%2B528Gs9FQDfGiiVXDJZx9%2BIA0Kbtcfd%2BPTjxDze2UAGKyi3x6i1pqXfj7fKi4bCrjO6MGU05yfRuu4BXUsTpYKRu9ghOR%2FPWqj%2BkRlpjVB6hdvfBMBwi7rn5y1SnIry26z6OWGA7yo5%2FDvRdP%2BdECccz%2FCAA8I8WOu4qr%2FzWJC37Na15oOBefetwzhzOJ7vbvI7wS8bRaxbOnD74P3%2BvVJQY66uYEj4mSaR%2FNHPby1i8BYoGu2SDd6w%2F6YjJ13IbrXf4nnS2OoIrX0hC7duiUU1Nw9z4AoxQfjh67Q3l11nxDTNngDNWHZ17wK8O2xrVv5fXDMKiN18oGOqUB%2BVYaUGRAPLY4sUHIZ9WIchd4TnjMvmxtaI3p8kFGIdAlRBX7wdhkvkEjrLPD1LmfGQ0CXeb3syWAVf9Xr4BwGt8e3q%2FID1cBTJFanxKxngZQW37lhIga2tG0KywWNuPKGIS9IXCo3jl%2BApKiwScJ9z3TcezkKHqiT7gIFbz8HQXj0OxEEUpm0s7QsGFa83NldBYxSl8yaUCCIjbLEDQKOlhmo3PQ&X-Amz-Signature=b809cbb268df30c77b3ad2ef5bd44ce7b3a684f3d7f1960f93bc39dc03883a84&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZPSWRWWF%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIQC5QE7wp35eKqxWV4okqppDpdyOSREhnnZAHm%2BhTYkgvgIgN8wl3cuQMQm9a9b%2FFfM3x7Z14Sbks7MzxPCb01%2BfB%2FMqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDGuZ7U3cEjfPkOyfZircA3aYhUqaa%2BxwSZW1y5PslFLbvT5Yyt8euH%2Ffqa%2BJr5k7jJY5%2BA829aS1Tl%2By%2FJY8%2FpGGnQo6bR3C2rfR6jCur5K%2FbTMfmVexJVujKwxlugQKrTsKuhxx9DjPSwFMM4C6yHbvOxsRDDRytUyAcYBEautGcbCntI3D6JgjPjIEzJIYEWXhg6Og%2BE%2BM6z4WJX36EdoaB8iKgj%2BQoZe8KUhWWb1%2F29WfQ2djOmHNtPnqFmFzL0fAUwDgVg6BbdBkDFwN6YK%2Fkn%2BF6AeixAiq4iFDwc0OYs1RyDF0NSRJ%2FkPoe8x1u76l4iqrSC9%2B528Gs9FQDfGiiVXDJZx9%2BIA0Kbtcfd%2BPTjxDze2UAGKyi3x6i1pqXfj7fKi4bCrjO6MGU05yfRuu4BXUsTpYKRu9ghOR%2FPWqj%2BkRlpjVB6hdvfBMBwi7rn5y1SnIry26z6OWGA7yo5%2FDvRdP%2BdECccz%2FCAA8I8WOu4qr%2FzWJC37Na15oOBefetwzhzOJ7vbvI7wS8bRaxbOnD74P3%2BvVJQY66uYEj4mSaR%2FNHPby1i8BYoGu2SDd6w%2F6YjJ13IbrXf4nnS2OoIrX0hC7duiUU1Nw9z4AoxQfjh67Q3l11nxDTNngDNWHZ17wK8O2xrVv5fXDMKiN18oGOqUB%2BVYaUGRAPLY4sUHIZ9WIchd4TnjMvmxtaI3p8kFGIdAlRBX7wdhkvkEjrLPD1LmfGQ0CXeb3syWAVf9Xr4BwGt8e3q%2FID1cBTJFanxKxngZQW37lhIga2tG0KywWNuPKGIS9IXCo3jl%2BApKiwScJ9z3TcezkKHqiT7gIFbz8HQXj0OxEEUpm0s7QsGFa83NldBYxSl8yaUCCIjbLEDQKOlhmo3PQ&X-Amz-Signature=bac464ea86a246e2a74ae6675e9eedb3a6e0f7c3802f79443b301124c06c1048&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZPSWRWWF%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIQC5QE7wp35eKqxWV4okqppDpdyOSREhnnZAHm%2BhTYkgvgIgN8wl3cuQMQm9a9b%2FFfM3x7Z14Sbks7MzxPCb01%2BfB%2FMqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDGuZ7U3cEjfPkOyfZircA3aYhUqaa%2BxwSZW1y5PslFLbvT5Yyt8euH%2Ffqa%2BJr5k7jJY5%2BA829aS1Tl%2By%2FJY8%2FpGGnQo6bR3C2rfR6jCur5K%2FbTMfmVexJVujKwxlugQKrTsKuhxx9DjPSwFMM4C6yHbvOxsRDDRytUyAcYBEautGcbCntI3D6JgjPjIEzJIYEWXhg6Og%2BE%2BM6z4WJX36EdoaB8iKgj%2BQoZe8KUhWWb1%2F29WfQ2djOmHNtPnqFmFzL0fAUwDgVg6BbdBkDFwN6YK%2Fkn%2BF6AeixAiq4iFDwc0OYs1RyDF0NSRJ%2FkPoe8x1u76l4iqrSC9%2B528Gs9FQDfGiiVXDJZx9%2BIA0Kbtcfd%2BPTjxDze2UAGKyi3x6i1pqXfj7fKi4bCrjO6MGU05yfRuu4BXUsTpYKRu9ghOR%2FPWqj%2BkRlpjVB6hdvfBMBwi7rn5y1SnIry26z6OWGA7yo5%2FDvRdP%2BdECccz%2FCAA8I8WOu4qr%2FzWJC37Na15oOBefetwzhzOJ7vbvI7wS8bRaxbOnD74P3%2BvVJQY66uYEj4mSaR%2FNHPby1i8BYoGu2SDd6w%2F6YjJ13IbrXf4nnS2OoIrX0hC7duiUU1Nw9z4AoxQfjh67Q3l11nxDTNngDNWHZ17wK8O2xrVv5fXDMKiN18oGOqUB%2BVYaUGRAPLY4sUHIZ9WIchd4TnjMvmxtaI3p8kFGIdAlRBX7wdhkvkEjrLPD1LmfGQ0CXeb3syWAVf9Xr4BwGt8e3q%2FID1cBTJFanxKxngZQW37lhIga2tG0KywWNuPKGIS9IXCo3jl%2BApKiwScJ9z3TcezkKHqiT7gIFbz8HQXj0OxEEUpm0s7QsGFa83NldBYxSl8yaUCCIjbLEDQKOlhmo3PQ&X-Amz-Signature=56838da61b4d1168026f42b7b979079aa020b7ee70c0176ddb01fbf055c2db31&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666Z7AC3C6%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIEUwUn4JzF54YV4oZAtQzL%2FgUbHPRTpHeUkcn3W6yl%2FvAiB%2BKaSHGMvZNzvvW%2B0t%2Bu8X39s8HBvbn3Tv2KBGXRGqkiqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMQAOhzQN7yI%2FLgXe5KtwDzRF5yYboDNQ4xgP4XEx%2Fg4esnBrxQKvz9%2BAqgdpo4PD4cWNH2YGlhtecQ%2Bg%2Bd7NtHxZ%2BU2a3XxMYPw4B3iHeJYcRwrxLMcVDeeqAdh%2FSUvrPmlwa2SS6Y4XRR13g9RKzWu6bRe%2FBPJvmP1MtSZDaO3B1LTQ4a2VQMdTxMrpz4h5paFCIpwpD3okJacMLo9x02R7iL8E3dK5YtVIRo61BNHgpevaZjavh7584dk6oASqvDMrCtPQKQbiGXIaku2WBqayW9qpe0Hlzpil3B81r7QazJJEjgZBscK%2Bwf85BbD6JjW9WOtZJ2XonbQwFZzT1zA7yIZg%2BNcNRqut%2FLTamzcBuMUjs2q1rSy90pU6E8ipFeeST1hKUwzy3IaKdxs1MvHDlayaf2SleArgQNaIca1ADVniNjy67bTigARF0mgdtw7lIaZtJFnVp6N7%2FKjLUtsu4K6ezUf%2FFpuQ%2FfNuLgXxrjXYsKKkEuAIHhIzbAw1ilKXVBqsydiB7gefqOvQOXJSGH7ft5PJjRG2teuhypDqtj6yVQB3hCsU9sO1BM7NU0B7Sk0S1qxaVpnw49jE%2BEUgEQJPncNsBJ7UbXAwMRSc46LNdS2aoNBYzeSNf8ieimtkcIh9gp3G%2BQSEwuo3XygY6pgHTxtTfkBIcQnlIyYkNo5Q3MRi0Bl92xZFDKcQWz8ica%2B8z1sv0gUnM1BcIlPcRaSUsqsbjOwcCLfo0z8OmhD5MlZhwIXjLMv77ZfGvOhoaIJN2wsDoajk7V67Rmlvt8WbNMCfYKIpJm2epIMByDdgWY4FGvQYEezooVQpSFc15eYUK%2FNRhuKC4iKc8yBynIVX5u2Ol9VHIzNcfGNT9EUyUEU2k1scb&X-Amz-Signature=3fab9d24b06997c143acfe486c6c592fcbaf1ae9328ffacb5fb19ee7dede0332&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666Z7AC3C6%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIEUwUn4JzF54YV4oZAtQzL%2FgUbHPRTpHeUkcn3W6yl%2FvAiB%2BKaSHGMvZNzvvW%2B0t%2Bu8X39s8HBvbn3Tv2KBGXRGqkiqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMQAOhzQN7yI%2FLgXe5KtwDzRF5yYboDNQ4xgP4XEx%2Fg4esnBrxQKvz9%2BAqgdpo4PD4cWNH2YGlhtecQ%2Bg%2Bd7NtHxZ%2BU2a3XxMYPw4B3iHeJYcRwrxLMcVDeeqAdh%2FSUvrPmlwa2SS6Y4XRR13g9RKzWu6bRe%2FBPJvmP1MtSZDaO3B1LTQ4a2VQMdTxMrpz4h5paFCIpwpD3okJacMLo9x02R7iL8E3dK5YtVIRo61BNHgpevaZjavh7584dk6oASqvDMrCtPQKQbiGXIaku2WBqayW9qpe0Hlzpil3B81r7QazJJEjgZBscK%2Bwf85BbD6JjW9WOtZJ2XonbQwFZzT1zA7yIZg%2BNcNRqut%2FLTamzcBuMUjs2q1rSy90pU6E8ipFeeST1hKUwzy3IaKdxs1MvHDlayaf2SleArgQNaIca1ADVniNjy67bTigARF0mgdtw7lIaZtJFnVp6N7%2FKjLUtsu4K6ezUf%2FFpuQ%2FfNuLgXxrjXYsKKkEuAIHhIzbAw1ilKXVBqsydiB7gefqOvQOXJSGH7ft5PJjRG2teuhypDqtj6yVQB3hCsU9sO1BM7NU0B7Sk0S1qxaVpnw49jE%2BEUgEQJPncNsBJ7UbXAwMRSc46LNdS2aoNBYzeSNf8ieimtkcIh9gp3G%2BQSEwuo3XygY6pgHTxtTfkBIcQnlIyYkNo5Q3MRi0Bl92xZFDKcQWz8ica%2B8z1sv0gUnM1BcIlPcRaSUsqsbjOwcCLfo0z8OmhD5MlZhwIXjLMv77ZfGvOhoaIJN2wsDoajk7V67Rmlvt8WbNMCfYKIpJm2epIMByDdgWY4FGvQYEezooVQpSFc15eYUK%2FNRhuKC4iKc8yBynIVX5u2Ol9VHIzNcfGNT9EUyUEU2k1scb&X-Amz-Signature=4e088e2d39e52600557002eab9722fb75824a13053bcdde7118afccb83cf1056&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665WDZQZWU%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIG%2BsrGDrp08XkfEIsGrDi31n%2FYSWcaa%2FeCFqOt51wiAgAiB3ne%2BrPG5KVoMKXipVZPVYPdcv0TPBngsIjdVQ%2FgxayCqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3dLZmoGtgQrog8p6KtwDzjoQhqXfnA2LvqCWFv49SyJwDWlQSE9DE%2FuSny3MhOCp0EjwGiduPIacKWUobuyjWhCHRz8363oesBozd%2BKLC3adxj5z%2BDw1L0IF7%2F6r6UWz7%2FmHnRP8gxg9Qh58q8jGWIXpBGkw1gEwJbLq44Ef0gkZ8b9hgikf57d1sB0WiVxW8cmVNUKsWLkkIeoVtwRs7Kjf%2FlRVfvdixyOil2XYZa53VAoSEZRUQ08JBrfYUMtrMlIqXjF3IrpY9TIYh15RhUht5g5jy30z7Ts4CvIvrGeqKJVJzd%2FvbqH1gFFzmU7OL0zRRKTIC0GNdXaKYkNfdX1UqeWppAo7h1lonsA%2BvxFuM5xn424D1PJKobA8LcxFJniXvv89pSAczkQpu4PdlFmf7StUm6T%2BzF1KmwINxR3J6G61rC6PtrgN%2BjTW33qQGahkvfrqFBRuyIrVsn%2BoTY%2F%2FyFOuaKq6cME1%2Fhlk1MCgMQf5PKhL7DSALl5Wds435vNaAIrNFPzBkt8D0I3J1RaHWVpaWunEKuZg9u9ku1Mee5atwJUySrEdId6ReJukKtGk3LlmNiXKgcmdMyUDX7cv%2FWtykGwCkWFYLJY1CiUPbnAVdltj1Mw9kWELMpD3Bu%2BYfj%2FxLybe3QUwpv%2FWygY6pgFx4IiNBtB1myHnw35KBuO8RGXtqECX0OYx5eNy1%2FD6Bn9iPifcNyqUcBpLCljuqQatfeA2BG%2BHzFWsOUCU51tqO6YPUpgyotcPIyBCWEsn%2BjEwvFpacoP9aDIm5ACnJtDGtFWEjHj9ZIrIwABRe%2BykEMt0KK5%2Fvsclp8GV26lU7k1V1buB0QaggLddGhBFLwrZzylXMVXDPPA18GDeZUnb5kOULNQZ&X-Amz-Signature=b070f8053a6c3461e841d49a942c20e9ef7545a60062c796ea60336b380ac757&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4665WDZQZWU%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041957Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJGMEQCIG%2BsrGDrp08XkfEIsGrDi31n%2FYSWcaa%2FeCFqOt51wiAgAiB3ne%2BrPG5KVoMKXipVZPVYPdcv0TPBngsIjdVQ%2FgxayCqIBAja%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIM3dLZmoGtgQrog8p6KtwDzjoQhqXfnA2LvqCWFv49SyJwDWlQSE9DE%2FuSny3MhOCp0EjwGiduPIacKWUobuyjWhCHRz8363oesBozd%2BKLC3adxj5z%2BDw1L0IF7%2F6r6UWz7%2FmHnRP8gxg9Qh58q8jGWIXpBGkw1gEwJbLq44Ef0gkZ8b9hgikf57d1sB0WiVxW8cmVNUKsWLkkIeoVtwRs7Kjf%2FlRVfvdixyOil2XYZa53VAoSEZRUQ08JBrfYUMtrMlIqXjF3IrpY9TIYh15RhUht5g5jy30z7Ts4CvIvrGeqKJVJzd%2FvbqH1gFFzmU7OL0zRRKTIC0GNdXaKYkNfdX1UqeWppAo7h1lonsA%2BvxFuM5xn424D1PJKobA8LcxFJniXvv89pSAczkQpu4PdlFmf7StUm6T%2BzF1KmwINxR3J6G61rC6PtrgN%2BjTW33qQGahkvfrqFBRuyIrVsn%2BoTY%2F%2FyFOuaKq6cME1%2Fhlk1MCgMQf5PKhL7DSALl5Wds435vNaAIrNFPzBkt8D0I3J1RaHWVpaWunEKuZg9u9ku1Mee5atwJUySrEdId6ReJukKtGk3LlmNiXKgcmdMyUDX7cv%2FWtykGwCkWFYLJY1CiUPbnAVdltj1Mw9kWELMpD3Bu%2BYfj%2FxLybe3QUwpv%2FWygY6pgFx4IiNBtB1myHnw35KBuO8RGXtqECX0OYx5eNy1%2FD6Bn9iPifcNyqUcBpLCljuqQatfeA2BG%2BHzFWsOUCU51tqO6YPUpgyotcPIyBCWEsn%2BjEwvFpacoP9aDIm5ACnJtDGtFWEjHj9ZIrIwABRe%2BykEMt0KK5%2Fvsclp8GV26lU7k1V1buB0QaggLddGhBFLwrZzylXMVXDPPA18GDeZUnb5kOULNQZ&X-Amz-Signature=1b422c4e01cce6112fe3d1ddbf197beccb131151f7c43017ce4cdc39a7e73e0d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466WY37TVNX%2F20260101%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260101T041958Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBEaCXVzLXdlc3QtMiJHMEUCIQCfYpKfNXdrySDlc7dk4HOKqNxU3THbc%2BgzREzOPPREtwIgZUWPXZtBLVNXMcOrLLeAyEDp61EUO8HxJrsklASE8TsqiAQI2v%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDBijWB32kAE5EjJ4tyrcA4UVRmn48MXUthbKjooMJ9IVyueg%2Fx6hS3xCbgAN9nBB0%2FsqlDtSnJ2Moij5kkrLYO3yGoKz9apwYTWi7zO9WaxYCg5LCXScHo76KV%2BMapLonjJoQBAI7Yh%2FuBKJI%2FQKHv%2BA5T1P2DUMBsA1Rl8%2Fci6INTAnsjCeY2y5NuzgwR8FJIJru20Al31sFvbDAF4voupyAPUq7CfdYMvk8HX3zYpar%2Bz%2Bba1OYs%2F%2FGm%2FFvtfOGgRxqae4K9oPPPYNrpZjqFhPfyRUevHXjKjxHaJxeEh3UCFvO5JctneXC3hGIdFrFZbn8jWeva%2FaMfVJaGObFNtJr3qP5kKvVgHgKkxt2GDT9Xk8K4MSt1v%2BYUXz%2FqykLEWSMyoNN7aDAfxz6IfZZTnuzOmCtx6V8Fb2EPryS8taJorHIWyQ4GjLkJ9wBbN6AtABgoPudniyZMQmTsFgYxHVnE9StkQwEultw7p%2FJiu%2FHxGukEb%2FOnF9qo6y%2BQ06eb%2Ffp1MAY2UhTV%2FAj9c6wMXxCcogTASyxUrXhYAS9ze6Kldj3IEqtsib2l44bTnTTjhSaqSK1B3l8plQLRJUYZnT8zwIpcR9OIV%2BkJfF3BrQoxMbISPo3uvEZ1eZMRhe%2BR8fhks9YDpJmbLNMKuR18oGOqUBf0UuP%2Fw8e9D4KNs0pciJwY6ujf%2Fyv2m55yviHFkiBcDiR1w86soJiSJ7uPFLlsEvvTK3R1We8zEXdCB0CtL%2FSrNFaVcAKx%2FxbPfhvd5Fh3ASJZwIRpFqPGeNvM8GtoJqW42wYMsLfVrtNCMvdnm6d2IlvdAv8xfiwzux5fqaC2ZXHSxDXDcW%2FCQS0JqzuFJsZqDY4OpV6jywMToxPJMJqMlIFjpV&X-Amz-Signature=14daee070eade38dd118589ff1026a3cd35ca39492eaf6e388c43348018a11a6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
