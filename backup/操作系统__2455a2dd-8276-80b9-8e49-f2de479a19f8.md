
本笔记与b站《王道计算机考研 操作系统》视频架构一致，从1.2节开始


## 1.2操作系统发展

### 手工操作系统（串行处理，人工输入）


人➡️纸带机➡️计算机➡️打孔机➡️人


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/df4b108a-a253-471e-bae0-b7ea1a93b14e/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNDH42WR%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042031Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJGMEQCIGwBNhMN7a%2BDYA6XJcU1ZwehiGHN5BOTMsVUR9VbgCfKAiB%2BQXJLG5JM6%2B7QarxlDjIb3gDWdqeSTBA7KEUnBFZvGCr%2FAwgkEAAaDDYzNzQyMzE4MzgwNSIMtznn0jpGNaXQu1mFKtwDIPZnyVfvCd9kKriHehlPOLlfarljR%2FF%2B71Jjoyj8OOcQ83ubWI4TLYp0nwMKqyToUCrX3qBmkJPgtW6qR2%2BfuqD1GYv2OKeombT8WskyKnrvhsEQqv6gRs7DavHd3WBWLnsNZgIHnCGBg96ozqYK7YuiWYhH4w3gx4uHqqq0YcCR%2Bf0hqFqJtadwVuX5O0axYh2DgyLkNoEJ1k2JglAYtLXwB%2FENq5xUgtkKlA0SY%2FJJKwTbjho6ma3p3XVwRFWXy8HJ6vrT%2FAOU6NUWDvN%2Byw7aij4qEfJT8nPRLHWUMUrqVN5eWNLDb0KJ%2B9grPho6LsRPgdC0riUSLC8cxpx41pamKUR1tDkMQ3oXpQSLiLg0xnis%2BLWcYEE8L%2BpxcBPGhiOsubdW8Ac3DDwRiClQheos%2BgHr9uuRq5DEb7l1lS9K8DGiXjnqRFffWSruUpgyOXAW%2BOMRD20bm5nsnWbXp6nD6%2BgRdzLrJaX8%2BN5l9I5ccGs7RR3s9cZt%2FaEb6W9MuUsLtetqZHPQg%2BjoaShuBcgsefYTgfcm1blK4DEEkwIMw0pc9rDWZ%2BKMTvmmlrge0%2FhM1v2gtLpe9ceuqWQHIVzj6TkSFsLctWYeDdKP%2B71STZtBGFj6SLSScU0w0LDnygY6pgFBUnbYOqC08xyKZSJ1WH4gsPaE3kZPEk8SA1vH3yq%2FSlsC9sdCsDVMMrsx4o7ls%2FPArcGeuwwYPmialsO1XqUHFVWqvEy9%2Bpju8E0UD%2B9XcHNIdggfFBJEqZkOjCk%2F7t6guWiiKFLLgnmfoqncFPK%2Fz3VQ3UDNbh7pn2j03lzMfuRMqqr5KnkRcK53bFcltEpxa%2FnWGofi0tDvG2dMc4kG3aBmFmW3&X-Amz-Signature=5b3368d41990ca41e711b932c4982a8954765e83dd4e57ef4a180a97f8623e4e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


缺点：


人操作慢


从纸带到内存读取时间长（纸带机运行慢）


CPU长时间闲置


### 单道批处理系统（串行处理，磁带输入）


人（程序）➡️纸带机➡️磁带➡️计算机➡️另一个磁带


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/ad5e66ac-c1d0-43b0-9f59-f6d831b4ae08/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNDH42WR%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042031Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJGMEQCIGwBNhMN7a%2BDYA6XJcU1ZwehiGHN5BOTMsVUR9VbgCfKAiB%2BQXJLG5JM6%2B7QarxlDjIb3gDWdqeSTBA7KEUnBFZvGCr%2FAwgkEAAaDDYzNzQyMzE4MzgwNSIMtznn0jpGNaXQu1mFKtwDIPZnyVfvCd9kKriHehlPOLlfarljR%2FF%2B71Jjoyj8OOcQ83ubWI4TLYp0nwMKqyToUCrX3qBmkJPgtW6qR2%2BfuqD1GYv2OKeombT8WskyKnrvhsEQqv6gRs7DavHd3WBWLnsNZgIHnCGBg96ozqYK7YuiWYhH4w3gx4uHqqq0YcCR%2Bf0hqFqJtadwVuX5O0axYh2DgyLkNoEJ1k2JglAYtLXwB%2FENq5xUgtkKlA0SY%2FJJKwTbjho6ma3p3XVwRFWXy8HJ6vrT%2FAOU6NUWDvN%2Byw7aij4qEfJT8nPRLHWUMUrqVN5eWNLDb0KJ%2B9grPho6LsRPgdC0riUSLC8cxpx41pamKUR1tDkMQ3oXpQSLiLg0xnis%2BLWcYEE8L%2BpxcBPGhiOsubdW8Ac3DDwRiClQheos%2BgHr9uuRq5DEb7l1lS9K8DGiXjnqRFffWSruUpgyOXAW%2BOMRD20bm5nsnWbXp6nD6%2BgRdzLrJaX8%2BN5l9I5ccGs7RR3s9cZt%2FaEb6W9MuUsLtetqZHPQg%2BjoaShuBcgsefYTgfcm1blK4DEEkwIMw0pc9rDWZ%2BKMTvmmlrge0%2FhM1v2gtLpe9ceuqWQHIVzj6TkSFsLctWYeDdKP%2B71STZtBGFj6SLSScU0w0LDnygY6pgFBUnbYOqC08xyKZSJ1WH4gsPaE3kZPEk8SA1vH3yq%2FSlsC9sdCsDVMMrsx4o7ls%2FPArcGeuwwYPmialsO1XqUHFVWqvEy9%2Bpju8E0UD%2B9XcHNIdggfFBJEqZkOjCk%2F7t6guWiiKFLLgnmfoqncFPK%2Fz3VQ3UDNbh7pn2j03lzMfuRMqqr5KnkRcK53bFcltEpxa%2FnWGofi0tDvG2dMc4kG3aBmFmW3&X-Amz-Signature=731d88c05d50a6599813368fd538cd073428336d365f23c10c73d3ab9c55814c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：


先统一输入到磁带中，再由磁带分批输入计算机，提高了速度


缺点：


读取时不能计算CPU长时间闲置（IO时间长）


### 多道批处理系统（串行处理，处理的同时读取）


二维图更形象（默认输入输出不是同一个设备）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2c71af7a-4c54-43c9-bff4-f6bf410d38fb/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XNDH42WR%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042031Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJGMEQCIGwBNhMN7a%2BDYA6XJcU1ZwehiGHN5BOTMsVUR9VbgCfKAiB%2BQXJLG5JM6%2B7QarxlDjIb3gDWdqeSTBA7KEUnBFZvGCr%2FAwgkEAAaDDYzNzQyMzE4MzgwNSIMtznn0jpGNaXQu1mFKtwDIPZnyVfvCd9kKriHehlPOLlfarljR%2FF%2B71Jjoyj8OOcQ83ubWI4TLYp0nwMKqyToUCrX3qBmkJPgtW6qR2%2BfuqD1GYv2OKeombT8WskyKnrvhsEQqv6gRs7DavHd3WBWLnsNZgIHnCGBg96ozqYK7YuiWYhH4w3gx4uHqqq0YcCR%2Bf0hqFqJtadwVuX5O0axYh2DgyLkNoEJ1k2JglAYtLXwB%2FENq5xUgtkKlA0SY%2FJJKwTbjho6ma3p3XVwRFWXy8HJ6vrT%2FAOU6NUWDvN%2Byw7aij4qEfJT8nPRLHWUMUrqVN5eWNLDb0KJ%2B9grPho6LsRPgdC0riUSLC8cxpx41pamKUR1tDkMQ3oXpQSLiLg0xnis%2BLWcYEE8L%2BpxcBPGhiOsubdW8Ac3DDwRiClQheos%2BgHr9uuRq5DEb7l1lS9K8DGiXjnqRFffWSruUpgyOXAW%2BOMRD20bm5nsnWbXp6nD6%2BgRdzLrJaX8%2BN5l9I5ccGs7RR3s9cZt%2FaEb6W9MuUsLtetqZHPQg%2BjoaShuBcgsefYTgfcm1blK4DEEkwIMw0pc9rDWZ%2BKMTvmmlrge0%2FhM1v2gtLpe9ceuqWQHIVzj6TkSFsLctWYeDdKP%2B71STZtBGFj6SLSScU0w0LDnygY6pgFBUnbYOqC08xyKZSJ1WH4gsPaE3kZPEk8SA1vH3yq%2FSlsC9sdCsDVMMrsx4o7ls%2FPArcGeuwwYPmialsO1XqUHFVWqvEy9%2Bpju8E0UD%2B9XcHNIdggfFBJEqZkOjCk%2F7t6guWiiKFLLgnmfoqncFPK%2Fz3VQ3UDNbh7pn2j03lzMfuRMqqr5KnkRcK53bFcltEpxa%2FnWGofi0tDvG2dMc4kG3aBmFmW3&X-Amz-Signature=0ab9e208df7963344323e3b5fc008f76c7fa4d6636e98e7a57551ad0da8d1533&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优点：处理器利用率高


缺点：


看似并行操作，实际上处理器仍是串行处理，前面的程序卡住会阻塞后面的程序运行


### 分时操作系统（宏观并行）


各个程序轮流占用处理器若干时间，时间到没执行完就暂停，让别的程序运行


优点：


宏观上看是并行处理，一个程序卡住不会影响其他程序


缺点：


程序执行不分优先级，无法“优先处理”


### 实时操作系统（宏观并行，有优先级）


在分时操作系统的基础上加入了程序按优先级执行的功能


分硬实时（规定时间必须执行完）和软实时（规定时间不执行完也行）


## 1.3.1操作系统运行机制

### 内核程序与应用程序


操作系统不是所有部分都是由内核实现的


内核是操作系统核心，负责管理系统资源


### 特权指令与非特权指令


应用程序只能执行非特权指令


系统内核可以执行特权与非特权指令


### 内核态（管态）与用户态（目态）


CPU有两种状态：内核态，用户态


在内核态运行操作系统内核，可执行特权指令


在用户态运行应用程序，不能执行特权指令


ps：CPU的程序状态寄存器（psw），有一个二进制位，为1是内核态，为0是用户态


### 内核态与用户态切换


内核态→用户态：执行特权指令——修改psw寄存器


用户态→内核态：由中断触发


应用程序越权执行特权指令会触发中断，且该指令会被拒绝执行


## 1.3.2中断和异常

ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664IKDJNOC%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJGMEQCIBvpYQ4kI6fCF%2Fy1CF%2FWF37TOH5I5qYV78KboagRChwpAiBukDrS%2F3%2BFNZErXhTwnl18yfnRd9Jo9w7ydDeuEgEPjSr%2FAwgkEAAaDDYzNzQyMzE4MzgwNSIMbYwG4hbKjBPoQD34KtwD4Hyn6bb%2BMTRzRpXCUeDQavn4Cdstsxg9RWcP7yqvEIG5DXHCrtVy%2BT5oC3idukqbELTikw%2FvvxFcIuEH9ln75fOe6ze%2F1f8Z8uxFjC1XHL20HZ9nNMVMJL2g4SxSxAY95%2F3EhRdCJCkca5UhUmgb2mYaPxvh1%2BSBOyGNAFdq%2FylqgOsLN4UEdalfop5kcMywYf4TBPythZifb4f7oZYYTrlDRvkOJiZ%2BJnjBTJNvI3QMdXpir1RPd8ZX%2FzNSreMBN%2BYbyrbWnAj7UenSa9oPI1O%2F9G3AFZIK56Pr9ls%2BLGrwcGD1z8maiL6nFmh0KSG1UEvLKl1HPK0TCsKiiBrVKIZtGskd3c66obQEMhptH%2BI2o%2BsWoZChfLO64neWRwoSo%2F3911Ow%2FUgq4DQo851cziQ1hwY33SOZvptnP2AAeuNWUY8ThHdvtQpqnBzvmfy%2BciMVChWhRMaqNt9SN%2Bn0NMQIKNaASa8rQoqTTHixpoubUqIiwrsXmFE%2FN6II6%2FUI1TSx5oLWZ6WPdc2sVUW4YCIoXHNzjuXkp4DDZHaWVqsHnsEKmFsEtBOyaTHO8chlZGe%2FCXKZ608RBgJaTVjztoQkIOTruKCJz04%2BDgCvrobTDNPnzddwO16%2Be0Qw9Z%2FnygY6pgHiSt2CkogO9MTdsr%2BPjAH%2FZU06K11ldokV1qq1RSm1BL4PmWqqLbmn%2BRvHL%2FjkwGY0HeBXSNGKPdBmaabSSdCJ%2B0hvZyNnmINFBtNw3lk6eYtVlJ5z7OI%2FxpXqO01a0SvCbe7r07%2FmGr%2FrpO6uqjTJt0LU8VhbNMfvCndUuLGv0tG%2Ft36DBULGrdNESr91987%2Ffy1qmmT97a88xJ8bA55aH5ax6M%2Bi&X-Amz-Signature=a0f41d15c283edef63962ba6ac1a5589a9013b5bd0de59f5634acbd315b1723c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664IKDJNOC%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJGMEQCIBvpYQ4kI6fCF%2Fy1CF%2FWF37TOH5I5qYV78KboagRChwpAiBukDrS%2F3%2BFNZErXhTwnl18yfnRd9Jo9w7ydDeuEgEPjSr%2FAwgkEAAaDDYzNzQyMzE4MzgwNSIMbYwG4hbKjBPoQD34KtwD4Hyn6bb%2BMTRzRpXCUeDQavn4Cdstsxg9RWcP7yqvEIG5DXHCrtVy%2BT5oC3idukqbELTikw%2FvvxFcIuEH9ln75fOe6ze%2F1f8Z8uxFjC1XHL20HZ9nNMVMJL2g4SxSxAY95%2F3EhRdCJCkca5UhUmgb2mYaPxvh1%2BSBOyGNAFdq%2FylqgOsLN4UEdalfop5kcMywYf4TBPythZifb4f7oZYYTrlDRvkOJiZ%2BJnjBTJNvI3QMdXpir1RPd8ZX%2FzNSreMBN%2BYbyrbWnAj7UenSa9oPI1O%2F9G3AFZIK56Pr9ls%2BLGrwcGD1z8maiL6nFmh0KSG1UEvLKl1HPK0TCsKiiBrVKIZtGskd3c66obQEMhptH%2BI2o%2BsWoZChfLO64neWRwoSo%2F3911Ow%2FUgq4DQo851cziQ1hwY33SOZvptnP2AAeuNWUY8ThHdvtQpqnBzvmfy%2BciMVChWhRMaqNt9SN%2Bn0NMQIKNaASa8rQoqTTHixpoubUqIiwrsXmFE%2FN6II6%2FUI1TSx5oLWZ6WPdc2sVUW4YCIoXHNzjuXkp4DDZHaWVqsHnsEKmFsEtBOyaTHO8chlZGe%2FCXKZ608RBgJaTVjztoQkIOTruKCJz04%2BDgCvrobTDNPnzddwO16%2Be0Qw9Z%2FnygY6pgHiSt2CkogO9MTdsr%2BPjAH%2FZU06K11ldokV1qq1RSm1BL4PmWqqLbmn%2BRvHL%2FjkwGY0HeBXSNGKPdBmaabSSdCJ%2B0hvZyNnmINFBtNw3lk6eYtVlJ5z7OI%2FxpXqO01a0SvCbe7r07%2FmGr%2FrpO6uqjTJt0LU8VhbNMfvCndUuLGv0tG%2Ft36DBULGrdNESr91987%2Ffy1qmmT97a88xJ8bA55aH5ax6M%2Bi&X-Amz-Signature=9def867dbab9fe828c4b93118375d06e8d90c50ed2864166adecb2b68c1da5be&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664IKDJNOC%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042032Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJGMEQCIBvpYQ4kI6fCF%2Fy1CF%2FWF37TOH5I5qYV78KboagRChwpAiBukDrS%2F3%2BFNZErXhTwnl18yfnRd9Jo9w7ydDeuEgEPjSr%2FAwgkEAAaDDYzNzQyMzE4MzgwNSIMbYwG4hbKjBPoQD34KtwD4Hyn6bb%2BMTRzRpXCUeDQavn4Cdstsxg9RWcP7yqvEIG5DXHCrtVy%2BT5oC3idukqbELTikw%2FvvxFcIuEH9ln75fOe6ze%2F1f8Z8uxFjC1XHL20HZ9nNMVMJL2g4SxSxAY95%2F3EhRdCJCkca5UhUmgb2mYaPxvh1%2BSBOyGNAFdq%2FylqgOsLN4UEdalfop5kcMywYf4TBPythZifb4f7oZYYTrlDRvkOJiZ%2BJnjBTJNvI3QMdXpir1RPd8ZX%2FzNSreMBN%2BYbyrbWnAj7UenSa9oPI1O%2F9G3AFZIK56Pr9ls%2BLGrwcGD1z8maiL6nFmh0KSG1UEvLKl1HPK0TCsKiiBrVKIZtGskd3c66obQEMhptH%2BI2o%2BsWoZChfLO64neWRwoSo%2F3911Ow%2FUgq4DQo851cziQ1hwY33SOZvptnP2AAeuNWUY8ThHdvtQpqnBzvmfy%2BciMVChWhRMaqNt9SN%2Bn0NMQIKNaASa8rQoqTTHixpoubUqIiwrsXmFE%2FN6II6%2FUI1TSx5oLWZ6WPdc2sVUW4YCIoXHNzjuXkp4DDZHaWVqsHnsEKmFsEtBOyaTHO8chlZGe%2FCXKZ608RBgJaTVjztoQkIOTruKCJz04%2BDgCvrobTDNPnzddwO16%2Be0Qw9Z%2FnygY6pgHiSt2CkogO9MTdsr%2BPjAH%2FZU06K11ldokV1qq1RSm1BL4PmWqqLbmn%2BRvHL%2FjkwGY0HeBXSNGKPdBmaabSSdCJ%2B0hvZyNnmINFBtNw3lk6eYtVlJ5z7OI%2FxpXqO01a0SvCbe7r07%2FmGr%2FrpO6uqjTJt0LU8VhbNMfvCndUuLGv0tG%2Ft36DBULGrdNESr91987%2Ffy1qmmT97a88xJ8bA55aH5ax6M%2Bi&X-Amz-Signature=853d1b2a6983aad2afcb4cd9be4a84b856f2f6d7502a18b89c2ef8a937dd65f1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.3.3系统调用

系统调用是提供内核服务的接口


（要想执行特权指令需要使用系统调用，而非使用越权的指令）


### 系统调用与库函数的区别


一个程序可以用汇编直接使用系统调用


也可以使用库函数间接使用系统调用（库函数直接使用系统调用）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/a0f71c13-988a-4aca-bbc8-7fe8a14f2dfa/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JU5LBPK%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQDzEItDcjqWRGHdApCX%2BwlYDchpGhdjh5vn5g8sTfRo5QIgDRJiN3yrdjzbTL8DLE6EHh0tQnMAzy0fQrXrRemgWYAq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDHlefhqK9ab9ojmT3yrcA1QLvncNB1vAFkivbUVscP2IRD5b8IfIqyYQ2UhlB%2F%2FQuGTZ3Qgsnu4WY2IjhuPtrgz2erej8smKuxTuqwQi5fBjzs5oQJQulAi8XeDnD2Wod%2FPY9RFxGrSamnoCKZRJdlfKXPyjBXoD0%2BlYbV3U3qU%2BZx2pIVswkqCrC4vxWhiquvLfr%2FRmZ4fjftILZzI5UdSz4DIo3Bh9Q5ed8U5MeYdqrFYPACRfaaxi966iBbE9XUwrTl4fCS707crRBgodOkAYY51TjuAqcTgT3fLmJjwnu0ZwUFNQXTh6tNp1%2BtUgWqrCYAP%2FuBA1ptVTIlIKsaWUDbMCbU3ZrpVv%2FV%2FBXQKnkl1CYtRjlhTWwvysVIuYOq%2FDfp8jusEabkpkXHU4j3xKVyu9tFPqAUtkd73zoMxU%2Bbx%2FxHKwJF7C2yzB1paHP6MVl%2ByQCqlkyMYrpTt9AXPoF%2Bf1YbLD8qV%2F5AbMU7VQhvJ7tOgkiPtjsBC%2BYYa4%2F%2BcV8EA0A%2B8oNvQ4QUwIE6VKUv%2Fl2Zfk%2Bvjrz18Ne5piRX1Nnr9pFGKUL%2BlJq0EM19ICPZA6FOjkMRQ2gq5DtWMweNpRxHJgFAKvugoLEzOAuje9JKs7ggSxgHyMCefE9mUV4nDEUjj5MPYmMK%2Br58oGOqUB%2FdvFEcdLVQXebFPH122SL8%2B7JCt%2F0w0hoas1oVtK6tV%2FTyoIFwrAiiGvE4JfhfNZdQrl6h2HCKr8PkI2acY4zk0ABdwkIpT4p8u2346nrRZlFjyj8RuWqn6QG1oTRLsO4zG6JhldncF3xvPvpZS4ilvTpxyeOLHTTTQ%2BdyIgrQ2BykSpvvI2qKBLAq%2BdnRY1GcooiTZN%2FxuYwOoub3WrBvBb0B6v&X-Amz-Signature=631a049f32996ce0fed540659bf087d429667d9cce28e1b48e94eebaccfefac0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 为什么要系统调用


例：当多个进程同时使用一种设备资源（如摄像头）需要内核决定使用顺序，否则会出现争抢摄像头的情况


### 什么功能要系统调用


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5c6a2eff-5468-4340-8c3e-2646dc3700e6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JU5LBPK%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQDzEItDcjqWRGHdApCX%2BwlYDchpGhdjh5vn5g8sTfRo5QIgDRJiN3yrdjzbTL8DLE6EHh0tQnMAzy0fQrXrRemgWYAq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDHlefhqK9ab9ojmT3yrcA1QLvncNB1vAFkivbUVscP2IRD5b8IfIqyYQ2UhlB%2F%2FQuGTZ3Qgsnu4WY2IjhuPtrgz2erej8smKuxTuqwQi5fBjzs5oQJQulAi8XeDnD2Wod%2FPY9RFxGrSamnoCKZRJdlfKXPyjBXoD0%2BlYbV3U3qU%2BZx2pIVswkqCrC4vxWhiquvLfr%2FRmZ4fjftILZzI5UdSz4DIo3Bh9Q5ed8U5MeYdqrFYPACRfaaxi966iBbE9XUwrTl4fCS707crRBgodOkAYY51TjuAqcTgT3fLmJjwnu0ZwUFNQXTh6tNp1%2BtUgWqrCYAP%2FuBA1ptVTIlIKsaWUDbMCbU3ZrpVv%2FV%2FBXQKnkl1CYtRjlhTWwvysVIuYOq%2FDfp8jusEabkpkXHU4j3xKVyu9tFPqAUtkd73zoMxU%2Bbx%2FxHKwJF7C2yzB1paHP6MVl%2ByQCqlkyMYrpTt9AXPoF%2Bf1YbLD8qV%2F5AbMU7VQhvJ7tOgkiPtjsBC%2BYYa4%2F%2BcV8EA0A%2B8oNvQ4QUwIE6VKUv%2Fl2Zfk%2Bvjrz18Ne5piRX1Nnr9pFGKUL%2BlJq0EM19ICPZA6FOjkMRQ2gq5DtWMweNpRxHJgFAKvugoLEzOAuje9JKs7ggSxgHyMCefE9mUV4nDEUjj5MPYmMK%2Br58oGOqUB%2FdvFEcdLVQXebFPH122SL8%2B7JCt%2F0w0hoas1oVtK6tV%2FTyoIFwrAiiGvE4JfhfNZdQrl6h2HCKr8PkI2acY4zk0ABdwkIpT4p8u2346nrRZlFjyj8RuWqn6QG1oTRLsO4zG6JhldncF3xvPvpZS4ilvTpxyeOLHTTTQ%2BdyIgrQ2BykSpvvI2qKBLAq%2BdnRY1GcooiTZN%2FxuYwOoub3WrBvBb0B6v&X-Amz-Signature=62bcb9e5e0bfcf82442f8f77e4d34b9a881c946ddaa03436b4db92d56332e05a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 系统调用过程


传参指令……（用户态）→陷入指令（用户态）[引发中断]→中断处理程序（内核态）[选择相应的系统调用处理程序]→相应系统调用处理程序（由传入的参数决定）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/81119b28-7bd7-4ca6-85ed-8a132fcab89d/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JU5LBPK%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQDzEItDcjqWRGHdApCX%2BwlYDchpGhdjh5vn5g8sTfRo5QIgDRJiN3yrdjzbTL8DLE6EHh0tQnMAzy0fQrXrRemgWYAq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDHlefhqK9ab9ojmT3yrcA1QLvncNB1vAFkivbUVscP2IRD5b8IfIqyYQ2UhlB%2F%2FQuGTZ3Qgsnu4WY2IjhuPtrgz2erej8smKuxTuqwQi5fBjzs5oQJQulAi8XeDnD2Wod%2FPY9RFxGrSamnoCKZRJdlfKXPyjBXoD0%2BlYbV3U3qU%2BZx2pIVswkqCrC4vxWhiquvLfr%2FRmZ4fjftILZzI5UdSz4DIo3Bh9Q5ed8U5MeYdqrFYPACRfaaxi966iBbE9XUwrTl4fCS707crRBgodOkAYY51TjuAqcTgT3fLmJjwnu0ZwUFNQXTh6tNp1%2BtUgWqrCYAP%2FuBA1ptVTIlIKsaWUDbMCbU3ZrpVv%2FV%2FBXQKnkl1CYtRjlhTWwvysVIuYOq%2FDfp8jusEabkpkXHU4j3xKVyu9tFPqAUtkd73zoMxU%2Bbx%2FxHKwJF7C2yzB1paHP6MVl%2ByQCqlkyMYrpTt9AXPoF%2Bf1YbLD8qV%2F5AbMU7VQhvJ7tOgkiPtjsBC%2BYYa4%2F%2BcV8EA0A%2B8oNvQ4QUwIE6VKUv%2Fl2Zfk%2Bvjrz18Ne5piRX1Nnr9pFGKUL%2BlJq0EM19ICPZA6FOjkMRQ2gq5DtWMweNpRxHJgFAKvugoLEzOAuje9JKs7ggSxgHyMCefE9mUV4nDEUjj5MPYmMK%2Br58oGOqUB%2FdvFEcdLVQXebFPH122SL8%2B7JCt%2F0w0hoas1oVtK6tV%2FTyoIFwrAiiGvE4JfhfNZdQrl6h2HCKr8PkI2acY4zk0ABdwkIpT4p8u2346nrRZlFjyj8RuWqn6QG1oTRLsO4zG6JhldncF3xvPvpZS4ilvTpxyeOLHTTTQ%2BdyIgrQ2BykSpvvI2qKBLAq%2BdnRY1GcooiTZN%2FxuYwOoub3WrBvBb0B6v&X-Amz-Signature=9ac544ffc0ce48004212e295c10ef38d81a556b16cf7f4dc860c630ae1e79c54&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


ps：陷入指令=访管指令=trap指令


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d00274b7-ffbf-42d2-9255-534022d080b6/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664JU5LBPK%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQDzEItDcjqWRGHdApCX%2BwlYDchpGhdjh5vn5g8sTfRo5QIgDRJiN3yrdjzbTL8DLE6EHh0tQnMAzy0fQrXrRemgWYAq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDHlefhqK9ab9ojmT3yrcA1QLvncNB1vAFkivbUVscP2IRD5b8IfIqyYQ2UhlB%2F%2FQuGTZ3Qgsnu4WY2IjhuPtrgz2erej8smKuxTuqwQi5fBjzs5oQJQulAi8XeDnD2Wod%2FPY9RFxGrSamnoCKZRJdlfKXPyjBXoD0%2BlYbV3U3qU%2BZx2pIVswkqCrC4vxWhiquvLfr%2FRmZ4fjftILZzI5UdSz4DIo3Bh9Q5ed8U5MeYdqrFYPACRfaaxi966iBbE9XUwrTl4fCS707crRBgodOkAYY51TjuAqcTgT3fLmJjwnu0ZwUFNQXTh6tNp1%2BtUgWqrCYAP%2FuBA1ptVTIlIKsaWUDbMCbU3ZrpVv%2FV%2FBXQKnkl1CYtRjlhTWwvysVIuYOq%2FDfp8jusEabkpkXHU4j3xKVyu9tFPqAUtkd73zoMxU%2Bbx%2FxHKwJF7C2yzB1paHP6MVl%2ByQCqlkyMYrpTt9AXPoF%2Bf1YbLD8qV%2F5AbMU7VQhvJ7tOgkiPtjsBC%2BYYa4%2F%2BcV8EA0A%2B8oNvQ4QUwIE6VKUv%2Fl2Zfk%2Bvjrz18Ne5piRX1Nnr9pFGKUL%2BlJq0EM19ICPZA6FOjkMRQ2gq5DtWMweNpRxHJgFAKvugoLEzOAuje9JKs7ggSxgHyMCefE9mUV4nDEUjj5MPYmMK%2Br58oGOqUB%2FdvFEcdLVQXebFPH122SL8%2B7JCt%2F0w0hoas1oVtK6tV%2FTyoIFwrAiiGvE4JfhfNZdQrl6h2HCKr8PkI2acY4zk0ABdwkIpT4p8u2346nrRZlFjyj8RuWqn6QG1oTRLsO4zG6JhldncF3xvPvpZS4ilvTpxyeOLHTTTQ%2BdyIgrQ2BykSpvvI2qKBLAq%2BdnRY1GcooiTZN%2FxuYwOoub3WrBvBb0B6v&X-Amz-Signature=c138fa52130b9cd0279abeeb0ac5f26c1de018acab18bb120bd7c67bdb98073b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（上）

### 操作系统内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/5af4b62a-3032-4fa4-9ac8-402c0c860d26/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T7W6PMAI%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJIMEYCIQCuPg1JEQ7eAOu%2Bvjxj62VRZ%2FvAeZtqVp%2Bwh1Vdlieu5wIhAJcfUz6oBub9F6auQ5ro3eMqCGvT7z0LZFzSGNqm%2BS9%2BKv8DCCQQABoMNjM3NDIzMTgzODA1IgwEr2oI%2FOY%2B4tPXCMUq3ANOf643vmK9fUZyrf6gig4%2B%2B231xdCb1gMHSuVsduayVt8bfyqz4dt6sgPEVUFlWZY%2BuLXGSelmVnafNb7AYvHCqR%2B9dbRdNfgfpd%2FEKLNJ8di%2FPVmkxOfW2%2BNVn6pIBNS7dgfMRSirdP0OpNeFiTIPBKCiHNe0HsM80p7WSfKUNdWdfg%2BqOKQp92WASJHa02MFpLWpRUjNwFwyESWt%2ByNwDuyJM90alRHUDhBLmknUQLzpgZKY371ySgAcb%2FSR09tRqW3PJ%2Bd0yTHtv9B3sKsn%2BKMvKJxIW0Pi4DuQjyfh7jvfLqnDId83axiQpjd4n4tPCtAeyXi7iR8jBMQys5PubmvW%2Fs4mITIYuatpZxBqMhnFX8kVtn1q237kFB9uJaGwhvyYOeFqgL7J647j7EVGBHRGYrY5oug8St7CCQzmeDfKl8%2Fo5R8L5SXDrrCEuxKRuhlc32fVwYAsjWHsuT7I5vvPfPJqwxax9kDUQoko5obSppK%2BqRECusHK6UmdSrOiyum%2BAxfcdPd2x%2FbT69cqY33u%2BdjVqaDfXhQrYQDpG2ChX8dZKYOW70Vf6rAue5iF3%2B9cxotp2WKQ3uPEndN0OCCEhVcw4Il3akZC291p5%2FHtvBKQc1lAGPgZaTDxqOfKBjqkAYF1FEGrqWU1v7sBYTqzJHG7Ee70AoNMOJuoNrLK4Wj95BIkKZqEwAT8v5OC%2F60G7Gaih8xIOfZqLojau6uWXwA27JLLZArhc2W%2F%2BvwvdjHTL%2FXyadK2KTtLYkX%2Bscse%2FIqb6NxjBHXQYQlLaq4F4Gp8TPYoJHjVkq81V4Uejt6hVfqI%2FsKmawOJx6asmHQg0jG%2BuBfoOuKHFNjmrhJdfGmdxT4l&X-Amz-Signature=ccb5cb9acc0f14ed02a4f9a2fb1de3d209477d31abff1a50964c1d5cb60123e7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大小内核


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/92204201-c06a-41fa-87ef-1406d7cdc601/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T7W6PMAI%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJIMEYCIQCuPg1JEQ7eAOu%2Bvjxj62VRZ%2FvAeZtqVp%2Bwh1Vdlieu5wIhAJcfUz6oBub9F6auQ5ro3eMqCGvT7z0LZFzSGNqm%2BS9%2BKv8DCCQQABoMNjM3NDIzMTgzODA1IgwEr2oI%2FOY%2B4tPXCMUq3ANOf643vmK9fUZyrf6gig4%2B%2B231xdCb1gMHSuVsduayVt8bfyqz4dt6sgPEVUFlWZY%2BuLXGSelmVnafNb7AYvHCqR%2B9dbRdNfgfpd%2FEKLNJ8di%2FPVmkxOfW2%2BNVn6pIBNS7dgfMRSirdP0OpNeFiTIPBKCiHNe0HsM80p7WSfKUNdWdfg%2BqOKQp92WASJHa02MFpLWpRUjNwFwyESWt%2ByNwDuyJM90alRHUDhBLmknUQLzpgZKY371ySgAcb%2FSR09tRqW3PJ%2Bd0yTHtv9B3sKsn%2BKMvKJxIW0Pi4DuQjyfh7jvfLqnDId83axiQpjd4n4tPCtAeyXi7iR8jBMQys5PubmvW%2Fs4mITIYuatpZxBqMhnFX8kVtn1q237kFB9uJaGwhvyYOeFqgL7J647j7EVGBHRGYrY5oug8St7CCQzmeDfKl8%2Fo5R8L5SXDrrCEuxKRuhlc32fVwYAsjWHsuT7I5vvPfPJqwxax9kDUQoko5obSppK%2BqRECusHK6UmdSrOiyum%2BAxfcdPd2x%2FbT69cqY33u%2BdjVqaDfXhQrYQDpG2ChX8dZKYOW70Vf6rAue5iF3%2B9cxotp2WKQ3uPEndN0OCCEhVcw4Il3akZC291p5%2FHtvBKQc1lAGPgZaTDxqOfKBjqkAYF1FEGrqWU1v7sBYTqzJHG7Ee70AoNMOJuoNrLK4Wj95BIkKZqEwAT8v5OC%2F60G7Gaih8xIOfZqLojau6uWXwA27JLLZArhc2W%2F%2BvwvdjHTL%2FXyadK2KTtLYkX%2Bscse%2FIqb6NxjBHXQYQlLaq4F4Gp8TPYoJHjVkq81V4Uejt6hVfqI%2FsKmawOJx6asmHQg0jG%2BuBfoOuKHFNjmrhJdfGmdxT4l&X-Amz-Signature=973713b3e6ad87e336268d230417b512b5aaf11c19eefc3d0eb9218fff04d1ed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


大内核性能比微内核性能高（因为CPU切换状态次数少）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d73c5c82-d843-48a8-a319-a4753f3b270f/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T7W6PMAI%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJIMEYCIQCuPg1JEQ7eAOu%2Bvjxj62VRZ%2FvAeZtqVp%2Bwh1Vdlieu5wIhAJcfUz6oBub9F6auQ5ro3eMqCGvT7z0LZFzSGNqm%2BS9%2BKv8DCCQQABoMNjM3NDIzMTgzODA1IgwEr2oI%2FOY%2B4tPXCMUq3ANOf643vmK9fUZyrf6gig4%2B%2B231xdCb1gMHSuVsduayVt8bfyqz4dt6sgPEVUFlWZY%2BuLXGSelmVnafNb7AYvHCqR%2B9dbRdNfgfpd%2FEKLNJ8di%2FPVmkxOfW2%2BNVn6pIBNS7dgfMRSirdP0OpNeFiTIPBKCiHNe0HsM80p7WSfKUNdWdfg%2BqOKQp92WASJHa02MFpLWpRUjNwFwyESWt%2ByNwDuyJM90alRHUDhBLmknUQLzpgZKY371ySgAcb%2FSR09tRqW3PJ%2Bd0yTHtv9B3sKsn%2BKMvKJxIW0Pi4DuQjyfh7jvfLqnDId83axiQpjd4n4tPCtAeyXi7iR8jBMQys5PubmvW%2Fs4mITIYuatpZxBqMhnFX8kVtn1q237kFB9uJaGwhvyYOeFqgL7J647j7EVGBHRGYrY5oug8St7CCQzmeDfKl8%2Fo5R8L5SXDrrCEuxKRuhlc32fVwYAsjWHsuT7I5vvPfPJqwxax9kDUQoko5obSppK%2BqRECusHK6UmdSrOiyum%2BAxfcdPd2x%2FbT69cqY33u%2BdjVqaDfXhQrYQDpG2ChX8dZKYOW70Vf6rAue5iF3%2B9cxotp2WKQ3uPEndN0OCCEhVcw4Il3akZC291p5%2FHtvBKQc1lAGPgZaTDxqOfKBjqkAYF1FEGrqWU1v7sBYTqzJHG7Ee70AoNMOJuoNrLK4Wj95BIkKZqEwAT8v5OC%2F60G7Gaih8xIOfZqLojau6uWXwA27JLLZArhc2W%2F%2BvwvdjHTL%2FXyadK2KTtLYkX%2Bscse%2FIqb6NxjBHXQYQlLaq4F4Gp8TPYoJHjVkq81V4Uejt6hVfqI%2FsKmawOJx6asmHQg0jG%2BuBfoOuKHFNjmrhJdfGmdxT4l&X-Amz-Signature=900f73fb7befc9b53c9a467210662e3a8b19d2533d0fbe065b5901132dc57696&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/da88da23-06b0-49b1-975b-bc4be5bfcc35/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466T7W6PMAI%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042033Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJIMEYCIQCuPg1JEQ7eAOu%2Bvjxj62VRZ%2FvAeZtqVp%2Bwh1Vdlieu5wIhAJcfUz6oBub9F6auQ5ro3eMqCGvT7z0LZFzSGNqm%2BS9%2BKv8DCCQQABoMNjM3NDIzMTgzODA1IgwEr2oI%2FOY%2B4tPXCMUq3ANOf643vmK9fUZyrf6gig4%2B%2B231xdCb1gMHSuVsduayVt8bfyqz4dt6sgPEVUFlWZY%2BuLXGSelmVnafNb7AYvHCqR%2B9dbRdNfgfpd%2FEKLNJ8di%2FPVmkxOfW2%2BNVn6pIBNS7dgfMRSirdP0OpNeFiTIPBKCiHNe0HsM80p7WSfKUNdWdfg%2BqOKQp92WASJHa02MFpLWpRUjNwFwyESWt%2ByNwDuyJM90alRHUDhBLmknUQLzpgZKY371ySgAcb%2FSR09tRqW3PJ%2Bd0yTHtv9B3sKsn%2BKMvKJxIW0Pi4DuQjyfh7jvfLqnDId83axiQpjd4n4tPCtAeyXi7iR8jBMQys5PubmvW%2Fs4mITIYuatpZxBqMhnFX8kVtn1q237kFB9uJaGwhvyYOeFqgL7J647j7EVGBHRGYrY5oug8St7CCQzmeDfKl8%2Fo5R8L5SXDrrCEuxKRuhlc32fVwYAsjWHsuT7I5vvPfPJqwxax9kDUQoko5obSppK%2BqRECusHK6UmdSrOiyum%2BAxfcdPd2x%2FbT69cqY33u%2BdjVqaDfXhQrYQDpG2ChX8dZKYOW70Vf6rAue5iF3%2B9cxotp2WKQ3uPEndN0OCCEhVcw4Il3akZC291p5%2FHtvBKQc1lAGPgZaTDxqOfKBjqkAYF1FEGrqWU1v7sBYTqzJHG7Ee70AoNMOJuoNrLK4Wj95BIkKZqEwAT8v5OC%2F60G7Gaih8xIOfZqLojau6uWXwA27JLLZArhc2W%2F%2BvwvdjHTL%2FXyadK2KTtLYkX%2Bscse%2FIqb6NxjBHXQYQlLaq4F4Gp8TPYoJHjVkq81V4Uejt6hVfqI%2FsKmawOJx6asmHQg0jG%2BuBfoOuKHFNjmrhJdfGmdxT4l&X-Amz-Signature=2819376b10bd6123535ae8140b8efd434df614f0e349c4593ceadd9c41732e1c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.4操作系统体系结构（下）

### 分层结构（内核结构）


只能调用相邻层


只能上层调用下层


优：便于调试


缺：执行效率低


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/45974d42-95e2-4386-b150-fe7169a74a38/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KTNARCS%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042037Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIDc7uCGjHL%2B2ZuycBBudPYZ5nPSYBDXE5zO3F2JtNljFAiEAmBLPyDosAv4qNW0H8GLNizegyzhW6lnP9SVIy232rYQq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDG8TkoTtQbPU%2F7vtmCrcAzwZQU22mCmMYR6zCCef3fi8xd%2BcN8sSD7krZ8RNo5y4hu2jOS7sQI76au2EG7yHS1Hdvj7txDUC%2BVwm3bA18HFCz%2FZJ3RLi57gTeycNQOKdPcp6%2FTIkrnKOqAiZg0FSBqn161kxRXmVbQLrpV7Tx8RSn%2F6WfdMRgNoeeal9csiaGKff%2BRtmXx7RlsA3p0Ig4X0MUmiIs07FegKKSabqLEkGOJ8ehbOG%2FI8YvvmDrhy6GgyXejNDxXzByqBP2WSD1oPi9aQbCRgqMqQtt%2FXjeHb0aSiCZENKZExMe8NBGswar2tJfemKlFB%2FVvZnDIy3GZyC84ozRyvXEdkRNLDOql1OwgIGaCdMxeL%2Fb1ERrUJxIZeifhztu%2FbqMPoPkotKeGYZHDik62NRAv6A%2FLNhk%2Fabkurwq3ITTtXB0qApnxMBJNNbw74HasTkJLJtngJWCfhPvuviNhl5o2hdVfy4kSPEDhNOiW3USxsx%2F61gvvI7ozJJ8dNze2qG12SUa8BPguhJOcS0%2BUIeUm8DVHSsGoZKOqF7QEMOTUl9tWMiwX1YfCHueEZurMLT5tL6R%2BIqneLM2S6H4PO2hLdvC8W0ztOkhlpCI0cxwOegY8UMOEFDdVJ%2BGpltcEuDH%2Bz5MJKo58oGOqUBgg935rvDk1k3EtcKyN8iwWz%2BlWAtX4GzB1kDlTCIpjLPQL%2Fiw6EkyBHzvwDS6WhB%2FoiAprOjP87ECB1TgoOZAKYTyA9LIZMd1oRJRWb%2FjYxpmP3HsF%2BQ%2BLqF2zjYerbn%2FLmD9DIrXDF14NvtP2I5GXsKmhR4XJOBgBmc6jMs74yfkJ80dQ2AcA1YxuIGhEfSMIsweroa1KmZSYdaP6epMW64U6CC&X-Amz-Signature=15af25db1712000e64989c795b7c3f0f18c595b4c767337fe33d00878e604477&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 模块化结构（内核结构）


一个主模块（内核运行所需最小组件）+多个可加载模块


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/e1ad4ade-9f7b-42e0-9d5e-21c1247e3e00/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KTNARCS%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042037Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIDc7uCGjHL%2B2ZuycBBudPYZ5nPSYBDXE5zO3F2JtNljFAiEAmBLPyDosAv4qNW0H8GLNizegyzhW6lnP9SVIy232rYQq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDG8TkoTtQbPU%2F7vtmCrcAzwZQU22mCmMYR6zCCef3fi8xd%2BcN8sSD7krZ8RNo5y4hu2jOS7sQI76au2EG7yHS1Hdvj7txDUC%2BVwm3bA18HFCz%2FZJ3RLi57gTeycNQOKdPcp6%2FTIkrnKOqAiZg0FSBqn161kxRXmVbQLrpV7Tx8RSn%2F6WfdMRgNoeeal9csiaGKff%2BRtmXx7RlsA3p0Ig4X0MUmiIs07FegKKSabqLEkGOJ8ehbOG%2FI8YvvmDrhy6GgyXejNDxXzByqBP2WSD1oPi9aQbCRgqMqQtt%2FXjeHb0aSiCZENKZExMe8NBGswar2tJfemKlFB%2FVvZnDIy3GZyC84ozRyvXEdkRNLDOql1OwgIGaCdMxeL%2Fb1ERrUJxIZeifhztu%2FbqMPoPkotKeGYZHDik62NRAv6A%2FLNhk%2Fabkurwq3ITTtXB0qApnxMBJNNbw74HasTkJLJtngJWCfhPvuviNhl5o2hdVfy4kSPEDhNOiW3USxsx%2F61gvvI7ozJJ8dNze2qG12SUa8BPguhJOcS0%2BUIeUm8DVHSsGoZKOqF7QEMOTUl9tWMiwX1YfCHueEZurMLT5tL6R%2BIqneLM2S6H4PO2hLdvC8W0ztOkhlpCI0cxwOegY8UMOEFDdVJ%2BGpltcEuDH%2Bz5MJKo58oGOqUBgg935rvDk1k3EtcKyN8iwWz%2BlWAtX4GzB1kDlTCIpjLPQL%2Fiw6EkyBHzvwDS6WhB%2FoiAprOjP87ECB1TgoOZAKYTyA9LIZMd1oRJRWb%2FjYxpmP3HsF%2BQ%2BLqF2zjYerbn%2FLmD9DIrXDF14NvtP2I5GXsKmhR4XJOBgBmc6jMs74yfkJ80dQ2AcA1YxuIGhEfSMIsweroa1KmZSYdaP6epMW64U6CC&X-Amz-Signature=7fd2994f4299f41e2e3827d60792183c5533ebda0dcd9ffdb45a46b843d12833&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


优：


模块化易维护


支持动态加载模块到内核中


各模块可直接调用其他模块，效率高


缺：


模块相互调用难调试


### 外核（内核结构）


可以理解为双内核


一个是正常的内核


另一个“内核”是外核（只负责分配/回收/保护未经抽象的硬件资源）


这对于某些软件需要在物理内存上申请连续的块非常友好（机械硬盘可提升性能）


优：


减少了虚拟硬件资源带来的性能损耗


应用程序可以更灵活的使用硬件


缺：


系统复杂


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/376a880d-1ea7-4dae-aa1e-1193bf5e11f8/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664KTNARCS%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042038Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIDc7uCGjHL%2B2ZuycBBudPYZ5nPSYBDXE5zO3F2JtNljFAiEAmBLPyDosAv4qNW0H8GLNizegyzhW6lnP9SVIy232rYQq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDG8TkoTtQbPU%2F7vtmCrcAzwZQU22mCmMYR6zCCef3fi8xd%2BcN8sSD7krZ8RNo5y4hu2jOS7sQI76au2EG7yHS1Hdvj7txDUC%2BVwm3bA18HFCz%2FZJ3RLi57gTeycNQOKdPcp6%2FTIkrnKOqAiZg0FSBqn161kxRXmVbQLrpV7Tx8RSn%2F6WfdMRgNoeeal9csiaGKff%2BRtmXx7RlsA3p0Ig4X0MUmiIs07FegKKSabqLEkGOJ8ehbOG%2FI8YvvmDrhy6GgyXejNDxXzByqBP2WSD1oPi9aQbCRgqMqQtt%2FXjeHb0aSiCZENKZExMe8NBGswar2tJfemKlFB%2FVvZnDIy3GZyC84ozRyvXEdkRNLDOql1OwgIGaCdMxeL%2Fb1ERrUJxIZeifhztu%2FbqMPoPkotKeGYZHDik62NRAv6A%2FLNhk%2Fabkurwq3ITTtXB0qApnxMBJNNbw74HasTkJLJtngJWCfhPvuviNhl5o2hdVfy4kSPEDhNOiW3USxsx%2F61gvvI7ozJJ8dNze2qG12SUa8BPguhJOcS0%2BUIeUm8DVHSsGoZKOqF7QEMOTUl9tWMiwX1YfCHueEZurMLT5tL6R%2BIqneLM2S6H4PO2hLdvC8W0ztOkhlpCI0cxwOegY8UMOEFDdVJ%2BGpltcEuDH%2Bz5MJKo58oGOqUBgg935rvDk1k3EtcKyN8iwWz%2BlWAtX4GzB1kDlTCIpjLPQL%2Fiw6EkyBHzvwDS6WhB%2FoiAprOjP87ECB1TgoOZAKYTyA9LIZMd1oRJRWb%2FjYxpmP3HsF%2BQ%2BLqF2zjYerbn%2FLmD9DIrXDF14NvtP2I5GXsKmhR4XJOBgBmc6jMs74yfkJ80dQ2AcA1YxuIGhEfSMIsweroa1KmZSYdaP6epMW64U6CC&X-Amz-Signature=0e16b67a43bbb03cf6d898e2182b2a9cbd5d966ddbb016a9ae1307a9e956b5c0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


## 1.5操作系统引导

注意⚠️本节阐述的MBR+BIOS+Wondows的引导顺序GPT+UEFI/Linux/MacOS等，与这个过程不同


ps：


MBR翻译：主引导记录


GPT翻译：全局唯一标识符分区表


### 磁盘结构


ps：

1. 磁盘包含主引导记录和各分区
2. 主引导记录包含磁盘引导程序和分区表

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/baae4ed3-f07a-4964-8355-a640d8f50aee/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667GJDE2FW%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042038Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQDh0ykX1fWCR3MHZWNetutCvTLo5CuxZ7e6Csb3iRYPnwIgJq6mxNK1kcJzt1zj5uljNOnhfAB5skioTGRxI7Aoypoq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDG%2FHtUMViIiUxzxnQircA%2Bw7%2BVJFgz69JP73VJD4unYcCabxt4HFx2VVQDVUQYSgMA2HhIgyhhXvThtSb1Vcvos1b%2Btz0T9kqXeq9skSt6fkJI2R0SxrtWavG0XkJUZ%2B%2BvXW7C62JwIoir6gFgZY4n7Fd%2BxTioG9lVFuieEJFiHilyv9pn11Dc%2BraV9RnnmL3G4%2Fl5CpJwjP2DJXNBUW3bnu3VhLD2z2oId6J1LBmLZzWNyB8XxkcseYZl2W68%2FJp%2BaMqz%2FPUNRBEUWQyu7jCHxIu2CGbopE3YKE%2BJJyLDWTuOt0wwaQorsYVys6HQdfHoW%2FPT0JulAi2IOnR%2Fpxq76JlZzEfBTk2R8nw4QnYck%2BT1IoaHxMABXoepoGZYEYb%2FmAx8bzBxJ3NWRVQf%2Bfut4OU7QnAGdMex4TLZKoOfXrmAaE9F0%2F3yB8FDvJGTpEFw8c%2FeE47MSQX8XtMCNV6EKklQfwQo%2FTWQtLJHqC%2Ft3KFicyB8Yft%2FkNxvRWbqShFx4jOKt3t4veqCYyBYQQld49bMY1lsjy4f34xOaTpnzF4%2BivyXzVbgRel1hkgBRhaBRsvldyzbMRad6YqKt%2BVrPzCwuzR%2BpLHqduAm6eAJupMFzp5PzTG4lGNDL3UZy%2BVtRP7%2FHwQ6q3QqIgMNCw58oGOqUBMBamuAlHSvfeR9T%2Fm%2BC3s4cfebYC86vTn2dqT8%2F2Lr5uWL4kDbK0%2BC6Gf3OlQh5Hgj9O2%2Bt6bkFl%2Bi%2B0SoRVVo0PvCOPV%2FUO2dPov3oT%2FWNRPV37gFYO0IMjBt5zF4JdK90ImztUF97rb6LMe%2Fr9uFbi6K7KBnGuSxChRoHYvAikaxQwuN2x%2FuYvNVTHDHiTHs6mHzioWPda2w0G%2FzCgUieAYvGP&X-Amz-Signature=2dbd7f83168adeba3fd981608e19038f019e6c64254c8a56b110ffa1b6e9d421&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 开机过程


ps：

1. bios包含（BOOT）引导程序（全名叫ROM引导程序或叫自举程序）和（POST）自检程序
2. 根目录就是C盘打开的目录
3. BOOT（引导）是个宽泛概念，不同层级有不同的boot，他们不是一个东西，也不存储在同一位置

通电开机→BIOS执行硬件自检→BIOS执行BOOT程序（指示CPU将磁盘主引导记录读入内存）→主引导记录中的磁盘引导程序根据分区表寻找c盘→读取c盘中的引导记录至内存→引导记录找到启动管理器（启动管理器存放在根目录下）→运行启动管理器→启动管理器完成一系列启动工作


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/6c4046d9-9211-4562-b61f-416814b63597/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667GJDE2FW%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042038Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQDh0ykX1fWCR3MHZWNetutCvTLo5CuxZ7e6Csb3iRYPnwIgJq6mxNK1kcJzt1zj5uljNOnhfAB5skioTGRxI7Aoypoq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDG%2FHtUMViIiUxzxnQircA%2Bw7%2BVJFgz69JP73VJD4unYcCabxt4HFx2VVQDVUQYSgMA2HhIgyhhXvThtSb1Vcvos1b%2Btz0T9kqXeq9skSt6fkJI2R0SxrtWavG0XkJUZ%2B%2BvXW7C62JwIoir6gFgZY4n7Fd%2BxTioG9lVFuieEJFiHilyv9pn11Dc%2BraV9RnnmL3G4%2Fl5CpJwjP2DJXNBUW3bnu3VhLD2z2oId6J1LBmLZzWNyB8XxkcseYZl2W68%2FJp%2BaMqz%2FPUNRBEUWQyu7jCHxIu2CGbopE3YKE%2BJJyLDWTuOt0wwaQorsYVys6HQdfHoW%2FPT0JulAi2IOnR%2Fpxq76JlZzEfBTk2R8nw4QnYck%2BT1IoaHxMABXoepoGZYEYb%2FmAx8bzBxJ3NWRVQf%2Bfut4OU7QnAGdMex4TLZKoOfXrmAaE9F0%2F3yB8FDvJGTpEFw8c%2FeE47MSQX8XtMCNV6EKklQfwQo%2FTWQtLJHqC%2Ft3KFicyB8Yft%2FkNxvRWbqShFx4jOKt3t4veqCYyBYQQld49bMY1lsjy4f34xOaTpnzF4%2BivyXzVbgRel1hkgBRhaBRsvldyzbMRad6YqKt%2BVrPzCwuzR%2BpLHqduAm6eAJupMFzp5PzTG4lGNDL3UZy%2BVtRP7%2FHwQ6q3QqIgMNCw58oGOqUBMBamuAlHSvfeR9T%2Fm%2BC3s4cfebYC86vTn2dqT8%2F2Lr5uWL4kDbK0%2BC6Gf3OlQh5Hgj9O2%2Bt6bkFl%2Bi%2B0SoRVVo0PvCOPV%2FUO2dPov3oT%2FWNRPV37gFYO0IMjBt5zF4JdK90ImztUF97rb6LMe%2Fr9uFbi6K7KBnGuSxChRoHYvAikaxQwuN2x%2FuYvNVTHDHiTHs6mHzioWPda2w0G%2FzCgUieAYvGP&X-Amz-Signature=2087aba81aa9e05e2df23093957c622ca2861f2e4db47205fc070f4f87825488&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 各引导程序名称（BOOT）


存放于bios中的引导程序：ROM引导程序/自举程序


存放于磁盘主引导记录中的引导程序：磁盘引导程序


存放于磁盘C盘中的引导程序：bootMGR引导程序


存放于磁盘C盘根目录中的引导程序：启动管理器


## 1.6虚拟机

### 虚拟机有两类：


**第一类：**


**一个物理机上直接运行一个“虚拟机管理程序”，各系统运行在该程序上**


**（只有“虚拟机管理程序”运行在内核态）**


**第二类：**


**在宿主操作系统上安装一个“虚拟机管理程序”，在该程序上运行其他操作系统**


（虚拟机管理程序部分运行在内核态：安装一个驱动程序）


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/662ecee1-ae95-446b-ae4b-5fcbb3d4d716/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XCYQAC72%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042038Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQD3cZcXswbZ%2FTVGatB0H5r1%2BB%2BO4L%2F59OSmtOVQN1seaAIgPR9dmdbbzV1v53%2BDsvb83iUt0gdWMS%2BKRVM4kxY%2FgD4q%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDFuKCHCsVcU8TGJROircA97nzOZL0iiJEQNyeeLmKqcIzLphacFa72oVGYDJ8teiX%2FNNg4OBSYhEszy2MiXIJzYoyd1OdoZhD%2Fh%2BMm3%2FTtgRCHL2yVAvNLWc5TI1fQjeuOOUUuY5od8UVvnDZXjlamnv%2FazLyEu8jcjDG%2BSPl3iIOdN3pO7QcXa5AqXZ9xGP2KHkuxRO2yHvmAy%2FrqhwxW9ju3TxCn2AtQs%2F2kcGVTER5KpoT8ZucRmiPuo0XLkcFZ7ngORbaXH0KC%2FgqWDPOcK%2Fmrl9QSpVGX9wm%2FuJUE8rmcr8rPQxaLTj4N7WF7XEjYdzjA6McrYnqVVjVYKdZcQpqxSCAwkH6qATcCyXhXe78%2Ff586%2BL5SUHLqKAnf9PBM8MjdTQaObtB8IXLJYVbPdwnyaJc00u8zTCtAq5pJD2AxNx%2Fbd4Mr8NFbSHIIRkm7jRAsuiJMl1Ag7e1JiQ8rEQmns8u%2FAhEQ%2BjaDtJ7Xy6rPEvXUDEPoBCZwpb0RwHeyc69CxbXth4Ua2PkuyyfHVVRdiKD0de5Txy8sYzlxHs6rYR4a8YS6HRcVsDG6u%2F9M3AsjCYwhq6FDl8emiPdADdmQBFPg6CNPNktH7LeGD1CLsykENamZjqreVIe6N7N%2BrjXG%2BCvgh3c4%2FVMNOk58oGOqUBsM6C6%2F6GqzWGPGVjWjrgf32xOEKI0mAIbgA9yykYt1H1ya3Qy8HpoNa2zS72yAdTVrbQxHnWWJyGwNMI34WsPxgsOXbYGE41GSbZqYy%2BS6f2JB97QEQoJCMJTe4fDq1PzryInUzZ%2FbkvSLmEh4WEQDv5oIDWzVjkNMWCpeWw3Z%2FCDIdk%2BAn3rNscWUxn%2BSGgaQIsqqVnSn3riP8SVS00NRN4ebnA&X-Amz-Signature=6cfc4a774ff2a80bc7e97919f53812c11b27619024bed2ddcbbe5983b3f03e1e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


区别：


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/73a57682-56f9-469d-89b4-8d944e445750/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XCYQAC72%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042038Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQD3cZcXswbZ%2FTVGatB0H5r1%2BB%2BO4L%2F59OSmtOVQN1seaAIgPR9dmdbbzV1v53%2BDsvb83iUt0gdWMS%2BKRVM4kxY%2FgD4q%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDFuKCHCsVcU8TGJROircA97nzOZL0iiJEQNyeeLmKqcIzLphacFa72oVGYDJ8teiX%2FNNg4OBSYhEszy2MiXIJzYoyd1OdoZhD%2Fh%2BMm3%2FTtgRCHL2yVAvNLWc5TI1fQjeuOOUUuY5od8UVvnDZXjlamnv%2FazLyEu8jcjDG%2BSPl3iIOdN3pO7QcXa5AqXZ9xGP2KHkuxRO2yHvmAy%2FrqhwxW9ju3TxCn2AtQs%2F2kcGVTER5KpoT8ZucRmiPuo0XLkcFZ7ngORbaXH0KC%2FgqWDPOcK%2Fmrl9QSpVGX9wm%2FuJUE8rmcr8rPQxaLTj4N7WF7XEjYdzjA6McrYnqVVjVYKdZcQpqxSCAwkH6qATcCyXhXe78%2Ff586%2BL5SUHLqKAnf9PBM8MjdTQaObtB8IXLJYVbPdwnyaJc00u8zTCtAq5pJD2AxNx%2Fbd4Mr8NFbSHIIRkm7jRAsuiJMl1Ag7e1JiQ8rEQmns8u%2FAhEQ%2BjaDtJ7Xy6rPEvXUDEPoBCZwpb0RwHeyc69CxbXth4Ua2PkuyyfHVVRdiKD0de5Txy8sYzlxHs6rYR4a8YS6HRcVsDG6u%2F9M3AsjCYwhq6FDl8emiPdADdmQBFPg6CNPNktH7LeGD1CLsykENamZjqreVIe6N7N%2BrjXG%2BCvgh3c4%2FVMNOk58oGOqUBsM6C6%2F6GqzWGPGVjWjrgf32xOEKI0mAIbgA9yykYt1H1ya3Qy8HpoNa2zS72yAdTVrbQxHnWWJyGwNMI34WsPxgsOXbYGE41GSbZqYy%2BS6f2JB97QEQoJCMJTe4fDq1PzryInUzZ%2FbkvSLmEh4WEQDv5oIDWzVjkNMWCpeWw3Z%2FCDIdk%2BAn3rNscWUxn%2BSGgaQIsqqVnSn3riP8SVS00NRN4ebnA&X-Amz-Signature=7ffa42487508371ff9a46ffdcd920fd48d08396450d05f273d7e3b73fd63c7ec&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


解释：


GuestOS：虚拟机内安装的操作系统


HostOS：宿主操作系统


VMM：虚拟机管理程序


## 2.1.1+2.1.2进程概念，组成，特征

### 进程概念


程序：静态的可执行文件


进程：动态，程序的一次执行过程


### 进程组成

1. 进程控制块PCB

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cf892342-e744-4053-9532-b74fe502c435/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RBQXAZDV%2F20260104%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260104T042038Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEFsaCXVzLXdlc3QtMiJHMEUCIQCnJ75%2F%2FN0LbzLJCDhOIoM7UbQW0YtyHDoMEBFGNZ9qSgIgfDz0qexfI6t6vf0VDcUrlsL9%2F7VrRc%2FwrQtNW4g1iiwq%2FwMIJBAAGgw2Mzc0MjMxODM4MDUiDPNxkzZkkhxunOZVGircAxR9kkMfSL%2FrYDDGZnJ9Rpdh%2FInky4EErBDAU4%2FjKrFynIN%2B2Qb9SIuk9v3eJ%2F5yY7yqnJL46FuWTT9GP7u0R98ZIp8EgpT6KoXQfjmwHmbWgI2%2BjWYjCyOBnNjoHSjiZhiJVFiEthSmmmRJ2uynCDOEkHZL2jMU3AAsGMCGUytA08SPfevfrT7EeZBjWBapinDsL3705dSCqK%2FffwN6hEvn4IuJ9YVI5PtK704INXNTNhuMsBLRUJajymAE3DKmH4EOMHKCEXv%2FIaQEI74hCpwwvuzI4jT7zIbM4qO0K6AHnmB%2F0%2FIbD9Jup9G5XZLHnbH25M9cMZNHrxu3W4Tfsy%2BQ1Sr2r80U%2FICJ%2FdBXg4uEKMyc3QdEWypdwU6%2BvF04vTEMcu%2BIfdBFkW9VAFocN455n6rrsXjfyPj337nZKiTRspRA%2FXOMptUCzPplTyLRDXgIRezaA%2FO7hcWw2IA1hS9GAdoiZgWkpm3J1C%2BFsi1m23zkYYeUgHeeEbFRjTRAoGmCi%2F52iXdtbiZdwYXkCOK%2FvEzl%2F2vOpTFo97VCMZmwT50P%2FPQfP8tXoSQBlkXtaXrfoVL2meJfXesVZ7FjwfQpLPqtxnNMmljkkspA48GCYF4CJkAgfOC4WTPpMLWo58oGOqUBSbs2oB9mAyaOKlR4GhhRW%2FxMbcSvT2CKfnViTPJW4EphqbFj6pZXY57uG3vYdoauRRpqiaXTWAhU%2FlyJcH%2Bx8iWk%2FJMcMLdCElYyFznrftTMaMaTvxQoGUUdj5Azd6x%2FJBQeM5L6pkbH6BkY8C5Q65Iy2NgTjVMVaTrEUoPlQrPSsMsInQBYGiA%2FdRWjEs%2BTijjV7Aquv1KgXY8ap5ZKoH3Kl9eW&X-Amz-Signature=06b04ef555b607ab27af66011355d4458e97738880f4f782ac8af910209fe87a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 程序段
2. 数字段
