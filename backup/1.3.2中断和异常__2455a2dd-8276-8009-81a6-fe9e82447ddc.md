
ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XVTCIRNR%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD3bsEccZVkJqBrxwTn%2FMMWfKjIVR6WGUS0CKhyd7TigAIgGymumurN%2F1wmCx8NBg5brGdZbDMBLX1o7IiSFwiFUr8q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDO9OjrVCoBwpdJKSYSrcA8Ltqr5tOsVPp3eX0kBoNBSYtyrIpktYv4SK5TIgqFiKMHi9lSC6PPbhwXMHUfUPIyXqwcwSi6f7qk2jMZeZ6EuBLvKYkBYhk6ChD3NZ2tl1gU8qVPG8TUSW47HTwFa4%2B5DORkyr09KmIB1caCQcTM0qqiVBmBO73mjiEDQnApKRBQ4o7pws%2FtraWxCrF28sUjl2XdGQzrRmSIxA6ecV5Nx2CnFKxgCi5N7HFgLUAWKXLfWT0k2V%2F%2FiBMDSK9uXAq52wSwrdsx6VzWOiJnzD3qlpboR7Ivsi3GCeL0ePzmjjPgHZP3BeDJp9EdAeP7MSS1sy0PfLvK91w7fnjOhGxg7p1LzKkQasyBUBQ4VNeZFdxTUD4YZom9Nul4NRuettj72%2BukuxuXq3Hg3Ixi2UKTzb7NtEk9k3YNvi%2Fger9vGVDVxOXPkdb8HHPvKf4qG2lSKjslb32Zu05VEEl2R%2FhgKAB3WHgVb6bZOvibcixyC9K2kUcyGeakLu0QwdtmGurXA%2FWloplp%2BWAMDMeHNNw%2BpphIV4mkpYKEenADTIcBkzFJQq%2BH5OKEF5zEalH%2FjcoScs1SzGyC2B5E5YkZNBWUegCqgo51vcWRSLRwH61dIBH4lFpyS3zfc4OZt8MNr8q8sGOqUBtvBeC1S59QcoYWNwXwOyLBxVn0I2xrAsICKOkiCKlZp6cfVN8xIu1AHrKG5uybls3dI6OAlA5qVEgYpUcc4KkkoEd6ggee%2FxK3mrzrymwwh%2FTTcfEgXIUhGrs3jwMhX1IK%2BSHf0p%2BsSiehrBu7zN%2FJf2FYnEVdlXgj6YAhpjpemcmTeb%2BKX%2BNiXxMfiMl3eH4GkoYw0JeoXM6XpL52JT60DhwgUQ&X-Amz-Signature=7b024d62556bed60f2940ef61ec26242cb5e6cfa4c96077f03b8a1b5324bb82e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XVTCIRNR%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD3bsEccZVkJqBrxwTn%2FMMWfKjIVR6WGUS0CKhyd7TigAIgGymumurN%2F1wmCx8NBg5brGdZbDMBLX1o7IiSFwiFUr8q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDO9OjrVCoBwpdJKSYSrcA8Ltqr5tOsVPp3eX0kBoNBSYtyrIpktYv4SK5TIgqFiKMHi9lSC6PPbhwXMHUfUPIyXqwcwSi6f7qk2jMZeZ6EuBLvKYkBYhk6ChD3NZ2tl1gU8qVPG8TUSW47HTwFa4%2B5DORkyr09KmIB1caCQcTM0qqiVBmBO73mjiEDQnApKRBQ4o7pws%2FtraWxCrF28sUjl2XdGQzrRmSIxA6ecV5Nx2CnFKxgCi5N7HFgLUAWKXLfWT0k2V%2F%2FiBMDSK9uXAq52wSwrdsx6VzWOiJnzD3qlpboR7Ivsi3GCeL0ePzmjjPgHZP3BeDJp9EdAeP7MSS1sy0PfLvK91w7fnjOhGxg7p1LzKkQasyBUBQ4VNeZFdxTUD4YZom9Nul4NRuettj72%2BukuxuXq3Hg3Ixi2UKTzb7NtEk9k3YNvi%2Fger9vGVDVxOXPkdb8HHPvKf4qG2lSKjslb32Zu05VEEl2R%2FhgKAB3WHgVb6bZOvibcixyC9K2kUcyGeakLu0QwdtmGurXA%2FWloplp%2BWAMDMeHNNw%2BpphIV4mkpYKEenADTIcBkzFJQq%2BH5OKEF5zEalH%2FjcoScs1SzGyC2B5E5YkZNBWUegCqgo51vcWRSLRwH61dIBH4lFpyS3zfc4OZt8MNr8q8sGOqUBtvBeC1S59QcoYWNwXwOyLBxVn0I2xrAsICKOkiCKlZp6cfVN8xIu1AHrKG5uybls3dI6OAlA5qVEgYpUcc4KkkoEd6ggee%2FxK3mrzrymwwh%2FTTcfEgXIUhGrs3jwMhX1IK%2BSHf0p%2BsSiehrBu7zN%2FJf2FYnEVdlXgj6YAhpjpemcmTeb%2BKX%2BNiXxMfiMl3eH4GkoYw0JeoXM6XpL52JT60DhwgUQ&X-Amz-Signature=89572f6b725d39996ced2b4462529441e14f423d12500fdc32085bf0d703fc15&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466XVTCIRNR%2F20260117%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260117T040553Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQD3bsEccZVkJqBrxwTn%2FMMWfKjIVR6WGUS0CKhyd7TigAIgGymumurN%2F1wmCx8NBg5brGdZbDMBLX1o7IiSFwiFUr8q%2FwMIXBAAGgw2Mzc0MjMxODM4MDUiDO9OjrVCoBwpdJKSYSrcA8Ltqr5tOsVPp3eX0kBoNBSYtyrIpktYv4SK5TIgqFiKMHi9lSC6PPbhwXMHUfUPIyXqwcwSi6f7qk2jMZeZ6EuBLvKYkBYhk6ChD3NZ2tl1gU8qVPG8TUSW47HTwFa4%2B5DORkyr09KmIB1caCQcTM0qqiVBmBO73mjiEDQnApKRBQ4o7pws%2FtraWxCrF28sUjl2XdGQzrRmSIxA6ecV5Nx2CnFKxgCi5N7HFgLUAWKXLfWT0k2V%2F%2FiBMDSK9uXAq52wSwrdsx6VzWOiJnzD3qlpboR7Ivsi3GCeL0ePzmjjPgHZP3BeDJp9EdAeP7MSS1sy0PfLvK91w7fnjOhGxg7p1LzKkQasyBUBQ4VNeZFdxTUD4YZom9Nul4NRuettj72%2BukuxuXq3Hg3Ixi2UKTzb7NtEk9k3YNvi%2Fger9vGVDVxOXPkdb8HHPvKf4qG2lSKjslb32Zu05VEEl2R%2FhgKAB3WHgVb6bZOvibcixyC9K2kUcyGeakLu0QwdtmGurXA%2FWloplp%2BWAMDMeHNNw%2BpphIV4mkpYKEenADTIcBkzFJQq%2BH5OKEF5zEalH%2FjcoScs1SzGyC2B5E5YkZNBWUegCqgo51vcWRSLRwH61dIBH4lFpyS3zfc4OZt8MNr8q8sGOqUBtvBeC1S59QcoYWNwXwOyLBxVn0I2xrAsICKOkiCKlZp6cfVN8xIu1AHrKG5uybls3dI6OAlA5qVEgYpUcc4KkkoEd6ggee%2FxK3mrzrymwwh%2FTTcfEgXIUhGrs3jwMhX1IK%2BSHf0p%2BsSiehrBu7zN%2FJf2FYnEVdlXgj6YAhpjpemcmTeb%2BKX%2BNiXxMfiMl3eH4GkoYw0JeoXM6XpL52JT60DhwgUQ&X-Amz-Signature=876f99c88e04b829378f6909149c7a943857fc03ce9f2227cacc905b27f56b3e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

