
ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VE5XTRDC%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041429Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDz6%2BZR1chZ6Q9y2PV3KhA50L74XeNvopCa6r5cRfGW%2FAiAQyTFcByqd62%2BIM35r%2ByhGedOjCKVOm9mdtWAk2Mk7MSqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMxyHHeasMJ%2B5jdU7dKtwDYlWUBndN1NPqlKSDxoQMUJ4VSPYlK%2Bi1EYIYVnBJHcmWbB9AuY91ZzGw0dhoyyNYzv%2FquAGsGvfgiZzASjz9mAh8nOAK0xSBzVUGzEafSq2tJXXpyTDyfTzIWzZr04KNO5GEJhJnRpp3Ht3rToVdz05a9lUeq5k3Ee%2FE%2B0d%2BPKiHLy6JTtM7zAl6MuQ8KGCw5O2FNbVvqDSYk1M3Wkq5AFGavOTuJlJuLVBnb6i%2Bvqrfw7Au96UTPlVWvNnIWAPKUv%2BqFH4%2FOrPinHNAw3qYx4qnU78YXFpYtTkWLGLjB6jsKbzuoCyr69vear0NirvvaZWhmshemd273VohX5gvWmUcWp4GTMsNV30a2WOL7kt%2FzkyEsd8hGBP9B6O%2F2Tw9%2Fp93QKaDARlWN5maJcaBrItEjUdjB1nurSoVar%2Bi7RTVlnoI5%2FlQO6ZId62lXERLAFU%2FtRN56gVIrqTR21LO6TWAEbGovelUsWvnXjKuOGr8M2GDLOX3R4ZFkWhYTidswUSW5O5VagrIikAlBQGlpLTCSAyjfxNkKtNxEmwvT5MUrJLPuuQ4KKQ5D2suCu1tHKlvyTg4LpY%2FEJaNiXM8r0hCxpJkb1MAK6%2FDbhW83q%2FSsldGbjO8EJRHGwgwhoajygY6pgHBLlQWiXt6M7MozYaLXj0prg2PsAUcxXAhkHVJ%2FQo%2B7HIN7mvb%2FcwpL1RzrPrz0sUb04Kri4uFW3qd3Ov1Z4WcGO6%2BSO5SBxgfpr73hewJXyfYXcInvcmV3MSw1pMXrpnjsRycPzLeJtDSA%2BHp4K%2BbygwJYTsHPd8sP6%2B7l7bDuQAk3q3LF6SZDaRiuWZr%2BfRqrdEhoYYTZkZy58biaFQnYczL0RHM&X-Amz-Signature=81eb5a632d744af0604642404db18ea87c9480e8fbcc3670d7c9bcc3f7219783&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VE5XTRDC%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041429Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDz6%2BZR1chZ6Q9y2PV3KhA50L74XeNvopCa6r5cRfGW%2FAiAQyTFcByqd62%2BIM35r%2ByhGedOjCKVOm9mdtWAk2Mk7MSqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMxyHHeasMJ%2B5jdU7dKtwDYlWUBndN1NPqlKSDxoQMUJ4VSPYlK%2Bi1EYIYVnBJHcmWbB9AuY91ZzGw0dhoyyNYzv%2FquAGsGvfgiZzASjz9mAh8nOAK0xSBzVUGzEafSq2tJXXpyTDyfTzIWzZr04KNO5GEJhJnRpp3Ht3rToVdz05a9lUeq5k3Ee%2FE%2B0d%2BPKiHLy6JTtM7zAl6MuQ8KGCw5O2FNbVvqDSYk1M3Wkq5AFGavOTuJlJuLVBnb6i%2Bvqrfw7Au96UTPlVWvNnIWAPKUv%2BqFH4%2FOrPinHNAw3qYx4qnU78YXFpYtTkWLGLjB6jsKbzuoCyr69vear0NirvvaZWhmshemd273VohX5gvWmUcWp4GTMsNV30a2WOL7kt%2FzkyEsd8hGBP9B6O%2F2Tw9%2Fp93QKaDARlWN5maJcaBrItEjUdjB1nurSoVar%2Bi7RTVlnoI5%2FlQO6ZId62lXERLAFU%2FtRN56gVIrqTR21LO6TWAEbGovelUsWvnXjKuOGr8M2GDLOX3R4ZFkWhYTidswUSW5O5VagrIikAlBQGlpLTCSAyjfxNkKtNxEmwvT5MUrJLPuuQ4KKQ5D2suCu1tHKlvyTg4LpY%2FEJaNiXM8r0hCxpJkb1MAK6%2FDbhW83q%2FSsldGbjO8EJRHGwgwhoajygY6pgHBLlQWiXt6M7MozYaLXj0prg2PsAUcxXAhkHVJ%2FQo%2B7HIN7mvb%2FcwpL1RzrPrz0sUb04Kri4uFW3qd3Ov1Z4WcGO6%2BSO5SBxgfpr73hewJXyfYXcInvcmV3MSw1pMXrpnjsRycPzLeJtDSA%2BHp4K%2BbygwJYTsHPd8sP6%2B7l7bDuQAk3q3LF6SZDaRiuWZr%2BfRqrdEhoYYTZkZy58biaFQnYczL0RHM&X-Amz-Signature=69ec601c8b1a00356e71b576b386cc8348cc290cb689fe5dcb0f77f0b98a6d83&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VE5XTRDC%2F20251222%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251222T041429Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjECQaCXVzLXdlc3QtMiJGMEQCIDz6%2BZR1chZ6Q9y2PV3KhA50L74XeNvopCa6r5cRfGW%2FAiAQyTFcByqd62%2BIM35r%2ByhGedOjCKVOm9mdtWAk2Mk7MSqIBAjt%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAAaDDYzNzQyMzE4MzgwNSIMxyHHeasMJ%2B5jdU7dKtwDYlWUBndN1NPqlKSDxoQMUJ4VSPYlK%2Bi1EYIYVnBJHcmWbB9AuY91ZzGw0dhoyyNYzv%2FquAGsGvfgiZzASjz9mAh8nOAK0xSBzVUGzEafSq2tJXXpyTDyfTzIWzZr04KNO5GEJhJnRpp3Ht3rToVdz05a9lUeq5k3Ee%2FE%2B0d%2BPKiHLy6JTtM7zAl6MuQ8KGCw5O2FNbVvqDSYk1M3Wkq5AFGavOTuJlJuLVBnb6i%2Bvqrfw7Au96UTPlVWvNnIWAPKUv%2BqFH4%2FOrPinHNAw3qYx4qnU78YXFpYtTkWLGLjB6jsKbzuoCyr69vear0NirvvaZWhmshemd273VohX5gvWmUcWp4GTMsNV30a2WOL7kt%2FzkyEsd8hGBP9B6O%2F2Tw9%2Fp93QKaDARlWN5maJcaBrItEjUdjB1nurSoVar%2Bi7RTVlnoI5%2FlQO6ZId62lXERLAFU%2FtRN56gVIrqTR21LO6TWAEbGovelUsWvnXjKuOGr8M2GDLOX3R4ZFkWhYTidswUSW5O5VagrIikAlBQGlpLTCSAyjfxNkKtNxEmwvT5MUrJLPuuQ4KKQ5D2suCu1tHKlvyTg4LpY%2FEJaNiXM8r0hCxpJkb1MAK6%2FDbhW83q%2FSsldGbjO8EJRHGwgwhoajygY6pgHBLlQWiXt6M7MozYaLXj0prg2PsAUcxXAhkHVJ%2FQo%2B7HIN7mvb%2FcwpL1RzrPrz0sUb04Kri4uFW3qd3Ov1Z4WcGO6%2BSO5SBxgfpr73hewJXyfYXcInvcmV3MSw1pMXrpnjsRycPzLeJtDSA%2BHp4K%2BbygwJYTsHPd8sP6%2B7l7bDuQAk3q3LF6SZDaRiuWZr%2BfRqrdEhoYYTZkZy58biaFQnYczL0RHM&X-Amz-Signature=d9c133aab4b7cb82479901d24341b9d00d9f328b0d6bf2ba20864dc5bf26ba4e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

