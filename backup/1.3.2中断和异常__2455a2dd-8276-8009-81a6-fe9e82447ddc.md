
ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RFS65DWT%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035951Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIA1%2BVVfl0WjHbjcWjycfU0IJqIqEPGsGPoxVxkX%2BRUT7AiEAp1EU6Kig1pz2FBmAcxbS1QcOYb6%2FqAHvWQzPwlcrduEqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMJWHZ9cjsMimHPQhyrcA9W4RKmIbBQPc0fgO6S0iBo%2FYRNM%2FyCyHnKt5wqsZIxDdNgUc%2BY75cY%2F1Qe18JDPRpUK8QAwg9GtQPqnNpf8u%2ByzfUZs9VZycD0lZxmjf8FryMVxnsVqOOaj4HnJtPx5GLdup4rGHPe3x%2Fyo3%2FWgCKQpJZR4AY0QsmAberw4zQwUaiOceKnZtGjTs%2FSgPH49JUgLAfgtGlPJFyvY0NBEIBigYcRNfp1jNx0oj%2BNUwvEwCJcOwQmOP9t%2BJUkNlPpLOS1tBIfbi3mEn2AXr0nUIx3LRJYSkBr6KdbHTncQKGnpKTyrDV1tIwmVcd94yH9oII41FhlLG7m2Wji99m%2Fsj7tfTS6IU9XaobVo%2BLTVUYLjs6Ctqunehw9ZybzeJVOYmgZZa5siaXV0l8UXafGZ2LK3wttJNkSfVA3iuuR3jgnJ3JBbgvhm7enYtpxQL%2F1aecEfXyAr1Aq%2BJXVyLiO2pGxdfGQjR%2B5yiTJvt8VtTxJ49IHlQbTmBxj7Rm2Wj0jujAiiaj9JLdcpohNa5EA7YpX92UfwxBvDTx1kgObtSsnt3yEH4jhm%2F%2FtsPtUYKBkqp4ItB16rFIeatmWxH7TaX8AqqgvraQyiV1odT%2FOsCrNOVyyhW%2FEKikmGxZJxMMW23skGOqUB%2F1dZ6mU0x%2FqYEN%2BMz1aUaZltb5s15k%2FQWJDPCVGO9BbPEi5uFvSqqMWydZ8Dh2%2Fnhnuf4nHPEEb%2B2urr7LxX9chAArXfgJIO8bf5BqnCACZ2AvM2DjKi%2BVSJofhOYOApmN7xH8J29n2R80gDSku%2FBUfYaFCKm6LRm48FKuwgWTsx2qNgNolpW0Puq1tympOCn7GaKYN0ACclEHwVhSj0iiWRUZfW&X-Amz-Signature=fdf36faaa5dc2ad56d314c2794b179ae32b0ac6bb5cc31fe8e21e0cd87051c7d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RFS65DWT%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035951Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIA1%2BVVfl0WjHbjcWjycfU0IJqIqEPGsGPoxVxkX%2BRUT7AiEAp1EU6Kig1pz2FBmAcxbS1QcOYb6%2FqAHvWQzPwlcrduEqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMJWHZ9cjsMimHPQhyrcA9W4RKmIbBQPc0fgO6S0iBo%2FYRNM%2FyCyHnKt5wqsZIxDdNgUc%2BY75cY%2F1Qe18JDPRpUK8QAwg9GtQPqnNpf8u%2ByzfUZs9VZycD0lZxmjf8FryMVxnsVqOOaj4HnJtPx5GLdup4rGHPe3x%2Fyo3%2FWgCKQpJZR4AY0QsmAberw4zQwUaiOceKnZtGjTs%2FSgPH49JUgLAfgtGlPJFyvY0NBEIBigYcRNfp1jNx0oj%2BNUwvEwCJcOwQmOP9t%2BJUkNlPpLOS1tBIfbi3mEn2AXr0nUIx3LRJYSkBr6KdbHTncQKGnpKTyrDV1tIwmVcd94yH9oII41FhlLG7m2Wji99m%2Fsj7tfTS6IU9XaobVo%2BLTVUYLjs6Ctqunehw9ZybzeJVOYmgZZa5siaXV0l8UXafGZ2LK3wttJNkSfVA3iuuR3jgnJ3JBbgvhm7enYtpxQL%2F1aecEfXyAr1Aq%2BJXVyLiO2pGxdfGQjR%2B5yiTJvt8VtTxJ49IHlQbTmBxj7Rm2Wj0jujAiiaj9JLdcpohNa5EA7YpX92UfwxBvDTx1kgObtSsnt3yEH4jhm%2F%2FtsPtUYKBkqp4ItB16rFIeatmWxH7TaX8AqqgvraQyiV1odT%2FOsCrNOVyyhW%2FEKikmGxZJxMMW23skGOqUB%2F1dZ6mU0x%2FqYEN%2BMz1aUaZltb5s15k%2FQWJDPCVGO9BbPEi5uFvSqqMWydZ8Dh2%2Fnhnuf4nHPEEb%2B2urr7LxX9chAArXfgJIO8bf5BqnCACZ2AvM2DjKi%2BVSJofhOYOApmN7xH8J29n2R80gDSku%2FBUfYaFCKm6LRm48FKuwgWTsx2qNgNolpW0Puq1tympOCn7GaKYN0ACclEHwVhSj0iiWRUZfW&X-Amz-Signature=f21f0d9351a686ba36cc6faad670cab774f89421390f76b65fa30f24115dd205&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466RFS65DWT%2F20251209%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251209T035951Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIA1%2BVVfl0WjHbjcWjycfU0IJqIqEPGsGPoxVxkX%2BRUT7AiEAp1EU6Kig1pz2FBmAcxbS1QcOYb6%2FqAHvWQzPwlcrduEqiAQItf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDMJWHZ9cjsMimHPQhyrcA9W4RKmIbBQPc0fgO6S0iBo%2FYRNM%2FyCyHnKt5wqsZIxDdNgUc%2BY75cY%2F1Qe18JDPRpUK8QAwg9GtQPqnNpf8u%2ByzfUZs9VZycD0lZxmjf8FryMVxnsVqOOaj4HnJtPx5GLdup4rGHPe3x%2Fyo3%2FWgCKQpJZR4AY0QsmAberw4zQwUaiOceKnZtGjTs%2FSgPH49JUgLAfgtGlPJFyvY0NBEIBigYcRNfp1jNx0oj%2BNUwvEwCJcOwQmOP9t%2BJUkNlPpLOS1tBIfbi3mEn2AXr0nUIx3LRJYSkBr6KdbHTncQKGnpKTyrDV1tIwmVcd94yH9oII41FhlLG7m2Wji99m%2Fsj7tfTS6IU9XaobVo%2BLTVUYLjs6Ctqunehw9ZybzeJVOYmgZZa5siaXV0l8UXafGZ2LK3wttJNkSfVA3iuuR3jgnJ3JBbgvhm7enYtpxQL%2F1aecEfXyAr1Aq%2BJXVyLiO2pGxdfGQjR%2B5yiTJvt8VtTxJ49IHlQbTmBxj7Rm2Wj0jujAiiaj9JLdcpohNa5EA7YpX92UfwxBvDTx1kgObtSsnt3yEH4jhm%2F%2FtsPtUYKBkqp4ItB16rFIeatmWxH7TaX8AqqgvraQyiV1odT%2FOsCrNOVyyhW%2FEKikmGxZJxMMW23skGOqUB%2F1dZ6mU0x%2FqYEN%2BMz1aUaZltb5s15k%2FQWJDPCVGO9BbPEi5uFvSqqMWydZ8Dh2%2Fnhnuf4nHPEEb%2B2urr7LxX9chAArXfgJIO8bf5BqnCACZ2AvM2DjKi%2BVSJofhOYOApmN7xH8J29n2R80gDSku%2FBUfYaFCKm6LRm48FKuwgWTsx2qNgNolpW0Puq1tympOCn7GaKYN0ACclEHwVhSj0iiWRUZfW&X-Amz-Signature=598c195002301a570577b339929db4d5b4fda906830555adf519d6ff4176ef5c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

