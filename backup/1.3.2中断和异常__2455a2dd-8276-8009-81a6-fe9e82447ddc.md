
ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46666ZOA5GQ%2F20260201%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260201T051403Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDwVa7jq6WgAwh%2FulpS2Pe5srACBRxhCmgfxdHD%2BpEZuAIhAMLYaYPMLXCGH42PAfqjuJ8vcQuaE%2Bj%2BDwxe6v%2Bkx%2BCjKogECMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzV7hATj1m9vrvzzQgq3AOM%2Bz%2BQp9sBw5pZeElxqRx44prKCTRvI1k6l61TE8EJ7K0Tb2yyV2nSfyn4Dfgkb52sbTpV5Ucw0j2iJgFlL%2F0rNrOVeOMoBATEabEPb8P9yHEshXcAiFusfE819Ij%2FV4D1u3xHDuYcMuxrES%2FSDCpyp1VG8UzPLtFAkILx9FKqA1c9ueWG8CB6QQ5OPEyZP08jhlqvi9rSUzEZTiwMGa1b0U%2FU%2BL7VN8uy7BOD7Muehvm1oHiZ968sj%2FpVLeWgVHGPyAl3P211lbED%2FdI18F%2BgXr%2BDrXYkA6IX47pBS9mewEQKAY4SXt6BMlagLTOdkG8DNXHp7J11rV32DzvxcwLlw0MbsIdzUlE9yiqDmtamDtzl3URayPsd08Hihj1pTyE68EYGB9tBGUZbK%2BN7yOh%2FWPaqLeWT30xgIeRe6AfrHoMKZj4jsrKCICJkY4TI3cbTHtL57b4maANdUy3BU%2FC7P4iYQrMnDsL%2FexbCybmBYqf567oGPEGVrYcZBv27H7wtyCaw30jlP4Cbcrm%2BbmivdnadIDKOR%2BboVZKgpQmaK6U4RXfRS1HPP%2Fk%2Bx%2B3%2B3qcuKY%2BE7WyLZa%2BSZZ%2FUJK9IC4mcfOgQLtcZ5q7mf2%2FLeskfJk1hwF382DPkNDCHg%2FvLBjqkARk1v%2BkN665IbIAXS6pfY6uhrPy5mqJ6R6LQx5oWZRzUboraxhPHDzndus3BiX8kUyM1Z1I64IlYiIXVO9CKE3GOBp0F1bqXIlU2qjYtpELUo5tzdwO0c1wGwWoxUb8Old%2FAAWlfto3bJ0UoPUm4mHa5PuZe%2FYEgkf76XYEhNHCX0dGAcTUj%2Fl8D%2BRt8qrJB6HuVIWOcDreAeSi29dgu1wa0%2BMte&X-Amz-Signature=6ce790e3d0c38ab13bb1486d9e34eaa6c72cada71e8ee46f545216c6b43d021c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46666ZOA5GQ%2F20260201%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260201T051403Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDwVa7jq6WgAwh%2FulpS2Pe5srACBRxhCmgfxdHD%2BpEZuAIhAMLYaYPMLXCGH42PAfqjuJ8vcQuaE%2Bj%2BDwxe6v%2Bkx%2BCjKogECMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzV7hATj1m9vrvzzQgq3AOM%2Bz%2BQp9sBw5pZeElxqRx44prKCTRvI1k6l61TE8EJ7K0Tb2yyV2nSfyn4Dfgkb52sbTpV5Ucw0j2iJgFlL%2F0rNrOVeOMoBATEabEPb8P9yHEshXcAiFusfE819Ij%2FV4D1u3xHDuYcMuxrES%2FSDCpyp1VG8UzPLtFAkILx9FKqA1c9ueWG8CB6QQ5OPEyZP08jhlqvi9rSUzEZTiwMGa1b0U%2FU%2BL7VN8uy7BOD7Muehvm1oHiZ968sj%2FpVLeWgVHGPyAl3P211lbED%2FdI18F%2BgXr%2BDrXYkA6IX47pBS9mewEQKAY4SXt6BMlagLTOdkG8DNXHp7J11rV32DzvxcwLlw0MbsIdzUlE9yiqDmtamDtzl3URayPsd08Hihj1pTyE68EYGB9tBGUZbK%2BN7yOh%2FWPaqLeWT30xgIeRe6AfrHoMKZj4jsrKCICJkY4TI3cbTHtL57b4maANdUy3BU%2FC7P4iYQrMnDsL%2FexbCybmBYqf567oGPEGVrYcZBv27H7wtyCaw30jlP4Cbcrm%2BbmivdnadIDKOR%2BboVZKgpQmaK6U4RXfRS1HPP%2Fk%2Bx%2B3%2B3qcuKY%2BE7WyLZa%2BSZZ%2FUJK9IC4mcfOgQLtcZ5q7mf2%2FLeskfJk1hwF382DPkNDCHg%2FvLBjqkARk1v%2BkN665IbIAXS6pfY6uhrPy5mqJ6R6LQx5oWZRzUboraxhPHDzndus3BiX8kUyM1Z1I64IlYiIXVO9CKE3GOBp0F1bqXIlU2qjYtpELUo5tzdwO0c1wGwWoxUb8Old%2FAAWlfto3bJ0UoPUm4mHa5PuZe%2FYEgkf76XYEhNHCX0dGAcTUj%2Fl8D%2BRt8qrJB6HuVIWOcDreAeSi29dgu1wa0%2BMte&X-Amz-Signature=11a081b2354e68da99444965455a4d1a9298ff0644f086c935bf3cab8849a3a6&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46666ZOA5GQ%2F20260201%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260201T051403Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQDwVa7jq6WgAwh%2FulpS2Pe5srACBRxhCmgfxdHD%2BpEZuAIhAMLYaYPMLXCGH42PAfqjuJ8vcQuaE%2Bj%2BDwxe6v%2Bkx%2BCjKogECMT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQABoMNjM3NDIzMTgzODA1IgzV7hATj1m9vrvzzQgq3AOM%2Bz%2BQp9sBw5pZeElxqRx44prKCTRvI1k6l61TE8EJ7K0Tb2yyV2nSfyn4Dfgkb52sbTpV5Ucw0j2iJgFlL%2F0rNrOVeOMoBATEabEPb8P9yHEshXcAiFusfE819Ij%2FV4D1u3xHDuYcMuxrES%2FSDCpyp1VG8UzPLtFAkILx9FKqA1c9ueWG8CB6QQ5OPEyZP08jhlqvi9rSUzEZTiwMGa1b0U%2FU%2BL7VN8uy7BOD7Muehvm1oHiZ968sj%2FpVLeWgVHGPyAl3P211lbED%2FdI18F%2BgXr%2BDrXYkA6IX47pBS9mewEQKAY4SXt6BMlagLTOdkG8DNXHp7J11rV32DzvxcwLlw0MbsIdzUlE9yiqDmtamDtzl3URayPsd08Hihj1pTyE68EYGB9tBGUZbK%2BN7yOh%2FWPaqLeWT30xgIeRe6AfrHoMKZj4jsrKCICJkY4TI3cbTHtL57b4maANdUy3BU%2FC7P4iYQrMnDsL%2FexbCybmBYqf567oGPEGVrYcZBv27H7wtyCaw30jlP4Cbcrm%2BbmivdnadIDKOR%2BboVZKgpQmaK6U4RXfRS1HPP%2Fk%2Bx%2B3%2B3qcuKY%2BE7WyLZa%2BSZZ%2FUJK9IC4mcfOgQLtcZ5q7mf2%2FLeskfJk1hwF382DPkNDCHg%2FvLBjqkARk1v%2BkN665IbIAXS6pfY6uhrPy5mqJ6R6LQx5oWZRzUboraxhPHDzndus3BiX8kUyM1Z1I64IlYiIXVO9CKE3GOBp0F1bqXIlU2qjYtpELUo5tzdwO0c1wGwWoxUb8Old%2FAAWlfto3bJ0UoPUm4mHa5PuZe%2FYEgkf76XYEhNHCX0dGAcTUj%2Fl8D%2BRt8qrJB6HuVIWOcDreAeSi29dgu1wa0%2BMte&X-Amz-Signature=9bc0d95dffcfe85ea7e16caf0faaff70a460679534a450daa3b373be5c8f5456&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

