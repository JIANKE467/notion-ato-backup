
ps：中断只表示从用户态到内核态的过程


，不表示从内核态到用户态的过程


### 内中断与外中断


内中断：CPU内部的中断信号


外中断：CPU外部的中断信号


### 内中断例子（异常，例外）

1. 当前指令非法（越权执行，参数错误）会触发内中断
2. 执行陷入指令，将控制权换给内核（系统调用就是这么实现的）

ps：陷入指令不是特权指令


### 外中断例子（正常中断）

1. 时钟中断（外边时钟电路每隔一段时间就给CPU发送一个中断信号）
2. IO中断请求（如打印机打印完成后会发送一个中断信号，内核会进行相应处理）

![中断的分类](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/2baf5733-8455-4813-9016-7cf3c1db5ea2/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TSP4NJFI%2F20260131%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260131T044721Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCsnRfuJZgFOUGxUAypg1MDDKp7owKzE07uGappEMlo4gIgFvmTvNMz8obphozRyI%2BRsQbBj%2BQDq%2BT0aIpMhgZCM9UqiAQIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCJ%2Ft4sXU4XgnOr4NSrcA%2BszvbPMulWlpA9Zy3Ujomux6v5RBoHW2UdytalcxdLzfxPtjd%2FoCxh0nHLIm3oEpVCmZntVxrflQCqvbSQI6HCkNQiu%2B1E%2FYqxjs3SPFQHOm0IOJxg6FqqUS6g4OgYY9CnYfe0hhzIhmc1eBtpYWWoa0JGgZC8BwdokqTMHGokkLfoNZlNgCf47tuht%2BhTX2FAe8L4p8yuWlEpqrmIJEFntmkhz5MY%2Bb1kCII%2BRanTAtaO6QJuy%2BaH2cQHvdhD9oYPEAgOM%2Bc4OXZu%2F2yNTtPq7BNXRcyw1wYNk5jWYNDHHBBV82xmPxvBEyvNviq1JFLneelEVQHWmF0qMtJSAbTJ5zxVB%2Bm2%2Fc5nd7CHvQXeyTGr6N%2BmK5LpGwDWmcaJ9nSfdzohElhYIYspmuSB2ytoIJv%2FoEYbFwuzo18jFUPQT8rjaovNda9QpKj0H9pSjUqVjCk%2FWvRSBaUV%2BySwD5ME3qyloKWNvdJ7JAatr523yyPFlQG2fzjYs8T8sXDOWraEBMuCAQyyhMkdlcX%2B6To5gwzr3nZh2kodlyKKIuU%2Fq4Yqnbd6nCmev%2Bhon4dSlVDlAMaJBvY%2BLkba%2FUfH%2B3UA84Fq%2B91MWJ%2B55eFolZjQj%2FT9wgxEihocBYJLbMLeD9ssGOqUByehelLAm9P%2BKLNYp%2BYxlGCGUIdIX3LGJqdo7ixOxeX1lfkjW7qYY8KszKiC8cDDyCFqAreH42GEWilOPre0vMVCYJWu7x5OwwKa%2FtjhZZI%2BooMiiTumXG7PUq4INP6DngJKe4O4n59OPChUYl1mwKNpJYjDivmQ7JfPbYjimZnidkuqN3lvL%2BQe7COSJN5V4gqo8lTXibV4bEst7w%2FKKnqrzOQ6f&X-Amz-Signature=8c05688b8336af564494eecb847af8ff0171aa7fabc17c5700294fb8ffeb8b2c&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 中断机制的基本原理（中断后内核如何处理）


![中断原理](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/cd49423f-b49c-4154-8e17-7c59b9c467cf/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TSP4NJFI%2F20260131%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260131T044721Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCsnRfuJZgFOUGxUAypg1MDDKp7owKzE07uGappEMlo4gIgFvmTvNMz8obphozRyI%2BRsQbBj%2BQDq%2BT0aIpMhgZCM9UqiAQIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCJ%2Ft4sXU4XgnOr4NSrcA%2BszvbPMulWlpA9Zy3Ujomux6v5RBoHW2UdytalcxdLzfxPtjd%2FoCxh0nHLIm3oEpVCmZntVxrflQCqvbSQI6HCkNQiu%2B1E%2FYqxjs3SPFQHOm0IOJxg6FqqUS6g4OgYY9CnYfe0hhzIhmc1eBtpYWWoa0JGgZC8BwdokqTMHGokkLfoNZlNgCf47tuht%2BhTX2FAe8L4p8yuWlEpqrmIJEFntmkhz5MY%2Bb1kCII%2BRanTAtaO6QJuy%2BaH2cQHvdhD9oYPEAgOM%2Bc4OXZu%2F2yNTtPq7BNXRcyw1wYNk5jWYNDHHBBV82xmPxvBEyvNviq1JFLneelEVQHWmF0qMtJSAbTJ5zxVB%2Bm2%2Fc5nd7CHvQXeyTGr6N%2BmK5LpGwDWmcaJ9nSfdzohElhYIYspmuSB2ytoIJv%2FoEYbFwuzo18jFUPQT8rjaovNda9QpKj0H9pSjUqVjCk%2FWvRSBaUV%2BySwD5ME3qyloKWNvdJ7JAatr523yyPFlQG2fzjYs8T8sXDOWraEBMuCAQyyhMkdlcX%2B6To5gwzr3nZh2kodlyKKIuU%2Fq4Yqnbd6nCmev%2Bhon4dSlVDlAMaJBvY%2BLkba%2FUfH%2B3UA84Fq%2B91MWJ%2B55eFolZjQj%2FT9wgxEihocBYJLbMLeD9ssGOqUByehelLAm9P%2BKLNYp%2BYxlGCGUIdIX3LGJqdo7ixOxeX1lfkjW7qYY8KszKiC8cDDyCFqAreH42GEWilOPre0vMVCYJWu7x5OwwKa%2FtjhZZI%2BooMiiTumXG7PUq4INP6DngJKe4O4n59OPChUYl1mwKNpJYjDivmQ7JfPbYjimZnidkuqN3lvL%2BQe7COSJN5V4gqo8lTXibV4bEst7w%2FKKnqrzOQ6f&X-Amz-Signature=7960940b9bd3f3bb44726517f66c8af562d49a2c36f3240cb9f3cb255a9e91fd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### 总结


![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/51145155-d0f0-4bb1-85cf-344e4c2400e0/d6328e79-9073-479e-89f2-96a958b74c96/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466TSP4NJFI%2F20260131%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20260131T044721Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEOT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQCsnRfuJZgFOUGxUAypg1MDDKp7owKzE07uGappEMlo4gIgFvmTvNMz8obphozRyI%2BRsQbBj%2BQDq%2BT0aIpMhgZCM9UqiAQIrf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDCJ%2Ft4sXU4XgnOr4NSrcA%2BszvbPMulWlpA9Zy3Ujomux6v5RBoHW2UdytalcxdLzfxPtjd%2FoCxh0nHLIm3oEpVCmZntVxrflQCqvbSQI6HCkNQiu%2B1E%2FYqxjs3SPFQHOm0IOJxg6FqqUS6g4OgYY9CnYfe0hhzIhmc1eBtpYWWoa0JGgZC8BwdokqTMHGokkLfoNZlNgCf47tuht%2BhTX2FAe8L4p8yuWlEpqrmIJEFntmkhz5MY%2Bb1kCII%2BRanTAtaO6QJuy%2BaH2cQHvdhD9oYPEAgOM%2Bc4OXZu%2F2yNTtPq7BNXRcyw1wYNk5jWYNDHHBBV82xmPxvBEyvNviq1JFLneelEVQHWmF0qMtJSAbTJ5zxVB%2Bm2%2Fc5nd7CHvQXeyTGr6N%2BmK5LpGwDWmcaJ9nSfdzohElhYIYspmuSB2ytoIJv%2FoEYbFwuzo18jFUPQT8rjaovNda9QpKj0H9pSjUqVjCk%2FWvRSBaUV%2BySwD5ME3qyloKWNvdJ7JAatr523yyPFlQG2fzjYs8T8sXDOWraEBMuCAQyyhMkdlcX%2B6To5gwzr3nZh2kodlyKKIuU%2Fq4Yqnbd6nCmev%2Bhon4dSlVDlAMaJBvY%2BLkba%2FUfH%2B3UA84Fq%2B91MWJ%2B55eFolZjQj%2FT9wgxEihocBYJLbMLeD9ssGOqUByehelLAm9P%2BKLNYp%2BYxlGCGUIdIX3LGJqdo7ixOxeX1lfkjW7qYY8KszKiC8cDDyCFqAreH42GEWilOPre0vMVCYJWu7x5OwwKa%2FtjhZZI%2BooMiiTumXG7PUq4INP6DngJKe4O4n59OPChUYl1mwKNpJYjDivmQ7JfPbYjimZnidkuqN3lvL%2BQe7COSJN5V4gqo8lTXibV4bEst7w%2FKKnqrzOQ6f&X-Amz-Signature=5de720f6c9cf8168ef25be25c0a86c41fbd90054ba5879863d24eb0b0a7df4f9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

